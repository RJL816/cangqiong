"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunknocode_designer"] = self["webpackChunknocode_designer"] || []).push([[816],{

/***/ 45816:
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NoCodeDesigner: function() { return /* reexport safe */ _src__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; }\n/* harmony export */ });\n/* harmony import */ var _src_style_index_less__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/style/index.less */ 25240);\n/* harmony import */ var _src__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src */ 90236);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDU4MTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9pbmRleC5qcz80MWY1Il0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgJy4vc3JjL3N0eWxlL2luZGV4Lmxlc3MnXHJcblxyXG5leHBvcnQgeyBkZWZhdWx0IGFzIE5vQ29kZURlc2lnbmVyIH0gZnJvbSAnLi9zcmMnXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///45816\n");

/***/ }),

/***/ 58324:
/*!*********************************!*\
  !*** ./src/adaptor/constant.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Action: function() { return /* binding */ Action; },\n/* harmony export */   BaseType: function() { return /* binding */ BaseType; },\n/* harmony export */   Categories: function() { return /* binding */ Categories; },\n/* harmony export */   Controls: function() { return /* binding */ Controls; },\n/* harmony export */   DataScope: function() { return /* binding */ DataScope; },\n/* harmony export */   Editor: function() { return /* binding */ Editor; },\n/* harmony export */   ElementTypes: function() { return /* binding */ ElementTypes; },\n/* harmony export */   Enum: function() { return /* binding */ Enum; },\n/* harmony export */   Id: function() { return /* binding */ Id; },\n/* harmony export */   MaxLength: function() { return /* binding */ MaxLength; },\n/* harmony export */   Name: function() { return /* binding */ Name; },\n/* harmony export */   PackageName: function() { return /* binding */ PackageName; },\n/* harmony export */   Properties: function() { return /* binding */ Properties; },\n/* harmony export */   PropertyName: function() { return /* binding */ PropertyName; },\n/* harmony export */   TYPE: function() { return /* binding */ TYPE; },\n/* harmony export */   _TYPE_: function() { return /* binding */ _TYPE_; },\n/* harmony export */   action: function() { return /* binding */ action; },\n/* harmony export */   condition: function() { return /* binding */ condition; },\n/* harmony export */   iconCoolPrefix: function() { return /* binding */ iconCoolPrefix; },\n/* harmony export */   items: function() { return /* binding */ items; },\n/* harmony export */   length: function() { return /* binding */ length; },\n/* harmony export */   name: function() { return /* binding */ name; },\n/* harmony export */   scope: function() { return /* binding */ scope; },\n/* harmony export */   type: function() { return /* binding */ type; }\n/* harmony export */ });\n/*\r\n * @Author: fjr\r\n * @Email: jinrui_fang@kingdee.com\r\n * @Date: 2021-09-16 15:56:46\r\n * @Last Modified by: fjr\r\n * @LastEditTime: 2021-09-17 10:34:26\r\n * @Description: ...\r\n */\n\nvar _TYPE_ = '_Type_';\nvar TYPE = 'Type';\nvar Categories = 'Categories';\nvar Id = 'Id';\nvar Name = 'Name';\nvar ElementTypes = 'ElementTypes';\nvar BaseType = 'BaseType';\nvar PackageName = 'PackageName';\nvar Properties = 'Properties';\nvar Action = 'Action';\nvar items = 'items';\nvar condition = 'condition';\nvar action = 'action';\nvar Editor = 'Editor';\nvar type = 'type';\nvar Controls = 'Controls';\nvar PropertyName = 'PropertyName';\nvar name = 'name';\nvar length = 'length';\nvar scope = 'scope';\nvar MaxLength = 'MaxLength';\nvar DataScope = 'DataScope';\nvar Enum = 'Enum';\nvar iconCoolPrefix = 'designericon designericon-';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTgzMjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvYWRhcHRvci9jb25zdGFudC50cz84OTQwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIEBBdXRob3I6IGZqclxyXG4gKiBARW1haWw6IGppbnJ1aV9mYW5nQGtpbmdkZWUuY29tXHJcbiAqIEBEYXRlOiAyMDIxLTA5LTE2IDE1OjU2OjQ2XHJcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBmanJcclxuICogQExhc3RFZGl0VGltZTogMjAyMS0wOS0xNyAxMDozNDoyNlxyXG4gKiBARGVzY3JpcHRpb246IC4uLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBjb25zdCBfVFlQRV8gPSAnX1R5cGVfJ1xyXG5leHBvcnQgY29uc3QgVFlQRSA9ICdUeXBlJ1xyXG5leHBvcnQgY29uc3QgQ2F0ZWdvcmllcyA9ICdDYXRlZ29yaWVzJ1xyXG5leHBvcnQgY29uc3QgSWQgPSAnSWQnXHJcbmV4cG9ydCBjb25zdCBOYW1lID0gJ05hbWUnXHJcbmV4cG9ydCBjb25zdCBFbGVtZW50VHlwZXMgPSAnRWxlbWVudFR5cGVzJ1xyXG5leHBvcnQgY29uc3QgQmFzZVR5cGUgPSAnQmFzZVR5cGUnXHJcbmV4cG9ydCBjb25zdCBQYWNrYWdlTmFtZSA9ICdQYWNrYWdlTmFtZSdcclxuZXhwb3J0IGNvbnN0IFByb3BlcnRpZXMgPSAnUHJvcGVydGllcydcclxuZXhwb3J0IGNvbnN0IEFjdGlvbiA9ICdBY3Rpb24nXHJcbmV4cG9ydCBjb25zdCBpdGVtcyA9ICdpdGVtcydcclxuZXhwb3J0IGNvbnN0IGNvbmRpdGlvbiA9ICdjb25kaXRpb24nXHJcbmV4cG9ydCBjb25zdCBhY3Rpb24gPSAnYWN0aW9uJ1xyXG5leHBvcnQgY29uc3QgRWRpdG9yID0gJ0VkaXRvcidcclxuZXhwb3J0IGNvbnN0IHR5cGUgPSAndHlwZSdcclxuZXhwb3J0IGNvbnN0IENvbnRyb2xzID0gJ0NvbnRyb2xzJ1xyXG5leHBvcnQgY29uc3QgUHJvcGVydHlOYW1lID0gJ1Byb3BlcnR5TmFtZSdcclxuZXhwb3J0IGNvbnN0IG5hbWUgPSAnbmFtZSdcclxuZXhwb3J0IGNvbnN0IGxlbmd0aCA9ICdsZW5ndGgnXHJcbmV4cG9ydCBjb25zdCBzY29wZSA9ICdzY29wZSdcclxuZXhwb3J0IGNvbnN0IE1heExlbmd0aCA9ICdNYXhMZW5ndGgnXHJcbmV4cG9ydCBjb25zdCBEYXRhU2NvcGUgPSAnRGF0YVNjb3BlJ1xyXG5leHBvcnQgY29uc3QgRW51bSA9ICdFbnVtJ1xyXG5leHBvcnQgY29uc3QgaWNvbkNvb2xQcmVmaXggPSAnZGVzaWduZXJpY29uIGRlc2lnbmVyaWNvbi0nXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///58324\n");

/***/ }),

/***/ 80564:
/*!******************************!*\
  !*** ./src/adaptor/index.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adaptorMeta: function() { return /* binding */ adaptorMeta; },\n/* harmony export */   adaptorObjectByTransformKeyMap: function() { return /* reexport safe */ designer_base_Main__WEBPACK_IMPORTED_MODULE_15__.adaptorObjectByTransformKeyMap; },\n/* harmony export */   createPropertyGroups: function() { return /* reexport safe */ designer_base_Main__WEBPACK_IMPORTED_MODULE_15__.createPropertyGroups; },\n/* harmony export */   getSortedByRelation: function() { return /* binding */ getSortedByRelation; },\n/* harmony export */   mergeTransformKeyMap: function() { return /* reexport safe */ designer_base_Main__WEBPACK_IMPORTED_MODULE_15__.mergeTransformKeyMap; },\n/* harmony export */   transformData: function() { return /* binding */ transformData; },\n/* harmony export */   transformKeyMap: function() { return /* reexport safe */ designer_base_Main__WEBPACK_IMPORTED_MODULE_15__.transformKeyMap; },\n/* harmony export */   updateDataRef: function() { return /* binding */ updateDataRef; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_reflect_has__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/reflect/has */ 22796);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_reflect_has__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_reflect_has__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/map */ 52892);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/entries */ 82581);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/values */ 72400);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./constant */ 58324);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../constants/index */ 98092);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../utils/control */ 3700);\n/* harmony import */ var _utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../utils/refBillEditorUtils */ 82048);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../utils */ 41232);\n/* harmony import */ var kd_libs_immer__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! kd_libs/immer */ 59480);\n/* harmony import */ var kd_libs_immer__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(kd_libs_immer__WEBPACK_IMPORTED_MODULE_23__);\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_6___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar adaptorMeta = function adaptorMeta(originMeta, data) {\n  return (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_15__.adaptorMeta)(originMeta, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_15__.mergeTransformKeyMap)(designer_base_Main__WEBPACK_IMPORTED_MODULE_15__.transformKeyMap, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, _constant__WEBPACK_IMPORTED_MODULE_16__.items, [_constant__WEBPACK_IMPORTED_MODULE_16__.Enum])), data);\n};\nvar dataKeysMap = {\n  BizappId: 'bizappId',\n  Name: 'name',\n  Id: 'id',\n  appNum: 'formId',\n  Key: 'key',\n  EntityId: 'rootEntityId'\n};\nvar mergeDiffProp = function mergeDiffProp(target, source) {\n  _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_6___default()(source).forEach(function (propName) {\n    if (!_babel_runtime_corejs3_core_js_stable_reflect_has__WEBPACK_IMPORTED_MODULE_8___default()(target, propName)) {\n      (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(target, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, propName, source[propName]));\n    }\n  });\n};\nvar transformNewGroupContainer = function transformNewGroupContainer(data) {\n  return (0,kd_libs_immer__WEBPACK_IMPORTED_MODULE_23__.produce)(data, function (draft) {\n    draft.forEach(function (item) {\n      if ((0,_utils__WEBPACK_IMPORTED_MODULE_22__.isOldGroupContainerControl)(item)) {\n        item.GroupParentId = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_15__.createUUid)();\n        item.GroupIndex = 0;\n        _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(draft).call(draft, function (subItem) {\n          return subItem.ParentId === item.Id && (0,_utils__WEBPACK_IMPORTED_MODULE_22__.isOldSubGroupContainerControl)(subItem);\n        }).forEach(function (subItem, index) {\n          subItem.GroupParentId = item.GroupParentId;\n          subItem.GroupIndex = index + 1;\n          subItem.ParentId = item.ParentId;\n        });\n      }\n    });\n  });\n};\n\n/**\n *\n * @param originalData 后端发过来的原始数据\n * @returns 设计器内部的data\n * 主要思路：\n * 1.formmeta里的每个item，判断有无实体，有实体则创建个EntityData的属性，将实体数据放置进去\n * 2.将实体属性merge进formmeta的具体item中（方便实体属性的读取、action的触发）\n */\nvar transformData = function transformData(originalData) {\n  var tableMetas = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var cloneData = (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__.cloneDeep)(originalData);\n  var formmeta = cloneData.formmeta,\n    entitymeta = cloneData.entitymeta;\n  var adaptedData = {};\n  var hideField = {}; // 隐藏元素\n  var rootId = formmeta.Items[0].Id; // 根节点\n  var containerId = [rootId]; // 当前表单容器ID\n  var refTableFields = new (_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_9___default())(); // 外部表格ID集合\n  var entityMap = {}; // 实体数据转成MAP\n  var foreignCtrlMeta = _babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_10___default()(tableMetas).reduce(function (result, item) {\n    return _objectSpread(_objectSpread({}, result), (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_21__.getFormCtrlMetas)(item));\n  }, {});\n  _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_6___default()(formmeta).forEach(function (item) {\n    formmeta[item] && dataKeysMap[item] && (adaptedData[dataKeysMap[item]] = formmeta[item]);\n  });\n\n  // 当前单据体或关联表单表格ID\n  var entryControlIds = formmeta.Items.reduce(function (result, formItem) {\n    var _context;\n    var _ref = formItem || {},\n      ctrlType = _ref._Type_,\n      ctrlId = _ref.Id,\n      FieldType = _ref.FieldType;\n    // 容器比对的是带ap的字符串\n    if ((0,_utils__WEBPACK_IMPORTED_MODULE_22__.isGroupContainer)(ctrlType)) containerId.push(ctrlId);\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_20__.isEntryEntity)(FieldType) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_20__.isRefBillTable)(FieldType)) return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context = []).call(_context, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(result), [ctrlId]);\n    return result;\n  }, []);\n\n  // 当前隐藏表格ID,\n  var hideTableId = entitymeta.Items.reduce(function (result, item) {\n    var _ref2 = item || {},\n      ctrlType = _ref2._Type_,\n      ctrlId = _ref2.Id,\n      SourceForm = _ref2.SourceForm,\n      ParentId = _ref2.ParentId;\n    var pId = ParentId || rootId;\n    // 转成MAP以便查询\n    entityMap[ctrlId] = item;\n    // 添加外部表格ID\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_20__.isRefBillTable)(ctrlType) && SourceForm === '2') refTableFields.set(ctrlId, item);\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_20__.isRefBillTable)(ctrlType) && (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_21__.isHiddenRefField)(item) && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default()(containerId).call(containerId, pId)) {\n      var _context2;\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context2 = []).call(_context2, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(result), [item.Id]);\n    }\n    return result;\n  }, []);\n  adaptedData[_constants_propnames__WEBPACK_IMPORTED_MODULE_17__.ITEMS] = transformNewGroupContainer(formmeta.Items.reduce(function (prev, item) {\n    var formItem = _objectSpread({}, item);\n    if (!(formItem !== null && formItem !== void 0 && formItem.ParentId)) {\n      var _context3;\n      // 没有parentId则是根节点\n      var rootEntity = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_13___default()(_context3 = entitymeta.Items).call(_context3, function (entity) {\n        return (entity === null || entity === void 0 ? void 0 : entity.Id) === formItem.Id;\n      });\n      if (rootEntity) {\n        formItem.EntityData = rootEntity;\n        mergeDiffProp(formItem, rootEntity);\n      }\n    } else {\n      var _FieldId = formItem.FieldId || formItem.EntryId || formItem.CardEntryId;\n      // const entityItem = entitymeta.Items.find((entity: any) => entity?.Id === _FieldId)\n      // 提升性能,使用MAP数据\n      var entityItem = entityMap === null || entityMap === void 0 ? void 0 : entityMap[_FieldId];\n      if (entityItem) {\n        formItem.EntityData = entityItem;\n        formItem.ApType = formItem._Type_;\n        formItem._Type_ = entityItem._Type_;\n        formItem.FieldType = entityItem._Type_;\n        mergeDiffProp(formItem, entityItem);\n      }\n    }\n    var ParentId = formItem.ParentId,\n      fieldKey = formItem.Key,\n      EntityData = formItem.EntityData;\n\n    // 先统一清理下_isEntryField_这个标识\n    if (formItem._isEntryField_) {\n      delete formItem._isEntryField_;\n    }\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default()(entryControlIds).call(entryControlIds, ParentId)) {\n      // 单据体的字段打上这么一个标识\n      formItem._isEntryField_ = true;\n    }\n\n    // 过滤掉隐藏控件或父节点是隐藏控件的控件\n    // const parentTableField = tables[formItem.ParentId]\n    var pId = formItem.ParentId || rootId;\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default()(containerId).call(containerId, pId) && (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_21__.isHiddenRefField)(formItem) || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default()(hideTableId).call(hideTableId, pId)) {\n      hideField[formItem.Id] = formItem;\n      return prev;\n    }\n\n    // 如果父节点是外部表格，则需要用OPEN回来的新数据替换旧数据\n    if (refTableFields.has(ParentId)) {\n      // 必须使用KEY，使用ID时，系统字段每次创建时会不一样，需要修复系统字段添加逻辑\n      var foreignKey = fieldKey.toLowerCase().replace(\"_\".concat(ParentId.toLowerCase()), '') + '_' + refTableFields.get(ParentId).BillEntityIdEx;\n      var foreignCtrl = foreignCtrlMeta[foreignKey];\n      if (foreignCtrl) {\n        var _context4;\n        var retained = [{}, {}]; // formmeta/entitymeta里的保留值,这些属性不同步原单数据\n        _constants__WEBPACK_IMPORTED_MODULE_18__.CONTROL_RETAIND_PROPS.forEach(function (propsName) {\n          if (formItem[propsName]) retained[0][propsName] = formItem[propsName];\n          if (EntityData[propsName]) retained[1][propsName] = EntityData[propsName];\n        });\n        var newField = (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_21__.createTableControl)(foreignCtrl, ParentId, retained);\n        // 08.20，下面方法有误属性值为默认值时，没有这个属性，若外部修改了这个默认属性将无法同步\n        // // 更新form属性,同步到cloneData, formItem会合并entity里的一些属性, 将会新增属性, 需要过滤掉这些属性\n        // Object.keys(formItem).forEach((prop:string) => {\n        //   if (item[prop] && newField?.[prop] && formItem[prop] !== newField[prop]) {\n        //     item[prop] = newField[prop]\n        //   }\n        // })\n        // // 更新entity属性,同步到cloneData\n        // Object.keys(EntityData).forEach((prop:string) => {\n        //   if (entityMap?.[newField.Id]?.[prop] && EntityData[prop] !== newField.EntityData[prop]) {\n        //     entityMap[newField.Id][prop] = newField?.EntityData?.[prop]\n        //   }\n        // })\n        // 更新form属性，使用newField数据\n        item = _objectSpread({}, newField);\n        delete item.EntityData;\n        entityMap[newField.Id] = newField.EntityData;\n\n        // console.log('adaptedData', newField)\n        return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context4 = []).call(_context4, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(prev), [newField]);\n      } else {\n        var _context5, _context6;\n        // 判断原单是否删除了当前控件，同步到cloneData\n        entitymeta[_constants_propnames__WEBPACK_IMPORTED_MODULE_17__.ITEMS] = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(_context5 = entitymeta[_constants_propnames__WEBPACK_IMPORTED_MODULE_17__.ITEMS]).call(_context5, function (item) {\n          return item.Id !== formItem.Id;\n        });\n        formmeta[_constants_propnames__WEBPACK_IMPORTED_MODULE_17__.ITEMS] = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(_context6 = formmeta[_constants_propnames__WEBPACK_IMPORTED_MODULE_17__.ITEMS]).call(_context6, function (item) {\n          return item.Id !== formItem.Id;\n        });\n        return prev;\n      }\n    } else {\n      var _context7;\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context7 = []).call(_context7, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(prev), [formItem]);\n    }\n  }, []));\n  // 同步合并后的meta数据，entitymeta数据可不用关注排序\n  entitymeta.Items = _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_14___default()(entityMap);\n  console.log('adaptedData', adaptedData, hideField);\n  return [adaptedData, hideField, cloneData];\n};\nvar mergeControlProps = function mergeControlProps(formItem, metaApi) {\n  var _context8, _context9;\n  var _ref3 = formItem || {},\n    ctrlRealType = _ref3._Type_,\n    _ref3$EntityData = _ref3.EntityData,\n    EntityData = _ref3$EntityData === void 0 ? {} : _ref3$EntityData,\n    ApType = _ref3.ApType;\n  var newFormItem = _objectSpread({}, formItem);\n  if (ApType) {\n    /**\n       * ApType在preAddHandle里预处理了，如果存在，需要在onData时把_Type_赋值为ApType\n       */\n    newFormItem._Type_ = ApType;\n  }\n  // 删除之前合并进去的实体属性\n  var deleteProps = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context8 = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(_context9 = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_6___default()(EntityData)).call(_context9, function (propName) {\n    var propMeta = metaApi.getControlMetaProperty(ctrlRealType, propName);\n    var propertyTag = propMeta.Tag;\n    return propertyTag === _constants__WEBPACK_IMPORTED_MODULE_18__.PROP_TYPE_ENTITY;\n  })).call(_context8, ['EntityData', 'ApType', '_isEntryField_']);\n  deleteProps.forEach(function (propName) {\n    delete newFormItem[propName];\n  });\n  return newFormItem;\n};\nvar getSortedByRelation = function getSortedByRelation(arr, map) {\n  return arr.reduce(function (res, item) {\n    var Id = item.Id;\n    if (map[Id]) {\n      var _context10;\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(res).apply(res, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context10 = [item]).call(_context10, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(getSortedByRelation(map[Id], map))));\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(res).call(res, item);\n  }, []);\n};\n\n/**\n *\n * @param originalData dataRef\n * @param designerData 设计器内部的data\n * @param kdesignerApi\n * @returns 最新的dataRef\n * 主要做了dataRef的更新：\n * 1.将EntityData取出，更新entitymeta里的数据\n * 2.将实体属性delete掉，并更新formmeta\n * 3.如果存在ApType，将_Type_赋值为ApType(后端用)，并delete掉ApType\n */\nvar updateDataRef = function updateDataRef(originalData, designerData, kdesignerApi, hideFieldRef) {\n  var metaApi = kdesignerApi.meta;\n  var entitymeta = originalData.entitymeta,\n    formmeta = originalData.formmeta;\n  var _designerData$Items = designerData.Items,\n    Items = _designerData$Items === void 0 ? [] : _designerData$Items;\n  var relationMap = Items.reduce(function (map, formItem) {\n    var ParentId = formItem.ParentId;\n    if (ParentId !== undefined) {\n      if (map[ParentId] === undefined) {\n        map[ParentId] = [formItem];\n      } else {\n        map[ParentId].push(formItem);\n      }\n    }\n    return map;\n  }, {});\n  // 将data内部的Items排序\n  var sortedItems = getSortedByRelation([Items[0]], relationMap);\n  var newEntityMetaItems = sortedItems.reduce(function (prev, formItem) {\n    var Key = formItem.Key,\n      EntityData = formItem.EntityData,\n      Id = formItem.Id;\n    if (EntityData) {\n      var _hideFieldRef$newItem3, _context14;\n      var newItem = _objectSpread(_objectSpread({}, EntityData), {}, {\n        Key: Key\n      });\n      // 将隐藏控件从缓存里取出，并合并到formmeta里\n      // 关联表单表格\n      if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_20__.isRefBillTable)(newItem._Type_)) {\n        var _hideFieldRef$newItem, _hideFieldRef$newItem2, _context11;\n        var refBill = _objectSpread({}, (_hideFieldRef$newItem = hideFieldRef[newItem.RefBillId]) === null || _hideFieldRef$newItem === void 0 ? void 0 : _hideFieldRef$newItem.EntityData);\n        refBill.Key = (_hideFieldRef$newItem2 = hideFieldRef[newItem.RefBillId]) === null || _hideFieldRef$newItem2 === void 0 ? void 0 : _hideFieldRef$newItem2.Key;\n        return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context11 = []).call(_context11, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(prev), [newItem, refBill]);\n      }\n      // 关联表单, 过滤掉无RefTableId及不是当前表单的关联表单\n      var refEntityTable = hideFieldRef === null || hideFieldRef === void 0 || (_hideFieldRef$newItem3 = hideFieldRef[newItem === null || newItem === void 0 ? void 0 : newItem.RefTableId]) === null || _hideFieldRef$newItem3 === void 0 ? void 0 : _hideFieldRef$newItem3.EntityData;\n      if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_20__.isRefBill)(newItem._Type_) && newItem !== null && newItem !== void 0 && newItem.RefTableId && refEntityTable) {\n        var _context13;\n        var subItems = _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_14___default()(hideFieldRef).reduce(function (result, item) {\n          if (item.ParentId === (newItem === null || newItem === void 0 ? void 0 : newItem.RefTableId)) {\n            var _context12;\n            return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context12 = []).call(_context12, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(result), [item.EntityData]);\n          }\n          return result;\n        }, []);\n        return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context13 = []).call(_context13, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(prev), [newItem, refEntityTable], (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(subItems));\n      }\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context14 = []).call(_context14, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(prev), [newItem]);\n    }\n    return prev;\n  }, []);\n  var newFormMetaItems = sortedItems.reduce(function (prev, formItem) {\n    var _context18;\n    var _ref4 = formItem || {},\n      RefTableId = _ref4.RefTableId,\n      FieldType = _ref4.FieldType,\n      RefBillId = _ref4.RefBillId;\n    // 删除属性tag为entity属性\n    var newItem = mergeControlProps(formItem, metaApi);\n    // 将隐藏控件从缓存里取出，并合并到formmeta里\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_20__.isRefBillTable)(FieldType)) {\n      var _context15;\n      var refBill = mergeControlProps(hideFieldRef[RefBillId], metaApi);\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context15 = []).call(_context15, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(prev), [newItem, refBill]);\n    }\n    var refFormTable = hideFieldRef === null || hideFieldRef === void 0 ? void 0 : hideFieldRef[RefTableId];\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_20__.isRefBill)(FieldType) && RefTableId && refFormTable) {\n      var _context17;\n      var subItems = _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_14___default()(hideFieldRef).reduce(function (result, item) {\n        if (item.ParentId === RefTableId) {\n          var _context16;\n          return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context16 = []).call(_context16, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(result), [mergeControlProps(item, metaApi)]);\n        }\n        return result;\n      }, []);\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context17 = []).call(_context17, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(prev), [newItem, mergeControlProps(refFormTable, metaApi)], (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(subItems));\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context18 = []).call(_context18, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(prev), [newItem]);\n  }, []);\n  var newFormMeta = _objectSpread(_objectSpread({}, formmeta), {}, {\n    Items: newFormMetaItems\n  });\n  var newEntityMeta = _objectSpread(_objectSpread({}, entitymeta), {}, {\n    Items: newEntityMetaItems\n  });\n  return (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(originalData, {\n    formmeta: newFormMeta,\n    entitymeta: newEntityMeta\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODA1NjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvYWRhcHRvci9pbmRleC50cz9jNDc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1lcmdlVHJhbnNmb3JtS2V5TWFwLCB0cmFuc2Zvcm1LZXlNYXAsIGFkYXB0b3JNZXRhIGFzIF9hZGFwdG9yTWV0YSwgY3JlYXRlVVVpZCB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IGl0ZW1zLCBFbnVtLCBfVFlQRV8gfSBmcm9tICcuL2NvbnN0YW50J1xuXG5pbXBvcnQgeyBJVEVNUyB9IGZyb20gJy4uL2NvbnN0YW50cy9wcm9wbmFtZXMnXG5pbXBvcnQgeyBDT05UUk9MX1JFVEFJTkRfUFJPUFMgfSBmcm9tICcuLi9jb25zdGFudHMnXG5pbXBvcnQgeyBQUk9QX1RZUEVfRU5USVRZIH0gZnJvbSAnLi4vY29uc3RhbnRzL2luZGV4J1xuaW1wb3J0IHsgY2xvbmVEZWVwIH0gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IHsgaXNFbnRyeUVudGl0eSwgaXNSZWZCaWxsLCBpc1JlZkJpbGxUYWJsZSwgaXNBdHRhY2htZW50RmllbGQsIGlzSW1hZ2VGaWVsZCB9IGZyb20gJy4uL3V0aWxzL2NvbnRyb2wnXG5pbXBvcnQgeyBpc0hpZGRlblJlZkZpZWxkLCBnZXRGb3JtQ3RybE1ldGFzLCBjcmVhdGVUYWJsZUNvbnRyb2wgfSBmcm9tICcuLi91dGlscy9yZWZCaWxsRWRpdG9yVXRpbHMnXG5pbXBvcnQgeyBpc0dyb3VwQ29udGFpbmVyLCBpc09sZEdyb3VwQ29udGFpbmVyQ29udHJvbCwgaXNPbGRTdWJHcm91cENvbnRhaW5lckNvbnRyb2wgfSBmcm9tICcuLi91dGlscydcbmltcG9ydCB7IHByb2R1Y2UgfSBmcm9tICdpbW1lcidcblxuZXhwb3J0IHsgYWRhcHRvck9iamVjdEJ5VHJhbnNmb3JtS2V5TWFwLCBjcmVhdGVQcm9wZXJ0eUdyb3VwcywgbWVyZ2VUcmFuc2Zvcm1LZXlNYXAsIHRyYW5zZm9ybUtleU1hcCB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcblxuZXhwb3J0IGNvbnN0IGFkYXB0b3JNZXRhID0gKG9yaWdpbk1ldGE6IGFueSwgZGF0YTogYW55KSA9PiB7XG4gIHJldHVybiBfYWRhcHRvck1ldGEob3JpZ2luTWV0YSwgbWVyZ2VUcmFuc2Zvcm1LZXlNYXAodHJhbnNmb3JtS2V5TWFwLCB7XG4gICAgW2l0ZW1zXTogW0VudW1dXG4gIH0pLCBkYXRhKVxufVxuXG5jb25zdCBkYXRhS2V5c01hcCA9IHtcbiAgQml6YXBwSWQ6ICdiaXphcHBJZCcsXG4gIE5hbWU6ICduYW1lJyxcbiAgSWQ6ICdpZCcsXG4gIGFwcE51bTogJ2Zvcm1JZCcsXG4gIEtleTogJ2tleScsXG4gIEVudGl0eUlkOiAncm9vdEVudGl0eUlkJ1xufVxuXG5pbnRlcmZhY2UgT3JpZ2luYWxGb3JtTWV0YUl0ZW0ge1xuICAgIE5hbWU6IHN0cmluZyxcbiAgICBJZDogc3RyaW5nLFxuICAgIEtleTogc3RyaW5nLFxuICAgIFBhcmVudElkPzogc3RyaW5nLFxuICAgIF9UeXBlXzogc3RyaW5nLFxufVxuXG5pbnRlcmZhY2UgRm9ybU1ldGFJdGVtIHtcbiAgICBuYW1lPzogc3RyaW5nLFxuICAgIGlkPzogc3RyaW5nLFxuICAgIGtleT86IHN0cmluZyxcbiAgICBwYXJlbnRJZD86IHN0cmluZyxcbiAgICB0eXBlPzogc3RyaW5nXG59XG5cbmludGVyZmFjZSBGb3JtTWV0YSB7XG4gICAgYml6YXBwSWQ/OiBzdHJpbmcsXG4gICAgbmFtZT86IHN0cmluZyxcbiAgICBpZD86IHN0cmluZyxcbiAgICBmb3JtSWQ/OiBzdHJpbmcsXG4gICAga2V5Pzogc3RyaW5nLFxuICAgIGl0ZW1zPzogRm9ybU1ldGFJdGVtW10sXG4gICAgRW50aXR5RGF0YT86IHtcbiAgICAgIEl0ZW1zOiBhbnlbXVxuICAgIH1cbn1cblxuY29uc3QgbWVyZ2VEaWZmUHJvcCA9ICh0YXJnZXQ6IGFueSwgc291cmNlOiBhbnkpID0+IHtcbiAgT2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKChwcm9wTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFSZWZsZWN0Lmhhcyh0YXJnZXQsIHByb3BOYW1lKSkge1xuICAgICAgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHsgW3Byb3BOYW1lXTogc291cmNlW3Byb3BOYW1lXSB9KVxuICAgIH1cbiAgfSlcbn1cblxuY29uc3QgdHJhbnNmb3JtTmV3R3JvdXBDb250YWluZXIgPSAoZGF0YSkgPT4ge1xuICByZXR1cm4gcHJvZHVjZShkYXRhLCAoZHJhZnQpID0+IHtcbiAgICBkcmFmdC5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgaWYgKGlzT2xkR3JvdXBDb250YWluZXJDb250cm9sKGl0ZW0pKSB7XG4gICAgICAgIGl0ZW0uR3JvdXBQYXJlbnRJZCA9IGNyZWF0ZVVVaWQoKVxuICAgICAgICBpdGVtLkdyb3VwSW5kZXggPSAwXG5cbiAgICAgICAgZHJhZnQuZmlsdGVyKHN1Ykl0ZW0gPT4gc3ViSXRlbS5QYXJlbnRJZCA9PT0gaXRlbS5JZCAmJiBpc09sZFN1Ykdyb3VwQ29udGFpbmVyQ29udHJvbChzdWJJdGVtKSkuZm9yRWFjaCgoc3ViSXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBzdWJJdGVtLkdyb3VwUGFyZW50SWQgPSBpdGVtLkdyb3VwUGFyZW50SWRcbiAgICAgICAgICBzdWJJdGVtLkdyb3VwSW5kZXggPSBpbmRleCArIDFcbiAgICAgICAgICBzdWJJdGVtLlBhcmVudElkID0gaXRlbS5QYXJlbnRJZFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH0pXG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBvcmlnaW5hbERhdGEg5ZCO56uv5Y+R6L+H5p2l55qE5Y6f5aeL5pWw5o2uXG4gKiBAcmV0dXJucyDorr7orqHlmajlhoXpg6jnmoRkYXRhXG4gKiDkuLvopoHmgJ3ot6/vvJpcbiAqIDEuZm9ybW1ldGHph4znmoTmr4/kuKppdGVt77yM5Yik5pat5pyJ5peg5a6e5L2T77yM5pyJ5a6e5L2T5YiZ5Yib5bu65LiqRW50aXR5RGF0YeeahOWxnuaAp++8jOWwhuWunuS9k+aVsOaNruaUvue9rui/m+WOu1xuICogMi7lsIblrp7kvZPlsZ7mgKdtZXJnZei/m2Zvcm1tZXRh55qE5YW35L2TaXRlbeS4re+8iOaWueS+v+WunuS9k+WxnuaAp+eahOivu+WPluOAgWFjdGlvbueahOinpuWPke+8iVxuICovXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtRGF0YSA9IChvcmlnaW5hbERhdGE6IGFueSwgdGFibGVNZXRhczogYW55ID0ge30pID0+IHtcbiAgY29uc3QgY2xvbmVEYXRhID0gY2xvbmVEZWVwKG9yaWdpbmFsRGF0YSlcbiAgY29uc3QgeyBmb3JtbWV0YSwgZW50aXR5bWV0YSB9ID0gY2xvbmVEYXRhXG4gIGNvbnN0IGFkYXB0ZWREYXRhOiBGb3JtTWV0YSA9IHt9XG4gIGNvbnN0IGhpZGVGaWVsZDphbnkgPSB7fSAvLyDpmpDol4/lhYPntKBcbiAgY29uc3Qgcm9vdElkID0gZm9ybW1ldGEuSXRlbXNbMF0uSWQgLy8g5qC56IqC54K5XG4gIGNvbnN0IGNvbnRhaW5lcklkID0gW3Jvb3RJZF0gLy8g5b2T5YmN6KGo5Y2V5a655ZmoSURcbiAgY29uc3QgcmVmVGFibGVGaWVsZHMgPSBuZXcgTWFwKCkgLy8g5aSW6YOo6KGo5qC8SUTpm4blkIhcbiAgY29uc3QgZW50aXR5TWFwID0ge30gLy8g5a6e5L2T5pWw5o2u6L2s5oiQTUFQXG4gIGNvbnN0IGZvcmVpZ25DdHJsTWV0YTphbnkgPSBPYmplY3QuZW50cmllcyh0YWJsZU1ldGFzKS5yZWR1Y2UoKHJlc3VsdDphbnksIGl0ZW06YW55KSA9PiB7XG4gICAgcmV0dXJuIHsgLi4ucmVzdWx0LCAuLi5nZXRGb3JtQ3RybE1ldGFzKGl0ZW0pIH1cbiAgfSwge30pXG4gIE9iamVjdC5rZXlzKGZvcm1tZXRhKS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgIGZvcm1tZXRhW2l0ZW1dICYmIGRhdGFLZXlzTWFwW2l0ZW1dICYmIChhZGFwdGVkRGF0YVtkYXRhS2V5c01hcFtpdGVtXV0gPSBmb3JtbWV0YVtpdGVtXSlcbiAgfSlcblxuICAvLyDlvZPliY3ljZXmja7kvZPmiJblhbPogZTooajljZXooajmoLxJRFxuICBjb25zdCBlbnRyeUNvbnRyb2xJZHMgPSBmb3JtbWV0YS5JdGVtcy5yZWR1Y2UoKHJlc3VsdDpzdHJpbmdbXSwgZm9ybUl0ZW06IGFueSkgPT4ge1xuICAgIGNvbnN0IHsgX1R5cGVfOiBjdHJsVHlwZSwgSWQ6IGN0cmxJZCwgRmllbGRUeXBlIH0gPSBmb3JtSXRlbSB8fCB7fVxuICAgIC8vIOWuueWZqOavlOWvueeahOaYr+W4pmFw55qE5a2X56ym5LiyXG4gICAgaWYgKGlzR3JvdXBDb250YWluZXIoY3RybFR5cGUpKSBjb250YWluZXJJZC5wdXNoKGN0cmxJZClcbiAgICBpZiAoaXNFbnRyeUVudGl0eShGaWVsZFR5cGUpIHx8IGlzUmVmQmlsbFRhYmxlKEZpZWxkVHlwZSkpIHJldHVybiBbLi4ucmVzdWx0LCBjdHJsSWRdXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9LCBbXSlcblxuICAvLyDlvZPliY3pmpDol4/ooajmoLxJRCxcbiAgY29uc3QgaGlkZVRhYmxlSWQgPSBlbnRpdHltZXRhLkl0ZW1zLnJlZHVjZSgocmVzdWx0OnN0cmluZ1tdLCBpdGVtOmFueSkgPT4ge1xuICAgIGNvbnN0IHsgX1R5cGVfOiBjdHJsVHlwZSwgSWQ6IGN0cmxJZCwgU291cmNlRm9ybSwgUGFyZW50SWQgfSA9IGl0ZW0gfHwge31cbiAgICBjb25zdCBwSWQgPSBQYXJlbnRJZCB8fCByb290SWRcbiAgICAvLyDovazmiJBNQVDku6Xkvr/mn6Xor6JcbiAgICBlbnRpdHlNYXBbY3RybElkXSA9IGl0ZW1cbiAgICAvLyDmt7vliqDlpJbpg6jooajmoLxJRFxuICAgIGlmIChpc1JlZkJpbGxUYWJsZShjdHJsVHlwZSkgJiYgU291cmNlRm9ybSA9PT0gJzInKSByZWZUYWJsZUZpZWxkcy5zZXQoY3RybElkLCBpdGVtKVxuICAgIGlmIChpc1JlZkJpbGxUYWJsZShjdHJsVHlwZSkgJiYgaXNIaWRkZW5SZWZGaWVsZChpdGVtKSAmJiBjb250YWluZXJJZC5pbmNsdWRlcyhwSWQpKSB7XG4gICAgICByZXR1cm4gWy4uLnJlc3VsdCwgaXRlbS5JZF1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9LCBbXSlcblxuICBhZGFwdGVkRGF0YVtJVEVNU10gPSB0cmFuc2Zvcm1OZXdHcm91cENvbnRhaW5lcihmb3JtbWV0YS5JdGVtcy5yZWR1Y2UoKHByZXY6YW55W10sIGl0ZW06IGFueSkgPT4ge1xuICAgIGNvbnN0IGZvcm1JdGVtID0geyAuLi5pdGVtIH1cbiAgICBpZiAoIWZvcm1JdGVtPy5QYXJlbnRJZCkge1xuICAgICAgLy8g5rKh5pyJcGFyZW50SWTliJnmmK/moLnoioLngrlcbiAgICAgIGNvbnN0IHJvb3RFbnRpdHkgPSBlbnRpdHltZXRhLkl0ZW1zLmZpbmQoKGVudGl0eTogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiBlbnRpdHk/LklkID09PSBmb3JtSXRlbS5JZFxuICAgICAgfSlcbiAgICAgIGlmIChyb290RW50aXR5KSB7XG4gICAgICAgIGZvcm1JdGVtLkVudGl0eURhdGEgPSByb290RW50aXR5XG4gICAgICAgIG1lcmdlRGlmZlByb3AoZm9ybUl0ZW0sIHJvb3RFbnRpdHkpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IF9GaWVsZElkID0gZm9ybUl0ZW0uRmllbGRJZCB8fCBmb3JtSXRlbS5FbnRyeUlkIHx8IGZvcm1JdGVtLkNhcmRFbnRyeUlkXG4gICAgICAvLyBjb25zdCBlbnRpdHlJdGVtID0gZW50aXR5bWV0YS5JdGVtcy5maW5kKChlbnRpdHk6IGFueSkgPT4gZW50aXR5Py5JZCA9PT0gX0ZpZWxkSWQpXG4gICAgICAvLyDmj5DljYfmgKfog70s5L2/55SoTUFQ5pWw5o2uXG4gICAgICBjb25zdCBlbnRpdHlJdGVtID0gZW50aXR5TWFwPy5bX0ZpZWxkSWRdXG4gICAgICBpZiAoZW50aXR5SXRlbSkge1xuICAgICAgICBmb3JtSXRlbS5FbnRpdHlEYXRhID0gZW50aXR5SXRlbVxuICAgICAgICBmb3JtSXRlbS5BcFR5cGUgPSBmb3JtSXRlbS5fVHlwZV9cbiAgICAgICAgZm9ybUl0ZW0uX1R5cGVfID0gZW50aXR5SXRlbS5fVHlwZV9cbiAgICAgICAgZm9ybUl0ZW0uRmllbGRUeXBlID0gZW50aXR5SXRlbS5fVHlwZV9cbiAgICAgICAgbWVyZ2VEaWZmUHJvcChmb3JtSXRlbSwgZW50aXR5SXRlbSlcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgeyBQYXJlbnRJZCwgS2V5OiBmaWVsZEtleSwgRW50aXR5RGF0YSB9ID0gZm9ybUl0ZW1cblxuICAgIC8vIOWFiOe7n+S4gOa4heeQhuS4i19pc0VudHJ5RmllbGRf6L+Z5Liq5qCH6K+GXG4gICAgaWYgKGZvcm1JdGVtLl9pc0VudHJ5RmllbGRfKSB7XG4gICAgICBkZWxldGUgZm9ybUl0ZW0uX2lzRW50cnlGaWVsZF9cbiAgICB9XG5cbiAgICBpZiAoZW50cnlDb250cm9sSWRzLmluY2x1ZGVzKFBhcmVudElkKSkge1xuICAgICAgLy8g5Y2V5o2u5L2T55qE5a2X5q615omT5LiK6L+Z5LmI5LiA5Liq5qCH6K+GXG4gICAgICBmb3JtSXRlbS5faXNFbnRyeUZpZWxkXyA9IHRydWVcbiAgICB9XG5cbiAgICAvLyDov4fmu6TmjonpmpDol4/mjqfku7bmiJbniLboioLngrnmmK/pmpDol4/mjqfku7bnmoTmjqfku7ZcbiAgICAvLyBjb25zdCBwYXJlbnRUYWJsZUZpZWxkID0gdGFibGVzW2Zvcm1JdGVtLlBhcmVudElkXVxuICAgIGNvbnN0IHBJZCA9IGZvcm1JdGVtLlBhcmVudElkIHx8IHJvb3RJZFxuICAgIGlmICgoY29udGFpbmVySWQuaW5jbHVkZXMocElkKSAmJiBpc0hpZGRlblJlZkZpZWxkKGZvcm1JdGVtKSkgfHwgKGhpZGVUYWJsZUlkLmluY2x1ZGVzKHBJZCkpKSB7XG4gICAgICBoaWRlRmllbGRbZm9ybUl0ZW0uSWRdID0gZm9ybUl0ZW1cbiAgICAgIHJldHVybiBwcmV2XG4gICAgfVxuXG4gICAgLy8g5aaC5p6c54i26IqC54K55piv5aSW6YOo6KGo5qC877yM5YiZ6ZyA6KaB55SoT1BFTuWbnuadpeeahOaWsOaVsOaNruabv+aNouaXp+aVsOaNrlxuICAgIGlmIChyZWZUYWJsZUZpZWxkcy5oYXMoUGFyZW50SWQpKSB7XG4gICAgICAvLyDlv4Xpobvkvb/nlKhLRVnvvIzkvb/nlKhJROaXtu+8jOezu+e7n+Wtl+auteavj+asoeWIm+W7uuaXtuS8muS4jeS4gOagt++8jOmcgOimgeS/ruWkjeezu+e7n+Wtl+autea3u+WKoOmAu+i+kVxuICAgICAgY29uc3QgZm9yZWlnbktleSA9IGZpZWxkS2V5LnRvTG93ZXJDYXNlKCkucmVwbGFjZShgXyR7UGFyZW50SWQudG9Mb3dlckNhc2UoKX1gLCAnJykgKyAnXycgKyByZWZUYWJsZUZpZWxkcy5nZXQoUGFyZW50SWQpLkJpbGxFbnRpdHlJZEV4XG4gICAgICBjb25zdCBmb3JlaWduQ3RybCA9IGZvcmVpZ25DdHJsTWV0YVtmb3JlaWduS2V5XVxuICAgICAgaWYgKGZvcmVpZ25DdHJsKSB7XG4gICAgICAgIGNvbnN0IHJldGFpbmVkOmFueSA9IFt7fSwge31dIC8vIGZvcm1tZXRhL2VudGl0eW1ldGHph4znmoTkv53nlZnlgLws6L+Z5Lqb5bGe5oCn5LiN5ZCM5q2l5Y6f5Y2V5pWw5o2uXG4gICAgICAgIENPTlRST0xfUkVUQUlORF9QUk9QUy5mb3JFYWNoKChwcm9wc05hbWU6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgaWYgKGZvcm1JdGVtW3Byb3BzTmFtZV0pIHJldGFpbmVkWzBdW3Byb3BzTmFtZV0gPSBmb3JtSXRlbVtwcm9wc05hbWVdXG4gICAgICAgICAgaWYgKEVudGl0eURhdGFbcHJvcHNOYW1lXSkgcmV0YWluZWRbMV1bcHJvcHNOYW1lXSA9IEVudGl0eURhdGFbcHJvcHNOYW1lXVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBuZXdGaWVsZDphbnkgPSBjcmVhdGVUYWJsZUNvbnRyb2woZm9yZWlnbkN0cmwsIFBhcmVudElkLCByZXRhaW5lZClcbiAgICAgICAgLy8gMDguMjDvvIzkuIvpnaLmlrnms5XmnInor6/lsZ7mgKflgLzkuLrpu5jorqTlgLzml7bvvIzmsqHmnInov5nkuKrlsZ7mgKfvvIzoi6XlpJbpg6jkv67mlLnkuobov5nkuKrpu5jorqTlsZ7mgKflsIbml6Dms5XlkIzmraVcbiAgICAgICAgLy8gLy8g5pu05pawZm9ybeWxnuaApyzlkIzmraXliLBjbG9uZURhdGEsIGZvcm1JdGVt5Lya5ZCI5bm2ZW50aXR56YeM55qE5LiA5Lqb5bGe5oCnLCDlsIbkvJrmlrDlop7lsZ7mgKcsIOmcgOimgei/h+a7pOaOiei/meS6m+WxnuaAp1xuICAgICAgICAvLyBPYmplY3Qua2V5cyhmb3JtSXRlbSkuZm9yRWFjaCgocHJvcDpzdHJpbmcpID0+IHtcbiAgICAgICAgLy8gICBpZiAoaXRlbVtwcm9wXSAmJiBuZXdGaWVsZD8uW3Byb3BdICYmIGZvcm1JdGVtW3Byb3BdICE9PSBuZXdGaWVsZFtwcm9wXSkge1xuICAgICAgICAvLyAgICAgaXRlbVtwcm9wXSA9IG5ld0ZpZWxkW3Byb3BdXG4gICAgICAgIC8vICAgfVxuICAgICAgICAvLyB9KVxuICAgICAgICAvLyAvLyDmm7TmlrBlbnRpdHnlsZ7mgKcs5ZCM5q2l5YiwY2xvbmVEYXRhXG4gICAgICAgIC8vIE9iamVjdC5rZXlzKEVudGl0eURhdGEpLmZvckVhY2goKHByb3A6c3RyaW5nKSA9PiB7XG4gICAgICAgIC8vICAgaWYgKGVudGl0eU1hcD8uW25ld0ZpZWxkLklkXT8uW3Byb3BdICYmIEVudGl0eURhdGFbcHJvcF0gIT09IG5ld0ZpZWxkLkVudGl0eURhdGFbcHJvcF0pIHtcbiAgICAgICAgLy8gICAgIGVudGl0eU1hcFtuZXdGaWVsZC5JZF1bcHJvcF0gPSBuZXdGaWVsZD8uRW50aXR5RGF0YT8uW3Byb3BdXG4gICAgICAgIC8vICAgfVxuICAgICAgICAvLyB9KVxuICAgICAgICAvLyDmm7TmlrBmb3Jt5bGe5oCn77yM5L2/55SobmV3RmllbGTmlbDmja5cbiAgICAgICAgaXRlbSA9IHsgLi4ubmV3RmllbGQgfVxuICAgICAgICBkZWxldGUgaXRlbS5FbnRpdHlEYXRhXG4gICAgICAgIGVudGl0eU1hcFtuZXdGaWVsZC5JZF0gPSBuZXdGaWVsZC5FbnRpdHlEYXRhXG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FkYXB0ZWREYXRhJywgbmV3RmllbGQpXG4gICAgICAgIHJldHVybiBbLi4ucHJldiwgbmV3RmllbGRdXG4gICAgICB9IGVsc2UgeyAvLyDliKTmlq3ljp/ljZXmmK/lkKbliKDpmaTkuoblvZPliY3mjqfku7bvvIzlkIzmraXliLBjbG9uZURhdGFcbiAgICAgICAgZW50aXR5bWV0YVtJVEVNU10gPSBlbnRpdHltZXRhW0lURU1TXS5maWx0ZXIoKGl0ZW06YW55KSA9PiBpdGVtLklkICE9PSBmb3JtSXRlbS5JZClcbiAgICAgICAgZm9ybW1ldGFbSVRFTVNdID0gZm9ybW1ldGFbSVRFTVNdLmZpbHRlcigoaXRlbTphbnkpID0+IGl0ZW0uSWQgIT09IGZvcm1JdGVtLklkKVxuICAgICAgICByZXR1cm4gcHJldlxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gWy4uLnByZXYsIGZvcm1JdGVtXVxuICAgIH1cbiAgfSwgW10pKVxuICAvLyDlkIzmraXlkIjlubblkI7nmoRtZXRh5pWw5o2u77yMZW50aXR5bWV0YeaVsOaNruWPr+S4jeeUqOWFs+azqOaOkuW6j1xuICBlbnRpdHltZXRhLkl0ZW1zID0gT2JqZWN0LnZhbHVlcyhlbnRpdHlNYXApXG4gIGNvbnNvbGUubG9nKCdhZGFwdGVkRGF0YScsIGFkYXB0ZWREYXRhLCBoaWRlRmllbGQpXG4gIHJldHVybiBbYWRhcHRlZERhdGEsIGhpZGVGaWVsZCwgY2xvbmVEYXRhXVxufVxuXG5jb25zdCBtZXJnZUNvbnRyb2xQcm9wcyA9IChmb3JtSXRlbTphbnksIG1ldGFBcGk6YW55KSA9PiB7XG4gIGNvbnN0IHsgX1R5cGVfOiBjdHJsUmVhbFR5cGUsIEVudGl0eURhdGEgPSB7fSwgQXBUeXBlIH0gPSBmb3JtSXRlbSB8fCB7fVxuICBjb25zdCBuZXdGb3JtSXRlbSA9IHsgLi4uZm9ybUl0ZW0gfVxuICBpZiAoQXBUeXBlKSB7XG4gICAgLyoqXG4gICAgICAgKiBBcFR5cGXlnKhwcmVBZGRIYW5kbGXph4zpooTlpITnkIbkuobvvIzlpoLmnpzlrZjlnKjvvIzpnIDopoHlnKhvbkRhdGHml7bmiopfVHlwZV/otYvlgLzkuLpBcFR5cGVcbiAgICAgICAqL1xuICAgIG5ld0Zvcm1JdGVtLl9UeXBlXyA9IEFwVHlwZVxuICB9XG4gIC8vIOWIoOmZpOS5i+WJjeWQiOW5tui/m+WOu+eahOWunuS9k+WxnuaAp1xuICBjb25zdCBkZWxldGVQcm9wcyA9IE9iamVjdC5rZXlzKEVudGl0eURhdGEpLmZpbHRlcigocHJvcE5hbWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHByb3BNZXRhID0gbWV0YUFwaS5nZXRDb250cm9sTWV0YVByb3BlcnR5KGN0cmxSZWFsVHlwZSwgcHJvcE5hbWUpXG4gICAgY29uc3QgeyBUYWc6IHByb3BlcnR5VGFnIH0gPSBwcm9wTWV0YVxuICAgIHJldHVybiBwcm9wZXJ0eVRhZyA9PT0gUFJPUF9UWVBFX0VOVElUWVxuICB9KS5jb25jYXQoWydFbnRpdHlEYXRhJywgJ0FwVHlwZScsICdfaXNFbnRyeUZpZWxkXyddKVxuICBkZWxldGVQcm9wcy5mb3JFYWNoKChwcm9wTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgZGVsZXRlIG5ld0Zvcm1JdGVtW3Byb3BOYW1lXVxuICB9KVxuICByZXR1cm4gbmV3Rm9ybUl0ZW1cbn1cblxuZXhwb3J0IGNvbnN0IGdldFNvcnRlZEJ5UmVsYXRpb24gPSAoYXJyLCBtYXA6IGFueSkgPT4ge1xuICByZXR1cm4gYXJyLnJlZHVjZSgocmVzLCBpdGVtKSA9PiB7XG4gICAgY29uc3QgeyBJZCB9ID0gaXRlbVxuICAgIGlmIChtYXBbSWRdKSB7XG4gICAgICByZXR1cm4gcmVzLmNvbmNhdChpdGVtLCAuLi5nZXRTb3J0ZWRCeVJlbGF0aW9uKG1hcFtJZF0sIG1hcCkpXG4gICAgfVxuICAgIHJldHVybiByZXMuY29uY2F0KGl0ZW0pXG4gIH0sIFtdKVxufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gb3JpZ2luYWxEYXRhIGRhdGFSZWZcbiAqIEBwYXJhbSBkZXNpZ25lckRhdGEg6K6+6K6h5Zmo5YaF6YOo55qEZGF0YVxuICogQHBhcmFtIGtkZXNpZ25lckFwaVxuICogQHJldHVybnMg5pyA5paw55qEZGF0YVJlZlxuICog5Li76KaB5YGa5LqGZGF0YVJlZueahOabtOaWsO+8mlxuICogMS7lsIZFbnRpdHlEYXRh5Y+W5Ye677yM5pu05pawZW50aXR5bWV0YemHjOeahOaVsOaNrlxuICogMi7lsIblrp7kvZPlsZ7mgKdkZWxldGXmjonvvIzlubbmm7TmlrBmb3JtbWV0YVxuICogMy7lpoLmnpzlrZjlnKhBcFR5cGXvvIzlsIZfVHlwZV/otYvlgLzkuLpBcFR5cGUo5ZCO56uv55SoKe+8jOW5tmRlbGV0ZeaOiUFwVHlwZVxuICovXG5leHBvcnQgY29uc3QgdXBkYXRlRGF0YVJlZiA9IChvcmlnaW5hbERhdGE6IGFueSwgZGVzaWduZXJEYXRhOiBhbnksIGtkZXNpZ25lckFwaTogYW55LCBoaWRlRmllbGRSZWY6YW55KSA9PiB7XG4gIGNvbnN0IHsgbWV0YTogbWV0YUFwaSB9ID0ga2Rlc2lnbmVyQXBpXG4gIGNvbnN0IHsgZW50aXR5bWV0YSwgZm9ybW1ldGEgfSA9IG9yaWdpbmFsRGF0YVxuICBjb25zdCB7IEl0ZW1zID0gW10gfSA9IGRlc2lnbmVyRGF0YVxuICBjb25zdCByZWxhdGlvbk1hcCA9IEl0ZW1zLnJlZHVjZSgobWFwOiBhbnksIGZvcm1JdGVtOiBhbnkpID0+IHtcbiAgICBjb25zdCB7IFBhcmVudElkIH0gPSBmb3JtSXRlbVxuICAgIGlmIChQYXJlbnRJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAobWFwW1BhcmVudElkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG1hcFtQYXJlbnRJZF0gPSBbZm9ybUl0ZW1dXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBbUGFyZW50SWRdLnB1c2goZm9ybUl0ZW0pXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXBcbiAgfSwge30pXG4gIC8vIOWwhmRhdGHlhoXpg6jnmoRJdGVtc+aOkuW6j1xuICBjb25zdCBzb3J0ZWRJdGVtcyA9IGdldFNvcnRlZEJ5UmVsYXRpb24oW0l0ZW1zWzBdXSwgcmVsYXRpb25NYXApXG4gIGNvbnN0IG5ld0VudGl0eU1ldGFJdGVtcyA9IHNvcnRlZEl0ZW1zLnJlZHVjZSgocHJldjphbnlbXSwgZm9ybUl0ZW06IGFueSkgPT4ge1xuICAgIGNvbnN0IHsgS2V5LCBFbnRpdHlEYXRhLCBJZCB9ID0gZm9ybUl0ZW1cbiAgICBpZiAoRW50aXR5RGF0YSkge1xuICAgICAgY29uc3QgbmV3SXRlbSA9IHsgLi4uRW50aXR5RGF0YSwgS2V5IH1cbiAgICAgIC8vIOWwhumakOiXj+aOp+S7tuS7jue8k+WtmOmHjOWPluWHuu+8jOW5tuWQiOW5tuWIsGZvcm1tZXRh6YeMXG4gICAgICAvLyDlhbPogZTooajljZXooajmoLxcbiAgICAgIGlmIChpc1JlZkJpbGxUYWJsZShuZXdJdGVtLl9UeXBlXykpIHtcbiAgICAgICAgY29uc3QgcmVmQmlsbCA9IHsgLi4uaGlkZUZpZWxkUmVmW25ld0l0ZW0uUmVmQmlsbElkXT8uRW50aXR5RGF0YSB9XG4gICAgICAgIHJlZkJpbGwuS2V5ID0gaGlkZUZpZWxkUmVmW25ld0l0ZW0uUmVmQmlsbElkXT8uS2V5XG4gICAgICAgIHJldHVybiBbLi4ucHJldiwgbmV3SXRlbSwgcmVmQmlsbF1cbiAgICAgIH1cbiAgICAgIC8vIOWFs+iBlOihqOWNlSwg6L+H5ruk5o6J5pegUmVmVGFibGVJZOWPiuS4jeaYr+W9k+WJjeihqOWNleeahOWFs+iBlOihqOWNlVxuICAgICAgY29uc3QgcmVmRW50aXR5VGFibGUgPSBoaWRlRmllbGRSZWY/LltuZXdJdGVtPy5SZWZUYWJsZUlkXT8uRW50aXR5RGF0YVxuICAgICAgaWYgKGlzUmVmQmlsbChuZXdJdGVtLl9UeXBlXykgJiYgbmV3SXRlbT8uUmVmVGFibGVJZCAmJiByZWZFbnRpdHlUYWJsZSkge1xuICAgICAgICBjb25zdCBzdWJJdGVtczphbnkgPSBPYmplY3QudmFsdWVzKGhpZGVGaWVsZFJlZikucmVkdWNlKChyZXN1bHQ6YW55W10sIGl0ZW06YW55KSA9PiB7XG4gICAgICAgICAgaWYgKGl0ZW0uUGFyZW50SWQgPT09IG5ld0l0ZW0/LlJlZlRhYmxlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBbLi4ucmVzdWx0LCBpdGVtLkVudGl0eURhdGFdXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgfSwgW10pXG4gICAgICAgIHJldHVybiBbLi4ucHJldiwgbmV3SXRlbSwgcmVmRW50aXR5VGFibGUsIC4uLnN1Ykl0ZW1zXVxuICAgICAgfVxuICAgICAgcmV0dXJuIFsuLi5wcmV2LCBuZXdJdGVtXVxuICAgIH1cbiAgICByZXR1cm4gcHJldlxuICB9LCBbXSlcbiAgY29uc3QgbmV3Rm9ybU1ldGFJdGVtcyA9IHNvcnRlZEl0ZW1zLnJlZHVjZSgocHJldjphbnlbXSwgZm9ybUl0ZW06IGFueSkgPT4ge1xuICAgIGNvbnN0IHsgUmVmVGFibGVJZCwgRmllbGRUeXBlLCBSZWZCaWxsSWQgfSA9IGZvcm1JdGVtIHx8IHt9XG4gICAgLy8g5Yig6Zmk5bGe5oCndGFn5Li6ZW50aXR55bGe5oCnXG4gICAgY29uc3QgbmV3SXRlbSA9IG1lcmdlQ29udHJvbFByb3BzKGZvcm1JdGVtLCBtZXRhQXBpKVxuICAgIC8vIOWwhumakOiXj+aOp+S7tuS7jue8k+WtmOmHjOWPluWHuu+8jOW5tuWQiOW5tuWIsGZvcm1tZXRh6YeMXG4gICAgaWYgKGlzUmVmQmlsbFRhYmxlKEZpZWxkVHlwZSkpIHtcbiAgICAgIGNvbnN0IHJlZkJpbGwgPSBtZXJnZUNvbnRyb2xQcm9wcyhoaWRlRmllbGRSZWZbUmVmQmlsbElkXSwgbWV0YUFwaSlcbiAgICAgIHJldHVybiBbLi4ucHJldiwgbmV3SXRlbSwgcmVmQmlsbF1cbiAgICB9XG4gICAgY29uc3QgcmVmRm9ybVRhYmxlID0gaGlkZUZpZWxkUmVmPy5bUmVmVGFibGVJZF1cbiAgICBpZiAoaXNSZWZCaWxsKEZpZWxkVHlwZSkgJiYgUmVmVGFibGVJZCAmJiByZWZGb3JtVGFibGUpIHtcbiAgICAgIGNvbnN0IHN1Ykl0ZW1zOmFueSA9IE9iamVjdC52YWx1ZXMoaGlkZUZpZWxkUmVmKS5yZWR1Y2UoKHJlc3VsdDphbnlbXSwgaXRlbTphbnkpID0+IHtcbiAgICAgICAgaWYgKGl0ZW0uUGFyZW50SWQgPT09IFJlZlRhYmxlSWQpIHtcbiAgICAgICAgICByZXR1cm4gWy4uLnJlc3VsdCwgbWVyZ2VDb250cm9sUHJvcHMoaXRlbSwgbWV0YUFwaSldXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgfSwgW10pXG4gICAgICByZXR1cm4gWy4uLnByZXYsIG5ld0l0ZW0sIG1lcmdlQ29udHJvbFByb3BzKHJlZkZvcm1UYWJsZSwgbWV0YUFwaSksIC4uLnN1Ykl0ZW1zXVxuICAgIH1cbiAgICByZXR1cm4gWy4uLnByZXYsIG5ld0l0ZW1dXG4gIH0sIFtdKVxuICBjb25zdCBuZXdGb3JtTWV0YSA9IHsgLi4uZm9ybW1ldGEsIEl0ZW1zOiBuZXdGb3JtTWV0YUl0ZW1zIH1cbiAgY29uc3QgbmV3RW50aXR5TWV0YSA9IHsgLi4uZW50aXR5bWV0YSwgSXRlbXM6IG5ld0VudGl0eU1ldGFJdGVtcyB9XG4gIHJldHVybiBPYmplY3QuYXNzaWduKG9yaWdpbmFsRGF0YSwgeyBmb3JtbWV0YTogbmV3Rm9ybU1ldGEsIGVudGl0eW1ldGE6IG5ld0VudGl0eU1ldGEgfSlcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///80564\n");

/***/ }),

/***/ 44928:
/*!******************************!*\
  !*** ./src/adaptor/utils.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   filterProperty: function() { return /* binding */ filterProperty; },\n/* harmony export */   getObjectPathValue: function() { return /* binding */ getObjectPathValue; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_1__);\n\n/*\n * @Author: fjr\n * @Email: jinrui_fang@kingdee.com\n * @Date: 2021-09-16 15:53:02\n * @Last Modified by: fjr\n * @LastEditTime: 2021-09-16 15:58:22\n * @Description: ...\n */\n\nvar getObjectPathValue = function getObjectPathValue(obj, path) {\n  var getIn = (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_1__.property)(path);\n  return getIn(obj);\n};\n\n/**\n * @description: 过滤属性模型, true为隐藏, false为显示\n * @param {IControlItem} field\n * @param {IControlProperty} propMeta\n * @return {boolean}\n */\nvar filterProperty = function filterProperty(field, propMeta) {\n  var hideConfig = propMeta.Hide;\n  if (hideConfig && (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(hideConfig) === 'object') {\n    var hide = hideConfig.Hide;\n    return hide;\n  }\n  return false;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDQ5MjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9hZGFwdG9yL3V0aWxzLnRzPzllNDgiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBBdXRob3I6IGZqclxuICogQEVtYWlsOiBqaW5ydWlfZmFuZ0BraW5nZGVlLmNvbVxuICogQERhdGU6IDIwMjEtMDktMTYgMTU6NTM6MDJcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBmanJcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjEtMDktMTYgMTU6NTg6MjJcbiAqIEBEZXNjcmlwdGlvbjogLi4uXG4gKi9cbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IHsgSUNvbnRyb2xQcm9wZXJ0eSwgSUNvbnRyb2xJdGVtIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuXG5leHBvcnQgY29uc3QgZ2V0T2JqZWN0UGF0aFZhbHVlID0gKG9iajogYW55LCBwYXRoOiBzdHJpbmdbXSkgPT4ge1xuICBjb25zdCBnZXRJbiA9IHByb3BlcnR5KHBhdGgpXG4gIHJldHVybiBnZXRJbihvYmopXG59XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uOiDov4fmu6TlsZ7mgKfmqKHlnossIHRydWXkuLrpmpDol48sIGZhbHNl5Li65pi+56S6XG4gKiBAcGFyYW0ge0lDb250cm9sSXRlbX0gZmllbGRcbiAqIEBwYXJhbSB7SUNvbnRyb2xQcm9wZXJ0eX0gcHJvcE1ldGFcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBmaWx0ZXJQcm9wZXJ0eSA9IChmaWVsZDogSUNvbnRyb2xJdGVtLCBwcm9wTWV0YTogSUNvbnRyb2xQcm9wZXJ0eSk6Ym9vbGVhbiA9PiB7XG4gIGNvbnN0IHsgSGlkZTogaGlkZUNvbmZpZyB9ID0gcHJvcE1ldGFcbiAgaWYgKGhpZGVDb25maWcgJiYgdHlwZW9mIGhpZGVDb25maWcgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgeyBIaWRlOiBoaWRlIH0gPSBoaWRlQ29uZmlnXG4gICAgcmV0dXJuIGhpZGVcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///44928\n");

/***/ }),

/***/ 48952:
/*!*********************************************!*\
  !*** ./src/apControls/common/BaseField.tsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseField: function() { return /* binding */ BaseField; },\n/* harmony export */   MobBaseField: function() { return /* binding */ MobBaseField; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ReadonlyText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ReadonlyText */ 27516);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! nocode_component/MobUI */ 65873);\n/* harmony import */ var nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils */ 41232);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../context */ 90115);\n\n/*\n * @Description: BaseField PC端基础控件，MobBaseField 移动端基础控件\n * @Author: jianhang_he\n * @Date: 2022-09-30 10:17:33\n * @LastEditTime: 2023-08-28 11:25:41\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n/**\n * 基础控件，默认是PC端的\n */\nvar BaseField = function BaseField(_ref) {\n  var type = _ref.type,\n    _ref$field = _ref.field,\n    field = _ref$field === void 0 ? {} : _ref$field,\n    _ref$props = _ref.props,\n    props = _ref$props === void 0 ? {} : _ref$props,\n    _ref$isMb = _ref.isMb,\n    isMb = _ref$isMb === void 0 ? false : _ref$isMb;\n  var Status = field.Status,\n    Key = field.Key;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_context__WEBPACK_IMPORTED_MODULE_6__.DesignerContext),\n    fieldStatusMap = _useContext.fieldStatusMap,\n    fieldStatusSettingMode = _useContext.fieldStatusSettingMode;\n  // 只读状态\n  if ((0,_utils__WEBPACK_IMPORTED_MODULE_5__.isReadonly)(Status) && !(0,_utils__WEBPACK_IMPORTED_MODULE_5__.hasSetFieldStatus)(fieldStatusMap[Key]) || fieldStatusMap[Key] === 'readonly') {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ReadonlyText__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n      value: props.readonlyValue || (field === null || field === void 0 ? void 0 : field.DefValue)\n    });\n  }\n  var Control = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    // 移动端\n    if (isMb) {\n      return nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_4__[type];\n    }\n    return nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_3__[type];\n  }, [type]);\n\n  // 基础的属性（清除按钮、默认值、占位提示等）\n  var controlProps = (0,_utils__WEBPACK_IMPORTED_MODULE_5__.getFieldProps)(field, {\n    fieldStatusSettingMode: fieldStatusSettingMode,\n    fieldStatusMap: fieldStatusMap\n  });\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(Control, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, controlProps, props));\n};\n\n/**\n * 移动端基础控件\n */\nvar MobBaseField = function MobBaseField(props) {\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(BaseField, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    isMb: true\n  }, props));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg5NTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUpBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2FwQ29udHJvbHMvY29tbW9uL0Jhc2VGaWVsZC50c3g/ODEzYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOiBCYXNlRmllbGQgUEPnq6/ln7rnoYDmjqfku7bvvIxNb2JCYXNlRmllbGQg56e75Yqo56uv5Z+656GA5o6n5Lu2XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDktMzAgMTA6MTc6MzNcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMDgtMjggMTE6MjU6NDFcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlTWVtbywgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5IH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IFJlYWRvbmx5VGV4dCBmcm9tICcuL1JlYWRvbmx5VGV4dCdcbmltcG9ydCAqIGFzIFdlYlVJIGZyb20gJ25vY29kZV9jb21wb25lbnQvV2ViVUknXG5pbXBvcnQgKiBhcyBNb2JVSSBmcm9tICdub2NvZGVfY29tcG9uZW50L01vYlVJJ1xuaW1wb3J0IHsgaXNSZWFkb25seSwgZ2V0RmllbGRQcm9wcywgaGFzU2V0RmllbGRTdGF0dXMgfSBmcm9tICcuLi8uLi91dGlscydcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQnXG5cbmludGVyZmFjZSBCYXNlRmllbGRBcGkge1xuICB0eXBlPzogc3RyaW5nLFxuICBmaWVsZD86IElDb250cm9sSXRlbVVwcGVyY2FzZUtleSxcbiAgcHJvcHM/OiBhbnksXG4gIGlzTWI/OiBib29sZWFuXG59XG5cbi8qKlxuICog5Z+656GA5o6n5Lu277yM6buY6K6k5pivUEPnq6/nmoRcbiAqL1xuZXhwb3J0IGNvbnN0IEJhc2VGaWVsZDogUmVhY3QuRkM8QmFzZUZpZWxkQXBpPiA9ICh7XG4gIHR5cGUsXG4gIGZpZWxkID0ge30sXG4gIHByb3BzID0ge30sXG4gIGlzTWIgPSBmYWxzZVxufSkgPT4ge1xuICBjb25zdCB7IFN0YXR1cywgS2V5IH0gPSBmaWVsZFxuICBjb25zdCB7IGZpZWxkU3RhdHVzTWFwLCBmaWVsZFN0YXR1c1NldHRpbmdNb2RlIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgLy8g5Y+q6K+754q25oCBXG4gIGlmICgoaXNSZWFkb25seShTdGF0dXMpICYmICFoYXNTZXRGaWVsZFN0YXR1cyhmaWVsZFN0YXR1c01hcFtLZXldKSkgfHwgZmllbGRTdGF0dXNNYXBbS2V5XSA9PT0gJ3JlYWRvbmx5Jykge1xuICAgIHJldHVybiA8UmVhZG9ubHlUZXh0IHZhbHVlPXtwcm9wcy5yZWFkb25seVZhbHVlIHx8IGZpZWxkPy5EZWZWYWx1ZX0gLz5cbiAgfVxuXG4gIGNvbnN0IENvbnRyb2wgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAvLyDnp7vliqjnq69cbiAgICBpZiAoaXNNYikge1xuICAgICAgcmV0dXJuIE1vYlVJW3R5cGVdXG4gICAgfVxuXG4gICAgcmV0dXJuIFdlYlVJW3R5cGVdXG4gIH0sIFt0eXBlXSlcblxuICAvLyDln7rnoYDnmoTlsZ7mgKfvvIjmuIXpmaTmjInpkq7jgIHpu5jorqTlgLzjgIHljaDkvY3mj5DnpLrnrYnvvIlcbiAgY29uc3QgY29udHJvbFByb3BzID0gZ2V0RmllbGRQcm9wcyhmaWVsZCwgeyBmaWVsZFN0YXR1c1NldHRpbmdNb2RlLCBmaWVsZFN0YXR1c01hcCB9KVxuXG4gIHJldHVybiA8Q29udHJvbCB7Li4uY29udHJvbFByb3BzfSB7Li4ucHJvcHN9IC8+XG59XG5cbi8qKlxuICog56e75Yqo56uv5Z+656GA5o6n5Lu2XG4gKi9cbmV4cG9ydCBjb25zdCBNb2JCYXNlRmllbGQgPSAocHJvcHMpID0+IHtcbiAgcmV0dXJuIDxCYXNlRmllbGQgaXNNYiB7Li4ucHJvcHN9IC8+XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///48952\n");

/***/ }),

/***/ 16852:
/*!*****************************************************!*\
  !*** ./src/apControls/common/DesignerFieldItem.tsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getControlRequired: function() { return /* binding */ getControlRequired; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _hooks_useEditControlName__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useEditControlName */ 17592);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/control */ 3700);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils */ 41232);\n\n\n\nvar _excluded = [\"field\", \"children\", \"tipsTrigger\", \"dragEvent\", \"wrapperStyle\"];\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-10-14 17:46:53\n * @LastEditTime: 2024-04-09 16:17:07\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\nvar getControlRequired = function getControlRequired(field, fieldStatusMap) {\n  var Key = field.Key;\n  return (0,_utils_control__WEBPACK_IMPORTED_MODULE_7__.isControlRequired)(field) && !(0,_utils__WEBPACK_IMPORTED_MODULE_10__.hasSetFieldStatus)(fieldStatusMap[Key]) || fieldStatusMap[Key] === 'mustInput';\n};\nvar DesignerFieldItem = function DesignerFieldItem(props) {\n  var _context2;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_context__WEBPACK_IMPORTED_MODULE_5__.DesignerContext),\n    isPC = _useContext.isPC,\n    prefixCls = _useContext.prefixCls,\n    fieldStatusMap = _useContext.fieldStatusMap;\n  var field = props.field,\n    children = props.children,\n    tipsTrigger = props.tipsTrigger,\n    _props$dragEvent = props.dragEvent,\n    dragEvent = _props$dragEvent === void 0 ? {} : _props$dragEvent,\n    _props$wrapperStyle = props.wrapperStyle,\n    wrapperStyle = _props$wrapperStyle === void 0 ? {} : _props$wrapperStyle,\n    others = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props, _excluded);\n  var Name = field.Name,\n    LabelWidth = field.LabelWidth,\n    ShowTitle = field.ShowTitle,\n    HelpTips = field.HelpTips,\n    TitleArea = field.TitleArea,\n    MustInput = field.MustInput,\n    Status = field.Status,\n    FieldRequired = field.FieldRequired,\n    Key = field.Key;\n  var showTitle = !(0,_utils_control__WEBPACK_IMPORTED_MODULE_7__.isHideTitleArea)(TitleArea);\n  var labelStyle = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    width: LabelWidth\n  }, props.labelStyle);\n  var editControlNameProps = (0,_hooks_useEditControlName__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(field);\n  var required = getControlRequired(field, fieldStatusMap);\n  var style = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    padding: '0 12px',\n    margin: '0 -12px'\n  }, wrapperStyle);\n  if (isPC) {\n    var _context;\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n      style: style\n    }, dragEvent), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_8__.FieldItem, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n      className: classnames__WEBPACK_IMPORTED_MODULE_9___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context = \"\".concat(prefixCls, \"-item-\")).call(_context, fieldStatusMap[Key]), fieldStatusMap[Key])),\n      labelClassName: \"\".concat(prefixCls, \"-designer-field-item\"),\n      labelProps: editControlNameProps,\n      labelText: Name,\n      required: required,\n      labelStyle: labelStyle,\n      showTitle: showTitle,\n      tips: HelpTips,\n      tipsTrigger: !isPC ? 'click' : tipsTrigger,\n      tipsDisabled: true\n    }, others), children));\n  }\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_8__.FieldItem, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    className: classnames__WEBPACK_IMPORTED_MODULE_9___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context2 = \"\".concat(prefixCls, \"-item-\")).call(_context2, fieldStatusMap[Key]), fieldStatusMap[Key])),\n    labelClassName: \"\".concat(prefixCls, \"-designer-field-item\"),\n    labelProps: editControlNameProps,\n    labelText: Name,\n    required: required,\n    labelStyle: labelStyle,\n    showTitle: showTitle,\n    tips: HelpTips,\n    tipsTrigger: !isPC ? 'click' : tipsTrigger,\n    tipsDisabled: true\n  }, others, dragEvent), children);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DesignerFieldItem);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY4NTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQU9BO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvYXBDb250cm9scy9jb21tb24vRGVzaWduZXJGaWVsZEl0ZW0udHN4PzE4MGQiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0xMC0xNCAxNzo0Njo1M1xuICogQExhc3RFZGl0VGltZTogMjAyNC0wNC0wOSAxNjoxNzowN1xuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VNZW1vLCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0J1xuaW1wb3J0IHsgVEVYVF9TVEFUVVNfRU5VTSB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9jb250cm9sJ1xuaW1wb3J0IHVzZUVkaXRDb250cm9sTmFtZSBmcm9tICcuLi8uLi9ob29rcy91c2VFZGl0Q29udHJvbE5hbWUnXG5pbXBvcnQgeyBpc0hpZGVUaXRsZUFyZWEsIGlzQ29udHJvbFJlcXVpcmVkIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29udHJvbCdcbmltcG9ydCB7IEZpZWxkSXRlbSB9IGZyb20gJ25vY29kZV9jb21wb25lbnQvV2ViVUknXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xuaW1wb3J0IHsgaGFzU2V0RmllbGRTdGF0dXMgfSBmcm9tICcuLi8uLi91dGlscydcblxuZXhwb3J0IGNvbnN0IGdldENvbnRyb2xSZXF1aXJlZCA9IChmaWVsZCwgZmllbGRTdGF0dXNNYXApID0+IHtcbiAgY29uc3QgeyBLZXkgfSA9IGZpZWxkXG5cbiAgcmV0dXJuIChpc0NvbnRyb2xSZXF1aXJlZChmaWVsZCkgJiYgIWhhc1NldEZpZWxkU3RhdHVzKGZpZWxkU3RhdHVzTWFwW0tleV0pKSB8fCBmaWVsZFN0YXR1c01hcFtLZXldID09PSAnbXVzdElucHV0J1xufVxuXG5jb25zdCBEZXNpZ25lckZpZWxkSXRlbSA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7IGlzUEMsIHByZWZpeENscywgZmllbGRTdGF0dXNNYXAgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCB7IGZpZWxkLCBjaGlsZHJlbiwgdGlwc1RyaWdnZXIsIGRyYWdFdmVudCA9IHt9LCB3cmFwcGVyU3R5bGUgPSB7fSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xuICBjb25zdCB7XG4gICAgTmFtZSwgTGFiZWxXaWR0aCxcbiAgICBTaG93VGl0bGUsIEhlbHBUaXBzLCBUaXRsZUFyZWEsXG4gICAgTXVzdElucHV0LCBTdGF0dXMsIEZpZWxkUmVxdWlyZWQsXG4gICAgS2V5XG4gIH0gPSBmaWVsZFxuICBjb25zdCBzaG93VGl0bGUgPSAhaXNIaWRlVGl0bGVBcmVhKFRpdGxlQXJlYSlcbiAgY29uc3QgbGFiZWxTdHlsZSA9IE9iamVjdC5hc3NpZ24oeyB3aWR0aDogTGFiZWxXaWR0aCB9LCBwcm9wcy5sYWJlbFN0eWxlKVxuICBjb25zdCBlZGl0Q29udHJvbE5hbWVQcm9wcyA9IHVzZUVkaXRDb250cm9sTmFtZShmaWVsZClcbiAgY29uc3QgcmVxdWlyZWQgPSBnZXRDb250cm9sUmVxdWlyZWQoZmllbGQsIGZpZWxkU3RhdHVzTWFwKVxuXG4gIGNvbnN0IHN0eWxlID0gT2JqZWN0LmFzc2lnbih7IHBhZGRpbmc6ICcwIDEycHgnLCBtYXJnaW46ICcwIC0xMnB4JyB9LCB3cmFwcGVyU3R5bGUpXG4gIGlmIChpc1BDKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgc3R5bGU9e3N0eWxlfSB7Li4uZHJhZ0V2ZW50fT5cbiAgICAgICAgPEZpZWxkSXRlbVxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyh7IFtgJHtwcmVmaXhDbHN9LWl0ZW0tJHtmaWVsZFN0YXR1c01hcFtLZXldfWBdOiBmaWVsZFN0YXR1c01hcFtLZXldIH0pfVxuICAgICAgICAgIGxhYmVsQ2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWRlc2lnbmVyLWZpZWxkLWl0ZW1gfVxuICAgICAgICAgIGxhYmVsUHJvcHM9e2VkaXRDb250cm9sTmFtZVByb3BzfVxuICAgICAgICAgIGxhYmVsVGV4dD17TmFtZX1cbiAgICAgICAgICByZXF1aXJlZD17cmVxdWlyZWR9XG4gICAgICAgICAgbGFiZWxTdHlsZT17bGFiZWxTdHlsZX1cbiAgICAgICAgICBzaG93VGl0bGU9e3Nob3dUaXRsZX1cbiAgICAgICAgICB0aXBzPXtIZWxwVGlwc31cbiAgICAgICAgICB0aXBzVHJpZ2dlcj17IWlzUEMgPyAnY2xpY2snIDogdGlwc1RyaWdnZXJ9XG4gICAgICAgICAgdGlwc0Rpc2FibGVkXG4gICAgICAgICAgey4uLm90aGVyc31cbiAgICAgICAgPlxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9GaWVsZEl0ZW0+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbiAgcmV0dXJuIChcbiAgICA8RmllbGRJdGVtXG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoeyBbYCR7cHJlZml4Q2xzfS1pdGVtLSR7ZmllbGRTdGF0dXNNYXBbS2V5XX1gXTogZmllbGRTdGF0dXNNYXBbS2V5XSB9KX1cbiAgICAgIGxhYmVsQ2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWRlc2lnbmVyLWZpZWxkLWl0ZW1gfVxuICAgICAgbGFiZWxQcm9wcz17ZWRpdENvbnRyb2xOYW1lUHJvcHN9XG4gICAgICBsYWJlbFRleHQ9e05hbWV9XG4gICAgICByZXF1aXJlZD17cmVxdWlyZWR9XG4gICAgICBsYWJlbFN0eWxlPXtsYWJlbFN0eWxlfVxuICAgICAgc2hvd1RpdGxlPXtzaG93VGl0bGV9XG4gICAgICB0aXBzPXtIZWxwVGlwc31cbiAgICAgIHRpcHNUcmlnZ2VyPXshaXNQQyA/ICdjbGljaycgOiB0aXBzVHJpZ2dlcn1cbiAgICAgIHRpcHNEaXNhYmxlZFxuICAgICAgey4uLm90aGVyc31cbiAgICAgIHsuLi5kcmFnRXZlbnR9XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvRmllbGRJdGVtPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IERlc2lnbmVyRmllbGRJdGVtXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16852\n");

/***/ }),

/***/ 34080:
/*!*****************************************************!*\
  !*** ./src/apControls/common/NoCodeBizButtonAp.tsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_5__);\n\n\nvar _excluded = [\"dragEvent\"];\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-05-10 19:50:04\n * @LastEditTime: 2023-05-10 20:42:45\n * @Last Modified by: jianhang_he\n */\n\n\n\n\nvar NoCodeBizButtonAp = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.memo)(function (_ref) {\n  var field = _ref.field;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context__WEBPACK_IMPORTED_MODULE_3__.DesignerContext),\n    prefixCls = _useContext.prefixCls;\n  var _useGetDomProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(field),\n    dragEvent = _useGetDomProps.dragEvent,\n    domProps = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useGetDomProps, _excluded);\n  var name = field.Name;\n  var EmptyText = field.EmptyText,\n    DataRage = field.DataRage,\n    showClearButton = field.showClearButton,\n    Status = field.Status,\n    Visibility = field.Visibility;\n\n  // 这里应该搞个字段映射关系的，PC端也一致\n  // const inputProps: any = {\n  //   placeholder: EmptyText,\n  //   Grow: 1,\n  //   allowClear: showClearButton,\n  //   dataRage: DataRage,\n  //   disabled: Status === TEXT_STATUS_ENUM.DISABLED,\n  //   readOnly: true // 设计器的默认开启\n  // }\n\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    className: \"\".concat(prefixCls, \"-bizbutton\")\n  }, domProps, dragEvent), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_5__.BtnField, null, name));\n});\nNoCodeBizButtonAp.displayName = 'NoCodeBizButtonAp';\n/* harmony default export */ __webpack_exports__[\"default\"] = (NoCodeBizButtonAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQwODAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFJQTtBQUVBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvYXBDb250cm9scy9jb21tb24vTm9Db2RlQml6QnV0dG9uQXAudHN4PzVhZGEiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMy0wNS0xMCAxOTo1MDowNFxuICogQExhc3RFZGl0VGltZTogMjAyMy0wNS0xMCAyMDo0Mjo0NVxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCwgeyBtZW1vLCB1c2VDb250ZXh0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0J1xuaW1wb3J0IHVzZUdldERvbVByb3BzIGZyb20gJy4uLy4uL2hvb2tzL3VzZUdldERvbVByb3BzJ1xuaW1wb3J0IHsgQnRuRmllbGQgYXMgQnV0dG9uIH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcblxuY29uc3QgTm9Db2RlQml6QnV0dG9uQXAgPSBtZW1vKCh7XG4gIGZpZWxkXG59KSA9PiB7XG4gIGNvbnN0IHsgcHJlZml4Q2xzIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3QgeyBkcmFnRXZlbnQsIC4uLmRvbVByb3BzIH0gPSB1c2VHZXREb21Qcm9wcyhmaWVsZClcbiAgY29uc3QgeyBOYW1lOiBuYW1lIH0gPSBmaWVsZFxuXG4gIGNvbnN0IHtcbiAgICBFbXB0eVRleHQsXG4gICAgRGF0YVJhZ2UsXG4gICAgc2hvd0NsZWFyQnV0dG9uLFxuICAgIFN0YXR1cyxcbiAgICBWaXNpYmlsaXR5XG4gIH0gPSBmaWVsZFxuXG4gIC8vIOi/memHjOW6lOivpeaQnuS4quWtl+auteaYoOWwhOWFs+ezu+eahO+8jFBD56uv5Lmf5LiA6Ie0XG4gIC8vIGNvbnN0IGlucHV0UHJvcHM6IGFueSA9IHtcbiAgLy8gICBwbGFjZWhvbGRlcjogRW1wdHlUZXh0LFxuICAvLyAgIEdyb3c6IDEsXG4gIC8vICAgYWxsb3dDbGVhcjogc2hvd0NsZWFyQnV0dG9uLFxuICAvLyAgIGRhdGFSYWdlOiBEYXRhUmFnZSxcbiAgLy8gICBkaXNhYmxlZDogU3RhdHVzID09PSBURVhUX1NUQVRVU19FTlVNLkRJU0FCTEVELFxuICAvLyAgIHJlYWRPbmx5OiB0cnVlIC8vIOiuvuiuoeWZqOeahOm7mOiupOW8gOWQr1xuICAvLyB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1iaXpidXR0b25gfSB7Li4uZG9tUHJvcHN9IHsuLi5kcmFnRXZlbnR9PlxuICAgICAgPEJ1dHRvbj57bmFtZX08L0J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufSlcblxuTm9Db2RlQml6QnV0dG9uQXAuZGlzcGxheU5hbWUgPSAnTm9Db2RlQml6QnV0dG9uQXAnXG5cbmV4cG9ydCBkZWZhdWx0IE5vQ29kZUJpekJ1dHRvbkFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///34080\n");

/***/ }),

/***/ 27516:
/*!************************************************!*\
  !*** ./src/apControls/common/ReadonlyText.tsx ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../context */ 90115);\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-09-29 10:48:03\n * @LastEditTime: 2022-09-29 10:58:20\n * @Last Modified by: jianhang_he\n */\n\n\n/**\n * @description 只读文本\n * @param value 值\n */\nvar ReadonlyText = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_0__.memo)(function (_ref) {\n  var value = _ref.value;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_1__.DesignerContext),\n    prefixCls = _useContext.prefixCls;\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n    className: \"\".concat(prefixCls, \"-readonly-text\")\n  }, value === '' || value == undefined ? '-' : value);\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (ReadonlyText);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjc1MTYuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2FwQ29udHJvbHMvY29tbW9uL1JlYWRvbmx5VGV4dC50c3g/MGYyOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIyLTA5LTI5IDEwOjQ4OjAzXG4gKiBATGFzdEVkaXRUaW1lOiAyMDIyLTA5LTI5IDEwOjU4OjIwXG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuaW1wb3J0IFJlYWN0LCB7IG1lbW8sIEZDLCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0J1xuXG5pbnRlcmZhY2UgUmVhZG9ubHlUZXh0QXBpIHtcbiAgdmFsdWU/OiBzdHJpbmdcbn1cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5Y+q6K+75paH5pysXG4gKiBAcGFyYW0gdmFsdWUg5YC8XG4gKi9cbmNvbnN0IFJlYWRvbmx5VGV4dDogRkM8UmVhZG9ubHlUZXh0QXBpPiA9IG1lbW8oKHtcbiAgdmFsdWVcbn0pID0+IHtcbiAgY29uc3QgeyBwcmVmaXhDbHMgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LXJlYWRvbmx5LXRleHRgfT57dmFsdWUgPT09ICcnIHx8IHZhbHVlID09IHVuZGVmaW5lZCA/ICctJyA6IHZhbHVlfTwvcD5cbiAgKVxufSlcblxuZXhwb3J0IGRlZmF1bHQgUmVhZG9ubHlUZXh0XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///27516\n");

/***/ }),

/***/ 6431:
/*!*********************************************!*\
  !*** ./src/apControls/common/RootPanel.tsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _hooks_useGetSubControls__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useGetSubControls */ 65988);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _assets_images_designer_empty_png__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../assets/images/designer-empty.png */ 59631);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils */ 41232);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../constants */ 98092);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! nocode_component/MobUI */ 65873);\n/* harmony import */ var nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _hooks_useDragDrop__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../hooks/useDragDrop */ 52708);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_14__);\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-08-05 09:57:26\n * @LastEditTime: 2023-06-02 17:59:26\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\n\n\n\n\nvar RootPanel = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.memo)(function (_ref) {\n  var _context;\n  var field = _ref.field;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_context__WEBPACK_IMPORTED_MODULE_6__.DesignerContext),\n    isPC = _useContext.isPC,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    prefixCls = _useContext.prefixCls,\n    baseUrl = _useContext.baseUrl;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data;\n  var columnSpan = field.ColumnSpan,\n    gutter = field.Gutter,\n    bgc = field.BackColor,\n    backImage = field.BackImage,\n    customStyle = field.CustomStyle;\n  var data = dataContext.getData();\n  var rootId = dataContext.getRootId();\n  var findControl = dataContext.findControl;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(field, false);\n  // 需要过滤pc端显示或者是移动端显示的控件\n  var subControls = (0,_hooks_useGetSubControls__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(field, data, {\n    isPC: isPC,\n    excludeType: _constants__WEBPACK_IMPORTED_MODULE_10__.NOCODE_BIZBUTTON_PANEL_AP\n  }, findControl);\n  var rootClassName = classnames__WEBPACK_IMPORTED_MODULE_14___default()(\"\".concat(prefixCls, \"-root-panel\"), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default()(_context = \"\".concat(prefixCls, \"-root-panel-\")).call(_context, isPC ? 'isPC' : 'isMb'), true));\n  var emptyNode = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {\n    var _context2;\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n      className: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default()(_context2 = \"\".concat(prefixCls, \"-root-panel-\")).call(_context2, isPC ? 'isPC' : 'isMb', \"-empty\")\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"img\", {\n      src: _assets_images_designer_empty_png__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n      alt: \"\\u6682\\u65E0\\u6570\\u636E\",\n      className: \"empty-img\"\n    }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n      className: \"empty-desc\"\n    }, \"\\u60A8\\u8FD8\\u6CA1\\u6709\\u5185\\u5BB9\\uFF0C\\u70B9\\u51FB\\u6216\\u62D6\\u62FD\\u5DE6\\u4FA7\\u5185\\u5BB9\\u65B0\\u5EFA\"));\n  }, [isPC]);\n  var renderSubControls = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function () {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-root-panel-content\"),\n      style: isPC ? {\n        padding: '24px'\n      } : {}\n    }, isPC ? /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_11__.GridPanel, {\n      column: columnSpan,\n      gutter: gutter || [24, 24],\n      id: \"root-grid-panel\"\n    }, subControls === null || subControls === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default()(subControls).call(subControls, function (control, index) {\n      var _control$props, _control$props2;\n      return kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().cloneElement(control, {\n        itemKey: control.key || (control === null || control === void 0 || (_control$props = control.props) === null || _control$props === void 0 || (_control$props = _control$props.field) === null || _control$props === void 0 ? void 0 : _control$props.key),\n        columnSpan: control === null || control === void 0 || (_control$props2 = control.props) === null || _control$props2 === void 0 || (_control$props2 = _control$props2.field) === null || _control$props2 === void 0 ? void 0 : _control$props2.ColumnSpan\n      });\n    })) : subControls);\n  }, [isPC, subControls, columnSpan, gutter, nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_11__.GridPanel]);\n  var formName = data === null || data === void 0 ? void 0 : data.name;\n  var FormBannerComponent = isPC ? nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_11__.FormBanner : nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_12__.FormBanner;\n  var formBanner = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {\n    return customStyle && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(FormBannerComponent, {\n      title: formName,\n      image: (0,_utils__WEBPACK_IMPORTED_MODULE_9__.getBackImageUrl)(baseUrl.picture, backImage)\n    });\n  }, [customStyle, formName, baseUrl.picture, backImage, FormBannerComponent, _utils__WEBPACK_IMPORTED_MODULE_9__.getBackImageUrl]);\n  var dragDropProps = (0,_hooks_useDragDrop__WEBPACK_IMPORTED_MODULE_13__[\"default\"])();\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-root-panel-wrapper\"),\n    style: {\n      backgroundColor: customStyle && bgc\n    },\n    \"data-drag-id\": rootId\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    id: \"ui-designer-root\"\n  }, domProps, {\n    className: rootClassName\n  }, dragDropProps), subControls.length ? /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-root-panel-scroll\")\n  }, formBanner, renderSubControls()) : /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().Fragment), null, formBanner, emptyNode)));\n});\nRootPanel.displayName = 'RootPanel';\n/* harmony default export */ __webpack_exports__[\"default\"] = (RootPanel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQzMS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBSUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFZQTtBQUVBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvYXBDb250cm9scy9jb21tb24vUm9vdFBhbmVsLnRzeD84ZjNiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDgtMDUgMDk6NTc6MjZcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMDYtMDIgMTc6NTk6MjZcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlTWVtbywgbWVtbywgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB1c2VHZXRTdWJDb250cm9scyBmcm9tICcuLi8uLi9ob29rcy91c2VHZXRTdWJDb250cm9scydcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQnXG5pbXBvcnQgdXNlR2V0RG9tUHJvcHMgZnJvbSAnLi4vLi4vaG9va3MvdXNlR2V0RG9tUHJvcHMnXG5pbXBvcnQgZW1wdHlJTUcgZnJvbSAnLi4vLi4vLi4vYXNzZXRzL2ltYWdlcy9kZXNpZ25lci1lbXB0eS5wbmcnXG5pbXBvcnQgeyBnZXRCYWNrSW1hZ2VVcmwgfSBmcm9tICcuLi8uLi91dGlscydcbmltcG9ydCB7IE5PQ09ERV9CSVpCVVRUT05fUEFORUxfQVAgfSBmcm9tICcuLi8uLi9jb25zdGFudHMnXG5pbXBvcnQgeyBGb3JtQmFubmVyIGFzIFdlYkZvcm1CYW5uZXIsIEdyaWRQYW5lbCB9IGZyb20gJ25vY29kZV9jb21wb25lbnQvV2ViVUknXG5pbXBvcnQgeyBGb3JtQmFubmVyIGFzIE1vYkZvcm1CYW5uZXIgfSBmcm9tICdub2NvZGVfY29tcG9uZW50L01vYlVJJ1xuaW1wb3J0IHVzZURyYWdEcm9wIGZyb20gJy4uLy4uL2hvb2tzL3VzZURyYWdEcm9wJ1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcydcblxuY29uc3QgUm9vdFBhbmVsID0gbWVtbygoeyBmaWVsZCB9KSA9PiB7XG4gIGNvbnN0IHsgaXNQQywgZ2V0S2Rlc2lnbmVyQXBpLCBwcmVmaXhDbHMsIGJhc2VVcmwgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0IH0gPSBnZXRLZGVzaWduZXJBcGkoKVxuICBjb25zdCB7IENvbHVtblNwYW46IGNvbHVtblNwYW4sIEd1dHRlcjogZ3V0dGVyLCBCYWNrQ29sb3I6IGJnYywgQmFja0ltYWdlOiBiYWNrSW1hZ2UsIEN1c3RvbVN0eWxlOiBjdXN0b21TdHlsZSB9ID0gZmllbGRcbiAgY29uc3QgZGF0YSA9IGRhdGFDb250ZXh0LmdldERhdGEoKVxuICBjb25zdCByb290SWQgPSBkYXRhQ29udGV4dC5nZXRSb290SWQoKVxuICBjb25zdCBmaW5kQ29udHJvbCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sXG4gIGNvbnN0IGRvbVByb3BzID0gdXNlR2V0RG9tUHJvcHMoZmllbGQsIGZhbHNlKVxuICAvLyDpnIDopoHov4fmu6RwY+err+aYvuekuuaIluiAheaYr+enu+WKqOerr+aYvuekuueahOaOp+S7tlxuICBjb25zdCBzdWJDb250cm9scyA9IHVzZUdldFN1YkNvbnRyb2xzKGZpZWxkLCBkYXRhLCB7IGlzUEMsIGV4Y2x1ZGVUeXBlOiBOT0NPREVfQklaQlVUVE9OX1BBTkVMX0FQIH0sIGZpbmRDb250cm9sKVxuXG4gIGNvbnN0IHJvb3RDbGFzc05hbWUgPSBjbGFzc05hbWVzKGAke3ByZWZpeENsc30tcm9vdC1wYW5lbGAsIHtcbiAgICBbYCR7cHJlZml4Q2xzfS1yb290LXBhbmVsLSR7aXNQQyA/ICdpc1BDJyA6ICdpc01iJ31gXTogdHJ1ZVxuICB9KVxuXG4gIGNvbnN0IGVtcHR5Tm9kZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1yb290LXBhbmVsLSR7aXNQQyA/ICdpc1BDJyA6ICdpc01iJ30tZW1wdHlgfT5cbiAgICAgICAgPGltZyBzcmM9e2VtcHR5SU1HfSBhbHQ9J+aaguaXoOaVsOaNricgY2xhc3NOYW1lPSdlbXB0eS1pbWcnIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdlbXB0eS1kZXNjJz7mgqjov5jmsqHmnInlhoXlrrnvvIzngrnlh7vmiJbmi5bmi73lt6bkvqflhoXlrrnmlrDlu7o8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSwgW2lzUENdKVxuXG4gIGNvbnN0IHJlbmRlclN1YkNvbnRyb2xzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1yb290LXBhbmVsLWNvbnRlbnRgfSBzdHlsZT17aXNQQyA/IHsgcGFkZGluZzogJzI0cHgnIH0gOiB7fX0+XG4gICAgICAgIHtcbiAgICAgICAgICBpc1BDXG4gICAgICAgICAgICA/IDxHcmlkUGFuZWwgY29sdW1uPXtjb2x1bW5TcGFufSBndXR0ZXI9e2d1dHRlciB8fCBbMjQsIDI0XX0gaWQ9J3Jvb3QtZ3JpZC1wYW5lbCc+XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdWJDb250cm9scz8ubWFwKChjb250cm9sLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjb250cm9sLCB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1LZXk6IGNvbnRyb2wua2V5IHx8IGNvbnRyb2w/LnByb3BzPy5maWVsZD8ua2V5LFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5TcGFuOiBjb250cm9sPy5wcm9wcz8uZmllbGQ/LkNvbHVtblNwYW5cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvR3JpZFBhbmVsPlxuICAgICAgICAgICAgOiBzdWJDb250cm9sc1xuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sIFtpc1BDLCBzdWJDb250cm9scywgY29sdW1uU3BhbiwgZ3V0dGVyLCBHcmlkUGFuZWxdKVxuXG4gIGNvbnN0IGZvcm1OYW1lID0gZGF0YT8ubmFtZVxuXG4gIGNvbnN0IEZvcm1CYW5uZXJDb21wb25lbnQgPSBpc1BDID8gV2ViRm9ybUJhbm5lciA6IE1vYkZvcm1CYW5uZXJcblxuICBjb25zdCBmb3JtQmFubmVyID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGN1c3RvbVN0eWxlICYmXG4gICAgICA8Rm9ybUJhbm5lckNvbXBvbmVudFxuICAgICAgICB0aXRsZT17Zm9ybU5hbWV9XG4gICAgICAgIGltYWdlPXtnZXRCYWNrSW1hZ2VVcmwoYmFzZVVybC5waWN0dXJlLCBiYWNrSW1hZ2UpfVxuICAgICAgLz5cbiAgfSwgW2N1c3RvbVN0eWxlLCBmb3JtTmFtZSwgYmFzZVVybC5waWN0dXJlLCBiYWNrSW1hZ2UsIEZvcm1CYW5uZXJDb21wb25lbnQsIGdldEJhY2tJbWFnZVVybF0pXG5cbiAgY29uc3QgZHJhZ0Ryb3BQcm9wcyA9IHVzZURyYWdEcm9wKClcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LXJvb3QtcGFuZWwtd3JhcHBlcmB9IHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogY3VzdG9tU3R5bGUgJiYgYmdjIH19IGRhdGEtZHJhZy1pZD17cm9vdElkfT5cbiAgICAgIDxkaXYgaWQ9J3VpLWRlc2lnbmVyLXJvb3QnIHsuLi5kb21Qcm9wc30gY2xhc3NOYW1lPXtyb290Q2xhc3NOYW1lfSB7Li4uZHJhZ0Ryb3BQcm9wc30+XG4gICAgICAgIHtcbiAgICAgICAgICBzdWJDb250cm9scy5sZW5ndGhcbiAgICAgICAgICAgID8gPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tcm9vdC1wYW5lbC1zY3JvbGxgfT5cbiAgICAgICAgICAgICAge2Zvcm1CYW5uZXJ9XG4gICAgICAgICAgICAgIHtyZW5kZXJTdWJDb250cm9scygpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA6IDw+XG4gICAgICAgICAgICAgIHtmb3JtQmFubmVyfVxuICAgICAgICAgICAgICB7ZW1wdHlOb2RlfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn0pXG5cblJvb3RQYW5lbC5kaXNwbGF5TmFtZSA9ICdSb290UGFuZWwnXG5cbmV4cG9ydCBkZWZhdWx0IFJvb3RQYW5lbFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6431\n");

/***/ }),

/***/ 71576:
/*!****************************************************!*\
  !*** ./src/apControls/common/UndefinedControl.tsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nvar UndefinedControl = function UndefinedControl(_ref) {\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(field);\n  var type = field._Type_,\n    Id = field.Id,\n    Name = field.Name;\n  var displayName = Name || Id;\n  var mergedClassName = classnames__WEBPACK_IMPORTED_MODULE_3___default()(['undefined-control-root', 'text-omit']);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    className: mergedClassName\n  }), displayName);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (UndefinedControl);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzE1NzYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9hcENvbnRyb2xzL2NvbW1vbi9VbmRlZmluZWRDb250cm9sLnRzeD83Y2M3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L2luZGV4J1xuaW1wb3J0IHVzZUdldERvbVByb3BzIGZyb20gJy4uLy4uL2hvb2tzL3VzZUdldERvbVByb3BzJ1xuaW1wb3J0IHVzZUdldENvbnRyb2xQcm9wcyBmcm9tICcuLi8uLi9ob29rcy91c2VHZXRDb250cm9sUHJvcHMnXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xuXG5jb25zdCBVbmRlZmluZWRDb250cm9sID0gKHsgZmllbGQgfSkgPT4ge1xuICBjb25zdCBkb21Qcm9wcyA9IHVzZUdldERvbVByb3BzKGZpZWxkKVxuICBjb25zdCB7IF9UeXBlXzogdHlwZSwgSWQsIE5hbWUgfSA9IGZpZWxkXG4gIGNvbnN0IGRpc3BsYXlOYW1lID0gTmFtZSB8fCBJZFxuICBjb25zdCBtZXJnZWRDbGFzc05hbWUgPSBjbGFzc05hbWVzKFtcbiAgICAndW5kZWZpbmVkLWNvbnRyb2wtcm9vdCcsXG4gICAgJ3RleHQtb21pdCdcbiAgXSlcblxuICByZXR1cm4gPGRpdiB7Li4uZG9tUHJvcHN9IGNsYXNzTmFtZT17bWVyZ2VkQ2xhc3NOYW1lfT57ZGlzcGxheU5hbWV9PC9kaXY+XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVuZGVmaW5lZENvbnRyb2xcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///71576\n");

/***/ }),

/***/ 74244:
/*!*********************************!*\
  !*** ./src/apControls/index.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getControlByType: function() { return /* binding */ getControlByType; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _common_UndefinedControl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./common/UndefinedControl */ 71576);\n/* harmony import */ var _common_RootPanel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./common/RootPanel */ 6431);\n/* harmony import */ var _web_index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./web/index */ 32712);\n/* harmony import */ var _mobile_index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./mobile/index */ 24252);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/control */ 3700);\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\n\nvar commonControls = {\n  UndefinedControl: _common_UndefinedControl__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n  RootPanel: _common_RootPanel__WEBPACK_IMPORTED_MODULE_7__[\"default\"]\n};\nvar getControlByType = function getControlByType(controlType, isPc) {\n  // 人员等业务字段是以NoCodeRefBillField开头，后缀又不固定，也当成NoCodeRefBillField来处理\n  controlType = (0,_utils_control__WEBPACK_IMPORTED_MODULE_10__.isRefBill)(controlType) ? 'NoCodeRefBillField' : controlType;\n  if (isPc) {\n    return _web_index__WEBPACK_IMPORTED_MODULE_8__[\"default\"][controlType];\n  } else {\n    return _mobile_index__WEBPACK_IMPORTED_MODULE_9__[\"default\"][controlType];\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (_objectSpread(_objectSpread(_objectSpread({}, _web_index__WEBPACK_IMPORTED_MODULE_8__[\"default\"]), _mobile_index__WEBPACK_IMPORTED_MODULE_9__[\"default\"]), commonControls));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzQyNDQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2FwQ29udHJvbHMvaW5kZXgudHM/Y2RlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFcnJvckJvdW5kYXJ5V3JhcCB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcclxuaW1wb3J0IFVuZGVmaW5lZENvbnRyb2wgZnJvbSAnLi9jb21tb24vVW5kZWZpbmVkQ29udHJvbCdcclxuaW1wb3J0IFJvb3RQYW5lbCBmcm9tICcuL2NvbW1vbi9Sb290UGFuZWwnXHJcbmltcG9ydCBwY0NvbnRyb2xzIGZyb20gJy4vd2ViL2luZGV4J1xyXG5pbXBvcnQgbW9iaWxlQ29udHJvbHMgZnJvbSAnLi9tb2JpbGUvaW5kZXgnXHJcbmltcG9ydCB7IGlzUmVmQmlsbCB9IGZyb20gJy4uL3V0aWxzL2NvbnRyb2wnXHJcblxyXG5jb25zdCBjb21tb25Db250cm9scyA9IHtcclxuICBVbmRlZmluZWRDb250cm9sLFxyXG4gIFJvb3RQYW5lbFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0Q29udHJvbEJ5VHlwZSA9IChjb250cm9sVHlwZTpzdHJpbmcsIGlzUGM6IGJvb2xlYW4pID0+IHtcclxuICAvLyDkurrlkZjnrYnkuJrliqHlrZfmrrXmmK/ku6VOb0NvZGVSZWZCaWxsRmllbGTlvIDlpLTvvIzlkI7nvIDlj4jkuI3lm7rlrprvvIzkuZ/lvZPmiJBOb0NvZGVSZWZCaWxsRmllbGTmnaXlpITnkIZcclxuICBjb250cm9sVHlwZSA9IGlzUmVmQmlsbChjb250cm9sVHlwZSkgPyAnTm9Db2RlUmVmQmlsbEZpZWxkJyA6IGNvbnRyb2xUeXBlXHJcbiAgaWYgKGlzUGMpIHtcclxuICAgIHJldHVybiBwY0NvbnRyb2xzW2NvbnRyb2xUeXBlXVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gbW9iaWxlQ29udHJvbHNbY29udHJvbFR5cGVdXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7IC4uLnBjQ29udHJvbHMsIC4uLm1vYmlsZUNvbnRyb2xzLCAuLi5jb21tb25Db250cm9scyB9XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///74244\n");

/***/ }),

/***/ 76172:
/*!***************************************************!*\
  !*** ./src/apControls/mobile/base/Attachment.tsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_instance_replace_all__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js/instance/replace-all */ 35680);\n/* harmony import */ var _babel_runtime_corejs3_core_js_instance_replace_all__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_instance_replace_all__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../context */ 90115);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! nocode_component/MobUI */ 65873);\n/* harmony import */ var nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n/**\n * 支持附件上传控件\n * @description 无代码设计器控件\n * @author cxf\n * @data 2022-10-18 16:40\n */\n\n\n// import useGetControlProps from '../../../hooks/useGetControlProps'\n\n\n// import { TEXT_STATUS_ENUM } from '../../../constants/control'\n\n\nvar AttachmentAp = function AttachmentAp(_ref) {\n  var _context, _context2, _context3;\n  var field = _ref.field;\n  var FieldType = field.FieldType,\n    FileMaxSize = field.FileMaxSize,\n    UploadNum = field.UploadNum,\n    UploadModel = field.UploadModel,\n    UploadPrompt = field.UploadPrompt,\n    ButtonText = field.ButtonText,\n    AttachmentFileType = field.AttachmentFileType;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_context__WEBPACK_IMPORTED_MODULE_5__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(field);\n  var getControlPropertyDefaultValue = getKdesignerApi().meta.getControlPropertyDefaultValue;\n  var pictureDefaultSize = getControlPropertyDefaultValue(FieldType, 'FileMaxSize'); // 默认图片大小\n  // const AttachmentFileType = getControlPropertyDefaultValue(FieldType, 'AttachmentFileType') // 默认图片大小\n  // 这里应该搞个字段映射关系的，PC端也一致\n  var inputProps = {\n    disabled: true // 设计器的默认开启\n  };\n  var inputStyle = {\n    fontSize: '12px',\n    textAlign: 'left'\n  };\n  console.log('AttachmentAp', UploadNum, field);\n  var noticeInfo = UploadPrompt ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default()(_context2 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default()(_context3 = \"\\u8BF7\\u4E0A\\u4F20\\u5C0F\\u4E8E\".concat(FileMaxSize || pictureDefaultSize, \"M\\u7684\")).call(_context3, AttachmentFileType === null || AttachmentFileType === void 0 ? void 0 : _babel_runtime_corejs3_core_js_instance_replace_all__WEBPACK_IMPORTED_MODULE_2___default()(AttachmentFileType).call(AttachmentFileType, '.', ''), \"\\u6587\\u4EF6\\uFF0C\\u6587\\u4EF6\\u4E2A\\u6570\\u4E0D\\u5C11\\u4E8E\")).call(_context2, (UploadNum === null || UploadNum === void 0 ? void 0 : UploadNum.min) || 0, \"\\u4E2A\\uFF0C\\u4E0D\\u591A\\u4E8E\")).call(_context, (UploadNum === null || UploadNum === void 0 ? void 0 : UploadNum.max) || 1, \"\\u4E2A\\u3002\") : '';\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_6__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_7__.Attachment, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    style: inputStyle,\n    fileList: [],\n    mode: UploadModel,\n    uploadNum: UploadNum,\n    noticeInfo: noticeInfo,\n    buttonText: ButtonText\n  }, inputProps)));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (AttachmentAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzYxNzIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvYXBDb250cm9scy9tb2JpbGUvYmFzZS9BdHRhY2htZW50LnRzeD8wMTI4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog5pSv5oyB6ZmE5Lu25LiK5Lyg5o6n5Lu2XG4gKiBAZGVzY3JpcHRpb24g5peg5Luj56CB6K6+6K6h5Zmo5o6n5Lu2XG4gKiBAYXV0aG9yIGN4ZlxuICogQGRhdGEgMjAyMi0xMC0xOCAxNjo0MFxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHVzZUdldERvbVByb3BzIGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUdldERvbVByb3BzJ1xuLy8gaW1wb3J0IHVzZUdldENvbnRyb2xQcm9wcyBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VHZXRDb250cm9sUHJvcHMnXG5pbXBvcnQgeyBBcENvbnRyb2xQcm9wcyB9IGZyb20gJy4uLy4uLy4uL3R5cGUnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi8uLi9jb250ZXh0J1xuLy8gaW1wb3J0IHsgVEVYVF9TVEFUVVNfRU5VTSB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy9jb250cm9sJ1xuaW1wb3J0IERlc2lnbmVyRmllbGRJdGVtIGZyb20gJy4uLy4uL2NvbW1vbi9EZXNpZ25lckZpZWxkSXRlbSdcbmltcG9ydCB7IEF0dGFjaG1lbnQgfSBmcm9tICdub2NvZGVfY29tcG9uZW50L01vYlVJJ1xuXG5jb25zdCBBdHRhY2htZW50QXA6IFJlYWN0LkZDPEFwQ29udHJvbFByb3BzPiA9ICh7IGZpZWxkIH0pID0+IHtcbiAgY29uc3QgeyBGaWVsZFR5cGUsIEZpbGVNYXhTaXplLCBVcGxvYWROdW0sIFVwbG9hZE1vZGVsLCBVcGxvYWRQcm9tcHQsIEJ1dHRvblRleHQsIEF0dGFjaG1lbnRGaWxlVHlwZSB9ID0gZmllbGRcbiAgY29uc3QgeyBnZXRLZGVzaWduZXJBcGkgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCBkb21Qcm9wcyA9IHVzZUdldERvbVByb3BzKGZpZWxkKVxuICBjb25zdCB7IGdldENvbnRyb2xQcm9wZXJ0eURlZmF1bHRWYWx1ZSB9ID0gZ2V0S2Rlc2lnbmVyQXBpKCkubWV0YVxuICBjb25zdCBwaWN0dXJlRGVmYXVsdFNpemUgPSBnZXRDb250cm9sUHJvcGVydHlEZWZhdWx0VmFsdWUoRmllbGRUeXBlLCAnRmlsZU1heFNpemUnKSAvLyDpu5jorqTlm77niYflpKflsI9cbiAgLy8gY29uc3QgQXR0YWNobWVudEZpbGVUeXBlID0gZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlKEZpZWxkVHlwZSwgJ0F0dGFjaG1lbnRGaWxlVHlwZScpIC8vIOm7mOiupOWbvueJh+Wkp+Wwj1xuICAvLyDov5nph4zlupTor6XmkJ7kuKrlrZfmrrXmmKDlsITlhbPns7vnmoTvvIxQQ+err+S5n+S4gOiHtFxuICBjb25zdCBpbnB1dFByb3BzOiBhbnkgPSB7XG4gICAgZGlzYWJsZWQ6IHRydWUgLy8g6K6+6K6h5Zmo55qE6buY6K6k5byA5ZCvXG4gIH1cbiAgY29uc3QgaW5wdXRTdHlsZTogYW55ID0ge1xuICAgIGZvbnRTaXplOiAnMTJweCcsXG4gICAgdGV4dEFsaWduOiAnbGVmdCdcbiAgfVxuXG4gIGNvbnNvbGUubG9nKCdBdHRhY2htZW50QXAnLCBVcGxvYWROdW0sIGZpZWxkKVxuICBjb25zdCBub3RpY2VJbmZvID0gVXBsb2FkUHJvbXB0ID8gYOivt+S4iuS8oOWwj+S6jiR7RmlsZU1heFNpemUgfHwgcGljdHVyZURlZmF1bHRTaXplfU3nmoQke0F0dGFjaG1lbnRGaWxlVHlwZT8ucmVwbGFjZUFsbCgnLicsICcnKX3mlofku7bvvIzmlofku7bkuKrmlbDkuI3lsJHkuo4ke1VwbG9hZE51bT8ubWluIHx8IDB95Liq77yM5LiN5aSa5LqOJHtVcGxvYWROdW0/Lm1heCB8fCAxfeS4quOAgmAgOiAnJ1xuICByZXR1cm4gKFxuICAgIDxEZXNpZ25lckZpZWxkSXRlbVxuICAgICAgey4uLmRvbVByb3BzfVxuICAgICAgZmllbGQ9e2ZpZWxkfVxuICAgID5cbiAgICAgIDxBdHRhY2htZW50XG4gICAgICAgIHN0eWxlPXtpbnB1dFN0eWxlfVxuICAgICAgICBmaWxlTGlzdD17W119XG4gICAgICAgIG1vZGU9e1VwbG9hZE1vZGVsfVxuICAgICAgICB1cGxvYWROdW09e1VwbG9hZE51bX1cbiAgICAgICAgbm90aWNlSW5mbz17bm90aWNlSW5mb31cbiAgICAgICAgYnV0dG9uVGV4dD17QnV0dG9uVGV4dH1cbiAgICAgICAgey4uLmlucHV0UHJvcHN9XG4gICAgICAvPlxuICAgIDwvRGVzaWduZXJGaWVsZEl0ZW0+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQXR0YWNobWVudEFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///76172\n");

/***/ }),

/***/ 73768:
/*!**************************************************!*\
  !*** ./src/apControls/mobile/base/DateField.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var _common_BaseField__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/BaseField */ 48952);\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-09-27 15:22:37\n * @LastEditTime: 2023-01-13 17:26:24\n * @Last Modified by: jianhang_he\n */\n\n\n\n\nvar DEFAULT_BORDER_TYPE = 'bordered';\nvar DATE_FORMAT = {\n  0: 'second',\n  1: 'day'\n};\nvar DateFieldAp = function DateFieldAp(_ref) {\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(field);\n  var controlProps = {\n    borderType: DEFAULT_BORDER_TYPE,\n    picker: DATE_FORMAT[field.FormatType || '1']\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_BaseField__WEBPACK_IMPORTED_MODULE_4__.MobBaseField, {\n    type: \"DatePicker\",\n    field: field,\n    props: controlProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DateFieldAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzM3NjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2FwQ29udHJvbHMvbW9iaWxlL2Jhc2UvRGF0ZUZpZWxkLnRzeD9jMzA5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDktMjcgMTU6MjI6MzdcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMDEtMTMgMTc6MjY6MjRcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgdXNlR2V0RG9tUHJvcHMgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlR2V0RG9tUHJvcHMnXG5pbXBvcnQgeyBBcENvbnRyb2xQcm9wcyB9IGZyb20gJy4uLy4uLy4uL3R5cGUnXG5pbXBvcnQgRGVzaWduZXJGaWVsZEl0ZW0gZnJvbSAnLi4vLi4vY29tbW9uL0Rlc2lnbmVyRmllbGRJdGVtJ1xuaW1wb3J0IHsgTW9iQmFzZUZpZWxkIH0gZnJvbSAnLi4vLi4vY29tbW9uL0Jhc2VGaWVsZCdcblxuY29uc3QgREVGQVVMVF9CT1JERVJfVFlQRSA9ICdib3JkZXJlZCdcblxuY29uc3QgREFURV9GT1JNQVQgPSB7XG4gIDA6ICdzZWNvbmQnLFxuICAxOiAnZGF5J1xufVxuXG5jb25zdCBEYXRlRmllbGRBcDogUmVhY3QuRkM8QXBDb250cm9sUHJvcHM+ID0gKHsgZmllbGQgfSkgPT4ge1xuICBjb25zdCBkb21Qcm9wcyA9IHVzZUdldERvbVByb3BzKGZpZWxkKVxuXG4gIGNvbnN0IGNvbnRyb2xQcm9wczogYW55ID0ge1xuICAgIGJvcmRlclR5cGU6IERFRkFVTFRfQk9SREVSX1RZUEUsXG4gICAgcGlja2VyOiBEQVRFX0ZPUk1BVFtmaWVsZC5Gb3JtYXRUeXBlIHx8ICcxJ11cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPERlc2lnbmVyRmllbGRJdGVtXG4gICAgICB7Li4uZG9tUHJvcHN9XG4gICAgICBmaWVsZD17ZmllbGR9XG4gICAgPlxuICAgICAgPE1vYkJhc2VGaWVsZCB0eXBlPSdEYXRlUGlja2VyJyBmaWVsZD17ZmllbGR9IHByb3BzPXtjb250cm9sUHJvcHN9IC8+XG4gICAgPC9EZXNpZ25lckZpZWxkSXRlbT5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBEYXRlRmllbGRBcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///73768\n");

/***/ }),

/***/ 83976:
/*!*******************************************************!*\
  !*** ./src/apControls/mobile/base/DateRangeField.tsx ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var _common_BaseField__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/BaseField */ 48952);\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-11-02 17:03:02\n * @LastEditTime: 2023-01-13 18:17:02\n * @Last Modified by: jianhang_he\n */\n\n\n\n\nvar DEFAULT_BORDER_TYPE = 'bordered';\nvar DATE_FORMAT = {\n  0: 'second',\n  1: 'day'\n};\nvar DateRangeFieldAp = function DateRangeFieldAp(_ref) {\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(field);\n  var controlProps = {\n    borderType: DEFAULT_BORDER_TYPE,\n    picker: DATE_FORMAT[field.FormatType || '1']\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_BaseField__WEBPACK_IMPORTED_MODULE_4__.MobBaseField, {\n    type: \"DateRangePicker\",\n    field: field,\n    props: controlProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DateRangeFieldAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODM5NzYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2FwQ29udHJvbHMvbW9iaWxlL2Jhc2UvRGF0ZVJhbmdlRmllbGQudHN4PzAxZjIiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0xMS0wMiAxNzowMzowMlxuICogQExhc3RFZGl0VGltZTogMjAyMy0wMS0xMyAxODoxNzowMlxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB1c2VHZXREb21Qcm9wcyBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VHZXREb21Qcm9wcydcbmltcG9ydCB7IEFwQ29udHJvbFByb3BzIH0gZnJvbSAnLi4vLi4vLi4vdHlwZSdcbmltcG9ydCBEZXNpZ25lckZpZWxkSXRlbSBmcm9tICcuLi8uLi9jb21tb24vRGVzaWduZXJGaWVsZEl0ZW0nXG5pbXBvcnQgeyBNb2JCYXNlRmllbGQgfSBmcm9tICcuLi8uLi9jb21tb24vQmFzZUZpZWxkJ1xuXG5jb25zdCBERUZBVUxUX0JPUkRFUl9UWVBFID0gJ2JvcmRlcmVkJ1xuXG5jb25zdCBEQVRFX0ZPUk1BVCA9IHtcbiAgMDogJ3NlY29uZCcsXG4gIDE6ICdkYXknXG59XG5cbmNvbnN0IERhdGVSYW5nZUZpZWxkQXA6IFJlYWN0LkZDPEFwQ29udHJvbFByb3BzPiA9ICh7IGZpZWxkIH0pID0+IHtcbiAgY29uc3QgZG9tUHJvcHMgPSB1c2VHZXREb21Qcm9wcyhmaWVsZClcblxuICBjb25zdCBjb250cm9sUHJvcHM6IGFueSA9IHtcbiAgICBib3JkZXJUeXBlOiBERUZBVUxUX0JPUkRFUl9UWVBFLFxuICAgIHBpY2tlcjogREFURV9GT1JNQVRbZmllbGQuRm9ybWF0VHlwZSB8fCAnMSddXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxEZXNpZ25lckZpZWxkSXRlbVxuICAgICAgey4uLmRvbVByb3BzfVxuICAgICAgZmllbGQ9e2ZpZWxkfVxuICAgID5cbiAgICAgIDxNb2JCYXNlRmllbGQgdHlwZT0nRGF0ZVJhbmdlUGlja2VyJyBmaWVsZD17ZmllbGR9IHByb3BzPXtjb250cm9sUHJvcHN9IC8+XG4gICAgPC9EZXNpZ25lckZpZWxkSXRlbT5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBEYXRlUmFuZ2VGaWVsZEFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///83976\n");

/***/ }),

/***/ 77900:
/*!*******************************************************!*\
  !*** ./src/apControls/mobile/base/GraphicDisplay.tsx ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/index */ 41232);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_5__);\n\n/*\n * @Description:\n * @Author: xiaoman_xie\n * @Date: 2023-05-30 14:29:37\n * @LastEditTime: 2023-09-19 16:59:07\n * @Last Modified by: xiaoman_xie\n */\n\n\n\n\n\nvar GraphicDisplayAp = function GraphicDisplayAp(_ref) {\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(field);\n  var Content = field.Content,\n    Margin = field.Margin,\n    DefaultHeight = field.DefaultHeight,\n    AutoHeight = field.AutoHeight;\n  var _analyzeJSON = (0,_utils_index__WEBPACK_IMPORTED_MODULE_1__.analyzeJSON)(Margin),\n    margin = _analyzeJSON.margin,\n    marginTop = _analyzeJSON.marginTop,\n    marginRight = _analyzeJSON.marginRight,\n    marginBottom = _analyzeJSON.marginBottom,\n    marginLeft = _analyzeJSON.marginLeft;\n  var otherMargin = {\n    marginTop: \"\".concat(marginTop, \"px\"),\n    marginRight: \"\".concat(marginRight, \"px\"),\n    marginBottom: \"\".concat(marginBottom, \"px\"),\n    marginLeft: \"\".concat(marginLeft, \"px\")\n  };\n  var marginValue = margin === -1 ? otherMargin : {\n    margin: \"\".concat(margin, \"px\")\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"graphic-display-ap\",\n    style: margin !== '0' ? marginValue : {}\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_4__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_5__.GraphicDisplay, {\n    content: Content,\n    autoHeight: AutoHeight,\n    defaultHeight: DefaultHeight\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (GraphicDisplayAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzc5MDAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2FwQ29udHJvbHMvbW9iaWxlL2Jhc2UvR3JhcGhpY0Rpc3BsYXkudHN4P2IzMTMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IHhpYW9tYW5feGllXG4gKiBARGF0ZTogMjAyMy0wNS0zMCAxNDoyOTozN1xuICogQExhc3RFZGl0VGltZTogMjAyMy0wOS0xOSAxNjo1OTowN1xuICogQExhc3QgTW9kaWZpZWQgYnk6IHhpYW9tYW5feGllXG4gKi9cbmltcG9ydCB7IGFuYWx5emVKU09OIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvaW5kZXgnXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHVzZUdldERvbVByb3BzIGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUdldERvbVByb3BzJ1xuaW1wb3J0IERlc2lnbmVyRmllbGRJdGVtIGZyb20gJy4uLy4uL2NvbW1vbi9EZXNpZ25lckZpZWxkSXRlbSdcbmltcG9ydCB7IEdyYXBoaWNEaXNwbGF5IH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uLy4uL2NvbnRleHQnXG5cbmNvbnN0IEdyYXBoaWNEaXNwbGF5QXAgPSAoeyBmaWVsZCB9KSA9PiB7XG4gIGNvbnN0IGRvbVByb3BzID0gdXNlR2V0RG9tUHJvcHMoZmllbGQpXG4gIGNvbnN0IHsgQ29udGVudCwgTWFyZ2luLCBEZWZhdWx0SGVpZ2h0LCBBdXRvSGVpZ2h0IH0gPSBmaWVsZFxuICBjb25zdCB7IG1hcmdpbiwgbWFyZ2luVG9wLCBtYXJnaW5SaWdodCwgbWFyZ2luQm90dG9tLCBtYXJnaW5MZWZ0IH0gPSBhbmFseXplSlNPTihNYXJnaW4pXG4gIGNvbnN0IG90aGVyTWFyZ2luID0geyBtYXJnaW5Ub3A6IGAke21hcmdpblRvcH1weGAsIG1hcmdpblJpZ2h0OiBgJHttYXJnaW5SaWdodH1weGAsIG1hcmdpbkJvdHRvbTogYCR7bWFyZ2luQm90dG9tfXB4YCwgbWFyZ2luTGVmdDogYCR7bWFyZ2luTGVmdH1weGAgfVxuICBjb25zdCBtYXJnaW5WYWx1ZSA9IG1hcmdpbiA9PT0gLTEgPyBvdGhlck1hcmdpbiA6IHsgbWFyZ2luOiBgJHttYXJnaW59cHhgIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSdncmFwaGljLWRpc3BsYXktYXAnIHN0eWxlPXttYXJnaW4gIT09ICcwJyA/IG1hcmdpblZhbHVlIDoge319PlxuICAgICAgPERlc2lnbmVyRmllbGRJdGVtXG4gICAgICAgIHsuLi5kb21Qcm9wc31cbiAgICAgICAgZmllbGQ9e2ZpZWxkfVxuICAgICAgPlxuICAgICAgICA8R3JhcGhpY0Rpc3BsYXkgY29udGVudD17Q29udGVudH0gYXV0b0hlaWdodD17QXV0b0hlaWdodH0gZGVmYXVsdEhlaWdodD17RGVmYXVsdEhlaWdodH0gLz5cbiAgICAgIDwvRGVzaWduZXJGaWVsZEl0ZW0+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgR3JhcGhpY0Rpc3BsYXlBcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///77900\n");

/***/ }),

/***/ 34372:
/*!****************************************************!*\
  !*** ./src/apControls/mobile/base/NumberField.tsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var _common_BaseField__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/BaseField */ 48952);\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-09-27 15:22:37\n * @LastEditTime: 2022-09-29 10:04:37\n * @Last Modified by: jianhang_he\n */\n\n\n\n\nvar DEFAULT_BORDER_TYPE = 'bordered';\nvar TextFieldAp = function TextFieldAp(_ref) {\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(field);\n  var EmptyText = field.EmptyText,\n    DefValue = field.DefValue,\n    showClearButton = field.showClearButton,\n    Status = field.Status,\n    ThousandsSeparator = field.ThousandsSeparator,\n    Scale = field.Scale,\n    Precision = field.Precision,\n    Stepper = field.Stepper;\n  var formatter = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (value) {\n    if (ThousandsSeparator) {\n      return \"\".concat(value).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    } else {\n      return String(value);\n    }\n  }, [ThousandsSeparator]);\n  var controlProps = {\n    // value: String(DefValue),\n    borderType: DEFAULT_BORDER_TYPE,\n    readOnly: true,\n    allowClear: false,\n    formatter: formatter,\n    decimalLength: Scale,\n    showStepper: Stepper,\n    maxLength: Precision\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_BaseField__WEBPACK_IMPORTED_MODULE_4__.MobBaseField, {\n    type: \"Number\",\n    field: field,\n    props: controlProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (TextFieldAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQzNzIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9hcENvbnRyb2xzL21vYmlsZS9iYXNlL051bWJlckZpZWxkLnRzeD9jZTNhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDktMjcgMTU6MjI6MzdcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjItMDktMjkgMTA6MDQ6MzdcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlTWVtbywgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB1c2VHZXREb21Qcm9wcyBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VHZXREb21Qcm9wcydcbmltcG9ydCB7IEFwQ29udHJvbFByb3BzIH0gZnJvbSAnLi4vLi4vLi4vdHlwZSdcbmltcG9ydCBEZXNpZ25lckZpZWxkSXRlbSBmcm9tICcuLi8uLi9jb21tb24vRGVzaWduZXJGaWVsZEl0ZW0nXG5pbXBvcnQgeyBNb2JCYXNlRmllbGQgfSBmcm9tICcuLi8uLi9jb21tb24vQmFzZUZpZWxkJ1xuXG5jb25zdCBERUZBVUxUX0JPUkRFUl9UWVBFID0gJ2JvcmRlcmVkJ1xuXG5jb25zdCBUZXh0RmllbGRBcDogUmVhY3QuRkM8QXBDb250cm9sUHJvcHM+ID0gKHsgZmllbGQgfSkgPT4ge1xuICBjb25zdCBkb21Qcm9wcyA9IHVzZUdldERvbVByb3BzKGZpZWxkKVxuXG4gIGNvbnN0IHsgRW1wdHlUZXh0LCBEZWZWYWx1ZSwgc2hvd0NsZWFyQnV0dG9uLCBTdGF0dXMsIFRob3VzYW5kc1NlcGFyYXRvciwgU2NhbGUsIFByZWNpc2lvbiwgU3RlcHBlciB9ID0gZmllbGRcblxuICBjb25zdCBmb3JtYXR0ZXIgPSB1c2VDYWxsYmFjaygodmFsdWUpID0+IHtcbiAgICBpZiAoVGhvdXNhbmRzU2VwYXJhdG9yKSB7XG4gICAgICByZXR1cm4gYCR7dmFsdWV9YC5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCAnLCcpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpXG4gICAgfVxuICB9LCBbVGhvdXNhbmRzU2VwYXJhdG9yXSlcblxuICBjb25zdCBjb250cm9sUHJvcHM6IGFueSA9IHtcbiAgICAvLyB2YWx1ZTogU3RyaW5nKERlZlZhbHVlKSxcbiAgICBib3JkZXJUeXBlOiBERUZBVUxUX0JPUkRFUl9UWVBFLFxuICAgIHJlYWRPbmx5OiB0cnVlLFxuICAgIGFsbG93Q2xlYXI6IGZhbHNlLFxuICAgIGZvcm1hdHRlcixcbiAgICBkZWNpbWFsTGVuZ3RoOiBTY2FsZSxcbiAgICBzaG93U3RlcHBlcjogU3RlcHBlcixcbiAgICBtYXhMZW5ndGg6IFByZWNpc2lvblxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8RGVzaWduZXJGaWVsZEl0ZW1cbiAgICAgIHsuLi5kb21Qcm9wc31cbiAgICAgIGZpZWxkPXtmaWVsZH1cbiAgICA+XG4gICAgICA8TW9iQmFzZUZpZWxkIHR5cGU9J051bWJlcicgZmllbGQ9e2ZpZWxkfSBwcm9wcz17Y29udHJvbFByb3BzfSAvPlxuICAgIDwvRGVzaWduZXJGaWVsZEl0ZW0+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgVGV4dEZpZWxkQXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///34372\n");

/***/ }),

/***/ 89232:
/*!*****************************************************!*\
  !*** ./src/apControls/mobile/base/PictureField.tsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../context */ 90115);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var _common_BaseField__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/BaseField */ 48952);\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-08-02 10:42:52\n * @LastEditTime: 2022-11-14 10:28:46\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\nvar TextFieldAp = function TextFieldAp(_ref) {\n  var _context, _context2, _context3, _context4;\n  var field = _ref.field;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_context__WEBPACK_IMPORTED_MODULE_6__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var FieldType = field.FieldType,\n    FileMaxSize = field.FileMaxSize,\n    UploadNum = field.UploadNum,\n    ImageFileType = field.ImageFileType;\n  var _getKdesignerApi$meta = getKdesignerApi().meta,\n    getControlPropertyDefaultValue = _getKdesignerApi$meta.getControlPropertyDefaultValue,\n    getControlMetaEditor = _getKdesignerApi$meta.getControlMetaEditor;\n  var pictureType = getControlMetaEditor(FieldType, 'ImageFileType').Enum;\n  var pictureDefaultSize = getControlPropertyDefaultValue(FieldType, 'FileMaxSize'); // 默认图片大小\n  var pictureDefaultType = getControlPropertyDefaultValue(FieldType, 'ImageFileType'); // 默认图片类型\n\n  var type = ImageFileType || pictureDefaultType; // 类型，优先使用用户选择的类型\n  var typeArr = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default()(_context = type.split(',')).call(_context, function (item) {\n    return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(pictureType).call(pictureType, function (i) {\n      return i.Id === item;\n    })[0].Name;\n  });\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(field);\n  var controlProps = {\n    disabled: true,\n    noticeInfo: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context2 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context3 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context4 = \"\\u8BF7\\u4E0A\\u4F20\\u5C0F\\u4E8E\".concat(FileMaxSize || pictureDefaultSize, \"M\\u7684\")).call(_context4, typeArr.join(), \"\\u6587\\u4EF6\\uFF0C\\u6587\\u4EF6\\u4E2A\\u6570\\u4E0D\\u5C11\\u4E8E\")).call(_context3, (UploadNum === null || UploadNum === void 0 ? void 0 : UploadNum.min) || 0, \"\\u4E2A\\uFF0C\\u4E0D\\u591A\\u4E8E\")).call(_context2, (UploadNum === null || UploadNum === void 0 ? void 0 : UploadNum.max) || 1, \"\\u4E2A\\u3002\")\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_7__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_common_BaseField__WEBPACK_IMPORTED_MODULE_8__.MobBaseField, {\n    type: \"Picture\",\n    field: field,\n    props: controlProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (TextFieldAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODkyMzIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvYXBDb250cm9scy9tb2JpbGUvYmFzZS9QaWN0dXJlRmllbGQudHN4PzIyNzIiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0wOC0wMiAxMDo0Mjo1MlxuICogQExhc3RFZGl0VGltZTogMjAyMi0xMS0xNCAxMDoyODo0NlxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgdXNlR2V0RG9tUHJvcHMgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlR2V0RG9tUHJvcHMnXG5pbXBvcnQgeyBBcENvbnRyb2xQcm9wcyB9IGZyb20gJy4uLy4uLy4uL3R5cGUnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi8uLi9jb250ZXh0J1xuaW1wb3J0IERlc2lnbmVyRmllbGRJdGVtIGZyb20gJy4uLy4uL2NvbW1vbi9EZXNpZ25lckZpZWxkSXRlbSdcbmltcG9ydCB7IE1vYkJhc2VGaWVsZCB9IGZyb20gJy4uLy4uL2NvbW1vbi9CYXNlRmllbGQnXG5cbmNvbnN0IFRleHRGaWVsZEFwOiBSZWFjdC5GQzxBcENvbnRyb2xQcm9wcz4gPSAoeyBmaWVsZCB9KSA9PiB7XG4gIGNvbnN0IHsgZ2V0S2Rlc2lnbmVyQXBpIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3QgeyBGaWVsZFR5cGUsIEZpbGVNYXhTaXplLCBVcGxvYWROdW0sIEltYWdlRmlsZVR5cGUgfSA9IGZpZWxkXG4gIGNvbnN0IHsgZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlLCBnZXRDb250cm9sTWV0YUVkaXRvciB9ID0gZ2V0S2Rlc2lnbmVyQXBpKCkubWV0YVxuICBjb25zdCBwaWN0dXJlVHlwZSA9IGdldENvbnRyb2xNZXRhRWRpdG9yKEZpZWxkVHlwZSwgJ0ltYWdlRmlsZVR5cGUnKS5FbnVtXG4gIGNvbnN0IHBpY3R1cmVEZWZhdWx0U2l6ZSA9IGdldENvbnRyb2xQcm9wZXJ0eURlZmF1bHRWYWx1ZShGaWVsZFR5cGUsICdGaWxlTWF4U2l6ZScpIC8vIOm7mOiupOWbvueJh+Wkp+Wwj1xuICBjb25zdCBwaWN0dXJlRGVmYXVsdFR5cGUgPSBnZXRDb250cm9sUHJvcGVydHlEZWZhdWx0VmFsdWUoRmllbGRUeXBlLCAnSW1hZ2VGaWxlVHlwZScpIC8vIOm7mOiupOWbvueJh+exu+Wei1xuXG4gIGNvbnN0IHR5cGUgPSBJbWFnZUZpbGVUeXBlIHx8IHBpY3R1cmVEZWZhdWx0VHlwZSAvLyDnsbvlnovvvIzkvJjlhYjkvb/nlKjnlKjmiLfpgInmi6nnmoTnsbvlnotcbiAgY29uc3QgdHlwZUFyciA9IHR5cGUuc3BsaXQoJywnKS5tYXAoKGl0ZW06YW55KSA9PiBwaWN0dXJlVHlwZS5maWx0ZXIoKGk6YW55KSA9PiBpLklkID09PSBpdGVtKVswXS5OYW1lKVxuXG4gIGNvbnN0IGRvbVByb3BzID0gdXNlR2V0RG9tUHJvcHMoZmllbGQpXG4gIGNvbnN0IGNvbnRyb2xQcm9wcyA9IHtcbiAgICBkaXNhYmxlZDogdHJ1ZSxcbiAgICBub3RpY2VJbmZvOiBg6K+35LiK5Lyg5bCP5LqOJHtGaWxlTWF4U2l6ZSB8fCBwaWN0dXJlRGVmYXVsdFNpemV9TeeahCR7dHlwZUFyci5qb2luKCl95paH5Lu277yM5paH5Lu25Liq5pWw5LiN5bCR5LqOJHtVcGxvYWROdW0/Lm1pbiB8fCAwfeS4qu+8jOS4jeWkmuS6jiR7VXBsb2FkTnVtPy5tYXggfHwgMX3kuKrjgIJgXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxEZXNpZ25lckZpZWxkSXRlbVxuICAgICAgey4uLmRvbVByb3BzfVxuICAgICAgZmllbGQ9e2ZpZWxkfVxuICAgID5cbiAgICAgIDxNb2JCYXNlRmllbGQgdHlwZT0nUGljdHVyZScgZmllbGQ9e2ZpZWxkfSBwcm9wcz17Y29udHJvbFByb3BzfSAvPlxuICAgIDwvRGVzaWduZXJGaWVsZEl0ZW0+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgVGV4dEZpZWxkQXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///89232\n");

/***/ }),

/***/ 75008:
/*!*************************************************!*\
  !*** ./src/apControls/mobile/base/RichText.tsx ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/index */ 41232);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var _constants_control__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../constants/control */ 24788);\n/* harmony import */ var nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! nocode_component/MobUI */ 65873);\n/* harmony import */ var nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_6__);\n\n/*\n * @Description:\n * @Author: xiaoman_xie\n * @Date: 2023-05-30 14:29:37\n * @LastEditTime: 2023-06-16 17:29:49\n * @Last Modified by: xiaoman_xie\n */\n\n\n\n\n\n\nvar RichTextAp = function RichTextAp(_ref) {\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(field);\n  var NoCodeDefValue = field.NoCodeDefValue,\n    DefaultHeight = field.DefaultHeight,\n    AutoHeight = field.AutoHeight,\n    Status = field.Status;\n  var readOnly = Status === _constants_control__WEBPACK_IMPORTED_MODULE_5__.TEXT_STATUS_ENUM.READONLY;\n  var content = (0,_utils_index__WEBPACK_IMPORTED_MODULE_2__.analyzeJSON)(NoCodeDefValue);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_4__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_6__.RichText, {\n    readOnly: readOnly,\n    content: (content === null || content === void 0 ? void 0 : content.value) || '',\n    height: DefaultHeight,\n    autoHeight: AutoHeight\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (RichTextAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzUwMDguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2FwQ29udHJvbHMvbW9iaWxlL2Jhc2UvUmljaFRleHQudHN4PzMwNWQiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IHhpYW9tYW5feGllXG4gKiBARGF0ZTogMjAyMy0wNS0zMCAxNDoyOTozN1xuICogQExhc3RFZGl0VGltZTogMjAyMy0wNi0xNiAxNzoyOTo0OVxuICogQExhc3QgTW9kaWZpZWQgYnk6IHhpYW9tYW5feGllXG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBhbmFseXplSlNPTiwgZ2V0RmllbGRQcm9wcyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2luZGV4J1xuaW1wb3J0IHVzZUdldERvbVByb3BzIGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUdldERvbVByb3BzJ1xuaW1wb3J0IERlc2lnbmVyRmllbGRJdGVtIGZyb20gJy4uLy4uL2NvbW1vbi9EZXNpZ25lckZpZWxkSXRlbSdcbmltcG9ydCB7IFRFWFRfU1RBVFVTX0VOVU0gfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMvY29udHJvbCdcbmltcG9ydCB7IFJpY2hUZXh0IH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9Nb2JVSSdcblxuY29uc3QgUmljaFRleHRBcCA9ICh7IGZpZWxkIH0pID0+IHtcbiAgY29uc3QgZG9tUHJvcHMgPSB1c2VHZXREb21Qcm9wcyhmaWVsZClcbiAgY29uc3QgeyBOb0NvZGVEZWZWYWx1ZSwgRGVmYXVsdEhlaWdodCwgQXV0b0hlaWdodCwgU3RhdHVzIH0gPSBmaWVsZFxuXG4gIGNvbnN0IHJlYWRPbmx5ID0gU3RhdHVzID09PSBURVhUX1NUQVRVU19FTlVNLlJFQURPTkxZXG4gIGNvbnN0IGNvbnRlbnQgPSBhbmFseXplSlNPTihOb0NvZGVEZWZWYWx1ZSlcbiAgcmV0dXJuIChcbiAgICA8RGVzaWduZXJGaWVsZEl0ZW1cbiAgICAgIHsuLi5kb21Qcm9wc31cbiAgICAgIGZpZWxkPXtmaWVsZH1cbiAgICA+XG4gICAgICA8UmljaFRleHQgcmVhZE9ubHk9e3JlYWRPbmx5fSBjb250ZW50PXtjb250ZW50Py52YWx1ZSB8fCAnJ30gaGVpZ2h0PXtEZWZhdWx0SGVpZ2h0fSBhdXRvSGVpZ2h0PXtBdXRvSGVpZ2h0fSAvPlxuICAgIDwvRGVzaWduZXJGaWVsZEl0ZW0+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmljaFRleHRBcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///75008\n");

/***/ }),

/***/ 62140:
/*!****************************************************!*\
  !*** ./src/apControls/mobile/base/SelectField.tsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var _common_BaseField__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/BaseField */ 48952);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../utils */ 41232);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../utils/control */ 3700);\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-09-06 15:42:52\n * @LastEditTime: 2023-01-03 11:05:50\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\nvar SelectFieldAp = function SelectFieldAp(_ref) {\n  var _context;\n  var field = _ref.field;\n  var fieldType = field._Type_,\n    ShowType = field.ShowType;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(field);\n  var defaultFieldType = (0,_utils__WEBPACK_IMPORTED_MODULE_6__.getSelectFieldControlType)(field);\n  var defaultValue = (0,_utils__WEBPACK_IMPORTED_MODULE_6__.getTransformDefValue)(field);\n  // 这里应该搞个字段映射关系的，PC端也一致\n  var controlProps = {\n    readonlyValue: (0,_utils__WEBPACK_IMPORTED_MODULE_6__.getSelectedValue)(field),\n    options: (0,_utils__WEBPACK_IMPORTED_MODULE_6__.getTransformOptions)(field),\n    defaultValue: defaultValue,\n    value: defaultValue,\n    multiple: (0,_utils__WEBPACK_IMPORTED_MODULE_6__.isMultiSelect)(field === null || field === void 0 ? void 0 : field.SelectItemType),\n    showBgcBlock: (0,_utils__WEBPACK_IMPORTED_MODULE_6__.getTransformBgcSwitch)(field)\n  };\n\n  // 多选框和单选框才有垂直模式\n  if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(_context = ['Checkbox', 'Radio']).call(_context, defaultFieldType)) {\n    controlProps.vertical = (0,_utils__WEBPACK_IMPORTED_MODULE_6__.isVertical)(field === null || field === void 0 ? void 0 : field.TileTypePc);\n\n    // 只读态（纯文本）保留label下边距\n    // if (!isReadonly(field?.Status)) {\n    //   domProps.labelStyle = {\n    //     marginBottom: '0'\n    //   }\n    // }\n  }\n  if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_7__.isRefBill)(fieldType) && ShowType === '2') return null;\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_4__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_common_BaseField__WEBPACK_IMPORTED_MODULE_5__.MobBaseField, {\n    type: defaultFieldType,\n    field: field,\n    props: controlProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (SelectFieldAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjIxNDAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQVNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9hcENvbnRyb2xzL21vYmlsZS9iYXNlL1NlbGVjdEZpZWxkLnRzeD9jODEwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDktMDYgMTU6NDI6NTJcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMDEtMDMgMTE6MDU6NTBcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgdXNlR2V0RG9tUHJvcHMgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlR2V0RG9tUHJvcHMnXG5pbXBvcnQgeyBBcENvbnRyb2xQcm9wcyB9IGZyb20gJy4uLy4uLy4uL3R5cGUnXG5pbXBvcnQgRGVzaWduZXJGaWVsZEl0ZW0gZnJvbSAnLi4vLi4vY29tbW9uL0Rlc2lnbmVyRmllbGRJdGVtJ1xuaW1wb3J0IHsgTW9iQmFzZUZpZWxkIH0gZnJvbSAnLi4vLi4vY29tbW9uL0Jhc2VGaWVsZCdcbmltcG9ydCB7XG4gIGdldFNlbGVjdGVkVmFsdWUsIGdldFNlbGVjdEZpZWxkQ29udHJvbFR5cGUsXG4gIGdldFRyYW5zZm9ybU9wdGlvbnMsXG4gIGdldFRyYW5zZm9ybURlZlZhbHVlLFxuICBnZXRUcmFuc2Zvcm1CZ2NTd2l0Y2gsXG4gIGlzVmVydGljYWwsXG4gIGlzUmVhZG9ubHksXG4gIGlzTXVsdGlTZWxlY3Rcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbHMnXG5pbXBvcnQgeyBpc1JlZkJpbGwgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jb250cm9sJ1xuXG5jb25zdCBTZWxlY3RGaWVsZEFwOiBSZWFjdC5GQzxBcENvbnRyb2xQcm9wcz4gPSAoeyBmaWVsZCB9KSA9PiB7XG4gIGNvbnN0IHsgX1R5cGVfOiBmaWVsZFR5cGUsIFNob3dUeXBlIH0gPSBmaWVsZFxuICBjb25zdCBkb21Qcm9wcyA9IHVzZUdldERvbVByb3BzKGZpZWxkKVxuICBjb25zdCBkZWZhdWx0RmllbGRUeXBlID0gZ2V0U2VsZWN0RmllbGRDb250cm9sVHlwZShmaWVsZClcbiAgY29uc3QgZGVmYXVsdFZhbHVlID0gZ2V0VHJhbnNmb3JtRGVmVmFsdWUoZmllbGQpXG4gIC8vIOi/memHjOW6lOivpeaQnuS4quWtl+auteaYoOWwhOWFs+ezu+eahO+8jFBD56uv5Lmf5LiA6Ie0XG4gIGNvbnN0IGNvbnRyb2xQcm9wczogYW55ID0ge1xuICAgIHJlYWRvbmx5VmFsdWU6IGdldFNlbGVjdGVkVmFsdWUoZmllbGQpLFxuICAgIG9wdGlvbnM6IGdldFRyYW5zZm9ybU9wdGlvbnMoZmllbGQpLFxuICAgIGRlZmF1bHRWYWx1ZSxcbiAgICB2YWx1ZTogZGVmYXVsdFZhbHVlLFxuICAgIG11bHRpcGxlOiBpc011bHRpU2VsZWN0KGZpZWxkPy5TZWxlY3RJdGVtVHlwZSksXG4gICAgc2hvd0JnY0Jsb2NrOiBnZXRUcmFuc2Zvcm1CZ2NTd2l0Y2goZmllbGQpXG4gIH1cblxuICAvLyDlpJrpgInmoYblkozljZXpgInmoYbmiY3mnInlnoLnm7TmqKHlvI9cbiAgaWYgKFsnQ2hlY2tib3gnLCAnUmFkaW8nXS5pbmNsdWRlcyhkZWZhdWx0RmllbGRUeXBlKSkge1xuICAgIGNvbnRyb2xQcm9wcy52ZXJ0aWNhbCA9IGlzVmVydGljYWwoZmllbGQ/LlRpbGVUeXBlUGMpXG5cbiAgICAvLyDlj6ror7vmgIHvvIjnuq/mlofmnKzvvInkv53nlZlsYWJlbOS4i+i+uei3nVxuICAgIC8vIGlmICghaXNSZWFkb25seShmaWVsZD8uU3RhdHVzKSkge1xuICAgIC8vICAgZG9tUHJvcHMubGFiZWxTdHlsZSA9IHtcbiAgICAvLyAgICAgbWFyZ2luQm90dG9tOiAnMCdcbiAgICAvLyAgIH1cbiAgICAvLyB9XG4gIH1cblxuICBpZiAoaXNSZWZCaWxsKGZpZWxkVHlwZSkgJiYgU2hvd1R5cGUgPT09ICcyJykgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxEZXNpZ25lckZpZWxkSXRlbVxuICAgICAgey4uLmRvbVByb3BzfVxuICAgICAgZmllbGQ9e2ZpZWxkfVxuICAgID5cbiAgICAgIDxNb2JCYXNlRmllbGQgdHlwZT17ZGVmYXVsdEZpZWxkVHlwZX0gZmllbGQ9e2ZpZWxkfSBwcm9wcz17Y29udHJvbFByb3BzfSAvPlxuICAgIDwvRGVzaWduZXJGaWVsZEl0ZW0+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0RmllbGRBcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///62140\n");

/***/ }),

/***/ 56964:
/*!**************************************************!*\
  !*** ./src/apControls/mobile/base/TextField.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var _common_BaseField__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/BaseField */ 48952);\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-08-02 10:42:52\n * @LastEditTime: 2022-11-14 10:28:46\n * @Last Modified by: jianhang_he\n */\n\n\n\n\nvar TextFieldAp = function TextFieldAp(_ref) {\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(field);\n  var controlProps = {};\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_BaseField__WEBPACK_IMPORTED_MODULE_4__.MobBaseField, {\n    type: \"Text\",\n    field: field,\n    props: controlProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (TextFieldAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTY5NjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvYXBDb250cm9scy9tb2JpbGUvYmFzZS9UZXh0RmllbGQudHN4P2JjOTYiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0wOC0wMiAxMDo0Mjo1MlxuICogQExhc3RFZGl0VGltZTogMjAyMi0xMS0xNCAxMDoyODo0NlxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgdXNlR2V0RG9tUHJvcHMgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlR2V0RG9tUHJvcHMnXG5pbXBvcnQgeyBBcENvbnRyb2xQcm9wcyB9IGZyb20gJy4uLy4uLy4uL3R5cGUnXG5pbXBvcnQgRGVzaWduZXJGaWVsZEl0ZW0gZnJvbSAnLi4vLi4vY29tbW9uL0Rlc2lnbmVyRmllbGRJdGVtJ1xuaW1wb3J0IHsgTW9iQmFzZUZpZWxkIH0gZnJvbSAnLi4vLi4vY29tbW9uL0Jhc2VGaWVsZCdcblxuY29uc3QgVGV4dEZpZWxkQXA6IFJlYWN0LkZDPEFwQ29udHJvbFByb3BzPiA9ICh7IGZpZWxkIH0pID0+IHtcbiAgY29uc3QgZG9tUHJvcHMgPSB1c2VHZXREb21Qcm9wcyhmaWVsZClcbiAgY29uc3QgY29udHJvbFByb3BzID0ge1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8RGVzaWduZXJGaWVsZEl0ZW1cbiAgICAgIHsuLi5kb21Qcm9wc31cbiAgICAgIGZpZWxkPXtmaWVsZH1cbiAgICA+XG4gICAgICA8TW9iQmFzZUZpZWxkIHR5cGU9J1RleHQnIGZpZWxkPXtmaWVsZH0gcHJvcHM9e2NvbnRyb2xQcm9wc30gLz5cbiAgICA8L0Rlc2lnbmVyRmllbGRJdGVtPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IFRleHRGaWVsZEFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///56964\n");

/***/ }),

/***/ 60592:
/*!******************************************************!*\
  !*** ./src/apControls/mobile/base/TextareaField.tsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var _common_BaseField__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/BaseField */ 48952);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_5__);\n\n/*\n * @Description: 多行文本AP层\n * @Author: jianhang_he\n * @Date: 2022-09-19 16:35:32\n * @LastEditTime: 2022-11-14 10:28:37\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\nvar TextareaFieldAp = function TextareaFieldAp(_ref) {\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(field);\n  var CounterDisplay = field.CounterDisplay,\n    DefaultLines = field.DefaultLines;\n  var controlProps = {\n    showCount: (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(CounterDisplay) ? true : CounterDisplay,\n    autoSize: {\n      minRows: DefaultLines,\n      maxRows: DefaultLines\n    }\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_BaseField__WEBPACK_IMPORTED_MODULE_4__.MobBaseField, {\n    type: \"Textarea\",\n    field: field,\n    props: controlProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (TextareaFieldAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjA1OTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9hcENvbnRyb2xzL21vYmlsZS9iYXNlL1RleHRhcmVhRmllbGQudHN4PzllODgiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjog5aSa6KGM5paH5pysQVDlsYJcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0wOS0xOSAxNjozNTozMlxuICogQExhc3RFZGl0VGltZTogMjAyMi0xMS0xNCAxMDoyODozN1xuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB1c2VHZXREb21Qcm9wcyBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VHZXREb21Qcm9wcydcbmltcG9ydCB7IEFwQ29udHJvbFByb3BzIH0gZnJvbSAnLi4vLi4vLi4vdHlwZSdcbmltcG9ydCBEZXNpZ25lckZpZWxkSXRlbSBmcm9tICcuLi8uLi9jb21tb24vRGVzaWduZXJGaWVsZEl0ZW0nXG5pbXBvcnQgeyBNb2JCYXNlRmllbGQgfSBmcm9tICcuLi8uLi9jb21tb24vQmFzZUZpZWxkJ1xuaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tICdsb2Rhc2gnXG5cbmNvbnN0IFRleHRhcmVhRmllbGRBcDogUmVhY3QuRkM8QXBDb250cm9sUHJvcHM+ID0gKHsgZmllbGQgfSkgPT4ge1xuICBjb25zdCBkb21Qcm9wcyA9IHVzZUdldERvbVByb3BzKGZpZWxkKVxuXG4gIGNvbnN0IHsgQ291bnRlckRpc3BsYXksIERlZmF1bHRMaW5lcyB9ID0gZmllbGRcbiAgY29uc3QgY29udHJvbFByb3BzOiBhbnkgPSB7XG4gICAgc2hvd0NvdW50OiBpc1VuZGVmaW5lZChDb3VudGVyRGlzcGxheSkgPyB0cnVlIDogQ291bnRlckRpc3BsYXksXG4gICAgYXV0b1NpemU6IHsgbWluUm93czogRGVmYXVsdExpbmVzLCBtYXhSb3dzOiBEZWZhdWx0TGluZXMgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8RGVzaWduZXJGaWVsZEl0ZW1cbiAgICAgIHsuLi5kb21Qcm9wc31cbiAgICAgIGZpZWxkPXtmaWVsZH1cbiAgICA+XG4gICAgICA8TW9iQmFzZUZpZWxkIHR5cGU9J1RleHRhcmVhJyBmaWVsZD17ZmllbGR9IHByb3BzPXtjb250cm9sUHJvcHN9IC8+XG4gICAgPC9EZXNpZ25lckZpZWxkSXRlbT5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0YXJlYUZpZWxkQXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///60592\n");

/***/ }),

/***/ 83632:
/*!************************************************************!*\
  !*** ./src/apControls/mobile/container/GroupContainer.tsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _hooks_useGetTabSubControls__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../hooks/useGetTabSubControls */ 54964);\n/* harmony import */ var _hooks_useGetActivedTabDomProps__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../hooks/useGetActivedTabDomProps */ 74640);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../context */ 90115);\n/* harmony import */ var _hooks_useEditControlName__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../hooks/useEditControlName */ 17592);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../utils/control */ 3700);\n/* harmony import */ var nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! nocode_component/MobUI */ 65873);\n/* harmony import */ var nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../constants */ 98092);\n/* harmony import */ var _hooks_useGetSubControls__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../hooks/useGetSubControls */ 65988);\n/* harmony import */ var _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../constants/dataAttribute */ 64536);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../utils */ 41232);\n\n\n\n\n\n\n\n\n\nvar _excluded = [\"controlId\"],\n  _excluded2 = [\"defaultBar\", \"handleItemClick\"];\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n/*\n * @Description: 分组容器AP层\n * @Author: jianhang_he\n * @Date: 2022-11-14 10:33:12\n * @LastEditTime: 2024-01-25 13:44:22\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @description 分组内容\n */\nvar GroupPanel = function GroupPanel(_ref) {\n  var controlId = _ref.controlId,\n    other = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_ref, _excluded);\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useContext)(_context__WEBPACK_IMPORTED_MODULE_13__.DesignerContext),\n    prefixCls = _useContext.prefixCls,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    isPC = _useContext.isPC;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data;\n  var data = dataContext.getData();\n  var findControl = dataContext.findControl;\n  // const { subControls } = useGetTabSubControls(controlId)\n  var subControls = (0,_hooks_useGetSubControls__WEBPACK_IMPORTED_MODULE_18__[\"default\"])({\n    Id: controlId\n  }, data, {\n    isPC: isPC,\n    excludeType: _constants__WEBPACK_IMPORTED_MODULE_17__.NOCODE_BIZBUTTON_PANEL_AP\n  }, findControl);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_16__.GridPanel, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({\n    gutter: [24, 24]\n  }, other), subControls.length > 0 ? subControls : /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"div\", (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({\n    className: \"\".concat(prefixCls, \"_group_item_dropbox\")\n  }, other), \"\\u62D6\\u62FD\\u5185\\u5BB9\\u5230\\u8FD9\\u91CC\"));\n};\nvar TabBar = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.memo)(function (_ref2) {\n  var defaultBar = _ref2.defaultBar,\n    handleItemClick = _ref2.handleItemClick,\n    otherProps = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_ref2, _excluded2);\n  var id = otherProps.id,\n    tips = otherProps.tips;\n  var domeProps = (0,_hooks_useGetActivedTabDomProps__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(id);\n  var dblClickChangeNameProps = (0,_hooks_useEditControlName__WEBPACK_IMPORTED_MODULE_14__[\"default\"])({\n    Id: id\n  }, false);\n  return kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().cloneElement(defaultBar, _objectSpread(_objectSpread(_objectSpread({\n    id: id,\n    'data-group-bar-item-id': id,\n    tips: tips\n  }, domeProps), dblClickChangeNameProps), {}, {\n    // style: { color: hidden ? '#cccccc' : 'inherit', opacity: Status === TEXT_STATUS_ENUM.HIDDEN ? '0.5' : '1' },\n    onClick: function onClick(e) {\n      handleItemClick(id);\n      domeProps.onClick(e);\n    }\n  }));\n});\nTabBar.displayName = 'TabBar';\nvar TabPanel = function TabPanel(_ref3) {\n  var id = _ref3.id;\n  // const { getKdesignerApi, fieldStatusMap, prefixCls } = useContext(DesignerContext)\n  // const kdesignerApi = useMemo(() => getKdesignerApi(), [])\n  // const { data: dataContext } = kdesignerApi\n  // const control = dataContext.findControl(id)\n  // const { Status, Key } = control\n  // const groupPanelHiddenProps = useControlHidden(control)\n\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(GroupPanel, {\n    key: id,\n    controlId: id,\n    \"data-group-container-item\": id\n  });\n};\nvar GroupContainerAp = function GroupContainerAp(_ref4) {\n  var field = _ref4.field;\n  var _useContext2 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useContext)(_context__WEBPACK_IMPORTED_MODULE_13__.DesignerContext),\n    getKdesignerApi = _useContext2.getKdesignerApi,\n    prefixCls = _useContext2.prefixCls;\n  var _getKdesignerApi2 = getKdesignerApi(),\n    selectionContext = _getKdesignerApi2.selection;\n  var controlId = field.Id,\n    name = field.Name,\n    TitleArea = field.TitleArea,\n    tips = field.HelpTips,\n    showCollapse = field.Collapse;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useState)(controlId),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState, 2),\n    activedSelectId = _useState2[0],\n    setActivedSelectId = _useState2[1];\n  var barOptionRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useRef)([]);\n  var tabsRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useRef)(null);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    if (tabsRef.current) {\n      var tabsDom = tabsRef.current;\n      var tabsHeaderDom = tabsDom.querySelector('[data-tabs-header]');\n      tabsHeaderDom === null || tabsHeaderDom === void 0 || tabsHeaderDom.setAttribute('data-group-bar', controlId);\n    }\n  }, []);\n\n  // const {\n  //   subTabItems\n  // } = useGetTabSubControls(controlId)\n  var subTabItems = (0,_hooks_useGetTabSubControls__WEBPACK_IMPORTED_MODULE_11__.useGetSubGroupContainer)(field);\n  var barOption = subTabItems.reduce(function (preVal, curValue) {\n    var Id = curValue.Id,\n      Name = curValue.Name,\n      TitleArea = curValue.TitleArea,\n      HelpTips = curValue.HelpTips;\n    preVal.push({\n      id: Id,\n      name: Name,\n      titleHidden: (0,_utils_control__WEBPACK_IMPORTED_MODULE_15__.isHideTitleArea)(TitleArea),\n      tips: HelpTips,\n      key: Id,\n      label: Name,\n      children: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(TabPanel, {\n        id: Id\n      })\n    });\n    return preVal;\n  }, []);\n  barOptionRef.current = barOption;\n\n  // 选中监听\n  var selectionChangeCallBack = function selectionChangeCallBack() {\n    var _barOptionRef$current;\n    var activedSelectId = selectionContext.getActiveSelectedId();\n    var isChildActived = (_barOptionRef$current = barOptionRef.current) === null || _barOptionRef$current === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_9___default()(_barOptionRef$current).call(_barOptionRef$current, function (item) {\n      return item.id === activedSelectId;\n    });\n    if (isChildActived) {\n      setActivedSelectId(activedSelectId);\n    }\n  };\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    var selection = selectionContext.getSelection();\n    if (selection !== null && selection !== void 0 && selection[0]) {\n      var isChildActived = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_9___default()(barOption).call(barOption, function (item) {\n        return item.id === (selection === null || selection === void 0 ? void 0 : selection[0]);\n      });\n      if (isChildActived) {\n        setActivedSelectId(selection === null || selection === void 0 ? void 0 : selection[0]);\n      }\n    }\n  }, [barOption.length]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    var selection = selectionContext.getSelection();\n    if ((selection === null || selection === void 0 ? void 0 : selection[0]) === activedSelectId) {\n      var isActiveBarExist = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_9___default()(barOption).call(barOption, function (item) {\n        return item.id === activedSelectId;\n      });\n      if (!isActiveBarExist) {\n        // 当分组为选中的id时，如果拖入到别的分组页签，需要将当前的data-control-id和data-selection重置正确\n        var firstBarId = barOption === null || barOption === void 0 ? void 0 : barOption[0].id;\n        (0,_utils__WEBPACK_IMPORTED_MODULE_20__.setNewDataControlId)(activedSelectId, firstBarId, function (dom) {\n          dom.removeAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_19__.dataSelection);\n        });\n        setActivedSelectId(firstBarId);\n      }\n    }\n  }, [barOption, activedSelectId]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    // 如果PC端选中了，那么移动端也需要跟着变化\n    selectionChangeCallBack();\n    var removeSelectionListener = selectionContext.addSelectChangeListener(selectionChangeCallBack);\n    return function () {\n      removeSelectionListener();\n    };\n  }, []);\n  var handleItemClick = function handleItemClick(id) {\n    selectionContext.setSelect([id]);\n    setActivedSelectId(id);\n  };\n  var renderTabBar = function renderTabBar(props, defaultBar) {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(TabBar, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({}, props, {\n      defaultBar: defaultBar,\n      handleItemClick: handleItemClick\n    }));\n  };\n  var activeDomeProps = (0,_hooks_useGetActivedTabDomProps__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(activedSelectId);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_16__.Tabs, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({\n    ref: tabsRef,\n    activeKey: activedSelectId,\n    allowCollapse: showCollapse,\n    onChange: handleItemClick,\n    \"data-group-container\": controlId,\n    items: barOption,\n    renderTabBar: renderTabBar\n  }, activeDomeProps));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (GroupContainerAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODM2MzIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQURBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBS0E7QUFBQTtBQVFBO0FBRUE7QUFJQTtBQUZBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2FwQ29udHJvbHMvbW9iaWxlL2NvbnRhaW5lci9Hcm91cENvbnRhaW5lci50c3g/ZTBmMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOiDliIbnu4TlrrnlmahBUOWxglxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIyLTExLTE0IDEwOjMzOjEyXG4gKiBATGFzdEVkaXRUaW1lOiAyMDI0LTAxLTI1IDEzOjQ0OjIyXG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIHVzZU1lbW8sIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgbWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlR2V0U3ViR3JvdXBDb250YWluZXIgfSBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VHZXRUYWJTdWJDb250cm9scydcbmltcG9ydCB1c2VHZXRBY3RpdmVkVGFiRG9tUHJvcHMgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlR2V0QWN0aXZlZFRhYkRvbVByb3BzJ1xuaW1wb3J0IHsgQXBDb250cm9sUHJvcHMgfSBmcm9tICcuLi8uLi8uLi90eXBlJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vLi4vLi4vY29udGV4dCdcbmltcG9ydCB1c2VFZGl0Q29udHJvbE5hbWUgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlRWRpdENvbnRyb2xOYW1lJ1xuaW1wb3J0IHsgaXNIaWRlVGl0bGVBcmVhIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY29udHJvbCdcbmltcG9ydCB7IFRhYnMsIEdyaWRQYW5lbCB9IGZyb20gJ25vY29kZV9jb21wb25lbnQvTW9iVUknXG5pbXBvcnQgeyBOT0NPREVfQklaQlVUVE9OX1BBTkVMX0FQIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHVzZUdldFN1YkNvbnRyb2xzIGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUdldFN1YkNvbnRyb2xzJ1xuaW1wb3J0IHsgZGF0YVNlbGVjdGlvbiB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy9kYXRhQXR0cmlidXRlJ1xuaW1wb3J0IHsgc2V0TmV3RGF0YUNvbnRyb2xJZCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzJ1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDliIbnu4TlhoXlrrlcbiAqL1xuY29uc3QgR3JvdXBQYW5lbCA9ICh7XG4gIGNvbnRyb2xJZCwgLi4ub3RoZXJcbn0pID0+IHtcbiAgY29uc3QgeyBwcmVmaXhDbHMsIGdldEtkZXNpZ25lckFwaSwgaXNQQyB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IHsgZGF0YTogZGF0YUNvbnRleHQgfSA9IGdldEtkZXNpZ25lckFwaSgpXG4gIGNvbnN0IGRhdGEgPSBkYXRhQ29udGV4dC5nZXREYXRhKClcbiAgY29uc3QgZmluZENvbnRyb2wgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbFxuICAvLyBjb25zdCB7IHN1YkNvbnRyb2xzIH0gPSB1c2VHZXRUYWJTdWJDb250cm9scyhjb250cm9sSWQpXG4gIGNvbnN0IHN1YkNvbnRyb2xzID0gdXNlR2V0U3ViQ29udHJvbHMoeyBJZDogY29udHJvbElkIH0sIGRhdGEsIHsgaXNQQywgZXhjbHVkZVR5cGU6IE5PQ09ERV9CSVpCVVRUT05fUEFORUxfQVAgfSwgZmluZENvbnRyb2wpXG5cbiAgcmV0dXJuIChcbiAgICA8R3JpZFBhbmVsIGd1dHRlcj17WzI0LCAyNF19IHsuLi5vdGhlcn0+XG4gICAgICB7XG4gICAgICAgIHN1YkNvbnRyb2xzLmxlbmd0aCA+IDBcbiAgICAgICAgICA/IHN1YkNvbnRyb2xzXG4gICAgICAgICAgOiA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfV9ncm91cF9pdGVtX2Ryb3Bib3hgfVxuICAgICAgICAgICAgICB7Li4ub3RoZXJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICDmi5bmi73lhoXlrrnliLDov5nph4xcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgfVxuICAgIDwvR3JpZFBhbmVsPlxuICApXG59XG5cbmNvbnN0IFRhYkJhciA9IG1lbW8oKHtcbiAgZGVmYXVsdEJhcixcbiAgaGFuZGxlSXRlbUNsaWNrLFxuICAuLi5vdGhlclByb3BzXG59KSA9PiB7XG4gIGNvbnN0IHsgaWQsIHRpcHMgfSA9IG90aGVyUHJvcHNcbiAgY29uc3QgZG9tZVByb3BzID0gdXNlR2V0QWN0aXZlZFRhYkRvbVByb3BzKGlkKVxuICBjb25zdCBkYmxDbGlja0NoYW5nZU5hbWVQcm9wcyA9IHVzZUVkaXRDb250cm9sTmFtZSh7IElkOiBpZCB9LCBmYWxzZSlcblxuICByZXR1cm4gKFxuICAgIFJlYWN0LmNsb25lRWxlbWVudChkZWZhdWx0QmFyLCB7XG4gICAgICBpZDogaWQsXG4gICAgICAnZGF0YS1ncm91cC1iYXItaXRlbS1pZCc6IGlkLFxuICAgICAgdGlwcyxcbiAgICAgIC4uLmRvbWVQcm9wcyxcbiAgICAgIC4uLmRibENsaWNrQ2hhbmdlTmFtZVByb3BzLFxuICAgICAgLy8gc3R5bGU6IHsgY29sb3I6IGhpZGRlbiA/ICcjY2NjY2NjJyA6ICdpbmhlcml0Jywgb3BhY2l0eTogU3RhdHVzID09PSBURVhUX1NUQVRVU19FTlVNLkhJRERFTiA/ICcwLjUnIDogJzEnIH0sXG4gICAgICBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICBoYW5kbGVJdGVtQ2xpY2soaWQpXG4gICAgICAgIGRvbWVQcm9wcy5vbkNsaWNrKGUpXG4gICAgICB9XG4gICAgfSlcbiAgKVxufSlcblRhYkJhci5kaXNwbGF5TmFtZSA9ICdUYWJCYXInXG5cbmNvbnN0IFRhYlBhbmVsID0gKHtcbiAgaWRcbn0pID0+IHtcbiAgLy8gY29uc3QgeyBnZXRLZGVzaWduZXJBcGksIGZpZWxkU3RhdHVzTWFwLCBwcmVmaXhDbHMgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICAvLyBjb25zdCBrZGVzaWduZXJBcGkgPSB1c2VNZW1vKCgpID0+IGdldEtkZXNpZ25lckFwaSgpLCBbXSlcbiAgLy8gY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCB9ID0ga2Rlc2lnbmVyQXBpXG4gIC8vIGNvbnN0IGNvbnRyb2wgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChpZClcbiAgLy8gY29uc3QgeyBTdGF0dXMsIEtleSB9ID0gY29udHJvbFxuICAvLyBjb25zdCBncm91cFBhbmVsSGlkZGVuUHJvcHMgPSB1c2VDb250cm9sSGlkZGVuKGNvbnRyb2wpXG5cbiAgcmV0dXJuIChcbiAgICA8R3JvdXBQYW5lbFxuICAgICAga2V5PXtpZH1cbiAgICAgIGNvbnRyb2xJZD17aWR9XG4gICAgICBkYXRhLWdyb3VwLWNvbnRhaW5lci1pdGVtPXtpZH1cbiAgICAvPlxuICApXG59XG5cbmNvbnN0IEdyb3VwQ29udGFpbmVyQXA6IFJlYWN0LkZDPEFwQ29udHJvbFByb3BzPiA9ICh7IGZpZWxkIH0pID0+IHtcbiAgY29uc3QgeyBnZXRLZGVzaWduZXJBcGksIHByZWZpeENscyB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IHsgc2VsZWN0aW9uOiBzZWxlY3Rpb25Db250ZXh0IH0gPSBnZXRLZGVzaWduZXJBcGkoKVxuXG4gIGNvbnN0IHtcbiAgICBJZDogY29udHJvbElkLFxuICAgIE5hbWU6IG5hbWUsXG4gICAgVGl0bGVBcmVhLFxuICAgIEhlbHBUaXBzOiB0aXBzLFxuICAgIENvbGxhcHNlOiBzaG93Q29sbGFwc2VcbiAgfSA9IGZpZWxkXG5cbiAgY29uc3QgW2FjdGl2ZWRTZWxlY3RJZCwgc2V0QWN0aXZlZFNlbGVjdElkXSA9IHVzZVN0YXRlKGNvbnRyb2xJZClcbiAgY29uc3QgYmFyT3B0aW9uUmVmID0gdXNlUmVmKFtdKVxuICBjb25zdCB0YWJzUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodGFic1JlZi5jdXJyZW50KSB7XG4gICAgICBjb25zdCB0YWJzRG9tID0gdGFic1JlZi5jdXJyZW50XG4gICAgICBjb25zdCB0YWJzSGVhZGVyRG9tID0gdGFic0RvbS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10YWJzLWhlYWRlcl0nKVxuXG4gICAgICB0YWJzSGVhZGVyRG9tPy5zZXRBdHRyaWJ1dGUoJ2RhdGEtZ3JvdXAtYmFyJywgY29udHJvbElkKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgLy8gY29uc3Qge1xuICAvLyAgIHN1YlRhYkl0ZW1zXG4gIC8vIH0gPSB1c2VHZXRUYWJTdWJDb250cm9scyhjb250cm9sSWQpXG4gIGNvbnN0IHN1YlRhYkl0ZW1zID0gdXNlR2V0U3ViR3JvdXBDb250YWluZXIoZmllbGQpXG5cbiAgY29uc3QgYmFyT3B0aW9uID0gc3ViVGFiSXRlbXMucmVkdWNlKChwcmVWYWwsIGN1clZhbHVlKSA9PiB7XG4gICAgY29uc3QgeyBJZCwgTmFtZSwgVGl0bGVBcmVhLCBIZWxwVGlwcyB9ID0gY3VyVmFsdWVcbiAgICBwcmVWYWwucHVzaCh7XG4gICAgICBpZDogSWQsXG4gICAgICBuYW1lOiBOYW1lLFxuICAgICAgdGl0bGVIaWRkZW46IGlzSGlkZVRpdGxlQXJlYShUaXRsZUFyZWEpLFxuICAgICAgdGlwczogSGVscFRpcHMsXG4gICAgICBrZXk6IElkLFxuICAgICAgbGFiZWw6IE5hbWUsXG4gICAgICBjaGlsZHJlbjogKFxuICAgICAgICA8VGFiUGFuZWxcbiAgICAgICAgICBpZD17SWR9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfSlcbiAgICByZXR1cm4gcHJlVmFsXG4gIH0sIFtdKVxuICBiYXJPcHRpb25SZWYuY3VycmVudCA9IGJhck9wdGlvblxuXG4gIC8vIOmAieS4reebkeWQrFxuICBjb25zdCBzZWxlY3Rpb25DaGFuZ2VDYWxsQmFjayA9ICgpID0+IHtcbiAgICBjb25zdCBhY3RpdmVkU2VsZWN0SWQ6IHN0cmluZyA9IHNlbGVjdGlvbkNvbnRleHQuZ2V0QWN0aXZlU2VsZWN0ZWRJZCgpXG4gICAgY29uc3QgaXNDaGlsZEFjdGl2ZWQgPSBiYXJPcHRpb25SZWYuY3VycmVudD8uZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IGFjdGl2ZWRTZWxlY3RJZClcblxuICAgIGlmIChpc0NoaWxkQWN0aXZlZCkge1xuICAgICAgc2V0QWN0aXZlZFNlbGVjdElkKGFjdGl2ZWRTZWxlY3RJZClcbiAgICB9XG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHNlbGVjdGlvbkNvbnRleHQuZ2V0U2VsZWN0aW9uKClcbiAgICBpZiAoc2VsZWN0aW9uPy5bMF0pIHtcbiAgICAgIGNvbnN0IGlzQ2hpbGRBY3RpdmVkID0gYmFyT3B0aW9uLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBzZWxlY3Rpb24/LlswXSlcblxuICAgICAgaWYgKGlzQ2hpbGRBY3RpdmVkKSB7XG4gICAgICAgIHNldEFjdGl2ZWRTZWxlY3RJZChzZWxlY3Rpb24/LlswXSlcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtiYXJPcHRpb24ubGVuZ3RoXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHNlbGVjdGlvbkNvbnRleHQuZ2V0U2VsZWN0aW9uKClcbiAgICBpZiAoc2VsZWN0aW9uPy5bMF0gPT09IGFjdGl2ZWRTZWxlY3RJZCkge1xuICAgICAgY29uc3QgaXNBY3RpdmVCYXJFeGlzdCA9IGJhck9wdGlvbi5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gYWN0aXZlZFNlbGVjdElkKVxuXG4gICAgICBpZiAoIWlzQWN0aXZlQmFyRXhpc3QpIHtcbiAgICAgICAgLy8g5b2T5YiG57uE5Li66YCJ5Lit55qEaWTml7bvvIzlpoLmnpzmi5blhaXliLDliKvnmoTliIbnu4TpobXnrb7vvIzpnIDopoHlsIblvZPliY3nmoRkYXRhLWNvbnRyb2wtaWTlkoxkYXRhLXNlbGVjdGlvbumHjee9ruato+ehrlxuICAgICAgICBjb25zdCBmaXJzdEJhcklkID0gYmFyT3B0aW9uPy5bMF0uaWRcbiAgICAgICAgc2V0TmV3RGF0YUNvbnRyb2xJZChhY3RpdmVkU2VsZWN0SWQsIGZpcnN0QmFySWQsIChkb20pID0+IHtcbiAgICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKGRhdGFTZWxlY3Rpb24pXG4gICAgICAgIH0pXG5cbiAgICAgICAgc2V0QWN0aXZlZFNlbGVjdElkKGZpcnN0QmFySWQpXG4gICAgICB9XG4gICAgfVxuICB9LCBbYmFyT3B0aW9uLCBhY3RpdmVkU2VsZWN0SWRdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8g5aaC5p6cUEPnq6/pgInkuK3kuobvvIzpgqPkuYjnp7vliqjnq6/kuZ/pnIDopoHot5/nnYDlj5jljJZcbiAgICBzZWxlY3Rpb25DaGFuZ2VDYWxsQmFjaygpXG4gICAgY29uc3QgcmVtb3ZlU2VsZWN0aW9uTGlzdGVuZXIgPSBzZWxlY3Rpb25Db250ZXh0LmFkZFNlbGVjdENoYW5nZUxpc3RlbmVyKHNlbGVjdGlvbkNoYW5nZUNhbGxCYWNrKVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZW1vdmVTZWxlY3Rpb25MaXN0ZW5lcigpXG4gICAgfVxuICB9LCBbXSlcblxuICBjb25zdCBoYW5kbGVJdGVtQ2xpY2sgPSAoaWQ6IHN0cmluZykgPT4ge1xuICAgIHNlbGVjdGlvbkNvbnRleHQuc2V0U2VsZWN0KFtpZF0pXG4gICAgc2V0QWN0aXZlZFNlbGVjdElkKGlkKVxuICB9XG5cbiAgY29uc3QgcmVuZGVyVGFiQmFyID0gKHByb3BzLCBkZWZhdWx0QmFyKSA9PiB7XG4gICAgcmV0dXJuIDxUYWJCYXIgey4uLnByb3BzfSBkZWZhdWx0QmFyPXtkZWZhdWx0QmFyfSBoYW5kbGVJdGVtQ2xpY2s9e2hhbmRsZUl0ZW1DbGlja30gLz5cbiAgfVxuXG4gIGNvbnN0IGFjdGl2ZURvbWVQcm9wcyA9IHVzZUdldEFjdGl2ZWRUYWJEb21Qcm9wcyhhY3RpdmVkU2VsZWN0SWQpXG5cbiAgcmV0dXJuIChcbiAgICA8VGFic1xuICAgICAgcmVmPXt0YWJzUmVmfVxuICAgICAgYWN0aXZlS2V5PXthY3RpdmVkU2VsZWN0SWR9XG4gICAgICBhbGxvd0NvbGxhcHNlPXtzaG93Q29sbGFwc2V9XG4gICAgICBvbkNoYW5nZT17aGFuZGxlSXRlbUNsaWNrfVxuICAgICAgZGF0YS1ncm91cC1jb250YWluZXI9e2NvbnRyb2xJZH1cbiAgICAgIGl0ZW1zPXtiYXJPcHRpb259XG4gICAgICByZW5kZXJUYWJCYXI9e3JlbmRlclRhYkJhcn1cbiAgICAgIHsuLi5hY3RpdmVEb21lUHJvcHN9XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcm91cENvbnRhaW5lckFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///83632\n");

/***/ }),

/***/ 24252:
/*!****************************************!*\
  !*** ./src/apControls/mobile/index.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _base_TextField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base/TextField */ 56964);\n/* harmony import */ var _base_SelectField__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base/SelectField */ 62140);\n/* harmony import */ var _base_TextareaField__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base/TextareaField */ 60592);\n/* harmony import */ var _base_NumberField__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base/NumberField */ 34372);\n/* harmony import */ var _base_DateField__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./base/DateField */ 73768);\n/* harmony import */ var _base_DateRangeField__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./base/DateRangeField */ 83976);\n/* harmony import */ var _base_PictureField__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./base/PictureField */ 89232);\n/* harmony import */ var _base_Attachment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./base/Attachment */ 76172);\n/* harmony import */ var _base_RichText__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./base/RichText */ 75008);\n/* harmony import */ var _base_GraphicDisplay__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./base/GraphicDisplay */ 77900);\n/* harmony import */ var _container_GroupContainer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./container/GroupContainer */ 83632);\n/* harmony import */ var _list_EntryAp__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./list/EntryAp */ 24108);\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-07-19 15:14:05\n * @LastEditTime: 2023-06-16 16:14:12\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\n\n\n\n/** 容器 */\n// 分组\n\n\n/** 表格 */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  NoCodeTextField: _base_TextField__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  NoCodeSelectItemField: _base_SelectField__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  NoCodeDecimalField: _base_NumberField__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  NoCodeRefBillField: _base_SelectField__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  NoCodeMulRefBillField: _base_SelectField__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  NoCodeTextAreaField: _base_TextareaField__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  NoCodeGroupContainerAp: _container_GroupContainer__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n  NoCodeEntryEntity: _list_EntryAp__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n  NoCodeRefBillTable: _list_EntryAp__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n  NoCodeCreateDateField: _base_TextField__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  NoCodeCreatorField: _base_TextField__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  NoCodeModifyDateField: _base_TextField__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  NoCodeModifierField: _base_TextField__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  NoCodeBillNoField: _base_TextField__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  NoCodeDateField: _base_DateField__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n  NoCodeDateRangeField: _base_DateRangeField__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n  NoCodeAttachmentUploadField: _base_Attachment__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n  NoCodeImageUploadField: _base_PictureField__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n  NoCodeRichTextField: _base_RichText__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n  NoCodeGraphicDisplayField: _base_GraphicDisplay__WEBPACK_IMPORTED_MODULE_9__[\"default\"]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQyNTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2FwQ29udHJvbHMvbW9iaWxlL2luZGV4LnRzP2Q5YzciXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0wNy0xOSAxNToxNDowNVxuICogQExhc3RFZGl0VGltZTogMjAyMy0wNi0xNiAxNjoxNDoxMlxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBUZXh0RmllbGRBcCBmcm9tICcuL2Jhc2UvVGV4dEZpZWxkJ1xuaW1wb3J0IFNlbGVjdEZpZWxkQXAgZnJvbSAnLi9iYXNlL1NlbGVjdEZpZWxkJ1xuaW1wb3J0IFRleHRhcmVhRmllbGRBcCBmcm9tICcuL2Jhc2UvVGV4dGFyZWFGaWVsZCdcbmltcG9ydCBOdW1iZXJGaWVsZEFwIGZyb20gJy4vYmFzZS9OdW1iZXJGaWVsZCdcbmltcG9ydCBEYXRlRmllbGQgZnJvbSAnLi9iYXNlL0RhdGVGaWVsZCdcbmltcG9ydCBEYXRlUmFuZ2VGaWVsZCBmcm9tICcuL2Jhc2UvRGF0ZVJhbmdlRmllbGQnXG5pbXBvcnQgUGljdHVyZUZpZWxkIGZyb20gJy4vYmFzZS9QaWN0dXJlRmllbGQnXG5pbXBvcnQgQXR0YWNobWVudCBmcm9tICcuL2Jhc2UvQXR0YWNobWVudCdcbmltcG9ydCBSaWNoVGV4dEFwIGZyb20gJy4vYmFzZS9SaWNoVGV4dCdcbmltcG9ydCBHcmFwaGljRGlzcGxheUFwIGZyb20gJy4vYmFzZS9HcmFwaGljRGlzcGxheSdcbi8qKiDlrrnlmaggKi9cbi8vIOWIhue7hFxuaW1wb3J0IEdyb3VwQ29udGFpbmVyQXAgZnJvbSAnLi9jb250YWluZXIvR3JvdXBDb250YWluZXInXG5cbi8qKiDooajmoLwgKi9cbmltcG9ydCBFbnRyeUFwIGZyb20gJy4vbGlzdC9FbnRyeUFwJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIE5vQ29kZVRleHRGaWVsZDogVGV4dEZpZWxkQXAsXG4gIE5vQ29kZVNlbGVjdEl0ZW1GaWVsZDogU2VsZWN0RmllbGRBcCxcbiAgTm9Db2RlRGVjaW1hbEZpZWxkOiBOdW1iZXJGaWVsZEFwLFxuICBOb0NvZGVSZWZCaWxsRmllbGQ6IFNlbGVjdEZpZWxkQXAsXG4gIE5vQ29kZU11bFJlZkJpbGxGaWVsZDogU2VsZWN0RmllbGRBcCxcbiAgTm9Db2RlVGV4dEFyZWFGaWVsZDogVGV4dGFyZWFGaWVsZEFwLFxuICBOb0NvZGVHcm91cENvbnRhaW5lckFwOiBHcm91cENvbnRhaW5lckFwLFxuICBOb0NvZGVFbnRyeUVudGl0eTogRW50cnlBcCxcbiAgTm9Db2RlUmVmQmlsbFRhYmxlOiBFbnRyeUFwLFxuICBOb0NvZGVDcmVhdGVEYXRlRmllbGQ6IFRleHRGaWVsZEFwLFxuICBOb0NvZGVDcmVhdG9yRmllbGQ6IFRleHRGaWVsZEFwLFxuICBOb0NvZGVNb2RpZnlEYXRlRmllbGQ6IFRleHRGaWVsZEFwLFxuICBOb0NvZGVNb2RpZmllckZpZWxkOiBUZXh0RmllbGRBcCxcbiAgTm9Db2RlQmlsbE5vRmllbGQ6IFRleHRGaWVsZEFwLFxuICBOb0NvZGVEYXRlRmllbGQ6IERhdGVGaWVsZCxcbiAgTm9Db2RlRGF0ZVJhbmdlRmllbGQ6IERhdGVSYW5nZUZpZWxkLFxuICBOb0NvZGVBdHRhY2htZW50VXBsb2FkRmllbGQ6IEF0dGFjaG1lbnQsXG4gIE5vQ29kZUltYWdlVXBsb2FkRmllbGQ6IFBpY3R1cmVGaWVsZCxcbiAgTm9Db2RlUmljaFRleHRGaWVsZDogUmljaFRleHRBcCxcbiAgTm9Db2RlR3JhcGhpY0Rpc3BsYXlGaWVsZDogR3JhcGhpY0Rpc3BsYXlBcFxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///24252\n");

/***/ }),

/***/ 24108:
/*!************************************************!*\
  !*** ./src/apControls/mobile/list/EntryAp.tsx ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var _hooks_useGetSubControls__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../hooks/useGetSubControls */ 65988);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../context */ 90115);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! nocode_component/MobUI */ 65873);\n/* harmony import */ var nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../utils/control */ 3700);\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar IGNORE_SHOW_NAME_COL_TYPES = ['NoCodeImageUploadField', 'NoCodeAttachmentUploadField'];\nvar Entry = function Entry(_ref) {\n  var field = _ref.field;\n  var _Type_ = field._Type_,\n    ShowBatImportBtn = field.ShowBatImportBtn,\n    ShowBatExportBtn = field.ShowBatExportBtn,\n    ShowSeqField = field.ShowSeqField,\n    ShowType = field.ShowType;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_5__.useContext)(_context__WEBPACK_IMPORTED_MODULE_9__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    prefixCls = _useContext.prefixCls;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    metaApi = _getKdesignerApi.meta;\n  var data = dataContext.getData();\n  var findControl = dataContext.findControl;\n  var defaultSeqName = metaApi.getControlPropertyDefaultValue(_Type_, 'SeqName');\n  var _field$SeqName = field.SeqName,\n    SeqName = _field$SeqName === void 0 ? defaultSeqName : _field$SeqName;\n  var subControls = (0,_hooks_useGetSubControls__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(field, data, {\n    isPC: false\n  }, findControl);\n\n  // 卡片标题\n  var cardTitle = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(function () {\n    var _firstSubControl$prop2, _context;\n    if (ShowSeqField) {\n      return \"\".concat(SeqName, \"\\uFF1A1\");\n    }\n    // 取子控件的属性，拼接成字符串展示（跳过图片、附件等特殊字段）\n    var firstSubControl = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1___default()(subControls).call(subControls, function (control) {\n      var _control$props;\n      var _control$props$field = control === null || control === void 0 || (_control$props = control.props) === null || _control$props === void 0 ? void 0 : _control$props.field,\n        _Type_ = _control$props$field._Type_;\n      return !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(IGNORE_SHOW_NAME_COL_TYPES).call(IGNORE_SHOW_NAME_COL_TYPES, _Type_);\n    });\n    if (!firstSubControl) return '-';\n    var _firstSubControl$prop = firstSubControl === null || firstSubControl === void 0 || (_firstSubControl$prop2 = firstSubControl.props) === null || _firstSubControl$prop2 === void 0 ? void 0 : _firstSubControl$prop2.field,\n      Name = _firstSubControl$prop.Name,\n      DefValue = _firstSubControl$prop.DefValue;\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context = \"\".concat(Name, \"\\uFF1A\")).call(_context, DefValue || '-');\n  }, [ShowSeqField, SeqName, subControls]);\n  if (!subControls.length) {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-entry-mb-empty\")\n    }, \"\\u62D6\\u62FD\\u6216\\u70B9\\u51FB\\u6DFB\\u52A0\\u5185\\u5BB9\");\n  }\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-entry-mb-operator\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Button, {\n    type: \"ghost\",\n    size: \"small\",\n    icon: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Icon, {\n      prefix: \"ncicon\",\n      type: \"zengjia-yuan\"\n    })\n  }, \"\\u65B0\\u589E\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Button, {\n    size: \"small\",\n    icon: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Icon, {\n      prefix: \"ncicon\",\n      type: \"xuanze\"\n    })\n  }, \"\\u9009\\u62E9\")), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-entry-mb-item\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(nocode_component_MobUI__WEBPACK_IMPORTED_MODULE_11__.CollapsePanel, {\n    isOpen: true,\n    title: cardTitle,\n    extra: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Icon, {\n      prefix: \"designericon\",\n      type: \"shanchu\"\n    }),\n    transitionDuration: 0\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(subControls).call(subControls, function (control, index) {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-entry-mb-sub-control\"),\n      key: index\n    }, control);\n  }))));\n};\nvar EntryAp = function EntryAp(_ref2) {\n  var field = _ref2.field;\n  var fieldType = field._Type_,\n    ShowType = field.ShowType;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(field);\n  if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_12__.isRefBillTable)(fieldType) && ShowType === '1') return null;\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_7__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    field: field,\n    tipsTrigger: \"click\"\n  }, domProps), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(Entry, {\n    field: field\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (EntryAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQxMDguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUF1QkE7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFHQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2FwQ29udHJvbHMvbW9iaWxlL2xpc3QvRW50cnlBcC50c3g/ZTk5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgRkMsIHVzZUNvbnRleHQsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEFwQ29udHJvbFByb3BzIH0gZnJvbSAnLi4vLi4vLi4vdHlwZSdcbmltcG9ydCB1c2VHZXREb21Qcm9wcyBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VHZXREb21Qcm9wcydcbmltcG9ydCBEZXNpZ25lckZpZWxkSXRlbSBmcm9tICcuLi8uLi9jb21tb24vRGVzaWduZXJGaWVsZEl0ZW0nXG5pbXBvcnQgdXNlR2V0U3ViQ29udHJvbHMgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlR2V0U3ViQ29udHJvbHMnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi8uLi9jb250ZXh0J1xuaW1wb3J0IHsgSWNvbiwgQnV0dG9uIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IHsgQ29sbGFwc2VQYW5lbCB9IGZyb20gJ25vY29kZV9jb21wb25lbnQvTW9iVUknXG5pbXBvcnQgeyBpc1JlZkJpbGxUYWJsZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2NvbnRyb2wnXG5cbmNvbnN0IElHTk9SRV9TSE9XX05BTUVfQ09MX1RZUEVTID0gWydOb0NvZGVJbWFnZVVwbG9hZEZpZWxkJywgJ05vQ29kZUF0dGFjaG1lbnRVcGxvYWRGaWVsZCddXG5cbmNvbnN0IEVudHJ5OiBGQzxBcENvbnRyb2xQcm9wcz4gPSAoe1xuICBmaWVsZFxufSkgPT4ge1xuICBjb25zdCB7IF9UeXBlXywgU2hvd0JhdEltcG9ydEJ0biwgU2hvd0JhdEV4cG9ydEJ0biwgU2hvd1NlcUZpZWxkLCBTaG93VHlwZSB9ID0gZmllbGRcbiAgY29uc3QgeyBnZXRLZGVzaWduZXJBcGksIHByZWZpeENscyB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IHsgZGF0YTogZGF0YUNvbnRleHQsIG1ldGE6IG1ldGFBcGkgfSA9IGdldEtkZXNpZ25lckFwaSgpXG4gIGNvbnN0IGRhdGEgPSBkYXRhQ29udGV4dC5nZXREYXRhKClcbiAgY29uc3QgZmluZENvbnRyb2wgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbFxuICBjb25zdCBkZWZhdWx0U2VxTmFtZSA9IG1ldGFBcGkuZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlKF9UeXBlXywgJ1NlcU5hbWUnKVxuICBjb25zdCB7IFNlcU5hbWUgPSBkZWZhdWx0U2VxTmFtZSB9ID0gZmllbGRcbiAgY29uc3Qgc3ViQ29udHJvbHMgPSB1c2VHZXRTdWJDb250cm9scyhmaWVsZCwgZGF0YSwgeyBpc1BDOiBmYWxzZSB9LCBmaW5kQ29udHJvbClcblxuICAvLyDljaHniYfmoIfpophcbiAgY29uc3QgY2FyZFRpdGxlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKFNob3dTZXFGaWVsZCkge1xuICAgICAgcmV0dXJuIGAke1NlcU5hbWV977yaMWBcbiAgICB9XG4gICAgLy8g5Y+W5a2Q5o6n5Lu255qE5bGe5oCn77yM5ou85o6l5oiQ5a2X56ym5Liy5bGV56S677yI6Lez6L+H5Zu+54mH44CB6ZmE5Lu2562J54m55q6K5a2X5q6177yJXG4gICAgY29uc3QgZmlyc3RTdWJDb250cm9sID0gc3ViQ29udHJvbHMuZmluZChjb250cm9sID0+IHtcbiAgICAgIGNvbnN0IHsgX1R5cGVfIH0gPSBjb250cm9sPy5wcm9wcz8uZmllbGRcbiAgICAgIHJldHVybiAhSUdOT1JFX1NIT1dfTkFNRV9DT0xfVFlQRVMuaW5jbHVkZXMoX1R5cGVfKVxuICAgIH0pXG4gICAgaWYgKCFmaXJzdFN1YkNvbnRyb2wpIHJldHVybiAnLSdcbiAgICBjb25zdCB7IE5hbWUsIERlZlZhbHVlIH0gPSBmaXJzdFN1YkNvbnRyb2w/LnByb3BzPy5maWVsZFxuICAgIHJldHVybiBgJHtOYW1lfe+8miR7RGVmVmFsdWUgfHwgJy0nfWBcbiAgfSwgW1Nob3dTZXFGaWVsZCwgU2VxTmFtZSwgc3ViQ29udHJvbHNdKVxuXG4gIGlmICghc3ViQ29udHJvbHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWVudHJ5LW1iLWVtcHR5YH0+XG4gICAgICAgIOaLluaLveaIlueCueWHu+a3u+WKoOWGheWuuVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWVudHJ5LW1iLW9wZXJhdG9yYH0+XG4gICAgICAgIDxCdXR0b24gdHlwZT0nZ2hvc3QnIHNpemU9J3NtYWxsJyBpY29uPXs8SWNvbiBwcmVmaXg9J25jaWNvbicgdHlwZT0nemVuZ2ppYS15dWFuJyAvPn0+5paw5aKePC9CdXR0b24+XG4gICAgICAgIDxCdXR0b24gc2l6ZT0nc21hbGwnIGljb249ezxJY29uIHByZWZpeD0nbmNpY29uJyB0eXBlPSd4dWFuemUnIC8+fT7pgInmi6k8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tZW50cnktbWItaXRlbWB9PlxuICAgICAgICA8Q29sbGFwc2VQYW5lbFxuICAgICAgICAgIGlzT3BlblxuICAgICAgICAgIHRpdGxlPXtjYXJkVGl0bGV9XG4gICAgICAgICAgZXh0cmE9ezxJY29uIHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPSdzaGFuY2h1JyAvPn1cbiAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb249ezB9XG4gICAgICAgID5cbiAgICAgICAgICB7c3ViQ29udHJvbHMubWFwKChjb250cm9sOiBhbnksIGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1lbnRyeS1tYi1zdWItY29udHJvbGB9IGtleT17aW5kZXh9Pntjb250cm9sfTwvZGl2PlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pfVxuICAgICAgICA8L0NvbGxhcHNlUGFuZWw+XG4gICAgICAgIHsvKiDlpLTpg6ggKi99XG4gICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1lbnRyeS1tYi1pdGVtLXRpdGxlYH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RpdGxlLWxlZnQnPlxuICAgICAgICAgICAgPEljb24gcHJlZml4PSduY2ljb24nIHR5cGU9J2Zlbnp1emhlZGllJyAvPlxuICAgICAgICAgICAge1Nob3dTZXEgPyBgJHtTZXFOYW1lfe+8mjFgIDogJy0nfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0aXRsZS1yaWdodCc+XG4gICAgICAgICAgICA8SWNvbiBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nc2hhbmNodScgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+ICovfVxuICAgICAgICB7Lyog5YaF5a655Yy65Z+fICovfVxuICAgICAgICB7LyogPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tZW50cnktbWItaXRlbS1ib2R5YH0+XG4gICAgICAgICAge3N1YkNvbnRyb2xzLm1hcCgoY29udHJvbDogYW55LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tZW50cnktbWItc3ViLWNvbnRyb2xgfSBrZXk9e2luZGV4fT57Y29udHJvbH08L2Rpdj5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+ICovfVxuICAgICAgPC9kaXY+XG4gICAgPC8+XG4gIClcbn1cblxuY29uc3QgRW50cnlBcDogRkM8QXBDb250cm9sUHJvcHM+ID0gKHtcbiAgZmllbGRcbn0pID0+IHtcbiAgY29uc3QgeyBfVHlwZV86IGZpZWxkVHlwZSwgU2hvd1R5cGUgfSA9IGZpZWxkXG4gIGNvbnN0IGRvbVByb3BzID0gdXNlR2V0RG9tUHJvcHMoZmllbGQpXG5cbiAgaWYgKGlzUmVmQmlsbFRhYmxlKGZpZWxkVHlwZSkgJiYgU2hvd1R5cGUgPT09ICcxJykgcmV0dXJuIG51bGxcbiAgcmV0dXJuIChcbiAgICA8RGVzaWduZXJGaWVsZEl0ZW1cbiAgICAgIGZpZWxkPXtmaWVsZH1cbiAgICAgIHRpcHNUcmlnZ2VyPSdjbGljaydcbiAgICAgIHsuLi5kb21Qcm9wc31cbiAgICA+XG4gICAgICA8RW50cnkgZmllbGQ9e2ZpZWxkfSAvPlxuICAgIDwvRGVzaWduZXJGaWVsZEl0ZW0+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgRW50cnlBcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///24108\n");

/***/ }),

/***/ 88736:
/*!************************************************!*\
  !*** ./src/apControls/web/base/Attachment.tsx ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_instance_replace_all__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js/instance/replace-all */ 35680);\n/* harmony import */ var _babel_runtime_corejs3_core_js_instance_replace_all__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_instance_replace_all__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../context */ 90115);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n\n\n\n/**\n * 支持附件上传控件\n * @description 无代码设计器控件\n * @author cxf\n * @data 2022-10-18 16:40\n */\n\n\n// import useGetControlProps from '../../../hooks/useGetControlProps'\n\n\n// import { TEXT_STATUS_ENUM } from '../../../constants/control'\n\n\nvar AttachmentAp = function AttachmentAp(_ref) {\n  var _context, _context2, _context3;\n  var field = _ref.field;\n  var FieldType = field.FieldType,\n    FileMaxSize = field.FileMaxSize,\n    UploadNum = field.UploadNum,\n    UploadModel = field.UploadModel,\n    UploadPrompt = field.UploadPrompt,\n    ButtonText = field.ButtonText,\n    AttachmentFileType = field.AttachmentFileType;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_context__WEBPACK_IMPORTED_MODULE_5__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(field);\n  var _getKdesignerApi$meta = getKdesignerApi().meta,\n    getControlPropertyDefaultValue = _getKdesignerApi$meta.getControlPropertyDefaultValue,\n    getControlMetaEditor = _getKdesignerApi$meta.getControlMetaEditor;\n  var pictureDefaultSize = getControlPropertyDefaultValue(FieldType, 'FileMaxSize'); // 默认图片大小\n  // const AttachmentFileType = getControlPropertyDefaultValue(FieldType, 'AttachmentFileType') // 上传类型\n  // 这里应该搞个字段映射关系的，PC端也一致\n  var inputProps = {\n    // disabled: true // 设计器的默认开启\n  };\n  var inputStyle = {\n    fontSize: '12px',\n    textAlign: 'left',\n    pointerEvents: 'none'\n  };\n  console.log('AttachmentAp', UploadNum, field);\n  var noticeInfo = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default()(_context2 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default()(_context3 = \"\\u8BF7\\u4E0A\\u4F20\\u5C0F\\u4E8E\".concat(FileMaxSize || pictureDefaultSize, \"M\\u7684\")).call(_context3, AttachmentFileType === null || AttachmentFileType === void 0 ? void 0 : _babel_runtime_corejs3_core_js_instance_replace_all__WEBPACK_IMPORTED_MODULE_2___default()(AttachmentFileType).call(AttachmentFileType, '.', ''), \"\\u6587\\u4EF6\\uFF0C\\u6587\\u4EF6\\u4E2A\\u6570\\u4E0D\\u5C11\\u4E8E\")).call(_context2, (UploadNum === null || UploadNum === void 0 ? void 0 : UploadNum.min) || 0, \"\\u4E2A\\uFF0C\\u4E0D\\u591A\\u4E8E\")).call(_context, (UploadNum === null || UploadNum === void 0 ? void 0 : UploadNum.max) || 1, \"\\u4E2A\\u3002\");\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_7__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6__.Attachment, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    style: inputStyle,\n    fileList: [],\n    mode: UploadModel,\n    uploadNum: UploadNum,\n    noticeInfo: noticeInfo,\n    buttonText: ButtonText,\n    pasteThumbnail: false\n  }, inputProps)));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (AttachmentAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODg3MzYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9hcENvbnRyb2xzL3dlYi9iYXNlL0F0dGFjaG1lbnQudHN4Pzg0NzEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDmlK/mjIHpmYTku7bkuIrkvKDmjqfku7ZcbiAqIEBkZXNjcmlwdGlvbiDml6Dku6PnoIHorr7orqHlmajmjqfku7ZcbiAqIEBhdXRob3IgY3hmXG4gKiBAZGF0YSAyMDIyLTEwLTE4IDE2OjQwXG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgdXNlR2V0RG9tUHJvcHMgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlR2V0RG9tUHJvcHMnXG4vLyBpbXBvcnQgdXNlR2V0Q29udHJvbFByb3BzIGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUdldENvbnRyb2xQcm9wcydcbmltcG9ydCB7IEFwQ29udHJvbFByb3BzIH0gZnJvbSAnLi4vLi4vLi4vdHlwZSdcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uLy4uL2NvbnRleHQnXG4vLyBpbXBvcnQgeyBURVhUX1NUQVRVU19FTlVNIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzL2NvbnRyb2wnXG5pbXBvcnQgeyBBdHRhY2htZW50IH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcbmltcG9ydCBEZXNpZ25lckZpZWxkSXRlbSBmcm9tICcuLi8uLi9jb21tb24vRGVzaWduZXJGaWVsZEl0ZW0nXG5cbmNvbnN0IEF0dGFjaG1lbnRBcDogUmVhY3QuRkM8QXBDb250cm9sUHJvcHM+ID0gKHsgZmllbGQgfSkgPT4ge1xuICBjb25zdCB7IEZpZWxkVHlwZSwgRmlsZU1heFNpemUsIFVwbG9hZE51bSwgVXBsb2FkTW9kZWwsIFVwbG9hZFByb21wdCwgQnV0dG9uVGV4dCwgQXR0YWNobWVudEZpbGVUeXBlIH0gPSBmaWVsZFxuICBjb25zdCB7IGdldEtkZXNpZ25lckFwaSB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IGRvbVByb3BzID0gdXNlR2V0RG9tUHJvcHMoZmllbGQpXG4gIGNvbnN0IHsgZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlLCBnZXRDb250cm9sTWV0YUVkaXRvciB9ID0gZ2V0S2Rlc2lnbmVyQXBpKCkubWV0YVxuICBjb25zdCBwaWN0dXJlRGVmYXVsdFNpemUgPSBnZXRDb250cm9sUHJvcGVydHlEZWZhdWx0VmFsdWUoRmllbGRUeXBlLCAnRmlsZU1heFNpemUnKSAvLyDpu5jorqTlm77niYflpKflsI9cbiAgLy8gY29uc3QgQXR0YWNobWVudEZpbGVUeXBlID0gZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlKEZpZWxkVHlwZSwgJ0F0dGFjaG1lbnRGaWxlVHlwZScpIC8vIOS4iuS8oOexu+Wei1xuICAvLyDov5nph4zlupTor6XmkJ7kuKrlrZfmrrXmmKDlsITlhbPns7vnmoTvvIxQQ+err+S5n+S4gOiHtFxuICBjb25zdCBpbnB1dFByb3BzOiBhbnkgPSB7XG4gICAgLy8gZGlzYWJsZWQ6IHRydWUgLy8g6K6+6K6h5Zmo55qE6buY6K6k5byA5ZCvXG4gIH1cbiAgY29uc3QgaW5wdXRTdHlsZTogYW55ID0ge1xuICAgIGZvbnRTaXplOiAnMTJweCcsXG4gICAgdGV4dEFsaWduOiAnbGVmdCcsXG4gICAgcG9pbnRlckV2ZW50czogJ25vbmUnXG4gIH1cblxuICBjb25zb2xlLmxvZygnQXR0YWNobWVudEFwJywgVXBsb2FkTnVtLCBmaWVsZClcbiAgY29uc3Qgbm90aWNlSW5mbyA9IGDor7fkuIrkvKDlsI/kuo4ke0ZpbGVNYXhTaXplIHx8IHBpY3R1cmVEZWZhdWx0U2l6ZX1N55qEJHtBdHRhY2htZW50RmlsZVR5cGU/LnJlcGxhY2VBbGwoJy4nLCAnJyl95paH5Lu277yM5paH5Lu25Liq5pWw5LiN5bCR5LqOJHtVcGxvYWROdW0/Lm1pbiB8fCAwfeS4qu+8jOS4jeWkmuS6jiR7VXBsb2FkTnVtPy5tYXggfHwgMX3kuKrjgIJgXG4gIHJldHVybiAoXG4gICAgPERlc2lnbmVyRmllbGRJdGVtXG4gICAgICB7Li4uZG9tUHJvcHN9XG4gICAgICBmaWVsZD17ZmllbGR9XG4gICAgPlxuICAgICAgPEF0dGFjaG1lbnRcbiAgICAgICAgc3R5bGU9e2lucHV0U3R5bGV9XG4gICAgICAgIGZpbGVMaXN0PXtbXX1cbiAgICAgICAgbW9kZT17VXBsb2FkTW9kZWx9XG4gICAgICAgIHVwbG9hZE51bT17VXBsb2FkTnVtfVxuICAgICAgICBub3RpY2VJbmZvPXtub3RpY2VJbmZvfVxuICAgICAgICBidXR0b25UZXh0PXtCdXR0b25UZXh0fVxuICAgICAgICBwYXN0ZVRodW1ibmFpbD17ZmFsc2V9XG4gICAgICAgIHsuLi5pbnB1dFByb3BzfVxuICAgICAgLz5cbiAgICA8L0Rlc2lnbmVyRmllbGRJdGVtPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEF0dGFjaG1lbnRBcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///88736\n");

/***/ }),

/***/ 57760:
/*!***********************************************!*\
  !*** ./src/apControls/web/base/BillField.tsx ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../context */ 90115);\n/* harmony import */ var _constants_control__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../constants/control */ 24788);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var _constants_actionName__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../constants/actionName */ 82964);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _common_BaseField__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../common/BaseField */ 48952);\n\n\n\n\nvar _excluded = [\"field\"];\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_4___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_5___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_5___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_7___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_8___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_7___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-09-27 15:22:37\n * @LastEditTime: 2023-08-28 13:41:40\n * @Last Modified by: jianhang_he\n */\n/**\n * 关联表单\n * @description 无代码设计器控件\n * @author cxf\n * @data 2022-09-08 17:16\n */\n\n\n\n\n\n\n\n\nvar BillFieldAp = function BillFieldAp(_ref) {\n  var _PropsDisplay$split;\n  var field = _ref.field,\n    other = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_ref, _excluded);\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useState)([]),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState, 2),\n    refBillField = _useState2[0],\n    setRefBillField = _useState2[1];\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useContext)(_context__WEBPACK_IMPORTED_MODULE_13__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(field);\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data;\n  var data = dataContext.getData();\n  var EmptyText = field.EmptyText,\n    DataRage = field.DataRage,\n    showClearButton = field.showClearButton,\n    Status = field.Status,\n    ShowType = field.ShowType,\n    PropsDisplay = field.PropsDisplay,\n    Visibility = field.Visibility;\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useEffect)(function () {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_16__.SET_REF_PROP_DISP, updateRefBillField);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_16__.SET_REF_PROP_DISP, updateRefBillField);\n    };\n  }, []);\n\n  // 这里应该搞个字段映射关系的，PC端也一致\n  var inputProps = {\n    placeholder: EmptyText,\n    Grow: 1,\n    allowClear: showClearButton,\n    dataRage: DataRage,\n    disabled: Status === _constants_control__WEBPACK_IMPORTED_MODULE_14__.TEXT_STATUS_ENUM.DISABLED,\n    readonly: true // 设计器的默认开启\n  };\n  // 获取并格式化关联表单显示内容\n  var updateRefBillField = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useCallback)(function (info) {\n    var data = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(info).call(info, function (item) {\n      return {\n        fieldCaption: item.PropCap,\n        fieldName: item.PropKey,\n        items: item.items,\n        type: item.type\n      };\n    });\n    setRefBillField(data || []);\n  }, []);\n  var fields = PropsDisplay ? (_PropsDisplay$split = PropsDisplay.split(',')) === null || _PropsDisplay$split === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(_PropsDisplay$split).call(_PropsDisplay$split, function (id) {\n    var field = refBillField === null || refBillField === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10___default()(refBillField).call(refBillField, function (field) {\n      return field.fieldName === id;\n    });\n    var _ref2 = field || {},\n      fieldCaption = _ref2.fieldCaption,\n      type = _ref2.type,\n      fieldName = _ref2.fieldName;\n    return {\n      ApType: 'NoCodeTextFieldAp',\n      // FieldId: \"y3TuMoUqua\",\n      FieldType: 'NoCodeTextField',\n      Id: fieldName,\n      // Key: \"nc_jkjpjslf1y\",\n      Name: fieldCaption,\n      // ParentId: \"9eBCJc4rea\",\n      _Type_: 'NoCodeTextField'\n    };\n  }) : [];\n  var entryApProps = _objectSpread({\n    // ShowSelChexkbox: true,\n    ShowSeqField: true,\n    SeqName: '序号',\n    ShowBatExportBtn: false,\n    ShowBatImportBtn: false,\n    showAddRowBtn: false,\n    EntityData: _objectSpread(_objectSpread({}, field.EntityData), {}, {\n      _Type_: 'NoCodeEntryEntity'\n    }),\n    operations: ['取消']\n  }, field);\n  return ShowType === '1' ? /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_15__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(_common_BaseField__WEBPACK_IMPORTED_MODULE_18__.BaseField, {\n    type: \"RefBill\",\n    field: field\n  }))\n  // : <EntryAp\n  //   field={entryApProps}\n  //   {...other}\n  // />\n  : null;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (BillFieldAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTc3NjAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFPQTtBQUlBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9hcENvbnRyb2xzL3dlYi9iYXNlL0JpbGxGaWVsZC50c3g/ZmMyMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIyLTA5LTI3IDE1OjIyOjM3XG4gKiBATGFzdEVkaXRUaW1lOiAyMDIzLTA4LTI4IDEzOjQxOjQwXG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuLyoqXG4gKiDlhbPogZTooajljZVcbiAqIEBkZXNjcmlwdGlvbiDml6Dku6PnoIHorr7orqHlmajmjqfku7ZcbiAqIEBhdXRob3IgY3hmXG4gKiBAZGF0YSAyMDIyLTA5LTA4IDE3OjE2XG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHVzZUdldERvbVByb3BzIGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUdldERvbVByb3BzJ1xuaW1wb3J0IHsgQXBDb250cm9sUHJvcHMgfSBmcm9tICcuLi8uLi8uLi90eXBlJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vLi4vLi4vY29udGV4dCdcbmltcG9ydCB7IFRFWFRfU1RBVFVTX0VOVU0gfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMvY29udHJvbCdcbmltcG9ydCBEZXNpZ25lckZpZWxkSXRlbSBmcm9tICcuLi8uLi9jb21tb24vRGVzaWduZXJGaWVsZEl0ZW0nXG5pbXBvcnQgeyBFbnRyeUFwLCBFbnRyeUZpZWxkQXAgfSBmcm9tICcuLi9saXN0J1xuaW1wb3J0IHsgU0VUX1JFRl9QUk9QX0RJU1AgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMvYWN0aW9uTmFtZSdcbmltcG9ydCB7IFJlZkJpbGwgfSBmcm9tICdub2NvZGVfY29tcG9uZW50L1dlYlVJJ1xuaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgeyBCYXNlRmllbGQgfSBmcm9tICcuLi8uLi9jb21tb24vQmFzZUZpZWxkJ1xuXG5jb25zdCBCaWxsRmllbGRBcDogUmVhY3QuRkM8QXBDb250cm9sUHJvcHM+ID0gKHsgZmllbGQsIC4uLm90aGVyIH0pID0+IHtcbiAgY29uc3QgW3JlZkJpbGxGaWVsZCwgc2V0UmVmQmlsbEZpZWxkXSA9IHVzZVN0YXRlKFtdKVxuICBjb25zdCB7IGdldEtkZXNpZ25lckFwaSB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IGRvbVByb3BzID0gdXNlR2V0RG9tUHJvcHMoZmllbGQpXG4gIGNvbnN0IGtkZXNpZ25lckFwaSA9IHVzZU1lbW8oKCkgPT4gZ2V0S2Rlc2lnbmVyQXBpKCksIFtdKVxuICBjb25zdCBkYXRhQ29udGV4dCA9IGtkZXNpZ25lckFwaS5kYXRhXG4gIGNvbnN0IGRhdGEgPSBkYXRhQ29udGV4dC5nZXREYXRhKClcbiAgY29uc3Qge1xuICAgIEVtcHR5VGV4dCxcbiAgICBEYXRhUmFnZSxcbiAgICBzaG93Q2xlYXJCdXR0b24sXG4gICAgU3RhdHVzLFxuICAgIFNob3dUeXBlLFxuICAgIFByb3BzRGlzcGxheSxcbiAgICBWaXNpYmlsaXR5XG4gIH0gPSBmaWVsZFxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZXZlbnRCdXMub24oU0VUX1JFRl9QUk9QX0RJU1AsIHVwZGF0ZVJlZkJpbGxGaWVsZClcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZXZlbnRCdXMub2ZmKFNFVF9SRUZfUFJPUF9ESVNQLCB1cGRhdGVSZWZCaWxsRmllbGQpXG4gICAgfVxuICB9LCBbXSlcblxuICAvLyDov5nph4zlupTor6XmkJ7kuKrlrZfmrrXmmKDlsITlhbPns7vnmoTvvIxQQ+err+S5n+S4gOiHtFxuICBjb25zdCBpbnB1dFByb3BzOiBhbnkgPSB7XG4gICAgcGxhY2Vob2xkZXI6IEVtcHR5VGV4dCxcbiAgICBHcm93OiAxLFxuICAgIGFsbG93Q2xlYXI6IHNob3dDbGVhckJ1dHRvbixcbiAgICBkYXRhUmFnZTogRGF0YVJhZ2UsXG4gICAgZGlzYWJsZWQ6IFN0YXR1cyA9PT0gVEVYVF9TVEFUVVNfRU5VTS5ESVNBQkxFRCxcbiAgICByZWFkb25seTogdHJ1ZSAvLyDorr7orqHlmajnmoTpu5jorqTlvIDlkK9cbiAgfVxuICAvLyDojrflj5blubbmoLzlvI/ljJblhbPogZTooajljZXmmL7npLrlhoXlrrlcbiAgY29uc3QgdXBkYXRlUmVmQmlsbEZpZWxkID0gdXNlQ2FsbGJhY2soKGluZm86YW55KSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IGluZm8ubWFwKChpdGVtOmFueSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZmllbGRDYXB0aW9uOiBpdGVtLlByb3BDYXAsXG4gICAgICAgIGZpZWxkTmFtZTogaXRlbS5Qcm9wS2V5LFxuICAgICAgICBpdGVtczogaXRlbS5pdGVtcyxcbiAgICAgICAgdHlwZTogaXRlbS50eXBlXG4gICAgICB9XG4gICAgfSlcbiAgICBzZXRSZWZCaWxsRmllbGQoZGF0YSB8fCBbXSlcbiAgfSwgW10pXG4gIGNvbnN0IGZpZWxkcyA9IFByb3BzRGlzcGxheVxuICAgID8gUHJvcHNEaXNwbGF5LnNwbGl0KCcsJyk/Lm1hcChpZCA9PiB7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gcmVmQmlsbEZpZWxkPy5maW5kKGZpZWxkID0+IGZpZWxkLmZpZWxkTmFtZSA9PT0gaWQpXG4gICAgICAgIGNvbnN0IHsgZmllbGRDYXB0aW9uLCB0eXBlLCBmaWVsZE5hbWUgfSA9IGZpZWxkIHx8IHt9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgQXBUeXBlOiAnTm9Db2RlVGV4dEZpZWxkQXAnLFxuICAgICAgICAgIC8vIEZpZWxkSWQ6IFwieTNUdU1vVXF1YVwiLFxuICAgICAgICAgIEZpZWxkVHlwZTogJ05vQ29kZVRleHRGaWVsZCcsXG4gICAgICAgICAgSWQ6IGZpZWxkTmFtZSxcbiAgICAgICAgICAvLyBLZXk6IFwibmNfamtqcGpzbGYxeVwiLFxuICAgICAgICAgIE5hbWU6IGZpZWxkQ2FwdGlvbixcbiAgICAgICAgICAvLyBQYXJlbnRJZDogXCI5ZUJDSmM0cmVhXCIsXG4gICAgICAgICAgX1R5cGVfOiAnTm9Db2RlVGV4dEZpZWxkJ1xuICAgICAgICB9XG4gICAgICB9KSA6IFtdXG5cbiAgY29uc3QgZW50cnlBcFByb3BzID0ge1xuICAgIC8vIFNob3dTZWxDaGV4a2JveDogdHJ1ZSxcbiAgICBTaG93U2VxRmllbGQ6IHRydWUsXG4gICAgU2VxTmFtZTogJ+W6j+WPtycsXG4gICAgU2hvd0JhdEV4cG9ydEJ0bjogZmFsc2UsXG4gICAgU2hvd0JhdEltcG9ydEJ0bjogZmFsc2UsXG4gICAgc2hvd0FkZFJvd0J0bjogZmFsc2UsXG4gICAgRW50aXR5RGF0YToge1xuICAgICAgLi4uZmllbGQuRW50aXR5RGF0YSxcbiAgICAgIF9UeXBlXzogJ05vQ29kZUVudHJ5RW50aXR5J1xuICAgIH0sXG4gICAgb3BlcmF0aW9uczogWyflj5bmtognXSxcbiAgICAvLyBzdWJDb250cm9sczogZmllbGRzPy5tYXAoKHByb3BzKSA9PiB7XG4gICAgLy8gICAgIHJldHVybiA8RW50cnlGaWVsZEFwIGZpZWxkPXtwcm9wc30vPiAvLyDmmoLml7bljrvmjonvvIzlm6DkuLrov5nkuKrkvp3otZblsZ7mgKfnmoTmuLLmn5PlkI7or7fmsYLmlbDmja7vvIzlr7zoh7TpppbmrKHml6Dms5XmuLLmn5NcbiAgICAvLyAgIH0pLFxuICAgIC4uLmZpZWxkXG4gIH1cblxuICByZXR1cm4gKFxuICAgIFNob3dUeXBlID09PSAnMSdcbiAgICAgID8gPERlc2lnbmVyRmllbGRJdGVtXG4gICAgICAgIHsuLi5kb21Qcm9wc31cbiAgICAgICAgZmllbGQ9e2ZpZWxkfVxuICAgICAgPlxuICAgICAgICA8QmFzZUZpZWxkIHR5cGU9J1JlZkJpbGwnIGZpZWxkPXtmaWVsZH0gIC8+XG4gICAgICB7Lyoge1N0YXR1cyA9PT0gVEVYVF9TVEFUVVNfRU5VTS5SRUFET05MWSA/IDw+LTwvPiA6IDxSZWZCaWxsIHsuLi5pbnB1dFByb3BzfSAvPn0gKi99XG4gICAgPC9EZXNpZ25lckZpZWxkSXRlbT5cbiAgICAgIC8vIDogPEVudHJ5QXBcbiAgICAgIC8vICAgZmllbGQ9e2VudHJ5QXBQcm9wc31cbiAgICAgIC8vICAgey4uLm90aGVyfVxuICAgICAgLy8gLz5cbiAgICAgIDogbnVsbFxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEJpbGxGaWVsZEFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///57760\n");

/***/ }),

/***/ 28608:
/*!***********************************************!*\
  !*** ./src/apControls/web/base/DateField.tsx ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/map */ 52892);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var _common_BaseField__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/BaseField */ 48952);\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-09-27 15:22:37\n * @LastEditTime: 2022-11-14 10:27:58\n * @Last Modified by: jianhang_he\n */\n\n\n\n\nvar DEFAULT_BORDER_TYPE = 'bordered';\nvar pickerTypeMap = new (_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_1___default())([['2', 'month'], ['3', 'year']]);\nvar DateFieldAp = function DateFieldAp(_ref) {\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(field);\n  var FormatType = field.FormatType;\n  var controlProps = {\n    borderType: DEFAULT_BORDER_TYPE,\n    showTime: FormatType === '0',\n    readOnly: true,\n    allowClear: false,\n    picker: pickerTypeMap.get(FormatType) || 'date'\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_4__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_common_BaseField__WEBPACK_IMPORTED_MODULE_5__.BaseField, {\n    type: \"DatePicker\",\n    field: field,\n    props: controlProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DateFieldAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjg2MDguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvYXBDb250cm9scy93ZWIvYmFzZS9EYXRlRmllbGQudHN4PzcwODkiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0wOS0yNyAxNToyMjozN1xuICogQExhc3RFZGl0VGltZTogMjAyMi0xMS0xNCAxMDoyNzo1OFxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB1c2VHZXREb21Qcm9wcyBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VHZXREb21Qcm9wcydcbmltcG9ydCB7IEFwQ29udHJvbFByb3BzIH0gZnJvbSAnLi4vLi4vLi4vdHlwZSdcbmltcG9ydCBEZXNpZ25lckZpZWxkSXRlbSBmcm9tICcuLi8uLi9jb21tb24vRGVzaWduZXJGaWVsZEl0ZW0nXG5pbXBvcnQgeyBCYXNlRmllbGQgfSBmcm9tICcuLi8uLi9jb21tb24vQmFzZUZpZWxkJ1xuXG5jb25zdCBERUZBVUxUX0JPUkRFUl9UWVBFID0gJ2JvcmRlcmVkJ1xuY29uc3QgcGlja2VyVHlwZU1hcCA9IG5ldyBNYXAoW1xuICBbJzInLCAnbW9udGgnXSxcbiAgWyczJywgJ3llYXInXVxuXSlcblxuY29uc3QgRGF0ZUZpZWxkQXA6IFJlYWN0LkZDPEFwQ29udHJvbFByb3BzPiA9ICh7IGZpZWxkIH0pID0+IHtcbiAgY29uc3QgZG9tUHJvcHMgPSB1c2VHZXREb21Qcm9wcyhmaWVsZClcbiAgY29uc3QgeyBGb3JtYXRUeXBlIH0gPSBmaWVsZFxuXG4gIGNvbnN0IGNvbnRyb2xQcm9wczogYW55ID0ge1xuICAgIGJvcmRlclR5cGU6IERFRkFVTFRfQk9SREVSX1RZUEUsXG4gICAgc2hvd1RpbWU6IEZvcm1hdFR5cGUgPT09ICcwJyxcbiAgICByZWFkT25seTogdHJ1ZSxcbiAgICBhbGxvd0NsZWFyOiBmYWxzZSxcbiAgICBwaWNrZXI6IHBpY2tlclR5cGVNYXAuZ2V0KEZvcm1hdFR5cGUpIHx8ICdkYXRlJ1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8RGVzaWduZXJGaWVsZEl0ZW1cbiAgICAgIHsuLi5kb21Qcm9wc31cbiAgICAgIGZpZWxkPXtmaWVsZH1cbiAgICA+XG4gICAgICA8QmFzZUZpZWxkIHR5cGU9J0RhdGVQaWNrZXInIGZpZWxkPXtmaWVsZH0gcHJvcHM9e2NvbnRyb2xQcm9wc30gLz5cbiAgICA8L0Rlc2lnbmVyRmllbGRJdGVtPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGVGaWVsZEFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///28608\n");

/***/ }),

/***/ 35752:
/*!****************************************************!*\
  !*** ./src/apControls/web/base/DateRangeField.tsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var _common_BaseField__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/BaseField */ 48952);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../utils */ 41232);\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-11-02 17:03:02\n * @LastEditTime: 2022-11-14 10:27:49\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\nvar DEFAULT_BORDER_TYPE = 'bordered';\nvar DateRangeFieldAp = function DateRangeFieldAp(_ref) {\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(field);\n  var _field = field,\n    FormatType = _field.FormatType;\n  var controlProps = {\n    borderType: DEFAULT_BORDER_TYPE,\n    showTime: FormatType === '0',\n    readOnly: true,\n    allowClear: false\n  };\n  field = (0,_utils__WEBPACK_IMPORTED_MODULE_5__.tranformFieldDefValue)(field, 'DateRangeDefValue');\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_BaseField__WEBPACK_IMPORTED_MODULE_4__.BaseField, {\n    type: \"DateRangePicker\",\n    field: field,\n    props: controlProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DateRangeFieldAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzU3NTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUdBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvYXBDb250cm9scy93ZWIvYmFzZS9EYXRlUmFuZ2VGaWVsZC50c3g/YTk0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIyLTExLTAyIDE3OjAzOjAyXG4gKiBATGFzdEVkaXRUaW1lOiAyMDIyLTExLTE0IDEwOjI3OjQ5XG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHVzZUdldERvbVByb3BzIGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUdldERvbVByb3BzJ1xuaW1wb3J0IHsgQXBDb250cm9sUHJvcHMgfSBmcm9tICcuLi8uLi8uLi90eXBlJ1xuaW1wb3J0IERlc2lnbmVyRmllbGRJdGVtIGZyb20gJy4uLy4uL2NvbW1vbi9EZXNpZ25lckZpZWxkSXRlbSdcbmltcG9ydCB7IEJhc2VGaWVsZCB9IGZyb20gJy4uLy4uL2NvbW1vbi9CYXNlRmllbGQnXG5pbXBvcnQgeyB0cmFuZm9ybUZpZWxkRGVmVmFsdWUgfSBmcm9tICcuLi8uLi8uLi91dGlscydcblxuY29uc3QgREVGQVVMVF9CT1JERVJfVFlQRSA9ICdib3JkZXJlZCdcblxuY29uc3QgRGF0ZVJhbmdlRmllbGRBcDogUmVhY3QuRkM8QXBDb250cm9sUHJvcHM+ID0gKHsgZmllbGQgfSkgPT4ge1xuICBjb25zdCBkb21Qcm9wcyA9IHVzZUdldERvbVByb3BzKGZpZWxkKVxuICBjb25zdCB7IEZvcm1hdFR5cGUgfSA9IGZpZWxkXG5cbiAgY29uc3QgY29udHJvbFByb3BzOiBhbnkgPSB7XG4gICAgYm9yZGVyVHlwZTogREVGQVVMVF9CT1JERVJfVFlQRSxcbiAgICBzaG93VGltZTogRm9ybWF0VHlwZSA9PT0gJzAnLFxuICAgIHJlYWRPbmx5OiB0cnVlLFxuICAgIGFsbG93Q2xlYXI6IGZhbHNlXG4gIH1cblxuICBmaWVsZCA9IHRyYW5mb3JtRmllbGREZWZWYWx1ZShmaWVsZCwgJ0RhdGVSYW5nZURlZlZhbHVlJylcblxuICByZXR1cm4gKFxuICAgIDxEZXNpZ25lckZpZWxkSXRlbVxuICAgICAgey4uLmRvbVByb3BzfVxuICAgICAgZmllbGQ9e2ZpZWxkfVxuICAgID5cbiAgICAgIDxCYXNlRmllbGQgdHlwZT0nRGF0ZVJhbmdlUGlja2VyJyBmaWVsZD17ZmllbGR9IHByb3BzPXtjb250cm9sUHJvcHN9IC8+XG4gICAgPC9EZXNpZ25lckZpZWxkSXRlbT5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBEYXRlUmFuZ2VGaWVsZEFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///35752\n");

/***/ }),

/***/ 57584:
/*!****************************************************!*\
  !*** ./src/apControls/web/base/GraphicDisplay.tsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/index */ 41232);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_5__);\n\n/*\n * @Description:\n * @Author: xiaoman_xie\n * @Date: 2023-05-30 14:29:37\n * @LastEditTime: 2023-09-19 16:58:46\n * @Last Modified by: xiaoman_xie\n */\n\n\n\n\n\nvar GraphicDisplayAp = function GraphicDisplayAp(_ref) {\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(field);\n  var Content = field.Content,\n    Margin = field.Margin,\n    DefaultHeight = field.DefaultHeight,\n    AutoHeight = field.AutoHeight;\n  var _analyzeJSON = (0,_utils_index__WEBPACK_IMPORTED_MODULE_1__.analyzeJSON)(Margin),\n    margin = _analyzeJSON.margin,\n    marginTop = _analyzeJSON.marginTop,\n    marginRight = _analyzeJSON.marginRight,\n    marginBottom = _analyzeJSON.marginBottom,\n    marginLeft = _analyzeJSON.marginLeft;\n  var otherMargin = {\n    marginTop: \"\".concat(marginTop, \"px\"),\n    marginRight: \"\".concat(marginRight, \"px\"),\n    marginBottom: \"\".concat(marginBottom, \"px\"),\n    marginLeft: \"\".concat(marginLeft, \"px\")\n  };\n  var marginValue = margin === -1 ? otherMargin : {\n    margin: \"\".concat(margin, \"px\")\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"graphic-display-ap\",\n    style: margin !== '0' ? marginValue : {}\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_4__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_5__.GraphicDisplay, {\n    content: Content,\n    autoHeight: AutoHeight,\n    defaultHeight: DefaultHeight\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (GraphicDisplayAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTc1ODQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2FwQ29udHJvbHMvd2ViL2Jhc2UvR3JhcGhpY0Rpc3BsYXkudHN4P2FmMjQiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IHhpYW9tYW5feGllXG4gKiBARGF0ZTogMjAyMy0wNS0zMCAxNDoyOTozN1xuICogQExhc3RFZGl0VGltZTogMjAyMy0wOS0xOSAxNjo1ODo0NlxuICogQExhc3QgTW9kaWZpZWQgYnk6IHhpYW9tYW5feGllXG4gKi9cbmltcG9ydCB7IGFuYWx5emVKU09OIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvaW5kZXgnXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgdXNlR2V0RG9tUHJvcHMgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlR2V0RG9tUHJvcHMnXG5pbXBvcnQgRGVzaWduZXJGaWVsZEl0ZW0gZnJvbSAnLi4vLi4vY29tbW9uL0Rlc2lnbmVyRmllbGRJdGVtJ1xuaW1wb3J0IHsgR3JhcGhpY0Rpc3BsYXkgfSBmcm9tICdub2NvZGVfY29tcG9uZW50L1dlYlVJJ1xuXG5jb25zdCBHcmFwaGljRGlzcGxheUFwID0gKHsgZmllbGQgfSkgPT4ge1xuICBjb25zdCBkb21Qcm9wcyA9IHVzZUdldERvbVByb3BzKGZpZWxkKVxuICBjb25zdCB7IENvbnRlbnQsIE1hcmdpbiwgRGVmYXVsdEhlaWdodCwgQXV0b0hlaWdodCB9ID0gZmllbGRcbiAgY29uc3QgeyBtYXJnaW4sIG1hcmdpblRvcCwgbWFyZ2luUmlnaHQsIG1hcmdpbkJvdHRvbSwgbWFyZ2luTGVmdCB9ID0gYW5hbHl6ZUpTT04oTWFyZ2luKVxuICBjb25zdCBvdGhlck1hcmdpbiA9IHsgbWFyZ2luVG9wOiBgJHttYXJnaW5Ub3B9cHhgLCBtYXJnaW5SaWdodDogYCR7bWFyZ2luUmlnaHR9cHhgLCBtYXJnaW5Cb3R0b206IGAke21hcmdpbkJvdHRvbX1weGAsIG1hcmdpbkxlZnQ6IGAke21hcmdpbkxlZnR9cHhgIH1cbiAgY29uc3QgbWFyZ2luVmFsdWUgPSBtYXJnaW4gPT09IC0xID8gb3RoZXJNYXJnaW4gOiB7IG1hcmdpbjogYCR7bWFyZ2lufXB4YCB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT0nZ3JhcGhpYy1kaXNwbGF5LWFwJyBzdHlsZT17bWFyZ2luICE9PSAnMCcgPyBtYXJnaW5WYWx1ZSA6IHt9fT5cbiAgICAgIDxEZXNpZ25lckZpZWxkSXRlbVxuICAgICAgICB7Li4uZG9tUHJvcHN9XG4gICAgICAgIGZpZWxkPXtmaWVsZH1cbiAgICAgID5cbiAgICAgICAgPEdyYXBoaWNEaXNwbGF5IGNvbnRlbnQ9e0NvbnRlbnR9IGF1dG9IZWlnaHQ9e0F1dG9IZWlnaHR9IGRlZmF1bHRIZWlnaHQ9e0RlZmF1bHRIZWlnaHR9IC8+XG4gICAgICA8L0Rlc2lnbmVyRmllbGRJdGVtPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyYXBoaWNEaXNwbGF5QXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///57584\n");

/***/ }),

/***/ 66116:
/*!*************************************************!*\
  !*** ./src/apControls/web/base/NumberField.tsx ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var _common_BaseField__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/BaseField */ 48952);\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../utils/index */ 41232);\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-09-27 15:22:37\n * @LastEditTime: 2022-09-29 10:04:37\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\nvar DEFAULT_BORDER_TYPE = 'bordered';\nvar TextFieldAp = function TextFieldAp(_ref) {\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(field);\n  var EmptyText = field.EmptyText,\n    DefValue = field.DefValue,\n    showClearButton = field.showClearButton,\n    Status = field.Status,\n    ThousandsSeparator = field.ThousandsSeparator,\n    Scale = field.Scale,\n    Precision = field.Precision,\n    Stepper = field.Stepper;\n  var formatter = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (value) {\n    if (ThousandsSeparator) {\n      return (0,_utils_index__WEBPACK_IMPORTED_MODULE_5__.thousandsSeparatorFormat)(\"\".concat(value));\n    } else {\n      return String(value);\n    }\n  }, [ThousandsSeparator]);\n  var controlProps = {\n    // value: String(DefValue),\n    borderType: DEFAULT_BORDER_TYPE,\n    readOnly: true,\n    allowClear: false,\n    formatter: formatter,\n    decimalLength: Scale,\n    maxLength: Precision,\n    showStepper: Stepper\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_BaseField__WEBPACK_IMPORTED_MODULE_4__.BaseField, {\n    type: \"Number\",\n    field: field,\n    props: controlProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (TextFieldAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjYxMTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9hcENvbnRyb2xzL3dlYi9iYXNlL051bWJlckZpZWxkLnRzeD9lZTBhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDktMjcgMTU6MjI6MzdcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjItMDktMjkgMTA6MDQ6MzdcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlTWVtbywgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB1c2VHZXREb21Qcm9wcyBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VHZXREb21Qcm9wcydcbmltcG9ydCB1c2VHZXRDb250cm9sUHJvcHMgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlR2V0Q29udHJvbFByb3BzJ1xuaW1wb3J0IHsgQXBDb250cm9sUHJvcHMgfSBmcm9tICcuLi8uLi8uLi90eXBlJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vLi4vLi4vY29udGV4dCdcbmltcG9ydCB7IFRFWFRfU1RBVFVTX0VOVU0gfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMvY29udHJvbCdcbmltcG9ydCBEZXNpZ25lckZpZWxkSXRlbSBmcm9tICcuLi8uLi9jb21tb24vRGVzaWduZXJGaWVsZEl0ZW0nXG5pbXBvcnQgeyBCYXNlRmllbGQgfSBmcm9tICcuLi8uLi9jb21tb24vQmFzZUZpZWxkJ1xuaW1wb3J0IHsgdGhvdXNhbmRzU2VwYXJhdG9yRm9ybWF0IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvaW5kZXgnXG5cbmNvbnN0IERFRkFVTFRfQk9SREVSX1RZUEUgPSAnYm9yZGVyZWQnXG5cbmNvbnN0IFRleHRGaWVsZEFwOiBSZWFjdC5GQzxBcENvbnRyb2xQcm9wcz4gPSAoeyBmaWVsZCB9KSA9PiB7XG4gIGNvbnN0IGRvbVByb3BzID0gdXNlR2V0RG9tUHJvcHMoZmllbGQpXG5cbiAgY29uc3QgeyBFbXB0eVRleHQsIERlZlZhbHVlLCBzaG93Q2xlYXJCdXR0b24sIFN0YXR1cywgVGhvdXNhbmRzU2VwYXJhdG9yLCBTY2FsZSwgUHJlY2lzaW9uLCBTdGVwcGVyIH0gPSBmaWVsZFxuXG4gIGNvbnN0IGZvcm1hdHRlciA9IHVzZUNhbGxiYWNrKCh2YWx1ZSkgPT4ge1xuICAgIGlmIChUaG91c2FuZHNTZXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiB0aG91c2FuZHNTZXBhcmF0b3JGb3JtYXQoYCR7dmFsdWV9YClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSlcbiAgICB9XG4gIH0sIFtUaG91c2FuZHNTZXBhcmF0b3JdKVxuXG4gIGNvbnN0IGNvbnRyb2xQcm9wczogYW55ID0ge1xuICAgIC8vIHZhbHVlOiBTdHJpbmcoRGVmVmFsdWUpLFxuICAgIGJvcmRlclR5cGU6IERFRkFVTFRfQk9SREVSX1RZUEUsXG4gICAgcmVhZE9ubHk6IHRydWUsXG4gICAgYWxsb3dDbGVhcjogZmFsc2UsXG4gICAgZm9ybWF0dGVyLFxuICAgIGRlY2ltYWxMZW5ndGg6IFNjYWxlLFxuICAgIG1heExlbmd0aDogUHJlY2lzaW9uLFxuICAgIHNob3dTdGVwcGVyOiBTdGVwcGVyXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxEZXNpZ25lckZpZWxkSXRlbVxuICAgICAgey4uLmRvbVByb3BzfVxuICAgICAgZmllbGQ9e2ZpZWxkfVxuICAgID5cbiAgICAgIDxCYXNlRmllbGQgdHlwZT0nTnVtYmVyJyBmaWVsZD17ZmllbGR9IHByb3BzPXtjb250cm9sUHJvcHN9IC8+XG4gICAgPC9EZXNpZ25lckZpZWxkSXRlbT5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0RmllbGRBcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///66116\n");

/***/ }),

/***/ 40164:
/*!*********************************************!*\
  !*** ./src/apControls/web/base/Picture.tsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../context */ 90115);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-09-27 15:22:37\n * @LastEditTime: 2023-08-11 17:22:23\n * @Last Modified by: jianhang_he\n */\n/**\n * 支持上传图片控件\n * @description 无代码设计器控件\n * @author cxf\n * @data 2022-10-18 16:40\n */\n\n\n// import useGetControlProps from '../../../hooks/useGetControlProps'\n\n\n// import { TEXT_STATUS_ENUM } from '../../../constants/control'\n\n\nvar PicturedAp = function PicturedAp(_ref) {\n  var _context, _context2, _context3, _context4;\n  var field = _ref.field;\n  var FieldType = field.FieldType,\n    FileMaxSize = field.FileMaxSize,\n    UploadNum = field.UploadNum,\n    ImageFileType = field.ImageFileType,\n    UploadPrompt = field.UploadPrompt,\n    ButtonText = field.ButtonText;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_context__WEBPACK_IMPORTED_MODULE_6__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(field);\n  var _getKdesignerApi$meta = getKdesignerApi().meta,\n    getControlPropertyDefaultValue = _getKdesignerApi$meta.getControlPropertyDefaultValue,\n    getControlMetaEditor = _getKdesignerApi$meta.getControlMetaEditor;\n  var pictureType = getControlMetaEditor(FieldType, 'ImageFileType').Enum; // 图片类型列表\n  var pictureDefaultSize = getControlPropertyDefaultValue(FieldType, 'FileMaxSize'); // 默认图片大小\n  var pictureDefaultType = getControlPropertyDefaultValue(FieldType, 'ImageFileType'); // 默认图片类型\n  // console.log('Picture', field)\n  // 这里应该搞个字段映射关系的，PC端也一致\n  var inputProps = {\n    // disabled: true // 设计器的默认开启\n  };\n  var inputStyle = {\n    fontSize: '12px',\n    textAlign: 'left',\n    pointerEvents: 'none'\n  };\n  var type = ImageFileType || pictureDefaultType; // 类型，优先使用用户选择的类型\n  var typeArr = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default()(_context = type.split(',')).call(_context, function (item) {\n    return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(pictureType).call(pictureType, function (i) {\n      return i.Id === item;\n    })[0].Name;\n  });\n  // const typeArr:any[] = []\n\n  var noticeInfo = UploadPrompt ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context2 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context3 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context4 = \"\\u8BF7\\u4E0A\\u4F20\\u5C0F\\u4E8E\".concat(FileMaxSize || pictureDefaultSize, \"M\\u7684\")).call(_context4, typeArr.join('，'), \"\\u6587\\u4EF6\\uFF0C\\u6587\\u4EF6\\u4E2A\\u6570\\u4E0D\\u5C11\\u4E8E\")).call(_context3, (UploadNum === null || UploadNum === void 0 ? void 0 : UploadNum.min) || 0, \"\\u4E2A\\uFF0C\\u4E0D\\u591A\\u4E8E\")).call(_context2, (UploadNum === null || UploadNum === void 0 ? void 0 : UploadNum.max) || 1, \"\\u4E2A\\u3002\") : '';\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_8__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_7__.Picture, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    style: inputStyle,\n    noticeInfo: noticeInfo,\n    buttonText: ButtonText,\n    pasteThumbnail: false\n  }, inputProps)));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (PicturedAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAxNjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFLQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2FwQ29udHJvbHMvd2ViL2Jhc2UvUGljdHVyZS50c3g/OWMzMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIyLTA5LTI3IDE1OjIyOjM3XG4gKiBATGFzdEVkaXRUaW1lOiAyMDIzLTA4LTExIDE3OjIyOjIzXG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuLyoqXG4gKiDmlK/mjIHkuIrkvKDlm77niYfmjqfku7ZcbiAqIEBkZXNjcmlwdGlvbiDml6Dku6PnoIHorr7orqHlmajmjqfku7ZcbiAqIEBhdXRob3IgY3hmXG4gKiBAZGF0YSAyMDIyLTEwLTE4IDE2OjQwXG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgdXNlR2V0RG9tUHJvcHMgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlR2V0RG9tUHJvcHMnXG4vLyBpbXBvcnQgdXNlR2V0Q29udHJvbFByb3BzIGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUdldENvbnRyb2xQcm9wcydcbmltcG9ydCB7IEFwQ29udHJvbFByb3BzIH0gZnJvbSAnLi4vLi4vLi4vdHlwZSdcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uLy4uL2NvbnRleHQnXG4vLyBpbXBvcnQgeyBURVhUX1NUQVRVU19FTlVNIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzL2NvbnRyb2wnXG5pbXBvcnQgeyBQaWN0dXJlIH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcbmltcG9ydCBEZXNpZ25lckZpZWxkSXRlbSBmcm9tICcuLi8uLi9jb21tb24vRGVzaWduZXJGaWVsZEl0ZW0nXG5cbmNvbnN0IFBpY3R1cmVkQXA6IFJlYWN0LkZDPEFwQ29udHJvbFByb3BzPiA9ICh7IGZpZWxkIH0pID0+IHtcbiAgY29uc3QgeyBGaWVsZFR5cGUsIEZpbGVNYXhTaXplLCBVcGxvYWROdW0sIEltYWdlRmlsZVR5cGUsIFVwbG9hZFByb21wdCwgQnV0dG9uVGV4dCB9ID0gZmllbGRcbiAgY29uc3QgeyBnZXRLZGVzaWduZXJBcGkgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCBkb21Qcm9wcyA9IHVzZUdldERvbVByb3BzKGZpZWxkKVxuICBjb25zdCB7IGdldENvbnRyb2xQcm9wZXJ0eURlZmF1bHRWYWx1ZSwgZ2V0Q29udHJvbE1ldGFFZGl0b3IgfSA9IGdldEtkZXNpZ25lckFwaSgpLm1ldGFcbiAgY29uc3QgcGljdHVyZVR5cGUgPSBnZXRDb250cm9sTWV0YUVkaXRvcihGaWVsZFR5cGUsICdJbWFnZUZpbGVUeXBlJykuRW51bSAvLyDlm77niYfnsbvlnovliJfooahcbiAgY29uc3QgcGljdHVyZURlZmF1bHRTaXplID0gZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlKEZpZWxkVHlwZSwgJ0ZpbGVNYXhTaXplJykgLy8g6buY6K6k5Zu+54mH5aSn5bCPXG4gIGNvbnN0IHBpY3R1cmVEZWZhdWx0VHlwZSA9IGdldENvbnRyb2xQcm9wZXJ0eURlZmF1bHRWYWx1ZShGaWVsZFR5cGUsICdJbWFnZUZpbGVUeXBlJykgLy8g6buY6K6k5Zu+54mH57G75Z6LXG4gIC8vIGNvbnNvbGUubG9nKCdQaWN0dXJlJywgZmllbGQpXG4gIC8vIOi/memHjOW6lOivpeaQnuS4quWtl+auteaYoOWwhOWFs+ezu+eahO+8jFBD56uv5Lmf5LiA6Ie0XG4gIGNvbnN0IGlucHV0UHJvcHM6IGFueSA9IHtcbiAgICAvLyBkaXNhYmxlZDogdHJ1ZSAvLyDorr7orqHlmajnmoTpu5jorqTlvIDlkK9cbiAgfVxuICBjb25zdCBpbnB1dFN0eWxlOiBhbnkgPSB7XG4gICAgZm9udFNpemU6ICcxMnB4JyxcbiAgICB0ZXh0QWxpZ246ICdsZWZ0JyxcbiAgICBwb2ludGVyRXZlbnRzOiAnbm9uZSdcbiAgfVxuXG4gIGNvbnN0IHR5cGUgPSBJbWFnZUZpbGVUeXBlIHx8IHBpY3R1cmVEZWZhdWx0VHlwZSAvLyDnsbvlnovvvIzkvJjlhYjkvb/nlKjnlKjmiLfpgInmi6nnmoTnsbvlnotcbiAgY29uc3QgdHlwZUFyciA9IHR5cGUuc3BsaXQoJywnKS5tYXAoKGl0ZW06YW55KSA9PiBwaWN0dXJlVHlwZS5maWx0ZXIoKGk6YW55KSA9PiBpLklkID09PSBpdGVtKVswXS5OYW1lKVxuICAvLyBjb25zdCB0eXBlQXJyOmFueVtdID0gW11cblxuICBjb25zdCBub3RpY2VJbmZvID0gVXBsb2FkUHJvbXB0ID8gYOivt+S4iuS8oOWwj+S6jiR7RmlsZU1heFNpemUgfHwgcGljdHVyZURlZmF1bHRTaXplfU3nmoQke3R5cGVBcnIuam9pbign77yMJyl95paH5Lu277yM5paH5Lu25Liq5pWw5LiN5bCR5LqOJHtVcGxvYWROdW0/Lm1pbiB8fCAwfeS4qu+8jOS4jeWkmuS6jiR7VXBsb2FkTnVtPy5tYXggfHwgMX3kuKrjgIJgIDogJydcbiAgcmV0dXJuIChcbiAgICA8RGVzaWduZXJGaWVsZEl0ZW1cbiAgICAgIHsuLi5kb21Qcm9wc31cbiAgICAgIGZpZWxkPXtmaWVsZH1cbiAgICA+XG4gICAgICA8UGljdHVyZVxuICAgICAgICBzdHlsZT17aW5wdXRTdHlsZX1cbiAgICAgICAgbm90aWNlSW5mbz17bm90aWNlSW5mb31cbiAgICAgICAgYnV0dG9uVGV4dD17QnV0dG9uVGV4dH1cbiAgICAgICAgcGFzdGVUaHVtYm5haWw9e2ZhbHNlfVxuICAgICAgICB7Li4uaW5wdXRQcm9wc31cbiAgICAgIC8+XG4gICAgPC9EZXNpZ25lckZpZWxkSXRlbT5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBQaWN0dXJlZEFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///40164\n");

/***/ }),

/***/ 61504:
/*!**********************************************!*\
  !*** ./src/apControls/web/base/RichText.tsx ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _constants_control__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../constants/control */ 24788);\n\n/*\n * @Description:\n * @Author: xiaoman_xie\n * @Date: 2023-05-22 15:35:00\n * @LastEditTime: 2023-06-15 16:37:17\n * @Last Modified by: xiaoman_xie\n */\n\n\n\n\n\nvar RichTextAp = function RichTextAp(_ref) {\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(field);\n  var srcUrl = window.__kd_cdnPath__ || window.__domainurl__;\n  var NoCodeDefValue = field.NoCodeDefValue,\n    DefaultHeight = field.DefaultHeight,\n    Status = field.Status,\n    AutoHeight = field.AutoHeight;\n  var readOnly = Status === _constants_control__WEBPACK_IMPORTED_MODULE_5__.TEXT_STATUS_ENUM.READONLY;\n  var disabled = Status === _constants_control__WEBPACK_IMPORTED_MODULE_5__.TEXT_STATUS_ENUM.DISABLED;\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_4__.RichText, {\n    height: DefaultHeight,\n    autoHeight: AutoHeight,\n    content: NoCodeDefValue,\n    srcUrl: srcUrl,\n    readOnly: readOnly,\n    disabled: disabled,\n    isDesigner: true\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (RichTextAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjE1MDQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvYXBDb250cm9scy93ZWIvYmFzZS9SaWNoVGV4dC50c3g/OWNhZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogeGlhb21hbl94aWVcbiAqIEBEYXRlOiAyMDIzLTA1LTIyIDE1OjM1OjAwXG4gKiBATGFzdEVkaXRUaW1lOiAyMDIzLTA2LTE1IDE2OjM3OjE3XG4gKiBATGFzdCBNb2RpZmllZCBieTogeGlhb21hbl94aWVcbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHVzZUdldERvbVByb3BzIGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUdldERvbVByb3BzJ1xuaW1wb3J0IERlc2lnbmVyRmllbGRJdGVtIGZyb20gJy4uLy4uL2NvbW1vbi9EZXNpZ25lckZpZWxkSXRlbSdcbmltcG9ydCB7IFJpY2hUZXh0IH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcbmltcG9ydCB7IFRFWFRfU1RBVFVTX0VOVU0gfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMvY29udHJvbCdcblxuY29uc3QgUmljaFRleHRBcCA9ICh7IGZpZWxkIH0pID0+IHtcbiAgY29uc3QgZG9tUHJvcHMgPSB1c2VHZXREb21Qcm9wcyhmaWVsZClcbiAgY29uc3Qgc3JjVXJsID0gd2luZG93Ll9fa2RfY2RuUGF0aF9fIHx8IHdpbmRvdy5fX2RvbWFpbnVybF9fXG4gIGNvbnN0IHsgTm9Db2RlRGVmVmFsdWUsIERlZmF1bHRIZWlnaHQsIFN0YXR1cywgQXV0b0hlaWdodCB9ID0gZmllbGRcbiAgY29uc3QgcmVhZE9ubHkgPSBTdGF0dXMgPT09IFRFWFRfU1RBVFVTX0VOVU0uUkVBRE9OTFlcbiAgY29uc3QgZGlzYWJsZWQgPSBTdGF0dXMgPT09IFRFWFRfU1RBVFVTX0VOVU0uRElTQUJMRURcbiAgcmV0dXJuIChcbiAgICA8RGVzaWduZXJGaWVsZEl0ZW1cbiAgICAgIHsuLi5kb21Qcm9wc31cbiAgICAgIGZpZWxkPXtmaWVsZH1cbiAgICA+XG4gICAgICA8UmljaFRleHQgaGVpZ2h0PXtEZWZhdWx0SGVpZ2h0fSBhdXRvSGVpZ2h0PXtBdXRvSGVpZ2h0fSBjb250ZW50PXtOb0NvZGVEZWZWYWx1ZX0gc3JjVXJsPXtzcmNVcmx9IHJlYWRPbmx5PXtyZWFkT25seX0gZGlzYWJsZWQ9e2Rpc2FibGVkfSBpc0Rlc2lnbmVyIC8+XG4gICAgPC9EZXNpZ25lckZpZWxkSXRlbT5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBSaWNoVGV4dEFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///61504\n");

/***/ }),

/***/ 92036:
/*!*************************************************!*\
  !*** ./src/apControls/web/base/SelectField.tsx ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var _common_BaseField__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/BaseField */ 48952);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../utils */ 41232);\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-09-06 15:42:52\n * @LastEditTime: 2023-01-03 10:26:32\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\nvar SelectFieldAp = function SelectFieldAp(_ref) {\n  var _context;\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(field);\n  var defaultFieldType = (0,_utils__WEBPACK_IMPORTED_MODULE_6__.getSelectFieldControlType)(field);\n  var defaultValue = (0,_utils__WEBPACK_IMPORTED_MODULE_6__.getTransformDefValue)(field);\n  // 这里应该搞个字段映射关系的，PC端也一致\n  var controlProps = {\n    readonlyValue: (0,_utils__WEBPACK_IMPORTED_MODULE_6__.getSelectedValue)(field),\n    options: (0,_utils__WEBPACK_IMPORTED_MODULE_6__.getTransformOptions)(field),\n    defaultValue: defaultValue,\n    value: defaultValue,\n    mode: (0,_utils__WEBPACK_IMPORTED_MODULE_6__.isMultiSelect)(field === null || field === void 0 ? void 0 : field.SelectItemType) ? 'multiple' : 'single',\n    showBgcBlock: (0,_utils__WEBPACK_IMPORTED_MODULE_6__.getTransformBgcSwitch)(field)\n  };\n\n  // 多选框和单选框才有垂直模式\n  if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(_context = ['Checkbox', 'Radio']).call(_context, defaultFieldType)) {\n    controlProps.vertical = (0,_utils__WEBPACK_IMPORTED_MODULE_6__.isVertical)(field === null || field === void 0 ? void 0 : field.TileTypePc);\n\n    // 只读态（纯文本）保留label下边距\n    // if (!isReadonly(field?.Status)) {\n    //   domProps.labelStyle = {\n    //     marginBottom: '0'\n    //   }\n    // }\n  }\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_4__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_common_BaseField__WEBPACK_IMPORTED_MODULE_5__.BaseField, {\n    type: defaultFieldType,\n    field: field,\n    props: controlProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (SelectFieldAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTIwMzYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBV0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9hcENvbnRyb2xzL3dlYi9iYXNlL1NlbGVjdEZpZWxkLnRzeD8wZTNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDktMDYgMTU6NDI6NTJcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMDEtMDMgMTA6MjY6MzJcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgdXNlR2V0RG9tUHJvcHMgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlR2V0RG9tUHJvcHMnXG5pbXBvcnQgeyBBcENvbnRyb2xQcm9wcyB9IGZyb20gJy4uLy4uLy4uL3R5cGUnXG5pbXBvcnQgRGVzaWduZXJGaWVsZEl0ZW0gZnJvbSAnLi4vLi4vY29tbW9uL0Rlc2lnbmVyRmllbGRJdGVtJ1xuaW1wb3J0IHsgQmFzZUZpZWxkIH0gZnJvbSAnLi4vLi4vY29tbW9uL0Jhc2VGaWVsZCdcbmltcG9ydCB7XG4gIGdldFNlbGVjdGVkVmFsdWUsXG4gIGdldFNlbGVjdEZpZWxkQ29udHJvbFR5cGUsXG4gIGdldFRyYW5zZm9ybU9wdGlvbnMsXG4gIGdldFRyYW5zZm9ybURlZlZhbHVlLFxuICBnZXRUcmFuc2Zvcm1CZ2NTd2l0Y2gsXG4gIGlzVmVydGljYWwsXG4gIGlzUmVhZG9ubHksXG4gIGlzTXVsdGlTZWxlY3Rcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbHMnXG5cbmNvbnN0IFNlbGVjdEZpZWxkQXA6IFJlYWN0LkZDPEFwQ29udHJvbFByb3BzPiA9ICh7IGZpZWxkIH0pID0+IHtcbiAgY29uc3QgZG9tUHJvcHMgPSB1c2VHZXREb21Qcm9wcyhmaWVsZClcbiAgY29uc3QgZGVmYXVsdEZpZWxkVHlwZSA9IGdldFNlbGVjdEZpZWxkQ29udHJvbFR5cGUoZmllbGQpXG4gIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IGdldFRyYW5zZm9ybURlZlZhbHVlKGZpZWxkKVxuICAvLyDov5nph4zlupTor6XmkJ7kuKrlrZfmrrXmmKDlsITlhbPns7vnmoTvvIxQQ+err+S5n+S4gOiHtFxuICBjb25zdCBjb250cm9sUHJvcHM6IGFueSA9IHtcbiAgICByZWFkb25seVZhbHVlOiBnZXRTZWxlY3RlZFZhbHVlKGZpZWxkKSxcbiAgICBvcHRpb25zOiBnZXRUcmFuc2Zvcm1PcHRpb25zKGZpZWxkKSxcbiAgICBkZWZhdWx0VmFsdWUsXG4gICAgdmFsdWU6IGRlZmF1bHRWYWx1ZSxcbiAgICBtb2RlOiBpc011bHRpU2VsZWN0KGZpZWxkPy5TZWxlY3RJdGVtVHlwZSkgPyAnbXVsdGlwbGUnIDogJ3NpbmdsZScsXG4gICAgc2hvd0JnY0Jsb2NrOiBnZXRUcmFuc2Zvcm1CZ2NTd2l0Y2goZmllbGQpXG4gIH1cblxuICAvLyDlpJrpgInmoYblkozljZXpgInmoYbmiY3mnInlnoLnm7TmqKHlvI9cbiAgaWYgKFsnQ2hlY2tib3gnLCAnUmFkaW8nXS5pbmNsdWRlcyhkZWZhdWx0RmllbGRUeXBlKSkge1xuICAgIGNvbnRyb2xQcm9wcy52ZXJ0aWNhbCA9IGlzVmVydGljYWwoZmllbGQ/LlRpbGVUeXBlUGMpXG5cbiAgICAvLyDlj6ror7vmgIHvvIjnuq/mlofmnKzvvInkv53nlZlsYWJlbOS4i+i+uei3nVxuICAgIC8vIGlmICghaXNSZWFkb25seShmaWVsZD8uU3RhdHVzKSkge1xuICAgIC8vICAgZG9tUHJvcHMubGFiZWxTdHlsZSA9IHtcbiAgICAvLyAgICAgbWFyZ2luQm90dG9tOiAnMCdcbiAgICAvLyAgIH1cbiAgICAvLyB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxEZXNpZ25lckZpZWxkSXRlbVxuICAgICAgey4uLmRvbVByb3BzfVxuICAgICAgZmllbGQ9e2ZpZWxkfVxuICAgID5cbiAgICAgIDxCYXNlRmllbGQgdHlwZT17ZGVmYXVsdEZpZWxkVHlwZX0gZmllbGQ9e2ZpZWxkfSBwcm9wcz17Y29udHJvbFByb3BzfSAvPlxuICAgIDwvRGVzaWduZXJGaWVsZEl0ZW0+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0RmllbGRBcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///92036\n");

/***/ }),

/***/ 56484:
/*!***********************************************!*\
  !*** ./src/apControls/web/base/TextField.tsx ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var _common_BaseField__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/BaseField */ 48952);\n\n/*\n * @Description: 单行文本AP层\n * @Author: jianhang_he\n * @Date: 2022-08-02 10:42:52\n * @LastEditTime: 2023-02-14 13:34:21\n * @Last Modified by: jianhang_he\n */\n\n\n\n\nvar DEFAULT_BORDER_TYPE = 'bordered';\nvar TextFieldAp = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.memo)(function (_ref) {\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(field);\n  // 一些个性化的属性\n  var controlProps = {\n    borderType: DEFAULT_BORDER_TYPE\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_BaseField__WEBPACK_IMPORTED_MODULE_4__.BaseField, {\n    type: \"Text\",\n    field: field,\n    props: controlProps\n  }));\n});\nTextFieldAp.displayName = 'TextFieldAp';\n/* harmony default export */ __webpack_exports__[\"default\"] = (TextFieldAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTY0ODQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBR0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2FwQ29udHJvbHMvd2ViL2Jhc2UvVGV4dEZpZWxkLnRzeD85ZDYyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246IOWNleihjOaWh+acrEFQ5bGCXG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDgtMDIgMTA6NDI6NTJcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMDItMTQgMTM6MzQ6MjFcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QsIHsgbWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHVzZUdldERvbVByb3BzIGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUdldERvbVByb3BzJ1xuaW1wb3J0IHsgQXBDb250cm9sUHJvcHMgfSBmcm9tICcuLi8uLi8uLi90eXBlJ1xuaW1wb3J0IERlc2lnbmVyRmllbGRJdGVtIGZyb20gJy4uLy4uL2NvbW1vbi9EZXNpZ25lckZpZWxkSXRlbSdcbmltcG9ydCB7IEJhc2VGaWVsZCB9IGZyb20gJy4uLy4uL2NvbW1vbi9CYXNlRmllbGQnXG5cbmNvbnN0IERFRkFVTFRfQk9SREVSX1RZUEUgPSAnYm9yZGVyZWQnXG5cbmNvbnN0IFRleHRGaWVsZEFwOiBSZWFjdC5GQzxBcENvbnRyb2xQcm9wcz4gPSBtZW1vKCh7IGZpZWxkIH0pID0+IHtcbiAgY29uc3QgZG9tUHJvcHMgPSB1c2VHZXREb21Qcm9wcyhmaWVsZClcbiAgLy8g5LiA5Lqb5Liq5oCn5YyW55qE5bGe5oCnXG4gIGNvbnN0IGNvbnRyb2xQcm9wcyA9IHsgYm9yZGVyVHlwZTogREVGQVVMVF9CT1JERVJfVFlQRSB9XG5cbiAgcmV0dXJuIChcbiAgICA8RGVzaWduZXJGaWVsZEl0ZW1cbiAgICAgIHsuLi5kb21Qcm9wc31cbiAgICAgIGZpZWxkPXtmaWVsZH1cbiAgICA+XG4gICAgICA8QmFzZUZpZWxkIHR5cGU9J1RleHQnIGZpZWxkPXtmaWVsZH0gcHJvcHM9e2NvbnRyb2xQcm9wc30gLz5cbiAgICA8L0Rlc2lnbmVyRmllbGRJdGVtPlxuICApXG59KVxuXG5UZXh0RmllbGRBcC5kaXNwbGF5TmFtZSA9ICdUZXh0RmllbGRBcCdcblxuZXhwb3J0IGRlZmF1bHQgVGV4dEZpZWxkQXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///56484\n");

/***/ }),

/***/ 56644:
/*!***************************************************!*\
  !*** ./src/apControls/web/base/TextareaField.tsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n/* harmony import */ var _common_BaseField__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/BaseField */ 48952);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_5__);\n\n/*\n * @Description: 多行文本AP层\n * @Author: jianhang_he\n * @Date: 2022-09-19 16:35:32\n * @LastEditTime: 2022-12-16 16:11:49\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\nvar TextareaFieldAp = function TextareaFieldAp(_ref) {\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(field);\n  var CounterDisplay = field.CounterDisplay,\n    DefaultLines = field.DefaultLines;\n  var controlProps = {\n    showCount: (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(CounterDisplay) ? true : CounterDisplay,\n    autoSize: {\n      minRows: DefaultLines || 1,\n      maxRows: DefaultLines || 1\n    },\n    style: {\n      pointerEvents: 'none'\n    }\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_3__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, domProps, {\n    field: field\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_common_BaseField__WEBPACK_IMPORTED_MODULE_4__.BaseField, {\n    type: \"Textarea\",\n    field: field,\n    props: controlProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (TextareaFieldAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTY2NDQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9hcENvbnRyb2xzL3dlYi9iYXNlL1RleHRhcmVhRmllbGQudHN4PzhjN2IiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjog5aSa6KGM5paH5pysQVDlsYJcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0wOS0xOSAxNjozNTozMlxuICogQExhc3RFZGl0VGltZTogMjAyMi0xMi0xNiAxNjoxMTo0OVxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB1c2VHZXREb21Qcm9wcyBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VHZXREb21Qcm9wcydcbmltcG9ydCB7IEFwQ29udHJvbFByb3BzIH0gZnJvbSAnLi4vLi4vLi4vdHlwZSdcbmltcG9ydCBEZXNpZ25lckZpZWxkSXRlbSBmcm9tICcuLi8uLi9jb21tb24vRGVzaWduZXJGaWVsZEl0ZW0nXG5pbXBvcnQgeyBCYXNlRmllbGQgfSBmcm9tICcuLi8uLi9jb21tb24vQmFzZUZpZWxkJ1xuaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tICdsb2Rhc2gnXG5cbmNvbnN0IFRleHRhcmVhRmllbGRBcDogUmVhY3QuRkM8QXBDb250cm9sUHJvcHM+ID0gKHsgZmllbGQgfSkgPT4ge1xuICBjb25zdCBkb21Qcm9wcyA9IHVzZUdldERvbVByb3BzKGZpZWxkKVxuXG4gIGNvbnN0IHsgQ291bnRlckRpc3BsYXksIERlZmF1bHRMaW5lcyB9ID0gZmllbGRcbiAgY29uc3QgY29udHJvbFByb3BzOiBhbnkgPSB7XG4gICAgc2hvd0NvdW50OiBpc1VuZGVmaW5lZChDb3VudGVyRGlzcGxheSkgPyB0cnVlIDogQ291bnRlckRpc3BsYXksXG4gICAgYXV0b1NpemU6IHsgbWluUm93czogRGVmYXVsdExpbmVzIHx8IDEsIG1heFJvd3M6IERlZmF1bHRMaW5lcyB8fCAxIH0sXG4gICAgc3R5bGU6IHsgcG9pbnRlckV2ZW50czogJ25vbmUnIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPERlc2lnbmVyRmllbGRJdGVtXG4gICAgICB7Li4uZG9tUHJvcHN9XG4gICAgICBmaWVsZD17ZmllbGR9XG4gICAgPlxuICAgICAgPEJhc2VGaWVsZCB0eXBlPSdUZXh0YXJlYScgZmllbGQ9e2ZpZWxkfSBwcm9wcz17Y29udHJvbFByb3BzfSAvPlxuICAgIDwvRGVzaWduZXJGaWVsZEl0ZW0+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgVGV4dGFyZWFGaWVsZEFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///56644\n");

/***/ }),

/***/ 24524:
/*!*********************************************************!*\
  !*** ./src/apControls/web/container/GroupContainer.tsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectDestructuringEmpty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectDestructuringEmpty */ 91184);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _hooks_useGetTabSubControls__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../hooks/useGetTabSubControls */ 54964);\n/* harmony import */ var _hooks_useGetActivedTabDomProps__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../hooks/useGetActivedTabDomProps */ 74640);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../context */ 90115);\n/* harmony import */ var _hooks_useEditControlName__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../hooks/useEditControlName */ 17592);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../utils/control */ 3700);\n/* harmony import */ var _hooks_useGetControlHidden__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../hooks/useGetControlHidden */ 51568);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var _constants_control__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../constants/control */ 24788);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../utils */ 41232);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../constants */ 98092);\n/* harmony import */ var _hooks_useGetSubControls__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../hooks/useGetSubControls */ 65988);\n/* harmony import */ var _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../constants/dataAttribute */ 64536);\n\n\n\n\n\n\n\n\n\n\nvar _excluded = [\"controlId\", \"parentColumn\", \"className\"];\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\n/*\n * @Description: 分组容器AP层\n * @Author: jianhang_he\n * @Date: 2022-11-14 10:33:12\n * @LastEditTime: 2024-05-23 14:08:18\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @description 分组内容\n */\nvar GroupPanel = function GroupPanel(_ref) {\n  var controlId = _ref.controlId,\n    parentColumn = _ref.parentColumn,\n    className = _ref.className,\n    other = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(_ref, _excluded);\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useContext)(_context__WEBPACK_IMPORTED_MODULE_18__.DesignerContext),\n    prefixCls = _useContext.prefixCls,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    isPC = _useContext.isPC;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data;\n  var data = dataContext.getData();\n  var findControl = dataContext.findControl;\n  var subControls = (0,_hooks_useGetSubControls__WEBPACK_IMPORTED_MODULE_26__[\"default\"])({\n    Id: controlId\n  }, data, {\n    isPC: isPC,\n    excludeType: _constants__WEBPACK_IMPORTED_MODULE_25__.NOCODE_BIZBUTTON_PANEL_AP\n  }, findControl);\n  // const { subControls } = useGetTabSubControls(controlId)\n\n  /**\n   * 获取子节点的跨度列\n   * @param columnSpan 跨度占列（可选1、2、3、4）\n   */\n  var getChildColumn = function getChildColumn(columnSpan) {\n    // Todo: 栅格容器的可调整的最大列数与父容器保持一致\n    // 例：当前栅格为三列，那么子控件可调整的列数为三列、两列或者一列\n    // 当前栅格为两列，那么子控件可调整的列数也为两列或者一列\n    var childColumn = Math.min(parentColumn, Number(columnSpan) || 4);\n    return childColumn;\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.GridPanel, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({\n    column: subControls.length === 0 ? 1 : parentColumn\n  }, other), subControls.length > 0 ? _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default()(subControls).call(subControls, function (control) {\n    var _control$props, _control$props2;\n    var _ref2 = (control === null || control === void 0 || (_control$props = control.props) === null || _control$props === void 0 ? void 0 : _control$props.field) || {},\n      ColumnSpan = _ref2.ColumnSpan,\n      key = _ref2.key,\n      id = _ref2.id;\n    var childColumn = getChildColumn(ColumnSpan);\n    if (control !== null && control !== void 0 && (_control$props2 = control.props) !== null && _control$props2 !== void 0 && (_control$props2 = _control$props2.field) !== null && _control$props2 !== void 0 && _control$props2.ColumnSpan) {\n      control.props.field.ColumnSpan = childColumn;\n    }\n    return kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().cloneElement(control, {\n      key: id,\n      itemKey: control.key || key,\n      columnSpan: childColumn\n    });\n  }) : /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(\"div\", (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({\n    className: classnames__WEBPACK_IMPORTED_MODULE_17___default()(className, \"\".concat(prefixCls, \"_group_item_dropbox\")),\n    columnSpan: 4\n  }, other), \"\\u62D6\\u62FD\\u5185\\u5BB9\\u5230\\u8FD9\\u91CC\"));\n};\nvar TabBar = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.memo)(function (_ref3) {\n  var key = _ref3.id,\n    hidden = _ref3.hidden,\n    defaultBar = _ref3.defaultBar,\n    handleItemClick = _ref3.handleItemClick;\n  var _useContext2 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useContext)(_context__WEBPACK_IMPORTED_MODULE_18__.DesignerContext),\n    getKdesignerApi = _useContext2.getKdesignerApi,\n    fieldStatusMap = _useContext2.fieldStatusMap,\n    prefixCls = _useContext2.prefixCls,\n    fieldStatusSettingMode = _useContext2.fieldStatusSettingMode;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data;\n  var control = dataContext.findControl(key);\n  var Status = control.Status,\n    Key = control.Key;\n  var _useGetActivedTabDomP = (0,_hooks_useGetActivedTabDomProps__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(key),\n    otherProps = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({}, ((0,_babel_runtime_corejs3_helpers_objectDestructuringEmpty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useGetActivedTabDomP), _useGetActivedTabDomP));\n  // const groupPanelHiddenProps = useControlHidden(control)\n  var dblClickChangeNameProps = (0,_hooks_useEditControlName__WEBPACK_IMPORTED_MODULE_19__[\"default\"])({\n    Id: key\n  }, false);\n  var fieldStatus = fieldStatusMap === null || fieldStatusMap === void 0 ? void 0 : fieldStatusMap[Key];\n\n  // const renderTitle = (title, isTitleHidden, isControlHidden) => {\n  //   return <span style={{ color: isTitleHidden ? '#cccccc' : 'inherit', opacity: isControlHidden ? '0.5' : '1' }} className='group-tab-bar'>{title}</span>\n  // }\n  // console.log('TabBar', otherProps)\n  return kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().cloneElement(defaultBar, _objectSpread(_objectSpread(_objectSpread({\n    id: key,\n    'data-group-bar-item-id': key\n  }, otherProps), dblClickChangeNameProps), {}, {\n    'data-enable-click': fieldStatusSettingMode !== 'permission',\n    style: {\n      color: hidden ? '#cccccc' : 'inherit',\n      opacity: Status === _constants_control__WEBPACK_IMPORTED_MODULE_23__.TEXT_STATUS_ENUM.HIDDEN && (!fieldStatusSettingMode || !fieldStatus) || fieldStatus === 'hidden' ? '0.5' : '1'\n    },\n    onClick: function onClick(e) {\n      handleItemClick(key);\n    }\n  }));\n});\nTabBar.displayName = 'TabBar';\nvar TabPanel = function TabPanel(_ref4) {\n  var _context;\n  var id = _ref4.id,\n    columnSpan = _ref4.columnSpan;\n  var _useContext3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useContext)(_context__WEBPACK_IMPORTED_MODULE_18__.DesignerContext),\n    getKdesignerApi = _useContext3.getKdesignerApi,\n    fieldStatusMap = _useContext3.fieldStatusMap,\n    prefixCls = _useContext3.prefixCls;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data;\n  var control = dataContext.findControl(id);\n  var Status = control.Status,\n    Key = control.Key;\n  var groupPanelHiddenProps = (0,_hooks_useGetControlHidden__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(control);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(GroupPanel, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({\n    key: id,\n    controlId: id,\n    parentColumn: columnSpan,\n    \"data-group-container-item\": id,\n    className: classnames__WEBPACK_IMPORTED_MODULE_17___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context = \"\".concat(prefixCls, \"-item-\")).call(_context, fieldStatusMap[Key]), fieldStatusMap[Key]))\n  }, groupPanelHiddenProps));\n};\n\n// 根节点的跨列显示（PC端）用来规范里面分多少列\n// 控件的跨列显示（PC端）用来规范占多少列\nvar GroupContainerAp = function GroupContainerAp(_ref5) {\n  var _context2;\n  var field = _ref5.field,\n    columnSpan = _ref5.columnSpan;\n  var _useContext4 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useContext)(_context__WEBPACK_IMPORTED_MODULE_18__.DesignerContext),\n    getKdesignerApi = _useContext4.getKdesignerApi,\n    fieldStatusMap = _useContext4.fieldStatusMap,\n    prefixCls = _useContext4.prefixCls,\n    fieldStatusSettingMode = _useContext4.fieldStatusSettingMode;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var selectionContext = kdesignerApi.selection,\n    dataContext = kdesignerApi.data;\n  var controlId = field.Id,\n    Key = field.Key,\n    Name = field.Name,\n    TitleArea = field.TitleArea,\n    showCollapse = field.Collapse,\n    tips = field.HelpTips,\n    ColumnSpan = field.ColumnSpan;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useState)(controlId),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState, 2),\n    activedSelectId = _useState2[0],\n    setActivedSelectId = _useState2[1];\n  var barOptionRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useRef)([]);\n  var tabsRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useRef)(null);\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useReducer)(function (n) {\n      return n + 1;\n    }, 0),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useReducer, 2),\n    forceUpdateNum = _useReducer2[0],\n    forceUpdate = _useReducer2[1];\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useEffect)(function () {\n    if (tabsRef.current) {\n      var tabsDom = tabsRef.current;\n      var tabsHeaderDom = tabsDom.querySelector('[data-tabs-header]');\n\n      // 设置tab头信息\n      tabsHeaderDom === null || tabsHeaderDom === void 0 || tabsHeaderDom.setAttribute('data-group-bar', controlId);\n    }\n  }, []);\n\n  // const {\n  //   subTabItems\n  // } = useGetTabSubControls(controlId)\n\n  var subTabItems = (0,_hooks_useGetTabSubControls__WEBPACK_IMPORTED_MODULE_15__.useGetSubGroupContainer)(field);\n  var barOption = subTabItems.reduce(function (preVal, curValue) {\n    var Id = curValue.Id,\n      Name = curValue.Name,\n      TitleArea = curValue.TitleArea,\n      HelpTips = curValue.HelpTips;\n    preVal.push({\n      id: Id,\n      name: Name,\n      titleHidden: (0,_utils_control__WEBPACK_IMPORTED_MODULE_20__.isHideTitleArea)(TitleArea),\n      tips: HelpTips,\n      key: Id,\n      label: Name,\n      children: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(TabPanel, {\n        id: Id,\n        columnSpan: columnSpan\n      })\n    });\n    return preVal;\n  }, []);\n  barOptionRef.current = barOption;\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useEffect)(function () {\n    var selection = selectionContext.getSelection() || [];\n    var selectionControlId = selection[0];\n    if (selectionControlId) {\n      var _barOption$;\n      var isChildActived = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_12___default()(barOption).call(barOption, function (item) {\n        return item.id === selectionControlId;\n      });\n      var newActiveId = isChildActived ? selection === null || selection === void 0 ? void 0 : selection[0] : barOption === null || barOption === void 0 || (_barOption$ = barOption[0]) === null || _barOption$ === void 0 ? void 0 : _barOption$.id;\n      setActivedSelectId(newActiveId);\n      var selectedControls = document.querySelectorAll(\"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_27__.dataSelection, \"=true]\"));\n      selectedControls.forEach(function (control) {\n        if (!_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(selection).call(selection, control[_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_27__.dataControlId])) {\n          control === null || control === void 0 || control.removeAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_27__.dataSelection);\n        }\n      });\n    }\n  }, [barOption.length]);\n  var handleItemClick = function handleItemClick(id) {\n    if (fieldStatusSettingMode === 'permission') return;\n    if (activedSelectId !== id) {\n      (0,_utils__WEBPACK_IMPORTED_MODULE_24__.setNewDataControlId)(activedSelectId, id);\n      setActivedSelectId(id);\n      selectionContext.setSelect(id);\n    }\n  };\n\n  // 选中监听\n  var selectionChangeCallBack = function selectionChangeCallBack() {\n    var _barOptionRef$current;\n    var selectId = selectionContext.getActiveSelectedId();\n    var isChildActived = (_barOptionRef$current = barOptionRef.current) === null || _barOptionRef$current === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_12___default()(_barOptionRef$current).call(_barOptionRef$current, function (item) {\n      return item.id === selectId;\n    });\n    if (isChildActived && activedSelectId !== selectId) {\n      setActivedSelectId(selectId);\n    }\n\n    // setActivedSelectId(isChildActived && activedSelectId !== selectId ? selectId : barOptionRef.current?.[0]?.id)\n  };\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useEffect)(function () {\n    var removeSelectionListener = selectionContext.addSelectChangeListener(selectionChangeCallBack);\n    return function () {\n      removeSelectionListener();\n    };\n  }, [selectionChangeCallBack]);\n  var renderTabBar = function renderTabBar(props, defaultBar) {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(TabBar, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({}, props, {\n      defaultBar: defaultBar,\n      handleItemClick: handleItemClick\n    }));\n  };\n  var _useGetActivedTabDomP2 = (0,_hooks_useGetActivedTabDomProps__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(activedSelectId),\n    otherProps = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({}, ((0,_babel_runtime_corejs3_helpers_objectDestructuringEmpty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useGetActivedTabDomP2), _useGetActivedTabDomP2));\n  var fieldHiddenAttrs = (0,_hooks_useGetControlHidden__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(field);\n  var containerHiddenProps = barOption.length === 1 ? fieldHiddenAttrs : {};\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.Tabs, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({\n    ref: tabsRef,\n    activeKey: activedSelectId,\n    allowCollapse: showCollapse,\n    onChange: handleItemClick,\n    \"data-group-container\": controlId\n  }, otherProps, containerHiddenProps, {\n    \"data-enable-click\": fieldStatusSettingMode !== 'permission',\n    renderTabBar: renderTabBar,\n    items: barOption,\n    className: classnames__WEBPACK_IMPORTED_MODULE_17___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context2 = \"\".concat(prefixCls, \"-item-\")).call(_context2, fieldStatusMap[Key]), barOption.length === 1 && fieldStatusMap[Key]))\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (GroupContainerAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQ1MjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBREE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFRQTtBQUVBO0FBS0E7QUFIQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQURBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBREE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9hcENvbnRyb2xzL3dlYi9jb250YWluZXIvR3JvdXBDb250YWluZXIudHN4PzVmYzIiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjog5YiG57uE5a655ZmoQVDlsYJcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0xMS0xNCAxMDozMzoxMlxuICogQExhc3RFZGl0VGltZTogMjAyNC0wNS0yMyAxNDowODoxOFxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VNZW1vLCB1c2VSZWYsIHVzZUNhbGxiYWNrLCBtZW1vLCB1c2VSZWR1Y2VyLCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7XG4gIElTZWxlY3Rpb25cbn0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHVzZUdldFRhYlN1YkNvbnRyb2xzLCB7IHVzZUdldFN1Ykdyb3VwQ29udGFpbmVyIH0gZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlR2V0VGFiU3ViQ29udHJvbHMnXG5pbXBvcnQgdXNlR2V0QWN0aXZlZFRhYkRvbVByb3BzIGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUdldEFjdGl2ZWRUYWJEb21Qcm9wcydcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnXG5pbXBvcnQgeyBBcENvbnRyb2xQcm9wcyB9IGZyb20gJy4uLy4uLy4uL3R5cGUnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi8uLi9jb250ZXh0J1xuaW1wb3J0IHVzZUVkaXRDb250cm9sTmFtZSBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VFZGl0Q29udHJvbE5hbWUnXG5pbXBvcnQgeyBpc0hpZGVUaXRsZUFyZWEgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jb250cm9sJ1xuaW1wb3J0IHVzZUNvbnRyb2xIaWRkZW4gZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlR2V0Q29udHJvbEhpZGRlbidcbmltcG9ydCB7IEdyaWRQYW5lbCwgVGFicyB9IGZyb20gJ25vY29kZV9jb21wb25lbnQvV2ViVUknXG5pbXBvcnQgeyBURVhUX1NUQVRVU19FTlVNIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzL2NvbnRyb2wnXG5pbXBvcnQgeyBzZXROZXdEYXRhQ29udHJvbElkIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMnXG5pbXBvcnQgeyBOT0NPREVfQklaQlVUVE9OX1BBTkVMX0FQIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHVzZUdldFN1YkNvbnRyb2xzIGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUdldFN1YkNvbnRyb2xzJ1xuaW1wb3J0IHsgZGF0YUNvbnRyb2xJZCwgZGF0YVNlbGVjdGlvbiB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy9kYXRhQXR0cmlidXRlJ1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDliIbnu4TlhoXlrrlcbiAqL1xuY29uc3QgR3JvdXBQYW5lbCA9ICh7XG4gIGNvbnRyb2xJZCwgcGFyZW50Q29sdW1uLCBjbGFzc05hbWUsIC4uLm90aGVyXG59KSA9PiB7XG4gIGNvbnN0IHsgcHJlZml4Q2xzLCBnZXRLZGVzaWduZXJBcGksIGlzUEMgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0IH0gPSBnZXRLZGVzaWduZXJBcGkoKVxuICBjb25zdCBkYXRhID0gZGF0YUNvbnRleHQuZ2V0RGF0YSgpXG4gIGNvbnN0IGZpbmRDb250cm9sID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2xcbiAgY29uc3Qgc3ViQ29udHJvbHMgPSB1c2VHZXRTdWJDb250cm9scyh7IElkOiBjb250cm9sSWQgfSwgZGF0YSwgeyBpc1BDLCBleGNsdWRlVHlwZTogTk9DT0RFX0JJWkJVVFRPTl9QQU5FTF9BUCB9LCBmaW5kQ29udHJvbClcbiAgLy8gY29uc3QgeyBzdWJDb250cm9scyB9ID0gdXNlR2V0VGFiU3ViQ29udHJvbHMoY29udHJvbElkKVxuXG4gIC8qKlxuICAgKiDojrflj5blrZDoioLngrnnmoTot6jluqbliJdcbiAgICogQHBhcmFtIGNvbHVtblNwYW4g6Leo5bqm5Y2g5YiX77yI5Y+v6YCJMeOAgTLjgIEz44CBNO+8iVxuICAgKi9cbiAgY29uc3QgZ2V0Q2hpbGRDb2x1bW4gPSAoY29sdW1uU3Bhbjogc3RyaW5nIHwgbnVtYmVyKSA9PiB7XG4gICAgLy8gVG9kbzog5qCF5qC85a655Zmo55qE5Y+v6LCD5pW055qE5pyA5aSn5YiX5pWw5LiO54i25a655Zmo5L+d5oyB5LiA6Ie0XG4gICAgLy8g5L6L77ya5b2T5YmN5qCF5qC85Li65LiJ5YiX77yM6YKj5LmI5a2Q5o6n5Lu25Y+v6LCD5pW055qE5YiX5pWw5Li65LiJ5YiX44CB5Lik5YiX5oiW6ICF5LiA5YiXXG4gICAgLy8g5b2T5YmN5qCF5qC85Li65Lik5YiX77yM6YKj5LmI5a2Q5o6n5Lu25Y+v6LCD5pW055qE5YiX5pWw5Lmf5Li65Lik5YiX5oiW6ICF5LiA5YiXXG4gICAgY29uc3QgY2hpbGRDb2x1bW4gPSBNYXRoLm1pbihwYXJlbnRDb2x1bW4sIE51bWJlcihjb2x1bW5TcGFuKSB8fCA0KVxuXG4gICAgcmV0dXJuIGNoaWxkQ29sdW1uXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxHcmlkUGFuZWwgY29sdW1uPXtzdWJDb250cm9scy5sZW5ndGggPT09IDAgPyAxIDogcGFyZW50Q29sdW1ufSB7Li4ub3RoZXJ9PlxuICAgICAge1xuICAgICAgICBzdWJDb250cm9scy5sZW5ndGggPiAwXG4gICAgICAgICAgPyBzdWJDb250cm9scy5tYXAoKGNvbnRyb2w6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB7IENvbHVtblNwYW4sIGtleSwgaWQgfSA9IGNvbnRyb2w/LnByb3BzPy5maWVsZCB8fCB7fVxuXG4gICAgICAgICAgICAgIGNvbnN0IGNoaWxkQ29sdW1uID0gZ2V0Q2hpbGRDb2x1bW4oQ29sdW1uU3BhbilcblxuICAgICAgICAgICAgICBpZiAoY29udHJvbD8ucHJvcHM/LmZpZWxkPy5Db2x1bW5TcGFuKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbC5wcm9wcy5maWVsZC5Db2x1bW5TcGFuID0gY2hpbGRDb2x1bW5cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY29udHJvbCwge1xuICAgICAgICAgICAgICAgIGtleTogaWQsXG4gICAgICAgICAgICAgICAgaXRlbUtleTogY29udHJvbC5rZXkgfHwga2V5LFxuICAgICAgICAgICAgICAgIGNvbHVtblNwYW46IGNoaWxkQ29sdW1uXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3NOYW1lLCBgJHtwcmVmaXhDbHN9X2dyb3VwX2l0ZW1fZHJvcGJveGApfVxuICAgICAgICAgICAgICBjb2x1bW5TcGFuPXs0fVxuICAgICAgICAgICAgICB7Li4ub3RoZXJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICDmi5bmi73lhoXlrrnliLDov5nph4xcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgfVxuICAgIDwvR3JpZFBhbmVsPlxuICApXG59XG5cbmNvbnN0IFRhYkJhciA9IG1lbW8oKHtcbiAgaWQ6IGtleSxcbiAgaGlkZGVuLFxuICBkZWZhdWx0QmFyLFxuICBoYW5kbGVJdGVtQ2xpY2tcbn0pID0+IHtcbiAgY29uc3QgeyBnZXRLZGVzaWduZXJBcGksIGZpZWxkU3RhdHVzTWFwLCBwcmVmaXhDbHMsIGZpZWxkU3RhdHVzU2V0dGluZ01vZGUgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCBrZGVzaWduZXJBcGkgPSB1c2VNZW1vKCgpID0+IGdldEtkZXNpZ25lckFwaSgpLCBbXSlcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCB9ID0ga2Rlc2lnbmVyQXBpXG4gIGNvbnN0IGNvbnRyb2wgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChrZXkpXG4gIGNvbnN0IHsgU3RhdHVzLCBLZXkgfSA9IGNvbnRyb2xcbiAgY29uc3Qge1xuICAgIC8vIG9uQ2xpY2ssXG4gICAgLi4ub3RoZXJQcm9wc1xuICB9ID0gdXNlR2V0QWN0aXZlZFRhYkRvbVByb3BzKGtleSlcbiAgLy8gY29uc3QgZ3JvdXBQYW5lbEhpZGRlblByb3BzID0gdXNlQ29udHJvbEhpZGRlbihjb250cm9sKVxuICBjb25zdCBkYmxDbGlja0NoYW5nZU5hbWVQcm9wcyA9IHVzZUVkaXRDb250cm9sTmFtZSh7IElkOiBrZXkgfSwgZmFsc2UpXG5cbiAgY29uc3QgZmllbGRTdGF0dXMgPSBmaWVsZFN0YXR1c01hcD8uW0tleV1cblxuICAvLyBjb25zdCByZW5kZXJUaXRsZSA9ICh0aXRsZSwgaXNUaXRsZUhpZGRlbiwgaXNDb250cm9sSGlkZGVuKSA9PiB7XG4gIC8vICAgcmV0dXJuIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBpc1RpdGxlSGlkZGVuID8gJyNjY2NjY2MnIDogJ2luaGVyaXQnLCBvcGFjaXR5OiBpc0NvbnRyb2xIaWRkZW4gPyAnMC41JyA6ICcxJyB9fSBjbGFzc05hbWU9J2dyb3VwLXRhYi1iYXInPnt0aXRsZX08L3NwYW4+XG4gIC8vIH1cbiAgLy8gY29uc29sZS5sb2coJ1RhYkJhcicsIG90aGVyUHJvcHMpXG4gIHJldHVybiAoXG4gICAgUmVhY3QuY2xvbmVFbGVtZW50KGRlZmF1bHRCYXIsIHtcbiAgICAgIGlkOiBrZXksXG4gICAgICAnZGF0YS1ncm91cC1iYXItaXRlbS1pZCc6IGtleSxcbiAgICAgIC4uLm90aGVyUHJvcHMsXG4gICAgICAuLi5kYmxDbGlja0NoYW5nZU5hbWVQcm9wcyxcbiAgICAgICdkYXRhLWVuYWJsZS1jbGljayc6IGZpZWxkU3RhdHVzU2V0dGluZ01vZGUgIT09ICdwZXJtaXNzaW9uJyxcbiAgICAgIHN0eWxlOiB7IGNvbG9yOiBoaWRkZW4gPyAnI2NjY2NjYycgOiAnaW5oZXJpdCcsIG9wYWNpdHk6IChTdGF0dXMgPT09IFRFWFRfU1RBVFVTX0VOVU0uSElEREVOICYmICghZmllbGRTdGF0dXNTZXR0aW5nTW9kZSB8fCAhZmllbGRTdGF0dXMpKSB8fCBmaWVsZFN0YXR1cyA9PT0gJ2hpZGRlbicgPyAnMC41JyA6ICcxJyB9LFxuICAgICAgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgaGFuZGxlSXRlbUNsaWNrKGtleSlcbiAgICAgIH1cbiAgICB9KVxuICApXG59KVxuVGFiQmFyLmRpc3BsYXlOYW1lID0gJ1RhYkJhcidcblxuY29uc3QgVGFiUGFuZWwgPSAoe1xuICBpZCxcbiAgY29sdW1uU3BhblxufSkgPT4ge1xuICBjb25zdCB7IGdldEtkZXNpZ25lckFwaSwgZmllbGRTdGF0dXNNYXAsIHByZWZpeENscyB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IGtkZXNpZ25lckFwaSA9IHVzZU1lbW8oKCkgPT4gZ2V0S2Rlc2lnbmVyQXBpKCksIFtdKVxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0IH0gPSBrZGVzaWduZXJBcGlcbiAgY29uc3QgY29udHJvbCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGlkKVxuICBjb25zdCB7IFN0YXR1cywgS2V5IH0gPSBjb250cm9sXG4gIGNvbnN0IGdyb3VwUGFuZWxIaWRkZW5Qcm9wcyA9IHVzZUNvbnRyb2xIaWRkZW4oY29udHJvbClcblxuICByZXR1cm4gKFxuICAgIDxHcm91cFBhbmVsXG4gICAgICBrZXk9e2lkfVxuICAgICAgY29udHJvbElkPXtpZH1cbiAgICAgIHBhcmVudENvbHVtbj17Y29sdW1uU3Bhbn1cbiAgICAgIGRhdGEtZ3JvdXAtY29udGFpbmVyLWl0ZW09e2lkfVxuICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsgW2Ake3ByZWZpeENsc30taXRlbS0ke2ZpZWxkU3RhdHVzTWFwW0tleV19YF06IGZpZWxkU3RhdHVzTWFwW0tleV0gfSl9XG4gICAgICB7Li4uZ3JvdXBQYW5lbEhpZGRlblByb3BzfVxuICAgIC8+XG4gIClcbn1cblxuLy8g5qC56IqC54K555qE6Leo5YiX5pi+56S677yIUEPnq6/vvInnlKjmnaXop4TojIPph4zpnaLliIblpJrlsJHliJdcbi8vIOaOp+S7tueahOi3qOWIl+aYvuekuu+8iFBD56uv77yJ55So5p2l6KeE6IyD5Y2g5aSa5bCR5YiXXG5jb25zdCBHcm91cENvbnRhaW5lckFwOiBSZWFjdC5GQzxBcENvbnRyb2xQcm9wcz4gPSAoe1xuICBmaWVsZCxcbiAgY29sdW1uU3BhblxufSkgPT4ge1xuICBjb25zdCB7IGdldEtkZXNpZ25lckFwaSwgZmllbGRTdGF0dXNNYXAsIHByZWZpeENscywgZmllbGRTdGF0dXNTZXR0aW5nTW9kZSB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IGtkZXNpZ25lckFwaSA9IHVzZU1lbW8oKCkgPT4gZ2V0S2Rlc2lnbmVyQXBpKCksIFtdKVxuICBjb25zdCB7IHNlbGVjdGlvbjogc2VsZWN0aW9uQ29udGV4dCwgZGF0YTogZGF0YUNvbnRleHQgfSA9IGtkZXNpZ25lckFwaVxuICBjb25zdCB7XG4gICAgSWQ6IGNvbnRyb2xJZCxcbiAgICBLZXksXG4gICAgTmFtZSxcbiAgICBUaXRsZUFyZWEsXG4gICAgQ29sbGFwc2U6IHNob3dDb2xsYXBzZSxcbiAgICBIZWxwVGlwczogdGlwcyxcbiAgICBDb2x1bW5TcGFuXG4gIH0gPSBmaWVsZFxuXG4gIGNvbnN0IFthY3RpdmVkU2VsZWN0SWQsIHNldEFjdGl2ZWRTZWxlY3RJZF0gPSB1c2VTdGF0ZShjb250cm9sSWQpXG4gIGNvbnN0IGJhck9wdGlvblJlZiA9IHVzZVJlZihbXSlcbiAgY29uc3QgdGFic1JlZiA9IHVzZVJlZihudWxsKVxuICBjb25zdCBbZm9yY2VVcGRhdGVOdW0sIGZvcmNlVXBkYXRlXSA9IHVzZVJlZHVjZXIobiA9PiBuICsgMSwgMClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0YWJzUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnN0IHRhYnNEb20gPSB0YWJzUmVmLmN1cnJlbnRcbiAgICAgIGNvbnN0IHRhYnNIZWFkZXJEb20gPSB0YWJzRG9tLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRhYnMtaGVhZGVyXScpXG5cbiAgICAgIC8vIOiuvue9rnRhYuWktOS/oeaBr1xuICAgICAgdGFic0hlYWRlckRvbT8uc2V0QXR0cmlidXRlKCdkYXRhLWdyb3VwLWJhcicsIGNvbnRyb2xJZClcbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8vIGNvbnN0IHtcbiAgLy8gICBzdWJUYWJJdGVtc1xuICAvLyB9ID0gdXNlR2V0VGFiU3ViQ29udHJvbHMoY29udHJvbElkKVxuXG4gIGNvbnN0IHN1YlRhYkl0ZW1zID0gdXNlR2V0U3ViR3JvdXBDb250YWluZXIoZmllbGQpXG5cbiAgY29uc3QgYmFyT3B0aW9uID0gc3ViVGFiSXRlbXMucmVkdWNlKChwcmVWYWwsIGN1clZhbHVlKSA9PiB7XG4gICAgY29uc3QgeyBJZCwgTmFtZSwgVGl0bGVBcmVhLCBIZWxwVGlwcyB9ID0gY3VyVmFsdWVcbiAgICBwcmVWYWwucHVzaCh7XG4gICAgICBpZDogSWQsXG4gICAgICBuYW1lOiBOYW1lLFxuICAgICAgdGl0bGVIaWRkZW46IGlzSGlkZVRpdGxlQXJlYShUaXRsZUFyZWEpLFxuICAgICAgdGlwczogSGVscFRpcHMsXG4gICAgICBrZXk6IElkLFxuICAgICAgbGFiZWw6IE5hbWUsXG4gICAgICBjaGlsZHJlbjogKFxuICAgICAgICA8VGFiUGFuZWxcbiAgICAgICAgICBpZD17SWR9XG4gICAgICAgICAgY29sdW1uU3Bhbj17Y29sdW1uU3Bhbn1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9KVxuICAgIHJldHVybiBwcmVWYWxcbiAgfSwgW10pXG4gIGJhck9wdGlvblJlZi5jdXJyZW50ID0gYmFyT3B0aW9uXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBzZWxlY3Rpb25Db250ZXh0LmdldFNlbGVjdGlvbigpIHx8IFtdXG4gICAgY29uc3Qgc2VsZWN0aW9uQ29udHJvbElkID0gc2VsZWN0aW9uWzBdXG4gICAgaWYgKHNlbGVjdGlvbkNvbnRyb2xJZCkge1xuICAgICAgY29uc3QgaXNDaGlsZEFjdGl2ZWQgPSBiYXJPcHRpb24uZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IHNlbGVjdGlvbkNvbnRyb2xJZClcblxuICAgICAgY29uc3QgbmV3QWN0aXZlSWQgPSBpc0NoaWxkQWN0aXZlZCA/IHNlbGVjdGlvbj8uWzBdIDogYmFyT3B0aW9uPy5bMF0/LmlkXG4gICAgICBzZXRBY3RpdmVkU2VsZWN0SWQobmV3QWN0aXZlSWQpXG5cbiAgICAgIGNvbnN0IHNlbGVjdGVkQ29udHJvbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbJHtkYXRhU2VsZWN0aW9ufT10cnVlXWApXG4gICAgICBzZWxlY3RlZENvbnRyb2xzLmZvckVhY2goKGNvbnRyb2w6IGdsb2JhbFRoaXMuSFRNTERpdkVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKCFzZWxlY3Rpb24uaW5jbHVkZXMoY29udHJvbFtkYXRhQ29udHJvbElkXSkpIHtcbiAgICAgICAgICBjb250cm9sPy5yZW1vdmVBdHRyaWJ1dGUoZGF0YVNlbGVjdGlvbilcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH0sIFtiYXJPcHRpb24ubGVuZ3RoXSlcblxuICBjb25zdCBoYW5kbGVJdGVtQ2xpY2sgPSAoaWQ6IHN0cmluZykgPT4ge1xuICAgIGlmIChmaWVsZFN0YXR1c1NldHRpbmdNb2RlID09PSAncGVybWlzc2lvbicpIHJldHVyblxuICAgIGlmIChhY3RpdmVkU2VsZWN0SWQgIT09IGlkKSB7XG4gICAgICBzZXROZXdEYXRhQ29udHJvbElkKGFjdGl2ZWRTZWxlY3RJZCwgaWQpXG5cbiAgICAgIHNldEFjdGl2ZWRTZWxlY3RJZChpZClcbiAgICAgIHNlbGVjdGlvbkNvbnRleHQuc2V0U2VsZWN0KGlkKVxuICAgIH1cbiAgfVxuXG4gIC8vIOmAieS4reebkeWQrFxuICBjb25zdCBzZWxlY3Rpb25DaGFuZ2VDYWxsQmFjayA9ICgpID0+IHtcbiAgICBjb25zdCBzZWxlY3RJZDogc3RyaW5nID0gc2VsZWN0aW9uQ29udGV4dC5nZXRBY3RpdmVTZWxlY3RlZElkKClcbiAgICBjb25zdCBpc0NoaWxkQWN0aXZlZCA9IGJhck9wdGlvblJlZi5jdXJyZW50Py5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gc2VsZWN0SWQpXG5cbiAgICBpZiAoaXNDaGlsZEFjdGl2ZWQgJiYgYWN0aXZlZFNlbGVjdElkICE9PSBzZWxlY3RJZCkge1xuICAgICAgc2V0QWN0aXZlZFNlbGVjdElkKHNlbGVjdElkKVxuICAgIH1cblxuICAgIC8vIHNldEFjdGl2ZWRTZWxlY3RJZChpc0NoaWxkQWN0aXZlZCAmJiBhY3RpdmVkU2VsZWN0SWQgIT09IHNlbGVjdElkID8gc2VsZWN0SWQgOiBiYXJPcHRpb25SZWYuY3VycmVudD8uWzBdPy5pZClcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgcmVtb3ZlU2VsZWN0aW9uTGlzdGVuZXIgPSBzZWxlY3Rpb25Db250ZXh0LmFkZFNlbGVjdENoYW5nZUxpc3RlbmVyKHNlbGVjdGlvbkNoYW5nZUNhbGxCYWNrKVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZW1vdmVTZWxlY3Rpb25MaXN0ZW5lcigpXG4gICAgfVxuICB9LCBbc2VsZWN0aW9uQ2hhbmdlQ2FsbEJhY2tdKVxuXG4gIGNvbnN0IHJlbmRlclRhYkJhciA9IChwcm9wcywgZGVmYXVsdEJhcikgPT4ge1xuICAgIHJldHVybiA8VGFiQmFyIHsuLi5wcm9wc30gZGVmYXVsdEJhcj17ZGVmYXVsdEJhcn0gaGFuZGxlSXRlbUNsaWNrPXtoYW5kbGVJdGVtQ2xpY2t9IC8+XG4gIH1cblxuICBjb25zdCB7IC4uLm90aGVyUHJvcHMgfSA9IHVzZUdldEFjdGl2ZWRUYWJEb21Qcm9wcyhhY3RpdmVkU2VsZWN0SWQpXG5cbiAgY29uc3QgZmllbGRIaWRkZW5BdHRycyA9IHVzZUNvbnRyb2xIaWRkZW4oZmllbGQpXG4gIGNvbnN0IGNvbnRhaW5lckhpZGRlblByb3BzID0gYmFyT3B0aW9uLmxlbmd0aCA9PT0gMSA/IGZpZWxkSGlkZGVuQXR0cnMgOiB7fVxuXG4gIHJldHVybiAoXG4gICAgPFRhYnNcbiAgICAgIHJlZj17dGFic1JlZn1cbiAgICAgIGFjdGl2ZUtleT17YWN0aXZlZFNlbGVjdElkfVxuICAgICAgYWxsb3dDb2xsYXBzZT17c2hvd0NvbGxhcHNlfVxuICAgICAgb25DaGFuZ2U9e2hhbmRsZUl0ZW1DbGlja31cbiAgICAgIGRhdGEtZ3JvdXAtY29udGFpbmVyPXtjb250cm9sSWR9XG4gICAgICB7Li4ub3RoZXJQcm9wc31cbiAgICAgIHsuLi5jb250YWluZXJIaWRkZW5Qcm9wc31cbiAgICAgIGRhdGEtZW5hYmxlLWNsaWNrPXtmaWVsZFN0YXR1c1NldHRpbmdNb2RlICE9PSAncGVybWlzc2lvbid9XG4gICAgICByZW5kZXJUYWJCYXI9e3JlbmRlclRhYkJhcn1cbiAgICAgIGl0ZW1zPXtiYXJPcHRpb259XG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoeyBbYCR7cHJlZml4Q2xzfS1pdGVtLSR7ZmllbGRTdGF0dXNNYXBbS2V5XX1gXTogYmFyT3B0aW9uLmxlbmd0aCA9PT0gMSAmJiBmaWVsZFN0YXR1c01hcFtLZXldIH0pfVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgR3JvdXBDb250YWluZXJBcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///24524\n");

/***/ }),

/***/ 32712:
/*!*************************************!*\
  !*** ./src/apControls/web/index.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _base_TextField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base/TextField */ 56484);\n/* harmony import */ var _base_SelectField__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base/SelectField */ 92036);\n/* harmony import */ var _base_BillField__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base/BillField */ 57760);\n/* harmony import */ var _base_TextareaField__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base/TextareaField */ 56644);\n/* harmony import */ var _base_NumberField__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./base/NumberField */ 66116);\n/* harmony import */ var _base_DateField__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./base/DateField */ 28608);\n/* harmony import */ var _base_DateRangeField__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./base/DateRangeField */ 35752);\n/* harmony import */ var _list__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./list */ 66940);\n/* harmony import */ var _base_Picture__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./base/Picture */ 40164);\n/* harmony import */ var _base_Attachment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./base/Attachment */ 88736);\n/* harmony import */ var _base_RichText__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./base/RichText */ 61504);\n/* harmony import */ var _base_GraphicDisplay__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./base/GraphicDisplay */ 57584);\n/* harmony import */ var _container_GroupContainer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./container/GroupContainer */ 24524);\n/* harmony import */ var _common_NoCodeBizButtonAp__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../common/NoCodeBizButtonAp */ 34080);\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-07-11 17:46:56\n * @LastEditTime: 2023-05-30 14:43:07\n * @Last Modified by: jianhang_he\n */\n/** 字段 */\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** 容器 */\n\n\n/** 业务按钮 */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  NoCodeTextField: _base_TextField__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  NoCodeSelectItemField: _base_SelectField__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  NoCodeRefBillField: _base_BillField__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  NoCodeMulRefBillField: _base_BillField__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  NoCodeTextAreaField: _base_TextareaField__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  NoCodeDecimalField: _base_NumberField__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n  NoCodeDateField: _base_DateField__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n  NoCodeDateRangeField: _base_DateRangeField__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n  NoCodeEntryEntity: _list__WEBPACK_IMPORTED_MODULE_7__.EntryAp,\n  NoCodeRefBillTable: _list__WEBPACK_IMPORTED_MODULE_7__.EntryAp,\n  NoCodeEntryFieldAp: _list__WEBPACK_IMPORTED_MODULE_7__.EntryFieldAp,\n  NoCodeImageUploadField: _base_Picture__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n  NoCodeAttachmentUploadField: _base_Attachment__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n  NoCodeCreateDateField: _base_TextField__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  NoCodeCreatorField: _base_TextField__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  NoCodeModifyDateField: _base_TextField__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  NoCodeModifierField: _base_TextField__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  NoCodeBillNoField: _base_TextField__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  // NoCodeGroupAp: GroupContainerAp,\n  NoCodeGroupContainerAp: _container_GroupContainer__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n  // NoCodeGroupItemAp: GroupContainerAp,\n  NoCodeBizButtonAp: _common_NoCodeBizButtonAp__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n  NoCodeRichTextField: _base_RichText__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n  NoCodeGraphicDisplayField: _base_GraphicDisplay__WEBPACK_IMPORTED_MODULE_11__[\"default\"]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI3MTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2FwQ29udHJvbHMvd2ViL2luZGV4LnRzP2MzNjciXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0wNy0xMSAxNzo0Njo1NlxuICogQExhc3RFZGl0VGltZTogMjAyMy0wNS0zMCAxNDo0MzowN1xuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbi8qKiDlrZfmrrUgKi9cbmltcG9ydCBUZXh0RmllbGRBcCBmcm9tICcuL2Jhc2UvVGV4dEZpZWxkJ1xuaW1wb3J0IFNlbGVjdEZpZWxkQXAgZnJvbSAnLi9iYXNlL1NlbGVjdEZpZWxkJ1xuaW1wb3J0IEJpbGxGaWVsZCBmcm9tICcuL2Jhc2UvQmlsbEZpZWxkJ1xuaW1wb3J0IFRleHRhcmVhRmllbGRBcCBmcm9tICcuL2Jhc2UvVGV4dGFyZWFGaWVsZCdcbmltcG9ydCBOdW1iZXJGaWVsZCBmcm9tICcuL2Jhc2UvTnVtYmVyRmllbGQnXG5pbXBvcnQgRGF0ZUZpZWxkIGZyb20gJy4vYmFzZS9EYXRlRmllbGQnXG5pbXBvcnQgRGF0ZVJhbmdlRmllbGQgZnJvbSAnLi9iYXNlL0RhdGVSYW5nZUZpZWxkJ1xuaW1wb3J0IHsgRW50cnlBcCwgRW50cnlGaWVsZEFwIH0gZnJvbSAnLi9saXN0J1xuaW1wb3J0IFBpY3R1cmUgZnJvbSAnLi9iYXNlL1BpY3R1cmUnXG5pbXBvcnQgQXR0YWNobWVudCBmcm9tICcuL2Jhc2UvQXR0YWNobWVudCdcbmltcG9ydCBSaWNoVGV4dEFwIGZyb20gJy4vYmFzZS9SaWNoVGV4dCdcbmltcG9ydCBHcmFwaGljRGlzcGxheUFwIGZyb20gJy4vYmFzZS9HcmFwaGljRGlzcGxheSdcblxuLyoqIOWuueWZqCAqL1xuaW1wb3J0IEdyb3VwQ29udGFpbmVyQXAgZnJvbSAnLi9jb250YWluZXIvR3JvdXBDb250YWluZXInXG5cbi8qKiDkuJrliqHmjInpkq4gKi9cbmltcG9ydCBOb0NvZGVCaXpCdXR0b25BcCBmcm9tICcuLi9jb21tb24vTm9Db2RlQml6QnV0dG9uQXAnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgTm9Db2RlVGV4dEZpZWxkOiBUZXh0RmllbGRBcCxcbiAgTm9Db2RlU2VsZWN0SXRlbUZpZWxkOiBTZWxlY3RGaWVsZEFwLFxuICBOb0NvZGVSZWZCaWxsRmllbGQ6IEJpbGxGaWVsZCxcbiAgTm9Db2RlTXVsUmVmQmlsbEZpZWxkOiBCaWxsRmllbGQsXG4gIE5vQ29kZVRleHRBcmVhRmllbGQ6IFRleHRhcmVhRmllbGRBcCxcbiAgTm9Db2RlRGVjaW1hbEZpZWxkOiBOdW1iZXJGaWVsZCxcbiAgTm9Db2RlRGF0ZUZpZWxkOiBEYXRlRmllbGQsXG4gIE5vQ29kZURhdGVSYW5nZUZpZWxkOiBEYXRlUmFuZ2VGaWVsZCxcbiAgTm9Db2RlRW50cnlFbnRpdHk6IEVudHJ5QXAsXG4gIE5vQ29kZVJlZkJpbGxUYWJsZTogRW50cnlBcCxcbiAgTm9Db2RlRW50cnlGaWVsZEFwOiBFbnRyeUZpZWxkQXAsXG4gIE5vQ29kZUltYWdlVXBsb2FkRmllbGQ6IFBpY3R1cmUsXG4gIE5vQ29kZUF0dGFjaG1lbnRVcGxvYWRGaWVsZDogQXR0YWNobWVudCxcbiAgTm9Db2RlQ3JlYXRlRGF0ZUZpZWxkOiBUZXh0RmllbGRBcCxcbiAgTm9Db2RlQ3JlYXRvckZpZWxkOiBUZXh0RmllbGRBcCxcbiAgTm9Db2RlTW9kaWZ5RGF0ZUZpZWxkOiBUZXh0RmllbGRBcCxcbiAgTm9Db2RlTW9kaWZpZXJGaWVsZDogVGV4dEZpZWxkQXAsXG4gIE5vQ29kZUJpbGxOb0ZpZWxkOiBUZXh0RmllbGRBcCxcbiAgLy8gTm9Db2RlR3JvdXBBcDogR3JvdXBDb250YWluZXJBcCxcbiAgTm9Db2RlR3JvdXBDb250YWluZXJBcDogR3JvdXBDb250YWluZXJBcCxcbiAgLy8gTm9Db2RlR3JvdXBJdGVtQXA6IEdyb3VwQ29udGFpbmVyQXAsXG4gIE5vQ29kZUJpekJ1dHRvbkFwLFxuICBOb0NvZGVSaWNoVGV4dEZpZWxkOiBSaWNoVGV4dEFwLFxuICBOb0NvZGVHcmFwaGljRGlzcGxheUZpZWxkOiBHcmFwaGljRGlzcGxheUFwXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///32712\n");

/***/ }),

/***/ 18360:
/*!*********************************************!*\
  !*** ./src/apControls/web/list/EntryAp.tsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_fill__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/fill */ 31848);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_fill__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_fill__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../context */ 90115);\n/* harmony import */ var _hooks_useGetSubControls__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../hooks/useGetSubControls */ 65988);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n\n\n\nvar _excluded = [\"ShowSelChexkbox\", \"ShowSeqField\", \"SeqName\", \"ShowBatExportBtn\", \"ShowBatImportBtn\"],\n  _excluded2 = [\"field\", \"className\", \"showSeqField\", \"showSelChexkbox\", \"seqName\", \"operations\", \"subControls\", \"showBatImportBtn\", \"showBatExportBtn\", \"showAddRowBtn\"];\n\n\n\n\n\n\n\n\n\n\n\nvar EntryAp = function EntryAp(_ref) {\n  var field = _ref.field;\n  var domProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(field);\n  var showSelChexkbox = field.ShowSelChexkbox,\n    showSeqField = field.ShowSeqField,\n    _field$SeqName = field.SeqName,\n    seqName = _field$SeqName === void 0 ? '序号' : _field$SeqName,\n    showBatExportBtn = field.ShowBatExportBtn,\n    showBatImportBtn = field.ShowBatImportBtn,\n    others = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(field, _excluded);\n  var entryRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useRef)(null);\n  if (others.ShowType === '1') return null;\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_13__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    field: field,\n    tipsTrigger: \"click\"\n  }, domProps, {\n    wrapperStyle: {\n      margin: 0,\n      padding: 0\n    }\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(EntryWarpper, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    showSeqField: showSeqField,\n    showSelChexkbox: showSelChexkbox,\n    seqName: seqName,\n    ref: entryRef,\n    field: field,\n    showBatExportBtn: showBatExportBtn,\n    showBatImportBtn: showBatImportBtn\n  }, others)));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (EntryAp);\nvar EntryWarpper = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.forwardRef)(function (props, _forwardedRef) {\n  var _context, _context2, _context3;\n  var field = props.field,\n    className = props.className,\n    showSeqField = props.showSeqField,\n    showSelChexkbox = props.showSelChexkbox,\n    seqName = props.seqName,\n    _props$operations = props.operations,\n    operations = _props$operations === void 0 ? ['复制', '删除', '更多'] : _props$operations,\n    subControlsProps = props.subControls,\n    showBatImportBtn = props.showBatImportBtn,\n    showBatExportBtn = props.showBatExportBtn,\n    showAddRowBtn = props.showAddRowBtn,\n    others = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props, _excluded2);\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var _useContext2 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useContext)(_context__WEBPACK_IMPORTED_MODULE_9__.DesignerContext),\n    getKdesignerApi = _useContext2.getKdesignerApi;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data;\n  var entryClsPrefix = getPrefixCls('nocode-designer-entry');\n  var data = dataContext.getData();\n  var subControls = subControlsProps || (0,_hooks_useGetSubControls__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(field, data, {}, dataContext.findControl);\n  var entryBodyCls = classnames__WEBPACK_IMPORTED_MODULE_7___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, \"\".concat(entryClsPrefix, \"-body\"), true), className, className));\n  var operates = _babel_runtime_corejs3_core_js_stable_instance_fill__WEBPACK_IMPORTED_MODULE_3___default()(_context = new Array(1)).call(_context, '');\n  if (!subControls.length) {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", {\n      className: \"\".concat(entryClsPrefix, \"-empty\")\n    }, \"\\u62D6\\u62FD\\u6216\\u70B9\\u51FB\\u6DFB\\u52A0\\u5185\\u5BB9\");\n  }\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", {\n    className: \"\".concat(entryClsPrefix),\n    ref: _forwardedRef\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", {\n    className: \"\".concat(entryClsPrefix, \"-toolbar\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", {\n    className: \"\".concat(entryClsPrefix, \"-toolbar-btns\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__.Button, {\n    size: \"small\",\n    className: \"add-btn\",\n    icon: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__.Icon, {\n      prefix: \"ncicon\",\n      type: \"zengjia-yuan\"\n    }),\n    type: \"ghost\"\n  }, \"\\u65B0\\u589E\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__.Button, {\n    size: \"small\",\n    className: \"import-btn\",\n    icon: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__.Icon, {\n      prefix: \"ncicon\",\n      type: \"daoru\"\n    })\n  }, \"\\u5BFC\\u5165\"))), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", {\n    className: entryBodyCls\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", {\n    className: \"\".concat(entryClsPrefix, \"-grid-view\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"ul\", {\n    className: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4___default()(_context2 = \"\".concat(entryClsPrefix, \"-checkbox-col \")).call(_context2, entryClsPrefix, \"-sticky\"),\n    style: {\n      left: 0\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"li\", {\n    className: \"thead\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"span\", {\n    className: \"checkbox\"\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"li\", null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"span\", {\n    className: \"checkbox\"\n  }))), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"ul\", {\n    className: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4___default()(_context3 = \"\".concat(entryClsPrefix, \"-seqcol \")).call(_context3, entryClsPrefix, \"-sticky\"),\n    style: {\n      left: 40\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"li\", {\n    className: \"thead\",\n    title: seqName\n  }, seqName), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"li\", null, \"1\")), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", {\n    className: \"\".concat(entryClsPrefix, \"-main\")\n  }, subControls), ((subControls === null || subControls === void 0 ? void 0 : subControls.length) > 0 || operations.length > 0) && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"ul\", {\n    className: \"\".concat(entryClsPrefix, \"-sticky-right\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"li\", {\n    className: \"thead\"\n  }, \"\\u64CD\\u4F5C\"), _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default()(operates).call(operates, function (item, index) {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"li\", {\n      key: index\n    }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default()(operations).call(operations, function (op, i) {\n      return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", {\n        key: i,\n        className: \"op\"\n      }, op);\n    }));\n  })))));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTgzNjAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFLQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFPQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9hcENvbnRyb2xzL3dlYi9saXN0L0VudHJ5QXAudHN4P2EzN2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIHVzZVJlZiwgZm9yd2FyZFJlZiwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcydcbmltcG9ydCB7XG4gIElBcGksIElEYXRhQXBpLCBDb25maWdDb250ZXh0XG59IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uLy4uL2NvbnRleHQnXG5pbXBvcnQgdXNlR2V0U3ViQ29udHJvbHMgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlR2V0U3ViQ29udHJvbHMnXG5pbXBvcnQgdXNlR2V0RG9tUHJvcHMgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlR2V0RG9tUHJvcHMnXG5pbXBvcnQgeyBCdXR0b24sIEljb24gfSBmcm9tICdAa2RjbG91ZGpzL2tkZXNpZ24nXG5pbXBvcnQgRGVzaWduZXJGaWVsZEl0ZW0gZnJvbSAnLi4vLi4vY29tbW9uL0Rlc2lnbmVyRmllbGRJdGVtJ1xuXG5jb25zdCBFbnRyeUFwID0gKHsgZmllbGQgfTogYW55KSA9PiB7XG4gIGNvbnN0IGRvbVByb3BzID0gdXNlR2V0RG9tUHJvcHMoZmllbGQpXG4gIGNvbnN0IHtcbiAgICBTaG93U2VsQ2hleGtib3g6IHNob3dTZWxDaGV4a2JveCwgU2hvd1NlcUZpZWxkOiBzaG93U2VxRmllbGQsXG4gICAgU2VxTmFtZTogc2VxTmFtZSA9ICfluo/lj7cnLCBTaG93QmF0RXhwb3J0QnRuOiBzaG93QmF0RXhwb3J0QnRuLFxuICAgIFNob3dCYXRJbXBvcnRCdG46IHNob3dCYXRJbXBvcnRCdG4sIC4uLm90aGVyc1xuICB9ID0gZmllbGRcblxuICBjb25zdCBlbnRyeVJlZiA9IHVzZVJlZihudWxsKVxuXG4gIGlmIChvdGhlcnMuU2hvd1R5cGUgPT09ICcxJykgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxEZXNpZ25lckZpZWxkSXRlbVxuICAgICAgZmllbGQ9e2ZpZWxkfVxuICAgICAgdGlwc1RyaWdnZXI9J2NsaWNrJ1xuICAgICAgey4uLmRvbVByb3BzfVxuICAgICAgd3JhcHBlclN0eWxlPXt7IG1hcmdpbjogMCwgcGFkZGluZzogMCB9fVxuICAgID5cbiAgICAgIDxFbnRyeVdhcnBwZXJcbiAgICAgICAgc2hvd1NlcUZpZWxkPXtzaG93U2VxRmllbGR9XG4gICAgICAgIHNob3dTZWxDaGV4a2JveD17c2hvd1NlbENoZXhrYm94fVxuICAgICAgICBzZXFOYW1lPXtzZXFOYW1lfVxuICAgICAgICByZWY9e2VudHJ5UmVmfVxuICAgICAgICBmaWVsZD17ZmllbGR9XG4gICAgICAgIHNob3dCYXRFeHBvcnRCdG49e3Nob3dCYXRFeHBvcnRCdG59XG4gICAgICAgIHNob3dCYXRJbXBvcnRCdG49e3Nob3dCYXRJbXBvcnRCdG59XG4gICAgICAgIHsuLi5vdGhlcnN9XG4gICAgICAvPlxuICAgIDwvRGVzaWduZXJGaWVsZEl0ZW0+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgRW50cnlBcFxuXG5jb25zdCBFbnRyeVdhcnBwZXIgPSBmb3J3YXJkUmVmKChwcm9wcywgX2ZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCB7XG4gICAgZmllbGQsIGNsYXNzTmFtZSwgc2hvd1NlcUZpZWxkLFxuICAgIHNob3dTZWxDaGV4a2JveCwgc2VxTmFtZSwgb3BlcmF0aW9ucyA9IFsn5aSN5Yi2JywgJ+WIoOmZpCcsICfmm7TlpJonXSwgc3ViQ29udHJvbHM6IHN1YkNvbnRyb2xzUHJvcHMsXG4gICAgc2hvd0JhdEltcG9ydEJ0biwgc2hvd0JhdEV4cG9ydEJ0biwgc2hvd0FkZFJvd0J0biwgLi4ub3RoZXJzXG4gIH0gPSBwcm9wc1xuICBjb25zdCB7IGdldFByZWZpeENscywgcHJlZml4Q2xzIH0gPSB1c2VDb250ZXh0KENvbmZpZ0NvbnRleHQpXG4gIGNvbnN0IHsgZ2V0S2Rlc2lnbmVyQXBpIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3Qga2Rlc2lnbmVyQXBpOiBJQXBpID0gdXNlTWVtbygoKSA9PiBnZXRLZGVzaWduZXJBcGkoKSwgW10pXG4gIGNvbnN0IGRhdGFDb250ZXh0OiBJRGF0YUFwaSA9IGtkZXNpZ25lckFwaS5kYXRhXG4gIGNvbnN0IGVudHJ5Q2xzUHJlZml4ID0gZ2V0UHJlZml4Q2xzKCdub2NvZGUtZGVzaWduZXItZW50cnknKVxuICBjb25zdCBkYXRhID0gZGF0YUNvbnRleHQuZ2V0RGF0YSgpXG4gIGNvbnN0IHN1YkNvbnRyb2xzID0gc3ViQ29udHJvbHNQcm9wcyB8fCB1c2VHZXRTdWJDb250cm9scyhmaWVsZCwgZGF0YSwge30sIGRhdGFDb250ZXh0LmZpbmRDb250cm9sKVxuXG4gIGNvbnN0IGVudHJ5Qm9keUNscyA9IGNsYXNzTmFtZXMoe1xuICAgIFtgJHtlbnRyeUNsc1ByZWZpeH0tYm9keWBdOiB0cnVlLFxuICAgIFtjbGFzc05hbWVdOiBjbGFzc05hbWVcbiAgfSlcbiAgY29uc3Qgb3BlcmF0ZXMgPSBuZXcgQXJyYXkoMSkuZmlsbCgnJylcblxuICBpZiAoIXN1YkNvbnRyb2xzLmxlbmd0aCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7ZW50cnlDbHNQcmVmaXh9LWVtcHR5YH0+XG4gICAgICAgIOaLluaLveaIlueCueWHu+a3u+WKoOWGheWuuVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2Ake2VudHJ5Q2xzUHJlZml4fWB9IHJlZj17X2ZvcndhcmRlZFJlZn0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7ZW50cnlDbHNQcmVmaXh9LXRvb2xiYXJgfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake2VudHJ5Q2xzUHJlZml4fS10b29sYmFyLWJ0bnNgfT5cbiAgICAgICAgICA8QnV0dG9uIHNpemU9J3NtYWxsJyBjbGFzc05hbWU9J2FkZC1idG4nIGljb249ezxJY29uIHByZWZpeD0nbmNpY29uJyB0eXBlPSd6ZW5namlhLXl1YW4nIC8+fSB0eXBlPSdnaG9zdCc+5paw5aKePC9CdXR0b24+XG4gICAgICAgICAgPEJ1dHRvbiBzaXplPSdzbWFsbCcgY2xhc3NOYW1lPSdpbXBvcnQtYnRuJyBpY29uPXs8SWNvbiBwcmVmaXg9J25jaWNvbicgdHlwZT0nZGFvcnUnIC8+fT7lr7zlhaU8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtlbnRyeUJvZHlDbHN9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7ZW50cnlDbHNQcmVmaXh9LWdyaWQtdmlld2B9PlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9e2Ake2VudHJ5Q2xzUHJlZml4fS1jaGVja2JveC1jb2wgJHtlbnRyeUNsc1ByZWZpeH0tc3RpY2t5YH0gc3R5bGU9e3sgbGVmdDogMCB9fT5cbiAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9J3RoZWFkJz48c3BhbiBjbGFzc05hbWU9J2NoZWNrYm94JyAvPjwvbGk+XG4gICAgICAgICAgICA8bGk+PHNwYW4gY2xhc3NOYW1lPSdjaGVja2JveCcgLz48L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT17YCR7ZW50cnlDbHNQcmVmaXh9LXNlcWNvbCAke2VudHJ5Q2xzUHJlZml4fS1zdGlja3lgfSBzdHlsZT17eyBsZWZ0OiA0MCB9fT5cbiAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9J3RoZWFkJyB0aXRsZT17c2VxTmFtZX0+e3NlcU5hbWV9PC9saT5cbiAgICAgICAgICAgIDxsaT4xPC9saT5cbiAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtlbnRyeUNsc1ByZWZpeH0tbWFpbmB9PlxuICAgICAgICAgICAge3N1YkNvbnRyb2xzfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsoc3ViQ29udHJvbHM/Lmxlbmd0aCA+IDAgfHwgb3BlcmF0aW9ucy5sZW5ndGggPiAwKSAmJlxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT17YCR7ZW50cnlDbHNQcmVmaXh9LXN0aWNreS1yaWdodGB9PlxuICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPSd0aGVhZCc+5pON5L2cPC9saT5cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9wZXJhdGVzLm1hcCgoaXRlbTphbnksIGluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGxpIGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25zLm1hcCgob3A6YW55LCBpOm51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxkaXYga2V5PXtpfSBjbGFzc05hbWU9J29wJz57b3B9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvdWw+fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59KVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///18360\n");

/***/ }),

/***/ 9453:
/*!**************************************************!*\
  !*** ./src/apControls/web/list/EntryFieldAp.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../context */ 90115);\n/* harmony import */ var _hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../hooks/useGetDomProps */ 74984);\n/* harmony import */ var _hooks_useEditControlName__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../hooks/useEditControlName */ 17592);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _constants_control__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../constants/control */ 24788);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../utils/control */ 3700);\n/* harmony import */ var _utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../utils/refBillEditorUtils */ 82048);\n/* harmony import */ var _common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../common/DesignerFieldItem */ 16852);\n\n\n\nvar _excluded = [\"dragEvent\"];\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-12-01 10:06:55\n * @LastEditTime: 2024-04-09 16:18:21\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\n\n\n\nvar EntryFieldAp = function EntryFieldAp(props) {\n  var _context;\n  var field = props.field,\n    rootWidth = props.rootWidth,\n    rowHeight = props.rowHeight,\n    headHeight = props.headHeight,\n    _props$isMb = props.isMb,\n    isMb = _props$isMb === void 0 ? false : _props$isMb,\n    autoRowHeight = props.autoRowHeight;\n  var Id = field.Id,\n    Key = field.Key,\n    Name = field.Name,\n    listFieldId = field.ListFieldId,\n    helpTips = field.HelpTips,\n    status = field.Status;\n  var _useGetDomProps = (0,_hooks_useGetDomProps__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(field),\n    dragEvent = _useGetDomProps.dragEvent,\n    domProps = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useGetDomProps, _excluded);\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useContext)(_context__WEBPACK_IMPORTED_MODULE_11__.DesignerContext),\n    prefixCls = _useContext.prefixCls,\n    fieldStatusMap = _useContext.fieldStatusMap,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    billPropsData = _useContext.billPropsData,\n    fieldStatusSettingMode = _useContext.fieldStatusSettingMode;\n  var _ref = getKdesignerApi() || {},\n    dataContext = _ref.data;\n  // 应用外表单不可编辑\n  var canEdit = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useMemo)(function () {\n    var parentField = dataContext.getParentControl(Id);\n    var ctrl = dataContext.findControl(Id);\n    if (parentField.BillEntityIdEx === dataContext.getRootId()) return false;\n    return !(ctrl !== null && ctrl !== void 0 && ctrl.RefBillId) && !(ctrl !== null && ctrl !== void 0 && ctrl.RefTableId) && (0,_utils_control__WEBPACK_IMPORTED_MODULE_16__.isRefBillTable)(parentField._Type_) && (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_17__.isAppInnerForm)(parentField, (billPropsData === null || billPropsData === void 0 ? void 0 : billPropsData.innerForm) || []);\n  }, [billPropsData, Id]);\n  // 添加双击事件\n  var editControlNameProps = canEdit ? (0,_hooks_useEditControlName__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(field) : {};\n  var wrapClass = classnames__WEBPACK_IMPORTED_MODULE_10___default()([\"\".concat(prefixCls, \"-entry-field\"), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    'item-mb': isMb,\n    'item-hidden': status === _constants_control__WEBPACK_IMPORTED_MODULE_15__.TEXT_STATUS_ENUM.HIDDEN\n  }, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default()(_context = \"\".concat(prefixCls, \"-item-\")).call(_context, fieldStatusMap[Key]), fieldStatusMap[Key])]);\n  var displayName = Name;\n  var heightStyle = {};\n  !autoRowHeight && (heightStyle = {\n    height: rowHeight\n  });\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    className: wrapClass\n  }, domProps, dragEvent, {\n    \"data-entry-field\": field.Key,\n    \"data-enable-click\": fieldStatusSettingMode === 'permission' ? canEdit : true\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    className: \"cellHead\",\n    style: {\n      height: headHeight\n    }\n  }, editControlNameProps), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_14__.FieldItem.Label, {\n    value: listFieldId === 'fseq' ? '#' : displayName,\n    required: (0,_common_DesignerFieldItem__WEBPACK_IMPORTED_MODULE_18__.getControlRequired)(field, fieldStatusMap),\n    tips: helpTips,\n    prefixCls: \"nc-field-item\",\n    style: {\n      marginBottom: '0',\n      fontWeight: 'bold'\n    }\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: \"cellContent\",\n    style: _objectSpread({}, heightStyle)\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (EntryFieldAp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTQ1My5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUdBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvYXBDb250cm9scy93ZWIvbGlzdC9FbnRyeUZpZWxkQXAudHN4P2I2NzIiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0xMi0wMSAxMDowNjo1NVxuICogQExhc3RFZGl0VGltZTogMjAyNC0wNC0wOSAxNjoxODoyMVxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vLi4vLi4vY29udGV4dCdcbmltcG9ydCB1c2VHZXREb21Qcm9wcyBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VHZXREb21Qcm9wcydcbmltcG9ydCB1c2VFZGl0Q29udHJvbE5hbWUgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlRWRpdENvbnRyb2xOYW1lJ1xuaW1wb3J0IHsgRmllbGRJdGVtIH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcbmltcG9ydCB7IFRFWFRfU1RBVFVTX0VOVU0gfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMvY29udHJvbCdcbmltcG9ydCB7IGlzUmVmQmlsbFRhYmxlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY29udHJvbCdcbmltcG9ydCB7IGlzQXBwSW5uZXJGb3JtIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvcmVmQmlsbEVkaXRvclV0aWxzJ1xuaW1wb3J0IHsgZ2V0Q29udHJvbFJlcXVpcmVkIH0gZnJvbSAnLi4vLi4vY29tbW9uL0Rlc2lnbmVyRmllbGRJdGVtJ1xuXG5jb25zdCBFbnRyeUZpZWxkQXAgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBmaWVsZCwgcm9vdFdpZHRoLCByb3dIZWlnaHQsIGhlYWRIZWlnaHQsIGlzTWIgPSBmYWxzZSwgYXV0b1Jvd0hlaWdodCB9ID0gcHJvcHNcbiAgY29uc3Qge1xuICAgIElkLFxuICAgIEtleSxcbiAgICBOYW1lLFxuICAgIExpc3RGaWVsZElkOiBsaXN0RmllbGRJZCxcbiAgICBIZWxwVGlwczogaGVscFRpcHMsXG4gICAgU3RhdHVzOiBzdGF0dXNcbiAgfSA9IGZpZWxkXG5cbiAgY29uc3QgeyBkcmFnRXZlbnQsIC4uLmRvbVByb3BzIH0gPSB1c2VHZXREb21Qcm9wcyhmaWVsZClcbiAgY29uc3QgeyBwcmVmaXhDbHMsIGZpZWxkU3RhdHVzTWFwLCBnZXRLZGVzaWduZXJBcGksIGJpbGxQcm9wc0RhdGEsIGZpZWxkU3RhdHVzU2V0dGluZ01vZGUgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0IH0gPSBnZXRLZGVzaWduZXJBcGkoKSB8fCB7fVxuICAvLyDlupTnlKjlpJbooajljZXkuI3lj6/nvJbovpFcbiAgY29uc3QgY2FuRWRpdCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudEZpZWxkID0gZGF0YUNvbnRleHQuZ2V0UGFyZW50Q29udHJvbChJZClcbiAgICBjb25zdCBjdHJsID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woSWQpXG4gICAgaWYgKHBhcmVudEZpZWxkLkJpbGxFbnRpdHlJZEV4ID09PSBkYXRhQ29udGV4dC5nZXRSb290SWQoKSkgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuICFjdHJsPy5SZWZCaWxsSWQgJiYgIWN0cmw/LlJlZlRhYmxlSWQgJiYgaXNSZWZCaWxsVGFibGUocGFyZW50RmllbGQuX1R5cGVfKSAmJiBpc0FwcElubmVyRm9ybShwYXJlbnRGaWVsZCwgKGJpbGxQcm9wc0RhdGE/LmlubmVyRm9ybSB8fCBbXSkpXG4gIH0sIFtiaWxsUHJvcHNEYXRhLCBJZF0pXG4gIC8vIOa3u+WKoOWPjOWHu+S6i+S7tlxuICBjb25zdCBlZGl0Q29udHJvbE5hbWVQcm9wcyA9IGNhbkVkaXQgPyB1c2VFZGl0Q29udHJvbE5hbWUoZmllbGQpIDoge31cblxuICBjb25zdCB3cmFwQ2xhc3MgPSBjbGFzc05hbWVzKFtcbiAgICBgJHtwcmVmaXhDbHN9LWVudHJ5LWZpZWxkYCwge1xuICAgICAgJ2l0ZW0tbWInOiBpc01iLFxuICAgICAgJ2l0ZW0taGlkZGVuJzogc3RhdHVzID09PSBURVhUX1NUQVRVU19FTlVNLkhJRERFTixcbiAgICAgIFtgJHtwcmVmaXhDbHN9LWl0ZW0tJHtmaWVsZFN0YXR1c01hcFtLZXldfWBdOiBmaWVsZFN0YXR1c01hcFtLZXldXG4gICAgfVxuICBdKVxuXG4gIGNvbnN0IGRpc3BsYXlOYW1lID0gTmFtZVxuICBsZXQgaGVpZ2h0U3R5bGUgPSB7fVxuICAhYXV0b1Jvd0hlaWdodCAmJiAoaGVpZ2h0U3R5bGUgPSB7IGhlaWdodDogcm93SGVpZ2h0IH0pXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17d3JhcENsYXNzfSB7Li4uZG9tUHJvcHN9IHsuLi5kcmFnRXZlbnR9IGRhdGEtZW50cnktZmllbGQ9e2ZpZWxkLktleX0gZGF0YS1lbmFibGUtY2xpY2s9e2ZpZWxkU3RhdHVzU2V0dGluZ01vZGUgPT09ICdwZXJtaXNzaW9uJyA/IGNhbkVkaXQgOiB0cnVlfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdjZWxsSGVhZCcgc3R5bGU9e3sgaGVpZ2h0OiBoZWFkSGVpZ2h0IH19IHsuLi5lZGl0Q29udHJvbE5hbWVQcm9wc30+XG4gICAgICAgIDxGaWVsZEl0ZW0uTGFiZWxcbiAgICAgICAgICB2YWx1ZT17bGlzdEZpZWxkSWQgPT09ICdmc2VxJyA/ICcjJyA6IGRpc3BsYXlOYW1lfVxuICAgICAgICAgIHJlcXVpcmVkPXtnZXRDb250cm9sUmVxdWlyZWQoZmllbGQsIGZpZWxkU3RhdHVzTWFwKX1cbiAgICAgICAgICB0aXBzPXtoZWxwVGlwc31cbiAgICAgICAgICBwcmVmaXhDbHM9J25jLWZpZWxkLWl0ZW0nXG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJzAnLFxuICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9J2NlbGxDb250ZW50JyBzdHlsZT17eyAuLi5oZWlnaHRTdHlsZSB9fSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEVudHJ5RmllbGRBcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9453\n");

/***/ }),

/***/ 66940:
/*!******************************************!*\
  !*** ./src/apControls/web/list/index.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EntryAp: function() { return /* reexport safe */ _EntryAp__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; },\n/* harmony export */   EntryFieldAp: function() { return /* reexport safe */ _EntryFieldAp__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; }\n/* harmony export */ });\n/* harmony import */ var _EntryAp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EntryAp */ 18360);\n/* harmony import */ var _EntryFieldAp__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EntryFieldAp */ 9453);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjY5NDAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvYXBDb250cm9scy93ZWIvbGlzdC9pbmRleC50cz9jMGQyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFbnRyeUFwIGZyb20gJy4vRW50cnlBcCdcbmltcG9ydCBFbnRyeUZpZWxkQXAgZnJvbSAnLi9FbnRyeUZpZWxkQXAnXG5cbmV4cG9ydCB7XG4gIEVudHJ5QXAsXG4gIEVudHJ5RmllbGRBcFxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///66940\n");

/***/ }),

/***/ 85176:
/*!***********************************************************!*\
  !*** ./src/apControls/web/list/showRefBillTableModal.tsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _utils_preHandleUtils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../utils/preHandleUtils */ 99888);\n/* harmony import */ var _assets_images_table_billed_png__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../assets/images/table-billed.png */ 67160);\n/* harmony import */ var _assets_images_table_blank_png__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../assets/images/table-blank.png */ 62268);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../constants */ 98092);\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\nvar index = '1'; // 1空白表格， 2已有表单\n\n/**\n * 弹窗主体\n */\nvar RefBillTableModalBody = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.memo)(function (props) {\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useReducer)(function (x) {\n      return x + 1;\n    }, 0),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useReducer, 2),\n    forceRefresh = _useReducer2[1];\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls;\n  var entryClsPrefix = getPrefixCls('nocode-designer-entry');\n\n  /**\n   * 菜单点击\n   */\n  var itemClick = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (num) {\n    index = num;\n    forceRefresh();\n  }, [index]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: \"\".concat(entryClsPrefix, \"-modal-body\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: \"\".concat(entryClsPrefix, \"-modal-body-menu\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_10___default()({\n      cur: index === '1'\n    }),\n    onClick: function onClick() {\n      return itemClick('1');\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"img\", {\n    src: _assets_images_table_blank_png__WEBPACK_IMPORTED_MODULE_13__[\"default\"]\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"p\", null, \"\\u6DFB\\u52A0\\u7A7A\\u767D\\u8868\\u683C\")), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_10___default()({\n      cur: index === '2'\n    }),\n    onClick: function onClick() {\n      return itemClick('2');\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"img\", {\n    src: _assets_images_table_billed_png__WEBPACK_IMPORTED_MODULE_12__[\"default\"]\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"p\", null, \"\\u6DFB\\u52A0\\u5DF2\\u6709\\u8868\\u5355\"))));\n});\n\n/**\n * 点击弹窗OK按钮，创建表格控件\n * @param args\n */\nvar okHandle = function okHandle(args) {\n  var dataContext = args.dataContext,\n    dataFactory = args.dataFactory,\n    action = args.action,\n    metaReader = args.metaReader,\n    handleConfig = args.handleConfig;\n  var controlCacheApi = handleConfig.controlCacheApi,\n    getHideFieldRef = handleConfig.getHideFieldRef,\n    setHideFieldRef = handleConfig.setHideFieldRef;\n  var _ref = action || {},\n    value = _ref.value;\n  console.log('okHandle', index);\n\n  // 创建表格控件需要的内容\n  // addControlProperty: 生成ApType EntityData EntryId FieldType 4个属性\n  // dataFactory: 依据所提供的内容生成Key ParentId _Type_ Id Name 属性\n  var newTableControl = (0,_utils_preHandleUtils__WEBPACK_IMPORTED_MODULE_11__.addControlProperty)(dataFactory({\n    // 关联表单表格\n    type: _constants__WEBPACK_IMPORTED_MODULE_14__.NOCODE_REF_BILL_TABLE,\n    parentId: value.ParentId,\n    transferData: {\n      Name: '表格',\n      Id: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.createUUid)(3),\n      // 表格内的字段需要拼上表格ID，系统字段的KEY拼接ID后超出25位的长度会被截掉，为防止被截取故限制长度3\n      Key: \"nc_\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.createUUid)().toLowerCase()),\n      SourceForm: index,\n      ShowType: '2',\n      Multi: '1',\n      DataRange: {\n        max: '100',\n        min: '0'\n      }\n    }\n  }), {\n    dataContext: dataContext,\n    metaReader: metaReader\n  });\n\n  // 关联表单控件\n  var refBillControl = (0,_utils_preHandleUtils__WEBPACK_IMPORTED_MODULE_11__.addControlProperty)(dataFactory({\n    // 关联表单\n    type: _constants__WEBPACK_IMPORTED_MODULE_14__.NOCODE_MUL_REF_BILL_FIELD,\n    parentId: value.ParentId,\n    transferData: {\n      Name: '表格',\n      Key: \"nc_\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.createUUid)().toLowerCase()),\n      SourceForm: index,\n      ShowType: '2',\n      Multi: '1',\n      DataRange: {\n        max: '100',\n        min: '0'\n      }\n    }\n  }), {\n    dataContext: dataContext,\n    metaReader: metaReader\n  });\n  newTableControl.RefBillId = refBillControl.Id;\n  newTableControl.EntityData.RefBillId = refBillControl.Id;\n  refBillControl.RefTableId = newTableControl.Id;\n  refBillControl.EntityData.RefTableId = newTableControl.Id;\n\n  // 添加控件, 不添加隐藏控件，隐藏控件存放到缓存里\n  var actions = [(0,designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.createAddAction)([newTableControl])];\n  // 添加到缓存，以便判断是否为新加字段\n  // controlCacheApi.addCache('controlId', refBillControl.Id)\n  controlCacheApi.addCache('controlId', newTableControl.Id);\n  // 更新隐藏控件\n  var hideFields = getHideFieldRef();\n  setHideFieldRef(_objectSpread(_objectSpread({}, hideFields), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, refBillControl.Id, refBillControl)));\n  // 更新界面\n  dataContext.batchActions(actions);\n  // 选中控件，batchActions不是promise，无法then回调，所以需要异步延时300ms选中\n  setTimeout(function () {\n    return handleConfig.selection.setSelect([newTableControl.Id]);\n  }, 300);\n};\n\n// 打开弹窗\nvar showRefBillTableModal = function showRefBillTableModal(args) {\n  kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_9__.Modal.confirm({\n    title: '添加表格',\n    width: 480,\n    height: 304,\n    className: 'nocode-designer-entry-modal',\n    showline: true,\n    maskClosable: false,\n    titleIcon: null,\n    body: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(RefBillTableModalBody, null),\n    okButtonProps: {\n      size: 'small'\n    },\n    cancelButtonProps: {\n      size: 'small'\n    },\n    bodyStyle: {\n      padding: 24\n    },\n    destroyOnClose: true,\n    onOk: function onOk() {\n      return okHandle(args);\n    }\n  });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (showRefBillTableModal);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODUxNzYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBTUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2FwQ29udHJvbHMvd2ViL2xpc3Qvc2hvd1JlZkJpbGxUYWJsZU1vZGFsLnRzeD85YjFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBtZW1vLCB1c2VDb250ZXh0LCB1c2VSZWR1Y2VyLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQ29uZmlnQ29udGV4dCwgY3JlYXRlQWRkQWN0aW9uLCBjcmVhdGVVVWlkIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgTW9kYWwgfSBmcm9tICdAa2RjbG91ZGpzL2tkZXNpZ24nXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xuaW1wb3J0IHsgYWRkQ29udHJvbFByb3BlcnR5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvcHJlSGFuZGxlVXRpbHMnXG5pbXBvcnQgYmlsbGVkVGFibGUgZnJvbSAnLi4vLi4vLi4vLi4vYXNzZXRzL2ltYWdlcy90YWJsZS1iaWxsZWQucG5nJ1xuaW1wb3J0IGJsYW5rVGFibGUgZnJvbSAnLi4vLi4vLi4vLi4vYXNzZXRzL2ltYWdlcy90YWJsZS1ibGFuay5wbmcnXG5pbXBvcnQgeyBOT0NPREVfUkVGX0JJTExfVEFCTEUsIE5PQ09ERV9NVUxfUkVGX0JJTExfRklFTEQgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMnXG5cbmxldCBpbmRleCA9ICcxJyAvLyAx56m655m96KGo5qC877yMIDLlt7LmnInooajljZVcblxuLyoqXG4gKiDlvLnnqpfkuLvkvZNcbiAqL1xuY29uc3QgUmVmQmlsbFRhYmxlTW9kYWxCb2R5ID0gbWVtbygocHJvcHM6YW55KSA9PiB7XG4gIGNvbnN0IFssIGZvcmNlUmVmcmVzaF0gPSB1c2VSZWR1Y2VyKCh4KSA9PiB4ICsgMSwgMClcbiAgY29uc3QgeyBnZXRQcmVmaXhDbHMgfSA9IHVzZUNvbnRleHQoQ29uZmlnQ29udGV4dClcbiAgY29uc3QgZW50cnlDbHNQcmVmaXggPSBnZXRQcmVmaXhDbHMoJ25vY29kZS1kZXNpZ25lci1lbnRyeScpXG5cbiAgLyoqXG4gICAqIOiPnOWNleeCueWHu1xuICAgKi9cbiAgY29uc3QgaXRlbUNsaWNrID0gdXNlQ2FsbGJhY2soKG51bTpzdHJpbmcpID0+IHtcbiAgICBpbmRleCA9IG51bVxuICAgIGZvcmNlUmVmcmVzaCgpXG4gIH0sIFtpbmRleF0pXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17YCR7ZW50cnlDbHNQcmVmaXh9LW1vZGFsLWJvZHlgfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtlbnRyeUNsc1ByZWZpeH0tbW9kYWwtYm9keS1tZW51YH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsgY3VyOiBpbmRleCA9PT0gJzEnIH0pfSBvbkNsaWNrPXsoKSA9PiBpdGVtQ2xpY2soJzEnKX0+XG4gICAgICAgICAgPGltZyBzcmM9e2JsYW5rVGFibGV9IC8+XG4gICAgICAgICAgPHA+5re75Yqg56m655m96KGo5qC8PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoeyBjdXI6IGluZGV4ID09PSAnMicgfSl9IG9uQ2xpY2s9eygpID0+IGl0ZW1DbGljaygnMicpfT5cbiAgICAgICAgICA8aW1nIHNyYz17YmlsbGVkVGFibGV9IC8+XG4gICAgICAgICAgPHA+5re75Yqg5bey5pyJ6KGo5Y2VPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59KVxuXG4vKipcbiAqIOeCueWHu+W8ueeql09L5oyJ6ZKu77yM5Yib5bu66KGo5qC85o6n5Lu2XG4gKiBAcGFyYW0gYXJnc1xuICovXG5jb25zdCBva0hhbmRsZSA9IChhcmdzOmFueSkgPT4ge1xuICBjb25zdCB7IGRhdGFDb250ZXh0LCBkYXRhRmFjdG9yeSwgYWN0aW9uLCBtZXRhUmVhZGVyLCBoYW5kbGVDb25maWcgfSA9IGFyZ3NcbiAgY29uc3QgeyBjb250cm9sQ2FjaGVBcGksIGdldEhpZGVGaWVsZFJlZiwgc2V0SGlkZUZpZWxkUmVmIH0gPSBoYW5kbGVDb25maWdcbiAgY29uc3QgeyB2YWx1ZSB9ID0gYWN0aW9uIHx8IHt9XG4gIGNvbnNvbGUubG9nKCdva0hhbmRsZScsIGluZGV4KVxuXG4gIC8vIOWIm+W7uuihqOagvOaOp+S7tumcgOimgeeahOWGheWuuVxuICAvLyBhZGRDb250cm9sUHJvcGVydHk6IOeUn+aIkEFwVHlwZSBFbnRpdHlEYXRhIEVudHJ5SWQgRmllbGRUeXBlIDTkuKrlsZ7mgKdcbiAgLy8gZGF0YUZhY3Rvcnk6IOS+neaNruaJgOaPkOS+m+eahOWGheWuueeUn+aIkEtleSBQYXJlbnRJZCBfVHlwZV8gSWQgTmFtZSDlsZ7mgKdcbiAgY29uc3QgbmV3VGFibGVDb250cm9sID0gYWRkQ29udHJvbFByb3BlcnR5KGRhdGFGYWN0b3J5KHsgLy8g5YWz6IGU6KGo5Y2V6KGo5qC8XG4gICAgdHlwZTogTk9DT0RFX1JFRl9CSUxMX1RBQkxFLFxuICAgIHBhcmVudElkOiB2YWx1ZS5QYXJlbnRJZCxcbiAgICB0cmFuc2ZlckRhdGE6IHtcbiAgICAgIE5hbWU6ICfooajmoLwnLFxuICAgICAgSWQ6IGNyZWF0ZVVVaWQoMyksIC8vIOihqOagvOWGheeahOWtl+autemcgOimgeaLvOS4iuihqOagvElE77yM57O757uf5a2X5q6155qES0VZ5ou85o6lSUTlkI7otoXlh7oyNeS9jeeahOmVv+W6puS8muiiq+aIquaOie+8jOS4uumYsuatouiiq+aIquWPluaVhemZkOWItumVv+W6pjNcbiAgICAgIEtleTogYG5jXyR7Y3JlYXRlVVVpZCgpLnRvTG93ZXJDYXNlKCl9YCxcbiAgICAgIFNvdXJjZUZvcm06IGluZGV4LFxuICAgICAgU2hvd1R5cGU6ICcyJyxcbiAgICAgIE11bHRpOiAnMScsXG4gICAgICBEYXRhUmFuZ2U6IHsgbWF4OiAnMTAwJywgbWluOiAnMCcgfVxuICAgIH1cbiAgfSksIHsgZGF0YUNvbnRleHQsIG1ldGFSZWFkZXIgfSlcblxuICAvLyDlhbPogZTooajljZXmjqfku7ZcbiAgY29uc3QgcmVmQmlsbENvbnRyb2wgPSBhZGRDb250cm9sUHJvcGVydHkoZGF0YUZhY3RvcnkoeyAvLyDlhbPogZTooajljZVcbiAgICB0eXBlOiBOT0NPREVfTVVMX1JFRl9CSUxMX0ZJRUxELFxuICAgIHBhcmVudElkOiB2YWx1ZS5QYXJlbnRJZCxcbiAgICB0cmFuc2ZlckRhdGE6IHtcbiAgICAgIE5hbWU6ICfooajmoLwnLFxuICAgICAgS2V5OiBgbmNfJHtjcmVhdGVVVWlkKCkudG9Mb3dlckNhc2UoKX1gLFxuICAgICAgU291cmNlRm9ybTogaW5kZXgsXG4gICAgICBTaG93VHlwZTogJzInLFxuICAgICAgTXVsdGk6ICcxJyxcbiAgICAgIERhdGFSYW5nZTogeyBtYXg6ICcxMDAnLCBtaW46ICcwJyB9XG4gICAgfVxuICB9KSwgeyBkYXRhQ29udGV4dCwgbWV0YVJlYWRlciB9KVxuICBuZXdUYWJsZUNvbnRyb2wuUmVmQmlsbElkID0gcmVmQmlsbENvbnRyb2wuSWRcbiAgbmV3VGFibGVDb250cm9sLkVudGl0eURhdGEuUmVmQmlsbElkID0gcmVmQmlsbENvbnRyb2wuSWRcbiAgcmVmQmlsbENvbnRyb2wuUmVmVGFibGVJZCA9IG5ld1RhYmxlQ29udHJvbC5JZFxuICByZWZCaWxsQ29udHJvbC5FbnRpdHlEYXRhLlJlZlRhYmxlSWQgPSBuZXdUYWJsZUNvbnRyb2wuSWRcblxuICAvLyDmt7vliqDmjqfku7YsIOS4jea3u+WKoOmakOiXj+aOp+S7tu+8jOmakOiXj+aOp+S7tuWtmOaUvuWIsOe8k+WtmOmHjFxuICBjb25zdCBhY3Rpb25zID0gW2NyZWF0ZUFkZEFjdGlvbihbbmV3VGFibGVDb250cm9sXSldXG4gIC8vIOa3u+WKoOWIsOe8k+WtmO+8jOS7peS+v+WIpOaWreaYr+WQpuS4uuaWsOWKoOWtl+autVxuICAvLyBjb250cm9sQ2FjaGVBcGkuYWRkQ2FjaGUoJ2NvbnRyb2xJZCcsIHJlZkJpbGxDb250cm9sLklkKVxuICBjb250cm9sQ2FjaGVBcGkuYWRkQ2FjaGUoJ2NvbnRyb2xJZCcsIG5ld1RhYmxlQ29udHJvbC5JZClcbiAgLy8g5pu05paw6ZqQ6JeP5o6n5Lu2XG4gIGNvbnN0IGhpZGVGaWVsZHMgPSBnZXRIaWRlRmllbGRSZWYoKVxuICBzZXRIaWRlRmllbGRSZWYoeyAuLi5oaWRlRmllbGRzLCBbcmVmQmlsbENvbnRyb2wuSWRdOiByZWZCaWxsQ29udHJvbCB9KVxuICAvLyDmm7TmlrDnlYzpnaJcbiAgZGF0YUNvbnRleHQuYmF0Y2hBY3Rpb25zKGFjdGlvbnMpXG4gIC8vIOmAieS4reaOp+S7tu+8jGJhdGNoQWN0aW9uc+S4jeaYr3Byb21pc2XvvIzml6Dms5V0aGVu5Zue6LCD77yM5omA5Lul6ZyA6KaB5byC5q2l5bu25pe2MzAwbXPpgInkuK1cbiAgc2V0VGltZW91dCgoKSA9PiBoYW5kbGVDb25maWcuc2VsZWN0aW9uLnNldFNlbGVjdChbbmV3VGFibGVDb250cm9sLklkXSksIDMwMClcbn1cblxuLy8g5omT5byA5by556qXXG5jb25zdCBzaG93UmVmQmlsbFRhYmxlTW9kYWwgPSAoYXJnczphbnkpID0+IHtcbiAgTW9kYWwuY29uZmlybSh7XG4gICAgdGl0bGU6ICfmt7vliqDooajmoLwnLFxuICAgIHdpZHRoOiA0ODAsXG4gICAgaGVpZ2h0OiAzMDQsXG4gICAgY2xhc3NOYW1lOiAnbm9jb2RlLWRlc2lnbmVyLWVudHJ5LW1vZGFsJyxcbiAgICBzaG93bGluZTogdHJ1ZSxcbiAgICBtYXNrQ2xvc2FibGU6IGZhbHNlLFxuICAgIHRpdGxlSWNvbjogbnVsbCxcbiAgICBib2R5OiA8UmVmQmlsbFRhYmxlTW9kYWxCb2R5IC8+LFxuICAgIG9rQnV0dG9uUHJvcHM6IHsgc2l6ZTogJ3NtYWxsJyB9LFxuICAgIGNhbmNlbEJ1dHRvblByb3BzOiB7IHNpemU6ICdzbWFsbCcgfSxcbiAgICBib2R5U3R5bGU6IHsgcGFkZGluZzogMjQgfSxcbiAgICBkZXN0cm95T25DbG9zZTogdHJ1ZSxcbiAgICBvbk9rOiAoKSA9PiBva0hhbmRsZShhcmdzKVxuICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCBzaG93UmVmQmlsbFRhYmxlTW9kYWxcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///85176\n");

/***/ }),

/***/ 7696:
/*!***********************************************!*\
  !*** ./src/components/BillNoSettingModal.tsx ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ 28429);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/values */ 73020);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils */ 41232);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../context */ 90115);\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\n\nvar BILL_NO_RANDOM_OPTIONS = [{\n  label: '4',\n  value: 4\n}, {\n  label: '5',\n  value: 5\n}, {\n  label: '6',\n  value: 6\n}, {\n  label: '7',\n  value: 7\n}, {\n  label: '8',\n  value: 8\n}, {\n  label: '9',\n  value: 9\n}, {\n  label: '10',\n  value: 10\n}];\nvar BILLNO_PATTERN = /^([a-zA-Z]|[-@#$%^&*]|\\[|\\])+$/;\nvar mergeDataReducer = function mergeDataReducer(state, newData) {\n  return _objectSpread(_objectSpread({}, state), newData);\n};\nvar ModalBody = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.forwardRef)(function (_ref, ref) {\n  var className = _ref.className;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useContext)(_context__WEBPACK_IMPORTED_MODULE_13__.DesignerContext),\n    getBillnoSetting = _useContext.getBillnoSetting,\n    setBillnoSetting = _useContext.setBillnoSetting;\n  var _Form$useForm = kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Form.useForm(),\n    _Form$useForm2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_Form$useForm, 1),\n    form = _Form$useForm2[0];\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useReducer)(mergeDataReducer, getBillnoSetting()),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useReducer, 2),\n    formData = _useReducer2[0],\n    dispatchFormData = _useReducer2[1];\n  var billNoPreview = formData.billNoPreview,\n    billNoYMD = formData.billNoYMD,\n    billNoHMS = formData.billNoHMS,\n    billNoPrefix = formData.billNoPrefix,\n    billNoRandomNum = formData.billNoRandomNum;\n\n  /**\r\n   * 编码示意，在其它值变化的时候触发\r\n   */\n  var handleChangeBillNoPreview = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function (data) {\n    var billNoPreview = data.billNoPreview,\n      billNoYMD = data.billNoYMD,\n      billNoHMS = data.billNoHMS,\n      billNoPrefix = data.billNoPrefix,\n      billNoRandomNum = data.billNoRandomNum;\n    // let newBillNoEg = billNoPreview ? billNoPreview.replace(/^(([a-zA-Z]|[-@#$%^&*]|\\[|\\])+)\\d+$/g, '$1') : ''\n    var newBillNoEg = billNoPrefix || '';\n    // if (billNoPrefix && BILLNO_PATTERN.test(billNoPrefix)) {\n    //   newBillNoEg = billNoPrefix\n    // } else {\n    //   return\n    // }\n    if (billNoYMD) {\n      newBillNoEg += \"\".concat((0,_utils__WEBPACK_IMPORTED_MODULE_11__.dateFormate)(new Date(), 'yyyyMMdd'));\n    }\n    if (billNoHMS) {\n      newBillNoEg += \"\".concat((0,_utils__WEBPACK_IMPORTED_MODULE_11__.dateFormate)(new Date(), 'hhmmss'));\n    }\n    if (billNoRandomNum) {\n      newBillNoEg += \"\".concat((0,_utils__WEBPACK_IMPORTED_MODULE_11__.getRandomNum)(billNoRandomNum));\n    }\n    dispatchFormData({\n      billNoPreview: newBillNoEg\n    });\n  }, [billNoYMD, billNoHMS, billNoPrefix, billNoRandomNum]);\n  var handleInputChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function (e) {\n    var value = e.target.value;\n    dispatchFormData({\n      billNoPrefix: value\n    });\n    handleChangeBillNoPreview(_objectSpread(_objectSpread({}, formData), {}, {\n      billNoPrefix: value\n    }));\n  }, [dispatchFormData, handleChangeBillNoPreview]);\n  var handleSwitchChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function (key) {\n    var newValue = !formData[key];\n    dispatchFormData((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, key, newValue));\n    handleChangeBillNoPreview(_objectSpread(_objectSpread({}, formData), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, key, newValue)));\n  }, [formData, dispatchFormData, handleChangeBillNoPreview]);\n  var handleRandomNumChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function (value) {\n    dispatchFormData({\n      billNoRandomNum: value\n    });\n    handleChangeBillNoPreview(_objectSpread(_objectSpread({}, formData), {}, {\n      billNoRandomNum: value\n    }));\n  }, [dispatchFormData, handleChangeBillNoPreview]);\n\n  // 校验表单是否可以保存，return一个promise\n  var saveForm = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function () {\n    return new (_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_7___default())(function (resolve, reject) {\n      form.validateFields().then(function (_ref2) {\n        var values = _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_8___default()(_ref2);\n        setBillnoSetting(formData);\n        resolve(true);\n      }).catch(function (e) {\n        return reject(e);\n      });\n    });\n  }, [setBillnoSetting, formData]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useImperativeHandle)(ref, function () {\n    return {\n      saveForm: saveForm\n    };\n  }, [saveForm]);\n\n  // useEffect(() => {\n  //   let newBillNoEg = ''\n  //   if (billNoPrefix && BILLNO_PATTERN.test(billNoPrefix)) {\n  //     newBillNoEg = billNoPrefix\n  //   }\n  //   if (billNoYMD) {\n  //     newBillNoEg += `${dateFormate(new Date(), 'yyyyMMdd')}`\n  //   }\n  //   if (billNoHMS) {\n  //     newBillNoEg += `${dateFormate(new Date(), 'hhmmss')}`\n  //   }\n  //   if (billNoRandomNum) {\n  //     newBillNoEg += `${getRandomNum(billNoRandomNum)}`\n  //   }\n  //   dispatchFormData({ billNoPreview: newBillNoEg })\n  // }, [billNoYMD, billNoHMS, billNoPrefix, billNoRandomNum])\n\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-modal-body\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Form, {\n    layout: \"vertical\",\n    form: form,\n    labelWidth: 100,\n    wrapperWidth: \"100%\",\n    onValuesChange: function onValuesChange(changedValue, values) {\n      console.log('form', changedValue, values);\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()(\"\".concat(className, \"-form-item\"), \"\".concat(className, \"-form-item-vertical\"))\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-form-item-label\")\n  }, \"\\u7F16\\u7801\\u793A\\u610F\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-form-item-desc\")\n  }, billNoPreview || '-')), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Form.Item, {\n    label: \"\\u524D\\u7F00\\u5B57\\u7B26\",\n    name: \"billNoPrefix\",\n    required: true,\n    validateTrigger: \"onChange\",\n    className: \"\".concat(className, \"-form-item-validate-nowrap\"),\n    rules: [{\n      required: true,\n      message: '请输入前缀字符'\n    }, {\n      type: 'string',\n      pattern: /^([a-zA-Z]|[-@#$%^&*_]|\\[|\\])+$/,\n      message: '仅支持输入大小写字母、特殊字符（-@#$%^&*[]_）'\n    }]\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Input, {\n    type: \"text\",\n    borderType: \"bordered\",\n    size: \"middle\",\n    value: formData.billNoPrefix,\n    placeholder: \"\\u6700\\u591A\\u4E0D\\u8D85\\u8FC78\\u4F4D\",\n    maxLength: 8,\n    onChange: handleInputChange\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()(\"\".concat(className, \"-form-item\"), \"\".concat(className, \"-form-item-horizontal\"))\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-form-item-label\")\n  }, \"\\u5E74\\u6708\\u65E5\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Switch, {\n    checked: formData.billNoYMD,\n    onClick: function onClick() {\n      return handleSwitchChange('billNoYMD');\n    }\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()(\"\".concat(className, \"-form-item\"), \"\".concat(className, \"-form-item-horizontal\"))\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-form-item-label\")\n  }, \"\\u65F6\\u5206\\u79D2\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Switch, {\n    checked: formData.billNoHMS,\n    onClick: function onClick() {\n      return handleSwitchChange('billNoHMS');\n    }\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Form.Item, {\n    label: \"n\\u4F4D\\u968F\\u673A\\u6570\",\n    name: \"billNoRandomNum\",\n    required: true,\n    rules: [{\n      required: true,\n      message: '请选择n位随机数'\n    }]\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Select, {\n    placeholder: \"\\u8BF7\\u9009\\u62E9\",\n    borderType: \"bordered\",\n    value: formData.billNoRandomNum,\n    options: BILL_NO_RANDOM_OPTIONS,\n    onChange: handleRandomNumChange\n  }))));\n});\nvar ModalFooter = function ModalFooter(_ref3) {\n  var className = _ref3.className,\n    onCancel = _ref3.onCancel,\n    onConfirm = _ref3.onConfirm;\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-modal-footer\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Button, {\n    onClick: onCancel,\n    type: \"second\",\n    size: \"small\",\n    className: \"\".concat(className, \"-modal-cancel-btn\")\n  }, \"\\u53D6\\u6D88\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Button, {\n    type: \"primary\",\n    size: \"small\",\n    style: {\n      marginLeft: '12px'\n    },\n    onClick: onConfirm,\n    className: \"\".concat(className, \"-modal-ok-btn\")\n  }, \"\\u786E\\u5B9A\"));\n};\nvar BillNoSettingModal = function BillNoSettingModal(_ref4) {\n  var className = _ref4.className,\n    visible = _ref4.visible,\n    setVisible = _ref4.setVisible,\n    handleConfirm = _ref4.onConfirm;\n  var modalBodyRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n\n  // 点击确定\n  var onConfirm = function onConfirm() {\n    var saveForm = modalBodyRef.current.saveForm;\n    saveForm().then(function () {\n      handleConfirm === null || handleConfirm === void 0 || handleConfirm();\n      setVisible(false);\n    }).catch(function (e) {\n      console.warn(e);\n    });\n  };\n\n  // 点击取消\n  var onCancel = function onCancel() {\n    setVisible(false);\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Modal, {\n    mask: true,\n    visible: visible,\n    body: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(ModalBody, {\n      className: className,\n      ref: modalBodyRef\n    }),\n    bodyStyle: {\n      justifyContent: 'start',\n      alignItems: 'start',\n      overflowX: 'hidden',\n      overflowY: 'auto',\n      flexDirection: 'column'\n    },\n    titleIcon: null,\n    className: \"\".concat(className, \"-modal\"),\n    footer: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(ModalFooter, {\n      className: className,\n      onConfirm: onConfirm,\n      onCancel: onCancel\n    }),\n    maskClosable: false,\n    width: 320,\n    height: 438,\n    title: \"\\u8BBE\\u7F6E\\u8868\\u5355\\u7F16\\u53F7\\u683C\\u5F0F\",\n    closable: true,\n    destroyOnClose: true,\n    onCancel: onCancel,\n    onOk: onCancel\n  });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (BillNoSettingModal);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzY5Ni5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcUJBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFNQTtBQUVBO0FBSUE7QUFGQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFLQTtBQUVBO0FBS0E7QUFIQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvY29tcG9uZW50cy9CaWxsTm9TZXR0aW5nTW9kYWwudHN4P2JmNTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IEZDLCB1c2VSZWYsIGZvcndhcmRSZWYsIHVzZUNvbnRleHQsIHVzZVJlZHVjZXIsIHVzZUltcGVyYXRpdmVIYW5kbGUsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgTW9kYWwsIEJ1dHRvbiwgRm9ybSwgSW5wdXQsIFN3aXRjaCwgU2VsZWN0IH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xyXG5pbXBvcnQgeyBkYXRlRm9ybWF0ZSwgZ2V0UmFuZG9tTnVtIH0gZnJvbSAnLi4vdXRpbHMnXHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnXHJcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQnXHJcblxyXG5pbnRlcmZhY2UgQmlsbE5vU2V0dGluZ01vZGFsUHJvcHMge1xyXG4gIGNsYXNzTmFtZTogc3RyaW5nO1xyXG4gIHZpc2libGU6IGJvb2xlYW47XHJcbiAgc2V0VmlzaWJsZTogKHZpOiBib29sZWFuKSA9PiB2b2lkO1xyXG4gIG9uQ29uZmlybTogKCkgPT4gdm9pZDtcclxufVxyXG5cclxuaW50ZXJmYWNlIE1vZGFsQm9keVByb3BzIHtcclxuICBjbGFzc05hbWU6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIEZvcm1EYXRhIHtcclxuICBiaWxsTm9QcmV2aWV3OiBzdHJpbmc7XHJcbiAgYmlsbE5vUHJlZml4OiBzdHJpbmc7XHJcbiAgYmlsbE5vWU1EOiBib29sZWFuO1xyXG4gIGJpbGxOb0hNUzogYm9vbGVhbjtcclxuICBiaWxsTm9SYW5kb21OdW06IG51bWJlcjtcclxufVxyXG5cclxuY29uc3QgQklMTF9OT19SQU5ET01fT1BUSU9OUyA9IFtcclxuICB7IGxhYmVsOiAnNCcsIHZhbHVlOiA0IH0sXHJcbiAgeyBsYWJlbDogJzUnLCB2YWx1ZTogNSB9LFxyXG4gIHsgbGFiZWw6ICc2JywgdmFsdWU6IDYgfSxcclxuICB7IGxhYmVsOiAnNycsIHZhbHVlOiA3IH0sXHJcbiAgeyBsYWJlbDogJzgnLCB2YWx1ZTogOCB9LFxyXG4gIHsgbGFiZWw6ICc5JywgdmFsdWU6IDkgfSxcclxuICB7IGxhYmVsOiAnMTAnLCB2YWx1ZTogMTAgfVxyXG5dXHJcblxyXG5jb25zdCBCSUxMTk9fUEFUVEVSTiA9IC9eKFthLXpBLVpdfFstQCMkJV4mKl18XFxbfFxcXSkrJC9cclxuXHJcbmNvbnN0IG1lcmdlRGF0YVJlZHVjZXIgPSAoc3RhdGU6IEZvcm1EYXRhLCBuZXdEYXRhOiBQYXJ0aWFsPEZvcm1EYXRhPik6IEZvcm1EYXRhID0+IHtcclxuICByZXR1cm4geyAuLi5zdGF0ZSwgLi4ubmV3RGF0YSB9XHJcbn1cclxuXHJcbmNvbnN0IE1vZGFsQm9keTogRkM8TW9kYWxCb2R5UHJvcHM+ID0gZm9yd2FyZFJlZigoe1xyXG4gIGNsYXNzTmFtZVxyXG59LCByZWYpID0+IHtcclxuICBjb25zdCB7IGdldEJpbGxub1NldHRpbmcsIHNldEJpbGxub1NldHRpbmcgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxyXG4gIGNvbnN0IFtmb3JtXSA9IEZvcm0udXNlRm9ybSgpXHJcbiAgY29uc3QgW2Zvcm1EYXRhLCBkaXNwYXRjaEZvcm1EYXRhXSA9IHVzZVJlZHVjZXIobWVyZ2VEYXRhUmVkdWNlciwgZ2V0QmlsbG5vU2V0dGluZygpKVxyXG4gIGNvbnN0IHsgYmlsbE5vUHJldmlldywgYmlsbE5vWU1ELCBiaWxsTm9ITVMsIGJpbGxOb1ByZWZpeCwgYmlsbE5vUmFuZG9tTnVtIH0gPSBmb3JtRGF0YVxyXG5cclxuICAvKipcclxuICAgKiDnvJbnoIHnpLrmhI/vvIzlnKjlhbblroPlgLzlj5jljJbnmoTml7blgJnop6blj5FcclxuICAgKi9cclxuICBjb25zdCBoYW5kbGVDaGFuZ2VCaWxsTm9QcmV2aWV3ID0gdXNlQ2FsbGJhY2soKGRhdGEpID0+IHtcclxuICAgIGNvbnN0IHsgYmlsbE5vUHJldmlldywgYmlsbE5vWU1ELCBiaWxsTm9ITVMsIGJpbGxOb1ByZWZpeCwgYmlsbE5vUmFuZG9tTnVtIH0gPSBkYXRhXHJcbiAgICAvLyBsZXQgbmV3QmlsbE5vRWcgPSBiaWxsTm9QcmV2aWV3ID8gYmlsbE5vUHJldmlldy5yZXBsYWNlKC9eKChbYS16QS1aXXxbLUAjJCVeJipdfFxcW3xcXF0pKylcXGQrJC9nLCAnJDEnKSA6ICcnXHJcbiAgICBsZXQgbmV3QmlsbE5vRWcgPSBiaWxsTm9QcmVmaXggfHwgJydcclxuICAgIC8vIGlmIChiaWxsTm9QcmVmaXggJiYgQklMTE5PX1BBVFRFUk4udGVzdChiaWxsTm9QcmVmaXgpKSB7XHJcbiAgICAvLyAgIG5ld0JpbGxOb0VnID0gYmlsbE5vUHJlZml4XHJcbiAgICAvLyB9IGVsc2Uge1xyXG4gICAgLy8gICByZXR1cm5cclxuICAgIC8vIH1cclxuICAgIGlmIChiaWxsTm9ZTUQpIHtcclxuICAgICAgbmV3QmlsbE5vRWcgKz0gYCR7ZGF0ZUZvcm1hdGUobmV3IERhdGUoKSwgJ3l5eXlNTWRkJyl9YFxyXG4gICAgfVxyXG4gICAgaWYgKGJpbGxOb0hNUykge1xyXG4gICAgICBuZXdCaWxsTm9FZyArPSBgJHtkYXRlRm9ybWF0ZShuZXcgRGF0ZSgpLCAnaGhtbXNzJyl9YFxyXG4gICAgfVxyXG4gICAgaWYgKGJpbGxOb1JhbmRvbU51bSkge1xyXG4gICAgICBuZXdCaWxsTm9FZyArPSBgJHtnZXRSYW5kb21OdW0oYmlsbE5vUmFuZG9tTnVtKX1gXHJcbiAgICB9XHJcbiAgICBkaXNwYXRjaEZvcm1EYXRhKHsgYmlsbE5vUHJldmlldzogbmV3QmlsbE5vRWcgfSlcclxuICB9LCBbYmlsbE5vWU1ELCBiaWxsTm9ITVMsIGJpbGxOb1ByZWZpeCwgYmlsbE5vUmFuZG9tTnVtXSlcclxuXHJcbiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSB1c2VDYWxsYmFjaygoZSkgPT4ge1xyXG4gICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZVxyXG4gICAgZGlzcGF0Y2hGb3JtRGF0YSh7IGJpbGxOb1ByZWZpeDogdmFsdWUgfSlcclxuICAgIGhhbmRsZUNoYW5nZUJpbGxOb1ByZXZpZXcoeyAuLi5mb3JtRGF0YSwgYmlsbE5vUHJlZml4OiB2YWx1ZSB9KVxyXG4gIH0sIFtkaXNwYXRjaEZvcm1EYXRhLCBoYW5kbGVDaGFuZ2VCaWxsTm9QcmV2aWV3XSlcclxuXHJcbiAgY29uc3QgaGFuZGxlU3dpdGNoQ2hhbmdlID0gdXNlQ2FsbGJhY2soKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCBuZXdWYWx1ZSA9ICFmb3JtRGF0YVtrZXldXHJcbiAgICBkaXNwYXRjaEZvcm1EYXRhKHsgW2tleV06IG5ld1ZhbHVlIH0pXHJcbiAgICBoYW5kbGVDaGFuZ2VCaWxsTm9QcmV2aWV3KHsgLi4uZm9ybURhdGEsIFtrZXldOiBuZXdWYWx1ZSB9KVxyXG4gIH0sIFtmb3JtRGF0YSwgZGlzcGF0Y2hGb3JtRGF0YSwgaGFuZGxlQ2hhbmdlQmlsbE5vUHJldmlld10pXHJcblxyXG4gIGNvbnN0IGhhbmRsZVJhbmRvbU51bUNoYW5nZSA9IHVzZUNhbGxiYWNrKCh2YWx1ZTogbnVtYmVyKSA9PiB7XHJcbiAgICBkaXNwYXRjaEZvcm1EYXRhKHsgYmlsbE5vUmFuZG9tTnVtOiB2YWx1ZSB9KVxyXG4gICAgaGFuZGxlQ2hhbmdlQmlsbE5vUHJldmlldyh7IC4uLmZvcm1EYXRhLCBiaWxsTm9SYW5kb21OdW06IHZhbHVlIH0pXHJcbiAgfSwgW2Rpc3BhdGNoRm9ybURhdGEsIGhhbmRsZUNoYW5nZUJpbGxOb1ByZXZpZXddKVxyXG5cclxuICAvLyDmoKHpqozooajljZXmmK/lkKblj6/ku6Xkv53lrZjvvIxyZXR1cm7kuIDkuKpwcm9taXNlXHJcbiAgY29uc3Qgc2F2ZUZvcm0gPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBmb3JtXHJcbiAgICAgICAgLnZhbGlkYXRlRmllbGRzKClcclxuICAgICAgICAudGhlbigoeyB2YWx1ZXMgfSkgPT4ge1xyXG4gICAgICAgICAgc2V0QmlsbG5vU2V0dGluZyhmb3JtRGF0YSlcclxuICAgICAgICAgIHJlc29sdmUodHJ1ZSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZSkgPT4gcmVqZWN0KGUpKVxyXG4gICAgfSlcclxuICB9LCBbc2V0QmlsbG5vU2V0dGluZywgZm9ybURhdGFdKVxyXG5cclxuICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc2F2ZUZvcm1cclxuICAgIH1cclxuICB9LCBbc2F2ZUZvcm1dKVxyXG5cclxuICAvLyB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gIC8vICAgbGV0IG5ld0JpbGxOb0VnID0gJydcclxuICAvLyAgIGlmIChiaWxsTm9QcmVmaXggJiYgQklMTE5PX1BBVFRFUk4udGVzdChiaWxsTm9QcmVmaXgpKSB7XHJcbiAgLy8gICAgIG5ld0JpbGxOb0VnID0gYmlsbE5vUHJlZml4XHJcbiAgLy8gICB9XHJcbiAgLy8gICBpZiAoYmlsbE5vWU1EKSB7XHJcbiAgLy8gICAgIG5ld0JpbGxOb0VnICs9IGAke2RhdGVGb3JtYXRlKG5ldyBEYXRlKCksICd5eXl5TU1kZCcpfWBcclxuICAvLyAgIH1cclxuICAvLyAgIGlmIChiaWxsTm9ITVMpIHtcclxuICAvLyAgICAgbmV3QmlsbE5vRWcgKz0gYCR7ZGF0ZUZvcm1hdGUobmV3IERhdGUoKSwgJ2hobW1zcycpfWBcclxuICAvLyAgIH1cclxuICAvLyAgIGlmIChiaWxsTm9SYW5kb21OdW0pIHtcclxuICAvLyAgICAgbmV3QmlsbE5vRWcgKz0gYCR7Z2V0UmFuZG9tTnVtKGJpbGxOb1JhbmRvbU51bSl9YFxyXG4gIC8vICAgfVxyXG4gIC8vICAgZGlzcGF0Y2hGb3JtRGF0YSh7IGJpbGxOb1ByZXZpZXc6IG5ld0JpbGxOb0VnIH0pXHJcbiAgLy8gfSwgW2JpbGxOb1lNRCwgYmlsbE5vSE1TLCBiaWxsTm9QcmVmaXgsIGJpbGxOb1JhbmRvbU51bV0pXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT17YCR7Y2xhc3NOYW1lfS1tb2RhbC1ib2R5YH0+XHJcbiAgICAgIDxGb3JtXHJcbiAgICAgICAgbGF5b3V0PSd2ZXJ0aWNhbCdcclxuICAgICAgICBmb3JtPXtmb3JtfVxyXG4gICAgICAgIGxhYmVsV2lkdGg9ezEwMH1cclxuICAgICAgICB3cmFwcGVyV2lkdGg9JzEwMCUnXHJcbiAgICAgICAgb25WYWx1ZXNDaGFuZ2U9eyhjaGFuZ2VkVmFsdWUsIHZhbHVlcykgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ2Zvcm0nLCBjaGFuZ2VkVmFsdWUsIHZhbHVlcylcclxuICAgICAgICB9fVxyXG4gICAgICA+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoYCR7Y2xhc3NOYW1lfS1mb3JtLWl0ZW1gLCBgJHtjbGFzc05hbWV9LWZvcm0taXRlbS12ZXJ0aWNhbGApfT5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9LWZvcm0taXRlbS1sYWJlbGB9Pue8lueggeekuuaEjzwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake2NsYXNzTmFtZX0tZm9ybS1pdGVtLWRlc2NgfT57YmlsbE5vUHJldmlldyB8fCAnLSd9PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPEZvcm0uSXRlbVxyXG4gICAgICAgICAgbGFiZWw9J+WJjee8gOWtl+espidcclxuICAgICAgICAgIG5hbWU9J2JpbGxOb1ByZWZpeCdcclxuICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICB2YWxpZGF0ZVRyaWdnZXI9J29uQ2hhbmdlJ1xyXG4gICAgICAgICAgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9LWZvcm0taXRlbS12YWxpZGF0ZS1ub3dyYXBgfVxyXG4gICAgICAgICAgcnVsZXM9e1tcclxuICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWJjee8gOWtl+espicgfSxcclxuICAgICAgICAgICAgeyB0eXBlOiAnc3RyaW5nJywgcGF0dGVybjogL14oW2EtekEtWl18Wy1AIyQlXiYqX118XFxbfFxcXSkrJC8sIG1lc3NhZ2U6ICfku4XmlK/mjIHovpPlhaXlpKflsI/lhpnlrZfmr43jgIHnibnmrorlrZfnrKbvvIgtQCMkJV4mKltdX++8iScgfVxyXG4gICAgICAgICAgXX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgdHlwZT0ndGV4dCdcclxuICAgICAgICAgICAgYm9yZGVyVHlwZT0nYm9yZGVyZWQnXHJcbiAgICAgICAgICAgIHNpemU9J21pZGRsZSdcclxuICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLmJpbGxOb1ByZWZpeH1cclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9J+acgOWkmuS4jei2hei/hzjkvY0nXHJcbiAgICAgICAgICAgIG1heExlbmd0aD17OH1cclxuICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUlucHV0Q2hhbmdlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L0Zvcm0uSXRlbT5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhgJHtjbGFzc05hbWV9LWZvcm0taXRlbWAsIGAke2NsYXNzTmFtZX0tZm9ybS1pdGVtLWhvcml6b250YWxgKX0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7Y2xhc3NOYW1lfS1mb3JtLWl0ZW0tbGFiZWxgfT7lubTmnIjml6U8L2Rpdj5cclxuICAgICAgICAgIDxTd2l0Y2ggY2hlY2tlZD17Zm9ybURhdGEuYmlsbE5vWU1EfSBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTd2l0Y2hDaGFuZ2UoJ2JpbGxOb1lNRCcpfSAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGAke2NsYXNzTmFtZX0tZm9ybS1pdGVtYCwgYCR7Y2xhc3NOYW1lfS1mb3JtLWl0ZW0taG9yaXpvbnRhbGApfT5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9LWZvcm0taXRlbS1sYWJlbGB9PuaXtuWIhuenkjwvZGl2PlxyXG4gICAgICAgICAgPFN3aXRjaCBjaGVja2VkPXtmb3JtRGF0YS5iaWxsTm9ITVN9IG9uQ2xpY2s9eygpID0+IGhhbmRsZVN3aXRjaENoYW5nZSgnYmlsbE5vSE1TJyl9IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPEZvcm0uSXRlbVxyXG4gICAgICAgICAgbGFiZWw9J27kvY3pmo/mnLrmlbAnXHJcbiAgICAgICAgICBuYW1lPSdiaWxsTm9SYW5kb21OdW0nXHJcbiAgICAgICAgICByZXF1aXJlZFxyXG4gICAgICAgICAgcnVsZXM9e1tcclxuICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqW7kvY3pmo/mnLrmlbAnIH1cclxuICAgICAgICAgIF19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPFNlbGVjdFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj0n6K+36YCJ5oupJ1xyXG4gICAgICAgICAgICBib3JkZXJUeXBlPSdib3JkZXJlZCdcclxuICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLmJpbGxOb1JhbmRvbU51bX1cclxuICAgICAgICAgICAgb3B0aW9ucz17QklMTF9OT19SQU5ET01fT1BUSU9OU31cclxuICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVJhbmRvbU51bUNoYW5nZX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9Gb3JtLkl0ZW0+XHJcbiAgICAgIDwvRm9ybT5cclxuICAgIDwvZGl2PlxyXG4gIClcclxufSlcclxuXHJcbmNvbnN0IE1vZGFsRm9vdGVyID0gKHtcclxuICBjbGFzc05hbWUsXHJcbiAgb25DYW5jZWwsXHJcbiAgb25Db25maXJtXHJcbn0pID0+IHtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9e2Ake2NsYXNzTmFtZX0tbW9kYWwtZm9vdGVyYH0+XHJcbiAgICAgIDxCdXR0b24gb25DbGljaz17b25DYW5jZWx9IHR5cGU9J3NlY29uZCcgc2l6ZT0nc21hbGwnIGNsYXNzTmFtZT17YCR7Y2xhc3NOYW1lfS1tb2RhbC1jYW5jZWwtYnRuYH0+5Y+W5raIPC9CdXR0b24+XHJcbiAgICAgIDxCdXR0b25cclxuICAgICAgICB0eXBlPSdwcmltYXJ5J1xyXG4gICAgICAgIHNpemU9J3NtYWxsJ1xyXG4gICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICBtYXJnaW5MZWZ0OiAnMTJweCdcclxuICAgICAgICB9fVxyXG4gICAgICAgIG9uQ2xpY2s9e29uQ29uZmlybX1cclxuICAgICAgICBjbGFzc05hbWU9e2Ake2NsYXNzTmFtZX0tbW9kYWwtb2stYnRuYH1cclxuICAgICAgPuehruWumlxyXG4gICAgICA8L0J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG4gIClcclxufVxyXG5cclxuY29uc3QgQmlsbE5vU2V0dGluZ01vZGFsOiBGQzxCaWxsTm9TZXR0aW5nTW9kYWxQcm9wcz4gPSAoe1xyXG4gIGNsYXNzTmFtZSxcclxuICB2aXNpYmxlLFxyXG4gIHNldFZpc2libGUsXHJcbiAgb25Db25maXJtOiBoYW5kbGVDb25maXJtXHJcbn0pID0+IHtcclxuICBjb25zdCBtb2RhbEJvZHlSZWYgPSB1c2VSZWYobnVsbClcclxuXHJcbiAgLy8g54K55Ye756Gu5a6aXHJcbiAgY29uc3Qgb25Db25maXJtID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyBzYXZlRm9ybSB9ID0gbW9kYWxCb2R5UmVmLmN1cnJlbnRcclxuICAgIHNhdmVGb3JtKCkudGhlbigoKSA9PiB7XHJcbiAgICAgIGhhbmRsZUNvbmZpcm0/LigpXHJcbiAgICAgIHNldFZpc2libGUoZmFsc2UpXHJcbiAgICB9KS5jYXRjaChlID0+IHtcclxuICAgICAgY29uc29sZS53YXJuKGUpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLy8g54K55Ye75Y+W5raIXHJcbiAgY29uc3Qgb25DYW5jZWwgPSAoKSA9PiB7XHJcbiAgICBzZXRWaXNpYmxlKGZhbHNlKVxyXG4gIH1cclxuICByZXR1cm4gKFxyXG4gICAgPE1vZGFsXHJcbiAgICAgIG1hc2tcclxuICAgICAgdmlzaWJsZT17dmlzaWJsZX1cclxuICAgICAgYm9keT17PE1vZGFsQm9keSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gcmVmPXttb2RhbEJvZHlSZWZ9IC8+fVxyXG4gICAgICBib2R5U3R5bGU9e3tcclxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3N0YXJ0JyxcclxuICAgICAgICBhbGlnbkl0ZW1zOiAnc3RhcnQnLFxyXG4gICAgICAgIG92ZXJmbG93WDogJ2hpZGRlbicsXHJcbiAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXHJcbiAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbidcclxuICAgICAgfX1cclxuICAgICAgdGl0bGVJY29uPXtudWxsfVxyXG4gICAgICBjbGFzc05hbWU9e2Ake2NsYXNzTmFtZX0tbW9kYWxgfVxyXG4gICAgICBmb290ZXI9ezxNb2RhbEZvb3RlciBjbGFzc05hbWU9e2NsYXNzTmFtZX0gb25Db25maXJtPXtvbkNvbmZpcm19IG9uQ2FuY2VsPXtvbkNhbmNlbH0gLz59XHJcbiAgICAgIG1hc2tDbG9zYWJsZT17ZmFsc2V9XHJcbiAgICAgIHdpZHRoPXszMjB9XHJcbiAgICAgIGhlaWdodD17NDM4fVxyXG4gICAgICB0aXRsZT0n6K6+572u6KGo5Y2V57yW5Y+35qC85byPJ1xyXG4gICAgICBjbG9zYWJsZVxyXG4gICAgICBkZXN0cm95T25DbG9zZVxyXG4gICAgICBvbkNhbmNlbD17b25DYW5jZWx9XHJcbiAgICAgIG9uT2s9e29uQ2FuY2VsfVxyXG4gICAgLz5cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJpbGxOb1NldHRpbmdNb2RhbFxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7696\n");

/***/ }),

/***/ 30488:
/*!*************************************************!*\
  !*** ./src/components/BillQuickFinderModal.tsx ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ 28429);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/values */ 73020);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../hooks/useQueryEventData */ 23312);\n/* harmony import */ var _hooks_useListTreeConfigParser__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../hooks/useListTreeConfigParser */ 13276);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils */ 41232);\n/* harmony import */ var _utils_treeUtils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../utils/treeUtils */ 31340);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_18__);\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\nvar dfs = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_17__.treeUtils.dfs;\nvar reducer = function reducer(state, action) {\n  var type = action.type,\n    data = action.data;\n  return actionMap[type] ? actionMap[type](state, data) : state;\n};\nvar updateState = function updateState(state, data) {\n  return data;\n};\nvar updateRelationFormId = function updateRelationFormId(state, data) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    relationFormId: data\n  });\n};\nvar updateFilterInfos = function updateFilterInfos(state, data) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    filterInfos: data\n  });\n};\nvar updateSortInfos = function updateSortInfos(state, data) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    sortInfos: data\n  });\n};\nvar updateResult = function updateResult(state, data) {\n  return _objectSpread(_objectSpread({}, state), {}, {\n    result: data\n  });\n};\nvar actionMap = {\n  updateRelationFormId: updateRelationFormId,\n  updateFilterInfos: updateFilterInfos,\n  updateSortInfos: updateSortInfos,\n  updateResult: updateResult,\n  updateState: updateState\n};\nvar BillQuickFinderModal = function BillQuickFinderModal(props) {\n  var _Form$useForm = kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__.Form.useForm(),\n    _Form$useForm2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_Form$useForm, 1),\n    form = _Form$useForm2[0];\n  var visibleProps = props.visible,\n    onClose = props.onClose,\n    invokeActions = props.invokeActions,\n    queryFormValue = props.queryFormValue,\n    refBillData = props.refBillData,\n    onConfirm = props.onConfirm,\n    field = props.field,\n    compareTypesMap = props.compareTypesMap,\n    curFormId = props.formId;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useContext)(_context__WEBPACK_IMPORTED_MODULE_10__.DesignerContext),\n    prefixCls = _useContext.prefixCls,\n    baseUrl = _useContext.baseUrl,\n    onDownLoad = _useContext.onDownLoad,\n    getControlText = _useContext.getControlText,\n    batchInvoke = _useContext.batchInvoke,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    curListTreeApi = _useContext.curListTreeApi,\n    fetchListTree = _useContext.fetchListTree;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useState)(visibleProps),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState, 2),\n    visible = _useState2[0],\n    setVisible = _useState2[1];\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useState)({}),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState3, 2),\n    fieldRecordsMap = _useState4[0],\n    setFieldRecordsMap = _useState4[1];\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useReducer)(reducer, queryFormValue),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useReducer, 2),\n    state = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  var fieldName = field.Key;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    metaContext = _getKdesignerApi.meta;\n  var rootId = dataContext.getRootId();\n  var _useState5 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useState)({}),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState5, 2),\n    validData = _useState6[0],\n    setValidData = _useState6[1];\n  var billQuickFinderRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useRef)();\n  var addControlAction = function addControlAction(methodName, listener) {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_18__.eventBus.on(methodName, listener);\n  };\n  var onBatchInvoke = function onBatchInvoke(actionName, args) {\n    var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    batchInvoke(actionName, field.Key, args, params);\n  };\n  var invokeGetCurFormListConfig = function invokeGetCurFormListConfig() {\n    fetchListTree();\n  };\n  var batchInvokeQuery = function batchInvokeQuery(id) {\n    var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _args$filter = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(args),\n      filter = _args$filter === void 0 ? '' : _args$filter,\n      _args$search = args.search,\n      search = _args$search === void 0 ? '' : _args$search,\n      _args$order_by = args.order_by,\n      order_by = _args$order_by === void 0 ? '' : _args$order_by,\n      _args$select = args.select,\n      select = _args$select === void 0 ? '' : _args$select,\n      _args$page_size = args.page_size,\n      page_size = _args$page_size === void 0 ? 10 : _args$page_size,\n      _args$page_no = args.page_no,\n      page_no = _args$page_no === void 0 ? 1 : _args$page_no,\n      _args$ids = args.ids,\n      ids = _args$ids === void 0 ? [] : _args$ids;\n    if (state.relationFormId === curFormId) {\n      var nodeData = dfs(curListFilterConfig, function (item) {\n        return item.entityId === id;\n      });\n      if (nodeData !== null && nodeData !== void 0 && nodeData.isDraftField) {\n        return;\n      }\n    }\n    batchInvoke('query', 'nocodeformdesigner', [id, {\n      filter: filter,\n      // 数据过滤\n      search: search,\n      // 搜索内容\n      order_by: order_by,\n      // 排序\n      select: select,\n      // 字段\n      page_size: page_size,\n      // 每页行数\n      page_no: page_no,\n      ids: ids // 选中的ids\n    }]);\n  };\n  var batchInvokeListConfig = function batchInvokeListConfig(id) {\n    batchInvoke('listconfig', 'nocodeformdesigner', [id]);\n  };\n  // const meta = {\n  //   propsDisplay: \"name,number,gender,phone,email\",\n  //   sat: true,\n  //   sem: false,\n  //   showType: \"2\",\n  //   sti: true,\n  //   type: \"refbilllist\",\n  //   vas: \"underline\",\n  //   l: 52,\n  //   mi: false,\n  //   multi: 0,\n  //   columnSpan: 4,\n  //   dataRange: { min: '0', max: '3' },\n  //   dispSelected: 1,\n  //   emo: false,\n  //   ShowClearButton: true,\n  //   Status: \"0\",\n  //   TitleArea: \"show\",\n  //   btnpos: \"default\",\n  //   FieldType: \"NoCodeMulRefBillField\"\n  // }\n  // const handleInputChange = (v) => {\n  //   let value\n  //   if (typeof v === 'string') {\n  //     value = v\n  //   } else if (Array.isArray(v)) {\n  //       value = v.join(',')\n  //   }\n  //   handleChange(JSON.stringify({\n  //     valueType: 0,\n  //     value\n  //   }))\n  // }\n  var handleFilterChange = function handleFilterChange(configuredFilterItems) {\n    console.log('handleFilterChange', configuredFilterItems);\n    dispatch({\n      type: 'updateFilterInfos',\n      data: configuredFilterItems\n    });\n  };\n  var refBillProps = {\n    baseUrl: baseUrl,\n    batchInvoke: onBatchInvoke,\n    getControlText: getControlText,\n    addControlAction: addControlAction,\n    onDownLoad: onDownLoad,\n    batchInvokeListConfig: batchInvokeListConfig,\n    batchInvokeQuery: batchInvokeQuery\n  };\n\n  /* useEffect(() => {\n    dispatch({ type: 'updateState', data: queryFormValue })\n  }, [queryFormValue]) */\n\n  // 获取筛选项\n  var relationFormListFilterConfig = (0,_hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_13__[\"default\"])({\n    id: fieldName,\n    formId: state.relationFormId,\n    eventName: 'setListTreeConfig',\n    parser: function parser(_ref) {\n      var data = _ref.data;\n      return (0,_utils__WEBPACK_IMPORTED_MODULE_15__.listFilterParser)(data, data, compareTypesMap);\n    },\n    defaultValue: []\n  });\n  var curListFilterConfig = (0,_hooks_useListTreeConfigParser__WEBPACK_IMPORTED_MODULE_14__[\"default\"])({\n    api: curListTreeApi,\n    parser: function parser(data) {\n      return (0,_utils__WEBPACK_IMPORTED_MODULE_15__.listFilterParser)(data, data, compareTypesMap);\n    }\n  });\n  var listFilterConfig = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useMemo)(function () {\n    if (!state.relationFormId) return [];\n    return state.relationFormId === curFormId ? curListFilterConfig : relationFormListFilterConfig;\n  }, [state.relationFormId, curFormId, curListFilterConfig, relationFormListFilterConfig]);\n  var fieldData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useMemo)(function () {\n    var rootControl = dataContext.findControl(rootId);\n    var Key = rootControl.Key,\n      Name = rootControl.Name;\n    var rootNode = {\n      key: Key,\n      title: Name,\n      selectable: false,\n      children: (0,_utils_treeUtils__WEBPACK_IMPORTED_MODULE_16__.transformListConfigToVariableTree)({\n        metaApi: metaContext,\n        options: curListFilterConfig\n      })\n    };\n    return [rootNode];\n  }, [curListFilterConfig, rootId]);\n  var fieldRecords = (0,_hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_13__[\"default\"])({\n    id: fieldName,\n    formId: state.relationFormId,\n    eventName: 'filterItemLook'\n  });\n  var configuredFilterItems = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useMemo)(function () {\n    if (Array.isArray(state.filterInfos)) {\n      var _context;\n      return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default()(_context = state.filterInfos).call(_context, function (item) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          value: typeof item.value === 'string' ? JSON.parse(item.value) : item.value || []\n        });\n      });\n    }\n    return [];\n  }, [state.filterInfos]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useEffect)(function () {\n    var data = fieldRecords.data,\n      _fieldRecords$param = fieldRecords.param,\n      param = _fieldRecords$param === void 0 ? {} : _fieldRecords$param;\n    var enumField = param.enumField;\n    if (enumField) {\n      var items = configuredFilterItems === null || configuredFilterItems === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(configuredFilterItems).call(configuredFilterItems, function (item) {\n        return item.fieldName === enumField;\n      });\n      var fieldFilterConfig = dfs(listFilterConfig, function (node) {\n        return node.key === enumField;\n      });\n      setFieldRecordsMap(function (fieldRecordsMap) {\n        return _objectSpread(_objectSpread({}, fieldRecordsMap), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, enumField, {\n          configuredFilter: {\n            enumEqCompareType: '001',\n            items: items\n          },\n          fieldFilterConfig: fieldFilterConfig,\n          groupInfo: data\n        }));\n      });\n    }\n  }, [fieldRecords, configuredFilterItems, listFilterConfig]);\n  var handleSortChange = function handleSortChange(sortInfos) {\n    console.log('handleSortChange', sortInfos);\n    dispatch({\n      type: 'updateSortInfos',\n      data: sortInfos\n    });\n  };\n  var handleResultChange = function handleResultChange(result) {\n    console.log('handleResultChange', result);\n    dispatch({\n      type: 'updateResult',\n      data: result\n    });\n  };\n  var handleRelationFormChange = function handleRelationFormChange(v) {\n    setValidData({\n      relationForm: !v\n    });\n    console.log('handleRelationFormChange', v);\n    dispatch({\n      type: 'updateRelationFormId',\n      data: v\n    });\n  };\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useEffect)(function () {\n    visible && state.relationFormId && invokeActions.invokeGetListConfig(state.relationFormId);\n  }, [state.relationFormId, visible]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useEffect)(function () {\n    if (visible) {\n      invokeGetCurFormListConfig();\n    }\n  }, [visible]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useEffect)(function () {\n    setVisible(visibleProps);\n  }, [visibleProps]);\n  var handleCloseModal = function handleCloseModal() {\n    setVisible(false);\n    onClose === null || onClose === void 0 || onClose();\n  };\n  var handleSave = function handleSave() {\n    validateFields().then(function (result) {\n      var _billQuickFinderRef$c, _billQuickFinderRef$c2;\n      var filterEmptyInfo = (_billQuickFinderRef$c = (_billQuickFinderRef$c2 = billQuickFinderRef.current).updateVerifyAndGetMsg) === null || _billQuickFinderRef$c === void 0 ? void 0 : _billQuickFinderRef$c.call(_billQuickFinderRef$c2);\n      if (!filterEmptyInfo.length) {\n        // 校验筛选值非空\n        var _result = {\n          valueType: 2,\n          value: state\n        };\n        if (!state.relationFormId) {\n          setValidData({\n            relationForm: true\n          });\n          return;\n        }\n        invokeActions.invokeSaveBizRule(_result);\n        onConfirm === null || onConfirm === void 0 || onConfirm(_result);\n      }\n    }).catch(function (e) {\n      console.warn(e);\n    });\n  };\n  var onGetFieldRecords = function onGetFieldRecords(v) {\n    invokeActions.invokeGetFieldRecords(state.relationFormId, v.fieldName);\n  };\n\n  // const variablesTree = useMemo(() => {\n  //   return getFieldTreeByMeta(formMeta)\n  // }, [formMeta])\n\n  var kuiConfig = {\n    prefixCls: 'kd'\n  };\n  var validateFields = function validateFields() {\n    return new (_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8___default())(function (resolve, reject) {\n      form.validateFields().then(function (_ref2) {\n        var values = _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_9___default()(_ref2);\n        resolve(values);\n      }).catch(function (e) {\n        return reject(e);\n      });\n    });\n  };\n  var body = /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__.ConfigProvider, {\n    value: kuiConfig\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__.Form, {\n    layout: \"vertical\",\n    form: form,\n    labelWidth: \"100%\",\n    wrapperWidth: \"100%\",\n    onValuesChange: function onValuesChange(changedValue, values) {\n      console.log('form', changedValue, values);\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_17__.BillQuickFinder, {\n    ref: billQuickFinderRef,\n    refBillData: refBillData,\n    validData: validData\n    // queryFormValue={state}\n    ,\n    configuredFilterItems: configuredFilterItems,\n    listFilterConfig: listFilterConfig || [],\n    onGetFieldRecords: onGetFieldRecords,\n    fieldRecords: fieldRecordsMap || {},\n    variablesTree: fieldData,\n    field: field,\n    onFilterChange: handleFilterChange,\n    relationFormId: state.relationFormId,\n    result: state.result,\n    sortInfos: state.sortInfos,\n    onSortChange: handleSortChange,\n    onRelationFormChange: handleRelationFormChange,\n    onResultChange: handleResultChange,\n    refBillProps: refBillProps\n  })));\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__.Modal, {\n    visible: visible\n    // visible\n    ,\n    className: \"\".concat(prefixCls, \"-def-editor-modal\"),\n    body: body\n    // style={{height: 'auto'}}\n    // height={'auto'}\n    ,\n    bodyClassName: \"\".concat(prefixCls, \"-def-editor-modal-body\"),\n    width: 640,\n    maskClosable: false,\n    destroyOnClose: true,\n    closable: true,\n    onCancel: handleCloseModal,\n    title: \"\\u67E5\\u627E\\u8868\\u5355\\u8BB0\\u5F55\",\n    footer: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(\"div\", null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__.Button, {\n      size: \"small\",\n      style: {\n        marginRight: '12px'\n      },\n      onClick: handleCloseModal\n    }, \"\\u53D6\\u6D88\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__.Button, {\n      size: \"small\",\n      type: \"primary\",\n      onClick: handleSave\n    }, \"\\u786E\\u5B9A\"))\n  });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (BillQuickFinderModal);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzA0ODguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBTUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2NvbXBvbmVudHMvQmlsbFF1aWNrRmluZGVyTW9kYWwudHN4PzU2NWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dCdcbmltcG9ydCBSZWFjdCwgeyBGQywgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ29udGV4dCwgdXNlTWVtbywgUmVhY3ROb2RlLCB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VSZWR1Y2VyIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBNb2RhbCwgQnV0dG9uLCBDb25maWdQcm92aWRlciBhcyBLVUlDb25maWdQcm92aWRlciwgRm9ybSB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcbmltcG9ydCB1c2VRdWVyeUV2ZW50RGF0YSBmcm9tICcuLi9ob29rcy91c2VRdWVyeUV2ZW50RGF0YSdcbmltcG9ydCB1c2VMaXN0VHJlZUNvbmZpZ1BhcnNlciBmcm9tICcuLi9ob29rcy91c2VMaXN0VHJlZUNvbmZpZ1BhcnNlcidcbmltcG9ydCB7IGdldEZpZWxkVHJlZUJ5TWV0YSwgbGlzdEZpbHRlclBhcnNlciB9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IHsgdHJhbnNmb3JtTGlzdENvbmZpZ1RvVmFyaWFibGVUcmVlIH0gZnJvbSAnLi4vdXRpbHMvdHJlZVV0aWxzJ1xuaW1wb3J0IHsgQmlsbFF1aWNrRmluZGVyLCB0cmVlVXRpbHMgfSBmcm9tICdub2NvZGVfY29tcG9uZW50L1dlYlVJJ1xuaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5cbmNvbnN0IHsgZGZzIH0gPSB0cmVlVXRpbHNcblxuY29uc3QgcmVkdWNlciA9IChzdGF0ZSwgYWN0aW9uKSA9PiB7XG4gIGNvbnN0IHsgdHlwZSwgZGF0YSB9ID0gYWN0aW9uXG4gIHJldHVybiBhY3Rpb25NYXBbdHlwZV0gPyBhY3Rpb25NYXBbdHlwZV0oc3RhdGUsIGRhdGEpIDogc3RhdGVcbn1cbmNvbnN0IHVwZGF0ZVN0YXRlID0gKHN0YXRlLCBkYXRhKSA9PiB7XG4gIHJldHVybiBkYXRhXG59XG5jb25zdCB1cGRhdGVSZWxhdGlvbkZvcm1JZCA9IChzdGF0ZSwgZGF0YSkgPT4ge1xuICByZXR1cm4geyAuLi5zdGF0ZSwgcmVsYXRpb25Gb3JtSWQ6IGRhdGEgfVxufVxuY29uc3QgdXBkYXRlRmlsdGVySW5mb3MgPSAoc3RhdGUsIGRhdGEpID0+IHtcbiAgcmV0dXJuIHsgLi4uc3RhdGUsIGZpbHRlckluZm9zOiBkYXRhIH1cbn1cbmNvbnN0IHVwZGF0ZVNvcnRJbmZvcyA9IChzdGF0ZSwgZGF0YSkgPT4ge1xuICByZXR1cm4geyAuLi5zdGF0ZSwgc29ydEluZm9zOiBkYXRhIH1cbn1cbmNvbnN0IHVwZGF0ZVJlc3VsdCA9IChzdGF0ZSwgZGF0YSkgPT4ge1xuICByZXR1cm4geyAuLi5zdGF0ZSwgcmVzdWx0OiBkYXRhIH1cbn1cbmNvbnN0IGFjdGlvbk1hcCA9IHtcbiAgdXBkYXRlUmVsYXRpb25Gb3JtSWQsXG4gIHVwZGF0ZUZpbHRlckluZm9zLFxuICB1cGRhdGVTb3J0SW5mb3MsXG4gIHVwZGF0ZVJlc3VsdCxcbiAgdXBkYXRlU3RhdGVcbn1cbmNvbnN0IEJpbGxRdWlja0ZpbmRlck1vZGFsID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IFtmb3JtXSA9IEZvcm0udXNlRm9ybSgpXG4gIGNvbnN0IHtcbiAgICB2aXNpYmxlOiB2aXNpYmxlUHJvcHMsIG9uQ2xvc2UsIGludm9rZUFjdGlvbnMsIHF1ZXJ5Rm9ybVZhbHVlLCByZWZCaWxsRGF0YSxcbiAgICBvbkNvbmZpcm0sIGZpZWxkLCBjb21wYXJlVHlwZXNNYXAsXG4gICAgZm9ybUlkOiBjdXJGb3JtSWRcbiAgfSA9IHByb3BzXG4gIGNvbnN0IHtcbiAgICBwcmVmaXhDbHMsIGJhc2VVcmwsIG9uRG93bkxvYWQsXG4gICAgZ2V0Q29udHJvbFRleHQsIGJhdGNoSW52b2tlLFxuICAgIGdldEtkZXNpZ25lckFwaSwgY3VyTGlzdFRyZWVBcGksIGZldGNoTGlzdFRyZWVcbiAgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCBbdmlzaWJsZSwgc2V0VmlzaWJsZV0gPSB1c2VTdGF0ZSh2aXNpYmxlUHJvcHMpXG4gIGNvbnN0IFtmaWVsZFJlY29yZHNNYXAsIHNldEZpZWxkUmVjb3Jkc01hcF0gPSB1c2VTdGF0ZSh7fSlcbiAgY29uc3QgW3N0YXRlLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKHJlZHVjZXIsIHF1ZXJ5Rm9ybVZhbHVlKVxuICBjb25zdCB7IEtleTogZmllbGROYW1lIH0gPSBmaWVsZFxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0LCBtZXRhOiBtZXRhQ29udGV4dCB9ID0gZ2V0S2Rlc2lnbmVyQXBpKClcbiAgY29uc3Qgcm9vdElkID0gZGF0YUNvbnRleHQuZ2V0Um9vdElkKClcbiAgY29uc3QgW3ZhbGlkRGF0YSwgc2V0VmFsaWREYXRhXSA9IHVzZVN0YXRlKHt9KVxuICBjb25zdCBiaWxsUXVpY2tGaW5kZXJSZWYgPSB1c2VSZWYoKVxuXG4gIGNvbnN0IGFkZENvbnRyb2xBY3Rpb24gPSAobWV0aG9kTmFtZSwgbGlzdGVuZXIpID0+IHtcbiAgICBldmVudEJ1cy5vbihtZXRob2ROYW1lLCBsaXN0ZW5lcilcbiAgfVxuICBjb25zdCBvbkJhdGNoSW52b2tlID0gKGFjdGlvbk5hbWUsIGFyZ3MsIHBhcmFtcyA9IFtdKSA9PiB7XG4gICAgYmF0Y2hJbnZva2UoYWN0aW9uTmFtZSwgZmllbGQuS2V5LCBhcmdzLCBwYXJhbXMpXG4gIH1cblxuICBjb25zdCBpbnZva2VHZXRDdXJGb3JtTGlzdENvbmZpZyA9ICgpID0+IHtcbiAgICBmZXRjaExpc3RUcmVlKClcbiAgfVxuXG4gIGNvbnN0IGJhdGNoSW52b2tlUXVlcnkgPSAoaWQsIGFyZ3MgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGZpbHRlciA9ICcnLCAvLyDmlbDmja7ov4fmu6RcbiAgICAgIHNlYXJjaCA9ICcnLCAvLyDmkJzntKLlhoXlrrlcbiAgICAgIG9yZGVyX2J5ID0gJycsIC8vIOaOkuW6j1xuICAgICAgc2VsZWN0ID0gJycsIC8vIOWtl+autVxuICAgICAgcGFnZV9zaXplID0gMTAsIC8vIOavj+mhteihjOaVsFxuICAgICAgcGFnZV9ubyA9IDEsXG4gICAgICBpZHMgPSBbXS8vIOmAieS4reeahGlkc1xuICAgIH0gPSBhcmdzXG4gICAgaWYgKHN0YXRlLnJlbGF0aW9uRm9ybUlkID09PSBjdXJGb3JtSWQpIHtcbiAgICAgIGNvbnN0IG5vZGVEYXRhID0gZGZzKGN1ckxpc3RGaWx0ZXJDb25maWcsIChpdGVtKSA9PiBpdGVtLmVudGl0eUlkID09PSBpZClcbiAgICAgIGlmIChub2RlRGF0YT8uaXNEcmFmdEZpZWxkKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cbiAgICBiYXRjaEludm9rZSgncXVlcnknLCAnbm9jb2RlZm9ybWRlc2lnbmVyJywgW2lkLCB7XG4gICAgICBmaWx0ZXIsIC8vIOaVsOaNrui/h+a7pFxuICAgICAgc2VhcmNoLCAvLyDmkJzntKLlhoXlrrlcbiAgICAgIG9yZGVyX2J5LCAvLyDmjpLluo9cbiAgICAgIHNlbGVjdCwgLy8g5a2X5q61XG4gICAgICBwYWdlX3NpemUsIC8vIOavj+mhteihjOaVsFxuICAgICAgcGFnZV9ubyxcbiAgICAgIGlkcy8vIOmAieS4reeahGlkc1xuICAgIH1dKVxuICB9XG4gIGNvbnN0IGJhdGNoSW52b2tlTGlzdENvbmZpZyA9IChpZCkgPT4ge1xuICAgIGJhdGNoSW52b2tlKCdsaXN0Y29uZmlnJywgJ25vY29kZWZvcm1kZXNpZ25lcicsIFtpZF0pXG4gIH1cbiAgLy8gY29uc3QgbWV0YSA9IHtcbiAgLy8gICBwcm9wc0Rpc3BsYXk6IFwibmFtZSxudW1iZXIsZ2VuZGVyLHBob25lLGVtYWlsXCIsXG4gIC8vICAgc2F0OiB0cnVlLFxuICAvLyAgIHNlbTogZmFsc2UsXG4gIC8vICAgc2hvd1R5cGU6IFwiMlwiLFxuICAvLyAgIHN0aTogdHJ1ZSxcbiAgLy8gICB0eXBlOiBcInJlZmJpbGxsaXN0XCIsXG4gIC8vICAgdmFzOiBcInVuZGVybGluZVwiLFxuICAvLyAgIGw6IDUyLFxuICAvLyAgIG1pOiBmYWxzZSxcbiAgLy8gICBtdWx0aTogMCxcbiAgLy8gICBjb2x1bW5TcGFuOiA0LFxuICAvLyAgIGRhdGFSYW5nZTogeyBtaW46ICcwJywgbWF4OiAnMycgfSxcbiAgLy8gICBkaXNwU2VsZWN0ZWQ6IDEsXG4gIC8vICAgZW1vOiBmYWxzZSxcbiAgLy8gICBTaG93Q2xlYXJCdXR0b246IHRydWUsXG4gIC8vICAgU3RhdHVzOiBcIjBcIixcbiAgLy8gICBUaXRsZUFyZWE6IFwic2hvd1wiLFxuICAvLyAgIGJ0bnBvczogXCJkZWZhdWx0XCIsXG4gIC8vICAgRmllbGRUeXBlOiBcIk5vQ29kZU11bFJlZkJpbGxGaWVsZFwiXG4gIC8vIH1cbiAgLy8gY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSAodikgPT4ge1xuICAvLyAgIGxldCB2YWx1ZVxuICAvLyAgIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcbiAgLy8gICAgIHZhbHVlID0gdlxuICAvLyAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2KSkge1xuICAvLyAgICAgICB2YWx1ZSA9IHYuam9pbignLCcpXG4gIC8vICAgfVxuICAvLyAgIGhhbmRsZUNoYW5nZShKU09OLnN0cmluZ2lmeSh7XG4gIC8vICAgICB2YWx1ZVR5cGU6IDAsXG4gIC8vICAgICB2YWx1ZVxuICAvLyAgIH0pKVxuICAvLyB9XG4gIGNvbnN0IGhhbmRsZUZpbHRlckNoYW5nZSA9IChjb25maWd1cmVkRmlsdGVySXRlbXMpID0+IHtcbiAgICBjb25zb2xlLmxvZygnaGFuZGxlRmlsdGVyQ2hhbmdlJywgY29uZmlndXJlZEZpbHRlckl0ZW1zKVxuICAgIGRpc3BhdGNoKHsgdHlwZTogJ3VwZGF0ZUZpbHRlckluZm9zJywgZGF0YTogY29uZmlndXJlZEZpbHRlckl0ZW1zIH0pXG4gIH1cblxuICBjb25zdCByZWZCaWxsUHJvcHMgPSB7XG4gICAgYmFzZVVybCxcbiAgICBiYXRjaEludm9rZTogb25CYXRjaEludm9rZSxcbiAgICBnZXRDb250cm9sVGV4dCxcbiAgICBhZGRDb250cm9sQWN0aW9uLFxuICAgIG9uRG93bkxvYWQsXG4gICAgYmF0Y2hJbnZva2VMaXN0Q29uZmlnLFxuICAgIGJhdGNoSW52b2tlUXVlcnlcbiAgfVxuXG4gIC8qIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiAndXBkYXRlU3RhdGUnLCBkYXRhOiBxdWVyeUZvcm1WYWx1ZSB9KVxuICB9LCBbcXVlcnlGb3JtVmFsdWVdKSAqL1xuXG4gIC8vIOiOt+WPluetm+mAiemhuVxuICBjb25zdCByZWxhdGlvbkZvcm1MaXN0RmlsdGVyQ29uZmlnID0gdXNlUXVlcnlFdmVudERhdGEoe1xuICAgIGlkOiBmaWVsZE5hbWUsXG4gICAgZm9ybUlkOiBzdGF0ZS5yZWxhdGlvbkZvcm1JZCxcbiAgICBldmVudE5hbWU6ICdzZXRMaXN0VHJlZUNvbmZpZycsXG4gICAgcGFyc2VyOiAoeyBkYXRhIH0pID0+IGxpc3RGaWx0ZXJQYXJzZXIoZGF0YSwgZGF0YSwgY29tcGFyZVR5cGVzTWFwKSxcbiAgICBkZWZhdWx0VmFsdWU6IFtdXG4gIH0pXG5cbiAgY29uc3QgY3VyTGlzdEZpbHRlckNvbmZpZyA9IHVzZUxpc3RUcmVlQ29uZmlnUGFyc2VyKHtcbiAgICBhcGk6IGN1ckxpc3RUcmVlQXBpLFxuICAgIHBhcnNlcjogKGRhdGEpID0+IGxpc3RGaWx0ZXJQYXJzZXIoZGF0YSwgZGF0YSwgY29tcGFyZVR5cGVzTWFwKVxuICB9KVxuXG4gIGNvbnN0IGxpc3RGaWx0ZXJDb25maWcgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXN0YXRlLnJlbGF0aW9uRm9ybUlkKSByZXR1cm4gW11cbiAgICByZXR1cm4gc3RhdGUucmVsYXRpb25Gb3JtSWQgPT09IGN1ckZvcm1JZCA/IGN1ckxpc3RGaWx0ZXJDb25maWcgOiByZWxhdGlvbkZvcm1MaXN0RmlsdGVyQ29uZmlnXG4gIH0sIFtzdGF0ZS5yZWxhdGlvbkZvcm1JZCwgY3VyRm9ybUlkLCBjdXJMaXN0RmlsdGVyQ29uZmlnLCByZWxhdGlvbkZvcm1MaXN0RmlsdGVyQ29uZmlnXSlcblxuICBjb25zdCBmaWVsZERhdGEgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCByb290Q29udHJvbCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKHJvb3RJZClcbiAgICBjb25zdCB7IEtleSwgTmFtZSB9ID0gcm9vdENvbnRyb2xcbiAgICBjb25zdCByb290Tm9kZSA9IHtcbiAgICAgIGtleTogS2V5LFxuICAgICAgdGl0bGU6IE5hbWUsXG4gICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgIGNoaWxkcmVuOiB0cmFuc2Zvcm1MaXN0Q29uZmlnVG9WYXJpYWJsZVRyZWUoe1xuICAgICAgICBtZXRhQXBpOiBtZXRhQ29udGV4dCxcbiAgICAgICAgb3B0aW9uczogY3VyTGlzdEZpbHRlckNvbmZpZ1xuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIFtyb290Tm9kZV1cbiAgfSwgW2N1ckxpc3RGaWx0ZXJDb25maWcsIHJvb3RJZF0pXG5cbiAgY29uc3QgZmllbGRSZWNvcmRzID0gdXNlUXVlcnlFdmVudERhdGEoeyBpZDogZmllbGROYW1lLCBmb3JtSWQ6IHN0YXRlLnJlbGF0aW9uRm9ybUlkLCBldmVudE5hbWU6ICdmaWx0ZXJJdGVtTG9vaycgfSlcblxuICBjb25zdCBjb25maWd1cmVkRmlsdGVySXRlbXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzdGF0ZS5maWx0ZXJJbmZvcykpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5maWx0ZXJJbmZvcy5tYXAoaXRlbSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICB2YWx1ZTogdHlwZW9mIGl0ZW0udmFsdWUgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShpdGVtLnZhbHVlKSA6IGl0ZW0udmFsdWUgfHwgW11cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIFtdXG4gIH0sIFtzdGF0ZS5maWx0ZXJJbmZvc10pXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBwYXJhbSA9IHt9IH0gPSBmaWVsZFJlY29yZHNcbiAgICBjb25zdCB7IGVudW1GaWVsZCB9ID0gcGFyYW1cbiAgICBpZiAoZW51bUZpZWxkKSB7XG4gICAgICBjb25zdCBpdGVtcyA9IGNvbmZpZ3VyZWRGaWx0ZXJJdGVtcz8uZmlsdGVyKGl0ZW0gPT4gaXRlbS5maWVsZE5hbWUgPT09IGVudW1GaWVsZClcbiAgICAgIGNvbnN0IGZpZWxkRmlsdGVyQ29uZmlnID0gZGZzKGxpc3RGaWx0ZXJDb25maWcsIChub2RlKSA9PiBub2RlLmtleSA9PT0gZW51bUZpZWxkKVxuICAgICAgc2V0RmllbGRSZWNvcmRzTWFwKChmaWVsZFJlY29yZHNNYXApID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5maWVsZFJlY29yZHNNYXAsXG4gICAgICAgICAgW2VudW1GaWVsZF06IHtcbiAgICAgICAgICAgIGNvbmZpZ3VyZWRGaWx0ZXI6IHtcbiAgICAgICAgICAgICAgZW51bUVxQ29tcGFyZVR5cGU6ICcwMDEnLFxuICAgICAgICAgICAgICBpdGVtc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpZWxkRmlsdGVyQ29uZmlnLFxuICAgICAgICAgICAgZ3JvdXBJbmZvOiBkYXRhXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfSwgW2ZpZWxkUmVjb3JkcywgY29uZmlndXJlZEZpbHRlckl0ZW1zLCBsaXN0RmlsdGVyQ29uZmlnXSlcblxuICBjb25zdCBoYW5kbGVTb3J0Q2hhbmdlID0gKHNvcnRJbmZvcykgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdoYW5kbGVTb3J0Q2hhbmdlJywgc29ydEluZm9zKVxuICAgIGRpc3BhdGNoKHsgdHlwZTogJ3VwZGF0ZVNvcnRJbmZvcycsIGRhdGE6IHNvcnRJbmZvcyB9KVxuICB9XG4gIGNvbnN0IGhhbmRsZVJlc3VsdENoYW5nZSA9IChyZXN1bHQpID0+IHtcbiAgICBjb25zb2xlLmxvZygnaGFuZGxlUmVzdWx0Q2hhbmdlJywgcmVzdWx0KVxuICAgIGRpc3BhdGNoKHsgdHlwZTogJ3VwZGF0ZVJlc3VsdCcsIGRhdGE6IHJlc3VsdCB9KVxuICB9XG4gIGNvbnN0IGhhbmRsZVJlbGF0aW9uRm9ybUNoYW5nZSA9ICh2KSA9PiB7XG4gICAgc2V0VmFsaWREYXRhKHtcbiAgICAgIHJlbGF0aW9uRm9ybTogIXZcbiAgICB9KVxuICAgIGNvbnNvbGUubG9nKCdoYW5kbGVSZWxhdGlvbkZvcm1DaGFuZ2UnLCB2KVxuICAgIGRpc3BhdGNoKHsgdHlwZTogJ3VwZGF0ZVJlbGF0aW9uRm9ybUlkJywgZGF0YTogdiB9KVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB2aXNpYmxlICYmIHN0YXRlLnJlbGF0aW9uRm9ybUlkICYmIGludm9rZUFjdGlvbnMuaW52b2tlR2V0TGlzdENvbmZpZyhzdGF0ZS5yZWxhdGlvbkZvcm1JZClcbiAgfSwgW3N0YXRlLnJlbGF0aW9uRm9ybUlkLCB2aXNpYmxlXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICBpbnZva2VHZXRDdXJGb3JtTGlzdENvbmZpZygpXG4gICAgfVxuICB9LCBbdmlzaWJsZV0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRWaXNpYmxlKHZpc2libGVQcm9wcylcbiAgfSwgW3Zpc2libGVQcm9wc10pXG5cbiAgY29uc3QgaGFuZGxlQ2xvc2VNb2RhbCA9ICgpID0+IHtcbiAgICBzZXRWaXNpYmxlKGZhbHNlKVxuICAgIG9uQ2xvc2U/LigpXG4gIH1cblxuICBjb25zdCBoYW5kbGVTYXZlID0gKCkgPT4ge1xuICAgIHZhbGlkYXRlRmllbGRzKCkudGhlbigocmVzdWx0OiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IGZpbHRlckVtcHR5SW5mbyA9IGJpbGxRdWlja0ZpbmRlclJlZi5jdXJyZW50LnVwZGF0ZVZlcmlmeUFuZEdldE1zZz8uKClcbiAgICAgIGlmICghZmlsdGVyRW1wdHlJbmZvLmxlbmd0aCkgeyAvLyDmoKHpqoznrZvpgInlgLzpnZ7nqbpcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgIHZhbHVlVHlwZTogMixcbiAgICAgICAgICB2YWx1ZTogc3RhdGVcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0YXRlLnJlbGF0aW9uRm9ybUlkKSB7XG4gICAgICAgICAgc2V0VmFsaWREYXRhKHtcbiAgICAgICAgICAgIHJlbGF0aW9uRm9ybTogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgaW52b2tlQWN0aW9ucy5pbnZva2VTYXZlQml6UnVsZShyZXN1bHQpXG4gICAgICAgIG9uQ29uZmlybT8uKHJlc3VsdClcbiAgICAgIH1cbiAgICB9KS5jYXRjaChlID0+IHtcbiAgICAgIGNvbnNvbGUud2FybihlKVxuICAgIH0pXG4gIH1cblxuICBjb25zdCBvbkdldEZpZWxkUmVjb3JkcyA9ICh2KSA9PiB7XG4gICAgaW52b2tlQWN0aW9ucy5pbnZva2VHZXRGaWVsZFJlY29yZHMoc3RhdGUucmVsYXRpb25Gb3JtSWQsIHYuZmllbGROYW1lKVxuICB9XG5cbiAgLy8gY29uc3QgdmFyaWFibGVzVHJlZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAvLyAgIHJldHVybiBnZXRGaWVsZFRyZWVCeU1ldGEoZm9ybU1ldGEpXG4gIC8vIH0sIFtmb3JtTWV0YV0pXG5cbiAgY29uc3Qga3VpQ29uZmlnID0ge1xuICAgIHByZWZpeENsczogJ2tkJ1xuICB9XG5cbiAgY29uc3QgdmFsaWRhdGVGaWVsZHMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGZvcm1cbiAgICAgICAgLnZhbGlkYXRlRmllbGRzKClcbiAgICAgICAgLnRoZW4oKHsgdmFsdWVzIH0pID0+IHtcbiAgICAgICAgICByZXNvbHZlKHZhbHVlcylcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlKSA9PiByZWplY3QoZSkpXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGJvZHkgPSAoXG4gICAgPEtVSUNvbmZpZ1Byb3ZpZGVyIHZhbHVlPXtrdWlDb25maWd9PlxuICAgICAgPEZvcm1cbiAgICAgICAgbGF5b3V0PSd2ZXJ0aWNhbCdcbiAgICAgICAgZm9ybT17Zm9ybX1cbiAgICAgICAgbGFiZWxXaWR0aD0nMTAwJSdcbiAgICAgICAgd3JhcHBlcldpZHRoPScxMDAlJ1xuICAgICAgICBvblZhbHVlc0NoYW5nZT17KGNoYW5nZWRWYWx1ZSwgdmFsdWVzKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2Zvcm0nLCBjaGFuZ2VkVmFsdWUsIHZhbHVlcylcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPEJpbGxRdWlja0ZpbmRlclxuICAgICAgICAgIHJlZj17YmlsbFF1aWNrRmluZGVyUmVmfVxuICAgICAgICAgIHJlZkJpbGxEYXRhPXtyZWZCaWxsRGF0YX1cbiAgICAgICAgICB2YWxpZERhdGE9e3ZhbGlkRGF0YX1cbiAgICAgICAgICAvLyBxdWVyeUZvcm1WYWx1ZT17c3RhdGV9XG4gICAgICAgICAgY29uZmlndXJlZEZpbHRlckl0ZW1zPXtjb25maWd1cmVkRmlsdGVySXRlbXN9XG4gICAgICAgICAgbGlzdEZpbHRlckNvbmZpZz17bGlzdEZpbHRlckNvbmZpZyB8fCBbXX1cbiAgICAgICAgICBvbkdldEZpZWxkUmVjb3Jkcz17b25HZXRGaWVsZFJlY29yZHN9XG4gICAgICAgICAgZmllbGRSZWNvcmRzPXtmaWVsZFJlY29yZHNNYXAgfHwge319XG4gICAgICAgICAgdmFyaWFibGVzVHJlZT17ZmllbGREYXRhfVxuICAgICAgICAgIGZpZWxkPXtmaWVsZH1cbiAgICAgICAgICBvbkZpbHRlckNoYW5nZT17aGFuZGxlRmlsdGVyQ2hhbmdlfVxuICAgICAgICAgIHJlbGF0aW9uRm9ybUlkPXtzdGF0ZS5yZWxhdGlvbkZvcm1JZH1cbiAgICAgICAgICByZXN1bHQ9e3N0YXRlLnJlc3VsdH1cbiAgICAgICAgICBzb3J0SW5mb3M9e3N0YXRlLnNvcnRJbmZvc31cbiAgICAgICAgICBvblNvcnRDaGFuZ2U9e2hhbmRsZVNvcnRDaGFuZ2V9XG4gICAgICAgICAgb25SZWxhdGlvbkZvcm1DaGFuZ2U9e2hhbmRsZVJlbGF0aW9uRm9ybUNoYW5nZX1cbiAgICAgICAgICBvblJlc3VsdENoYW5nZT17aGFuZGxlUmVzdWx0Q2hhbmdlfVxuICAgICAgICAgIHJlZkJpbGxQcm9wcz17cmVmQmlsbFByb3BzfVxuICAgICAgICAvPlxuICAgICAgPC9Gb3JtPlxuICAgIDwvS1VJQ29uZmlnUHJvdmlkZXI+XG4gIClcblxuICByZXR1cm4gKFxuICAgIDxNb2RhbFxuICAgICAgdmlzaWJsZT17dmlzaWJsZX1cbiAgICAgIC8vIHZpc2libGVcbiAgICAgIGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1kZWYtZWRpdG9yLW1vZGFsYH1cbiAgICAgIGJvZHk9e2JvZHl9XG4gICAgICAvLyBzdHlsZT17e2hlaWdodDogJ2F1dG8nfX1cbiAgICAgIC8vIGhlaWdodD17J2F1dG8nfVxuICAgICAgYm9keUNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1kZWYtZWRpdG9yLW1vZGFsLWJvZHlgfVxuICAgICAgd2lkdGg9ezY0MH1cbiAgICAgIG1hc2tDbG9zYWJsZT17ZmFsc2V9XG4gICAgICBkZXN0cm95T25DbG9zZVxuICAgICAgY2xvc2FibGVcbiAgICAgIG9uQ2FuY2VsPXtoYW5kbGVDbG9zZU1vZGFsfVxuICAgICAgdGl0bGU9J+afpeaJvuihqOWNleiusOW9lSdcbiAgICAgIGZvb3Rlcj17PGRpdj5cbiAgICAgICAgPEJ1dHRvbiBzaXplPSdzbWFsbCcgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6ICcxMnB4JyB9fSBvbkNsaWNrPXtoYW5kbGVDbG9zZU1vZGFsfT7lj5bmtog8L0J1dHRvbj5cbiAgICAgICAgPEJ1dHRvbiBzaXplPSdzbWFsbCcgdHlwZT0ncHJpbWFyeScgb25DbGljaz17aGFuZGxlU2F2ZX0+56Gu5a6aPC9CdXR0b24+XG4gICAgICA8L2Rpdj59XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBCaWxsUXVpY2tGaW5kZXJNb2RhbFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///30488\n");

/***/ }),

/***/ 66188:
/*!*******************************************!*\
  !*** ./src/components/BizButtonPanel.tsx ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _hooks_useGetSubControls__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../hooks/useGetSubControls */ 65988);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../constants */ 98092);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var _hooks_useDragDrop__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../hooks/useDragDrop */ 52708);\n/* harmony import */ var _hooks_useDataControlId__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../hooks/useDataControlId */ 32860);\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-05-10 18:57:06\n * @LastEditTime: 2023-06-27 16:27:21\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\n\nvar BizButtonPanel = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.memo)(function (_ref) {\n  var _context;\n  var field = _ref.field;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_context__WEBPACK_IMPORTED_MODULE_4__.DesignerContext),\n    prefixCls = _useContext.prefixCls,\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var rootClassName = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\n    return \"\".concat(prefixCls, \"-bizbuttonpanel\");\n  }, [prefixCls]);\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useReducer)(function (n) {\n      return n + 1;\n    }, 0),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useReducer, 2),\n    forceUpdate = _useReducer2[1];\n  var kdesignerApi = getKdesignerApi();\n  var dataContext = kdesignerApi.data,\n    selectionContext = kdesignerApi.selection;\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    var removeDataChangeListener = dataContext.addDataChangeListener(dataChangeListenerCallback);\n    return function () {\n      removeDataChangeListener();\n    };\n  }, []);\n  var findControl = dataContext.findControl;\n  var data = dataContext.getData();\n  var bizButtonPanelControl = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_2___default()(_context = data[_constants_propnames__WEBPACK_IMPORTED_MODULE_8__.ITEMS]).call(_context, function (item) {\n    return item[_constants_propnames__WEBPACK_IMPORTED_MODULE_8__._TYPE_] === _constants__WEBPACK_IMPORTED_MODULE_6__.NOCODE_BIZBUTTON_PANEL_AP;\n  }) || {};\n\n  // 需要过滤pc端显示或者是移动端显示的控件\n  var subControls = (0,_hooks_useGetSubControls__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(bizButtonPanelControl, data, {\n    ctrlType: _constants__WEBPACK_IMPORTED_MODULE_6__.NOCODE_BIZBUTTON_AP\n  }, findControl);\n  var dataChangeListenerCallback = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (_ref2) {\n    var type = _ref2.type,\n      value = _ref2.value;\n    if (Array.isArray(value === null || value === void 0 ? void 0 : value.Items)) {\n      var bizButtonPanelData = null;\n      var hasBizButton = false;\n      var items = value.Items;\n      for (var index = 0; index < items.length; index++) {\n        var item = items[index];\n        var _type = item[_constants_propnames__WEBPACK_IMPORTED_MODULE_8__._TYPE_];\n        if (_type === _constants__WEBPACK_IMPORTED_MODULE_6__.NOCODE_BIZBUTTON_PANEL_AP) {\n          bizButtonPanelData = item;\n        } else if (_type === _constants__WEBPACK_IMPORTED_MODULE_6__.NOCODE_BIZBUTTON_AP) {\n          hasBizButton = true;\n          break;\n        }\n      }\n\n      // 当没有业务按钮的时候，需要把面板也删除了\n      if (!hasBizButton && bizButtonPanelData) {\n        var bizButtonPanelId = bizButtonPanelData.Id;\n        var rootId = dataContext.getRootId();\n        dataContext.deleteControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.createDeleteAction)([bizButtonPanelId])).then(function () {\n          selectionContext.setSelect([rootId]);\n        });\n      }\n    }\n    forceUpdate();\n  }, []);\n  var dataControlId = (0,_hooks_useDataControlId__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(bizButtonPanelControl);\n  var dragDropProps = (0,_hooks_useDragDrop__WEBPACK_IMPORTED_MODULE_9__[\"default\"])();\n  if ((subControls === null || subControls === void 0 ? void 0 : subControls.length) === 0) {\n    return;\n  }\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    className: rootClassName\n  }, dataControlId, {\n    \"data-drag-id\": bizButtonPanelControl.Id\n  }, dragDropProps), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n    className: \"\".concat(rootClassName, \"-main\"),\n    id: \"biz-button-panel\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n    className: \"\".concat(rootClassName, \"-main-content\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n    className: \"\".concat(rootClassName, \"-main-scroll\")\n  }, subControls))));\n});\nBizButtonPanel.displayName = 'BizButtonPanel';\n/* harmony default export */ __webpack_exports__[\"default\"] = (BizButtonPanel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjYxODguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQUE7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBUUE7QUFFQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2NvbXBvbmVudHMvQml6QnV0dG9uUGFuZWwudHN4PzM3MDgiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMy0wNS0xMCAxODo1NzowNlxuICogQExhc3RFZGl0VGltZTogMjAyMy0wNi0yNyAxNjoyNzoyMVxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCwgeyBtZW1vLCB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWR1Y2VyIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0J1xuaW1wb3J0IHVzZUdldFN1YkNvbnRyb2xzIGZyb20gJy4uL2hvb2tzL3VzZUdldFN1YkNvbnRyb2xzJ1xuaW1wb3J0IHsgTk9DT0RFX0JJWkJVVFRPTl9BUCwgTk9DT0RFX0JJWkJVVFRPTl9QQU5FTF9BUCB9IGZyb20gJy4uL2NvbnN0YW50cydcbmltcG9ydCB7IERhdGFDaGFuZ2VFdmVudCwgY3JlYXRlRGVsZXRlQWN0aW9uIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgX1RZUEVfLCBJVEVNUyB9IGZyb20gJy4uL2NvbnN0YW50cy9wcm9wbmFtZXMnXG5pbXBvcnQgdXNlRHJhZ0NvbnRyb2wgZnJvbSAnLi4vaG9va3MvdXNlRHJhZ0NvbnRyb2wnXG5pbXBvcnQgdXNlRHJhZ0Ryb3AgZnJvbSAnLi4vaG9va3MvdXNlRHJhZ0Ryb3AnXG5pbXBvcnQgdXNlRGF0YUNvbnRyb2xJZCBmcm9tICcuLi9ob29rcy91c2VEYXRhQ29udHJvbElkJ1xuXG5jb25zdCBCaXpCdXR0b25QYW5lbCA9IG1lbW8oKHtcbiAgZmllbGRcbn0pID0+IHtcbiAgY29uc3QgeyBwcmVmaXhDbHMsIGdldEtkZXNpZ25lckFwaSB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IHJvb3RDbGFzc05hbWUgPSB1c2VNZW1vKCgpID0+IGAke3ByZWZpeENsc30tYml6YnV0dG9ucGFuZWxgLCBbcHJlZml4Q2xzXSlcblxuICBjb25zdCBbLCBmb3JjZVVwZGF0ZV0gPSB1c2VSZWR1Y2VyKG4gPT4gbiArIDEsIDApXG5cbiAgY29uc3Qga2Rlc2lnbmVyQXBpID0gZ2V0S2Rlc2lnbmVyQXBpKClcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCwgc2VsZWN0aW9uOiBzZWxlY3Rpb25Db250ZXh0IH0gPSBrZGVzaWduZXJBcGlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHJlbW92ZURhdGFDaGFuZ2VMaXN0ZW5lciA9IGRhdGFDb250ZXh0LmFkZERhdGFDaGFuZ2VMaXN0ZW5lcihkYXRhQ2hhbmdlTGlzdGVuZXJDYWxsYmFjaylcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcmVtb3ZlRGF0YUNoYW5nZUxpc3RlbmVyKClcbiAgICB9XG4gIH0sIFtdKVxuXG4gIGNvbnN0IGZpbmRDb250cm9sID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2xcblxuICBjb25zdCBkYXRhID0gZGF0YUNvbnRleHQuZ2V0RGF0YSgpXG5cbiAgY29uc3QgYml6QnV0dG9uUGFuZWxDb250cm9sID0gZGF0YVtJVEVNU10uZmluZChpdGVtID0+IGl0ZW1bX1RZUEVfXSA9PT0gTk9DT0RFX0JJWkJVVFRPTl9QQU5FTF9BUCkgfHwge31cblxuICAvLyDpnIDopoHov4fmu6RwY+err+aYvuekuuaIluiAheaYr+enu+WKqOerr+aYvuekuueahOaOp+S7tlxuICBjb25zdCBzdWJDb250cm9scyA9IHVzZUdldFN1YkNvbnRyb2xzKGJpekJ1dHRvblBhbmVsQ29udHJvbCwgZGF0YSwgeyBjdHJsVHlwZTogTk9DT0RFX0JJWkJVVFRPTl9BUCB9LCBmaW5kQ29udHJvbClcblxuICBjb25zdCBkYXRhQ2hhbmdlTGlzdGVuZXJDYWxsYmFjayA9IHVzZUNhbGxiYWNrKCh7IHR5cGUsIHZhbHVlIH06IERhdGFDaGFuZ2VFdmVudCkgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlPy5JdGVtcykpIHtcbiAgICAgIGxldCBiaXpCdXR0b25QYW5lbERhdGEgPSBudWxsXG4gICAgICBsZXQgaGFzQml6QnV0dG9uID0gZmFsc2VcbiAgICAgIGNvbnN0IGl0ZW1zID0gdmFsdWUuSXRlbXNcblxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW1zLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaW5kZXhdXG4gICAgICAgIGNvbnN0IHsgW19UWVBFX106IHR5cGUgfSA9IGl0ZW1cbiAgICAgICAgaWYgKHR5cGUgPT09IE5PQ09ERV9CSVpCVVRUT05fUEFORUxfQVApIHtcbiAgICAgICAgICBiaXpCdXR0b25QYW5lbERhdGEgPSBpdGVtXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gTk9DT0RFX0JJWkJVVFRPTl9BUCkge1xuICAgICAgICAgIGhhc0JpekJ1dHRvbiA9IHRydWVcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIOW9k+ayoeacieS4muWKoeaMiemSrueahOaXtuWAme+8jOmcgOimgeaKiumdouadv+S5n+WIoOmZpOS6hlxuICAgICAgaWYgKCFoYXNCaXpCdXR0b24gJiYgYml6QnV0dG9uUGFuZWxEYXRhKSB7XG4gICAgICAgIGNvbnN0IGJpekJ1dHRvblBhbmVsSWQgPSBiaXpCdXR0b25QYW5lbERhdGEuSWRcbiAgICAgICAgY29uc3Qgcm9vdElkID0gZGF0YUNvbnRleHQuZ2V0Um9vdElkKClcbiAgICAgICAgZGF0YUNvbnRleHQuZGVsZXRlQ29udHJvbChjcmVhdGVEZWxldGVBY3Rpb24oW2JpekJ1dHRvblBhbmVsSWRdKSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgc2VsZWN0aW9uQ29udGV4dC5zZXRTZWxlY3QoW3Jvb3RJZF0pXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIGZvcmNlVXBkYXRlKClcbiAgfSwgW10pXG5cbiAgY29uc3QgZGF0YUNvbnRyb2xJZCA9IHVzZURhdGFDb250cm9sSWQoYml6QnV0dG9uUGFuZWxDb250cm9sKVxuXG4gIGNvbnN0IGRyYWdEcm9wUHJvcHMgPSB1c2VEcmFnRHJvcCgpXG5cbiAgaWYgKHN1YkNvbnRyb2xzPy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Jvb3RDbGFzc05hbWV9IHsuLi5kYXRhQ29udHJvbElkfSBkYXRhLWRyYWctaWQ9e2JpekJ1dHRvblBhbmVsQ29udHJvbC5JZH0gey4uLmRyYWdEcm9wUHJvcHN9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3Jvb3RDbGFzc05hbWV9LW1haW5gfSBpZD0nYml6LWJ1dHRvbi1wYW5lbCc+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtyb290Q2xhc3NOYW1lfS1tYWluLWNvbnRlbnRgfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cm9vdENsYXNzTmFtZX0tbWFpbi1zY3JvbGxgfT5cbiAgICAgICAgICAgIHtzdWJDb250cm9sc31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59KVxuXG5CaXpCdXR0b25QYW5lbC5kaXNwbGF5TmFtZSA9ICdCaXpCdXR0b25QYW5lbCdcblxuZXhwb3J0IGRlZmF1bHQgQml6QnV0dG9uUGFuZWxcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///66188\n");

/***/ }),

/***/ 25012:
/*!***************************************!*\
  !*** ./src/components/BreadCrumb.tsx ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/from */ 13440);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 73980);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! resize-observer-polyfill */ 82504);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_12__);\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar getNameEllipsis = function getNameEllipsis() {\n  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var maxCount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;\n  if (!name) return '';\n  return _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_3___default()(name).length > maxCount ? _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(name).call(name, 0, maxCount) + '...' : name;\n};\nvar BreadcrumbItem = function BreadcrumbItem(props) {\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useContext)(_context__WEBPACK_IMPORTED_MODULE_9__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var api = getKdesignerApi();\n  var name = props.name,\n    id = props.id,\n    onSelect = props.onSelect,\n    getClassName = props.getClassName,\n    isActive = props.isActive;\n  var control = api.data.findControl(id);\n  var disabled = control._Root_;\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_10___default()(getClassName('item'), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, getClassName('active-item'), isActive), getClassName('item-disabled'), disabled)),\n    onClick: function onClick() {\n      onSelect({\n        name: name,\n        id: id,\n        disabled: disabled\n      });\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: getClassName('item-text')\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"span\", null, getNameEllipsis(name))), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: getClassName('item-text-dumb-node')\n  }));\n};\nvar Breadcrumb = function Breadcrumb(props) {\n  var items = props.items,\n    onSelect = props.onSelect,\n    _props$prefixCls = props.prefixCls,\n    prefixCls = _props$prefixCls === void 0 ? '' : _props$prefixCls;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    showLeftArrow = _useState2[0],\n    setShowLeftArrow = _useState2[1];\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useState)(false),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 2),\n    showRightArrow = _useState4[0],\n    setShowRightArrow = _useState4[1];\n  var containerRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useRef)(null);\n  var listRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useRef)(null);\n  var getClassName = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (suffix) {\n    var _context;\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(_context = \"\".concat(prefixCls, \"-\")).call(_context, suffix);\n  }, []);\n  var useContainerSizeOrScrollChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (containerDom, longListDom) {\n    var containerWidth = containerDom.offsetWidth;\n    var listRectWidth = longListDom.offsetWidth;\n    if (listRectWidth > containerWidth) {\n      var scrollLeft = containerDom.scrollLeft;\n      if (scrollLeft > 0) {\n        if (scrollLeft + containerWidth >= listRectWidth) {\n          setShowRightArrow(false);\n          setShowLeftArrow(true);\n        } else {\n          setShowRightArrow(true);\n          setShowLeftArrow(true);\n        }\n      } else {\n        setShowLeftArrow(false);\n        setShowRightArrow(true);\n      }\n    } else {\n      setShowLeftArrow(false);\n      setShowRightArrow(false);\n    }\n  }, []);\n  //\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    var resizeObserver = new resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_8__[\"default\"](function (entries) {\n      var _entries = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(entries, 1),\n        listRect = _entries[0];\n      var containerDom = listRect.target.parentElement;\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.console.log('resize-----');\n      useContainerSizeOrScrollChange(containerDom, listRect.target);\n    });\n    resizeObserver.observe(listRef.current);\n    // resizeObserver.observe(containerRef.current)\n    return function () {\n      resizeObserver.disconnect();\n    };\n  }, []);\n  var handleScroll = function handleScroll(evt) {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.console.log('Scroll resize-----');\n    var containerDom = containerRef.current;\n    var longListDom = listRef.current;\n    // console.log(evt.target.scrollLeft)\n    useContainerSizeOrScrollChange(containerDom, longListDom);\n  };\n  var getOneScreenDistance = function getOneScreenDistance() {\n    return containerRef.current.offsetWidth;\n  };\n  var slideBreadcrumb = function slideBreadcrumb(postion) {\n    var distance = getOneScreenDistance();\n    // transition\n    containerRef.current.scrollLeft = Math.max(0, containerRef.current.scrollLeft + (postion === 'left' ? -distance : distance));\n  };\n  var scrollBreadcrumb = function scrollBreadcrumb(postion, evt) {\n    // evt.preventDefault()\n    evt.stopPropagation();\n    var smallerConstant = 0.4;\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.console.log(evt, evt.deltaY, evt.deltaMode);\n    var distance = evt.deltaY * smallerConstant;\n    containerRef.current.scrollLeft = Math.max(0, containerRef.current.scrollLeft + (postion === 'left' ? -distance : distance));\n  };\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    var containerDom = containerRef.current;\n    var longListDom = listRef.current;\n    var containerWidth = containerDom.offsetWidth;\n    var listRectWidth = longListDom.offsetWidth;\n    if (listRectWidth > containerWidth) {\n      containerDom.scrollLeft = listRectWidth - containerWidth;\n    }\n  }, [items]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: getClassName('container-box'),\n    onScroll: handleScroll\n  }, showLeftArrow && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: getClassName('left-arrow'),\n    onClick: function onClick() {\n      return slideBreadcrumb('left');\n    },\n    onWheel: function onWheel(evt) {\n      return scrollBreadcrumb('left', evt);\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__.Icon, {\n    type: \"zuoqie\",\n    prefix: \"designericon\"\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: getClassName('container'),\n    ref: containerRef,\n    onScroll: handleScroll\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: getClassName('list'),\n    ref: listRef\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default()(items).call(items, function (item, idx) {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(BreadcrumbItem, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, item, {\n      onSelect: onSelect,\n      getClassName: getClassName,\n      key: item.id,\n      isActive: idx === items.length - 1\n    }));\n  }))), showRightArrow && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: getClassName('right-arrow'),\n    onClick: function onClick() {\n      return slideBreadcrumb('right');\n    },\n    onWheel: function onWheel(evt) {\n      return scrollBreadcrumb('right', evt);\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__.Icon, {\n    type: \"youqie\",\n    prefix: \"designericon\"\n  })));\n};\nvar ButtomBreadcrumb = function ButtomBreadcrumb() {\n  var _useContext2 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useContext)(_context__WEBPACK_IMPORTED_MODULE_9__.DesignerContext),\n    prefixCls = _useContext2.prefixCls,\n    getKdesignerApi = _useContext2.getKdesignerApi,\n    getPrefixCls = _useContext2.getPrefixCls;\n  var api = getKdesignerApi();\n  var getAllParentControls = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function () {\n    var _context2;\n    var activeSelectedId = api.selection.getActiveSelectedId();\n    var parentControls = api.data.getAllParentControls(activeSelectedId, true);\n    return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default()(_context2 = parentControls.reverse()).call(_context2, function (_ref) {\n      var id = _ref.Id,\n        name = _ref.Name;\n      return {\n        id: id,\n        name: name\n      };\n    });\n  }, []);\n  var _useState5 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useState)(getAllParentControls),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState5, 2),\n    data = _useState6[0],\n    setData = _useState6[1];\n  // const dataRef = useRef(data)\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    var callback = function callback() {\n      var _data = getAllParentControls();\n      setData(_data);\n      // if(!isEqual(dataRef.current, _data)) {\n      // setData(_data)\n      // dataRef.current = _data\n      // }\n    };\n    var removeSubscribe = api.selection.addSelectChangeListener(callback);\n    // 数据改变的时候（表单名称改变的时候）\n    var removeDataChangeSubscribe = api.data.addDataChangeListener(callback);\n    return function () {\n      removeSubscribe();\n      removeDataChangeSubscribe();\n    };\n  }, []);\n  var onSelect = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (_ref2) {\n    var id = _ref2.id,\n      disabled = _ref2.disabled;\n    if (disabled) return;\n    api.selection.setSelect([id]);\n  }, []);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Breadcrumb, {\n    items: data,\n    onSelect: onSelect,\n    prefixCls: getPrefixCls(prefixCls, 'breadcrumb')\n  });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ButtomBreadcrumb);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUwMTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnQkE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUtBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFLQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9jb21wb25lbnRzL0JyZWFkQ3J1bWIudHN4P2I0NjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDb250ZXh0LCB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBSZXNpemVPYnNlcnZlciBmcm9tICdyZXNpemUtb2JzZXJ2ZXItcG9seWZpbGwnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0J1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcydcbmltcG9ydCB7IEljb24gfSBmcm9tICdAa2RjbG91ZGpzL2tkZXNpZ24nXG5pbXBvcnQgeyBjb25zb2xlIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW50ZXJmYWNlIElCcmVhZGNydW1iUHJvcCB7XG4gIGl0ZW1zOiBJQnJlYWRjcnVtYkl0ZW1Qcm9wW10sXG4gIG9uU2VsZWN0OiAoaXRlbTogQnJlYWRjcnVtYkl0ZW0pID0+IHZvaWQsXG4gIHByZWZpeENsczogc3RyaW5nXG59XG50eXBlIEJyZWFkY3J1bWJJdGVtID0ge1xuICBuYW1lOiBzdHJpbmdcbiAgaWQ6IHN0cmluZ1xufVxudHlwZSBJQnJlYWRjcnVtYkl0ZW1Qcm9wID0gIHtcbiAgZ2V0Q2xhc3NOYW1lOiAoc3VmZml4OiBzdHJpbmcpID0+IHN0cmluZyxcbiAgb25TZWxlY3Q6IChpdGVtOiBCcmVhZGNydW1iSXRlbSkgPT4gdm9pZCxcbiAgaXNBY3RpdmU6IGJvb2xlYW5cbn0gJiBCcmVhZGNydW1iSXRlbVxuXG5jb25zdCBnZXROYW1lRWxsaXBzaXMgPSAobmFtZSA9ICcnLCBtYXhDb3VudCA9IDIwKSA9PiB7XG4gIGlmICghbmFtZSkgcmV0dXJuICcnXG4gIHJldHVybiBBcnJheS5mcm9tKG5hbWUpLmxlbmd0aCA+IG1heENvdW50ID8gKG5hbWUuc2xpY2UoMCwgbWF4Q291bnQpICsgJy4uLicpIDogbmFtZVxufVxuXG5jb25zdCBCcmVhZGNydW1iSXRlbTpSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxJQnJlYWRjcnVtYkl0ZW1Qcm9wPiA9IChwcm9wczogSUJyZWFkY3J1bWJJdGVtUHJvcCkgPT4ge1xuICBjb25zdCB7IGdldEtkZXNpZ25lckFwaSB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IGFwaSA9IGdldEtkZXNpZ25lckFwaSgpXG5cbiAgY29uc3QgeyBuYW1lLCBpZCwgb25TZWxlY3QsIGdldENsYXNzTmFtZSwgaXNBY3RpdmV9ID0gcHJvcHNcbiAgY29uc3QgY29udHJvbCA9IGFwaS5kYXRhLmZpbmRDb250cm9sKGlkKVxuICBjb25zdCBkaXNhYmxlZCA9IGNvbnRyb2wuX1Jvb3RfXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NuYW1lcyhnZXRDbGFzc05hbWUoJ2l0ZW0nKSwge1tnZXRDbGFzc05hbWUoJ2FjdGl2ZS1pdGVtJyldOiBpc0FjdGl2ZSwgW2dldENsYXNzTmFtZSgnaXRlbS1kaXNhYmxlZCcpXTogZGlzYWJsZWR9KX0gb25DbGljaz17KCkgPT4ge1xuICAgICAgb25TZWxlY3Qoe25hbWUsIGlkLCBkaXNhYmxlZH0pXG4gICAgfX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKCdpdGVtLXRleHQnKX0gPlxuICAgICAgICA8c3Bhbj5cbiAgICAgICAgICB7Z2V0TmFtZUVsbGlwc2lzKG5hbWUpfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUoJ2l0ZW0tdGV4dC1kdW1iLW5vZGUnKX0gPjwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmNvbnN0IEJyZWFkY3J1bWI6UmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8SUJyZWFkY3J1bWJQcm9wPiA9IChwcm9wczogSUJyZWFkY3J1bWJQcm9wKSA9PiB7XG4gIGNvbnN0IHsgaXRlbXMsIG9uU2VsZWN0LCBwcmVmaXhDbHMgPSAnJyB9ID0gcHJvcHNcbiAgY29uc3QgW3Nob3dMZWZ0QXJyb3csIHNldFNob3dMZWZ0QXJyb3ddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtzaG93UmlnaHRBcnJvdywgc2V0U2hvd1JpZ2h0QXJyb3ddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpXG4gIGNvbnN0IGxpc3RSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKVxuXG4gIGNvbnN0IGdldENsYXNzTmFtZSA9IHVzZUNhbGxiYWNrKChzdWZmaXg6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBgJHtwcmVmaXhDbHN9LSR7c3VmZml4fWBcbiAgfSwgW10pXG4gIGNvbnN0IHVzZUNvbnRhaW5lclNpemVPclNjcm9sbENoYW5nZSA9IHVzZUNhbGxiYWNrKChjb250YWluZXJEb206IEhUTUxEaXZFbGVtZW50LCBsb25nTGlzdERvbTogSFRNTERpdkVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IGNvbnRhaW5lckRvbS5vZmZzZXRXaWR0aFxuICAgIGNvbnN0IGxpc3RSZWN0V2lkdGggPSBsb25nTGlzdERvbS5vZmZzZXRXaWR0aFxuICAgIGlmKGxpc3RSZWN0V2lkdGggPiBjb250YWluZXJXaWR0aCkge1xuICAgICAgY29uc3Qgc2Nyb2xsTGVmdCA9IGNvbnRhaW5lckRvbS5zY3JvbGxMZWZ0XG4gICAgICBpZihzY3JvbGxMZWZ0ID4gMCkge1xuICAgICAgICBpZihzY3JvbGxMZWZ0ICsgY29udGFpbmVyV2lkdGggPj0gbGlzdFJlY3RXaWR0aCkge1xuICAgICAgICAgIHNldFNob3dSaWdodEFycm93KGZhbHNlKVxuICAgICAgICAgIHNldFNob3dMZWZ0QXJyb3codHJ1ZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRTaG93UmlnaHRBcnJvdyh0cnVlKVxuICAgICAgICAgIHNldFNob3dMZWZ0QXJyb3codHJ1ZSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0U2hvd0xlZnRBcnJvdyhmYWxzZSlcbiAgICAgICAgc2V0U2hvd1JpZ2h0QXJyb3codHJ1ZSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U2hvd0xlZnRBcnJvdyhmYWxzZSlcbiAgICAgIHNldFNob3dSaWdodEFycm93KGZhbHNlKVxuICAgIH1cbiAgfSwgW10pXG4gIC8vXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXM6IFJlc2l6ZU9ic2VydmVyRW50cnlbXSkgPT4ge1xuICAgICAgY29uc3QgW2xpc3RSZWN0XSA9IGVudHJpZXNcbiAgICAgIGNvbnN0IGNvbnRhaW5lckRvbTpIVE1MRGl2RWxlbWVudCA9IGxpc3RSZWN0LnRhcmdldC5wYXJlbnRFbGVtZW50IGFzIEhUTUxEaXZFbGVtZW50XG4gICAgICBjb25zb2xlLmxvZygncmVzaXplLS0tLS0nKVxuICAgICAgdXNlQ29udGFpbmVyU2l6ZU9yU2Nyb2xsQ2hhbmdlKGNvbnRhaW5lckRvbSwgbGlzdFJlY3QudGFyZ2V0IGFzIEhUTUxEaXZFbGVtZW50KVxuICAgIH0pXG4gICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShsaXN0UmVmLmN1cnJlbnQpXG4gICAgLy8gcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShjb250YWluZXJSZWYuY3VycmVudClcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgfVxuICB9LCBbXSlcblxuICBjb25zdCBoYW5kbGVTY3JvbGwgPSAoZXZ0OiBSZWFjdC5VSUV2ZW50PEhUTUxEaXZFbGVtZW50LCBVSUV2ZW50PikgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdTY3JvbGwgcmVzaXplLS0tLS0nKVxuICAgIGNvbnN0IGNvbnRhaW5lckRvbSA9IGNvbnRhaW5lclJlZi5jdXJyZW50XG4gICAgY29uc3QgbG9uZ0xpc3REb20gPSBsaXN0UmVmLmN1cnJlbnRcbiAgICAvLyBjb25zb2xlLmxvZyhldnQudGFyZ2V0LnNjcm9sbExlZnQpXG4gICAgdXNlQ29udGFpbmVyU2l6ZU9yU2Nyb2xsQ2hhbmdlKGNvbnRhaW5lckRvbSwgbG9uZ0xpc3REb20pXG5cbiAgfVxuXG4gIGNvbnN0IGdldE9uZVNjcmVlbkRpc3RhbmNlID0gKCkgPT4ge1xuICAgIHJldHVybiBjb250YWluZXJSZWYuY3VycmVudC5vZmZzZXRXaWR0aFxuICB9XG5cbiAgY29uc3Qgc2xpZGVCcmVhZGNydW1iID0gKHBvc3Rpb246ICdsZWZ0JyB8ICdyaWdodCcpID0+IHtcbiAgICBjb25zdCBkaXN0YW5jZSA9IGdldE9uZVNjcmVlbkRpc3RhbmNlKClcbiAgICAvLyB0cmFuc2l0aW9uXG4gICAgY29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsTGVmdCA9IE1hdGgubWF4KDAsIGNvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbExlZnQgKyAocG9zdGlvbiA9PT0gJ2xlZnQnID8gLWRpc3RhbmNlIDogZGlzdGFuY2UpKVxuICB9XG5cbiAgY29uc3Qgc2Nyb2xsQnJlYWRjcnVtYiA9IChwb3N0aW9uOiAnbGVmdCcgfCAncmlnaHQnLCBldnQ6IFJlYWN0LldoZWVsRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XG4gICAgLy8gZXZ0LnByZXZlbnREZWZhdWx0KClcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBjb25zdCBzbWFsbGVyQ29uc3RhbnQgPSAwLjRcbiAgICBjb25zb2xlLmxvZyhldnQsIGV2dC5kZWx0YVksIGV2dC5kZWx0YU1vZGUpXG4gICAgY29uc3QgZGlzdGFuY2UgPSBldnQuZGVsdGFZICogc21hbGxlckNvbnN0YW50XG4gICAgY29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsTGVmdCA9IE1hdGgubWF4KDAsIGNvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbExlZnQgKyAocG9zdGlvbiA9PT0gJ2xlZnQnID8gLWRpc3RhbmNlIDogZGlzdGFuY2UpKVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjb250YWluZXJEb20gPSBjb250YWluZXJSZWYuY3VycmVudFxuICAgIGNvbnN0IGxvbmdMaXN0RG9tID0gbGlzdFJlZi5jdXJyZW50XG4gICAgY29uc3QgY29udGFpbmVyV2lkdGggPSBjb250YWluZXJEb20ub2Zmc2V0V2lkdGhcbiAgICBjb25zdCBsaXN0UmVjdFdpZHRoID0gbG9uZ0xpc3REb20ub2Zmc2V0V2lkdGhcbiAgICBpZihsaXN0UmVjdFdpZHRoID4gY29udGFpbmVyV2lkdGgpIHtcbiAgICAgIGNvbnRhaW5lckRvbS5zY3JvbGxMZWZ0ID0gbGlzdFJlY3RXaWR0aCAtIGNvbnRhaW5lcldpZHRoXG4gICAgfVxuICB9LCBbaXRlbXNdKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2dldENsYXNzTmFtZSgnY29udGFpbmVyLWJveCcpfSBvblNjcm9sbD17aGFuZGxlU2Nyb2xsfSA+XG4gICAgICB7IHNob3dMZWZ0QXJyb3cgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKCdsZWZ0LWFycm93Jyl9IG9uQ2xpY2s9eygpID0+IHNsaWRlQnJlYWRjcnVtYignbGVmdCcpfSBvbldoZWVsPXsoZXZ0OiBSZWFjdC5XaGVlbEV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4gc2Nyb2xsQnJlYWRjcnVtYignbGVmdCcsIGV2dCl9ID5cbiAgICAgICAgICA8SWNvbiB0eXBlPSd6dW9xaWUnIHByZWZpeD0nZGVzaWduZXJpY29uJyA+PC9JY29uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKCdjb250YWluZXInKX0gcmVmPXtjb250YWluZXJSZWZ9IG9uU2Nyb2xsPXtoYW5kbGVTY3JvbGx9ID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2dldENsYXNzTmFtZSgnbGlzdCcpfSByZWY9e2xpc3RSZWZ9ID5cbiAgICAgICAgICB7aXRlbXMubWFwKChpdGVtLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8QnJlYWRjcnVtYkl0ZW0gey4uLml0ZW19IG9uU2VsZWN0PXtvblNlbGVjdH0gZ2V0Q2xhc3NOYW1lPXtnZXRDbGFzc05hbWV9IGtleT17aXRlbS5pZH0gaXNBY3RpdmU9e2lkeCA9PT0gaXRlbXMubGVuZ3RoIC0gMX0gLz5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIHsgc2hvd1JpZ2h0QXJyb3cgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKCdyaWdodC1hcnJvdycpfSBvbkNsaWNrPXsoKSA9PiBzbGlkZUJyZWFkY3J1bWIoJ3JpZ2h0Jyl9IG9uV2hlZWw9eyhldnQ6IFJlYWN0LldoZWVsRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiBzY3JvbGxCcmVhZGNydW1iKCdyaWdodCcsIGV2dCl9ID5cbiAgICAgICAgICA8SWNvbiB0eXBlPSd5b3VxaWUnIHByZWZpeD0nZGVzaWduZXJpY29uJyA+PC9JY29uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gIClcbn1cblxuY29uc3QgQnV0dG9tQnJlYWRjcnVtYjogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8YW55PiA9ICgpID0+IHtcbiAgY29uc3QgeyBwcmVmaXhDbHMsIGdldEtkZXNpZ25lckFwaSwgZ2V0UHJlZml4Q2xzIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3QgYXBpID0gZ2V0S2Rlc2lnbmVyQXBpKClcbiAgY29uc3QgZ2V0QWxsUGFyZW50Q29udHJvbHMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgYWN0aXZlU2VsZWN0ZWRJZCA9IGFwaS5zZWxlY3Rpb24uZ2V0QWN0aXZlU2VsZWN0ZWRJZCgpXG4gICAgY29uc3QgcGFyZW50Q29udHJvbHMgPSBhcGkuZGF0YS5nZXRBbGxQYXJlbnRDb250cm9scyhhY3RpdmVTZWxlY3RlZElkLCB0cnVlKVxuICAgIHJldHVybiBwYXJlbnRDb250cm9scy5yZXZlcnNlKCkubWFwKCh7SWQ6IGlkLCBOYW1lOiBuYW1lfSkgPT4ge1xuICAgICAgcmV0dXJuIHtpZCwgbmFtZX1cbiAgICB9KVxuICB9LCBbXSlcbiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGUoZ2V0QWxsUGFyZW50Q29udHJvbHMpXG4gIC8vIGNvbnN0IGRhdGFSZWYgPSB1c2VSZWYoZGF0YSlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjYWxsYmFjayA9ICgpID0+IHtcbiAgICAgIGNvbnN0IF9kYXRhID0gZ2V0QWxsUGFyZW50Q29udHJvbHMoKVxuICAgICAgc2V0RGF0YShfZGF0YSlcbiAgICAgIC8vIGlmKCFpc0VxdWFsKGRhdGFSZWYuY3VycmVudCwgX2RhdGEpKSB7XG4gICAgICAgIC8vIHNldERhdGEoX2RhdGEpXG4gICAgICAgIC8vIGRhdGFSZWYuY3VycmVudCA9IF9kYXRhXG4gICAgICAvLyB9XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZVN1YnNjcmliZSA9IGFwaS5zZWxlY3Rpb24uYWRkU2VsZWN0Q2hhbmdlTGlzdGVuZXIoY2FsbGJhY2spXG4gICAgLy8g5pWw5o2u5pS55Y+Y55qE5pe25YCZ77yI6KGo5Y2V5ZCN56ew5pS55Y+Y55qE5pe25YCZ77yJXG4gICAgY29uc3QgcmVtb3ZlRGF0YUNoYW5nZVN1YnNjcmliZSA9IGFwaS5kYXRhLmFkZERhdGFDaGFuZ2VMaXN0ZW5lcihjYWxsYmFjaylcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcmVtb3ZlU3Vic2NyaWJlKClcbiAgICAgIHJlbW92ZURhdGFDaGFuZ2VTdWJzY3JpYmUoKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgY29uc3Qgb25TZWxlY3QgPSB1c2VDYWxsYmFjaygoe2lkLCBkaXNhYmxlZH0pID0+IHtcbiAgICBpZihkaXNhYmxlZCkgcmV0dXJuXG5cbiAgICBhcGkuc2VsZWN0aW9uLnNldFNlbGVjdChbaWRdKVxuICB9LCBbXSlcblxuXG5cbiAgcmV0dXJuIDxCcmVhZGNydW1iIGl0ZW1zPXtkYXRhfSBvblNlbGVjdD17b25TZWxlY3R9IHByZWZpeENscz17Z2V0UHJlZml4Q2xzKHByZWZpeENscywgJ2JyZWFkY3J1bWInKX0gLz5cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b21CcmVhZGNydW1iXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///25012\n");

/***/ }),

/***/ 76844:
/*!***********************************************!*\
  !*** ./src/components/ColorPickerContent.tsx ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../context */ 90115);\n\n\n/*\n * @Description: 颜色选择内容\n * @Author: jianhang_he\n * @Date: 2022-12-29 14:01:22\n * @LastEditTime: 2023-02-06 16:26:58\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\nvar ColorPickerContent = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.memo)(function (_ref) {\n  var className = _ref.className,\n    propValue = _ref.value,\n    _ref$colorList = _ref.colorList,\n    colorList = _ref$colorList === void 0 ? [] : _ref$colorList,\n    onChange = _ref.onChange,\n    renderIcon = _ref.renderIcon;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context__WEBPACK_IMPORTED_MODULE_6__.DesignerContext),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var colorPickerPrefixCls = getPrefixCls && getPrefixCls(prefixCls, 'colorpicker-content');\n  console.log('colorPickerPrefixCls', colorPickerPrefixCls);\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useState)(propValue),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    value = _useState2[0],\n    setValue = _useState2[1]; // 颜色值\n\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    !(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(propValue) && setValue(propValue);\n  }, [propValue]);\n\n  /**\n   * 改变颜色\n   * @param param0\n   */\n  var handleChangeColor = function handleChangeColor(color) {\n    setValue(color);\n    onChange === null || onChange === void 0 || onChange(color);\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"ul\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(\"\".concat(colorPickerPrefixCls), className)\n  }, colorList === null || colorList === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default()(colorList).call(colorList, function (color) {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"li\", {\n      onClick: function onClick() {\n        return handleChangeColor(color);\n      },\n      key: color,\n      className: \"\".concat(colorPickerPrefixCls, \"-item\"),\n      style: {\n        backgroundColor: color\n      }\n    }, value === color && (typeof renderIcon === 'function' ? renderIcon() : /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_3__.Icon, {\n      className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(\"\".concat(colorPickerPrefixCls, \"-item-light\")),\n      prefix: \"designericon\",\n      type: \"shuzhankaibeifen\"\n    })));\n  }));\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (ColorPickerContent);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzY4NDQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFNQTtBQUpBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFJQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2NvbXBvbmVudHMvQ29sb3JQaWNrZXJDb250ZW50LnRzeD8yNmUzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246IOminOiJsumAieaLqeWGheWuuVxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIyLTEyLTI5IDE0OjAxOjIyXG4gKiBATGFzdEVkaXRUaW1lOiAyMDIzLTAyLTA2IDE2OjI2OjU4XG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZUNvbnRleHQsIG1lbW8sIEZDIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcydcbmltcG9ydCB7IGlzVW5kZWZpbmVkIH0gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dCdcblxuaW50ZXJmYWNlIENvbG9yUGlja2VyQ29udGVudFByb3BzQXBpIHtcbiAgcHJlZml4Q2xhc3M/OiBzdHJpbmcsXG4gIHZhbHVlPzogc3RyaW5nLFxuICBjb2xvckxpc3Q/OiBzdHJpbmdbXSxcbiAgY2xhc3NOYW1lPzogc3RyaW5nLFxuICBvbkNoYW5nZT86IChjb2xvcjogc3RyaW5nKSA9PiB2b2lkLFxuICByZW5kZXJJY29uPzogKCkgPT4gUmVhY3QuUmVhY3ROb2RlXG59XG5cbmNvbnN0IENvbG9yUGlja2VyQ29udGVudDogRkM8Q29sb3JQaWNrZXJDb250ZW50UHJvcHNBcGk+ID0gbWVtbygoe1xuICBjbGFzc05hbWUsXG4gIHZhbHVlOiBwcm9wVmFsdWUsXG4gIGNvbG9yTGlzdCA9IFtdLFxuICBvbkNoYW5nZSxcbiAgcmVuZGVySWNvblxufSkgPT4ge1xuICBjb25zdCB7IGdldFByZWZpeENscywgcHJlZml4Q2xzIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3QgY29sb3JQaWNrZXJQcmVmaXhDbHMgPSBnZXRQcmVmaXhDbHMgJiYgZ2V0UHJlZml4Q2xzKHByZWZpeENscywgJ2NvbG9ycGlja2VyLWNvbnRlbnQnKVxuICBjb25zb2xlLmxvZygnY29sb3JQaWNrZXJQcmVmaXhDbHMnLCBjb2xvclBpY2tlclByZWZpeENscyk7XG5cbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VTdGF0ZShwcm9wVmFsdWUpIC8vIOminOiJsuWAvFxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgIWlzVW5kZWZpbmVkKHByb3BWYWx1ZSkgJiYgc2V0VmFsdWUocHJvcFZhbHVlKVxuICB9LCBbcHJvcFZhbHVlXSlcblxuICAvKipcbiAgICog5pS55Y+Y6aKc6ImyXG4gICAqIEBwYXJhbSBwYXJhbTBcbiAgICovXG4gIGNvbnN0IGhhbmRsZUNoYW5nZUNvbG9yID0gKFxuICAgIGNvbG9yXG4gICkgPT4ge1xuICAgIHNldFZhbHVlKGNvbG9yKVxuICAgIG9uQ2hhbmdlPy4oY29sb3IpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9e2NsYXNzTmFtZXMoYCR7Y29sb3JQaWNrZXJQcmVmaXhDbHN9YCwgY2xhc3NOYW1lKX0+XG4gICAgICB7XG4gICAgICAgIGNvbG9yTGlzdD8ubWFwKGNvbG9yID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IGhhbmRsZUNoYW5nZUNvbG9yKGNvbG9yKX0ga2V5PXtjb2xvcn0gY2xhc3NOYW1lPXtgJHtjb2xvclBpY2tlclByZWZpeENsc30taXRlbWB9IHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogY29sb3IgfX0+XG4gICAgICAgICAgICAgIHt2YWx1ZSA9PT0gY29sb3IgJiZcbiAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICB0eXBlb2YgcmVuZGVySWNvbiA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAgICByZW5kZXJJY29uKCkgOlxuICAgICAgICAgICAgICAgICAgPEljb24gY2xhc3NOYW1lPXtjbGFzc05hbWVzKGAke2NvbG9yUGlja2VyUHJlZml4Q2xzfS1pdGVtLWxpZ2h0YCl9IHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPSdzaHV6aGFua2FpYmVpZmVuJyAvPil9XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgIClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICA8L3VsPlxuICApXG59KVxuXG5leHBvcnQgZGVmYXVsdCBDb2xvclBpY2tlckNvbnRlbnRcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///76844\n");

/***/ }),

/***/ 17648:
/*!*****************************************!*\
  !*** ./src/components/ColumnSwitch.tsx ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);\n\n\n/**\r\n * 切换根节点的跨列显示\r\n */\n\n\n\n\n\nvar options = [{\n  name: '1列',\n  id: '1',\n  icon: '1lie'\n}, {\n  name: '2列',\n  id: '2',\n  icon: '2lie'\n}, {\n  name: '3列',\n  id: '3',\n  icon: '3lie'\n}, {\n  name: '4列',\n  id: '4',\n  icon: '4lie'\n}];\nvar propName = 'ColumnSpan';\nvar ColumnSwitch = function ColumnSwitch() {\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context__WEBPACK_IMPORTED_MODULE_4__.DesignerContext),\n    prefixCls = _useContext.prefixCls,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    isPC = _useContext.isPC;\n  var kdesignerApi = getKdesignerApi();\n  var dataContext = kdesignerApi.data,\n    metaApi = kdesignerApi.meta;\n  var rootId = dataContext.getRootId();\n  var _dataContext$findCont = dataContext.findControl(rootId),\n    ColumnSpan = _dataContext$findCont[propName],\n    _Type_ = _dataContext$findCont._Type_;\n  var defaultValue = metaApi.getControlPropertyDefaultValue(_Type_, propName);\n  var value = String(ColumnSpan || defaultValue);\n  var handleColumnChange = function handleColumnChange(newVal) {\n    if (value !== newVal) {\n      dataContext.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.createUpdateAction)([[rootId, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, propName, newVal)]]));\n    }\n  };\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.useDataChangeForceUpdateEffect)(kdesignerApi);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(\"\".concat(prefixCls, \"-column-switch\"), {\n      hide: !isPC\n    })\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-column-switch-wrapper\")\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default()(options).call(options, function (op) {\n    var id = op.id,\n      icon = op.icon;\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n      className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(\"\".concat(prefixCls, \"-column-item\"), {\n        'is-active': value === id\n      }),\n      onClick: function onClick() {\n        return handleColumnChange(id);\n      },\n      key: id,\n      title: \"\".concat(id, \"\\u5217\")\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-column-item-icon\")\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_3__.Icon, {\n      prefix: \"designericon\",\n      type: icon\n    })));\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ColumnSwitch);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTc2NDguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUlBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvY29tcG9uZW50cy9Db2x1bW5Td2l0Y2gudHN4PzI2ODkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOWIh+aNouagueiKgueCueeahOi3qOWIl+aYvuekulxyXG4gKi9cclxuaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IEljb24gfSBmcm9tICdAa2RjbG91ZGpzL2tkZXNpZ24nXHJcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQnXHJcbmltcG9ydCB7IGNyZWF0ZVVwZGF0ZUFjdGlvbiwgdXNlRGF0YUNoYW5nZUZvcmNlVXBkYXRlRWZmZWN0IH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xyXG5cclxuY29uc3Qgb3B0aW9ucyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiAnMeWIlycsXHJcbiAgICBpZDogJzEnLFxyXG4gICAgaWNvbjogJzFsaWUnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAnMuWIlycsXHJcbiAgICBpZDogJzInLFxyXG4gICAgaWNvbjogJzJsaWUnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAnM+WIlycsXHJcbiAgICBpZDogJzMnLFxyXG4gICAgaWNvbjogJzNsaWUnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAnNOWIlycsXHJcbiAgICBpZDogJzQnLFxyXG4gICAgaWNvbjogJzRsaWUnXHJcbiAgfVxyXG5dXHJcblxyXG5jb25zdCBwcm9wTmFtZSA9ICdDb2x1bW5TcGFuJ1xyXG5cclxuY29uc3QgQ29sdW1uU3dpdGNoID0gKCkgPT4ge1xyXG4gIGNvbnN0IHsgcHJlZml4Q2xzLCBnZXRLZGVzaWduZXJBcGksIGlzUEMgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxyXG4gIGNvbnN0IGtkZXNpZ25lckFwaSA9IGdldEtkZXNpZ25lckFwaSgpXHJcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCwgbWV0YTogbWV0YUFwaSB9ID0ga2Rlc2lnbmVyQXBpXHJcbiAgY29uc3Qgcm9vdElkID0gZGF0YUNvbnRleHQuZ2V0Um9vdElkKClcclxuICBjb25zdCB7IFtwcm9wTmFtZV06IENvbHVtblNwYW4sIF9UeXBlXyB9ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2wocm9vdElkKVxyXG4gIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IG1ldGFBcGkuZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlKF9UeXBlXywgcHJvcE5hbWUpXHJcbiAgY29uc3QgdmFsdWUgPSBTdHJpbmcoQ29sdW1uU3BhbiB8fCBkZWZhdWx0VmFsdWUpXHJcblxyXG4gIGNvbnN0IGhhbmRsZUNvbHVtbkNoYW5nZSA9IChuZXdWYWwpID0+IHtcclxuICAgIGlmICh2YWx1ZSAhPT0gbmV3VmFsKSB7XHJcbiAgICAgIGRhdGFDb250ZXh0LmJhdGNoVXBkYXRlQ29udHJvbFByb3BlcnR5VmFsdWVzKGNyZWF0ZVVwZGF0ZUFjdGlvbihbW3Jvb3RJZCwgeyBbcHJvcE5hbWVdOiBuZXdWYWwgfV1dKSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVzZURhdGFDaGFuZ2VGb3JjZVVwZGF0ZUVmZmVjdChrZGVzaWduZXJBcGkpXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhgJHtwcmVmaXhDbHN9LWNvbHVtbi1zd2l0Y2hgLCB7IGhpZGU6ICFpc1BDIH0pfT5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tY29sdW1uLXN3aXRjaC13cmFwcGVyYH0+XHJcbiAgICAgICAge29wdGlvbnMubWFwKChvcDogYW55KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB7IGlkLCBpY29uIH0gPSBvcFxyXG4gICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoYCR7cHJlZml4Q2xzfS1jb2x1bW4taXRlbWAsIHsgJ2lzLWFjdGl2ZSc6IHZhbHVlID09PSBpZCB9KX0gb25DbGljaz17KCkgPT4gaGFuZGxlQ29sdW1uQ2hhbmdlKGlkKX0ga2V5PXtpZH0gdGl0bGU9e2Ake2lkfeWIl2B9PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWNvbHVtbi1pdGVtLWljb25gfT5cclxuICAgICAgICAgICAgICAgIDxJY29uIHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPXtpY29ufSAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIClcclxuICAgICAgICB9KX1cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbHVtblN3aXRjaFxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17648\n");

/***/ }),

/***/ 35832:
/*!*********************************************!*\
  !*** ./src/components/ContextMenuPanel.tsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/react-dom */ 16428);\n/* harmony import */ var kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _FloatOperationBar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FloatOperationBar */ 70944);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../context */ 90115);\n\n\n/*\n * @Description: 右键切换组件面板\n * @Author: jianhang_he\n * @Date: 2022-10-09 13:31:33\n * @LastEditTime: 2023-11-30 15:38:14\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\nvar ContextMenuPanel = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.memo)(function () {\n  var designerContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context__WEBPACK_IMPORTED_MODULE_6__.DesignerContext);\n  var prefixCls = designerContext.prefixCls;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    visible = _useState2[0],\n    setVisible = _useState2[1];\n  var wrapperRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useRef)({});\n  var fieldRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useRef)({});\n  var panelRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.useOnClickOutside)([panelRef], function (e) {\n    setVisible(false);\n  });\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    var listenerContextMenu = function listenerContextMenu(_ref) {\n      var _context;\n      var event = _ref.event,\n        field = _ref.field;\n      var pageX = event.pageX,\n        pageY = event.pageY;\n      wrapperRef.current.style.cssText += _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default()(_context = \";left: \".concat(pageX, \"px;top: \")).call(_context, pageY, \"px;\");\n      fieldRef.current = field;\n      setVisible(true);\n    };\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.eventBus.on('contextmenu', listenerContextMenu);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.eventBus.off('contextmenu', listenerContextMenu);\n    };\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    var closePanel = function closePanel(e) {\n      var appDom = document.getElementById('app');\n      if (appDom && !(appDom !== null && appDom !== void 0 && appDom.contains(e.target))) return;\n      if (visible) {\n        setVisible(false);\n      }\n    };\n    window.addEventListener('scroll', closePanel, true);\n    return function () {\n      window.removeEventListener('scroll', closePanel, true);\n    };\n  }, [visible]);\n  return (0,kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_3__.createPortal)( /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    ref: wrapperRef,\n    className: \"\".concat(prefixCls, \"_contextmenu\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.DropDownPanel, {\n    popperClassName: \"\".concat(prefixCls, \"-quick-setting-dropdown\"),\n    visible: visible,\n    onVisibleChange: function onVisibleChange(visible) {\n      return setVisible(visible);\n    },\n    placement: \"bottomLeft\",\n    content: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_FloatOperationBar__WEBPACK_IMPORTED_MODULE_5__.QuickSettingContent, {\n      ref: panelRef,\n      controlId: fieldRef.current.Id,\n      field: fieldRef.current,\n      prefixCls: prefixCls\n    })\n  })), document.body);\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (ContextMenuPanel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzU4MzIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUFBO0FBREE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBS0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9jb21wb25lbnRzL0NvbnRleHRNZW51UGFuZWwudHN4PzQ4ZGYiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjog5Y+z6ZSu5YiH5o2i57uE5Lu26Z2i5p2/XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMTAtMDkgMTM6MzE6MzNcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMTEtMzAgMTU6Mzg6MTRcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ29udGV4dCwgdXNlUmVmLCBtZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tICdyZWFjdC1kb20nXG5pbXBvcnQgeyBldmVudEJ1cywgRHJvcERvd25QYW5lbCwgdXNlT25DbGlja091dHNpZGUgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgeyBRdWlja1NldHRpbmdDb250ZW50IH0gZnJvbSAnLi9GbG9hdE9wZXJhdGlvbkJhcidcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQnXG5cbmNvbnN0IENvbnRleHRNZW51UGFuZWwgPSBtZW1vKCgpID0+IHtcbiAgY29uc3QgZGVzaWduZXJDb250ZXh0ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IHsgcHJlZml4Q2xzIH0gPSBkZXNpZ25lckNvbnRleHRcblxuICBjb25zdCBbdmlzaWJsZSwgc2V0VmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3Qgd3JhcHBlclJlZiA9IHVzZVJlZih7fSlcbiAgY29uc3QgZmllbGRSZWYgPSB1c2VSZWYoe30pXG4gIGNvbnN0IHBhbmVsUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgdXNlT25DbGlja091dHNpZGUoW3BhbmVsUmVmXSwgKGUpID0+IHtcbiAgICBzZXRWaXNpYmxlKGZhbHNlKVxuICB9KVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbGlzdGVuZXJDb250ZXh0TWVudSA9ICh7XG4gICAgICBldmVudCxcbiAgICAgIGZpZWxkXG4gICAgfSkgPT4ge1xuICAgICAgY29uc3QgeyBwYWdlWCwgcGFnZVkgfSA9IGV2ZW50XG4gICAgICB3cmFwcGVyUmVmLmN1cnJlbnQuc3R5bGUuY3NzVGV4dCArPSBgO2xlZnQ6ICR7cGFnZVh9cHg7dG9wOiAke3BhZ2VZfXB4O2BcbiAgICAgIGZpZWxkUmVmLmN1cnJlbnQgPSBmaWVsZFxuICAgICAgc2V0VmlzaWJsZSh0cnVlKVxuICAgIH1cbiAgICBldmVudEJ1cy5vbignY29udGV4dG1lbnUnLCBsaXN0ZW5lckNvbnRleHRNZW51KVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGV2ZW50QnVzLm9mZignY29udGV4dG1lbnUnLCBsaXN0ZW5lckNvbnRleHRNZW51KVxuICAgIH1cbiAgfSwgW10pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjbG9zZVBhbmVsID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IGFwcERvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHAnKVxuICAgICAgaWYgKChhcHBEb20gJiYgIWFwcERvbT8uY29udGFpbnMoZS50YXJnZXQpKSkgcmV0dXJuXG4gICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICBzZXRWaXNpYmxlKGZhbHNlKVxuICAgICAgfVxuICAgIH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgY2xvc2VQYW5lbCwgdHJ1ZSlcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGNsb3NlUGFuZWwsIHRydWUpXG4gICAgfVxuICB9LCBbdmlzaWJsZV0pXG5cbiAgcmV0dXJuIGNyZWF0ZVBvcnRhbChcbiAgICA8ZGl2IHJlZj17d3JhcHBlclJlZn0gY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9X2NvbnRleHRtZW51YH0+XG4gICAgICA8RHJvcERvd25QYW5lbFxuICAgICAgICBwb3BwZXJDbGFzc05hbWU9e2Ake3ByZWZpeENsc30tcXVpY2stc2V0dGluZy1kcm9wZG93bmB9XG4gICAgICAgIHZpc2libGU9e3Zpc2libGV9XG4gICAgICAgIG9uVmlzaWJsZUNoYW5nZT17KHZpc2libGUpID0+IHNldFZpc2libGUodmlzaWJsZSl9XG4gICAgICAgIHBsYWNlbWVudD0nYm90dG9tTGVmdCdcbiAgICAgICAgY29udGVudD17KFxuICAgICAgICAgIDxRdWlja1NldHRpbmdDb250ZW50IHJlZj17cGFuZWxSZWZ9IGNvbnRyb2xJZD17ZmllbGRSZWYuY3VycmVudC5JZH0gZmllbGQ9e2ZpZWxkUmVmLmN1cnJlbnR9IHByZWZpeENscz17cHJlZml4Q2xzfSAvPlxuICAgICAgICApfVxuICAgICAgLz5cbiAgICA8L2Rpdj4sXG4gICAgZG9jdW1lbnQuYm9keVxuICApXG59KVxuXG5leHBvcnQgZGVmYXVsdCBDb250ZXh0TWVudVBhbmVsXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///35832\n");

/***/ }),

/***/ 65392:
/*!*****************************************!*\
  !*** ./src/components/ControlError.tsx ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NODE_HEIGHT: function() { return /* binding */ NODE_HEIGHT; },\n/* harmony export */   hiddenZindex: function() { return /* binding */ hiddenZindex; },\n/* harmony export */   rootDomId: function() { return /* binding */ rootDomId; },\n/* harmony export */   visibleZindex: function() { return /* binding */ visibleZindex; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! kd_libs/react-dom */ 16428);\n/* harmony import */ var kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../constants */ 98092);\n/* harmony import */ var _ErrorTips__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ErrorTips */ 86528);\n/* harmony import */ var _ErrorIcon__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ErrorIcon */ 29996);\n/* harmony import */ var _hooks_useListenError__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../hooks/useListenError */ 47064);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_16__);\n\n\n\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-04-26 11:09:01\n * @LastEditTime: 2023-05-22 10:10:07\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\n\n\n\nvar rootDomId = 'ui-designer-root';\n\n// 可见的zindex\nvar visibleZindex = '1050';\n// 不可见的zindex\nvar hiddenZindex = '-1';\n// 悬浮菜单的高度恒定不变, 而宽度随着功能的增加会有变化, 所以宽度是可变的\nvar NODE_HEIGHT = 24;\nvar jumpErrorControl = function jumpErrorControl(id) {\n  if (!id) return;\n  var errorControlDom = document.querySelector(\"[data-control-id=\\\"\".concat(id, \"\\\"]\"));\n  if (!errorControlDom) {\n    console.log('找不到对应的字段', id);\n    return;\n  }\n  if (errorControlDom !== null && errorControlDom !== void 0 && errorControlDom.scrollIntoViewIfNeeded) {\n    errorControlDom.scrollIntoViewIfNeeded();\n  } else {\n    errorControlDom === null || errorControlDom === void 0 || errorControlDom.scrollIntoView({\n      block: 'center'\n    });\n  }\n};\n\n// 错误指引\nvar ErrorGuide = function ErrorGuide(_ref) {\n  var isPC = _ref.isPC,\n    errorControlIdList = _ref.errorControlIdList,\n    error = _ref.error,\n    root = _ref.root,\n    prefixCls = _ref.prefixCls;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useState)([]),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    topErrorControlIdList = _useState2[0],\n    setTopErrorControlIdList = _useState2[1];\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useState)([]),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 2),\n    bottomErrorControlIdList = _useState4[0],\n    setBottomErrorControlIdList = _useState4[1];\n  var option = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useMemo)(function () {\n    return {\n      root: root,\n      rootMargin: '0px 0px 0px 0px',\n      threshold: [0, 0.25, 0.5, 0.75, 1],\n      trackVisibility: true,\n      delay: 200\n    };\n  }, [root]);\n  var addIntersectionObserver = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (target, callback) {\n    var IntersectionObserver = window.IntersectionObserver;\n    var observer;\n    if (IntersectionObserver && target) {\n      observer = new IntersectionObserver(function (entries) {\n        callback(entries);\n      }, option);\n      observer.observe(target);\n      return observer;\n    }\n  }, [option]);\n  var filterListByControlId = function filterListByControlId(list, controlId) {\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(list).call(list, controlId)) {\n      return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(list).call(list, function (id) {\n        return id !== controlId;\n      });\n    }\n    return list;\n  };\n  var errorControlObserverCallback = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (errorControlId, entries, observer) {\n    entries.forEach(function (entry) {\n      var _entry$rootBounds = entry.rootBounds,\n        rootTop = _entry$rootBounds.top,\n        rootHeight = _entry$rootBounds.height;\n      if (entry.isIntersecting) {\n        setBottomErrorControlIdList(function (bottomErrorControlIdList) {\n          return filterListByControlId(bottomErrorControlIdList, errorControlId);\n        });\n        setTopErrorControlIdList(function (topErrorControlIdList) {\n          return filterListByControlId(topErrorControlIdList, errorControlId);\n        });\n      } else {\n        var isBottom = entry.boundingClientRect.y > rootHeight;\n        var isTop = entry.boundingClientRect.y < rootTop;\n        if (isBottom) {\n          setBottomErrorControlIdList(function () {\n            if (!_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(bottomErrorControlIdList).call(bottomErrorControlIdList, errorControlId)) {\n              var _context;\n              return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4___default()(_context = []).call(_context, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(bottomErrorControlIdList), [errorControlId]);\n            }\n            return bottomErrorControlIdList;\n          });\n        } else if (isTop) {\n          setTopErrorControlIdList(function () {\n            if (!_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(topErrorControlIdList).call(topErrorControlIdList, errorControlId)) {\n              var _context2;\n              return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4___default()(_context2 = []).call(_context2, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(topErrorControlIdList), [errorControlId]);\n            }\n            return topErrorControlIdList;\n          });\n        }\n      }\n    });\n  }, [bottomErrorControlIdList, topErrorControlIdList]);\n\n  // isPC作为依赖项是因为设计器时候切换移动端PC端，需要重新监听一下\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    if ((errorControlIdList === null || errorControlIdList === void 0 ? void 0 : errorControlIdList.length) > 0) {\n      var observerDataMap = {};\n      var _loop = function _loop() {\n        var _Object$keys2;\n        var errorControlId = errorControlIdList[index];\n        if (error[errorControlId] && (_Object$keys2 = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5___default()(error[errorControlId])) !== null && _Object$keys2 !== void 0 && _Object$keys2.length) {\n          var errorControlDom = document.querySelector(\"[data-control-id=\\\"\".concat(errorControlId, \"\\\"]\"));\n          observerDataMap[errorControlId] = addIntersectionObserver(errorControlDom, function () {\n            var _context3;\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            errorControlObserverCallback.apply(void 0, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4___default()(_context3 = [errorControlId]).call(_context3, args));\n          });\n        } else {\n          var _observerDataMap$erro;\n          (_observerDataMap$erro = observerDataMap[errorControlId]) === null || _observerDataMap$erro === void 0 || _observerDataMap$erro.disconnect();\n          setBottomErrorControlIdList(function (bottomErrorControlIdList) {\n            return filterListByControlId(bottomErrorControlIdList, errorControlId);\n          });\n          setTopErrorControlIdList(function (topErrorControlIdList) {\n            return filterListByControlId(topErrorControlIdList, errorControlId);\n          });\n        }\n      };\n      for (var index = 0; index < (errorControlIdList === null || errorControlIdList === void 0 ? void 0 : errorControlIdList.length); index++) {\n        _loop();\n      }\n      return function () {\n        _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5___default()(observerDataMap).forEach(function (id) {\n          var _observerDataMap$id;\n          (_observerDataMap$id = observerDataMap[id]) === null || _observerDataMap$id === void 0 || _observerDataMap$id.disconnect();\n        });\n      };\n    }\n  }, [isPC, errorControlIdList, bottomErrorControlIdList, topErrorControlIdList]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    if (!(errorControlIdList !== null && errorControlIdList !== void 0 && errorControlIdList.length)) {\n      setBottomErrorControlIdList([]);\n      setTopErrorControlIdList([]);\n    }\n  }, [errorControlIdList]);\n\n  /**\n   * 点击顶部导航跳转到错误的字段\n   */\n  var handleClickTopJumpErrorControl = function handleClickTopJumpErrorControl() {\n    if (topErrorControlIdList.length > 0) {\n      var errorControlId = topErrorControlIdList[0];\n      jumpErrorControl(errorControlId);\n    }\n  };\n\n  /**\n   * 点击底部导航跳转到错误的字段\n   */\n  var handleClickBottomJumpErrorControl = function handleClickBottomJumpErrorControl() {\n    if (bottomErrorControlIdList.length > 0) {\n      var errorControlId = bottomErrorControlIdList[0];\n      jumpErrorControl(errorControlId);\n    }\n  };\n  // console.log('');\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().Fragment), null, topErrorControlIdList.length > 0 && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_16___default()(\"\".concat(prefixCls, \"_errorguide\"), \"\".concat(prefixCls, \"_errorguide_top\")),\n    title: \"\\u5B9A\\u4F4D\\u5230\\u9519\\u8BEF\\u7684\\u5B57\\u6BB5\",\n    onClick: handleClickTopJumpErrorControl\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Icon, {\n    className: \"\".concat(prefixCls, \"_errorguide_shuidi\"),\n    prefix: \"designericon\",\n    type: \"shuidizhixiang\"\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_ErrorIcon__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    className: \"\".concat(prefixCls, \"_errorguide_icon\")\n  })), bottomErrorControlIdList.length > 0 && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_16___default()(\"\".concat(prefixCls, \"_errorguide\"), \"\".concat(prefixCls, \"_errorguide_bottom\")),\n    title: \"\\u5B9A\\u4F4D\\u5230\\u9519\\u8BEF\\u7684\\u5B57\\u6BB5\",\n    onClick: handleClickBottomJumpErrorControl\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Icon, {\n    className: \"\".concat(prefixCls, \"_errorguide_shuidi\"),\n    prefix: \"designericon\",\n    type: \"shuidizhixiang\"\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_ErrorIcon__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    className: \"\".concat(prefixCls, \"_errorguide_icon\")\n  })));\n};\n\n// 设计器选中控件的悬浮菜单\nvar ControlError = function ControlError(props) {\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useContext)(_context__WEBPACK_IMPORTED_MODULE_11__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    prefixCls = _useContext.prefixCls,\n    isPC = _useContext.isPC;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data,\n    selectionContext = kdesignerApi.selection,\n    errorContext = kdesignerApi.error;\n  var rootId = dataContext.getRootId();\n  var error = errorContext.getError();\n  var errorControlIdList = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useMemo)(function () {\n    return _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5___default()(error);\n  }, [error]);\n  var data = dataContext.getData();\n  // console.log('ControlError ====>', error, errorControlIdList, dataContext.getData())\n\n  var mainViewRootDom = document.getElementById(_constants__WEBPACK_IMPORTED_MODULE_12__.MAINVIEW_ROOT_ID);\n  var rootDom = document.querySelector(\"[data-control-id=\\\"\".concat(rootId, \"\\\"]\"));\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useReducer)(function (n) {\n      return n + 1;\n    }, 0),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useReducer, 2),\n    forceUpdate = _useReducer2[1];\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.useErrorChangeForceUpdateEffect)(kdesignerApi);\n  // useDataChangeForceUpdateEffect(kdesignerApi)\n  (0,_hooks_useListenError__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(kdesignerApi);\n\n  // 有可能数据删除或者增加\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useLayoutEffect)(function () {\n    // 这里forceUpdate一下，确保切换pc/mobile的时候能正常显示\n    forceUpdate();\n  }, [isPC, data.Items.length]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().Fragment), null, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default()(errorControlIdList).call(errorControlIdList, function (item) {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_ErrorTips__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n      key: item,\n      prefixCls: prefixCls,\n      id: item,\n      nodeErrorData: error[item],\n      rootDom: rootDom\n    });\n  }), rootDom && (0,kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_8__.createPortal)( /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ErrorGuide, {\n    isPC: isPC,\n    prefixCls: prefixCls,\n    errorControlIdList: errorControlIdList,\n    error: error,\n    root: mainViewRootDom\n  }), rootDom));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ControlError);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjUzOTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFNQTtBQUpBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqQkE7QUFBQTtBQUFBO0FBbUJBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBS0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvY29tcG9uZW50cy9Db250cm9sRXJyb3IudHN4PzdkZmYiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMy0wNC0yNiAxMTowOTowMVxuICogQExhc3RFZGl0VGltZTogMjAyMy0wNS0yMiAxMDoxMDowN1xuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VNZW1vLCBtZW1vLCB1c2VMYXlvdXRFZmZlY3QsIHVzZVJlZHVjZXIgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gJ3JlYWN0LWRvbSdcbmltcG9ydCB7XG4gIHVzZUVycm9yQ2hhbmdlRm9yY2VVcGRhdGVFZmZlY3Rcbn0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQnXG5pbXBvcnQgeyBNQUlOVklFV19ST09UX0lELCBTWVNfQ0FURUdPUllfUFJFRklYIH0gZnJvbSAnLi4vY29uc3RhbnRzJ1xuaW1wb3J0IEVycm9yVGlwcyBmcm9tICcuL0Vycm9yVGlwcydcbmltcG9ydCBFcnJvckljb24gZnJvbSAnLi9FcnJvckljb24nXG5pbXBvcnQgdXNlTGlzdGVuRXJyb3IgZnJvbSAnLi4vaG9va3MvdXNlTGlzdGVuRXJyb3InXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xuXG5leHBvcnQgY29uc3Qgcm9vdERvbUlkID0gJ3VpLWRlc2lnbmVyLXJvb3QnXG5cbi8vIOWPr+ingeeahHppbmRleFxuZXhwb3J0IGNvbnN0IHZpc2libGVaaW5kZXggPSAnMTA1MCdcbi8vIOS4jeWPr+ingeeahHppbmRleFxuZXhwb3J0IGNvbnN0IGhpZGRlblppbmRleCA9ICctMSdcbi8vIOaCrOa1ruiPnOWNleeahOmrmOW6puaBkuWumuS4jeWPmCwg6ICM5a695bqm6ZqP552A5Yqf6IO955qE5aKe5Yqg5Lya5pyJ5Y+Y5YyWLCDmiYDku6Xlrr3luqbmmK/lj6/lj5jnmoRcbmV4cG9ydCBjb25zdCBOT0RFX0hFSUdIVCA9IDI0XG5cbmNvbnN0IGp1bXBFcnJvckNvbnRyb2wgPSAoaWQ6IHN0cmluZykgPT4ge1xuICBpZiAoIWlkKSByZXR1cm5cblxuICBjb25zdCBlcnJvckNvbnRyb2xEb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jb250cm9sLWlkPVwiJHtpZH1cIl1gKVxuXG4gIGlmICghZXJyb3JDb250cm9sRG9tKSB7XG4gICAgY29uc29sZS5sb2coJ+aJvuS4jeWIsOWvueW6lOeahOWtl+autScsIGlkKVxuICAgIHJldHVyblxuICB9XG5cbiAgaWYgKGVycm9yQ29udHJvbERvbT8uc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCkge1xuICAgIGVycm9yQ29udHJvbERvbS5zY3JvbGxJbnRvVmlld0lmTmVlZGVkKClcbiAgfSBlbHNlIHtcbiAgICBlcnJvckNvbnRyb2xEb20/LnNjcm9sbEludG9WaWV3KHsgYmxvY2s6ICdjZW50ZXInIH0pXG4gIH1cbn1cblxuLy8g6ZSZ6K+v5oyH5byVXG5jb25zdCBFcnJvckd1aWRlID0gKHtcbiAgaXNQQyxcbiAgZXJyb3JDb250cm9sSWRMaXN0LFxuICBlcnJvcixcbiAgcm9vdCxcbiAgcHJlZml4Q2xzXG59KSA9PiB7XG4gIGNvbnN0IFt0b3BFcnJvckNvbnRyb2xJZExpc3QsIHNldFRvcEVycm9yQ29udHJvbElkTGlzdF0gPSB1c2VTdGF0ZShbXSlcbiAgY29uc3QgW2JvdHRvbUVycm9yQ29udHJvbElkTGlzdCwgc2V0Qm90dG9tRXJyb3JDb250cm9sSWRMaXN0XSA9IHVzZVN0YXRlKFtdKVxuXG4gIGNvbnN0IG9wdGlvbiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICByb290LFxuICAgICAgcm9vdE1hcmdpbjogJzBweCAwcHggMHB4IDBweCcsXG4gICAgICB0aHJlc2hvbGQ6IFswLCAwLjI1LCAwLjUsIDAuNzUsIDFdLFxuICAgICAgdHJhY2tWaXNpYmlsaXR5OiB0cnVlLFxuICAgICAgZGVsYXk6IDIwMFxuICAgIH1cbiAgfSwgW3Jvb3RdKVxuXG4gIGNvbnN0IGFkZEludGVyc2VjdGlvbk9ic2VydmVyID0gdXNlQ2FsbGJhY2soKHRhcmdldCwgY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCBJbnRlcnNlY3Rpb25PYnNlcnZlciA9IHdpbmRvdy5JbnRlcnNlY3Rpb25PYnNlcnZlclxuICAgIGxldCBvYnNlcnZlclxuICAgIGlmIChJbnRlcnNlY3Rpb25PYnNlcnZlciAmJiB0YXJnZXQpIHtcbiAgICAgIG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKGVudHJpZXMpXG4gICAgICB9LCBvcHRpb24pXG4gICAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldClcbiAgICAgIHJldHVybiBvYnNlcnZlclxuICAgIH1cbiAgfSwgW29wdGlvbl0pXG5cbiAgY29uc3QgZmlsdGVyTGlzdEJ5Q29udHJvbElkID0gKGxpc3QsIGNvbnRyb2xJZCkgPT4ge1xuICAgIGlmIChsaXN0LmluY2x1ZGVzKGNvbnRyb2xJZCkpIHtcbiAgICAgIHJldHVybiBsaXN0LmZpbHRlcihpZCA9PiBpZCAhPT0gY29udHJvbElkKVxuICAgIH1cbiAgICByZXR1cm4gbGlzdFxuICB9XG5cbiAgY29uc3QgZXJyb3JDb250cm9sT2JzZXJ2ZXJDYWxsYmFjayA9IHVzZUNhbGxiYWNrKChlcnJvckNvbnRyb2xJZCwgZW50cmllcywgb2JzZXJ2ZXIpID0+IHtcbiAgICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgY29uc3QgeyB0b3A6IHJvb3RUb3AsIGhlaWdodDogcm9vdEhlaWdodCB9ID0gZW50cnkucm9vdEJvdW5kc1xuXG4gICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgc2V0Qm90dG9tRXJyb3JDb250cm9sSWRMaXN0KChib3R0b21FcnJvckNvbnRyb2xJZExpc3QpID0+IHtcbiAgICAgICAgICByZXR1cm4gZmlsdGVyTGlzdEJ5Q29udHJvbElkKGJvdHRvbUVycm9yQ29udHJvbElkTGlzdCwgZXJyb3JDb250cm9sSWQpXG4gICAgICAgIH0pXG4gICAgICAgIHNldFRvcEVycm9yQ29udHJvbElkTGlzdCgodG9wRXJyb3JDb250cm9sSWRMaXN0KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZpbHRlckxpc3RCeUNvbnRyb2xJZCh0b3BFcnJvckNvbnRyb2xJZExpc3QsIGVycm9yQ29udHJvbElkKVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaXNCb3R0b20gPSBlbnRyeS5ib3VuZGluZ0NsaWVudFJlY3QueSA+IHJvb3RIZWlnaHRcbiAgICAgICAgY29uc3QgaXNUb3AgPSBlbnRyeS5ib3VuZGluZ0NsaWVudFJlY3QueSA8IHJvb3RUb3BcblxuICAgICAgICBpZiAoaXNCb3R0b20pIHtcbiAgICAgICAgICBzZXRCb3R0b21FcnJvckNvbnRyb2xJZExpc3QoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFib3R0b21FcnJvckNvbnRyb2xJZExpc3QuaW5jbHVkZXMoZXJyb3JDb250cm9sSWQpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBbLi4uYm90dG9tRXJyb3JDb250cm9sSWRMaXN0LCBlcnJvckNvbnRyb2xJZF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBib3R0b21FcnJvckNvbnRyb2xJZExpc3RcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2UgaWYgKGlzVG9wKSB7XG4gICAgICAgICAgc2V0VG9wRXJyb3JDb250cm9sSWRMaXN0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICghdG9wRXJyb3JDb250cm9sSWRMaXN0LmluY2x1ZGVzKGVycm9yQ29udHJvbElkKSkge1xuICAgICAgICAgICAgICByZXR1cm4gWy4uLnRvcEVycm9yQ29udHJvbElkTGlzdCwgZXJyb3JDb250cm9sSWRdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdG9wRXJyb3JDb250cm9sSWRMaXN0XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH0sIFtib3R0b21FcnJvckNvbnRyb2xJZExpc3QsIHRvcEVycm9yQ29udHJvbElkTGlzdF0pXG5cbiAgLy8gaXNQQ+S9nOS4uuS+nei1lumhueaYr+WboOS4uuiuvuiuoeWZqOaXtuWAmeWIh+aNouenu+WKqOerr1BD56uv77yM6ZyA6KaB6YeN5paw55uR5ZCs5LiA5LiLXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGVycm9yQ29udHJvbElkTGlzdD8ubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qgb2JzZXJ2ZXJEYXRhTWFwID0ge31cbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBlcnJvckNvbnRyb2xJZExpc3Q/Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCBlcnJvckNvbnRyb2xJZCA9IGVycm9yQ29udHJvbElkTGlzdFtpbmRleF1cbiAgICAgICAgaWYgKGVycm9yW2Vycm9yQ29udHJvbElkXSAmJiBPYmplY3Qua2V5cyhlcnJvcltlcnJvckNvbnRyb2xJZF0pPy5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBlcnJvckNvbnRyb2xEb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jb250cm9sLWlkPVwiJHtlcnJvckNvbnRyb2xJZH1cIl1gKVxuICAgICAgICAgIG9ic2VydmVyRGF0YU1hcFtlcnJvckNvbnRyb2xJZF0gPSBhZGRJbnRlcnNlY3Rpb25PYnNlcnZlcihlcnJvckNvbnRyb2xEb20sICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICBlcnJvckNvbnRyb2xPYnNlcnZlckNhbGxiYWNrKGVycm9yQ29udHJvbElkLCAuLi5hcmdzKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2JzZXJ2ZXJEYXRhTWFwW2Vycm9yQ29udHJvbElkXT8uZGlzY29ubmVjdCgpXG5cbiAgICAgICAgICBzZXRCb3R0b21FcnJvckNvbnRyb2xJZExpc3QoKGJvdHRvbUVycm9yQ29udHJvbElkTGlzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlckxpc3RCeUNvbnRyb2xJZChib3R0b21FcnJvckNvbnRyb2xJZExpc3QsIGVycm9yQ29udHJvbElkKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgc2V0VG9wRXJyb3JDb250cm9sSWRMaXN0KCh0b3BFcnJvckNvbnRyb2xJZExpc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJMaXN0QnlDb250cm9sSWQodG9wRXJyb3JDb250cm9sSWRMaXN0LCBlcnJvckNvbnRyb2xJZClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIE9iamVjdC5rZXlzKG9ic2VydmVyRGF0YU1hcCkuZm9yRWFjaChpZCA9PiB7XG4gICAgICAgICAgb2JzZXJ2ZXJEYXRhTWFwW2lkXT8uZGlzY29ubmVjdCgpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICB9LCBbaXNQQywgZXJyb3JDb250cm9sSWRMaXN0LCBib3R0b21FcnJvckNvbnRyb2xJZExpc3QsIHRvcEVycm9yQ29udHJvbElkTGlzdF0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWVycm9yQ29udHJvbElkTGlzdD8ubGVuZ3RoKSB7XG4gICAgICBzZXRCb3R0b21FcnJvckNvbnRyb2xJZExpc3QoW10pXG4gICAgICBzZXRUb3BFcnJvckNvbnRyb2xJZExpc3QoW10pXG4gICAgfVxuICB9LCBbZXJyb3JDb250cm9sSWRMaXN0XSlcblxuICAvKipcbiAgICog54K55Ye76aG26YOo5a+86Iiq6Lez6L2s5Yiw6ZSZ6K+v55qE5a2X5q61XG4gICAqL1xuICBjb25zdCBoYW5kbGVDbGlja1RvcEp1bXBFcnJvckNvbnRyb2wgPSAoKSA9PiB7XG4gICAgaWYgKHRvcEVycm9yQ29udHJvbElkTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBlcnJvckNvbnRyb2xJZCA9IHRvcEVycm9yQ29udHJvbElkTGlzdFswXVxuXG4gICAgICBqdW1wRXJyb3JDb250cm9sKGVycm9yQ29udHJvbElkKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDngrnlh7vlupXpg6jlr7zoiKrot7PovazliLDplJnor6/nmoTlrZfmrrVcbiAgICovXG4gIGNvbnN0IGhhbmRsZUNsaWNrQm90dG9tSnVtcEVycm9yQ29udHJvbCA9ICgpID0+IHtcbiAgICBpZiAoYm90dG9tRXJyb3JDb250cm9sSWRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGVycm9yQ29udHJvbElkID0gYm90dG9tRXJyb3JDb250cm9sSWRMaXN0WzBdXG5cbiAgICAgIGp1bXBFcnJvckNvbnRyb2woZXJyb3JDb250cm9sSWQpXG4gICAgfVxuICB9XG4gIC8vIGNvbnNvbGUubG9nKCcnKTtcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAge3RvcEVycm9yQ29udHJvbElkTGlzdC5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhgJHtwcmVmaXhDbHN9X2Vycm9yZ3VpZGVgLCBgJHtwcmVmaXhDbHN9X2Vycm9yZ3VpZGVfdG9wYCl9XG4gICAgICAgICAgdGl0bGU9J+WumuS9jeWIsOmUmeivr+eahOWtl+autSdcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbGlja1RvcEp1bXBFcnJvckNvbnRyb2x9XG4gICAgICAgID5cbiAgICAgICAgICA8SWNvbiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc31fZXJyb3JndWlkZV9zaHVpZGlgfSBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nc2h1aWRpemhpeGlhbmcnIC8+XG4gICAgICAgICAgPEVycm9ySWNvbiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc31fZXJyb3JndWlkZV9pY29uYH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAge2JvdHRvbUVycm9yQ29udHJvbElkTGlzdC5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhgJHtwcmVmaXhDbHN9X2Vycm9yZ3VpZGVgLCBgJHtwcmVmaXhDbHN9X2Vycm9yZ3VpZGVfYm90dG9tYCl9XG4gICAgICAgICAgdGl0bGU9J+WumuS9jeWIsOmUmeivr+eahOWtl+autSdcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbGlja0JvdHRvbUp1bXBFcnJvckNvbnRyb2x9XG4gICAgICAgID5cbiAgICAgICAgICA8SWNvbiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc31fZXJyb3JndWlkZV9zaHVpZGlgfSBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nc2h1aWRpemhpeGlhbmcnIC8+XG4gICAgICAgICAgPEVycm9ySWNvbiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc31fZXJyb3JndWlkZV9pY29uYH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvPlxuICApXG59XG5cbi8vIOiuvuiuoeWZqOmAieS4reaOp+S7tueahOaCrOa1ruiPnOWNlVxuY29uc3QgQ29udHJvbEVycm9yID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIGNvbnN0IHsgZ2V0S2Rlc2lnbmVyQXBpLCBwcmVmaXhDbHMsIGlzUEMgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCBrZGVzaWduZXJBcGkgPSB1c2VNZW1vKCgpID0+IGdldEtkZXNpZ25lckFwaSgpLCBbXSlcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCwgc2VsZWN0aW9uOiBzZWxlY3Rpb25Db250ZXh0LCBlcnJvcjogZXJyb3JDb250ZXh0IH0gPSBrZGVzaWduZXJBcGlcbiAgY29uc3Qgcm9vdElkID0gZGF0YUNvbnRleHQuZ2V0Um9vdElkKClcbiAgY29uc3QgZXJyb3IgPSBlcnJvckNvbnRleHQuZ2V0RXJyb3IoKVxuXG4gIGNvbnN0IGVycm9yQ29udHJvbElkTGlzdCA9IHVzZU1lbW8oKCkgPT4gT2JqZWN0LmtleXMoZXJyb3IpLCBbZXJyb3JdKVxuICBjb25zdCBkYXRhID0gZGF0YUNvbnRleHQuZ2V0RGF0YSgpXG4gIC8vIGNvbnNvbGUubG9nKCdDb250cm9sRXJyb3IgPT09PT4nLCBlcnJvciwgZXJyb3JDb250cm9sSWRMaXN0LCBkYXRhQ29udGV4dC5nZXREYXRhKCkpXG5cbiAgY29uc3QgbWFpblZpZXdSb290RG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoTUFJTlZJRVdfUk9PVF9JRClcbiAgY29uc3Qgcm9vdERvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNvbnRyb2wtaWQ9XCIke3Jvb3RJZH1cIl1gKVxuXG4gIGNvbnN0IFssIGZvcmNlVXBkYXRlXSA9IHVzZVJlZHVjZXIobiA9PiBuICsgMSwgMClcblxuICB1c2VFcnJvckNoYW5nZUZvcmNlVXBkYXRlRWZmZWN0KGtkZXNpZ25lckFwaSlcbiAgLy8gdXNlRGF0YUNoYW5nZUZvcmNlVXBkYXRlRWZmZWN0KGtkZXNpZ25lckFwaSlcbiAgdXNlTGlzdGVuRXJyb3Ioa2Rlc2lnbmVyQXBpKVxuXG4gIC8vIOacieWPr+iDveaVsOaNruWIoOmZpOaIluiAheWinuWKoFxuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIC8vIOi/memHjGZvcmNlVXBkYXRl5LiA5LiL77yM56Gu5L+d5YiH5o2icGMvbW9iaWxl55qE5pe25YCZ6IO95q2j5bi45pi+56S6XG4gICAgZm9yY2VVcGRhdGUoKVxuICB9LCBbaXNQQywgZGF0YS5JdGVtcy5sZW5ndGhdKVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHtcbiAgICAgICAgZXJyb3JDb250cm9sSWRMaXN0Lm1hcChpdGVtID0+IHtcbiAgICAgICAgICByZXR1cm4gPEVycm9yVGlwcyBrZXk9e2l0ZW19IHByZWZpeENscz17cHJlZml4Q2xzfSBpZD17aXRlbX0gbm9kZUVycm9yRGF0YT17ZXJyb3JbaXRlbV19IHJvb3REb209e3Jvb3REb219IC8+XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICB7XG4gICAgICAgIHJvb3REb20gJiYgY3JlYXRlUG9ydGFsKFxuICAgICAgICAgIDxFcnJvckd1aWRlIGlzUEM9e2lzUEN9IHByZWZpeENscz17cHJlZml4Q2xzfSBlcnJvckNvbnRyb2xJZExpc3Q9e2Vycm9yQ29udHJvbElkTGlzdH0gZXJyb3I9e2Vycm9yfSByb290PXttYWluVmlld1Jvb3REb219IC8+LFxuICAgICAgICAgIHJvb3REb21cbiAgICAgICAgKVxuICAgICAgfVxuICAgIDwvPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xFcnJvclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///65392\n");

/***/ }),

/***/ 36900:
/*!**************************************!*\
  !*** ./src/components/CustomTab.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _ErrorIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ErrorIcon */ 29996);\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-04-25 17:43:22\n * @LastEditTime: 2023-05-09 16:34:11\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n// 展示错误的页签\nvar SHOW_ERROR_TAB = ['property'];\nvar allPropertyIdListByType = {};\nvar CustomTab = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.memo)(function (props) {\n  var tabName = props.tabName,\n    tabKey = props.tabKey;\n  if (!_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(SHOW_ERROR_TAB).call(SHOW_ERROR_TAB, tabKey)) return tabName;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_context__WEBPACK_IMPORTED_MODULE_6__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    prefixCls = _useContext.prefixCls;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var errorContext = kdesignerApi.error,\n    metaContext = kdesignerApi.meta,\n    dataContext = kdesignerApi.data,\n    selectionContext = kdesignerApi.selection;\n  var error = errorContext.getError();\n  var selection = selectionContext.getSelection();\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    showError = _useState2[0],\n    setShowError = _useState2[1];\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useState)([]),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState3, 2),\n    selectedErrorControlProps = _useState4[0],\n    setSelectedErrorControlProps = _useState4[1];\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.useErrorChangeForceUpdateEffect)(kdesignerApi);\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.useSelectionChangeForceUpdateEffect)(kdesignerApi);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    var _Object$keys;\n    if ((selection === null || selection === void 0 ? void 0 : selection.length) > 0 && ((_Object$keys = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default()(error)) === null || _Object$keys === void 0 ? void 0 : _Object$keys.length) > 0) {\n      var tabExsitError = selection.some(function (controlId) {\n        var controlMeta = dataContext.findControl(controlId);\n        var type = controlMeta._Type_;\n        var propertyGroups = metaContext.getControlMetaPropertyGroups(type);\n        if (error[controlId]) {\n          var errorPropNameList = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default()(error[controlId]);\n          setSelectedErrorControlProps(errorPropNameList);\n          if (errorPropNameList.length > 0) {\n            var allPropertyIdList = allPropertyIdListByType[type];\n\n            // 做一层缓存\n            if (!allPropertyIdList) {\n              allPropertyIdList = [];\n              propertyGroups.forEach(function (propertyGroup) {\n                if (propertyGroup !== null && propertyGroup !== void 0 && propertyGroup.Nodes) {\n                  propertyGroup === null || propertyGroup === void 0 || propertyGroup.Nodes.forEach(function (node) {\n                    allPropertyIdList.push(node.Id);\n                  });\n                }\n              });\n              allPropertyIdListByType[type] = allPropertyIdList;\n            }\n            var firstErrorName = errorPropNameList[0];\n\n            // 只要错误\n            return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(allPropertyIdList).call(allPropertyIdList, firstErrorName);\n          }\n        }\n        return false;\n      });\n      setShowError(tabExsitError);\n    } else {\n      if (showError) {\n        setShowError(false);\n      }\n    }\n    console.log('selection', selection);\n  }, [selection, error]);\n  var errorTipsContent = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\n    if ((selectedErrorControlProps === null || selectedErrorControlProps === void 0 ? void 0 : selectedErrorControlProps.length) === 0) return '';\n    // if (nodeErrorLen > 1) {\n    return \"\\u5B58\\u5728\\u6709\".concat(selectedErrorControlProps === null || selectedErrorControlProps === void 0 ? void 0 : selectedErrorControlProps.length, \"\\u6761\\u9519\\u8BEF\\uFF0C\\u8BF7\\u4FEE\\u590D\\u540E\\u518D\\u53D1\\u5E03\\uFF01\");\n    // }\n  }, [selectedErrorControlProps]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"_customtab\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"_customtab_name\")\n  }, tabName), showError && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4__.Tooltip, {\n    tip: errorTipsContent\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_ErrorIcon__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    className: \"\".concat(prefixCls, \"_customtab_icon\")\n  })));\n});\nCustomTab.displayName = 'CustomTab';\n/* harmony default export */ __webpack_exports__[\"default\"] = (CustomTab);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY5MDAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBS0E7QUFFQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2NvbXBvbmVudHMvQ3VzdG9tVGFiLnRzeD80Mzc1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjMtMDQtMjUgMTc6NDM6MjJcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMDUtMDkgMTY6MzQ6MTFcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QsIHsgbWVtbywgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IHtcbiAgdXNlU2VsZWN0aW9uQ2hhbmdlRm9yY2VVcGRhdGVFZmZlY3QsIHVzZUVycm9yQ2hhbmdlRm9yY2VVcGRhdGVFZmZlY3Rcbn0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dCdcbmltcG9ydCBFcnJvckljb24gZnJvbSAnLi9FcnJvckljb24nXG5cbi8vIOWxleekuumUmeivr+eahOmhteetvlxuY29uc3QgU0hPV19FUlJPUl9UQUIgPSBbJ3Byb3BlcnR5J11cblxuY29uc3QgYWxsUHJvcGVydHlJZExpc3RCeVR5cGUgPSB7XG5cbn1cblxuY29uc3QgQ3VzdG9tVGFiID0gbWVtbygocHJvcHMpID0+IHtcbiAgY29uc3QgeyB0YWJOYW1lLCB0YWJLZXkgfSA9IHByb3BzXG5cbiAgaWYgKCFTSE9XX0VSUk9SX1RBQi5pbmNsdWRlcyh0YWJLZXkpKSByZXR1cm4gdGFiTmFtZVxuXG4gIGNvbnN0IHsgZ2V0S2Rlc2lnbmVyQXBpLCBwcmVmaXhDbHMgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCBrZGVzaWduZXJBcGkgPSB1c2VNZW1vKCgpID0+IGdldEtkZXNpZ25lckFwaSgpLCBbXSlcbiAgY29uc3QgeyBlcnJvcjogZXJyb3JDb250ZXh0LCBtZXRhOiBtZXRhQ29udGV4dCwgZGF0YTogZGF0YUNvbnRleHQsIHNlbGVjdGlvbjogc2VsZWN0aW9uQ29udGV4dCB9ID0ga2Rlc2lnbmVyQXBpXG4gIGNvbnN0IGVycm9yID0gZXJyb3JDb250ZXh0LmdldEVycm9yKClcbiAgY29uc3Qgc2VsZWN0aW9uID0gc2VsZWN0aW9uQ29udGV4dC5nZXRTZWxlY3Rpb24oKVxuXG4gIGNvbnN0IFtzaG93RXJyb3IsIHNldFNob3dFcnJvcl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3NlbGVjdGVkRXJyb3JDb250cm9sUHJvcHMsIHNldFNlbGVjdGVkRXJyb3JDb250cm9sUHJvcHNdID0gdXNlU3RhdGUoW10pXG5cbiAgdXNlRXJyb3JDaGFuZ2VGb3JjZVVwZGF0ZUVmZmVjdChrZGVzaWduZXJBcGkpXG4gIHVzZVNlbGVjdGlvbkNoYW5nZUZvcmNlVXBkYXRlRWZmZWN0KGtkZXNpZ25lckFwaSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzZWxlY3Rpb24/Lmxlbmd0aCA+IDAgJiYgT2JqZWN0LmtleXMoZXJyb3IpPy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB0YWJFeHNpdEVycm9yID0gc2VsZWN0aW9uLnNvbWUoY29udHJvbElkID0+IHtcbiAgICAgICAgY29uc3QgY29udHJvbE1ldGEgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChjb250cm9sSWQpXG4gICAgICAgIGNvbnN0IHR5cGUgPSBjb250cm9sTWV0YS5fVHlwZV9cblxuICAgICAgICBjb25zdCBwcm9wZXJ0eUdyb3VwcyA9IG1ldGFDb250ZXh0LmdldENvbnRyb2xNZXRhUHJvcGVydHlHcm91cHModHlwZSlcblxuICAgICAgICBpZiAoZXJyb3JbY29udHJvbElkXSkge1xuICAgICAgICAgIGNvbnN0IGVycm9yUHJvcE5hbWVMaXN0ID0gT2JqZWN0LmtleXMoZXJyb3JbY29udHJvbElkXSlcbiAgICAgICAgICBzZXRTZWxlY3RlZEVycm9yQ29udHJvbFByb3BzKGVycm9yUHJvcE5hbWVMaXN0KVxuICAgICAgICAgIGlmIChlcnJvclByb3BOYW1lTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgYWxsUHJvcGVydHlJZExpc3QgPSBhbGxQcm9wZXJ0eUlkTGlzdEJ5VHlwZVt0eXBlXVxuXG4gICAgICAgICAgICAvLyDlgZrkuIDlsYLnvJPlrZhcbiAgICAgICAgICAgIGlmICghYWxsUHJvcGVydHlJZExpc3QpIHtcbiAgICAgICAgICAgICAgYWxsUHJvcGVydHlJZExpc3QgPSBbXVxuICAgICAgICAgICAgICBwcm9wZXJ0eUdyb3Vwcy5mb3JFYWNoKHByb3BlcnR5R3JvdXAgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eUdyb3VwPy5Ob2Rlcykge1xuICAgICAgICAgICAgICAgICAgcHJvcGVydHlHcm91cD8uTm9kZXMuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWxsUHJvcGVydHlJZExpc3QucHVzaChub2RlLklkKVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIGFsbFByb3BlcnR5SWRMaXN0QnlUeXBlW3R5cGVdID0gYWxsUHJvcGVydHlJZExpc3RcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZmlyc3RFcnJvck5hbWUgPSBlcnJvclByb3BOYW1lTGlzdFswXVxuXG4gICAgICAgICAgICAvLyDlj6ropoHplJnor69cbiAgICAgICAgICAgIHJldHVybiBhbGxQcm9wZXJ0eUlkTGlzdC5pbmNsdWRlcyhmaXJzdEVycm9yTmFtZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9KVxuXG4gICAgICBzZXRTaG93RXJyb3IodGFiRXhzaXRFcnJvcilcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHNob3dFcnJvcikge1xuICAgICAgICBzZXRTaG93RXJyb3IoZmFsc2UpXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCdzZWxlY3Rpb24nLCBzZWxlY3Rpb24pXG4gIH0sIFtzZWxlY3Rpb24sIGVycm9yXSlcblxuICBjb25zdCBlcnJvclRpcHNDb250ZW50ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkRXJyb3JDb250cm9sUHJvcHM/Lmxlbmd0aCA9PT0gMCkgcmV0dXJuICcnXG4gICAgLy8gaWYgKG5vZGVFcnJvckxlbiA+IDEpIHtcbiAgICByZXR1cm4gYOWtmOWcqOaciSR7c2VsZWN0ZWRFcnJvckNvbnRyb2xQcm9wcz8ubGVuZ3RofeadoemUmeivr++8jOivt+S/ruWkjeWQjuWGjeWPkeW4g++8gWBcbiAgICAvLyB9XG4gIH0sIFtzZWxlY3RlZEVycm9yQ29udHJvbFByb3BzXSlcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9X2N1c3RvbXRhYmB9PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9X2N1c3RvbXRhYl9uYW1lYH0+e3RhYk5hbWV9PC9zcGFuPlxuICAgICAge3Nob3dFcnJvciAmJiAoXG4gICAgICAgIDxUb29sdGlwIHRpcD17ZXJyb3JUaXBzQ29udGVudH0+XG4gICAgICAgICAgPEVycm9ySWNvbiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc31fY3VzdG9tdGFiX2ljb25gfSAvPlxuICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApXG59KVxuXG5DdXN0b21UYWIuZGlzcGxheU5hbWUgPSAnQ3VzdG9tVGFiJ1xuXG5leHBvcnQgZGVmYXVsdCBDdXN0b21UYWJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///36900\n");

/***/ }),

/***/ 29996:
/*!**************************************!*\
  !*** ./src/components/ErrorIcon.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-04-25 18:41:54\n * @LastEditTime: 2023-04-25 19:06:34\n * @Last Modified by: jianhang_he\n */\n\n\n\n\nvar ErrorIcon = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_0__.memo)((0,kd_libs_react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var className = _ref.className;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_2__.DesignerContext),\n    prefixCls = _useContext.prefixCls;\n  var iconRef = ref || (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    ref: iconRef,\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(\"\".concat(prefixCls, \"_erroricon\"), className)\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"_erroricon_content\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    className: \"\".concat(prefixCls, \"_erroricon_gantanhao\"),\n    prefix: \"designericon\",\n    type: \"gantanhao\"\n  })));\n}));\nErrorIcon.displayName = 'ErrorIcon';\n/* harmony default export */ __webpack_exports__[\"default\"] = (ErrorIcon);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjk5OTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFFQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2NvbXBvbmVudHMvRXJyb3JJY29uLnRzeD9kMGE1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjMtMDQtMjUgMTg6NDE6NTRcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMDQtMjUgMTk6MDY6MzRcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QsIHsgbWVtbywgdXNlQ29udGV4dCwgZm9yd2FyZFJlZiwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dCdcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnXG5cbmNvbnN0IEVycm9ySWNvbiA9IG1lbW8oZm9yd2FyZFJlZigoe1xuICBjbGFzc05hbWVcbn0sIHJlZikgPT4ge1xuICBjb25zdCB7IHByZWZpeENscyB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IGljb25SZWYgPSByZWYgfHwgdXNlUmVmKG51bGwpXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHJlZj17aWNvblJlZn0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKGAke3ByZWZpeENsc31fZXJyb3JpY29uYCwgY2xhc3NOYW1lKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfV9lcnJvcmljb25fY29udGVudGB9PlxuICAgICAgICA8SWNvbiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc31fZXJyb3JpY29uX2dhbnRhbmhhb2B9IHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPSdnYW50YW5oYW8nIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufSkpXG5cbkVycm9ySWNvbi5kaXNwbGF5TmFtZSA9ICdFcnJvckljb24nXG5cbmV4cG9ydCBkZWZhdWx0IEVycm9ySWNvblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///29996\n");

/***/ }),

/***/ 86528:
/*!**************************************!*\
  !*** ./src/components/ErrorTips.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react-dom */ 16428);\n/* harmony import */ var kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _ErrorIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ErrorIcon */ 29996);\n\n\n\n\n\n// import styles from './.less'\n\nvar NODE_HEIGHT = 14;\nvar ErrorTips = function ErrorTips(props) {\n  var prefixCls = props.prefixCls,\n    id = props.id,\n    rootDom = props.rootDom,\n    nodeErrorData = props.nodeErrorData;\n  var containerDom = document.querySelector(\"[data-control-id=\\\"\".concat(id, \"\\\"]\"));\n  var errorTipsRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n  var nodeErrorLen = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    var _Object$keys;\n    return ((_Object$keys = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(nodeErrorData || {})) === null || _Object$keys === void 0 ? void 0 : _Object$keys.length) || 0;\n  }, [nodeErrorData]);\n\n  // useEffect(() => {\n  //   const floatingMenuNode = errorTipsRef.current\n  //   if (!floatingMenuNode || !containerDom) {\n  //     return\n  //   }\n  //   // 绑定观察者\n  //   const observer = observeVisibility(containerDom, floatingMenuNode)\n  //   return () => {\n  //     observer?.disconnect()\n  //   }\n  // }, [errorTipsRef.current, containerDom])\n\n  // const tracePositionCallback = useCallback(traceDomRect => {\n  //   const floatingMenuNode = errorTipsRef.current\n  //   if (!floatingMenuNode || !rootDom) {\n  //     return\n  //   }\n\n  //   const { left: traceDomLeft, top: traceDomTop, width: traceDomWidth, right: traceDomRight } = traceDomRect\n\n  //   const fmnLeft = traceDomRight - NODE_HEIGHT / 2\n  //   const fmnTop = traceDomTop - NODE_HEIGHT / 2\n  //   floatingMenuNode.style.left = `${fmnLeft}px`\n  //   floatingMenuNode.style.top = `${fmnTop}px`\n  // }, [errorTipsRef.current, rootDom])\n  // useTraceElementPosition({ selectedCtrlNode: containerDom, callback: tracePositionCallback })\n\n  var errorTipsContent = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    if (nodeErrorLen === 0) return '';\n    // if (nodeErrorLen > 1) {\n    return \"\\u5B58\\u5728\\u6709\".concat(nodeErrorLen, \"\\u6761\\u9519\\u8BEF\\uFF0C\\u8BF7\\u4FEE\\u590D\\u540E\\u518D\\u53D1\\u5E03\\uFF01\");\n    // }\n\n    // if (nodeErrorData[nodeErrorLen?.[0]]) {\n    //   return `${nodeErrorData[nodeErrorLen?.[0]]?.msg}`\n    // }\n\n    // return ''\n  }, [nodeErrorData, nodeErrorLen]);\n\n  // useEffect(() => {\n  //   const cb = () => {\n  //     tracePositionCallback(containerDom?.getBoundingClientRect())\n  //   }\n  //   const mainViewDom = document.getElementById('nocode-designer-main-root')\n  //   const resizeObserver = addResizeObserve(containerDom, cb)\n  //   const mainViewResizeObserver = addResizeObserve(mainViewDom, cb)\n  //   return () => {\n  //     resizeObserver && resizeObserver.removeResizeObserve()\n  //     mainViewResizeObserver && mainViewResizeObserver.removeResizeObserve()\n  //   }\n  // }, [])\n\n  if (!containerDom) {\n    return null;\n  }\n  if (nodeErrorLen > 0) {\n    containerDom === null || containerDom === void 0 || containerDom.setAttribute('data-control-error', id);\n  } else {\n    containerDom === null || containerDom === void 0 || containerDom.removeAttribute('data-control-error');\n    return null;\n  }\n  return (0,kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)( /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_3__.Tooltip, {\n    tip: errorTipsContent\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ErrorIcon__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    ref: errorTipsRef,\n    className: \"\".concat(prefixCls, \"-error-tips\")\n  })), containerDom);\n};\nErrorTips.displayName = 'ErrorTips';\n/* harmony default export */ __webpack_exports__[\"default\"] = (ErrorTips);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODY1MjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFLQTtBQUdBOztBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBRUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9jb21wb25lbnRzL0Vycm9yVGlwcy50c3g/OTYwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgbWVtbywgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tICdyZWFjdC1kb20nXG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IHtcbiAgdXNlVHJhY2VFbGVtZW50UG9zaXRpb25cbn0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgb2JzZXJ2ZVZpc2liaWxpdHksIHZpc2libGVaaW5kZXgsIGhpZGRlblppbmRleCB9IGZyb20gJy4vRmxvYXRPcGVyYXRpb25CYXInXG5pbXBvcnQgRXJyb3JJY29uIGZyb20gJy4vRXJyb3JJY29uJ1xuaW1wb3J0IHsgYWRkUmVzaXplT2JzZXJ2ZSB9IGZyb20gJy4uL3V0aWxzJ1xuXG4vLyBpbXBvcnQgc3R5bGVzIGZyb20gJy4vLmxlc3MnXG5cbmNvbnN0IE5PREVfSEVJR0hUID0gMTRcblxuY29uc3QgRXJyb3JUaXBzID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgcHJlZml4Q2xzLCBpZCwgcm9vdERvbSwgbm9kZUVycm9yRGF0YSB9ID0gcHJvcHNcblxuICBjb25zdCBjb250YWluZXJEb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jb250cm9sLWlkPVwiJHtpZH1cIl1gKVxuXG4gIGNvbnN0IGVycm9yVGlwc1JlZiA9IHVzZVJlZigpXG5cbiAgY29uc3Qgbm9kZUVycm9yTGVuID0gdXNlTWVtbygoKSA9PiBPYmplY3Qua2V5cyhub2RlRXJyb3JEYXRhIHx8IHt9KT8ubGVuZ3RoIHx8IDAsIFtub2RlRXJyb3JEYXRhXSlcblxuICAvLyB1c2VFZmZlY3QoKCkgPT4ge1xuICAvLyAgIGNvbnN0IGZsb2F0aW5nTWVudU5vZGUgPSBlcnJvclRpcHNSZWYuY3VycmVudFxuICAvLyAgIGlmICghZmxvYXRpbmdNZW51Tm9kZSB8fCAhY29udGFpbmVyRG9tKSB7XG4gIC8vICAgICByZXR1cm5cbiAgLy8gICB9XG4gIC8vICAgLy8g57uR5a6a6KeC5a+f6ICFXG4gIC8vICAgY29uc3Qgb2JzZXJ2ZXIgPSBvYnNlcnZlVmlzaWJpbGl0eShjb250YWluZXJEb20sIGZsb2F0aW5nTWVudU5vZGUpXG4gIC8vICAgcmV0dXJuICgpID0+IHtcbiAgLy8gICAgIG9ic2VydmVyPy5kaXNjb25uZWN0KClcbiAgLy8gICB9XG4gIC8vIH0sIFtlcnJvclRpcHNSZWYuY3VycmVudCwgY29udGFpbmVyRG9tXSlcblxuICAvLyBjb25zdCB0cmFjZVBvc2l0aW9uQ2FsbGJhY2sgPSB1c2VDYWxsYmFjayh0cmFjZURvbVJlY3QgPT4ge1xuICAvLyAgIGNvbnN0IGZsb2F0aW5nTWVudU5vZGUgPSBlcnJvclRpcHNSZWYuY3VycmVudFxuICAvLyAgIGlmICghZmxvYXRpbmdNZW51Tm9kZSB8fCAhcm9vdERvbSkge1xuICAvLyAgICAgcmV0dXJuXG4gIC8vICAgfVxuXG4gIC8vICAgY29uc3QgeyBsZWZ0OiB0cmFjZURvbUxlZnQsIHRvcDogdHJhY2VEb21Ub3AsIHdpZHRoOiB0cmFjZURvbVdpZHRoLCByaWdodDogdHJhY2VEb21SaWdodCB9ID0gdHJhY2VEb21SZWN0XG5cbiAgLy8gICBjb25zdCBmbW5MZWZ0ID0gdHJhY2VEb21SaWdodCAtIE5PREVfSEVJR0hUIC8gMlxuICAvLyAgIGNvbnN0IGZtblRvcCA9IHRyYWNlRG9tVG9wIC0gTk9ERV9IRUlHSFQgLyAyXG4gIC8vICAgZmxvYXRpbmdNZW51Tm9kZS5zdHlsZS5sZWZ0ID0gYCR7Zm1uTGVmdH1weGBcbiAgLy8gICBmbG9hdGluZ01lbnVOb2RlLnN0eWxlLnRvcCA9IGAke2ZtblRvcH1weGBcbiAgLy8gfSwgW2Vycm9yVGlwc1JlZi5jdXJyZW50LCByb290RG9tXSlcbiAgLy8gdXNlVHJhY2VFbGVtZW50UG9zaXRpb24oeyBzZWxlY3RlZEN0cmxOb2RlOiBjb250YWluZXJEb20sIGNhbGxiYWNrOiB0cmFjZVBvc2l0aW9uQ2FsbGJhY2sgfSlcblxuICBjb25zdCBlcnJvclRpcHNDb250ZW50ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKG5vZGVFcnJvckxlbiA9PT0gMCkgcmV0dXJuICcnXG4gICAgLy8gaWYgKG5vZGVFcnJvckxlbiA+IDEpIHtcbiAgICByZXR1cm4gYOWtmOWcqOaciSR7bm9kZUVycm9yTGVufeadoemUmeivr++8jOivt+S/ruWkjeWQjuWGjeWPkeW4g++8gWBcbiAgICAvLyB9XG5cbiAgICAvLyBpZiAobm9kZUVycm9yRGF0YVtub2RlRXJyb3JMZW4/LlswXV0pIHtcbiAgICAvLyAgIHJldHVybiBgJHtub2RlRXJyb3JEYXRhW25vZGVFcnJvckxlbj8uWzBdXT8ubXNnfWBcbiAgICAvLyB9XG5cbiAgICAvLyByZXR1cm4gJydcbiAgfSwgW25vZGVFcnJvckRhdGEsIG5vZGVFcnJvckxlbl0pXG5cbiAgLy8gdXNlRWZmZWN0KCgpID0+IHtcbiAgLy8gICBjb25zdCBjYiA9ICgpID0+IHtcbiAgLy8gICAgIHRyYWNlUG9zaXRpb25DYWxsYmFjayhjb250YWluZXJEb20/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKVxuICAvLyAgIH1cbiAgLy8gICBjb25zdCBtYWluVmlld0RvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub2NvZGUtZGVzaWduZXItbWFpbi1yb290JylcbiAgLy8gICBjb25zdCByZXNpemVPYnNlcnZlciA9IGFkZFJlc2l6ZU9ic2VydmUoY29udGFpbmVyRG9tLCBjYilcbiAgLy8gICBjb25zdCBtYWluVmlld1Jlc2l6ZU9ic2VydmVyID0gYWRkUmVzaXplT2JzZXJ2ZShtYWluVmlld0RvbSwgY2IpXG4gIC8vICAgcmV0dXJuICgpID0+IHtcbiAgLy8gICAgIHJlc2l6ZU9ic2VydmVyICYmIHJlc2l6ZU9ic2VydmVyLnJlbW92ZVJlc2l6ZU9ic2VydmUoKVxuICAvLyAgICAgbWFpblZpZXdSZXNpemVPYnNlcnZlciAmJiBtYWluVmlld1Jlc2l6ZU9ic2VydmVyLnJlbW92ZVJlc2l6ZU9ic2VydmUoKVxuICAvLyAgIH1cbiAgLy8gfSwgW10pXG5cbiAgaWYgKCFjb250YWluZXJEb20pIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgaWYgKG5vZGVFcnJvckxlbiA+IDApIHtcbiAgICBjb250YWluZXJEb20/LnNldEF0dHJpYnV0ZSgnZGF0YS1jb250cm9sLWVycm9yJywgaWQpXG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyRG9tPy5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtY29udHJvbC1lcnJvcicpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgY3JlYXRlUG9ydGFsKFxuICAgICAgPFRvb2x0aXAgdGlwPXtlcnJvclRpcHNDb250ZW50fT5cbiAgICAgICAgPEVycm9ySWNvbiByZWY9e2Vycm9yVGlwc1JlZn0gY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWVycm9yLXRpcHNgfSAvPlxuICAgICAgPC9Ub29sdGlwPlxuICAgICAgLCBjb250YWluZXJEb20pXG4gIClcbn1cblxuRXJyb3JUaXBzLmRpc3BsYXlOYW1lID0gJ0Vycm9yVGlwcydcblxuZXhwb3J0IGRlZmF1bHQgRXJyb3JUaXBzXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///86528\n");

/***/ }),

/***/ 70944:
/*!**********************************************!*\
  !*** ./src/components/FloatOperationBar.tsx ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NODE_HEIGHT: function() { return /* binding */ NODE_HEIGHT; },\n/* harmony export */   QuickSetting: function() { return /* binding */ QuickSetting; },\n/* harmony export */   QuickSettingContent: function() { return /* binding */ QuickSettingContent; },\n/* harmony export */   hiddenZindex: function() { return /* binding */ hiddenZindex; },\n/* harmony export */   observeVisibility: function() { return /* binding */ observeVisibility; },\n/* harmony export */   rootDomId: function() { return /* binding */ rootDomId; },\n/* harmony export */   visibleZindex: function() { return /* binding */ visibleZindex; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/sort */ 24244);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../constants */ 98092);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils */ 41232);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../utils/control */ 3700);\n/* harmony import */ var _utils_controlIcon__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../utils/controlIcon */ 84995);\n/* harmony import */ var _SwitchField__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./SwitchField */ 82796);\n/* harmony import */ var _adaptor_utils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../adaptor/utils */ 44928);\n/* harmony import */ var _ContextMenuPanel__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./ContextMenuPanel */ 35832);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var _utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../utils/refBillEditorUtils */ 82048);\n/* harmony import */ var _hooks_useGetControlName__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../hooks/useGetControlName */ 7040);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_27__);\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import { COPY_FORM_DATA, DEL_CONTROL } from '../reducer/reduceConstants'\n// import { cloneDeep } from 'lodash'\n\nvar QuickSettingContent = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.memo)((0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.forwardRef)(function (_ref, ref) {\n  var _context;\n  var prefixCls = _ref.prefixCls,\n    controlId = _ref.controlId;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useContext)(_context__WEBPACK_IMPORTED_MODULE_15__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var metaApi = kdesignerApi.meta,\n    dataContext = kdesignerApi.data;\n  var field = dataContext.findControl(controlId);\n  var _ref2 = field || {},\n    controlType = _ref2._Type_;\n  var data = dataContext.getData();\n  var defaultFieldData = metaApi.getDefaultData(controlType);\n  var controlMeta = metaApi.getControlMeta(controlType);\n  var fieldWithDefaultData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useMemo)(function () {\n    return _objectSpread(_objectSpread({}, defaultFieldData), field);\n  }, [defaultFieldData, field]);\n  var controlPropertyGroups = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_13__.getModelData)(controlMeta.Properties, _objectSpread(_objectSpread({}, data), {}, {\n    field: fieldWithDefaultData\n  })) || [];\n  var properties = _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_7___default()(_context = (0,_utils__WEBPACK_IMPORTED_MODULE_18__.getMetaGroupPropertiesByKeys)(controlPropertyGroups, [], function (node) {\n    var _node$Editor;\n    return !(0,_adaptor_utils__WEBPACK_IMPORTED_MODULE_22__.filterProperty)(field, node) && (node === null || node === void 0 || (_node$Editor = node.Editor) === null || _node$Editor === void 0 ? void 0 : _node$Editor.EnableQuickSetting);\n  })).call(_context, function (propA, propB) {\n    return propA.GroupSubSeq - propB.GroupSubSeq;\n  });\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_13__.useDataChangeForceUpdateEffect)(kdesignerApi);\n  if (!(field !== null && field !== void 0 && field.Id)) return null;\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"div\", {\n    className: \"setting-panel\",\n    ref: ref\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_SwitchField__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n    field: fieldWithDefaultData\n  }), (properties === null || properties === void 0 ? void 0 : properties.length) > 0 && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"div\", {\n    className: \"basic-setting \".concat(prefixCls, \"-property-view\")\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(properties).call(properties, function (propertyData) {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_13__.PropertyViewItem, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, propertyData, {\n      key: propertyData.Id,\n      field: fieldWithDefaultData,\n      className: \"kdesigner-right-view\",\n      enableMutiSelect: false\n    }));\n  })));\n}));\nvar QuickSetting = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.memo)(function (_ref3) {\n  var field = _ref3.field,\n    mainViewDom = _ref3.mainViewDom,\n    prefixCls = _ref3.prefixCls;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState, 2),\n    showPanel = _useState2[0],\n    setShowPanel = _useState2[1];\n  var designerContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useContext)(_context__WEBPACK_IMPORTED_MODULE_15__.DesignerContext);\n  var getKdesignerApi = designerContext.getKdesignerApi;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var panelRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useRef)(null);\n  var triggerRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useRef)(null);\n  var togglePanel = function togglePanel(e) {\n    e.stopPropagation();\n    setShowPanel(function (flag) {\n      return !flag;\n    });\n    mainViewDom.focus();\n  };\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_13__.useOnClickOutside)([panelRef, triggerRef], function (e) {\n    var appDom = document.getElementById('app');\n    /**\n     * !appDom?.contains(e.target)这个判断的原因：\n     * 属性编辑器很多都是下拉选择器、dialog之类的，这类的面板一般是append到body，不应该触发onClickoutside\n     * 所以只需判断在id=app范围内\n     */\n    if (appDom && !(appDom !== null && appDom !== void 0 && appDom.contains(e.target))) return;\n    if (showPanel) {\n      setShowPanel(false);\n      mainViewDom.focus();\n    }\n  });\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useEffect)(function () {\n    var closePanel = function closePanel(e) {\n      var appDom = document.getElementById('app');\n      if (appDom && !(appDom !== null && appDom !== void 0 && appDom.contains(e.target))) return;\n      if (showPanel) {\n        setShowPanel(false);\n      }\n    };\n    window.addEventListener('scroll', closePanel, true);\n    return function () {\n      window.removeEventListener('scroll', closePanel, true);\n    };\n  }, [showPanel]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_13__.DropDownPanel, {\n    gap: 2,\n    ref: triggerRef,\n    visible: showPanel,\n    placement: \"bottomLeft\",\n    popperClassName: \"\".concat(prefixCls, \"-quick-setting-dropdown\"),\n    content: showPanel ? !!field.Id && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(QuickSettingContent, {\n      ref: panelRef,\n      controlId: field.Id,\n      field: field,\n      prefixCls: prefixCls\n    }) : /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"div\", null)\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"span\", {\n    className: \"operation-bar-item\",\n    onClick: togglePanel,\n    title: \"\\u8BBE\\u7F6E\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__.Icon, {\n    prefix: \"designericon\",\n    type: \"shezhi\"\n  })));\n}, function (prevProps, nextProps) {\n  // 如果返回true，则组件不会重新渲染\n  // 如果返回false，则组件会重新渲染\n  return (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_27__.isEqual)(prevProps.field, nextProps.field) && prevProps.mainViewDom === nextProps.mainViewDom;\n});\nvar rootDomId = 'ui-designer-root';\n\n// 可见的zindex\nvar visibleZindex = '1050';\n// 不可见的zindex\nvar hiddenZindex = '-1';\n// 悬浮菜单的高度恒定不变, 而宽度随着功能的增加会有变化, 所以宽度是可变的\nvar NODE_HEIGHT = 24;\n\n// 观测当前选中节点 是否可见\nfunction observeVisibility(selectedCtrlNode, floatingMenuNode) {\n  if (!floatingMenuNode) {\n    return;\n  }\n  var options = {\n    threshold: [0.000001, 0.999999]\n    // rootMargin: '-5px 0px 0px 0px'\n  };\n  var prevIntersectionRatio = 0;\n  var callback = function callback(entries) {\n    entries.forEach(function (entry) {\n      if (entry.intersectionRatio === prevIntersectionRatio) {\n        return;\n      }\n      if (entry.intersectionRatio < 1 && entry.intersectionRatio > 0) {\n        var boundingClientRect = entry.boundingClientRect,\n          intersectionRect = entry.intersectionRect;\n        if (prevIntersectionRatio > entry.intersectionRatio && boundingClientRect.top < intersectionRect.top || boundingClientRect.bottom == intersectionRect.bottom && boundingClientRect.top < intersectionRect.top) {\n          floatingMenuNode.setAttribute('data-visible', 'true');\n          floatingMenuNode.style.zIndex = hiddenZindex;\n        } else {\n          floatingMenuNode.setAttribute('data-visible', 'true');\n          floatingMenuNode.style.zIndex = visibleZindex;\n        }\n      } else if (entry.intersectionRatio > 0) {\n        floatingMenuNode.setAttribute('data-visible', 'true');\n        floatingMenuNode.style.zIndex = visibleZindex;\n      } else {\n        floatingMenuNode.setAttribute('data-visible', 'false');\n        floatingMenuNode.style.zIndex = hiddenZindex;\n      }\n      prevIntersectionRatio = entry.intersectionRatio;\n    });\n  };\n  var observer = new window.IntersectionObserver(callback, options);\n  observer.observe(selectedCtrlNode);\n  return observer;\n}\n\n/**\n * 控件操作按钮\n */\n\nvar OperationBarItem = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.memo)(function (props) {\n  var prefixCls = props.prefixCls,\n    field = props.field,\n    kdesignerApi = props.kdesignerApi,\n    mainViewDom = props.mainViewDom,\n    rootDom = props.rootDom,\n    billPropsData = props.billPropsData,\n    dispatchBillData = props.dispatchBillData,\n    getHideField = props.getHideField,\n    setHideField = props.setHideField;\n  var fieldId = field.Id,\n    controlType = field._Type_,\n    sourceForm = field.SourceForm,\n    _field$ColumnSpan = field.ColumnSpan,\n    columnSpan = _field$ColumnSpan === void 0 ? 1 : _field$ColumnSpan,\n    status = field.Status,\n    marginValue = field.Margin;\n  var _useContext2 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_13__.GlobalConfigContext),\n    showMessage = _useContext2.showMessage;\n  var dataContext = kdesignerApi.data,\n    selectionContext = kdesignerApi.selection,\n    metaApi = kdesignerApi.meta;\n  var floatingMenuRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useRef)(null);\n  var uiData = dataContext.getData();\n  var rootId = dataContext.getRootId();\n  var _dataContext$findCont = dataContext.findControl(rootId),\n    _dataContext$findCont2 = _dataContext$findCont.ColumnSpan,\n    rootColumnSpan = _dataContext$findCont2 === void 0 ? 2 : _dataContext$findCont2;\n  var controlMeta = metaApi.getControlMeta(controlType);\n  var notShowOperationBar = controlMeta.Inside,\n    CategoryId = controlMeta.CategoryId,\n    Name = controlMeta.Name;\n  var disabledDelete = false;\n  var _isSysControl = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(CategoryId).call(CategoryId, _constants__WEBPACK_IMPORTED_MODULE_16__.SYS_CATEGORY_PREFIX);\n  var containerDom = document.querySelector(\"[data-control-id=\\\"\".concat(fieldId, \"\\\"]\"));\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useReducer)(function (n) {\n      return n + 1;\n    }, 0),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useReducer, 2),\n    forceUpdate = _useReducer2[1];\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useEffect)(function () {\n    var floatingMenuNode = floatingMenuRef.current;\n    if (!floatingMenuNode) {\n      return;\n    }\n    // 绑定观察者\n    var observer = observeVisibility(containerDom, floatingMenuNode);\n    return function () {\n      observer.disconnect();\n    };\n  }, [floatingMenuRef.current, containerDom]);\n  var tracePositionCallback = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useCallback)(function (traceDomRect) {\n    var floatingMenuNode = floatingMenuRef.current;\n    if (!floatingMenuNode || !rootDom || !traceDomRect) {\n      return;\n    }\n    // const parentNode = containerDom?.parentNode\n    // const parentNodeRect = parentNode.getBoundingClientRect()\n    // const isGridContainer = parentNode?.classList?.contains('nocode-designer-entry-grid-view')\n    var rootDomRect = rootDom.getBoundingClientRect();\n    // const { left: parentLeft, width: parentWidth } = parentNodeRect\n    var _floatingMenuNode$get = floatingMenuNode.getBoundingClientRect(),\n      width = _floatingMenuNode$get.width;\n    var traceDomLeft = traceDomRect.left,\n      traceDomTop = traceDomRect.top,\n      traceDomWidth = traceDomRect.width;\n    var rdrLeft = rootDomRect.left,\n      rdrTop = rootDomRect.top,\n      rdrWidth = rootDomRect.width,\n      rdrHeight = rootDomRect.height;\n    // const parentRight = isGridContainer ? (parentLeft + parentWidth - 80) : parentLeft + parentWidth\n    // const maxHeight = rdrTop + rdrHeight\n    // 如果计算的left溢出主视图，则取一个最大的left的阀值（主视图宽度-快速工具栏的宽度）\n    // const fmnLeft = Math.(traceDomLeft + traceDomWidth - width, maxLeft)\n    var fmnLeft = traceDomLeft < rdrLeft ? rdrLeft : traceDomLeft;\n    if (traceDomLeft + width > rdrLeft + rdrWidth) {\n      fmnLeft = rdrLeft + rdrWidth - width;\n    }\n    var fmnTop = traceDomTop - NODE_HEIGHT - 2;\n    floatingMenuNode.style.left = \"\".concat(fmnLeft, \"px\");\n    floatingMenuNode.style.top = \"\".concat(fmnTop, \"px\");\n    var isValidArea = fmnTop >= rdrTop - NODE_HEIGHT - 2 && fmnTop <= rdrTop + rdrHeight;\n    if (floatingMenuNode.dataset.visible === 'true') {\n      if (isValidArea && floatingMenuNode.style.zIndex === hiddenZindex) {\n        floatingMenuNode.style.zIndex = visibleZindex;\n      } else if (!isValidArea && floatingMenuNode.style.zIndex === visibleZindex) {\n        floatingMenuNode.style.zIndex = hiddenZindex;\n      }\n    }\n  }, [floatingMenuRef.current, rootDom, containerDom]);\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_13__.useTraceElementPosition)({\n    selectedCtrlNode: containerDom,\n    callback: tracePositionCallback,\n    depth: [columnSpan, status, rootColumnSpan, marginValue]\n  });\n\n  // 控件类型对应的控件名\n  var controlName = (0,_hooks_useGetControlName__WEBPACK_IMPORTED_MODULE_26__[\"default\"])(field);\n\n  // 控件类型对应的图标\n  var controlIcon = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useMemo)(function () {\n    return (0,_utils_controlIcon__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(controlType);\n  }, [controlType, _utils_controlIcon__WEBPACK_IMPORTED_MODULE_20__[\"default\"]]);\n\n  // 删除\n  var deleteControl = function deleteControl(event) {\n    mainViewDom.focus();\n    if (disabledDelete) return;\n    event.stopPropagation();\n    var nextSelectedId = dataContext.getNextSelectedControlId(fieldId);\n    var hideField = getHideField();\n    (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_25__.deleteRefControl)([fieldId], billPropsData, dispatchBillData, dataContext, hideField, setHideField, function () {\n      // 选中节点前移或后移(do nothing)\n      var currentId = nextSelectedId;\n      var nextField = dataContext.findControl(nextSelectedId);\n      if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_19__.isBizButton)(controlType) && !nextField) {\n        currentId = rootId;\n      } else if (!nextField || (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_25__.isHiddenRefField)(nextField)) {\n        currentId = field[_constants_propnames__WEBPACK_IMPORTED_MODULE_17__.PARENTID];\n      }\n      selectionContext.setSelect([currentId]);\n    });\n    // dataContext.deleteControl(createDeleteAction(fieldId)).then(() => {\n    //   // 选中节点前移或后移(do nothing)\n    //   let currentId = nextSelectedId\n    //   const nextField = dataContext.findControl(nextSelectedId)\n    //   if (!nextField || isHiddenRefField(nextField)) {\n    //     currentId = field[PARENTID]\n    //   }\n    //   selectionContext.setSelect([currentId])\n    // })\n  };\n\n  // 重复\n  var copyAndAdd = function copyAndAdd(event) {\n    mainViewDom.focus();\n    if (disabledDelete) return;\n    if (_isSysControl) return showMessage(\"\".concat(Name, \"\\u53EA\\u80FD\\u5728\\u753B\\u5E03\\u4E2D\\u6DFB\\u52A0\\u4E00\\u6B21\\uFF0C\\u4E0D\\u80FD\\u91CD\\u590D\\u3002\"));\n    event.stopPropagation();\n    var selection = selectionContext.getSelection();\n    var selectionField = dataContext.findControl(selection[0]);\n    var copyControls = (0,_utils__WEBPACK_IMPORTED_MODULE_18__.fixGroupChildrenParentId)((0,_utils__WEBPACK_IMPORTED_MODULE_18__.copyControlRecurve)(uiData, field, field[_constants_propnames__WEBPACK_IMPORTED_MODULE_17__.PARENTID]), rootId);\n    var copyRefBill = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default()(copyControls).call(copyControls, function (ctrl) {\n      return (0,_utils_control__WEBPACK_IMPORTED_MODULE_19__.isRefBill)(ctrl._Type_) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_19__.isRefBillTable)(ctrl._Type_);\n    });\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_19__.isGroupContainer)(selectionField._Type_)) {\n      var _dataContext$getAllSu, _dataContext$getAllSu2;\n      var subs = (_dataContext$getAllSu = dataContext.getAllSubControls(selectionField.Id)) === null || _dataContext$getAllSu === void 0 || (_dataContext$getAllSu2 = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default()(_dataContext$getAllSu)) === null || _dataContext$getAllSu2 === void 0 ? void 0 : _dataContext$getAllSu2.call(_dataContext$getAllSu, function (ctrl) {\n        return (0,_utils_control__WEBPACK_IMPORTED_MODULE_19__.isSysControl)(ctrl === null || ctrl === void 0 ? void 0 : ctrl._Type_);\n      });\n      if (copyRefBill.length || subs !== null && subs !== void 0 && subs.length) {\n        showMessage('分组内包含关联表单、表格或系统字段，不能重复。');\n        return;\n      }\n    }\n    // if (isGroupContainer(copyControls._Type_)) {\n    //   const fields = dataContext.getAllSubControls(selection.Id)\n    //   console.log(fields)\n    // }\n\n    var addIndex = dataContext.findControlIndex(fieldId) + 1;\n    dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_13__.createPasteAction)(copyControls, {\n      index: addIndex\n    })).then(function () {\n      selectionContext.setSelect([copyControls[0][_constants_propnames__WEBPACK_IMPORTED_MODULE_17__.ID]]);\n    });\n    // if (selection.length > 1) {\n    //   const selectControlsCopy = selection.reduce((controls: any[], id: string) => {\n    //     const controlData = dataContext.findControl(id)\n    //     return controls.concat(copyControlRecurve(uiData, controlData, controlData[PARENTID]))\n    //   }, [])\n    //   dataContext.addControl(createPasteAction(selectControlsCopy)).then(() => {\n    //     // selectionContext.setSelect([copyControls[0][ID]])\n    //   })\n    // } else {\n    //   const copyControls = copyControlRecurve(uiData, field, field[PARENTID])\n    //   const addIndex = dataContext.findControlIndex(fieldId) + 1\n    //   dataContext.addControl(createPasteAction(copyControls, { index: addIndex })).then(() => {\n    //     selectionContext.setSelect([copyControls[0][ID]])\n    //   })\n    // }\n  };\n\n  // 这里监听主视图宽度变化\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useEffect)(function () {\n    var cb = function cb() {\n      tracePositionCallback(containerDom === null || containerDom === void 0 ? void 0 : containerDom.getBoundingClientRect());\n    };\n    var mainViewDom = document.getElementById('nocode-designer-main-root');\n    if (!containerDom) return;\n    var resizeObserver = (0,_utils__WEBPACK_IMPORTED_MODULE_18__.addResizeObserve)(containerDom, cb);\n    var mainViewResizeObserver = (0,_utils__WEBPACK_IMPORTED_MODULE_18__.addResizeObserve)(mainViewDom, cb);\n    return function () {\n      resizeObserver && resizeObserver.removeResizeObserve();\n      mainViewResizeObserver && mainViewResizeObserver.removeResizeObserve();\n    };\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useEffect)(function () {\n    var subscribe = dataContext.addDataChangeListener(function () {\n      subscribe && forceUpdate();\n    });\n    return function () {\n      subscribe && subscribe();\n      subscribe = null;\n    };\n  }, [forceUpdate]);\n  var disableBtn = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useMemo)(function () {\n    var parentField = dataContext.getParentControl(fieldId);\n    // 父节点为关联表单表格且关联的表单为应用外表单,则禁用复制及设置按钮\n    // 1.5 临时改成外部表单不可编辑\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_19__.isRefBillTable)(parentField === null || parentField === void 0 ? void 0 : parentField._Type_)) {\n      // return !isAppInnerForm(parentField, (billPropsData?.innerForm || []))\n      return parentField.SourceForm === '2';\n    }\n    return false;\n  }, [fieldId, billPropsData, sourceForm]);\n\n  // 如果是关联表单控件，则不显示重复操作按钮\n  var isRefBillControl = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useMemo)(function () {\n    return (0,_utils_control__WEBPACK_IMPORTED_MODULE_19__.isRefBillTable)(controlType) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_19__.isRefBill)(controlType);\n  }, [controlType]);\n  if (!containerDom || containerDom.getAttribute('id') === rootDomId || !mainViewDom || notShowOperationBar) {\n    return null;\n  }\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"div\", {\n    ref: floatingMenuRef,\n    className: \"\".concat(prefixCls, \"-operation-bar-wrap\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"div\", {\n    className: \"operation-bar-name mr-2\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__.Icon, {\n    prefix: \"designericon\",\n    type: controlIcon,\n    className: \"operation-bar-name-icon\"\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"span\", null, controlName || '')), !disabledDelete && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"div\", {\n    className: \"operation-bar-left\"\n  }, !disableBtn && !isRefBillControl && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"span\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_24___default()(['operation-bar-item']),\n    onClick: copyAndAdd,\n    title: \"\\u91CD\\u590D\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__.Icon, {\n    prefix: \"designericon\",\n    type: \"zhongfu\"\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"span\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_24___default()(['operation-bar-item']),\n    onClick: deleteControl,\n    title: \"\\u5220\\u9664\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__.Icon, {\n    prefix: \"designericon\",\n    type: \"shanchu\"\n  }))), !disableBtn && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(QuickSetting, {\n    mainViewDom: mainViewDom,\n    field: field,\n    prefixCls: prefixCls\n  }));\n});\n\n// 设计器选中控件的悬浮菜单\nvar FloatingOperationBar = function FloatingOperationBar(props) {\n  var _useContext3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useContext)(_context__WEBPACK_IMPORTED_MODULE_15__.DesignerContext),\n    getKdesignerApi = _useContext3.getKdesignerApi,\n    prefixCls = _useContext3.prefixCls,\n    isPC = _useContext3.isPC,\n    billPropsData = _useContext3.billPropsData,\n    dispatchBillData = _useContext3.dispatchBillData,\n    getHideFieldRef = _useContext3.getHideFieldRef,\n    setHideFieldRef = _useContext3.setHideFieldRef;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data,\n    selectionContext = kdesignerApi.selection,\n    metaApi = kdesignerApi.meta;\n  var selection = selectionContext.getSelection();\n  var rootId = dataContext.getRootId();\n  var _dataContext$findCont3 = dataContext.findControl(rootId),\n    RootColumnSpan = _dataContext$findCont3.ColumnSpan;\n  var mainViewDom = document.getElementById(_constants__WEBPACK_IMPORTED_MODULE_16__.MAINVIEW_ROOT_ID);\n  var rootDom = document.getElementById(rootDomId);\n  var _useReducer3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useReducer)(function (n) {\n      return n + 1;\n    }, 0),\n    _useReducer4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useReducer3, 2),\n    forceUpdateNum = _useReducer4[0],\n    forceUpdate = _useReducer4[1];\n  var addControlId = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useRef)('');\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_13__.useSelectionChangeForceUpdateEffect)(kdesignerApi);\n  // useDataChangeForceUpdateEffect(kdesignerApi)\n\n  // const getAddControlId = useCallback((id) => {\n  //   addControlId.current = id\n  // }, [])\n\n  // const clearAddControlId = useCallback(() => {\n  //   addControlId.current = ''\n  // }, [])\n\n  // useEffect(() => {\n  //   eventBus.on('add-control-id', getAddControlId)\n  //   return () => {\n  //     eventBus.off('add-control-id', getAddControlId)\n  //   }\n  // }, [])\n\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useLayoutEffect)(function () {\n    // 这里forceUpdate一下，确保切换pc/mobile的时候能正常显示\n    forceUpdate();\n  }, [isPC]);\n\n  // useLayoutEffect(() => {\n  //   const subscribe = dataContext.addDataChangeListener(() => {\n  //     setTimeout(() => {\n  //       forceUpdate()\n  //     }, 50)\n  //   })\n  //   return () => {\n  //     subscribe && subscribe()\n  //   }\n  // }, [dataContext])\n\n  // const hideField = getHideFieldRef()\n\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().Fragment), null, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(selection).call(selection, function (id) {\n    var _context2, _context3, _context4;\n    var controlData = dataContext.findControl(id) || {};\n    var _controlData$ColumnSp = controlData.ColumnSpan,\n      ColumnSpan = _controlData$ColumnSp === void 0 ? 1 : _controlData$ColumnSp,\n      controlType = controlData._Type_;\n    var defaultFieldData = metaApi.getDefaultData(controlType);\n    var field = _objectSpread(_objectSpread({}, defaultFieldData), controlData);\n    var controlRootDom = (0,_utils_control__WEBPACK_IMPORTED_MODULE_19__.isBizButton)(controlType) ? document.getElementById('biz-button-panel') : rootDom;\n    var controlIndex = dataContext.findControlIndex(id);\n    var key = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context2 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context3 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context4 = \"operation-bar-item-\".concat(id, \"-\")).call(_context4, controlIndex, \"-\")).call(_context3, ColumnSpan, \"-\")).call(_context2, forceUpdateNum);\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(OperationBarItem, {\n      key: key,\n      prefixCls: prefixCls,\n      billPropsData: billPropsData,\n      dispatchBillData: dispatchBillData,\n      getHideField: getHideFieldRef,\n      setHideField: setHideFieldRef,\n      field: field,\n      mainViewDom: mainViewDom,\n      rootDom: controlRootDom,\n      kdesignerApi: kdesignerApi\n    });\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_ContextMenuPanel__WEBPACK_IMPORTED_MODULE_23__[\"default\"], null));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (FloatingOperationBar);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzA5NDQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUFBO0FBREE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFPQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBWUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBSUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9jb21wb25lbnRzL0Zsb2F0T3BlcmF0aW9uQmFyLnRzeD85ZTI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBmb3J3YXJkUmVmLCB1c2VDb250ZXh0LCB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VNZW1vLCBtZW1vLCB1c2VMYXlvdXRFZmZlY3QsIHVzZVJlZHVjZXIgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7XG4gIElOZXh0Q29udHJvbCwgY3JlYXRlRGVsZXRlQWN0aW9uLCBnZXRNb2RlbERhdGEsIGNyZWF0ZVBhc3RlQWN0aW9uLCBQcm9wZXJ0eVZpZXdJdGVtLCBHbG9iYWxDb25maWdDb250ZXh0LFxuICB1c2VPbkNsaWNrT3V0c2lkZSwgdXNlU2VsZWN0aW9uQ2hhbmdlRm9yY2VVcGRhdGVFZmZlY3QsIHVzZURhdGFDaGFuZ2VGb3JjZVVwZGF0ZUVmZmVjdCwgRHJvcERvd25QYW5lbCxcbiAgdXNlVHJhY2VFbGVtZW50UG9zaXRpb24sIGV2ZW50QnVzLCBjcmVhdGVVcGRhdGVBY3Rpb25cbn0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQnXG5pbXBvcnQgeyBNQUlOVklFV19ST09UX0lELCBTWVNfQ0FURUdPUllfUFJFRklYIH0gZnJvbSAnLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHsgSUQsIFBBUkVOVElELCBfVFlQRV8gfSBmcm9tICcuLi9jb25zdGFudHMvcHJvcG5hbWVzJ1xuaW1wb3J0IHsgY29weUNvbnRyb2xSZWN1cnZlLCBnZXRNZXRhR3JvdXBQcm9wZXJ0aWVzQnlLZXlzLCBhZGRSZXNpemVPYnNlcnZlLCBmaXhHcm91cENoaWxkcmVuUGFyZW50SWQgfSBmcm9tICcuLi91dGlscydcbmltcG9ydCB7IGlzQml6QnV0dG9uLCBnZXRDb250cm9sTmFtZSwgaXNSZWZCaWxsVGFibGUsIGlzUmVmQmlsbCwgaXNHcm91cENvbnRhaW5lciwgaXNTeXNDb250cm9sIH0gZnJvbSAnLi4vdXRpbHMvY29udHJvbCdcbmltcG9ydCBnZXRDb250cm9sSWNvbk1hcCBmcm9tICcuLi91dGlscy9jb250cm9sSWNvbidcbmltcG9ydCBTd2l0Y2hGaWVsZCBmcm9tICcuL1N3aXRjaEZpZWxkJ1xuaW1wb3J0IHsgZmlsdGVyUHJvcGVydHkgfSBmcm9tICcuLi9hZGFwdG9yL3V0aWxzJ1xuaW1wb3J0IENvbnRleHRNZW51UGFuZWwgZnJvbSAnLi9Db250ZXh0TWVudVBhbmVsJ1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcydcbmltcG9ydCB7IGRlbGV0ZVJlZkNvbnRyb2wsIGlzQXBwSW5uZXJGb3JtLCBpc0hpZGRlblJlZkZpZWxkIH0gZnJvbSAnLi4vdXRpbHMvcmVmQmlsbEVkaXRvclV0aWxzJ1xuaW1wb3J0IHVzZUdldENvbnRyb2xOYW1lIGZyb20gJy4uL2hvb2tzL3VzZUdldENvbnRyb2xOYW1lJ1xuLy8gaW1wb3J0IHsgQ09QWV9GT1JNX0RBVEEsIERFTF9DT05UUk9MIH0gZnJvbSAnLi4vcmVkdWNlci9yZWR1Y2VDb25zdGFudHMnXG4vLyBpbXBvcnQgeyBjbG9uZURlZXAgfSBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgeyBpc0VxdWFsIH0gZnJvbSAnbG9kYXNoJ1xuXG5leHBvcnQgY29uc3QgUXVpY2tTZXR0aW5nQ29udGVudCA9IG1lbW8oZm9yd2FyZFJlZigoe1xuICBwcmVmaXhDbHMsXG4gIGNvbnRyb2xJZFxufSwgcmVmKSA9PiB7XG4gIGNvbnN0IHsgZ2V0S2Rlc2lnbmVyQXBpIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3Qga2Rlc2lnbmVyQXBpID0gdXNlTWVtbygoKSA9PiBnZXRLZGVzaWduZXJBcGkoKSwgW10pXG4gIGNvbnN0IHsgbWV0YTogbWV0YUFwaSwgZGF0YTogZGF0YUNvbnRleHQgfSA9IGtkZXNpZ25lckFwaVxuICBjb25zdCBmaWVsZCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGNvbnRyb2xJZClcbiAgY29uc3QgeyBfVHlwZV86IGNvbnRyb2xUeXBlIH0gPSBmaWVsZCB8fCB7fVxuICBjb25zdCBkYXRhID0gZGF0YUNvbnRleHQuZ2V0RGF0YSgpXG4gIGNvbnN0IGRlZmF1bHRGaWVsZERhdGEgPSBtZXRhQXBpLmdldERlZmF1bHREYXRhKGNvbnRyb2xUeXBlKVxuICBjb25zdCBjb250cm9sTWV0YSA9IG1ldGFBcGkuZ2V0Q29udHJvbE1ldGEoY29udHJvbFR5cGUpXG4gIGNvbnN0IGZpZWxkV2l0aERlZmF1bHREYXRhID0gdXNlTWVtbygoKSA9PiAoeyAuLi5kZWZhdWx0RmllbGREYXRhLCAuLi5maWVsZCB9KSwgW2RlZmF1bHRGaWVsZERhdGEsIGZpZWxkXSlcbiAgY29uc3QgY29udHJvbFByb3BlcnR5R3JvdXBzID0gZ2V0TW9kZWxEYXRhKGNvbnRyb2xNZXRhLlByb3BlcnRpZXMsIHsgLi4uZGF0YSwgZmllbGQ6IGZpZWxkV2l0aERlZmF1bHREYXRhIH0pIHx8IFtdXG4gIGNvbnN0IHByb3BlcnRpZXMgPSBnZXRNZXRhR3JvdXBQcm9wZXJ0aWVzQnlLZXlzKGNvbnRyb2xQcm9wZXJ0eUdyb3VwcywgW10sIChub2RlOiBhbnkpID0+IHtcbiAgICByZXR1cm4gIWZpbHRlclByb3BlcnR5KGZpZWxkLCBub2RlKSAmJiBub2RlPy5FZGl0b3I/LkVuYWJsZVF1aWNrU2V0dGluZ1xuICB9KS5zb3J0KChwcm9wQSwgcHJvcEIpID0+IHByb3BBLkdyb3VwU3ViU2VxIC0gcHJvcEIuR3JvdXBTdWJTZXEpXG4gIHVzZURhdGFDaGFuZ2VGb3JjZVVwZGF0ZUVmZmVjdChrZGVzaWduZXJBcGkpXG5cbiAgaWYgKCFmaWVsZD8uSWQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT0nc2V0dGluZy1wYW5lbCcgcmVmPXtyZWZ9PlxuICAgICAgPFN3aXRjaEZpZWxkIGZpZWxkPXtmaWVsZFdpdGhEZWZhdWx0RGF0YX0gLz5cbiAgICAgIHtcbiAgICAgICAgcHJvcGVydGllcz8ubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BiYXNpYy1zZXR0aW5nICR7cHJlZml4Q2xzfS1wcm9wZXJ0eS12aWV3YH0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHByb3BlcnRpZXMubWFwKChwcm9wZXJ0eURhdGEpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPFByb3BlcnR5Vmlld0l0ZW1cbiAgICAgICAgICAgICAgICAgICAgey4uLnByb3BlcnR5RGF0YX1cbiAgICAgICAgICAgICAgICAgICAga2V5PXtwcm9wZXJ0eURhdGEuSWR9XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkPXtmaWVsZFdpdGhEZWZhdWx0RGF0YX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdrZGVzaWduZXItcmlnaHQtdmlldydcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlTXV0aVNlbGVjdD17ZmFsc2V9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgfVxuICAgIDwvZGl2PlxuICApXG59KSlcblxuZXhwb3J0IGNvbnN0IFF1aWNrU2V0dGluZyA9IG1lbW8oKHsgZmllbGQsIG1haW5WaWV3RG9tLCBwcmVmaXhDbHMgfSkgPT4ge1xuICBjb25zdCBbc2hvd1BhbmVsLCBzZXRTaG93UGFuZWxdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IGRlc2lnbmVyQ29udGV4dCA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCB7IGdldEtkZXNpZ25lckFwaSB9ID0gZGVzaWduZXJDb250ZXh0XG4gIGNvbnN0IGtkZXNpZ25lckFwaSA9IHVzZU1lbW8oKCkgPT4gZ2V0S2Rlc2lnbmVyQXBpKCksIFtdKVxuXG4gIGNvbnN0IHBhbmVsUmVmID0gdXNlUmVmKG51bGwpXG4gIGNvbnN0IHRyaWdnZXJSZWYgPSB1c2VSZWYobnVsbClcblxuICBjb25zdCB0b2dnbGVQYW5lbCA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgIHNldFNob3dQYW5lbChmbGFnID0+ICFmbGFnKVxuICAgIG1haW5WaWV3RG9tLmZvY3VzKClcbiAgfVxuXG4gIHVzZU9uQ2xpY2tPdXRzaWRlKFtwYW5lbFJlZiwgdHJpZ2dlclJlZl0sIChlKSA9PiB7XG4gICAgY29uc3QgYXBwRG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpXG4gICAgLyoqXG4gICAgICogIWFwcERvbT8uY29udGFpbnMoZS50YXJnZXQp6L+Z5Liq5Yik5pat55qE5Y6f5Zug77yaXG4gICAgICog5bGe5oCn57yW6L6R5Zmo5b6I5aSa6YO95piv5LiL5ouJ6YCJ5oup5Zmo44CBZGlhbG9n5LmL57G755qE77yM6L+Z57G755qE6Z2i5p2/5LiA6Iis5pivYXBwZW5k5YiwYm9kee+8jOS4jeW6lOivpeinpuWPkW9uQ2xpY2tvdXRzaWRlXG4gICAgICog5omA5Lul5Y+q6ZyA5Yik5pat5ZyoaWQ9YXBw6IyD5Zu05YaFXG4gICAgICovXG4gICAgaWYgKChhcHBEb20gJiYgIWFwcERvbT8uY29udGFpbnMoZS50YXJnZXQpKSkgcmV0dXJuXG4gICAgaWYgKHNob3dQYW5lbCkge1xuICAgICAgc2V0U2hvd1BhbmVsKGZhbHNlKVxuICAgICAgbWFpblZpZXdEb20uZm9jdXMoKVxuICAgIH1cbiAgfSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNsb3NlUGFuZWwgPSAoZSkgPT4ge1xuICAgICAgY29uc3QgYXBwRG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpXG4gICAgICBpZiAoKGFwcERvbSAmJiAhYXBwRG9tPy5jb250YWlucyhlLnRhcmdldCkpKSByZXR1cm5cbiAgICAgIGlmIChzaG93UGFuZWwpIHtcbiAgICAgICAgc2V0U2hvd1BhbmVsKGZhbHNlKVxuICAgICAgfVxuICAgIH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgY2xvc2VQYW5lbCwgdHJ1ZSlcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGNsb3NlUGFuZWwsIHRydWUpXG4gICAgfVxuICB9LCBbc2hvd1BhbmVsXSlcblxuICByZXR1cm4gKFxuICAgIDxEcm9wRG93blBhbmVsXG4gICAgICBnYXA9ezJ9XG4gICAgICByZWY9e3RyaWdnZXJSZWZ9XG4gICAgICB2aXNpYmxlPXtzaG93UGFuZWx9XG4gICAgICBwbGFjZW1lbnQ9J2JvdHRvbUxlZnQnXG4gICAgICBwb3BwZXJDbGFzc05hbWU9e2Ake3ByZWZpeENsc30tcXVpY2stc2V0dGluZy1kcm9wZG93bmB9XG4gICAgICBjb250ZW50PXtcbiAgICAgICAgICBzaG93UGFuZWxcbiAgICAgICAgICAgID8gKFxuICAgICAgICAgICAgICAgICEhZmllbGQuSWQgJiYgPFF1aWNrU2V0dGluZ0NvbnRlbnQgcmVmPXtwYW5lbFJlZn0gY29udHJvbElkPXtmaWVsZC5JZH0gZmllbGQ9e2ZpZWxkfSBwcmVmaXhDbHM9e3ByZWZpeENsc30gLz5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiA8ZGl2IC8+XG4gICAgICAgIH1cbiAgICA+XG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9J29wZXJhdGlvbi1iYXItaXRlbSdcbiAgICAgICAgb25DbGljaz17dG9nZ2xlUGFuZWx9XG4gICAgICAgIHRpdGxlPSforr7nva4nXG4gICAgICA+XG4gICAgICAgIDxJY29uIHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPSdzaGV6aGknIC8+XG4gICAgICA8L3NwYW4+XG4gICAgPC9Ecm9wRG93blBhbmVsPlxuICApXG59LCAocHJldlByb3BzLCBuZXh0UHJvcHMpID0+IHtcbiAgLy8g5aaC5p6c6L+U5ZuedHJ1Ze+8jOWImee7hOS7tuS4jeS8mumHjeaWsOa4suafk1xuICAvLyDlpoLmnpzov5Tlm55mYWxzZe+8jOWImee7hOS7tuS8mumHjeaWsOa4suafk1xuICByZXR1cm4gaXNFcXVhbChwcmV2UHJvcHMuZmllbGQsIG5leHRQcm9wcy5maWVsZCkgJiYgcHJldlByb3BzLm1haW5WaWV3RG9tID09PSBuZXh0UHJvcHMubWFpblZpZXdEb21cbn0pXG5cbmV4cG9ydCBjb25zdCByb290RG9tSWQgPSAndWktZGVzaWduZXItcm9vdCdcblxuLy8g5Y+v6KeB55qEemluZGV4XG5leHBvcnQgY29uc3QgdmlzaWJsZVppbmRleCA9ICcxMDUwJ1xuLy8g5LiN5Y+v6KeB55qEemluZGV4XG5leHBvcnQgY29uc3QgaGlkZGVuWmluZGV4ID0gJy0xJ1xuLy8g5oKs5rWu6I+c5Y2V55qE6auY5bqm5oGS5a6a5LiN5Y+YLCDogIzlrr3luqbpmo/nnYDlip/og73nmoTlop7liqDkvJrmnInlj5jljJYsIOaJgOS7peWuveW6puaYr+WPr+WPmOeahFxuZXhwb3J0IGNvbnN0IE5PREVfSEVJR0hUID0gMjRcblxuLy8g6KeC5rWL5b2T5YmN6YCJ5Lit6IqC54K5IOaYr+WQpuWPr+ingVxuZXhwb3J0IGZ1bmN0aW9uIG9ic2VydmVWaXNpYmlsaXR5IChzZWxlY3RlZEN0cmxOb2RlLCBmbG9hdGluZ01lbnVOb2RlKSB7XG4gIGlmICghZmxvYXRpbmdNZW51Tm9kZSkge1xuICAgIHJldHVyblxuICB9XG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgdGhyZXNob2xkOiBbMC4wMDAwMDEsIDAuOTk5OTk5XVxuICAgIC8vIHJvb3RNYXJnaW46ICctNXB4IDBweCAwcHggMHB4J1xuICB9XG4gIGxldCBwcmV2SW50ZXJzZWN0aW9uUmF0aW8gPSAwXG4gIGNvbnN0IGNhbGxiYWNrID0gZW50cmllcyA9PiB7XG4gICAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgIGlmIChlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA9PT0gcHJldkludGVyc2VjdGlvblJhdGlvKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaWYgKGVudHJ5LmludGVyc2VjdGlvblJhdGlvIDwgMSAmJiBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+IDApIHtcbiAgICAgICAgY29uc3QgeyBib3VuZGluZ0NsaWVudFJlY3QsIGludGVyc2VjdGlvblJlY3QgfSA9IGVudHJ5XG4gICAgICAgIGlmICgocHJldkludGVyc2VjdGlvblJhdGlvID4gZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gJiYgYm91bmRpbmdDbGllbnRSZWN0LnRvcCA8IGludGVyc2VjdGlvblJlY3QudG9wKSB8fFxuICAgICAgICAgIChib3VuZGluZ0NsaWVudFJlY3QuYm90dG9tID09IGludGVyc2VjdGlvblJlY3QuYm90dG9tICYmIGJvdW5kaW5nQ2xpZW50UmVjdC50b3AgPCBpbnRlcnNlY3Rpb25SZWN0LnRvcCkpIHtcbiAgICAgICAgICBmbG9hdGluZ01lbnVOb2RlLnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgJ3RydWUnKVxuICAgICAgICAgIGZsb2F0aW5nTWVudU5vZGUuc3R5bGUuekluZGV4ID0gaGlkZGVuWmluZGV4XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmxvYXRpbmdNZW51Tm9kZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmlzaWJsZScsICd0cnVlJylcbiAgICAgICAgICBmbG9hdGluZ01lbnVOb2RlLnN0eWxlLnpJbmRleCA9IHZpc2libGVaaW5kZXhcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+IDApIHtcbiAgICAgICAgZmxvYXRpbmdNZW51Tm9kZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmlzaWJsZScsICd0cnVlJylcbiAgICAgICAgZmxvYXRpbmdNZW51Tm9kZS5zdHlsZS56SW5kZXggPSB2aXNpYmxlWmluZGV4XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbG9hdGluZ01lbnVOb2RlLnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgJ2ZhbHNlJylcbiAgICAgICAgZmxvYXRpbmdNZW51Tm9kZS5zdHlsZS56SW5kZXggPSBoaWRkZW5aaW5kZXhcbiAgICAgIH1cbiAgICAgIHByZXZJbnRlcnNlY3Rpb25SYXRpbyA9IGVudHJ5LmludGVyc2VjdGlvblJhdGlvXG4gICAgfSlcbiAgfVxuICBjb25zdCBvYnNlcnZlciA9IG5ldyB3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoY2FsbGJhY2ssIG9wdGlvbnMpXG4gIG9ic2VydmVyLm9ic2VydmUoc2VsZWN0ZWRDdHJsTm9kZSlcbiAgcmV0dXJuIG9ic2VydmVyXG59XG5cbi8qKlxuICog5o6n5Lu25pON5L2c5oyJ6ZKuXG4gKi9cbmludGVyZmFjZSBJT3BlcmF0aW9uQmFySXRlbSB7XG4gIHByZWZpeENsczpzdHJpbmcsXG4gIGZpZWxkOmFueSxcbiAga2Rlc2lnbmVyQXBpOmFueSxcbiAgbWFpblZpZXdEb206YW55LFxuICByb290RG9tOmFueSxcbiAgYmlsbFByb3BzRGF0YTogYW55LFxuICBkaXNwYXRjaEJpbGxEYXRhOihpbmZvOmFueSkgPT4gdm9pZCxcbiAgZ2V0SGlkZUZpZWxkOiAoKSA9PiBhbnksXG4gIHNldEhpZGVGaWVsZDogKGluZm86YW55KSA9PnZvaWRcbn1cbmNvbnN0IE9wZXJhdGlvbkJhckl0ZW0gPSBtZW1vKChwcm9wczogSU9wZXJhdGlvbkJhckl0ZW0pID0+IHtcbiAgY29uc3QgeyBwcmVmaXhDbHMsIGZpZWxkLCBrZGVzaWduZXJBcGksIG1haW5WaWV3RG9tLCByb290RG9tLCBiaWxsUHJvcHNEYXRhLCBkaXNwYXRjaEJpbGxEYXRhLCBnZXRIaWRlRmllbGQsIHNldEhpZGVGaWVsZCB9ID0gcHJvcHNcbiAgY29uc3QgeyBJZDogZmllbGRJZCwgX1R5cGVfOiBjb250cm9sVHlwZSwgU291cmNlRm9ybTogc291cmNlRm9ybSwgQ29sdW1uU3BhbjogY29sdW1uU3BhbiA9IDEsIFN0YXR1czogc3RhdHVzLCBNYXJnaW46IG1hcmdpblZhbHVlIH0gPSBmaWVsZFxuICBjb25zdCB7IHNob3dNZXNzYWdlIH0gPSB1c2VDb250ZXh0KEdsb2JhbENvbmZpZ0NvbnRleHQpXG4gIGNvbnN0IHsgZGF0YTogZGF0YUNvbnRleHQsIHNlbGVjdGlvbjogc2VsZWN0aW9uQ29udGV4dCwgbWV0YTogbWV0YUFwaSB9ID0ga2Rlc2lnbmVyQXBpXG4gIGNvbnN0IGZsb2F0aW5nTWVudVJlZiA9IHVzZVJlZihudWxsKVxuICBjb25zdCB1aURhdGEgPSBkYXRhQ29udGV4dC5nZXREYXRhKClcbiAgY29uc3Qgcm9vdElkID0gZGF0YUNvbnRleHQuZ2V0Um9vdElkKClcbiAgY29uc3QgeyBDb2x1bW5TcGFuOiByb290Q29sdW1uU3BhbiA9IDIgfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKHJvb3RJZClcbiAgY29uc3QgY29udHJvbE1ldGEgPSBtZXRhQXBpLmdldENvbnRyb2xNZXRhKGNvbnRyb2xUeXBlKVxuICBjb25zdCB7IEluc2lkZTogbm90U2hvd09wZXJhdGlvbkJhciwgQ2F0ZWdvcnlJZCwgTmFtZSB9ID0gY29udHJvbE1ldGFcbiAgY29uc3QgZGlzYWJsZWREZWxldGUgPSBmYWxzZVxuICBjb25zdCBfaXNTeXNDb250cm9sID0gQ2F0ZWdvcnlJZC5pbmNsdWRlcyhTWVNfQ0FURUdPUllfUFJFRklYKVxuICBjb25zdCBjb250YWluZXJEb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jb250cm9sLWlkPVwiJHtmaWVsZElkfVwiXWApXG4gIGNvbnN0IFssIGZvcmNlVXBkYXRlXSA9IHVzZVJlZHVjZXIobiA9PiBuICsgMSwgMClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZsb2F0aW5nTWVudU5vZGUgPSBmbG9hdGluZ01lbnVSZWYuY3VycmVudFxuICAgIGlmICghZmxvYXRpbmdNZW51Tm9kZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIC8vIOe7keWumuinguWvn+iAhVxuICAgIGNvbnN0IG9ic2VydmVyID0gb2JzZXJ2ZVZpc2liaWxpdHkoY29udGFpbmVyRG9tLCBmbG9hdGluZ01lbnVOb2RlKVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBvYnNlcnZlci5kaXNjb25uZWN0KClcbiAgICB9XG4gIH0sIFtmbG9hdGluZ01lbnVSZWYuY3VycmVudCwgY29udGFpbmVyRG9tXSlcblxuICBjb25zdCB0cmFjZVBvc2l0aW9uQ2FsbGJhY2sgPSB1c2VDYWxsYmFjayh0cmFjZURvbVJlY3QgPT4ge1xuICAgIGNvbnN0IGZsb2F0aW5nTWVudU5vZGUgPSBmbG9hdGluZ01lbnVSZWYuY3VycmVudFxuICAgIGlmICghZmxvYXRpbmdNZW51Tm9kZSB8fCAhcm9vdERvbSB8fCAhdHJhY2VEb21SZWN0KSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gY29uc3QgcGFyZW50Tm9kZSA9IGNvbnRhaW5lckRvbT8ucGFyZW50Tm9kZVxuICAgIC8vIGNvbnN0IHBhcmVudE5vZGVSZWN0ID0gcGFyZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIC8vIGNvbnN0IGlzR3JpZENvbnRhaW5lciA9IHBhcmVudE5vZGU/LmNsYXNzTGlzdD8uY29udGFpbnMoJ25vY29kZS1kZXNpZ25lci1lbnRyeS1ncmlkLXZpZXcnKVxuICAgIGNvbnN0IHJvb3REb21SZWN0ID0gcm9vdERvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIC8vIGNvbnN0IHsgbGVmdDogcGFyZW50TGVmdCwgd2lkdGg6IHBhcmVudFdpZHRoIH0gPSBwYXJlbnROb2RlUmVjdFxuICAgIGNvbnN0IHsgd2lkdGggfSA9IGZsb2F0aW5nTWVudU5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBjb25zdCB7IGxlZnQ6IHRyYWNlRG9tTGVmdCwgdG9wOiB0cmFjZURvbVRvcCwgd2lkdGg6IHRyYWNlRG9tV2lkdGggfSA9IHRyYWNlRG9tUmVjdFxuICAgIGNvbnN0IHsgbGVmdDogcmRyTGVmdCwgdG9wOiByZHJUb3AsIHdpZHRoOiByZHJXaWR0aCwgaGVpZ2h0OiByZHJIZWlnaHQgfSA9IHJvb3REb21SZWN0XG4gICAgLy8gY29uc3QgcGFyZW50UmlnaHQgPSBpc0dyaWRDb250YWluZXIgPyAocGFyZW50TGVmdCArIHBhcmVudFdpZHRoIC0gODApIDogcGFyZW50TGVmdCArIHBhcmVudFdpZHRoXG4gICAgLy8gY29uc3QgbWF4SGVpZ2h0ID0gcmRyVG9wICsgcmRySGVpZ2h0XG4gICAgLy8g5aaC5p6c6K6h566X55qEbGVmdOa6ouWHuuS4u+inhuWbvu+8jOWImeWPluS4gOS4quacgOWkp+eahGxlZnTnmoTpmIDlgLzvvIjkuLvop4blm77lrr3luqYt5b+r6YCf5bel5YW35qCP55qE5a695bqm77yJXG4gICAgLy8gY29uc3QgZm1uTGVmdCA9IE1hdGguKHRyYWNlRG9tTGVmdCArIHRyYWNlRG9tV2lkdGggLSB3aWR0aCwgbWF4TGVmdClcbiAgICBsZXQgZm1uTGVmdCA9IHRyYWNlRG9tTGVmdCA8IHJkckxlZnQgPyByZHJMZWZ0IDogdHJhY2VEb21MZWZ0XG4gICAgaWYgKHRyYWNlRG9tTGVmdCArIHdpZHRoID4gcmRyTGVmdCArIHJkcldpZHRoKSB7XG4gICAgICBmbW5MZWZ0ID0gcmRyTGVmdCArIHJkcldpZHRoIC0gd2lkdGhcbiAgICB9XG4gICAgY29uc3QgZm1uVG9wID0gdHJhY2VEb21Ub3AgLSBOT0RFX0hFSUdIVCAtIDJcbiAgICBmbG9hdGluZ01lbnVOb2RlLnN0eWxlLmxlZnQgPSBgJHtmbW5MZWZ0fXB4YFxuICAgIGZsb2F0aW5nTWVudU5vZGUuc3R5bGUudG9wID0gYCR7Zm1uVG9wfXB4YFxuICAgIGNvbnN0IGlzVmFsaWRBcmVhID0gKGZtblRvcCA+PSByZHJUb3AgLSBOT0RFX0hFSUdIVCAtIDIpICYmIChmbW5Ub3AgPD0gcmRyVG9wICsgcmRySGVpZ2h0KVxuICAgIGlmIChmbG9hdGluZ01lbnVOb2RlLmRhdGFzZXQudmlzaWJsZSA9PT0gJ3RydWUnKSB7XG4gICAgICBpZiAoaXNWYWxpZEFyZWEgJiYgZmxvYXRpbmdNZW51Tm9kZS5zdHlsZS56SW5kZXggPT09IGhpZGRlblppbmRleCkge1xuICAgICAgICBmbG9hdGluZ01lbnVOb2RlLnN0eWxlLnpJbmRleCA9IHZpc2libGVaaW5kZXhcbiAgICAgIH0gZWxzZSBpZiAoIWlzVmFsaWRBcmVhICYmIGZsb2F0aW5nTWVudU5vZGUuc3R5bGUuekluZGV4ID09PSB2aXNpYmxlWmluZGV4KSB7XG4gICAgICAgIGZsb2F0aW5nTWVudU5vZGUuc3R5bGUuekluZGV4ID0gaGlkZGVuWmluZGV4XG4gICAgICB9XG4gICAgfVxuICB9LCBbZmxvYXRpbmdNZW51UmVmLmN1cnJlbnQsIHJvb3REb20sIGNvbnRhaW5lckRvbV0pXG5cbiAgdXNlVHJhY2VFbGVtZW50UG9zaXRpb24oeyBzZWxlY3RlZEN0cmxOb2RlOiBjb250YWluZXJEb20sIGNhbGxiYWNrOiB0cmFjZVBvc2l0aW9uQ2FsbGJhY2ssIGRlcHRoOiBbY29sdW1uU3Bhbiwgc3RhdHVzLCByb290Q29sdW1uU3BhbiwgbWFyZ2luVmFsdWVdIH0pXG5cbiAgLy8g5o6n5Lu257G75Z6L5a+55bqU55qE5o6n5Lu25ZCNXG4gIGNvbnN0IGNvbnRyb2xOYW1lID0gdXNlR2V0Q29udHJvbE5hbWUoZmllbGQpXG5cbiAgLy8g5o6n5Lu257G75Z6L5a+55bqU55qE5Zu+5qCHXG4gIGNvbnN0IGNvbnRyb2xJY29uID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGdldENvbnRyb2xJY29uTWFwKGNvbnRyb2xUeXBlKVxuICB9LCBbY29udHJvbFR5cGUsIGdldENvbnRyb2xJY29uTWFwXSlcblxuICAvLyDliKDpmaRcbiAgY29uc3QgZGVsZXRlQ29udHJvbCA9IChldmVudDogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xuICAgIG1haW5WaWV3RG9tLmZvY3VzKClcbiAgICBpZiAoZGlzYWJsZWREZWxldGUpIHJldHVyblxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgY29uc3QgbmV4dFNlbGVjdGVkSWQ6IHN0cmluZyA9IGRhdGFDb250ZXh0LmdldE5leHRTZWxlY3RlZENvbnRyb2xJZChmaWVsZElkKVxuICAgIGNvbnN0IGhpZGVGaWVsZCA9IGdldEhpZGVGaWVsZCgpXG4gICAgZGVsZXRlUmVmQ29udHJvbChbZmllbGRJZF0sIGJpbGxQcm9wc0RhdGEsIGRpc3BhdGNoQmlsbERhdGEsIGRhdGFDb250ZXh0LCBoaWRlRmllbGQsIHNldEhpZGVGaWVsZCwgKCkgPT4ge1xuICAgICAgLy8g6YCJ5Lit6IqC54K55YmN56e75oiW5ZCO56e7KGRvIG5vdGhpbmcpXG4gICAgICBsZXQgY3VycmVudElkID0gbmV4dFNlbGVjdGVkSWRcbiAgICAgIGNvbnN0IG5leHRGaWVsZCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKG5leHRTZWxlY3RlZElkKVxuICAgICAgaWYgKGlzQml6QnV0dG9uKGNvbnRyb2xUeXBlKSAmJiAhbmV4dEZpZWxkKSB7XG4gICAgICAgIGN1cnJlbnRJZCA9IHJvb3RJZFxuICAgICAgfSBlbHNlIGlmICghbmV4dEZpZWxkIHx8IGlzSGlkZGVuUmVmRmllbGQobmV4dEZpZWxkKSkge1xuICAgICAgICBjdXJyZW50SWQgPSBmaWVsZFtQQVJFTlRJRF1cbiAgICAgIH1cbiAgICAgIHNlbGVjdGlvbkNvbnRleHQuc2V0U2VsZWN0KFtjdXJyZW50SWRdKVxuICAgIH0pXG4gICAgLy8gZGF0YUNvbnRleHQuZGVsZXRlQ29udHJvbChjcmVhdGVEZWxldGVBY3Rpb24oZmllbGRJZCkpLnRoZW4oKCkgPT4ge1xuICAgIC8vICAgLy8g6YCJ5Lit6IqC54K55YmN56e75oiW5ZCO56e7KGRvIG5vdGhpbmcpXG4gICAgLy8gICBsZXQgY3VycmVudElkID0gbmV4dFNlbGVjdGVkSWRcbiAgICAvLyAgIGNvbnN0IG5leHRGaWVsZCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKG5leHRTZWxlY3RlZElkKVxuICAgIC8vICAgaWYgKCFuZXh0RmllbGQgfHwgaXNIaWRkZW5SZWZGaWVsZChuZXh0RmllbGQpKSB7XG4gICAgLy8gICAgIGN1cnJlbnRJZCA9IGZpZWxkW1BBUkVOVElEXVxuICAgIC8vICAgfVxuICAgIC8vICAgc2VsZWN0aW9uQ29udGV4dC5zZXRTZWxlY3QoW2N1cnJlbnRJZF0pXG4gICAgLy8gfSlcbiAgfVxuXG4gIC8vIOmHjeWkjVxuICBjb25zdCBjb3B5QW5kQWRkID0gKGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgbWFpblZpZXdEb20uZm9jdXMoKVxuICAgIGlmIChkaXNhYmxlZERlbGV0ZSkgcmV0dXJuXG4gICAgaWYgKF9pc1N5c0NvbnRyb2wpIHJldHVybiBzaG93TWVzc2FnZShgJHtOYW1lfeWPquiDveWcqOeUu+W4g+S4rea3u+WKoOS4gOasoe+8jOS4jeiDvemHjeWkjeOAgmApXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBzZWxlY3Rpb25Db250ZXh0LmdldFNlbGVjdGlvbigpXG4gICAgY29uc3Qgc2VsZWN0aW9uRmllbGQgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChzZWxlY3Rpb25bMF0pXG4gICAgY29uc3QgY29weUNvbnRyb2xzID0gZml4R3JvdXBDaGlsZHJlblBhcmVudElkKGNvcHlDb250cm9sUmVjdXJ2ZSh1aURhdGEsIGZpZWxkLCBmaWVsZFtQQVJFTlRJRF0pLCByb290SWQpXG5cbiAgICBjb25zdCBjb3B5UmVmQmlsbCA9IGNvcHlDb250cm9scy5maWx0ZXIoKGN0cmw6YW55KSA9PiBpc1JlZkJpbGwoY3RybC5fVHlwZV8pIHx8IGlzUmVmQmlsbFRhYmxlKGN0cmwuX1R5cGVfKSlcbiAgICBpZiAoaXNHcm91cENvbnRhaW5lcihzZWxlY3Rpb25GaWVsZC5fVHlwZV8pKSB7XG4gICAgICBjb25zdCBzdWJzID0gZGF0YUNvbnRleHQuZ2V0QWxsU3ViQ29udHJvbHMoc2VsZWN0aW9uRmllbGQuSWQpPy5maWx0ZXI/LigoY3RybDphbnkpID0+IGlzU3lzQ29udHJvbChjdHJsPy5fVHlwZV8pKVxuICAgICAgaWYgKGNvcHlSZWZCaWxsLmxlbmd0aCB8fCBzdWJzPy5sZW5ndGgpIHtcbiAgICAgICAgc2hvd01lc3NhZ2UoJ+WIhue7hOWGheWMheWQq+WFs+iBlOihqOWNleOAgeihqOagvOaIluezu+e7n+Wtl+aute+8jOS4jeiDvemHjeWkjeOAgicpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiAoaXNHcm91cENvbnRhaW5lcihjb3B5Q29udHJvbHMuX1R5cGVfKSkge1xuICAgIC8vICAgY29uc3QgZmllbGRzID0gZGF0YUNvbnRleHQuZ2V0QWxsU3ViQ29udHJvbHMoc2VsZWN0aW9uLklkKVxuICAgIC8vICAgY29uc29sZS5sb2coZmllbGRzKVxuICAgIC8vIH1cblxuICAgIGNvbnN0IGFkZEluZGV4ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2xJbmRleChmaWVsZElkKSArIDFcbiAgICBkYXRhQ29udGV4dC5hZGRDb250cm9sKGNyZWF0ZVBhc3RlQWN0aW9uKGNvcHlDb250cm9scywgeyBpbmRleDogYWRkSW5kZXggfSkpLnRoZW4oKCkgPT4ge1xuICAgICAgc2VsZWN0aW9uQ29udGV4dC5zZXRTZWxlY3QoW2NvcHlDb250cm9sc1swXVtJRF1dKVxuICAgIH0pXG4gICAgLy8gaWYgKHNlbGVjdGlvbi5sZW5ndGggPiAxKSB7XG4gICAgLy8gICBjb25zdCBzZWxlY3RDb250cm9sc0NvcHkgPSBzZWxlY3Rpb24ucmVkdWNlKChjb250cm9sczogYW55W10sIGlkOiBzdHJpbmcpID0+IHtcbiAgICAvLyAgICAgY29uc3QgY29udHJvbERhdGEgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChpZClcbiAgICAvLyAgICAgcmV0dXJuIGNvbnRyb2xzLmNvbmNhdChjb3B5Q29udHJvbFJlY3VydmUodWlEYXRhLCBjb250cm9sRGF0YSwgY29udHJvbERhdGFbUEFSRU5USURdKSlcbiAgICAvLyAgIH0sIFtdKVxuICAgIC8vICAgZGF0YUNvbnRleHQuYWRkQ29udHJvbChjcmVhdGVQYXN0ZUFjdGlvbihzZWxlY3RDb250cm9sc0NvcHkpKS50aGVuKCgpID0+IHtcbiAgICAvLyAgICAgLy8gc2VsZWN0aW9uQ29udGV4dC5zZXRTZWxlY3QoW2NvcHlDb250cm9sc1swXVtJRF1dKVxuICAgIC8vICAgfSlcbiAgICAvLyB9IGVsc2Uge1xuICAgIC8vICAgY29uc3QgY29weUNvbnRyb2xzID0gY29weUNvbnRyb2xSZWN1cnZlKHVpRGF0YSwgZmllbGQsIGZpZWxkW1BBUkVOVElEXSlcbiAgICAvLyAgIGNvbnN0IGFkZEluZGV4ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2xJbmRleChmaWVsZElkKSArIDFcbiAgICAvLyAgIGRhdGFDb250ZXh0LmFkZENvbnRyb2woY3JlYXRlUGFzdGVBY3Rpb24oY29weUNvbnRyb2xzLCB7IGluZGV4OiBhZGRJbmRleCB9KSkudGhlbigoKSA9PiB7XG4gICAgLy8gICAgIHNlbGVjdGlvbkNvbnRleHQuc2V0U2VsZWN0KFtjb3B5Q29udHJvbHNbMF1bSURdXSlcbiAgICAvLyAgIH0pXG4gICAgLy8gfVxuICB9XG5cbiAgLy8g6L+Z6YeM55uR5ZCs5Li76KeG5Zu+5a695bqm5Y+Y5YyWXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2IgPSAoKSA9PiB7XG4gICAgICB0cmFjZVBvc2l0aW9uQ2FsbGJhY2soY29udGFpbmVyRG9tPy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSlcbiAgICB9XG4gICAgY29uc3QgbWFpblZpZXdEb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9jb2RlLWRlc2lnbmVyLW1haW4tcm9vdCcpXG4gICAgaWYgKCFjb250YWluZXJEb20pIHJldHVyblxuICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gYWRkUmVzaXplT2JzZXJ2ZShjb250YWluZXJEb20sIGNiKVxuICAgIGNvbnN0IG1haW5WaWV3UmVzaXplT2JzZXJ2ZXIgPSBhZGRSZXNpemVPYnNlcnZlKG1haW5WaWV3RG9tLCBjYilcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcmVzaXplT2JzZXJ2ZXIgJiYgcmVzaXplT2JzZXJ2ZXIucmVtb3ZlUmVzaXplT2JzZXJ2ZSgpXG4gICAgICBtYWluVmlld1Jlc2l6ZU9ic2VydmVyICYmIG1haW5WaWV3UmVzaXplT2JzZXJ2ZXIucmVtb3ZlUmVzaXplT2JzZXJ2ZSgpXG4gICAgfVxuICB9LCBbXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBzdWJzY3JpYmUgPSBkYXRhQ29udGV4dC5hZGREYXRhQ2hhbmdlTGlzdGVuZXIoKCkgPT4ge1xuICAgICAgc3Vic2NyaWJlICYmIGZvcmNlVXBkYXRlKClcbiAgICB9KVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzdWJzY3JpYmUgJiYgc3Vic2NyaWJlKClcbiAgICAgIHN1YnNjcmliZSA9IG51bGxcbiAgICB9XG4gIH0sIFtmb3JjZVVwZGF0ZV0pXG5cbiAgY29uc3QgZGlzYWJsZUJ0biA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudEZpZWxkID0gZGF0YUNvbnRleHQuZ2V0UGFyZW50Q29udHJvbChmaWVsZElkKVxuICAgIC8vIOeItuiKgueCueS4uuWFs+iBlOihqOWNleihqOagvOS4lOWFs+iBlOeahOihqOWNleS4uuW6lOeUqOWkluihqOWNlSzliJnnpoHnlKjlpI3liLblj4rorr7nva7mjInpkq5cbiAgICAvLyAxLjUg5Li05pe25pS55oiQ5aSW6YOo6KGo5Y2V5LiN5Y+v57yW6L6RXG4gICAgaWYgKGlzUmVmQmlsbFRhYmxlKHBhcmVudEZpZWxkPy5fVHlwZV8pKSB7XG4gICAgICAvLyByZXR1cm4gIWlzQXBwSW5uZXJGb3JtKHBhcmVudEZpZWxkLCAoYmlsbFByb3BzRGF0YT8uaW5uZXJGb3JtIHx8IFtdKSlcbiAgICAgIHJldHVybiBwYXJlbnRGaWVsZC5Tb3VyY2VGb3JtID09PSAnMidcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH0sIFtmaWVsZElkLCBiaWxsUHJvcHNEYXRhLCBzb3VyY2VGb3JtXSlcblxuICAvLyDlpoLmnpzmmK/lhbPogZTooajljZXmjqfku7bvvIzliJnkuI3mmL7npLrph43lpI3mk43kvZzmjInpkq5cbiAgY29uc3QgaXNSZWZCaWxsQ29udHJvbCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBpc1JlZkJpbGxUYWJsZShjb250cm9sVHlwZSkgfHwgaXNSZWZCaWxsKGNvbnRyb2xUeXBlKVxuICB9LCBbY29udHJvbFR5cGVdKVxuXG4gIGlmICghY29udGFpbmVyRG9tIHx8IGNvbnRhaW5lckRvbS5nZXRBdHRyaWJ1dGUoJ2lkJykgPT09IHJvb3REb21JZCB8fCAhbWFpblZpZXdEb20gfHwgbm90U2hvd09wZXJhdGlvbkJhcikge1xuICAgIHJldHVybiBudWxsXG4gIH1cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHJlZj17ZmxvYXRpbmdNZW51UmVmfSBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tb3BlcmF0aW9uLWJhci13cmFwYH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nb3BlcmF0aW9uLWJhci1uYW1lIG1yLTInPlxuICAgICAgICA8SWNvbiBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT17Y29udHJvbEljb259IGNsYXNzTmFtZT0nb3BlcmF0aW9uLWJhci1uYW1lLWljb24nIC8+XG4gICAgICAgIDxzcGFuPntjb250cm9sTmFtZSB8fCAnJ308L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIHshZGlzYWJsZWREZWxldGUgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nb3BlcmF0aW9uLWJhci1sZWZ0Jz5cbiAgICAgICAgICB7IWRpc2FibGVCdG4gJiYgIWlzUmVmQmlsbENvbnRyb2wgJiYgKFxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFsnb3BlcmF0aW9uLWJhci1pdGVtJ10pfVxuICAgICAgICAgICAgICBvbkNsaWNrPXtjb3B5QW5kQWRkfVxuICAgICAgICAgICAgICB0aXRsZT0n6YeN5aSNJ1xuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8SWNvbiBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nemhvbmdmdScgLz5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoWydvcGVyYXRpb24tYmFyLWl0ZW0nXSl9XG4gICAgICAgICAgICBvbkNsaWNrPXtkZWxldGVDb250cm9sfVxuICAgICAgICAgICAgdGl0bGU9J+WIoOmZpCdcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8SWNvbiBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nc2hhbmNodScgLz5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIHshZGlzYWJsZUJ0biAmJiA8UXVpY2tTZXR0aW5nIG1haW5WaWV3RG9tPXttYWluVmlld0RvbX0gZmllbGQ9e2ZpZWxkfSBwcmVmaXhDbHM9e3ByZWZpeENsc30gLz59XG4gICAgPC9kaXY+XG4gIClcbn0pXG5cbi8vIOiuvuiuoeWZqOmAieS4reaOp+S7tueahOaCrOa1ruiPnOWNlVxuY29uc3QgRmxvYXRpbmdPcGVyYXRpb25CYXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgY29uc3QgeyBnZXRLZGVzaWduZXJBcGksIHByZWZpeENscywgaXNQQywgYmlsbFByb3BzRGF0YSwgZGlzcGF0Y2hCaWxsRGF0YSwgZ2V0SGlkZUZpZWxkUmVmLCBzZXRIaWRlRmllbGRSZWYgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCBrZGVzaWduZXJBcGkgPSB1c2VNZW1vKCgpID0+IGdldEtkZXNpZ25lckFwaSgpLCBbXSlcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCwgc2VsZWN0aW9uOiBzZWxlY3Rpb25Db250ZXh0LCBtZXRhOiBtZXRhQXBpIH0gPSBrZGVzaWduZXJBcGlcbiAgY29uc3Qgc2VsZWN0aW9uID0gc2VsZWN0aW9uQ29udGV4dC5nZXRTZWxlY3Rpb24oKVxuICBjb25zdCByb290SWQgPSBkYXRhQ29udGV4dC5nZXRSb290SWQoKVxuICBjb25zdCB7IENvbHVtblNwYW46IFJvb3RDb2x1bW5TcGFuIH0gPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChyb290SWQpXG4gIGNvbnN0IG1haW5WaWV3RG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoTUFJTlZJRVdfUk9PVF9JRClcbiAgY29uc3Qgcm9vdERvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJvb3REb21JZClcbiAgY29uc3QgW2ZvcmNlVXBkYXRlTnVtLCBmb3JjZVVwZGF0ZV0gPSB1c2VSZWR1Y2VyKG4gPT4gbiArIDEsIDApXG4gIGNvbnN0IGFkZENvbnRyb2xJZCA9IHVzZVJlZignJylcblxuICB1c2VTZWxlY3Rpb25DaGFuZ2VGb3JjZVVwZGF0ZUVmZmVjdChrZGVzaWduZXJBcGkpXG4gIC8vIHVzZURhdGFDaGFuZ2VGb3JjZVVwZGF0ZUVmZmVjdChrZGVzaWduZXJBcGkpXG5cbiAgLy8gY29uc3QgZ2V0QWRkQ29udHJvbElkID0gdXNlQ2FsbGJhY2soKGlkKSA9PiB7XG4gIC8vICAgYWRkQ29udHJvbElkLmN1cnJlbnQgPSBpZFxuICAvLyB9LCBbXSlcblxuICAvLyBjb25zdCBjbGVhckFkZENvbnRyb2xJZCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgLy8gICBhZGRDb250cm9sSWQuY3VycmVudCA9ICcnXG4gIC8vIH0sIFtdKVxuXG4gIC8vIHVzZUVmZmVjdCgoKSA9PiB7XG4gIC8vICAgZXZlbnRCdXMub24oJ2FkZC1jb250cm9sLWlkJywgZ2V0QWRkQ29udHJvbElkKVxuICAvLyAgIHJldHVybiAoKSA9PiB7XG4gIC8vICAgICBldmVudEJ1cy5vZmYoJ2FkZC1jb250cm9sLWlkJywgZ2V0QWRkQ29udHJvbElkKVxuICAvLyAgIH1cbiAgLy8gfSwgW10pXG5cbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAvLyDov5nph4xmb3JjZVVwZGF0ZeS4gOS4i++8jOehruS/neWIh+aNonBjL21vYmlsZeeahOaXtuWAmeiDveato+W4uOaYvuekulxuICAgIGZvcmNlVXBkYXRlKClcbiAgfSwgW2lzUENdKVxuXG4gIC8vIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gIC8vICAgY29uc3Qgc3Vic2NyaWJlID0gZGF0YUNvbnRleHQuYWRkRGF0YUNoYW5nZUxpc3RlbmVyKCgpID0+IHtcbiAgLy8gICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAvLyAgICAgICBmb3JjZVVwZGF0ZSgpXG4gIC8vICAgICB9LCA1MClcbiAgLy8gICB9KVxuICAvLyAgIHJldHVybiAoKSA9PiB7XG4gIC8vICAgICBzdWJzY3JpYmUgJiYgc3Vic2NyaWJlKClcbiAgLy8gICB9XG4gIC8vIH0sIFtkYXRhQ29udGV4dF0pXG5cbiAgLy8gY29uc3QgaGlkZUZpZWxkID0gZ2V0SGlkZUZpZWxkUmVmKClcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICB7c2VsZWN0aW9uLm1hcCgoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBjb250cm9sRGF0YSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGlkKSB8fCB7fVxuICAgICAgICBjb25zdCB7IENvbHVtblNwYW4gPSAxLCBfVHlwZV86IGNvbnRyb2xUeXBlIH0gPSBjb250cm9sRGF0YVxuICAgICAgICBjb25zdCBkZWZhdWx0RmllbGREYXRhID0gbWV0YUFwaS5nZXREZWZhdWx0RGF0YShjb250cm9sVHlwZSlcbiAgICAgICAgY29uc3QgZmllbGQgPSB7IC4uLmRlZmF1bHRGaWVsZERhdGEsIC4uLmNvbnRyb2xEYXRhIH1cbiAgICAgICAgY29uc3QgY29udHJvbFJvb3REb20gPSBpc0JpekJ1dHRvbihjb250cm9sVHlwZSkgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYml6LWJ1dHRvbi1wYW5lbCcpIDogcm9vdERvbVxuXG4gICAgICAgIGNvbnN0IGNvbnRyb2xJbmRleCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sSW5kZXgoaWQpXG4gICAgICAgIGNvbnN0IGtleSA9IGBvcGVyYXRpb24tYmFyLWl0ZW0tJHtpZH0tJHtjb250cm9sSW5kZXh9LSR7Q29sdW1uU3Bhbn0tJHtmb3JjZVVwZGF0ZU51bX1gXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPE9wZXJhdGlvbkJhckl0ZW1cbiAgICAgICAgICAgIGtleT17a2V5fVxuICAgICAgICAgICAgcHJlZml4Q2xzPXtwcmVmaXhDbHN9XG4gICAgICAgICAgICBiaWxsUHJvcHNEYXRhPXtiaWxsUHJvcHNEYXRhfVxuICAgICAgICAgICAgZGlzcGF0Y2hCaWxsRGF0YT17ZGlzcGF0Y2hCaWxsRGF0YX1cbiAgICAgICAgICAgIGdldEhpZGVGaWVsZD17Z2V0SGlkZUZpZWxkUmVmfVxuICAgICAgICAgICAgc2V0SGlkZUZpZWxkPXtzZXRIaWRlRmllbGRSZWZ9XG4gICAgICAgICAgICBmaWVsZD17ZmllbGR9XG4gICAgICAgICAgICBtYWluVmlld0RvbT17bWFpblZpZXdEb219XG4gICAgICAgICAgICByb290RG9tPXtjb250cm9sUm9vdERvbX1cbiAgICAgICAgICAgIGtkZXNpZ25lckFwaT17a2Rlc2lnbmVyQXBpfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIH0pfVxuICAgICAgPENvbnRleHRNZW51UGFuZWwgLz5cbiAgICA8Lz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBGbG9hdGluZ09wZXJhdGlvbkJhclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///70944\n");

/***/ }),

/***/ 98444:
/*!***************************************************!*\
  !*** ./src/components/FloatPermissionSetting.tsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _FloatOperationBar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./FloatOperationBar */ 70944);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/control */ 3700);\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar keyMap = {\n  1: 'default',\n  2: 'disabled',\n  3: 'readonly',\n  4: 'hidden'\n};\nvar DEFAULT_HIDE_MENU_FUNC = function DEFAULT_HIDE_MENU_FUNC(controlType, parentType) {\n  return (0,_utils_control__WEBPACK_IMPORTED_MODULE_12__.isEntryEntity)(parentType) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_12__.isBizButton)(controlType);\n};\nvar PermissionSettingItem = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.memo)(function (props) {\n  var prefixCls = props.prefixCls,\n    field = props.field,\n    rootDom = props.rootDom,\n    kdesignerApi = props.kdesignerApi,\n    containerDom = props.containerDom,\n    floatMenuProps = props.floatMenu,\n    fieldStatusMap = props.fieldStatusMap,\n    _props$fieldStatusSet = props.fieldStatusSettingOptions,\n    fieldStatusSettingOptions = _props$fieldStatusSet === void 0 ? {} : _props$fieldStatusSet,\n    dispatchFieldStatus = props.dispatchFieldStatus;\n  var fieldId = field.Id,\n    controlType = field._Type_,\n    fieldKey = field.Key,\n    Status = field.Status,\n    FieldRequired = field.FieldRequired,\n    ParentId = field.ParentId;\n  var dataContext = kdesignerApi.data,\n    selectionContext = kdesignerApi.selection,\n    metaApi = kdesignerApi.meta;\n  var floatingMenuRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useRef)(null);\n  var rootDomRect = rootDom.getBoundingClientRect();\n  var controlMeta = metaApi.getControlMeta(controlType);\n  var notShowOperationBar = controlMeta.Inside,\n    CategoryId = controlMeta.CategoryId,\n    Name = controlMeta.Name,\n    IsContainer = controlMeta.IsContainer;\n  var _dataContext$findCont = dataContext.findControl(ParentId),\n    parentType = _dataContext$findCont._Type_;\n  var _fieldStatusSettingOp = fieldStatusSettingOptions.defaultStatus,\n    defaultStatus = _fieldStatusSettingOp === void 0 ? 'default' : _fieldStatusSettingOp,\n    _fieldStatusSettingOp2 = fieldStatusSettingOptions.hideMenu,\n    hideMenu = _fieldStatusSettingOp2 === void 0 ? DEFAULT_HIDE_MENU_FUNC : _fieldStatusSettingOp2,\n    onFieldStatusChange = fieldStatusSettingOptions.onFieldStatusChange;\n  var statusEditor = metaApi.getControlMetaEditor(controlType, 'Status');\n  // console.log('controlMeta', controlMeta);\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState, 2),\n    dropdownVisible = _useState2[0],\n    setDropdownVisible = _useState2[1];\n  var fieldStatus = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(function () {\n    if (fieldStatusMap !== null && fieldStatusMap !== void 0 && fieldStatusMap[fieldKey]) {\n      return fieldStatusMap[fieldKey];\n    }\n    if (!floatMenuProps || !(floatMenuProps !== null && floatMenuProps !== void 0 && floatMenuProps.length)) {\n      var statusText = keyMap[Status] || defaultStatus;\n      return statusText === defaultStatus && FieldRequired === '2' ? 'mustInput' : statusText;\n    }\n    return defaultStatus;\n  }, [fieldKey, fieldStatusMap, floatMenuProps, Status, FieldRequired, fieldStatusSettingOptions]);\n  var floatMenu = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(function () {\n    if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_11__.isUndefined)(floatMenuProps)) return floatMenuProps;\n    var _ref = statusEditor || {},\n      Enum = _ref.Enum;\n    var newMenu = [];\n    Enum === null || Enum === void 0 || Enum.forEach(function (item) {\n      newMenu.push({\n        key: keyMap[item.Id],\n        label: item.Name\n      });\n    });\n    if ((!IsContainer || (0,_utils_control__WEBPACK_IMPORTED_MODULE_12__.isRefBillTable)(controlType)) && newMenu.length) {\n      newMenu.push({\n        key: 'mustInput',\n        label: '必填'\n      });\n    }\n    return newMenu;\n  }, [statusEditor, IsContainer, floatMenuProps, controlType]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(function () {\n    var floatingMenuNode = floatingMenuRef.current;\n    if (!floatingMenuNode) {\n      return;\n    }\n    // 绑定观察者\n    var observer = (0,_FloatOperationBar__WEBPACK_IMPORTED_MODULE_10__.observeVisibility)(containerDom, floatingMenuNode);\n    return function () {\n      observer.disconnect();\n    };\n  }, [floatingMenuRef.current, containerDom]);\n  var callback = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useCallback)(function (traceDomRect) {\n    var floatingMenuNode = floatingMenuRef.current;\n    if (!floatingMenuNode || !rootDom) {\n      return;\n    }\n    var _floatingMenuNode$get = floatingMenuNode.getBoundingClientRect(),\n      width = _floatingMenuNode$get.width;\n    var traceDomLeft = traceDomRect.left,\n      traceDomTop = traceDomRect.top,\n      traceDomWidth = traceDomRect.width;\n    var rdrLeft = rootDomRect.left,\n      rdrTop = rootDomRect.top,\n      rdrWidth = rootDomRect.width,\n      rdrHeight = rootDomRect.height;\n    var maxLeft = rdrLeft + rdrWidth - width;\n    // const maxHeight = rdrTop + rdrHeight\n    // 如果计算的left溢出主视图，则取一个最大的left的阀值（主视图宽度-快速工具栏的宽度）\n    // const fmnLeft = Math.(traceDomLeft + traceDomWidth - width, maxLeft)\n    var fmnLeft = traceDomLeft < rdrLeft ? rdrLeft : traceDomLeft;\n    var fmnTop = traceDomTop - _FloatOperationBar__WEBPACK_IMPORTED_MODULE_10__.NODE_HEIGHT - 2;\n    floatingMenuNode.style.left = \"\".concat(fmnLeft, \"px\");\n    floatingMenuNode.style.top = \"\".concat(fmnTop, \"px\");\n    var isValidArea = fmnTop >= rdrTop - _FloatOperationBar__WEBPACK_IMPORTED_MODULE_10__.NODE_HEIGHT - 2 && fmnTop <= rdrTop + rdrHeight;\n    if (floatingMenuNode.dataset.visible === 'true') {\n      if (isValidArea && floatingMenuNode.style.zIndex === _FloatOperationBar__WEBPACK_IMPORTED_MODULE_10__.hiddenZindex) {\n        floatingMenuNode.style.zIndex = _FloatOperationBar__WEBPACK_IMPORTED_MODULE_10__.visibleZindex;\n      } else if (!isValidArea && floatingMenuNode.style.zIndex === _FloatOperationBar__WEBPACK_IMPORTED_MODULE_10__.visibleZindex) {\n        floatingMenuNode.style.zIndex = _FloatOperationBar__WEBPACK_IMPORTED_MODULE_10__.hiddenZindex;\n      }\n    }\n  }, [floatingMenuRef.current, rootDom, rootDomRect]);\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.useTraceElementPosition)({\n    selectedCtrlNode: containerDom,\n    callback: callback\n  });\n  var curFieldStatusLabel = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(function () {\n    var _floatMenu$find, _floatMenu$;\n    // 普通、禁用、只读、隐藏的状态；然后如果是必填，那么只有在普通状态下，才会变为必填状态；如果是其他状态，必填取消，字段保持为其他状态；\n    return ((_floatMenu$find = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_3___default()(floatMenu).call(floatMenu, function (item) {\n      return item.key === fieldStatus;\n    })) === null || _floatMenu$find === void 0 ? void 0 : _floatMenu$find.label) || ((_floatMenu$ = floatMenu[0]) === null || _floatMenu$ === void 0 ? void 0 : _floatMenu$.label);\n  }, [floatMenu, fieldStatus]);\n  var handleFloatMenuItemClick = function handleFloatMenuItemClick(key) {\n    setDropdownVisible(false);\n    if (typeof onFieldStatusChange === 'function') {\n      onFieldStatusChange === null || onFieldStatusChange === void 0 || onFieldStatusChange(key, field, kdesignerApi, dispatchFieldStatus, fieldStatusMap);\n      return;\n    }\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_12__.isRefBillTable)(controlType)) {\n      // 表格，权限切换，需联动子控件\n      var subControls = dataContext.findControlByCondition(function (item) {\n        return item.ParentId === fieldId;\n      }) || [];\n      var allChanges = subControls.reduce(function (changes, control) {\n        return (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(changes, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, control.Key, key));\n      }, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, fieldKey, key));\n      dispatchFieldStatus(allChanges);\n    } else {\n      dispatchFieldStatus((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, fieldKey, key));\n    }\n  };\n  var floatDropdownMenu = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(function () {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8__.Dropdown.Menu, {\n      onClick: handleFloatMenuItemClick\n    }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(floatMenu).call(floatMenu, function (item) {\n      return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8__.Dropdown.Item, {\n        key: item.key\n      }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-permission-setting-panel-item\")\n      }, item.label || item.key));\n    }));\n  }, [floatMenu]);\n\n  // 表格里面的字段不支持配置\n  if (!containerDom || containerDom.getAttribute('id') === _FloatOperationBar__WEBPACK_IMPORTED_MODULE_10__.rootDomId || !rootDom || hideMenu !== null && hideMenu !== void 0 && hideMenu(controlType, parentType)) {\n    return null;\n  }\n  if (notShowOperationBar) return null;\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", {\n    ref: floatingMenuRef,\n    className: \"\".concat(prefixCls, \"-permission-setting-wrap\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8__.Dropdown, {\n    selectable: true,\n    popperClassName: \"\".concat(prefixCls, \"-permission-setting-panel\"),\n    trigger: \"click\",\n    visible: dropdownVisible,\n    onVisibleChange: setDropdownVisible,\n    selectedKey: fieldStatus,\n    menu: floatDropdownMenu\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", {\n    className: \"permission-setting-label\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"span\", {\n    className: \"permission-setting-label-text\"\n  }, curFieldStatusLabel), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8__.Icon, {\n    className: \"permission-setting-label-icon\",\n    prefix: \"designericon\",\n    type: dropdownVisible ? 'xialajiantoufanxiang' : 'xialajiantou'\n  }))));\n});\nPermissionSettingItem.displayName = 'PermissionSettingItem';\n\n// 设计器选中控件的悬浮菜单\nvar FloatPermissionSetting = function FloatPermissionSetting(props) {\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useContext)(_context__WEBPACK_IMPORTED_MODULE_9__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    prefixCls = _useContext.prefixCls,\n    floatMenu = _useContext.floatMenu,\n    fieldStatusMap = _useContext.fieldStatusMap,\n    dispatchFieldStatus = _useContext.dispatchFieldStatus,\n    fieldStatusSettingOptions = _useContext.fieldStatusSettingOptions;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data,\n    selectionContext = kdesignerApi.selection;\n  var selection = selectionContext.getSelection();\n  var rootId = dataContext.getRootId();\n  var rootDom = document.querySelector(\"[data-control-id=\\\"\".concat(rootId, \"\\\"]\"));\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useReducer)(function (n) {\n      return n + 1;\n    }, 0),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useReducer, 2),\n    forceUpdate = _useReducer2[1];\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.useSelectionChangeForceUpdateEffect)(kdesignerApi);\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.useDataChangeForceUpdateEffect)(kdesignerApi);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().Fragment), null, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(selection).call(selection, function (id) {\n    var _context, _context2;\n    var controlData = dataContext.findControl(id);\n    var _controlData$ColumnSp = controlData.ColumnSpan,\n      ColumnSpan = _controlData$ColumnSp === void 0 ? 1 : _controlData$ColumnSp,\n      _Type_ = controlData._Type_;\n    var controlIndex = dataContext.findControlIndex(id);\n    var containerDom = document.querySelector(\"[data-control-id=\\\"\".concat(id, \"\\\"]\"));\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(PermissionSettingItem, {\n      key: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(_context2 = \"permission-setting-item-\".concat(id, \"-\")).call(_context2, controlIndex, \"-\")).call(_context, ColumnSpan),\n      prefixCls: prefixCls,\n      field: controlData,\n      rootDom: rootDom,\n      containerDom: containerDom,\n      kdesignerApi: kdesignerApi,\n      floatMenu: floatMenu,\n      fieldStatusMap: fieldStatusMap,\n      fieldStatusSettingOptions: fieldStatusSettingOptions,\n      dispatchFieldStatus: dispatchFieldStatus\n    });\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (FloatPermissionSetting);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTg0NDQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBTUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFHQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2NvbXBvbmVudHMvRmxvYXRQZXJtaXNzaW9uU2V0dGluZy50c3g/MTFlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VNZW1vLCBtZW1vLCB1c2VSZWR1Y2VyLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHtcbiAgdXNlU2VsZWN0aW9uQ2hhbmdlRm9yY2VVcGRhdGVFZmZlY3QsIHVzZURhdGFDaGFuZ2VGb3JjZVVwZGF0ZUVmZmVjdCxcbiAgdXNlVHJhY2VFbGVtZW50UG9zaXRpb25cbn0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgSWNvbiwgRHJvcGRvd24gfSBmcm9tICdAa2RjbG91ZGpzL2tkZXNpZ24nXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0J1xuaW1wb3J0IHsgTUFJTlZJRVdfUk9PVF9JRCB9IGZyb20gJy4uL2NvbnN0YW50cydcbmltcG9ydCB7IG9ic2VydmVWaXNpYmlsaXR5LCByb290RG9tSWQsIHZpc2libGVaaW5kZXgsIGhpZGRlblppbmRleCwgTk9ERV9IRUlHSFQgfSBmcm9tICcuL0Zsb2F0T3BlcmF0aW9uQmFyJ1xuaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgeyBpc0JpekJ1dHRvbiwgaXNFbnRyeUVudGl0eSwgaXNSZWZCaWxsVGFibGUgfSBmcm9tICcuLi91dGlscy9jb250cm9sJ1xuXG5jb25zdCBrZXlNYXAgPSB7XG4gIDE6ICdkZWZhdWx0JyxcbiAgMjogJ2Rpc2FibGVkJyxcbiAgMzogJ3JlYWRvbmx5JyxcbiAgNDogJ2hpZGRlbidcbn1cblxuY29uc3QgREVGQVVMVF9ISURFX01FTlVfRlVOQyA9IChjb250cm9sVHlwZTogc3RyaW5nLCBwYXJlbnRUeXBlOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIGlzRW50cnlFbnRpdHkocGFyZW50VHlwZSkgfHwgaXNCaXpCdXR0b24oY29udHJvbFR5cGUpXG59XG5cbmNvbnN0IFBlcm1pc3Npb25TZXR0aW5nSXRlbSA9IG1lbW8oKHByb3BzOiBhbnkpID0+IHtcbiAgY29uc3QgeyBwcmVmaXhDbHMsIGZpZWxkLCByb290RG9tLCBrZGVzaWduZXJBcGksIGNvbnRhaW5lckRvbSwgZmxvYXRNZW51OiBmbG9hdE1lbnVQcm9wcywgZmllbGRTdGF0dXNNYXAsIGZpZWxkU3RhdHVzU2V0dGluZ09wdGlvbnMgPSB7fSwgZGlzcGF0Y2hGaWVsZFN0YXR1cyB9ID0gcHJvcHNcbiAgY29uc3QgeyBJZDogZmllbGRJZCwgX1R5cGVfOiBjb250cm9sVHlwZSwgS2V5OiBmaWVsZEtleSwgU3RhdHVzLCBGaWVsZFJlcXVpcmVkLCBQYXJlbnRJZCB9ID0gZmllbGRcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCwgc2VsZWN0aW9uOiBzZWxlY3Rpb25Db250ZXh0LCBtZXRhOiBtZXRhQXBpIH0gPSBrZGVzaWduZXJBcGlcbiAgY29uc3QgZmxvYXRpbmdNZW51UmVmID0gdXNlUmVmKG51bGwpXG4gIGNvbnN0IHJvb3REb21SZWN0ID0gcm9vdERvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICBjb25zdCBjb250cm9sTWV0YSA9IG1ldGFBcGkuZ2V0Q29udHJvbE1ldGEoY29udHJvbFR5cGUpXG4gIGNvbnN0IHsgSW5zaWRlOiBub3RTaG93T3BlcmF0aW9uQmFyLCBDYXRlZ29yeUlkLCBOYW1lLCBJc0NvbnRhaW5lciB9ID0gY29udHJvbE1ldGFcbiAgY29uc3QgeyBfVHlwZV86IHBhcmVudFR5cGUgfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKFBhcmVudElkKVxuICBjb25zdCB7IGRlZmF1bHRTdGF0dXMgPSAnZGVmYXVsdCcsIGhpZGVNZW51ID0gREVGQVVMVF9ISURFX01FTlVfRlVOQywgb25GaWVsZFN0YXR1c0NoYW5nZSB9ID0gZmllbGRTdGF0dXNTZXR0aW5nT3B0aW9uc1xuXG4gIGNvbnN0IHN0YXR1c0VkaXRvciA9IG1ldGFBcGkuZ2V0Q29udHJvbE1ldGFFZGl0b3IoY29udHJvbFR5cGUsICdTdGF0dXMnKVxuICAvLyBjb25zb2xlLmxvZygnY29udHJvbE1ldGEnLCBjb250cm9sTWV0YSk7XG4gIGNvbnN0IFtkcm9wZG93blZpc2libGUsIHNldERyb3Bkb3duVmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSlcblxuICBjb25zdCBmaWVsZFN0YXR1cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChmaWVsZFN0YXR1c01hcD8uW2ZpZWxkS2V5XSkge1xuICAgICAgcmV0dXJuIGZpZWxkU3RhdHVzTWFwW2ZpZWxkS2V5XVxuICAgIH1cblxuICAgIGlmICghZmxvYXRNZW51UHJvcHMgfHwgIWZsb2F0TWVudVByb3BzPy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHN0YXR1c1RleHQgPSBrZXlNYXBbU3RhdHVzXSB8fCBkZWZhdWx0U3RhdHVzXG4gICAgICByZXR1cm4gKHN0YXR1c1RleHQgPT09IGRlZmF1bHRTdGF0dXMgJiYgRmllbGRSZXF1aXJlZCA9PT0gJzInKSA/ICdtdXN0SW5wdXQnIDogc3RhdHVzVGV4dFxuICAgIH1cblxuICAgIHJldHVybiBkZWZhdWx0U3RhdHVzXG4gIH0sIFtmaWVsZEtleSwgZmllbGRTdGF0dXNNYXAsIGZsb2F0TWVudVByb3BzLCBTdGF0dXMsIEZpZWxkUmVxdWlyZWQsIGZpZWxkU3RhdHVzU2V0dGluZ09wdGlvbnNdKVxuXG4gIGNvbnN0IGZsb2F0TWVudSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghaXNVbmRlZmluZWQoZmxvYXRNZW51UHJvcHMpKSByZXR1cm4gZmxvYXRNZW51UHJvcHNcbiAgICBjb25zdCB7IEVudW0gfSA9IHN0YXR1c0VkaXRvciB8fCB7fVxuXG4gICAgY29uc3QgbmV3TWVudSA9IFtdXG5cbiAgICBFbnVtPy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgbmV3TWVudS5wdXNoKHsga2V5OiBrZXlNYXBbaXRlbS5JZF0sIGxhYmVsOiBpdGVtLk5hbWUgfSlcbiAgICB9KVxuXG4gICAgaWYgKCghSXNDb250YWluZXIgfHwgaXNSZWZCaWxsVGFibGUoY29udHJvbFR5cGUpKSAmJiBuZXdNZW51Lmxlbmd0aCkge1xuICAgICAgbmV3TWVudS5wdXNoKHsga2V5OiAnbXVzdElucHV0JywgbGFiZWw6ICflv4XloasnIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld01lbnVcbiAgfSwgW3N0YXR1c0VkaXRvciwgSXNDb250YWluZXIsIGZsb2F0TWVudVByb3BzLCBjb250cm9sVHlwZV0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmbG9hdGluZ01lbnVOb2RlID0gZmxvYXRpbmdNZW51UmVmLmN1cnJlbnRcbiAgICBpZiAoIWZsb2F0aW5nTWVudU5vZGUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvLyDnu5Hlrprop4Llr5/ogIVcbiAgICBjb25zdCBvYnNlcnZlciA9IG9ic2VydmVWaXNpYmlsaXR5KGNvbnRhaW5lckRvbSwgZmxvYXRpbmdNZW51Tm9kZSlcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgfVxuICB9LCBbZmxvYXRpbmdNZW51UmVmLmN1cnJlbnQsIGNvbnRhaW5lckRvbV0pXG5cbiAgY29uc3QgY2FsbGJhY2sgPSB1c2VDYWxsYmFjayh0cmFjZURvbVJlY3QgPT4ge1xuICAgIGNvbnN0IGZsb2F0aW5nTWVudU5vZGUgPSBmbG9hdGluZ01lbnVSZWYuY3VycmVudFxuICAgIGlmICghZmxvYXRpbmdNZW51Tm9kZSB8fCAhcm9vdERvbSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IHsgd2lkdGggfSA9IGZsb2F0aW5nTWVudU5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBjb25zdCB7IGxlZnQ6IHRyYWNlRG9tTGVmdCwgdG9wOiB0cmFjZURvbVRvcCwgd2lkdGg6IHRyYWNlRG9tV2lkdGggfSA9IHRyYWNlRG9tUmVjdFxuICAgIGNvbnN0IHsgbGVmdDogcmRyTGVmdCwgdG9wOiByZHJUb3AsIHdpZHRoOiByZHJXaWR0aCwgaGVpZ2h0OiByZHJIZWlnaHQgfSA9IHJvb3REb21SZWN0XG4gICAgY29uc3QgbWF4TGVmdCA9IHJkckxlZnQgKyByZHJXaWR0aCAtIHdpZHRoXG4gICAgLy8gY29uc3QgbWF4SGVpZ2h0ID0gcmRyVG9wICsgcmRySGVpZ2h0XG4gICAgLy8g5aaC5p6c6K6h566X55qEbGVmdOa6ouWHuuS4u+inhuWbvu+8jOWImeWPluS4gOS4quacgOWkp+eahGxlZnTnmoTpmIDlgLzvvIjkuLvop4blm77lrr3luqYt5b+r6YCf5bel5YW35qCP55qE5a695bqm77yJXG4gICAgLy8gY29uc3QgZm1uTGVmdCA9IE1hdGguKHRyYWNlRG9tTGVmdCArIHRyYWNlRG9tV2lkdGggLSB3aWR0aCwgbWF4TGVmdClcbiAgICBjb25zdCBmbW5MZWZ0ID0gdHJhY2VEb21MZWZ0IDwgcmRyTGVmdCA/IHJkckxlZnQgOiB0cmFjZURvbUxlZnRcbiAgICBjb25zdCBmbW5Ub3AgPSB0cmFjZURvbVRvcCAtIE5PREVfSEVJR0hUIC0gMlxuICAgIGZsb2F0aW5nTWVudU5vZGUuc3R5bGUubGVmdCA9IGAke2ZtbkxlZnR9cHhgXG4gICAgZmxvYXRpbmdNZW51Tm9kZS5zdHlsZS50b3AgPSBgJHtmbW5Ub3B9cHhgXG4gICAgY29uc3QgaXNWYWxpZEFyZWEgPSAoZm1uVG9wID49IHJkclRvcCAtIE5PREVfSEVJR0hUIC0gMikgJiYgKGZtblRvcCA8PSByZHJUb3AgKyByZHJIZWlnaHQpXG4gICAgaWYgKGZsb2F0aW5nTWVudU5vZGUuZGF0YXNldC52aXNpYmxlID09PSAndHJ1ZScpIHtcbiAgICAgIGlmIChpc1ZhbGlkQXJlYSAmJiBmbG9hdGluZ01lbnVOb2RlLnN0eWxlLnpJbmRleCA9PT0gaGlkZGVuWmluZGV4KSB7XG4gICAgICAgIGZsb2F0aW5nTWVudU5vZGUuc3R5bGUuekluZGV4ID0gdmlzaWJsZVppbmRleFxuICAgICAgfSBlbHNlIGlmICghaXNWYWxpZEFyZWEgJiYgZmxvYXRpbmdNZW51Tm9kZS5zdHlsZS56SW5kZXggPT09IHZpc2libGVaaW5kZXgpIHtcbiAgICAgICAgZmxvYXRpbmdNZW51Tm9kZS5zdHlsZS56SW5kZXggPSBoaWRkZW5aaW5kZXhcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtmbG9hdGluZ01lbnVSZWYuY3VycmVudCwgcm9vdERvbSwgcm9vdERvbVJlY3RdKVxuXG4gIHVzZVRyYWNlRWxlbWVudFBvc2l0aW9uKHsgc2VsZWN0ZWRDdHJsTm9kZTogY29udGFpbmVyRG9tLCBjYWxsYmFjazogY2FsbGJhY2sgfSlcblxuICBjb25zdCBjdXJGaWVsZFN0YXR1c0xhYmVsID0gdXNlTWVtbygoKSA9PiB7XG4gICAgLy8g5pmu6YCa44CB56aB55So44CB5Y+q6K+744CB6ZqQ6JeP55qE54q25oCB77yb54S25ZCO5aaC5p6c5piv5b+F5aGr77yM6YKj5LmI5Y+q5pyJ5Zyo5pmu6YCa54q25oCB5LiL77yM5omN5Lya5Y+Y5Li65b+F5aGr54q25oCB77yb5aaC5p6c5piv5YW25LuW54q25oCB77yM5b+F5aGr5Y+W5raI77yM5a2X5q615L+d5oyB5Li65YW25LuW54q25oCB77ybXG4gICAgcmV0dXJuIGZsb2F0TWVudS5maW5kKGl0ZW0gPT4gaXRlbS5rZXkgPT09IGZpZWxkU3RhdHVzKT8ubGFiZWwgfHwgZmxvYXRNZW51WzBdPy5sYWJlbFxuICB9LCBbZmxvYXRNZW51LCBmaWVsZFN0YXR1c10pXG5cbiAgY29uc3QgaGFuZGxlRmxvYXRNZW51SXRlbUNsaWNrID0gKGtleSkgPT4ge1xuICAgIHNldERyb3Bkb3duVmlzaWJsZShmYWxzZSlcbiAgICBpZiAodHlwZW9mIG9uRmllbGRTdGF0dXNDaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG9uRmllbGRTdGF0dXNDaGFuZ2U/LihrZXksIGZpZWxkLCBrZGVzaWduZXJBcGksIGRpc3BhdGNoRmllbGRTdGF0dXMsIGZpZWxkU3RhdHVzTWFwKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKGlzUmVmQmlsbFRhYmxlKGNvbnRyb2xUeXBlKSkge1xuICAgICAgLy8g6KGo5qC877yM5p2D6ZmQ5YiH5o2i77yM6ZyA6IGU5Yqo5a2Q5o6n5Lu2XG4gICAgICBjb25zdCBzdWJDb250cm9scyA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sQnlDb25kaXRpb24oaXRlbSA9PiBpdGVtLlBhcmVudElkID09PSBmaWVsZElkKSB8fCBbXVxuICAgICAgY29uc3QgYWxsQ2hhbmdlcyA9IHN1YkNvbnRyb2xzLnJlZHVjZSgoY2hhbmdlcywgY29udHJvbCkgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihjaGFuZ2VzLCB7IFtjb250cm9sLktleV06IGtleSB9KVxuICAgICAgfSwgeyBbZmllbGRLZXldOiBrZXkgfSlcbiAgICAgIGRpc3BhdGNoRmllbGRTdGF0dXMoYWxsQ2hhbmdlcylcbiAgICB9IGVsc2Uge1xuICAgICAgZGlzcGF0Y2hGaWVsZFN0YXR1cyh7IFtmaWVsZEtleV06IGtleSB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZsb2F0RHJvcGRvd25NZW51ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxEcm9wZG93bi5NZW51IG9uQ2xpY2s9e2hhbmRsZUZsb2F0TWVudUl0ZW1DbGlja30+XG4gICAgICAgIHtcbiAgICAgICAgICBmbG9hdE1lbnUubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxEcm9wZG93bi5JdGVtIGtleT17aXRlbS5rZXl9PjxzcGFuIGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1wZXJtaXNzaW9uLXNldHRpbmctcGFuZWwtaXRlbWB9PntpdGVtLmxhYmVsIHx8IGl0ZW0ua2V5fTwvc3Bhbj48L0Ryb3Bkb3duLkl0ZW0+XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgPC9Ecm9wZG93bi5NZW51PlxuICAgIClcbiAgfSwgW2Zsb2F0TWVudV0pXG5cbiAgLy8g6KGo5qC86YeM6Z2i55qE5a2X5q615LiN5pSv5oyB6YWN572uXG4gIGlmICghY29udGFpbmVyRG9tIHx8IGNvbnRhaW5lckRvbS5nZXRBdHRyaWJ1dGUoJ2lkJykgPT09IHJvb3REb21JZCB8fCAhcm9vdERvbSB8fCBoaWRlTWVudT8uKGNvbnRyb2xUeXBlLCBwYXJlbnRUeXBlKSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBpZiAobm90U2hvd09wZXJhdGlvbkJhcikgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgcmVmPXtmbG9hdGluZ01lbnVSZWZ9IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1wZXJtaXNzaW9uLXNldHRpbmctd3JhcGB9PlxuICAgICAgPERyb3Bkb3duIHNlbGVjdGFibGUgcG9wcGVyQ2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LXBlcm1pc3Npb24tc2V0dGluZy1wYW5lbGB9IHRyaWdnZXI9J2NsaWNrJyB2aXNpYmxlPXtkcm9wZG93blZpc2libGV9IG9uVmlzaWJsZUNoYW5nZT17c2V0RHJvcGRvd25WaXNpYmxlfSBzZWxlY3RlZEtleT17ZmllbGRTdGF0dXN9IG1lbnU9e2Zsb2F0RHJvcGRvd25NZW51fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3Blcm1pc3Npb24tc2V0dGluZy1sYWJlbCc+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdwZXJtaXNzaW9uLXNldHRpbmctbGFiZWwtdGV4dCc+e2N1ckZpZWxkU3RhdHVzTGFiZWx9PC9zcGFuPlxuICAgICAgICAgIDxJY29uIGNsYXNzTmFtZT0ncGVybWlzc2lvbi1zZXR0aW5nLWxhYmVsLWljb24nIHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPXtkcm9wZG93blZpc2libGUgPyAneGlhbGFqaWFudG91ZmFueGlhbmcnIDogJ3hpYWxhamlhbnRvdSd9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Ecm9wZG93bj5cblxuICAgIDwvZGl2PlxuICApXG59KVxuUGVybWlzc2lvblNldHRpbmdJdGVtLmRpc3BsYXlOYW1lID0gJ1Blcm1pc3Npb25TZXR0aW5nSXRlbSdcblxuLy8g6K6+6K6h5Zmo6YCJ5Lit5o6n5Lu255qE5oKs5rWu6I+c5Y2VXG5jb25zdCBGbG9hdFBlcm1pc3Npb25TZXR0aW5nID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gIGNvbnN0IHsgZ2V0S2Rlc2lnbmVyQXBpLCBwcmVmaXhDbHMsIGZsb2F0TWVudSwgZmllbGRTdGF0dXNNYXAsIGRpc3BhdGNoRmllbGRTdGF0dXMsIGZpZWxkU3RhdHVzU2V0dGluZ09wdGlvbnMgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCBrZGVzaWduZXJBcGkgPSB1c2VNZW1vKCgpID0+IGdldEtkZXNpZ25lckFwaSgpLCBbXSlcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCwgc2VsZWN0aW9uOiBzZWxlY3Rpb25Db250ZXh0IH0gPSBrZGVzaWduZXJBcGlcbiAgY29uc3Qgc2VsZWN0aW9uID0gc2VsZWN0aW9uQ29udGV4dC5nZXRTZWxlY3Rpb24oKVxuICBjb25zdCByb290SWQgPSBkYXRhQ29udGV4dC5nZXRSb290SWQoKVxuICBjb25zdCByb290RG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtY29udHJvbC1pZD1cIiR7cm9vdElkfVwiXWApXG4gIGNvbnN0IFssIGZvcmNlVXBkYXRlXSA9IHVzZVJlZHVjZXIobiA9PiBuICsgMSwgMClcblxuICB1c2VTZWxlY3Rpb25DaGFuZ2VGb3JjZVVwZGF0ZUVmZmVjdChrZGVzaWduZXJBcGkpXG4gIHVzZURhdGFDaGFuZ2VGb3JjZVVwZGF0ZUVmZmVjdChrZGVzaWduZXJBcGkpXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAge3NlbGVjdGlvbi5tYXAoKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgY29udHJvbERhdGEgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChpZClcbiAgICAgICAgY29uc3QgeyBDb2x1bW5TcGFuID0gMSwgX1R5cGVfIH0gPSBjb250cm9sRGF0YVxuXG4gICAgICAgIGNvbnN0IGNvbnRyb2xJbmRleCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sSW5kZXgoaWQpXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lckRvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNvbnRyb2wtaWQ9XCIke2lkfVwiXWApXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFBlcm1pc3Npb25TZXR0aW5nSXRlbVxuICAgICAgICAgICAga2V5PXtgcGVybWlzc2lvbi1zZXR0aW5nLWl0ZW0tJHtpZH0tJHtjb250cm9sSW5kZXh9LSR7Q29sdW1uU3Bhbn1gfVxuICAgICAgICAgICAgcHJlZml4Q2xzPXtwcmVmaXhDbHN9XG4gICAgICAgICAgICBmaWVsZD17Y29udHJvbERhdGF9XG4gICAgICAgICAgICByb290RG9tPXtyb290RG9tfVxuICAgICAgICAgICAgY29udGFpbmVyRG9tPXtjb250YWluZXJEb219XG4gICAgICAgICAgICBrZGVzaWduZXJBcGk9e2tkZXNpZ25lckFwaX1cbiAgICAgICAgICAgIGZsb2F0TWVudT17ZmxvYXRNZW51fVxuICAgICAgICAgICAgZmllbGRTdGF0dXNNYXA9e2ZpZWxkU3RhdHVzTWFwfVxuICAgICAgICAgICAgZmllbGRTdGF0dXNTZXR0aW5nT3B0aW9ucz17ZmllbGRTdGF0dXNTZXR0aW5nT3B0aW9uc31cbiAgICAgICAgICAgIGRpc3BhdGNoRmllbGRTdGF0dXM9e2Rpc3BhdGNoRmllbGRTdGF0dXN9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgRmxvYXRQZXJtaXNzaW9uU2V0dGluZ1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///98444\n");

/***/ }),

/***/ 42756:
/*!********************************************!*\
  !*** ./src/components/NavDeviceToggle.tsx ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nvar NavDeviceToggle = function NavDeviceToggle() {\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_2__.DesignerContext),\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls,\n    isPC = _useContext.isPC,\n    setIsPC = _useContext.setIsPC;\n  var navToolPrefixCls = getPrefixCls && getPrefixCls(prefixCls, 'nav-deviceswitch');\n  var handleClickItem = function handleClickItem(isPC) {\n    setIsPC(isPC);\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: navToolPrefixCls\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"\".concat(navToolPrefixCls, \"-container\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(\"\".concat(navToolPrefixCls, \"-container-item\"), {\n      actived: isPC\n    }),\n    onClick: function onClick() {\n      return handleClickItem(true);\n    },\n    title: \"PC\\u7AEF\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"\".concat(navToolPrefixCls, \"-container-item-icon\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    prefix: \"designericon\",\n    type: \"PC\"\n  }))), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(\"\".concat(navToolPrefixCls, \"-container-item\"), {\n      actived: !isPC\n    }),\n    onClick: function onClick() {\n      return handleClickItem(false);\n    },\n    title: \"\\u79FB\\u52A8\\u7AEF\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"\".concat(navToolPrefixCls, \"-container-item-icon\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    prefix: \"designericon\",\n    type: \"shouji2\"\n  })))));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (NavDeviceToggle);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDI3NTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFNQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2NvbXBvbmVudHMvTmF2RGV2aWNlVG9nZ2xlLnRzeD8xYzA3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dCdcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnXG5cbmNvbnN0IE5hdkRldmljZVRvZ2dsZSA9ICgpID0+IHtcbiAgY29uc3QgeyBnZXRQcmVmaXhDbHMsIHByZWZpeENscywgaXNQQywgc2V0SXNQQyB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IG5hdlRvb2xQcmVmaXhDbHMgPSBnZXRQcmVmaXhDbHMgJiYgZ2V0UHJlZml4Q2xzKHByZWZpeENscywgJ25hdi1kZXZpY2Vzd2l0Y2gnKVxuXG4gIGNvbnN0IGhhbmRsZUNsaWNrSXRlbSA9IChpc1BDOiBib29sZWFuKSA9PiB7XG4gICAgc2V0SXNQQyhpc1BDKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17bmF2VG9vbFByZWZpeENsc30+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7bmF2VG9vbFByZWZpeENsc30tY29udGFpbmVyYH0+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoYCR7bmF2VG9vbFByZWZpeENsc30tY29udGFpbmVyLWl0ZW1gLCB7IGFjdGl2ZWQ6IGlzUEMgfSl9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ2xpY2tJdGVtKHRydWUpfVxuICAgICAgICAgIHRpdGxlPSdQQ+errydcbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtuYXZUb29sUHJlZml4Q2xzfS1jb250YWluZXItaXRlbS1pY29uYH0+XG4gICAgICAgICAgICA8SWNvbiBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nUEMnIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKGAke25hdlRvb2xQcmVmaXhDbHN9LWNvbnRhaW5lci1pdGVtYCwgeyBhY3RpdmVkOiAhaXNQQyB9KX1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVDbGlja0l0ZW0oZmFsc2UpfVxuICAgICAgICAgIHRpdGxlPSfnp7vliqjnq68nXG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7bmF2VG9vbFByZWZpeENsc30tY29udGFpbmVyLWl0ZW0taWNvbmB9PlxuICAgICAgICAgICAgPEljb24gcHJlZml4PSdkZXNpZ25lcmljb24nIHR5cGU9J3Nob3VqaTInIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgTmF2RGV2aWNlVG9nZ2xlXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///42756\n");

/***/ }),

/***/ 76632:
/*!***************************************!*\
  !*** ./src/components/NavToolBar.tsx ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 1900);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 61260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var _hooks_useCopyAndPaste__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../hooks/useCopyAndPaste */ 8184);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../utils */ 41232);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../constants */ 98092);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils/control */ 3700);\n/* harmony import */ var _hooks_useKeyboardEvent__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../hooks/useKeyboardEvent */ 87060);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar isMacOS = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_10__.isMac)();\n\n// 辅助线\nvar KDAuxiliaryLine = 'kd_auxiliary_line';\nvar NavToolBar = function NavToolBar() {\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useReducer)(function (n) {\n      return n + 1;\n    }, 0),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useReducer, 2),\n    forceUpdate = _useReducer2[1];\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useContext)(_context__WEBPACK_IMPORTED_MODULE_15__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    getPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls,\n    billPropsData = _useContext.billPropsData,\n    dispatchBillData = _useContext.dispatchBillData,\n    getHideFieldRef = _useContext.getHideFieldRef,\n    setHideFieldRef = _useContext.setHideFieldRef;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data,\n    selectionContext = kdesignerApi.selection,\n    metaApi = kdesignerApi.meta;\n  var _useContext2 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_10__.GlobalConfigContext),\n    showMessage = _useContext2.showMessage;\n  var _useCopyAndPaste = (0,_hooks_useCopyAndPaste__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(),\n    setCopyContent = _useCopyAndPaste.setCopyContent,\n    getCopyIds = _useCopyAndPaste.getCopyIds,\n    setCopyIds = _useCopyAndPaste.setCopyIds,\n    getCopyContent = _useCopyAndPaste.getCopyContent,\n    setDatasetCutControl = _useCopyAndPaste.setDatasetCutControl,\n    removeDatasetCutControl = _useCopyAndPaste.removeDatasetCutControl,\n    clearCopyContent = _useCopyAndPaste.clearCopyContent;\n  // const [disableDelete, setDisableDelete] = useState(false)\n  var navToolBarRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n  var navToolPrefixCls = getPrefixCls && getPrefixCls(prefixCls, 'nav-tool');\n  var getSelection = selectionContext.getSelection,\n    setSelect = selectionContext.setSelect,\n    getActiveSelectedId = selectionContext.getActiveSelectedId,\n    addSelectChangeListener = selectionContext.addSelectChangeListener;\n  var rootId = dataContext.getRootId();\n  var canUndo = dataContext.canUndo();\n  var canRedo = dataContext.canRedo();\n  var activedSelectId = getActiveSelectedId();\n  var _dataContext$findCont = dataContext.findControl(activedSelectId),\n    controlType = _dataContext$findCont[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_];\n  var _metaApi$getControlMe = metaApi.getControlMeta(controlType),\n    CategoryId = _metaApi$getControlMe.CategoryId;\n  var selecIds = getSelection();\n\n  // // 选中监听\n  // const selectionChangeCallBack = useCallback(() => {\n  //   // 平铺字段 | 平铺字段容器 | 平铺字段的父级容器, 都不允许复制/重复/删除 等操作\n  //   if (['GridFlatPanelAp', 'FlatFieldAp'].includes(controlType)) {\n  //     setDisableDelete(true)\n  //   } else {\n  //     const { [_TYPE_]: parentType } = dataContext.getParentControl(activedSelectId) || {}\n  //     if (parentType === 'GridFlatPanelAp') {\n  //       setDisableDelete(true)\n  //     } else {\n  //       // 判断是否是系统字段：CategoryId.includes(SYS_CATEGORY_PREFIX)，系统字段不允许复制\n  //       setDisableDelete(Inside || CategoryId.includes(SYS_CATEGORY_PREFIX))\n  //     }\n  //   }\n  // }, [])\n\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useEffect)(function () {\n    var removeSelectionListener = addSelectChangeListener(forceUpdate);\n    return function () {\n      removeSelectionListener();\n    };\n  }, []);\n\n  /**\n   * 根据类型获取方向\n   * 由于业务按钮的排列方式是从右到左的，所以前移或者后移的时候方向要反着来\n   */\n  var getDirectionByType = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function (direction) {\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isBizButton)(controlType)) {\n      return direction === 'back' ? 'forward' : 'back';\n    }\n    return direction;\n  }, [controlType]);\n  var disableCopyAndCut = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useMemo)(function () {\n    var _dataContext$getAllSu;\n    var isGroup = (0,_utils__WEBPACK_IMPORTED_MODULE_16__.isGroupContainer)(controlType);\n    var refBillFields = (_dataContext$getAllSu = dataContext.getAllSubControls(activedSelectId)) === null || _dataContext$getAllSu === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(_dataContext$getAllSu).call(_dataContext$getAllSu, function (ctrl) {\n      return (0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isRefBillTable)(ctrl._Type_) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isRefBill)(ctrl._Type_);\n    });\n    // 根节点 系统字段 关联表单 表格 分组内含有关联表单或表格\n    if (activedSelectId === rootId || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default()(CategoryId).call(CategoryId, _constants__WEBPACK_IMPORTED_MODULE_17__.SYS_CATEGORY_PREFIX) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isRefBillTable)(controlType) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isRefBill)(controlType) || isGroup && refBillFields.length) {\n      return true;\n    }\n    return false;\n  }, [rootId, activedSelectId, controlType]);\n  var isSelectRoot = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useMemo)(function () {\n    if (activedSelectId === rootId) {\n      return true;\n    }\n    return false;\n  }, [rootId, activedSelectId]);\n  var disableMove = isSelectRoot || selecIds.length > 1;\n\n  // 重做\n  var redo = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function () {\n    if (canRedo) {\n      dataContext.redo();\n    }\n  }, [canRedo]);\n  // 撤销\n  var undo = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function () {\n    if (canUndo) {\n      dataContext.undo();\n    }\n  }, [canUndo]);\n  var delayScrollControl = function delayScrollControl(id) {\n    var timer = setTimeout(function () {\n      (0,_utils__WEBPACK_IMPORTED_MODULE_16__.scrollControlIntoView)(id);\n      clearTimeout(timer);\n      timer = null;\n    });\n  };\n\n  // 前移\n  var moveToPrev = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function () {\n    var selection = getSelection();\n    if (selection.length === 1) {\n      var moveField = dataContext.findControl(selection[0]);\n      var fieldKey = moveField.Key,\n        fieldType = moveField._Type_;\n      if ((0,_utils__WEBPACK_IMPORTED_MODULE_16__.isGroupContainer)(fieldType)) {\n        (0,_utils__WEBPACK_IMPORTED_MODULE_16__.moveGroupContainerControl)(dataContext, moveField, 'forward');\n        return;\n      }\n      var preControl = dataContext.getPrevSibling(selection[0]).control;\n      if (preControl && (0,_utils__WEBPACK_IMPORTED_MODULE_16__.isGroupContainer)(preControl._Type_)) {\n        // 普通字段往前移，前面字段是分组容器。就相当于前面的分组容器往后移动\n        (0,_utils__WEBPACK_IMPORTED_MODULE_16__.moveGroupContainerControl)(dataContext, preControl, 'back');\n        return;\n      }\n      var _dataContext$getParen = dataContext.getParentControl(selection[0]),\n        parentId = _dataContext$getParen.Id,\n        parentType = _dataContext$getParen._Type_,\n        parentDisplay = _dataContext$getParen.PropsDisplay;\n      if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isRefBillTable)(parentType)) {\n        var arr = parentDisplay.split(',');\n        var key = fieldKey.toLowerCase().replace(\"_\".concat(parentId.toLowerCase()), '');\n        var index = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_5___default()(arr).call(arr, function (k) {\n          return k === key;\n        });\n        if (arr.length > 1 && index !== 0) {\n          var moveItem = _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_6___default()(arr).call(arr, index, 1);\n          _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_6___default()(arr).call(arr, index - 1, 0, moveItem[0]);\n          dataContext.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_10__.createUpdateAction)([[parentId, {\n            PropsDisplay: arr.join()\n          }]]));\n        }\n      }\n      dataContext.moveControl(selection[0], getDirectionByType('forward'));\n      delayScrollControl(selection[0]);\n    } else {\n      // @TODO: 多选下的前移\n      // showMessage('开发小哥赶工中。。。')\n    }\n  }, [getDirectionByType]);\n  // 后移\n  var moveToNext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function () {\n    var selection = getSelection();\n    if (selection.length === 1) {\n      var moveField = dataContext.findControl(selection[0]);\n      var fieldKey = moveField.Key,\n        fieldType = moveField._Type_;\n      if ((0,_utils__WEBPACK_IMPORTED_MODULE_16__.isGroupContainer)(fieldType)) {\n        (0,_utils__WEBPACK_IMPORTED_MODULE_16__.moveGroupContainerControl)(dataContext, moveField, 'back');\n        return;\n      }\n      var nextControl = dataContext.getNextSibling(selection[0]).control;\n      if (nextControl && (0,_utils__WEBPACK_IMPORTED_MODULE_16__.isGroupContainer)(nextControl._Type_)) {\n        // 普通字段往后移，后面字段是分组容器。就相当于后面的分组容器往前移动\n        (0,_utils__WEBPACK_IMPORTED_MODULE_16__.moveGroupContainerControl)(dataContext, nextControl, 'forward');\n        return;\n      }\n      var _dataContext$getParen2 = dataContext.getParentControl(selection[0]),\n        parentId = _dataContext$getParen2.Id,\n        parentType = _dataContext$getParen2._Type_,\n        parentDisplay = _dataContext$getParen2.PropsDisplay;\n      if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isRefBillTable)(parentType)) {\n        var arr = parentDisplay.split(',');\n        var key = fieldKey.toLowerCase().replace(\"_\".concat(parentId.toLowerCase()), '');\n        var index = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_5___default()(arr).call(arr, function (k) {\n          return k === key;\n        });\n        if (arr.length > 1 && index !== arr.length - 1) {\n          var moveItem = _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_6___default()(arr).call(arr, index, 1);\n          _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_6___default()(arr).call(arr, index + 1, 0, moveItem[0]);\n          dataContext.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_10__.createUpdateAction)([[parentId, {\n            PropsDisplay: arr.join()\n          }]]));\n        }\n      }\n      dataContext.moveControl(selection[0], getDirectionByType('back'));\n      delayScrollControl(selection[0]);\n    } else {\n      // @TODO: 多选下的后移\n      // showMessage('开发小哥赶工中。。。')\n    }\n  }, [getDirectionByType]);\n  // 删除\n  var deleteControl = function deleteControl() {\n    (0,_hooks_useKeyboardEvent__WEBPACK_IMPORTED_MODULE_19__.delectControl)(selectionContext, dataContext, showMessage, rootId, billPropsData, dispatchBillData, getHideFieldRef(), setHideFieldRef);\n    // const selection = getSelection()\n    // if (selection.length > 0) {\n    //   if (selection.includes(rootId)) {\n    //     return showMessage('禁止删除根节点。')\n    //   }\n    //   const deleteIds = selection.filter(id => id !== rootId)\n    //   const allItems = dataContext.getData().Items\n    //   const firstControl = allItems.find(item => deleteIds.includes(item.Id))\n    //   if (!firstControl) return\n    //   let { Id: firstControlId, ParentId: nextSelectedId } = firstControl\n    //   const { control: prevControl } = dataContext.getPrevSibling(firstControlId)\n    //   if (prevControl) {\n    //     nextSelectedId = prevControl.Id\n    //   }\n    //   dataContext.deleteControl(createDeleteAction(deleteIds)).then(() => {\n    //     setSelect([nextSelectedId])\n    //   })\n    // }\n  };\n  // 剪切\n  var cutControl = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function (event) {\n    event === null || event === void 0 || event.stopPropagation();\n    var selection = getSelection();\n    if (selection.length === 1 && rootId === selection[0]) {\n      return;\n    }\n    var selectControls = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default()(selection).call(selection, function (id) {\n      return dataContext.findControl(id);\n    });\n    setCopyIds(selection);\n    setCopyContent(selectControls);\n    setDatasetCutControl();\n  }, []);\n  // 复制\n  var copyControl = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function (event) {\n    event === null || event === void 0 || event.stopPropagation();\n    var selection = getSelection();\n    if (selection.length === 1 && rootId === selection[0]) {\n      return showMessage('禁止复制根节点');\n    }\n    // const selectControlsCopy = selection.reduce((controls: any[], id: string) => {\n    //   const controlData = dataContext.findControl(id)\n    //   return [...controls, controlData]\n    //   // return controls.concat(copyControlRecurve(formData, controlData, controlData[PARENTID]))\n    // }, [])\n    // setCopyContent(selectControlsCopy)\n    var selectControlsCopy = selection.reduce(function (controls, id) {\n      var _context;\n      var controlData = dataContext.findControl(id);\n      var _metaApi$getControlMe2 = metaApi.getControlMeta((controlData === null || controlData === void 0 ? void 0 : controlData.FieldType) || controlData[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_]),\n        disableDelete = _metaApi$getControlMe2.Inside,\n        CategoryId = _metaApi$getControlMe2.CategoryId,\n        Name = _metaApi$getControlMe2.Name;\n      if (disableDelete) {\n        console.warn('内置控件不允许添加');\n        return controls;\n      }\n      if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default()(CategoryId).call(CategoryId, _constants__WEBPACK_IMPORTED_MODULE_17__.SYS_CATEGORY_PREFIX)) {\n        showMessage(\"\".concat(Name, \"\\u53EA\\u80FD\\u5728\\u753B\\u5E03\\u4E2D\\u6DFB\\u52A0\\u4E00\\u6B21\\uFF0C\\u4E0D\\u80FD\\u590D\\u5236\"));\n        return controls;\n      }\n      if ((0,_utils__WEBPACK_IMPORTED_MODULE_16__.isGroupContainer)(controlData[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_])) {\n        var _dataContext$getAllSu2;\n        var subs = (_dataContext$getAllSu2 = dataContext.getAllSubControls(controlData.Id)) === null || _dataContext$getAllSu2 === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(_dataContext$getAllSu2).call(_dataContext$getAllSu2, function (ctrl) {\n          return (0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isRefBill)(ctrl[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_]) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isRefBillTable)(ctrl[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_]) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isSysControl)(ctrl[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_]);\n        });\n        if (subs.length > 0) {\n          showMessage('分组内包含关联表单、表格、或系统字段，不能复制。');\n          return controls;\n        }\n      }\n      if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isRefBillTable)(controlData[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_]) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isRefBill)(controlData[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_])) {\n        showMessage('关联表单与表格控件，不能复制');\n        return controls;\n      }\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default()(_context = []).call(_context, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(controls), [controlData]);\n    }, []);\n    setCopyContent(selectControlsCopy);\n    setCopyIds(selectControlsCopy.reduce(function (ids, control) {\n      var allSubControlIds = dataContext.getAllSubControlIds(control.Id) || [];\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default()(ids).call(ids, allSubControlIds);\n    }, []));\n  }, []);\n  // 粘贴\n  var pasteControl = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function () {\n    var copyContent = getCopyContent();\n    if (Array.isArray(copyContent)) {\n      var _context3;\n      var isCut = removeDatasetCutControl() > 0;\n      var formData = dataContext.getData();\n      if (isCut) {\n        var deleteedIds = copyContent.reduce(function (prev, control) {\n          var _context2;\n          return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default()(_context2 = [control[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__.ID]]).call(_context2, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(prev));\n        }, []);\n        if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default()(deleteedIds).call(deleteedIds, activedSelectId)) return;\n        // 如果剪切的控件，被复制进它的子控件内。则死锁了，操作不被允许\n        var activeSelectedParentIds = dataContext.getAllParentControlIds(activedSelectId);\n        if (activeSelectedParentIds.some(function (id) {\n          return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default()(deleteedIds).call(deleteedIds, id);\n        })) {\n          showMessage('当【源控件】是【目标控件】的父级时，无法剪切/粘贴');\n          return;\n        }\n        dataContext.swapControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_10__.createSwapAction)({\n          origin: deleteedIds,\n          target: activedSelectId\n        })).then(function (actions) {\n          selectionContext.setSelect([deleteedIds[0]]);\n          clearCopyContent();\n        });\n        return;\n      }\n      var _dataContext$findCont2 = dataContext.findControl(activedSelectId),\n        FieldType = _dataContext$findCont2.FieldType,\n        _controlType = _dataContext$findCont2[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_];\n      var parentId = activedSelectId;\n      var _metaApi$getControlMe3 = metaApi.getControlMeta(FieldType || _controlType),\n        IsContainer = _metaApi$getControlMe3.IsContainer;\n      if (!IsContainer) {\n        parentId = dataContext.getParentControlId(activedSelectId);\n      }\n      var copyIds = getCopyIds();\n      var copyUiData = {\n        Items: dataContext.findControlByCondition(function (item) {\n          return copyIds === null || copyIds === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default()(copyIds).call(copyIds, item.Id);\n        })\n      };\n      var tempCopyContent = copyContent.reduce(function (prev, control) {\n        var copyedControls = (0,_utils__WEBPACK_IMPORTED_MODULE_16__.copyControlRecurve)(copyUiData, control, parentId);\n        return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default()(prev).call(prev, (0,_utils__WEBPACK_IMPORTED_MODULE_16__.fixGroupChildrenParentId)(copyedControls, rootId));\n      }, []);\n      // 判断控件的存放位置\n      var index = dataContext.findControlIndex(activedSelectId);\n      if (IsContainer) {\n        var subControls = dataContext.getSubControls(activedSelectId);\n        var _length = subControls.length;\n        if (_length > 0) {\n          index = dataContext.findControlIndex(subControls[_length - 1][_constants_propnames__WEBPACK_IMPORTED_MODULE_13__.ID]);\n        }\n      }\n      var oldTopIds = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(_context3 = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default()(tempCopyContent).call(tempCopyContent, function (item) {\n        if (dataContext.findControl(item.ParentId)) {\n          return item.Id;\n        }\n        return null;\n      })).call(_context3, Boolean);\n      dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_10__.createPasteAction)(tempCopyContent, {\n        index: index + 1\n      })).then(function (result) {\n        var topControlIds = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(oldTopIds).call(oldTopIds, function (idstring) {\n          return dataContext.findControl(idstring);\n        });\n        setSelect(topControlIds);\n      });\n    }\n  }, [activedSelectId]);\n  // 重复\n  var copyAndPasteControl = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function (event) {\n    event.stopPropagation();\n    var selection = selectionContext.getSelection();\n    var formData = dataContext.getData();\n    if (selection.length === 1 && rootId === selection[0]) {\n      return;\n    }\n    var isCanRepeatControl = function isCanRepeatControl(control) {\n      if ((0,_utils__WEBPACK_IMPORTED_MODULE_16__.isGroupContainer)(control[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_])) {\n        var _dataContext$getAllSu3, _dataContext$getAllSu4;\n        var subs = (_dataContext$getAllSu3 = dataContext.getAllSubControls(control.Id)) === null || _dataContext$getAllSu3 === void 0 || (_dataContext$getAllSu4 = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(_dataContext$getAllSu3)) === null || _dataContext$getAllSu4 === void 0 ? void 0 : _dataContext$getAllSu4.call(_dataContext$getAllSu3, function (ctrl) {\n          return (0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isRefBill)(ctrl[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_]) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isRefBillTable)(ctrl[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_]) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isSysControl)(ctrl[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_]);\n        });\n        if ((subs === null || subs === void 0 ? void 0 : subs.length) > 0) {\n          showMessage('分组内包含关联表单、表格或系统字段，不能重复。');\n          return false;\n        }\n      }\n      var _metaApi$getControlMe4 = metaApi.getControlMeta(control[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_]),\n        CategoryId = _metaApi$getControlMe4.CategoryId,\n        Name = _metaApi$getControlMe4.Name;\n      if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default()(CategoryId).call(CategoryId, _constants__WEBPACK_IMPORTED_MODULE_17__.SYS_CATEGORY_PREFIX)) {\n        showMessage(\"\".concat(Name, \"\\u53EA\\u80FD\\u5728\\u753B\\u5E03\\u4E2D\\u6DFB\\u52A0\\u4E00\\u6B21\\uFF0C\\u4E0D\\u80FD\\u91CD\\u590D\"));\n        return false;\n      }\n      return true;\n    };\n    if (selection.length > 1) {\n      var selectControlsCopy = selection.reduce(function (controls, id) {\n        var controlData = dataContext.findControl(id);\n        if (!isCanRepeatControl(controlData) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isRefBill)(controlData[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_]) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isRefBillTable)(controlData[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_])) {\n          return controls;\n        }\n        var copyedControls = (0,_utils__WEBPACK_IMPORTED_MODULE_16__.copyControlRecurve)(formData, controlData, controlData[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__.PARENTID]);\n        return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default()(controls).call(controls, (0,_utils__WEBPACK_IMPORTED_MODULE_16__.fixGroupChildrenParentId)(copyedControls, rootId));\n      }, []);\n      dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_10__.createPasteAction)(selectControlsCopy)).then(function () {});\n    } else {\n      var field = dataContext.findControl(activedSelectId);\n      if (!isCanRepeatControl(field) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isRefBill)(field[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_]) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_18__.isRefBillTable)(field[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_])) {\n        return;\n      }\n      var copyControls = (0,_utils__WEBPACK_IMPORTED_MODULE_16__.fixGroupChildrenParentId)((0,_utils__WEBPACK_IMPORTED_MODULE_16__.copyControlRecurve)(formData, field, field[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__.PARENTID]), rootId);\n      var addIndex = dataContext.findControlIndex(field[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__.ID]) + 1;\n      dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_10__.createPasteAction)(copyControls, {\n        index: addIndex\n      })).then(function () {\n        selectionContext.setSelect([copyControls[0][_constants_propnames__WEBPACK_IMPORTED_MODULE_13__.ID]]);\n      });\n    }\n  }, [activedSelectId]);\n  var commonClassName = classnames__WEBPACK_IMPORTED_MODULE_12___default()(\"\".concat(navToolPrefixCls, \"-operation-btn\"));\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: navToolPrefixCls,\n    ref: navToolBarRef\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    title: \"\\u524D\\u79FB\",\n    onClick: moveToPrev,\n    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, \"\".concat(navToolPrefixCls, \"-operation-disable\"), disableMove), commonClassName)\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__.Icon, {\n    prefix: \"designericon\",\n    type: \"qianyi\"\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    title: \"\\u540E\\u79FB\",\n    onClick: moveToNext,\n    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, \"\".concat(navToolPrefixCls, \"-last-operation\"), true), \"\".concat(navToolPrefixCls, \"-operation-disable\"), disableMove), commonClassName)\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__.Icon, {\n    prefix: \"designericon\",\n    type: \"houyi\"\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    title: \"\\u526A\\u5207\\n\".concat(isMacOS ? '⌘+X' : 'Ctrl+X'),\n    onClick: !disableCopyAndCut ? cutControl : undefined,\n    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, \"\".concat(navToolPrefixCls, \"-operation-disable\"), disableCopyAndCut), commonClassName)\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__.Icon, {\n    prefix: \"designericon\",\n    type: \"jianqie\"\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    title: \"\\u590D\\u5236\\n\".concat(isMacOS ? '⌘+C' : 'Ctrl+C'),\n    onClick: !disableCopyAndCut ? copyControl : undefined,\n    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, \"\".concat(navToolPrefixCls, \"-operation-disable\"), disableCopyAndCut), commonClassName)\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__.Icon, {\n    prefix: \"designericon\",\n    type: \"fuzhi\"\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    title: \"\\u7C98\\u8D34\\n\".concat(isMacOS ? '⌘+V' : 'Ctrl+V'),\n    onClick: pasteControl,\n    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, \"\".concat(navToolPrefixCls, \"-last-operation\"), true), commonClassName)\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__.Icon, {\n    prefix: \"designericon\",\n    type: \"zhantie\"\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    title: \"\\u91CD\\u590D\",\n    onClick: !disableCopyAndCut ? copyAndPasteControl : undefined,\n    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, \"\".concat(navToolPrefixCls, \"-operation-disable\"), disableCopyAndCut), commonClassName)\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__.Icon, {\n    prefix: \"designericon\",\n    type: \"zhongfu\"\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    title: '删除\\nDelete',\n    onClick: !isSelectRoot ? deleteControl : undefined,\n    key: \"Delete\",\n    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, \"\".concat(navToolPrefixCls, \"-operation-disable\"), isSelectRoot), commonClassName)\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__.Icon, {\n    prefix: \"designericon\",\n    type: \"shanchu\"\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (NavToolBar);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzY2MzIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBMEJBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUFBO0FBQUE7QUFJQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2NvbXBvbmVudHMvTmF2VG9vbEJhci50c3g/NTAzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlLCB1c2VNZW1vLCB1c2VFZmZlY3QsIHVzZVJlZiwgTGVnYWN5UmVmLCB1c2VSZWR1Y2VyIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQge1xuICBJRGF0YUFwaSwgSVNlbGVjdGlvbiwgSUNvbnRyb2xBY3Rpb24sXG4gIEdsb2JhbENvbmZpZ0NvbnRleHQsIElDb250cm9sSXRlbVVwcGVyY2FzZUtleSxcbiAgY3JlYXRlRGVsZXRlQWN0aW9uLCBjcmVhdGVQYXN0ZUFjdGlvbiwgY3JlYXRlVXBkYXRlQWN0aW9uLFxuICBjcmVhdGVTd2FwQWN0aW9uLCBpc01hY1xufSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IGNsYXNzbmFtZSBmcm9tICdjbGFzc25hbWVzJ1xuaW1wb3J0IHsgSUQsIFBBUkVOVElELCBfVFlQRV8gfSBmcm9tICcuLi9jb25zdGFudHMvcHJvcG5hbWVzJ1xuaW1wb3J0IHVzZUNvcHlBbmRQYXN0ZSBmcm9tICcuLi9ob29rcy91c2VDb3B5QW5kUGFzdGUnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0J1xuaW1wb3J0IHsgY29weUNvbnRyb2xSZWN1cnZlLCBpc0dyb3VwQ29udGFpbmVyLCBtb3ZlR3JvdXBDb250YWluZXJDb250cm9sLCBzY3JvbGxDb250cm9sSW50b1ZpZXcsIGZpeEdyb3VwQ2hpbGRyZW5QYXJlbnRJZCB9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IHsgU1lTX0NBVEVHT1JZX1BSRUZJWCB9IGZyb20gJy4uL2NvbnN0YW50cydcbmltcG9ydCB7IGlzQml6QnV0dG9uLCBpc1JlZkJpbGwsIGlzUmVmQmlsbFRhYmxlLCBpc1N5c0NvbnRyb2wgfSBmcm9tICcuLi91dGlscy9jb250cm9sJ1xuaW1wb3J0IHsgZGVsZWN0Q29udHJvbCB9IGZyb20gJy4uL2hvb2tzL3VzZUtleWJvYXJkRXZlbnQnXG5cbmNvbnN0IGlzTWFjT1MgPSBpc01hYygpXG5cbi8vIOi+heWKqee6v1xuY29uc3QgS0RBdXhpbGlhcnlMaW5lID0gJ2tkX2F1eGlsaWFyeV9saW5lJ1xuXG50eXBlIERpcmVjdGlvblR5cGUgPSAnZm9yd2FyZCcgfCAnYmFjaydcblxuY29uc3QgTmF2VG9vbEJhciA9ICgpID0+IHtcbiAgY29uc3QgWywgZm9yY2VVcGRhdGVdID0gdXNlUmVkdWNlcihuID0+IG4gKyAxLCAwKVxuICBjb25zdCB7IGdldEtkZXNpZ25lckFwaSwgZ2V0UHJlZml4Q2xzLCBwcmVmaXhDbHMsIGJpbGxQcm9wc0RhdGEsIGRpc3BhdGNoQmlsbERhdGEsIGdldEhpZGVGaWVsZFJlZiwgc2V0SGlkZUZpZWxkUmVmIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3Qga2Rlc2lnbmVyQXBpID0gdXNlTWVtbygoKSA9PiBnZXRLZGVzaWduZXJBcGkoKSwgW10pXG4gIGNvbnN0IHsgZGF0YTogZGF0YUNvbnRleHQsIHNlbGVjdGlvbjogc2VsZWN0aW9uQ29udGV4dCwgbWV0YTogbWV0YUFwaSB9ID0ga2Rlc2lnbmVyQXBpXG4gIGNvbnN0IHsgc2hvd01lc3NhZ2UgfSA9IHVzZUNvbnRleHQoR2xvYmFsQ29uZmlnQ29udGV4dClcbiAgY29uc3QgeyBzZXRDb3B5Q29udGVudCwgZ2V0Q29weUlkcywgc2V0Q29weUlkcywgZ2V0Q29weUNvbnRlbnQsIHNldERhdGFzZXRDdXRDb250cm9sLCByZW1vdmVEYXRhc2V0Q3V0Q29udHJvbCwgY2xlYXJDb3B5Q29udGVudCB9ID0gdXNlQ29weUFuZFBhc3RlKClcbiAgLy8gY29uc3QgW2Rpc2FibGVEZWxldGUsIHNldERpc2FibGVEZWxldGVdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IG5hdlRvb2xCYXJSZWY6IExlZ2FjeVJlZjxIVE1MRGl2RWxlbWVudD4gfCB1bmRlZmluZWQgPSB1c2VSZWYobnVsbClcbiAgY29uc3QgbmF2VG9vbFByZWZpeENscyA9IGdldFByZWZpeENscyAmJiBnZXRQcmVmaXhDbHMocHJlZml4Q2xzLCAnbmF2LXRvb2wnKVxuICBjb25zdCB7IGdldFNlbGVjdGlvbiwgc2V0U2VsZWN0LCBnZXRBY3RpdmVTZWxlY3RlZElkLCBhZGRTZWxlY3RDaGFuZ2VMaXN0ZW5lciB9ID0gc2VsZWN0aW9uQ29udGV4dFxuICBjb25zdCByb290SWQgPSBkYXRhQ29udGV4dC5nZXRSb290SWQoKVxuICBjb25zdCBjYW5VbmRvID0gZGF0YUNvbnRleHQuY2FuVW5kbygpXG4gIGNvbnN0IGNhblJlZG8gPSBkYXRhQ29udGV4dC5jYW5SZWRvKClcbiAgY29uc3QgYWN0aXZlZFNlbGVjdElkOiBzdHJpbmcgPSBnZXRBY3RpdmVTZWxlY3RlZElkKClcbiAgY29uc3QgeyBbX1RZUEVfXTogY29udHJvbFR5cGUgfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGFjdGl2ZWRTZWxlY3RJZClcbiAgY29uc3QgeyBDYXRlZ29yeUlkIH0gPSBtZXRhQXBpLmdldENvbnRyb2xNZXRhKGNvbnRyb2xUeXBlKVxuICBjb25zdCBzZWxlY0lkcyA9IGdldFNlbGVjdGlvbigpXG5cbiAgLy8gLy8g6YCJ5Lit55uR5ZCsXG4gIC8vIGNvbnN0IHNlbGVjdGlvbkNoYW5nZUNhbGxCYWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAvLyAgIC8vIOW5s+mTuuWtl+autSB8IOW5s+mTuuWtl+auteWuueWZqCB8IOW5s+mTuuWtl+auteeahOeItue6p+WuueWZqCwg6YO95LiN5YWB6K645aSN5Yi2L+mHjeWkjS/liKDpmaQg562J5pON5L2cXG4gIC8vICAgaWYgKFsnR3JpZEZsYXRQYW5lbEFwJywgJ0ZsYXRGaWVsZEFwJ10uaW5jbHVkZXMoY29udHJvbFR5cGUpKSB7XG4gIC8vICAgICBzZXREaXNhYmxlRGVsZXRlKHRydWUpXG4gIC8vICAgfSBlbHNlIHtcbiAgLy8gICAgIGNvbnN0IHsgW19UWVBFX106IHBhcmVudFR5cGUgfSA9IGRhdGFDb250ZXh0LmdldFBhcmVudENvbnRyb2woYWN0aXZlZFNlbGVjdElkKSB8fCB7fVxuICAvLyAgICAgaWYgKHBhcmVudFR5cGUgPT09ICdHcmlkRmxhdFBhbmVsQXAnKSB7XG4gIC8vICAgICAgIHNldERpc2FibGVEZWxldGUodHJ1ZSlcbiAgLy8gICAgIH0gZWxzZSB7XG4gIC8vICAgICAgIC8vIOWIpOaWreaYr+WQpuaYr+ezu+e7n+Wtl+aute+8mkNhdGVnb3J5SWQuaW5jbHVkZXMoU1lTX0NBVEVHT1JZX1BSRUZJWCnvvIzns7vnu5/lrZfmrrXkuI3lhYHorrjlpI3liLZcbiAgLy8gICAgICAgc2V0RGlzYWJsZURlbGV0ZShJbnNpZGUgfHwgQ2F0ZWdvcnlJZC5pbmNsdWRlcyhTWVNfQ0FURUdPUllfUFJFRklYKSlcbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vIH0sIFtdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgcmVtb3ZlU2VsZWN0aW9uTGlzdGVuZXIgPSBhZGRTZWxlY3RDaGFuZ2VMaXN0ZW5lcihmb3JjZVVwZGF0ZSlcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcmVtb3ZlU2VsZWN0aW9uTGlzdGVuZXIoKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgLyoqXG4gICAqIOagueaNruexu+Wei+iOt+WPluaWueWQkVxuICAgKiDnlLHkuo7kuJrliqHmjInpkq7nmoTmjpLliJfmlrnlvI/mmK/ku47lj7PliLDlt6bnmoTvvIzmiYDku6XliY3np7vmiJbogIXlkI7np7vnmoTml7blgJnmlrnlkJHopoHlj43nnYDmnaVcbiAgICovXG4gIGNvbnN0IGdldERpcmVjdGlvbkJ5VHlwZSA9IHVzZUNhbGxiYWNrKChkaXJlY3Rpb246IERpcmVjdGlvblR5cGUpOiBEaXJlY3Rpb25UeXBlID0+IHtcbiAgICBpZiAoaXNCaXpCdXR0b24oY29udHJvbFR5cGUpKSB7XG4gICAgICByZXR1cm4gZGlyZWN0aW9uID09PSAnYmFjaycgPyAnZm9yd2FyZCcgOiAnYmFjaydcbiAgICB9XG5cbiAgICByZXR1cm4gZGlyZWN0aW9uXG4gIH0sIFtjb250cm9sVHlwZV0pXG5cbiAgY29uc3QgZGlzYWJsZUNvcHlBbmRDdXQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBpc0dyb3VwID0gaXNHcm91cENvbnRhaW5lcihjb250cm9sVHlwZSlcbiAgICBjb25zdCByZWZCaWxsRmllbGRzID0gZGF0YUNvbnRleHQuZ2V0QWxsU3ViQ29udHJvbHMoYWN0aXZlZFNlbGVjdElkKT8uZmlsdGVyKChjdHJsOmFueSkgPT4gaXNSZWZCaWxsVGFibGUoY3RybC5fVHlwZV8pIHx8IGlzUmVmQmlsbChjdHJsLl9UeXBlXykpXG4gICAgLy8g5qC56IqC54K5IOezu+e7n+Wtl+autSDlhbPogZTooajljZUg6KGo5qC8IOWIhue7hOWGheWQq+acieWFs+iBlOihqOWNleaIluihqOagvFxuICAgIGlmIChhY3RpdmVkU2VsZWN0SWQgPT09IHJvb3RJZCB8fCBDYXRlZ29yeUlkLmluY2x1ZGVzKFNZU19DQVRFR09SWV9QUkVGSVgpIHx8IGlzUmVmQmlsbFRhYmxlKGNvbnRyb2xUeXBlKSB8fCBpc1JlZkJpbGwoY29udHJvbFR5cGUpIHx8IChpc0dyb3VwICYmIHJlZkJpbGxGaWVsZHMubGVuZ3RoKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH0sIFtyb290SWQsIGFjdGl2ZWRTZWxlY3RJZCwgY29udHJvbFR5cGVdKVxuXG4gIGNvbnN0IGlzU2VsZWN0Um9vdCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChhY3RpdmVkU2VsZWN0SWQgPT09IHJvb3RJZCkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH0sIFtyb290SWQsIGFjdGl2ZWRTZWxlY3RJZF0pXG5cbiAgY29uc3QgZGlzYWJsZU1vdmUgPSBpc1NlbGVjdFJvb3QgfHwgc2VsZWNJZHMubGVuZ3RoID4gMVxuXG4gIC8vIOmHjeWBmlxuICBjb25zdCByZWRvID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChjYW5SZWRvKSB7XG4gICAgICBkYXRhQ29udGV4dC5yZWRvKClcbiAgICB9XG4gIH0sIFtjYW5SZWRvXSlcbiAgLy8g5pKk6ZSAXG4gIGNvbnN0IHVuZG8gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKGNhblVuZG8pIHtcbiAgICAgIGRhdGFDb250ZXh0LnVuZG8oKVxuICAgIH1cbiAgfSwgW2NhblVuZG9dKVxuXG4gIGNvbnN0IGRlbGF5U2Nyb2xsQ29udHJvbCA9IChpZDogc3RyaW5nKSA9PiB7XG4gICAgbGV0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzY3JvbGxDb250cm9sSW50b1ZpZXcoaWQpXG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpXG4gICAgICB0aW1lciA9IG51bGxcbiAgICB9KVxuICB9XG5cbiAgLy8g5YmN56e7XG4gIGNvbnN0IG1vdmVUb1ByZXYgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKClcbiAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCA9PT0gMSkge1xuICAgICAgY29uc3QgbW92ZUZpZWxkID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woc2VsZWN0aW9uWzBdKVxuICAgICAgY29uc3QgeyBLZXk6IGZpZWxkS2V5LCBfVHlwZV86IGZpZWxkVHlwZSB9ID0gbW92ZUZpZWxkXG5cbiAgICAgIGlmIChpc0dyb3VwQ29udGFpbmVyKGZpZWxkVHlwZSkpIHtcbiAgICAgICAgbW92ZUdyb3VwQ29udGFpbmVyQ29udHJvbChkYXRhQ29udGV4dCwgbW92ZUZpZWxkLCAnZm9yd2FyZCcpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBwcmVDb250cm9sID0gZGF0YUNvbnRleHQuZ2V0UHJldlNpYmxpbmcoc2VsZWN0aW9uWzBdKS5jb250cm9sXG4gICAgICBpZiAocHJlQ29udHJvbCAmJiBpc0dyb3VwQ29udGFpbmVyKHByZUNvbnRyb2wuX1R5cGVfKSkge1xuICAgICAgICAvLyDmma7pgJrlrZfmrrXlvoDliY3np7vvvIzliY3pnaLlrZfmrrXmmK/liIbnu4TlrrnlmajjgILlsLHnm7jlvZPkuo7liY3pnaLnmoTliIbnu4TlrrnlmajlvoDlkI7np7vliqhcbiAgICAgICAgbW92ZUdyb3VwQ29udGFpbmVyQ29udHJvbChkYXRhQ29udGV4dCwgcHJlQ29udHJvbCwgJ2JhY2snKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBJZDogcGFyZW50SWQsIF9UeXBlXzogcGFyZW50VHlwZSwgUHJvcHNEaXNwbGF5OiBwYXJlbnREaXNwbGF5IH0gPSBkYXRhQ29udGV4dC5nZXRQYXJlbnRDb250cm9sKHNlbGVjdGlvblswXSlcbiAgICAgIGlmIChpc1JlZkJpbGxUYWJsZShwYXJlbnRUeXBlKSkge1xuICAgICAgICBjb25zdCBhcnIgPSBwYXJlbnREaXNwbGF5LnNwbGl0KCcsJylcbiAgICAgICAgY29uc3Qga2V5ID0gZmllbGRLZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKGBfJHtwYXJlbnRJZC50b0xvd2VyQ2FzZSgpfWAsICcnKVxuICAgICAgICBjb25zdCBpbmRleCA9IGFyci5maW5kSW5kZXgoKGs6c3RyaW5nKSA9PiBrID09PSBrZXkpXG4gICAgICAgIGlmIChhcnIubGVuZ3RoID4gMSAmJiBpbmRleCAhPT0gMCkge1xuICAgICAgICAgIGNvbnN0IG1vdmVJdGVtID0gYXJyLnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgICBhcnIuc3BsaWNlKGluZGV4IC0gMSwgMCwgbW92ZUl0ZW1bMF0pXG4gICAgICAgICAgZGF0YUNvbnRleHQuYmF0Y2hVcGRhdGVDb250cm9sUHJvcGVydHlWYWx1ZXMoY3JlYXRlVXBkYXRlQWN0aW9uKFtbcGFyZW50SWQsIHsgUHJvcHNEaXNwbGF5OiBhcnIuam9pbigpIH1dXSkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZGF0YUNvbnRleHQubW92ZUNvbnRyb2woc2VsZWN0aW9uWzBdLCBnZXREaXJlY3Rpb25CeVR5cGUoJ2ZvcndhcmQnKSlcbiAgICAgIGRlbGF5U2Nyb2xsQ29udHJvbChzZWxlY3Rpb25bMF0pXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEBUT0RPOiDlpJrpgInkuIvnmoTliY3np7tcbiAgICAgIC8vIHNob3dNZXNzYWdlKCflvIDlj5HlsI/lk6Xotbblt6XkuK3jgILjgILjgIInKVxuICAgIH1cbiAgfSwgW2dldERpcmVjdGlvbkJ5VHlwZV0pXG4gIC8vIOWQjuenu1xuICBjb25zdCBtb3ZlVG9OZXh0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbigpXG4gICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNvbnN0IG1vdmVGaWVsZCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKHNlbGVjdGlvblswXSlcbiAgICAgIGNvbnN0IHsgS2V5OiBmaWVsZEtleSwgX1R5cGVfOiBmaWVsZFR5cGUgfSA9IG1vdmVGaWVsZFxuXG4gICAgICBpZiAoaXNHcm91cENvbnRhaW5lcihmaWVsZFR5cGUpKSB7XG4gICAgICAgIG1vdmVHcm91cENvbnRhaW5lckNvbnRyb2woZGF0YUNvbnRleHQsIG1vdmVGaWVsZCwgJ2JhY2snKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV4dENvbnRyb2wgPSBkYXRhQ29udGV4dC5nZXROZXh0U2libGluZyhzZWxlY3Rpb25bMF0pLmNvbnRyb2xcbiAgICAgIGlmIChuZXh0Q29udHJvbCAmJiBpc0dyb3VwQ29udGFpbmVyKG5leHRDb250cm9sLl9UeXBlXykpIHtcbiAgICAgICAgLy8g5pmu6YCa5a2X5q615b6A5ZCO56e777yM5ZCO6Z2i5a2X5q615piv5YiG57uE5a655Zmo44CC5bCx55u45b2T5LqO5ZCO6Z2i55qE5YiG57uE5a655Zmo5b6A5YmN56e75YqoXG4gICAgICAgIG1vdmVHcm91cENvbnRhaW5lckNvbnRyb2woZGF0YUNvbnRleHQsIG5leHRDb250cm9sLCAnZm9yd2FyZCcpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCB7IElkOiBwYXJlbnRJZCwgX1R5cGVfOiBwYXJlbnRUeXBlLCBQcm9wc0Rpc3BsYXk6IHBhcmVudERpc3BsYXkgfSA9IGRhdGFDb250ZXh0LmdldFBhcmVudENvbnRyb2woc2VsZWN0aW9uWzBdKVxuICAgICAgaWYgKGlzUmVmQmlsbFRhYmxlKHBhcmVudFR5cGUpKSB7XG4gICAgICAgIGNvbnN0IGFyciA9IHBhcmVudERpc3BsYXkuc3BsaXQoJywnKVxuICAgICAgICBjb25zdCBrZXkgPSBmaWVsZEtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoYF8ke3BhcmVudElkLnRvTG93ZXJDYXNlKCl9YCwgJycpXG4gICAgICAgIGNvbnN0IGluZGV4ID0gYXJyLmZpbmRJbmRleCgoazpzdHJpbmcpID0+IGsgPT09IGtleSlcbiAgICAgICAgaWYgKGFyci5sZW5ndGggPiAxICYmIGluZGV4ICE9PSBhcnIubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIGNvbnN0IG1vdmVJdGVtID0gYXJyLnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgICBhcnIuc3BsaWNlKGluZGV4ICsgMSwgMCwgbW92ZUl0ZW1bMF0pXG4gICAgICAgICAgZGF0YUNvbnRleHQuYmF0Y2hVcGRhdGVDb250cm9sUHJvcGVydHlWYWx1ZXMoY3JlYXRlVXBkYXRlQWN0aW9uKFtbcGFyZW50SWQsIHsgUHJvcHNEaXNwbGF5OiBhcnIuam9pbigpIH1dXSkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZGF0YUNvbnRleHQubW92ZUNvbnRyb2woc2VsZWN0aW9uWzBdLCBnZXREaXJlY3Rpb25CeVR5cGUoJ2JhY2snKSlcbiAgICAgIGRlbGF5U2Nyb2xsQ29udHJvbChzZWxlY3Rpb25bMF0pXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEBUT0RPOiDlpJrpgInkuIvnmoTlkI7np7tcbiAgICAgIC8vIHNob3dNZXNzYWdlKCflvIDlj5HlsI/lk6Xotbblt6XkuK3jgILjgILjgIInKVxuICAgIH1cbiAgfSwgW2dldERpcmVjdGlvbkJ5VHlwZV0pXG4gIC8vIOWIoOmZpFxuICBjb25zdCBkZWxldGVDb250cm9sID0gKCkgPT4ge1xuICAgIGRlbGVjdENvbnRyb2woc2VsZWN0aW9uQ29udGV4dCwgZGF0YUNvbnRleHQsIHNob3dNZXNzYWdlLCByb290SWQsIGJpbGxQcm9wc0RhdGEsIGRpc3BhdGNoQmlsbERhdGEsIGdldEhpZGVGaWVsZFJlZigpLCBzZXRIaWRlRmllbGRSZWYpXG4gICAgLy8gY29uc3Qgc2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKClcbiAgICAvLyBpZiAoc2VsZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAvLyAgIGlmIChzZWxlY3Rpb24uaW5jbHVkZXMocm9vdElkKSkge1xuICAgIC8vICAgICByZXR1cm4gc2hvd01lc3NhZ2UoJ+emgeatouWIoOmZpOagueiKgueCueOAgicpXG4gICAgLy8gICB9XG4gICAgLy8gICBjb25zdCBkZWxldGVJZHMgPSBzZWxlY3Rpb24uZmlsdGVyKGlkID0+IGlkICE9PSByb290SWQpXG4gICAgLy8gICBjb25zdCBhbGxJdGVtcyA9IGRhdGFDb250ZXh0LmdldERhdGEoKS5JdGVtc1xuICAgIC8vICAgY29uc3QgZmlyc3RDb250cm9sID0gYWxsSXRlbXMuZmluZChpdGVtID0+IGRlbGV0ZUlkcy5pbmNsdWRlcyhpdGVtLklkKSlcbiAgICAvLyAgIGlmICghZmlyc3RDb250cm9sKSByZXR1cm5cbiAgICAvLyAgIGxldCB7IElkOiBmaXJzdENvbnRyb2xJZCwgUGFyZW50SWQ6IG5leHRTZWxlY3RlZElkIH0gPSBmaXJzdENvbnRyb2xcbiAgICAvLyAgIGNvbnN0IHsgY29udHJvbDogcHJldkNvbnRyb2wgfSA9IGRhdGFDb250ZXh0LmdldFByZXZTaWJsaW5nKGZpcnN0Q29udHJvbElkKVxuICAgIC8vICAgaWYgKHByZXZDb250cm9sKSB7XG4gICAgLy8gICAgIG5leHRTZWxlY3RlZElkID0gcHJldkNvbnRyb2wuSWRcbiAgICAvLyAgIH1cbiAgICAvLyAgIGRhdGFDb250ZXh0LmRlbGV0ZUNvbnRyb2woY3JlYXRlRGVsZXRlQWN0aW9uKGRlbGV0ZUlkcykpLnRoZW4oKCkgPT4ge1xuICAgIC8vICAgICBzZXRTZWxlY3QoW25leHRTZWxlY3RlZElkXSlcbiAgICAvLyAgIH0pXG4gICAgLy8gfVxuICB9XG4gIC8vIOWJquWIh1xuICBjb25zdCBjdXRDb250cm9sID0gdXNlQ2FsbGJhY2soKGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgZXZlbnQ/LnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICBjb25zdCBzZWxlY3Rpb246IEFycmF5PHN0cmluZz4gPSBnZXRTZWxlY3Rpb24oKVxuICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID09PSAxICYmIHJvb3RJZCA9PT0gc2VsZWN0aW9uWzBdKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3Qgc2VsZWN0Q29udHJvbHMgPSBzZWxlY3Rpb24ubWFwKChpZDogYW55KSA9PiBkYXRhQ29udGV4dC5maW5kQ29udHJvbChpZCkpXG4gICAgc2V0Q29weUlkcyhzZWxlY3Rpb24pXG4gICAgc2V0Q29weUNvbnRlbnQoc2VsZWN0Q29udHJvbHMpXG4gICAgc2V0RGF0YXNldEN1dENvbnRyb2woKVxuICB9LCBbXSlcbiAgLy8g5aSN5Yi2XG4gIGNvbnN0IGNvcHlDb250cm9sID0gdXNlQ2FsbGJhY2soKGV2ZW50PzogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xuICAgIGV2ZW50Py5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgY29uc3Qgc2VsZWN0aW9uOiBBcnJheTxzdHJpbmc+ID0gZ2V0U2VsZWN0aW9uKClcbiAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCA9PT0gMSAmJiByb290SWQgPT09IHNlbGVjdGlvblswXSkge1xuICAgICAgcmV0dXJuIHNob3dNZXNzYWdlKCfnpoHmraLlpI3liLbmoLnoioLngrknKVxuICAgIH1cbiAgICAvLyBjb25zdCBzZWxlY3RDb250cm9sc0NvcHkgPSBzZWxlY3Rpb24ucmVkdWNlKChjb250cm9sczogYW55W10sIGlkOiBzdHJpbmcpID0+IHtcbiAgICAvLyAgIGNvbnN0IGNvbnRyb2xEYXRhID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woaWQpXG4gICAgLy8gICByZXR1cm4gWy4uLmNvbnRyb2xzLCBjb250cm9sRGF0YV1cbiAgICAvLyAgIC8vIHJldHVybiBjb250cm9scy5jb25jYXQoY29weUNvbnRyb2xSZWN1cnZlKGZvcm1EYXRhLCBjb250cm9sRGF0YSwgY29udHJvbERhdGFbUEFSRU5USURdKSlcbiAgICAvLyB9LCBbXSlcbiAgICAvLyBzZXRDb3B5Q29udGVudChzZWxlY3RDb250cm9sc0NvcHkpXG4gICAgY29uc3Qgc2VsZWN0Q29udHJvbHNDb3B5ID0gc2VsZWN0aW9uLnJlZHVjZSgoY29udHJvbHM6IGFueVtdLCBpZDogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCBjb250cm9sRGF0YSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGlkKVxuXG4gICAgICBjb25zdCB7IEluc2lkZTogZGlzYWJsZURlbGV0ZSwgQ2F0ZWdvcnlJZCwgTmFtZSB9ID0gbWV0YUFwaS5nZXRDb250cm9sTWV0YShjb250cm9sRGF0YT8uRmllbGRUeXBlIHx8IGNvbnRyb2xEYXRhW19UWVBFX10pXG4gICAgICBpZiAoZGlzYWJsZURlbGV0ZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+WGhee9ruaOp+S7tuS4jeWFgeiuuOa3u+WKoCcpXG4gICAgICAgIHJldHVybiBjb250cm9sc1xuICAgICAgfVxuICAgICAgaWYgKENhdGVnb3J5SWQuaW5jbHVkZXMoU1lTX0NBVEVHT1JZX1BSRUZJWCkpIHtcbiAgICAgICAgc2hvd01lc3NhZ2UoYCR7TmFtZX3lj6rog73lnKjnlLvluIPkuK3mt7vliqDkuIDmrKHvvIzkuI3og73lpI3liLZgKVxuICAgICAgICByZXR1cm4gY29udHJvbHNcbiAgICAgIH1cbiAgICAgIGlmIChpc0dyb3VwQ29udGFpbmVyKGNvbnRyb2xEYXRhW19UWVBFX10pKSB7XG4gICAgICAgIGNvbnN0IHN1YnMgPSBkYXRhQ29udGV4dC5nZXRBbGxTdWJDb250cm9scyhjb250cm9sRGF0YS5JZCk/LmZpbHRlcigoY3RybDphbnkpID0+IGlzUmVmQmlsbChjdHJsW19UWVBFX10pIHx8IGlzUmVmQmlsbFRhYmxlKGN0cmxbX1RZUEVfXSkgfHwgaXNTeXNDb250cm9sKGN0cmxbX1RZUEVfXSkpXG4gICAgICAgIGlmIChzdWJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBzaG93TWVzc2FnZSgn5YiG57uE5YaF5YyF5ZCr5YWz6IGU6KGo5Y2V44CB6KGo5qC844CB5oiW57O757uf5a2X5q6177yM5LiN6IO95aSN5Yi244CCJylcbiAgICAgICAgICByZXR1cm4gY29udHJvbHNcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlzUmVmQmlsbFRhYmxlKGNvbnRyb2xEYXRhW19UWVBFX10pIHx8IGlzUmVmQmlsbChjb250cm9sRGF0YVtfVFlQRV9dKSkge1xuICAgICAgICBzaG93TWVzc2FnZSgn5YWz6IGU6KGo5Y2V5LiO6KGo5qC85o6n5Lu277yM5LiN6IO95aSN5Yi2JylcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xzXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbLi4uY29udHJvbHMsIGNvbnRyb2xEYXRhXVxuICAgIH0sIFtdKVxuICAgIHNldENvcHlDb250ZW50KHNlbGVjdENvbnRyb2xzQ29weSlcbiAgICBzZXRDb3B5SWRzKHNlbGVjdENvbnRyb2xzQ29weS5yZWR1Y2UoKGlkczogc3RyaW5nW10sIGNvbnRyb2w6IGFueSkgPT4ge1xuICAgICAgY29uc3QgYWxsU3ViQ29udHJvbElkcyA9IGRhdGFDb250ZXh0LmdldEFsbFN1YkNvbnRyb2xJZHMoY29udHJvbC5JZCkgfHwgW11cbiAgICAgIHJldHVybiBpZHMuY29uY2F0KGFsbFN1YkNvbnRyb2xJZHMpXG4gICAgfSwgW10pKVxuICB9LCBbXSlcbiAgLy8g57KY6LS0XG4gIGNvbnN0IHBhc3RlQ29udHJvbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBjb3B5Q29udGVudDogQXJyYXk8SUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5PiB8IHN0cmluZyB8IG51bGwgPSBnZXRDb3B5Q29udGVudCgpXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29weUNvbnRlbnQpKSB7XG4gICAgICBjb25zdCBpc0N1dCA9IHJlbW92ZURhdGFzZXRDdXRDb250cm9sKCkgPiAwXG4gICAgICBjb25zdCBmb3JtRGF0YSA9IGRhdGFDb250ZXh0LmdldERhdGEoKVxuICAgICAgaWYgKGlzQ3V0KSB7XG4gICAgICAgIGNvbnN0IGRlbGV0ZWVkSWRzOiBzdHJpbmdbXSA9IGNvcHlDb250ZW50LnJlZHVjZSgocHJldjogc3RyaW5nW10sIGNvbnRyb2w6IElDb250cm9sSXRlbVVwcGVyY2FzZUtleSkgPT4gW2NvbnRyb2xbSURdLCAuLi5wcmV2XSwgW10pXG4gICAgICAgIGlmIChkZWxldGVlZElkcy5pbmNsdWRlcyhhY3RpdmVkU2VsZWN0SWQpKSByZXR1cm5cbiAgICAgICAgLy8g5aaC5p6c5Ymq5YiH55qE5o6n5Lu277yM6KKr5aSN5Yi26L+b5a6D55qE5a2Q5o6n5Lu25YaF44CC5YiZ5q276ZSB5LqG77yM5pON5L2c5LiN6KKr5YWB6K64XG4gICAgICAgIGNvbnN0IGFjdGl2ZVNlbGVjdGVkUGFyZW50SWRzOiBzdHJpbmdbXSA9IGRhdGFDb250ZXh0LmdldEFsbFBhcmVudENvbnRyb2xJZHMoYWN0aXZlZFNlbGVjdElkKVxuICAgICAgICBpZiAoYWN0aXZlU2VsZWN0ZWRQYXJlbnRJZHMuc29tZShpZCA9PiBkZWxldGVlZElkcy5pbmNsdWRlcyhpZCkpKSB7XG4gICAgICAgICAgc2hvd01lc3NhZ2UoJ+W9k+OAkOa6kOaOp+S7tuOAkeaYr+OAkOebruagh+aOp+S7tuOAkeeahOeItue6p+aXtu+8jOaXoOazleWJquWIhy/nspjotLQnKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGRhdGFDb250ZXh0LnN3YXBDb250cm9sKGNyZWF0ZVN3YXBBY3Rpb24oeyBvcmlnaW46IGRlbGV0ZWVkSWRzLCB0YXJnZXQ6IGFjdGl2ZWRTZWxlY3RJZCB9KSlcbiAgICAgICAgICAudGhlbigoYWN0aW9uczogSUNvbnRyb2xBY3Rpb24pID0+IHtcbiAgICAgICAgICAgIHNlbGVjdGlvbkNvbnRleHQuc2V0U2VsZWN0KFtkZWxldGVlZElkc1swXV0pXG4gICAgICAgICAgICBjbGVhckNvcHlDb250ZW50KClcbiAgICAgICAgICB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgRmllbGRUeXBlLCBbX1RZUEVfXTogY29udHJvbFR5cGUgfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGFjdGl2ZWRTZWxlY3RJZClcbiAgICAgIGxldCBwYXJlbnRJZDogc3RyaW5nID0gYWN0aXZlZFNlbGVjdElkXG4gICAgICBjb25zdCB7IElzQ29udGFpbmVyIH0gPSBtZXRhQXBpLmdldENvbnRyb2xNZXRhKEZpZWxkVHlwZSB8fCBjb250cm9sVHlwZSlcbiAgICAgIGlmICghSXNDb250YWluZXIpIHtcbiAgICAgICAgcGFyZW50SWQgPSBkYXRhQ29udGV4dC5nZXRQYXJlbnRDb250cm9sSWQoYWN0aXZlZFNlbGVjdElkKVxuICAgICAgfVxuICAgICAgY29uc3QgY29weUlkcyA9IGdldENvcHlJZHMoKVxuICAgICAgY29uc3QgY29weVVpRGF0YSA9IHsgSXRlbXM6IGRhdGFDb250ZXh0LmZpbmRDb250cm9sQnlDb25kaXRpb24oaXRlbSA9PiBjb3B5SWRzPy5pbmNsdWRlcyhpdGVtLklkKSkgfVxuICAgICAgY29uc3QgdGVtcENvcHlDb250ZW50ID0gY29weUNvbnRlbnQucmVkdWNlKChwcmV2OiBJQ29udHJvbEl0ZW1VcHBlcmNhc2VLZXlbXSwgY29udHJvbDogSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGNvcHllZENvbnRyb2xzID0gY29weUNvbnRyb2xSZWN1cnZlKGNvcHlVaURhdGEsIGNvbnRyb2wsIHBhcmVudElkKVxuICAgICAgICByZXR1cm4gcHJldi5jb25jYXQoZml4R3JvdXBDaGlsZHJlblBhcmVudElkKGNvcHllZENvbnRyb2xzLCByb290SWQpKVxuICAgICAgfSwgW10pXG4gICAgICAvLyDliKTmlq3mjqfku7bnmoTlrZjmlL7kvY3nva5cbiAgICAgIGxldCBpbmRleDogbnVtYmVyID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2xJbmRleChhY3RpdmVkU2VsZWN0SWQpXG4gICAgICBpZiAoSXNDb250YWluZXIpIHtcbiAgICAgICAgY29uc3Qgc3ViQ29udHJvbHMgPSBkYXRhQ29udGV4dC5nZXRTdWJDb250cm9scyhhY3RpdmVkU2VsZWN0SWQpXG4gICAgICAgIGNvbnN0IF9sZW5ndGg6IG51bWJlciA9IHN1YkNvbnRyb2xzLmxlbmd0aFxuICAgICAgICBpZiAoX2xlbmd0aCA+IDApIHtcbiAgICAgICAgICBpbmRleCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sSW5kZXgoc3ViQ29udHJvbHNbX2xlbmd0aCAtIDFdW0lEXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qgb2xkVG9wSWRzID0gdGVtcENvcHlDb250ZW50Lm1hcChpdGVtID0+IHtcbiAgICAgICAgaWYgKGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGl0ZW0uUGFyZW50SWQpKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0uSWRcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfSkuZmlsdGVyKEJvb2xlYW4pXG4gICAgICBkYXRhQ29udGV4dC5hZGRDb250cm9sKGNyZWF0ZVBhc3RlQWN0aW9uKHRlbXBDb3B5Q29udGVudCwgeyBpbmRleDogaW5kZXggKyAxIH0pKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgY29uc3QgdG9wQ29udHJvbElkcyA9IG9sZFRvcElkcy5maWx0ZXIoaWRzdHJpbmcgPT4gZGF0YUNvbnRleHQuZmluZENvbnRyb2woaWRzdHJpbmcpKVxuICAgICAgICBzZXRTZWxlY3QodG9wQ29udHJvbElkcylcbiAgICAgIH0pXG4gICAgfVxuICB9LCBbYWN0aXZlZFNlbGVjdElkXSlcbiAgLy8g6YeN5aSNXG4gIGNvbnN0IGNvcHlBbmRQYXN0ZUNvbnRyb2wgPSB1c2VDYWxsYmFjaygoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHNlbGVjdGlvbkNvbnRleHQuZ2V0U2VsZWN0aW9uKClcbiAgICBjb25zdCBmb3JtRGF0YSA9IGRhdGFDb250ZXh0LmdldERhdGEoKVxuICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID09PSAxICYmIHJvb3RJZCA9PT0gc2VsZWN0aW9uWzBdKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgaXNDYW5SZXBlYXRDb250cm9sID0gKGNvbnRyb2wpID0+IHtcbiAgICAgIGlmIChpc0dyb3VwQ29udGFpbmVyKGNvbnRyb2xbX1RZUEVfXSkpIHtcbiAgICAgICAgY29uc3Qgc3VicyA9IGRhdGFDb250ZXh0LmdldEFsbFN1YkNvbnRyb2xzKGNvbnRyb2wuSWQpPy5maWx0ZXI/LigoY3RybDphbnkpID0+IGlzUmVmQmlsbChjdHJsW19UWVBFX10pIHx8IGlzUmVmQmlsbFRhYmxlKGN0cmxbX1RZUEVfXSkgfHwgaXNTeXNDb250cm9sKGN0cmxbX1RZUEVfXSkpXG4gICAgICAgIGlmIChzdWJzPy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc2hvd01lc3NhZ2UoJ+WIhue7hOWGheWMheWQq+WFs+iBlOihqOWNleOAgeihqOagvOaIluezu+e7n+Wtl+aute+8jOS4jeiDvemHjeWkjeOAgicpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgQ2F0ZWdvcnlJZCwgTmFtZSB9ID0gbWV0YUFwaS5nZXRDb250cm9sTWV0YShjb250cm9sW19UWVBFX10pXG4gICAgICBpZiAoQ2F0ZWdvcnlJZC5pbmNsdWRlcyhTWVNfQ0FURUdPUllfUFJFRklYKSkge1xuICAgICAgICBzaG93TWVzc2FnZShgJHtOYW1lfeWPquiDveWcqOeUu+W4g+S4rea3u+WKoOS4gOasoe+8jOS4jeiDvemHjeWkjWApXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBzZWxlY3RDb250cm9sc0NvcHkgPSBzZWxlY3Rpb24ucmVkdWNlKChjb250cm9sczogYW55W10sIGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgY29udHJvbERhdGEgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChpZClcbiAgICAgICAgaWYgKCFpc0NhblJlcGVhdENvbnRyb2woY29udHJvbERhdGEpIHx8IGlzUmVmQmlsbChjb250cm9sRGF0YVtfVFlQRV9dKSB8fCBpc1JlZkJpbGxUYWJsZShjb250cm9sRGF0YVtfVFlQRV9dKSkge1xuICAgICAgICAgIHJldHVybiBjb250cm9sc1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvcHllZENvbnRyb2xzID0gY29weUNvbnRyb2xSZWN1cnZlKGZvcm1EYXRhLCBjb250cm9sRGF0YSwgY29udHJvbERhdGFbUEFSRU5USURdKVxuICAgICAgICByZXR1cm4gY29udHJvbHMuY29uY2F0KGZpeEdyb3VwQ2hpbGRyZW5QYXJlbnRJZChjb3B5ZWRDb250cm9scywgcm9vdElkKSlcbiAgICAgIH0sIFtdKVxuICAgICAgZGF0YUNvbnRleHQuYWRkQ29udHJvbChjcmVhdGVQYXN0ZUFjdGlvbihzZWxlY3RDb250cm9sc0NvcHkpKS50aGVuKCgpID0+IHtcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGZpZWxkID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woYWN0aXZlZFNlbGVjdElkKVxuICAgICAgaWYgKCFpc0NhblJlcGVhdENvbnRyb2woZmllbGQpIHx8IGlzUmVmQmlsbChmaWVsZFtfVFlQRV9dKSB8fCBpc1JlZkJpbGxUYWJsZShmaWVsZFtfVFlQRV9dKSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvcHlDb250cm9scyA9IGZpeEdyb3VwQ2hpbGRyZW5QYXJlbnRJZChjb3B5Q29udHJvbFJlY3VydmUoZm9ybURhdGEsIGZpZWxkLCBmaWVsZFtQQVJFTlRJRF0pLCByb290SWQpXG4gICAgICBjb25zdCBhZGRJbmRleCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sSW5kZXgoZmllbGRbSURdKSArIDFcbiAgICAgIGRhdGFDb250ZXh0LmFkZENvbnRyb2woY3JlYXRlUGFzdGVBY3Rpb24oY29weUNvbnRyb2xzLCB7IGluZGV4OiBhZGRJbmRleCB9KSkudGhlbigoKSA9PiB7XG4gICAgICAgIHNlbGVjdGlvbkNvbnRleHQuc2V0U2VsZWN0KFtjb3B5Q29udHJvbHNbMF1bSURdXSlcbiAgICAgIH0pXG4gICAgfVxuICB9LCBbYWN0aXZlZFNlbGVjdElkXSlcblxuICBjb25zdCBjb21tb25DbGFzc05hbWUgPSBjbGFzc25hbWUoYCR7bmF2VG9vbFByZWZpeENsc30tb3BlcmF0aW9uLWJ0bmApXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e25hdlRvb2xQcmVmaXhDbHN9IHJlZj17bmF2VG9vbEJhclJlZn0+XG4gICAgICB7Lyog5Zug6KGo5qC855qE5pWw5o2u56e75Yqo562J5pON5L2c5Lya6Kem5Y+R5aSa5qyh5Yi35paw77yM5pqC5pe25bGP6JS9ICovfVxuICAgICAgey8qIDxkaXZcbiAgICAgICAgdGl0bGU9e2DmkqTmtohcXG4ke2lzTWFjT1MgPyAn4oyYK1onIDogJ0N0cmwrWid9YH1cbiAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICBjbGFzc25hbWUoe1xuICAgICAgICAgICAgW2Ake25hdlRvb2xQcmVmaXhDbHN9LW9wZXJhdGlvbi1kaXNhYmxlYF06ICFjYW5VbmRvXG4gICAgICAgICAgfSwgY29tbW9uQ2xhc3NOYW1lKVxuICAgICAgICB9XG4gICAgICAgIG9uQ2xpY2s9e3VuZG99XG4gICAgICA+XG4gICAgICAgIDxJY29uIHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPSdjaGV4aWFvJyAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2XG4gICAgICAgIHRpdGxlPXtg6YeN5YGaXFxuJHtpc01hY09TID8gJ+KMmCtZJyA6ICdDdHJsK1knfWB9XG4gICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgY2xhc3NuYW1lKHtcbiAgICAgICAgICAgIFtgJHtuYXZUb29sUHJlZml4Q2xzfS1vcGVyYXRpb24tZGlzYWJsZWBdOiAhY2FuUmVkbyxcbiAgICAgICAgICAgIFtgJHtuYXZUb29sUHJlZml4Q2xzfS1sYXN0LW9wZXJhdGlvbmBdOiB0cnVlXG4gICAgICAgICAgfSwgY29tbW9uQ2xhc3NOYW1lKVxuICAgICAgICB9XG4gICAgICAgIG9uQ2xpY2s9e3JlZG99XG4gICAgICA+XG4gICAgICAgIDxJY29uIHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPSd6aG9uZ3p1bycgLz5cbiAgICAgIDwvZGl2PiAqL31cbiAgICAgIDxkaXZcbiAgICAgICAgdGl0bGU9J+WJjeenuydcbiAgICAgICAgb25DbGljaz17bW92ZVRvUHJldn1cbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWUoe1xuICAgICAgICAgIFtgJHtuYXZUb29sUHJlZml4Q2xzfS1vcGVyYXRpb24tZGlzYWJsZWBdOiBkaXNhYmxlTW92ZVxuICAgICAgICB9LCBjb21tb25DbGFzc05hbWUpfVxuICAgICAgPlxuICAgICAgICA8SWNvbiBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0ncWlhbnlpJyAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2XG4gICAgICAgIHRpdGxlPSflkI7np7snXG4gICAgICAgIG9uQ2xpY2s9e21vdmVUb05leHR9XG4gICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgY2xhc3NuYW1lKHtcbiAgICAgICAgICAgIFtgJHtuYXZUb29sUHJlZml4Q2xzfS1sYXN0LW9wZXJhdGlvbmBdOiB0cnVlLFxuICAgICAgICAgICAgW2Ake25hdlRvb2xQcmVmaXhDbHN9LW9wZXJhdGlvbi1kaXNhYmxlYF06IGRpc2FibGVNb3ZlXG4gICAgICAgICAgfSwgY29tbW9uQ2xhc3NOYW1lKVxuICAgICAgICB9XG4gICAgICA+XG4gICAgICAgIDxJY29uIHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPSdob3V5aScgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdlxuICAgICAgICB0aXRsZT17YOWJquWIh1xcbiR7aXNNYWNPUyA/ICfijJgrWCcgOiAnQ3RybCtYJ31gfVxuICAgICAgICBvbkNsaWNrPXshZGlzYWJsZUNvcHlBbmRDdXQgPyBjdXRDb250cm9sIDogdW5kZWZpbmVkfVxuICAgICAgICBjbGFzc05hbWU9e1xuICAgICAgICAgIGNsYXNzbmFtZSh7XG4gICAgICAgICAgICBbYCR7bmF2VG9vbFByZWZpeENsc30tb3BlcmF0aW9uLWRpc2FibGVgXTogZGlzYWJsZUNvcHlBbmRDdXRcbiAgICAgICAgICB9LCBjb21tb25DbGFzc05hbWUpXG4gICAgICAgIH1cbiAgICAgID5cbiAgICAgICAgPEljb24gcHJlZml4PSdkZXNpZ25lcmljb24nIHR5cGU9J2ppYW5xaWUnIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXZcbiAgICAgICAgdGl0bGU9e2DlpI3liLZcXG4ke2lzTWFjT1MgPyAn4oyYK0MnIDogJ0N0cmwrQyd9YH1cbiAgICAgICAgb25DbGljaz17IWRpc2FibGVDb3B5QW5kQ3V0ID8gY29weUNvbnRyb2wgOiB1bmRlZmluZWR9XG4gICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgY2xhc3NuYW1lKHtcbiAgICAgICAgICAgIFtgJHtuYXZUb29sUHJlZml4Q2xzfS1vcGVyYXRpb24tZGlzYWJsZWBdOiBkaXNhYmxlQ29weUFuZEN1dFxuICAgICAgICAgIH0sIGNvbW1vbkNsYXNzTmFtZSlcbiAgICAgICAgfVxuICAgICAgPlxuICAgICAgICA8SWNvbiBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nZnV6aGknIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXZcbiAgICAgICAgdGl0bGU9e2DnspjotLRcXG4ke2lzTWFjT1MgPyAn4oyYK1YnIDogJ0N0cmwrVid9YH1cbiAgICAgICAgb25DbGljaz17cGFzdGVDb250cm9sfVxuICAgICAgICBjbGFzc05hbWU9e1xuICAgICAgICAgIGNsYXNzbmFtZSh7XG4gICAgICAgICAgICBbYCR7bmF2VG9vbFByZWZpeENsc30tbGFzdC1vcGVyYXRpb25gXTogdHJ1ZVxuICAgICAgICAgIH0sIGNvbW1vbkNsYXNzTmFtZSlcbiAgICAgICAgfVxuICAgICAgPlxuICAgICAgICA8SWNvbiBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nemhhbnRpZScgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdlxuICAgICAgICB0aXRsZT0n6YeN5aSNJ1xuICAgICAgICBvbkNsaWNrPXshZGlzYWJsZUNvcHlBbmRDdXQgPyBjb3B5QW5kUGFzdGVDb250cm9sIDogdW5kZWZpbmVkfVxuICAgICAgICBjbGFzc05hbWU9e1xuICAgICAgICAgIGNsYXNzbmFtZSh7XG4gICAgICAgICAgICBbYCR7bmF2VG9vbFByZWZpeENsc30tb3BlcmF0aW9uLWRpc2FibGVgXTogZGlzYWJsZUNvcHlBbmRDdXRcbiAgICAgICAgICB9LCBjb21tb25DbGFzc05hbWUpXG4gICAgICAgIH1cbiAgICAgID5cbiAgICAgICAgPEljb24gcHJlZml4PSdkZXNpZ25lcmljb24nIHR5cGU9J3pob25nZnUnIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXZcbiAgICAgICAgdGl0bGU9eyfliKDpmaRcXG5EZWxldGUnfVxuICAgICAgICBvbkNsaWNrPXshaXNTZWxlY3RSb290ID8gZGVsZXRlQ29udHJvbCA6IHVuZGVmaW5lZH1cbiAgICAgICAga2V5PSdEZWxldGUnXG4gICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgY2xhc3NuYW1lKHtcbiAgICAgICAgICAgIFtgJHtuYXZUb29sUHJlZml4Q2xzfS1vcGVyYXRpb24tZGlzYWJsZWBdOiBpc1NlbGVjdFJvb3RcbiAgICAgICAgICB9LCBjb21tb25DbGFzc05hbWUpXG4gICAgICAgIH1cbiAgICAgID5cbiAgICAgICAgPEljb24gcHJlZml4PSdkZXNpZ25lcmljb24nIHR5cGU9J3NoYW5jaHUnIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBOYXZUb29sQmFyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///76632\n");

/***/ }),

/***/ 82796:
/*!****************************************!*\
  !*** ./src/components/SwitchField.tsx ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/values */ 72400);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _utils_controlIcon__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../utils/controlIcon */ 84995);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var _constants_actionName__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../constants/actionName */ 82964);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../constants */ 98092);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../utils/control */ 3700);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _hooks_useGetControlName__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../hooks/useGetControlName */ 7040);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_23__);\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-11-27 14:41:03\n * @LastEditTime: 2024-02-28 13:40:16\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\n// import ContextMenuPanel from './ContextMenuPanel'\n\n\n\n\nvar SwitchField = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.memo)(function (_ref) {\n  var field = _ref.field,\n    className = _ref.className;\n  var fieldId = field.Id,\n    controlType = field._Type_,\n    billEntityId = field.BillEntityId,\n    controlId = field.Id,\n    Name = field.Name;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useContext)(_context__WEBPACK_IMPORTED_MODULE_21__.DesignerContext),\n    prefixCls = _useContext.prefixCls,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    invokeAction = _useContext.invokeAction,\n    fieldStatusSettingMode = _useContext.fieldStatusSettingMode,\n    getHideFieldRef = _useContext.getHideFieldRef,\n    setHideFieldRef = _useContext.setHideFieldRef;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data,\n    selectionContext = kdesignerApi.selection,\n    metaApi = kdesignerApi.meta,\n    errorContext = kdesignerApi.error,\n    controlCacheApi = kdesignerApi.controlCacheApi;\n  var meta = metaApi.getMeta();\n  var _ref2 = dataContext.getParentControl(fieldId) || {},\n    parentType = _ref2._Type_;\n  var panelRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)();\n  var allControlsRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)([]);\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useState, 2),\n    controls = _useState2[0],\n    setControls = _useState2[1];\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)(false),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useState3, 2),\n    visible = _useState4[0],\n    setVisible = _useState4[1];\n  var _useState5 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)(false),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useState5, 2),\n    switchFieldVisible = _useState6[0],\n    setSwitchFieldVisible = _useState6[1];\n  var isNewAddControl = controlCacheApi.hasCache('controlId', fieldId);\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.useOnClickOutside)([panelRef], function (e) {\n    setVisible(false);\n  });\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    setVisible(false);\n    setSwitchFieldVisible(false);\n    if (!fieldId || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(_constants__WEBPACK_IMPORTED_MODULE_19__.FORBID_CHANGE_CONTRIL_TYPES).call(_constants__WEBPACK_IMPORTED_MODULE_19__.FORBID_CHANGE_CONTRIL_TYPES, controlType) || fieldStatusSettingMode || (0,_utils_control__WEBPACK_IMPORTED_MODULE_20__.isRefBillTable)(parentType)) {\n      return;\n    }\n    if (isNewAddControl) {\n      var _allControlsRef$curre;\n      // 新加的控件，所有类型都可以切换\n      if (meta.Controls) {\n        var _context, _context2;\n        var parent = dataContext.findControl(field[_constants_propnames__WEBPACK_IMPORTED_MODULE_17__.PARENTID]);\n        var controlMeta = metaApi.getControlMeta(controlType);\n        // 排除可切换的控件类型\n        var excludeControlTypes = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context = []).call(_context, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_constants__WEBPACK_IMPORTED_MODULE_19__.FORBID_CHANGE_CONTRIL_TYPES), [controlType, 'HiddenControl']);\n        allControlsRef.current = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(_context2 = meta.Controls || []).call(_context2, function (control) {\n          if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(excludeControlTypes).call(excludeControlTypes, control[_constants_propnames__WEBPACK_IMPORTED_MODULE_17__.ID]) || control.Visible === false || (controlMeta === null || controlMeta === void 0 ? void 0 : controlMeta.BaseType) !== (control === null || control === void 0 ? void 0 : control.BaseType)) return false;\n          var ret = metaApi.canAdd(control.Id, parent[_constants_propnames__WEBPACK_IMPORTED_MODULE_17__._TYPE_]);\n          var isAcceptChild = ret === true || (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(ret) === 'object' && ret.success;\n          return isAcceptChild;\n        });\n      }\n      setControls(allControlsRef.current);\n      if (((_allControlsRef$curre = allControlsRef.current) === null || _allControlsRef$curre === void 0 ? void 0 : _allControlsRef$curre.length) > 0) {\n        setSwitchFieldVisible(true);\n      }\n      return;\n    }\n    var controlKey = field.Key;\n    // console.log('controlKey', controlData)\n    invokeAction(_constants__WEBPACK_IMPORTED_MODULE_19__.CAN_SWITCH_FLELDTYPES, [[controlKey, field.FieldType]], []);\n    var updateSwitchControls = function updateSwitchControls(data) {\n      var switchFieldTypes = data[controlKey] || [];\n      if (switchFieldTypes.length === 0) {\n        setVisible(false);\n        return;\n      }\n      setControls(switchFieldTypes);\n      if ((switchFieldTypes === null || switchFieldTypes === void 0 ? void 0 : switchFieldTypes.length) > 0) {\n        setSwitchFieldVisible(true);\n      }\n    };\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_18__.SET_SWITCH_FIELD_TYPES, updateSwitchControls);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_18__.SET_SWITCH_FIELD_TYPES, updateSwitchControls);\n    };\n  }, [controlId, controlType, isNewAddControl]);\n\n  // 控件类型对应的控件名\n  var controlName = (0,_hooks_useGetControlName__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(field);\n\n  // 控件类型对应的图标\n  var controlIcon = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    if (!controlType) return;\n    return (0,_utils_controlIcon__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(controlType);\n  }, [controlType, _utils_controlIcon__WEBPACK_IMPORTED_MODULE_16__[\"default\"]]);\n  var handleClickContextMenuItem = function handleClickContextMenuItem(type) {\n    if (!type) {\n      console.warn('控件类型为空');\n      return;\n    }\n    var currentTypeName = '';\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_20__.isRefBill)(controlType)) {\n      var _context3;\n      // 业务关联表单的类型是\"NoCodeMulRefBillField_关联表单id\"的，但是保存过后返回来只有type，这里做下兼容\n      currentTypeName = metaApi.getControlMeta(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context3 = \"\".concat(controlType, \"_\")).call(_context3, billEntityId)).Name;\n      // 关联表单之前切换过表格模式时，需要将隐藏的表格删除\n      if (field !== null && field !== void 0 && field.RefTableId) {\n        var cacheData = _objectSpread({}, getHideFieldRef());\n        var newData = _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11___default()(cacheData).reduce(function (result, item) {\n          return item.ParentId !== (field === null || field === void 0 ? void 0 : field.RefTableId) && item.Id !== (field === null || field === void 0 ? void 0 : field.RefTableId) ? _objectSpread(_objectSpread({}, result), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({}, item.Id, item)) : result;\n        }, {});\n        setHideFieldRef(newData);\n      }\n    } else {\n      currentTypeName = metaApi.getControlMeta(controlType).Name;\n    }\n\n    // 判断切换组件类型时，是否需要改名称\n    var needUpdateName = (currentTypeName || Name) === Name;\n    var newName = metaApi.getControlMeta(type).Name;\n    var updateProp = needUpdateName ? {\n      Name: newName\n    } : {};\n    dataContext.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.createUpdateAction)([[controlId, _objectSpread((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({}, _constants_propnames__WEBPACK_IMPORTED_MODULE_17__.FieldType, type), updateProp)]])).then(function () {\n      selectionContext.setSelect([controlId]);\n\n      // 切换组件的时候需要把原有的错误清除\n      if (errorContext.getError(controlId)) {\n        errorContext.deleteError([controlId]);\n      }\n      setVisible(false);\n    }).catch(function (err) {\n      console.error('切换组件失败', err);\n    });\n  };\n  var contextMenuPanelPrefixCls = \"\".concat(prefixCls, \"_contextmenu_panel\");\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_23___default()(className, 'switchfield')\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: \"switchfield_content\"\n  }, controlIcon && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n    prefix: \"designericon\",\n    type: controlIcon,\n    className: \"switchfield_content_icon\"\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"span\", {\n    className: \"switchfield_content_name\"\n  }, !controlType ? '批量编辑' : controlName || '')), switchFieldVisible && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.DropDownPanel, {\n    scrollHidden: true,\n    popperClassName: \"\".concat(prefixCls, \"_contextmenu\")\n    // ref={triggerRef}\n    ,\n    visible: visible,\n    onVisibleChange: function onVisibleChange(visible) {\n      return setVisible(visible);\n    },\n    placement: \"bottomLeft\",\n    content: visible && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n      ref: panelRef,\n      className: contextMenuPanelPrefixCls\n    }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default()(controls).call(controls, function (item) {\n      var type = '';\n      var name = '';\n      if ((0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(item) === 'object') {\n        type = item.Id;\n        name = item.Name;\n      } else {\n        var _metaApi$getControlMe;\n        type = item;\n        name = (_metaApi$getControlMe = metaApi.getControlMeta(type)) === null || _metaApi$getControlMe === void 0 ? void 0 : _metaApi$getControlMe.Name;\n      }\n      return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n        key: type,\n        title: name,\n        className: \"\".concat(contextMenuPanelPrefixCls, \"_item\"),\n        onClick: function onClick() {\n          return handleClickContextMenuItem(type);\n        }\n      }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n        prefix: \"designericon\",\n        type: (0,_utils_controlIcon__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(type),\n        className: \"nocode-designer-control-icon\"\n      }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"p\", {\n        className: \"\".concat(contextMenuPanelPrefixCls, \"_item_text\")\n      }, name));\n    }))\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: \"switchfield_action\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n    prefix: \"designericon\",\n    type: \"qiehuan\",\n    className: \"operation-bar-name-icon\"\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"span\", {\n    className: \"switchfield_action_text\"\n  }, \"\\u8F6C\\u6362\"))));\n});\nSwitchField.displayName = 'SwitchField';\n/* harmony default export */ __webpack_exports__[\"default\"] = (SwitchField);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODI3OTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFEQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUlBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFHQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFPQTtBQUVBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvY29tcG9uZW50cy9Td2l0Y2hGaWVsZC50c3g/NjE4NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIzLTExLTI3IDE0OjQxOjAzXG4gKiBATGFzdEVkaXRUaW1lOiAyMDI0LTAyLTI4IDEzOjQwOjE2XG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIG1lbW8sIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZU9uQ2xpY2tPdXRzaWRlLCBjcmVhdGVVcGRhdGVBY3Rpb24sIGV2ZW50QnVzLCBEcm9wRG93blBhbmVsLCB1c2VEYXRhQ2hhbmdlRm9yY2VVcGRhdGVFZmZlY3QsIGNyZWF0ZURlbGV0ZUFjdGlvbiB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IEljb24gfSBmcm9tICdAa2RjbG91ZGpzL2tkZXNpZ24nXG5pbXBvcnQgZ2V0Q29udHJvbEljb25NYXAgZnJvbSAnLi4vdXRpbHMvY29udHJvbEljb24nXG5pbXBvcnQgeyBfVFlQRV8sIElELCBQQVJFTlRJRCwgRmllbGRUeXBlIH0gZnJvbSAnLi4vY29uc3RhbnRzL3Byb3BuYW1lcydcbmltcG9ydCB7IFNFVF9TV0lUQ0hfRklFTERfVFlQRVMgfSBmcm9tICcuLi9jb25zdGFudHMvYWN0aW9uTmFtZSdcbmltcG9ydCB7IENBTl9TV0lUQ0hfRkxFTERUWVBFUywgRk9SQklEX0NIQU5HRV9DT05UUklMX1RZUEVTIH0gZnJvbSAnLi4vY29uc3RhbnRzJ1xuLy8gaW1wb3J0IENvbnRleHRNZW51UGFuZWwgZnJvbSAnLi9Db250ZXh0TWVudVBhbmVsJ1xuaW1wb3J0IHsgaXNSZWZCaWxsLCBnZXRDb250cm9sTmFtZSwgaXNSZWZCaWxsVGFibGUgfSBmcm9tICcuLi91dGlscy9jb250cm9sJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dCdcbmltcG9ydCB1c2VHZXRDb250cm9sTmFtZSBmcm9tICcuLi9ob29rcy91c2VHZXRDb250cm9sTmFtZSdcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnXG5cbmNvbnN0IFN3aXRjaEZpZWxkID0gbWVtbygoe1xuICBmaWVsZCxcbiAgY2xhc3NOYW1lXG59KSA9PiB7XG4gIGNvbnN0IHsgSWQ6IGZpZWxkSWQsIF9UeXBlXzogY29udHJvbFR5cGUsIEJpbGxFbnRpdHlJZDogYmlsbEVudGl0eUlkLCBJZDogY29udHJvbElkLCBOYW1lIH0gPSBmaWVsZFxuXG4gIGNvbnN0IHsgcHJlZml4Q2xzLCBnZXRLZGVzaWduZXJBcGksIGludm9rZUFjdGlvbiwgZmllbGRTdGF0dXNTZXR0aW5nTW9kZSwgZ2V0SGlkZUZpZWxkUmVmLCBzZXRIaWRlRmllbGRSZWYgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCBrZGVzaWduZXJBcGkgPSB1c2VNZW1vKCgpID0+IGdldEtkZXNpZ25lckFwaSgpLCBbXSlcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCwgc2VsZWN0aW9uOiBzZWxlY3Rpb25Db250ZXh0LCBtZXRhOiBtZXRhQXBpLCBlcnJvcjogZXJyb3JDb250ZXh0LCBjb250cm9sQ2FjaGVBcGkgfSA9IGtkZXNpZ25lckFwaVxuICBjb25zdCBtZXRhID0gbWV0YUFwaS5nZXRNZXRhKClcbiAgY29uc3QgeyBfVHlwZV86IHBhcmVudFR5cGUgfSA9IGRhdGFDb250ZXh0LmdldFBhcmVudENvbnRyb2woZmllbGRJZCkgfHwge31cblxuICBjb25zdCBwYW5lbFJlZiA9IHVzZVJlZigpXG4gIGNvbnN0IGFsbENvbnRyb2xzUmVmID0gdXNlUmVmPFtdPihbXSlcbiAgY29uc3QgW2NvbnRyb2xzLCBzZXRDb250cm9sc10gPSB1c2VTdGF0ZTxzdHJpbmdbXSB8IGFueVtdPihbXSlcbiAgY29uc3QgW3Zpc2libGUsIHNldFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtzd2l0Y2hGaWVsZFZpc2libGUsIHNldFN3aXRjaEZpZWxkVmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSlcblxuICBjb25zdCBpc05ld0FkZENvbnRyb2wgPSBjb250cm9sQ2FjaGVBcGkuaGFzQ2FjaGUoJ2NvbnRyb2xJZCcsIGZpZWxkSWQpXG5cbiAgdXNlT25DbGlja091dHNpZGUoW3BhbmVsUmVmXSwgKGUpID0+IHtcbiAgICBzZXRWaXNpYmxlKGZhbHNlKVxuICB9KVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0VmlzaWJsZShmYWxzZSlcbiAgICBzZXRTd2l0Y2hGaWVsZFZpc2libGUoZmFsc2UpXG4gICAgaWYgKCFmaWVsZElkIHx8IEZPUkJJRF9DSEFOR0VfQ09OVFJJTF9UWVBFUy5pbmNsdWRlcyhjb250cm9sVHlwZSkgfHwgZmllbGRTdGF0dXNTZXR0aW5nTW9kZSB8fCBpc1JlZkJpbGxUYWJsZShwYXJlbnRUeXBlKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKGlzTmV3QWRkQ29udHJvbCkge1xuICAgICAgLy8g5paw5Yqg55qE5o6n5Lu277yM5omA5pyJ57G75Z6L6YO95Y+v5Lul5YiH5o2iXG4gICAgICBpZiAobWV0YS5Db250cm9scykge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbCgoZmllbGRbUEFSRU5USURdKSlcbiAgICAgICAgY29uc3QgY29udHJvbE1ldGEgPSBtZXRhQXBpLmdldENvbnRyb2xNZXRhKGNvbnRyb2xUeXBlKVxuICAgICAgICAvLyDmjpLpmaTlj6/liIfmjaLnmoTmjqfku7bnsbvlnotcbiAgICAgICAgY29uc3QgZXhjbHVkZUNvbnRyb2xUeXBlcyA9IFsuLi5GT1JCSURfQ0hBTkdFX0NPTlRSSUxfVFlQRVMsIGNvbnRyb2xUeXBlLCAnSGlkZGVuQ29udHJvbCddXG5cbiAgICAgICAgYWxsQ29udHJvbHNSZWYuY3VycmVudCA9IChtZXRhLkNvbnRyb2xzIHx8IFtdKS5maWx0ZXIoKGNvbnRyb2w6IGFueSkgPT4ge1xuICAgICAgICAgIGlmIChleGNsdWRlQ29udHJvbFR5cGVzLmluY2x1ZGVzKGNvbnRyb2xbSURdKSB8fCBjb250cm9sLlZpc2libGUgPT09IGZhbHNlIHx8IGNvbnRyb2xNZXRhPy5CYXNlVHlwZSAhPT0gY29udHJvbD8uQmFzZVR5cGUpIHJldHVybiBmYWxzZVxuICAgICAgICAgIGNvbnN0IHJldCA9IG1ldGFBcGkuY2FuQWRkKGNvbnRyb2wuSWQsIHBhcmVudFtfVFlQRV9dKVxuICAgICAgICAgIGNvbnN0IGlzQWNjZXB0Q2hpbGQgPSByZXQgPT09IHRydWUgfHwgKHR5cGVvZiByZXQgPT09ICdvYmplY3QnICYmIHJldC5zdWNjZXNzKVxuICAgICAgICAgIHJldHVybiBpc0FjY2VwdENoaWxkXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIHNldENvbnRyb2xzKGFsbENvbnRyb2xzUmVmLmN1cnJlbnQpXG4gICAgICBpZiAoYWxsQ29udHJvbHNSZWYuY3VycmVudD8ubGVuZ3RoID4gMCkge1xuICAgICAgICBzZXRTd2l0Y2hGaWVsZFZpc2libGUodHJ1ZSlcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGNvbnRyb2xLZXkgPSBmaWVsZC5LZXlcbiAgICAvLyBjb25zb2xlLmxvZygnY29udHJvbEtleScsIGNvbnRyb2xEYXRhKVxuICAgIGludm9rZUFjdGlvbihDQU5fU1dJVENIX0ZMRUxEVFlQRVMsIFtbY29udHJvbEtleSwgZmllbGQuRmllbGRUeXBlXV0sIFtdKVxuXG4gICAgY29uc3QgdXBkYXRlU3dpdGNoQ29udHJvbHMgPSAoZGF0YSkgPT4ge1xuICAgICAgY29uc3Qgc3dpdGNoRmllbGRUeXBlcyA9IGRhdGFbY29udHJvbEtleV0gfHwgW11cbiAgICAgIGlmIChzd2l0Y2hGaWVsZFR5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzZXRWaXNpYmxlKGZhbHNlKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHNldENvbnRyb2xzKHN3aXRjaEZpZWxkVHlwZXMpXG5cbiAgICAgIGlmIChzd2l0Y2hGaWVsZFR5cGVzPy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNldFN3aXRjaEZpZWxkVmlzaWJsZSh0cnVlKVxuICAgICAgfVxuICAgIH1cblxuICAgIGV2ZW50QnVzLm9uKFNFVF9TV0lUQ0hfRklFTERfVFlQRVMsIHVwZGF0ZVN3aXRjaENvbnRyb2xzKVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBldmVudEJ1cy5vZmYoU0VUX1NXSVRDSF9GSUVMRF9UWVBFUywgdXBkYXRlU3dpdGNoQ29udHJvbHMpXG4gICAgfVxuICB9LCBbY29udHJvbElkLCBjb250cm9sVHlwZSwgaXNOZXdBZGRDb250cm9sXSlcblxuICAvLyDmjqfku7bnsbvlnovlr7nlupTnmoTmjqfku7blkI1cbiAgY29uc3QgY29udHJvbE5hbWUgPSB1c2VHZXRDb250cm9sTmFtZShmaWVsZClcblxuICAvLyDmjqfku7bnsbvlnovlr7nlupTnmoTlm77moIdcbiAgY29uc3QgY29udHJvbEljb24gPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIWNvbnRyb2xUeXBlKSByZXR1cm5cbiAgICByZXR1cm4gZ2V0Q29udHJvbEljb25NYXAoY29udHJvbFR5cGUpXG4gIH0sIFtjb250cm9sVHlwZSwgZ2V0Q29udHJvbEljb25NYXBdKVxuXG4gIGNvbnN0IGhhbmRsZUNsaWNrQ29udGV4dE1lbnVJdGVtID0gKHR5cGUpID0+IHtcbiAgICBpZiAoIXR5cGUpIHtcbiAgICAgIGNvbnNvbGUud2Fybign5o6n5Lu257G75Z6L5Li656m6JylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxldCBjdXJyZW50VHlwZU5hbWUgPSAnJ1xuICAgIGlmIChpc1JlZkJpbGwoY29udHJvbFR5cGUpKSB7XG4gICAgICAvLyDkuJrliqHlhbPogZTooajljZXnmoTnsbvlnovmmK9cIk5vQ29kZU11bFJlZkJpbGxGaWVsZF/lhbPogZTooajljZVpZFwi55qE77yM5L2G5piv5L+d5a2Y6L+H5ZCO6L+U5Zue5p2l5Y+q5pyJdHlwZe+8jOi/memHjOWBmuS4i+WFvOWuuVxuICAgICAgY3VycmVudFR5cGVOYW1lID0gbWV0YUFwaS5nZXRDb250cm9sTWV0YShgJHtjb250cm9sVHlwZX1fJHtiaWxsRW50aXR5SWR9YCkuTmFtZVxuICAgICAgLy8g5YWz6IGU6KGo5Y2V5LmL5YmN5YiH5o2i6L+H6KGo5qC85qih5byP5pe277yM6ZyA6KaB5bCG6ZqQ6JeP55qE6KGo5qC85Yig6ZmkXG4gICAgICBpZiAoZmllbGQ/LlJlZlRhYmxlSWQpIHtcbiAgICAgICAgY29uc3QgY2FjaGVEYXRhID0geyAuLi5nZXRIaWRlRmllbGRSZWYoKSB9XG4gICAgICAgIGNvbnN0IG5ld0RhdGEgPSBPYmplY3QudmFsdWVzKGNhY2hlRGF0YSkucmVkdWNlKChyZXN1bHQ6YW55LCBpdGVtOmFueSkgPT4ge1xuICAgICAgICAgIHJldHVybiBpdGVtLlBhcmVudElkICE9PSBmaWVsZD8uUmVmVGFibGVJZCAmJiBpdGVtLklkICE9PSBmaWVsZD8uUmVmVGFibGVJZCA/IHsgLi4ucmVzdWx0LCBbaXRlbS5JZF06IGl0ZW0gfSA6IHJlc3VsdFxuICAgICAgICB9LCB7fSlcbiAgICAgICAgc2V0SGlkZUZpZWxkUmVmKG5ld0RhdGEpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRUeXBlTmFtZSA9IG1ldGFBcGkuZ2V0Q29udHJvbE1ldGEoY29udHJvbFR5cGUpLk5hbWVcbiAgICB9XG5cbiAgICAvLyDliKTmlq3liIfmjaLnu4Tku7bnsbvlnovml7bvvIzmmK/lkKbpnIDopoHmlLnlkI3np7BcbiAgICBjb25zdCBuZWVkVXBkYXRlTmFtZSA9IChjdXJyZW50VHlwZU5hbWUgfHwgTmFtZSkgPT09IE5hbWVcbiAgICBjb25zdCBuZXdOYW1lID0gbWV0YUFwaS5nZXRDb250cm9sTWV0YSh0eXBlKS5OYW1lXG4gICAgY29uc3QgdXBkYXRlUHJvcCA9IG5lZWRVcGRhdGVOYW1lID8geyBOYW1lOiBuZXdOYW1lIH0gOiB7fVxuXG4gICAgZGF0YUNvbnRleHQuYmF0Y2hVcGRhdGVDb250cm9sUHJvcGVydHlWYWx1ZXMoY3JlYXRlVXBkYXRlQWN0aW9uKFtbY29udHJvbElkLCB7XG4gICAgICBbRmllbGRUeXBlXTogdHlwZSxcbiAgICAgIC4uLnVwZGF0ZVByb3BcbiAgICB9XV0pKS50aGVuKCgpID0+IHtcbiAgICAgIHNlbGVjdGlvbkNvbnRleHQuc2V0U2VsZWN0KFtjb250cm9sSWRdKVxuXG4gICAgICAvLyDliIfmjaLnu4Tku7bnmoTml7blgJnpnIDopoHmiorljp/mnInnmoTplJnor6/muIXpmaRcbiAgICAgIGlmIChlcnJvckNvbnRleHQuZ2V0RXJyb3IoY29udHJvbElkKSkge1xuICAgICAgICBlcnJvckNvbnRleHQuZGVsZXRlRXJyb3IoW2NvbnRyb2xJZF0pXG4gICAgICB9XG4gICAgICBzZXRWaXNpYmxlKGZhbHNlKVxuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+WIh+aNoue7hOS7tuWksei0pScsIGVycilcbiAgICB9KVxuICB9XG5cbiAgY29uc3QgY29udGV4dE1lbnVQYW5lbFByZWZpeENscyA9IGAke3ByZWZpeENsc31fY29udGV4dG1lbnVfcGFuZWxgXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc05hbWUsICdzd2l0Y2hmaWVsZCcpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdzd2l0Y2hmaWVsZF9jb250ZW50Jz5cbiAgICAgICAge2NvbnRyb2xJY29uICYmIDxJY29uIHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPXtjb250cm9sSWNvbn0gY2xhc3NOYW1lPSdzd2l0Y2hmaWVsZF9jb250ZW50X2ljb24nIC8+fVxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3N3aXRjaGZpZWxkX2NvbnRlbnRfbmFtZSc+eyFjb250cm9sVHlwZSA/ICfmibnph4/nvJbovpEnIDogKGNvbnRyb2xOYW1lIHx8ICcnKX08L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIHtcbiAgICAgICAgc3dpdGNoRmllbGRWaXNpYmxlICYmIChcbiAgICAgICAgICA8RHJvcERvd25QYW5lbFxuICAgICAgICAgICAgc2Nyb2xsSGlkZGVuXG4gICAgICAgICAgICBwb3BwZXJDbGFzc05hbWU9e2Ake3ByZWZpeENsc31fY29udGV4dG1lbnVgfVxuICAgICAgICAgICAgLy8gcmVmPXt0cmlnZ2VyUmVmfVxuICAgICAgICAgICAgdmlzaWJsZT17dmlzaWJsZX1cbiAgICAgICAgICAgIG9uVmlzaWJsZUNoYW5nZT17KHZpc2libGUpID0+IHNldFZpc2libGUodmlzaWJsZSl9XG4gICAgICAgICAgICBwbGFjZW1lbnQ9J2JvdHRvbUxlZnQnXG4gICAgICAgICAgICBjb250ZW50PXt2aXNpYmxlICYmIChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHJlZj17cGFuZWxSZWZ9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjb250ZXh0TWVudVBhbmVsUHJlZml4Q2xzfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgY29udHJvbHMubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZTogc3RyaW5nID0gJydcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWU6IHN0cmluZyA9ICcnXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gaXRlbS5JZFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBpdGVtLk5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gaXRlbVxuICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBtZXRhQXBpLmdldENvbnRyb2xNZXRhKHR5cGUpPy5OYW1lXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXt0eXBlfSB0aXRsZT17bmFtZX0gY2xhc3NOYW1lPXtgJHtjb250ZXh0TWVudVBhbmVsUHJlZml4Q2xzfV9pdGVtYH0gb25DbGljaz17KCkgPT4gaGFuZGxlQ2xpY2tDb250ZXh0TWVudUl0ZW0odHlwZSl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gcHJlZml4PSdkZXNpZ25lcmljb24nIHR5cGU9e2dldENvbnRyb2xJY29uTWFwKHR5cGUpfSBjbGFzc05hbWU9J25vY29kZS1kZXNpZ25lci1jb250cm9sLWljb24nIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9e2Ake2NvbnRleHRNZW51UGFuZWxQcmVmaXhDbHN9X2l0ZW1fdGV4dGB9PntuYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3dpdGNoZmllbGRfYWN0aW9uJz5cbiAgICAgICAgICAgICAgPEljb24gcHJlZml4PSdkZXNpZ25lcmljb24nIHR5cGU9J3FpZWh1YW4nIGNsYXNzTmFtZT0nb3BlcmF0aW9uLWJhci1uYW1lLWljb24nIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc3dpdGNoZmllbGRfYWN0aW9uX3RleHQnPui9rOaNojwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRHJvcERvd25QYW5lbD5cbiAgICAgICAgKVxuICAgICAgfVxuICAgIDwvZGl2PlxuICApXG59KVxuXG5Td2l0Y2hGaWVsZC5kaXNwbGF5TmFtZSA9ICdTd2l0Y2hGaWVsZCdcblxuZXhwb3J0IGRlZmF1bHQgU3dpdGNoRmllbGRcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///82796\n");

/***/ }),

/***/ 82964:
/*!*************************************!*\
  !*** ./src/constants/actionName.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE_BIZ_RULE: function() { return /* binding */ DELETE_BIZ_RULE; },\n/* harmony export */   DELETE_FORM_RULE: function() { return /* binding */ DELETE_FORM_RULE; },\n/* harmony export */   GET_AVAILABLE_ASSOCIATION_FIELDS: function() { return /* binding */ GET_AVAILABLE_ASSOCIATION_FIELDS; },\n/* harmony export */   GET_SVG_LINE: function() { return /* binding */ GET_SVG_LINE; },\n/* harmony export */   REF_BILL_EDITOR_VALUE_CHANGE: function() { return /* binding */ REF_BILL_EDITOR_VALUE_CHANGE; },\n/* harmony export */   SET_AVAILABLE_ASSOCIATION_FIELDS: function() { return /* binding */ SET_AVAILABLE_ASSOCIATION_FIELDS; },\n/* harmony export */   SET_BIZ_RULES: function() { return /* binding */ SET_BIZ_RULES; },\n/* harmony export */   SET_DEFVALUE_FOR_FORMULA: function() { return /* binding */ SET_DEFVALUE_FOR_FORMULA; },\n/* harmony export */   SET_FORM_AND_ENTITY_META_DATA: function() { return /* binding */ SET_FORM_AND_ENTITY_META_DATA; },\n/* harmony export */   SET_FORM_RULES: function() { return /* binding */ SET_FORM_RULES; },\n/* harmony export */   SET_INPUT_CONTENT: function() { return /* binding */ SET_INPUT_CONTENT; },\n/* harmony export */   SET_INPUT_FORM: function() { return /* binding */ SET_INPUT_FORM; },\n/* harmony export */   SET_LIST_TREE_CONFIG: function() { return /* binding */ SET_LIST_TREE_CONFIG; },\n/* harmony export */   SET_REF_BILL_DATA: function() { return /* binding */ SET_REF_BILL_DATA; },\n/* harmony export */   SET_REF_BILL_TREE_DATA: function() { return /* binding */ SET_REF_BILL_TREE_DATA; },\n/* harmony export */   SET_REF_PROP_DISP: function() { return /* binding */ SET_REF_PROP_DISP; },\n/* harmony export */   SET_RULE_INFO: function() { return /* binding */ SET_RULE_INFO; },\n/* harmony export */   SET_SWITCH_FIELD_TYPES: function() { return /* binding */ SET_SWITCH_FIELD_TYPES; },\n/* harmony export */   SET_TREE_NODE_CHILDREN: function() { return /* binding */ SET_TREE_NODE_CHILDREN; },\n/* harmony export */   SHOW_DESIGNER_ERROR: function() { return /* binding */ SHOW_DESIGNER_ERROR; },\n/* harmony export */   UPDATE_ASSOCIATION: function() { return /* binding */ UPDATE_ASSOCIATION; }\n/* harmony export */ });\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-05-25 19:17:49\n * @LastEditTime: 2023-06-07 14:52:27\n * @Last Modified by: jianhang_he\n */\n/**\n * 用于存放指令名称常量\n */\nvar SET_LIST_TREE_CONFIG = 'setListTreeConfig'; // 设置字段树数据\n\nvar SET_FORM_RULES = 'setFormRules'; // 查询显示规则列表\n\nvar SET_RULE_INFO = 'setRuleInfo'; // 更新单条规则的信息\n\nvar DELETE_FORM_RULE = 'deleteFormRule'; // 删除单条规则\n\nvar SET_BIZ_RULES = 'setBizRules'; // 查询“查找表单记录”规则列表\n\nvar DELETE_BIZ_RULE = 'deleteBizRule'; // 删除单条'查找表单记录'\n\nvar SET_REF_BILL_DATA = 'setRefBillData'; // 指令-表单数据\n\nvar SET_REF_BILL_TREE_DATA = 'setRefBillTreeData';\nvar SET_TREE_NODE_CHILDREN = 'setTreeNodeChildren'; // 懒加载应用的子节点\n\nvar SET_INPUT_FORM = 'setInputForm'; // 设置可添加表单\n\nvar SET_REF_PROP_DISP = 'setRefPropDisp'; // 指令-表单属性\n\nvar SET_INPUT_CONTENT = 'setInputContent'; // 指令-表单属性\n\nvar GET_SVG_LINE = 'getSvgLine'; // 获取线性图标\n\nvar REF_BILL_EDITOR_VALUE_CHANGE = 'refBillEditorValueChange'; // 关联表单-表单数据变化-级联\n\nvar SET_SWITCH_FIELD_TYPES = 'setSwitchFieldTypes'; // 切换组件类型\n\nvar SHOW_DESIGNER_ERROR = 'showDesignerError';\nvar SET_DEFVALUE_FOR_FORMULA = 'setDefValueForFormula';\nvar SET_AVAILABLE_ASSOCIATION_FIELDS = 'setAvailableAssociationFields'; // 获取可双向关联的回调指令\nvar GET_AVAILABLE_ASSOCIATION_FIELDS = 'getAvailableAssociationFields'; // 获取可双向关联字段\nvar UPDATE_ASSOCIATION = 'updateAssociation'; // 更新双向关联\n\nvar SET_FORM_AND_ENTITY_META_DATA = 'loadDesignerMetadata'; // 更新双向关联//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODI5NjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvY29uc3RhbnRzL2FjdGlvbk5hbWUudHM/MjIzMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIzLTA1LTI1IDE5OjE3OjQ5XG4gKiBATGFzdEVkaXRUaW1lOiAyMDIzLTA2LTA3IDE0OjUyOjI3XG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuLyoqXG4gKiDnlKjkuo7lrZjmlL7mjIfku6TlkI3np7DluLjph49cbiAqL1xuZXhwb3J0IGNvbnN0IFNFVF9MSVNUX1RSRUVfQ09ORklHID0gJ3NldExpc3RUcmVlQ29uZmlnJyAvLyDorr7nva7lrZfmrrXmoJHmlbDmja5cblxuZXhwb3J0IGNvbnN0IFNFVF9GT1JNX1JVTEVTID0gJ3NldEZvcm1SdWxlcycgLy8g5p+l6K+i5pi+56S66KeE5YiZ5YiX6KGoXG5cbmV4cG9ydCBjb25zdCBTRVRfUlVMRV9JTkZPID0gJ3NldFJ1bGVJbmZvJyAvLyDmm7TmlrDljZXmnaHop4TliJnnmoTkv6Hmga9cblxuZXhwb3J0IGNvbnN0IERFTEVURV9GT1JNX1JVTEUgPSAnZGVsZXRlRm9ybVJ1bGUnIC8vIOWIoOmZpOWNleadoeinhOWImVxuXG5leHBvcnQgY29uc3QgU0VUX0JJWl9SVUxFUyA9ICdzZXRCaXpSdWxlcycgLy8g5p+l6K+i4oCc5p+l5om+6KGo5Y2V6K6w5b2V4oCd6KeE5YiZ5YiX6KGoXG5cbmV4cG9ydCBjb25zdCBERUxFVEVfQklaX1JVTEUgPSAnZGVsZXRlQml6UnVsZScgLy8g5Yig6Zmk5Y2V5p2hJ+afpeaJvuihqOWNleiusOW9lSdcblxuZXhwb3J0IGNvbnN0IFNFVF9SRUZfQklMTF9EQVRBID0gJ3NldFJlZkJpbGxEYXRhJyAvLyDmjIfku6Qt6KGo5Y2V5pWw5o2uXG5cbmV4cG9ydCBjb25zdCBTRVRfUkVGX0JJTExfVFJFRV9EQVRBID0gJ3NldFJlZkJpbGxUcmVlRGF0YSdcblxuZXhwb3J0IGNvbnN0IFNFVF9UUkVFX05PREVfQ0hJTERSRU4gPSAnc2V0VHJlZU5vZGVDaGlsZHJlbicgLy8g5oeS5Yqg6L295bqU55So55qE5a2Q6IqC54K5XG5cbmV4cG9ydCBjb25zdCBTRVRfSU5QVVRfRk9STSA9ICdzZXRJbnB1dEZvcm0nIC8vIOiuvue9ruWPr+a3u+WKoOihqOWNlVxuXG5leHBvcnQgY29uc3QgU0VUX1JFRl9QUk9QX0RJU1AgPSAnc2V0UmVmUHJvcERpc3AnIC8vIOaMh+S7pC3ooajljZXlsZ7mgKdcblxuZXhwb3J0IGNvbnN0IFNFVF9JTlBVVF9DT05URU5UID0gJ3NldElucHV0Q29udGVudCcgLy8g5oyH5LukLeihqOWNleWxnuaAp1xuXG5leHBvcnQgY29uc3QgR0VUX1NWR19MSU5FID0gJ2dldFN2Z0xpbmUnIC8vIOiOt+WPlue6v+aAp+Wbvuagh1xuXG5leHBvcnQgY29uc3QgUkVGX0JJTExfRURJVE9SX1ZBTFVFX0NIQU5HRSA9ICdyZWZCaWxsRWRpdG9yVmFsdWVDaGFuZ2UnIC8vIOWFs+iBlOihqOWNlS3ooajljZXmlbDmja7lj5jljJYt57qn6IGUXG5cbmV4cG9ydCBjb25zdCBTRVRfU1dJVENIX0ZJRUxEX1RZUEVTID0gJ3NldFN3aXRjaEZpZWxkVHlwZXMnIC8vIOWIh+aNoue7hOS7tuexu+Wei1xuXG5leHBvcnQgY29uc3QgU0hPV19ERVNJR05FUl9FUlJPUiA9ICdzaG93RGVzaWduZXJFcnJvcidcblxuZXhwb3J0IGNvbnN0IFNFVF9ERUZWQUxVRV9GT1JfRk9STVVMQSA9ICdzZXREZWZWYWx1ZUZvckZvcm11bGEnXG5cbmV4cG9ydCBjb25zdCBTRVRfQVZBSUxBQkxFX0FTU09DSUFUSU9OX0ZJRUxEUyA9ICdzZXRBdmFpbGFibGVBc3NvY2lhdGlvbkZpZWxkcycgLy8g6I635Y+W5Y+v5Y+M5ZCR5YWz6IGU55qE5Zue6LCD5oyH5LukXG5leHBvcnQgY29uc3QgR0VUX0FWQUlMQUJMRV9BU1NPQ0lBVElPTl9GSUVMRFMgPSAnZ2V0QXZhaWxhYmxlQXNzb2NpYXRpb25GaWVsZHMnIC8vIOiOt+WPluWPr+WPjOWQkeWFs+iBlOWtl+autVxuZXhwb3J0IGNvbnN0IFVQREFURV9BU1NPQ0lBVElPTiA9ICd1cGRhdGVBc3NvY2lhdGlvbicgLy8g5pu05paw5Y+M5ZCR5YWz6IGUXG5cbmV4cG9ydCBjb25zdCBTRVRfRk9STV9BTkRfRU5USVRZX01FVEFfREFUQSA9ICdsb2FkRGVzaWduZXJNZXRhZGF0YScgLy8g5pu05paw5Y+M5ZCR5YWz6IGUXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///82964\n");

/***/ }),

/***/ 24788:
/*!**********************************!*\
  !*** ./src/constants/control.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TEXT_STATUS_ENUM: function() { return /* binding */ TEXT_STATUS_ENUM; }\n/* harmony export */ });\n/*\n * @Description: 控件相关的变量声明\n * @Author: jianhang_he\n * @Date: 2022-08-18 16:00:15\n * @LastEditTime: 2022-08-29 15:33:34\n * @Last Modified by: jianhang_he\n */\n\n// 1普通 2禁用 3只读 4隐藏\nvar TEXT_STATUS_ENUM = /*#__PURE__*/function (TEXT_STATUS_ENUM) {\n  TEXT_STATUS_ENUM[\"DEFAULT\"] = \"1\";\n  TEXT_STATUS_ENUM[\"DISABLED\"] = \"2\";\n  TEXT_STATUS_ENUM[\"READONLY\"] = \"3\";\n  TEXT_STATUS_ENUM[\"HIDDEN\"] = \"4\";\n  return TEXT_STATUS_ENUM;\n}({});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQ3ODguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvY29uc3RhbnRzL2NvbnRyb2wudHM/YWZkOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOiDmjqfku7bnm7jlhbPnmoTlj5jph4/lo7DmmI5cbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0wOC0xOCAxNjowMDoxNVxuICogQExhc3RFZGl0VGltZTogMjAyMi0wOC0yOSAxNTozMzozNFxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cblxuLy8gMeaZrumAmiAy56aB55SoIDPlj6ror7sgNOmakOiXj1xuZXhwb3J0IGVudW0gVEVYVF9TVEFUVVNfRU5VTSB7XG4gIERFRkFVTFQgPSAnMScsXG4gIERJU0FCTEVEID0gJzInLFxuICBSRUFET05MWSA9ICczJyxcbiAgSElEREVOID0gJzQnXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///24788\n");

/***/ }),

/***/ 64536:
/*!****************************************!*\
  !*** ./src/constants/dataAttribute.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dataAuxiliaryLine: function() { return /* binding */ dataAuxiliaryLine; },\n/* harmony export */   dataBatchFormat: function() { return /* binding */ dataBatchFormat; },\n/* harmony export */   dataBottomDragStyle: function() { return /* binding */ dataBottomDragStyle; },\n/* harmony export */   dataChangeName: function() { return /* binding */ dataChangeName; },\n/* harmony export */   dataControlId: function() { return /* binding */ dataControlId; },\n/* harmony export */   dataCutControl: function() { return /* binding */ dataCutControl; },\n/* harmony export */   dataDefaultDragStyle: function() { return /* binding */ dataDefaultDragStyle; },\n/* harmony export */   dataDirection: function() { return /* binding */ dataDirection; },\n/* harmony export */   dataDragControlIds: function() { return /* binding */ dataDragControlIds; },\n/* harmony export */   dataDragId: function() { return /* binding */ dataDragId; },\n/* harmony export */   dataDragOverStyle: function() { return /* binding */ dataDragOverStyle; },\n/* harmony export */   dataDragTreeAffectedControl: function() { return /* binding */ dataDragTreeAffectedControl; },\n/* harmony export */   dataGroupContainerOver: function() { return /* binding */ dataGroupContainerOver; },\n/* harmony export */   dataHidden: function() { return /* binding */ dataHidden; },\n/* harmony export */   dataIsContainer: function() { return /* binding */ dataIsContainer; },\n/* harmony export */   dataIsDragging: function() { return /* binding */ dataIsDragging; },\n/* harmony export */   dataLTDragStyle: function() { return /* binding */ dataLTDragStyle; },\n/* harmony export */   dataLeftDragStyle: function() { return /* binding */ dataLeftDragStyle; },\n/* harmony export */   dataMouseOver: function() { return /* binding */ dataMouseOver; },\n/* harmony export */   dataOriginFormat: function() { return /* binding */ dataOriginFormat; },\n/* harmony export */   dataOutlineDragTreeNode: function() { return /* binding */ dataOutlineDragTreeNode; },\n/* harmony export */   dataRBDragStyle: function() { return /* binding */ dataRBDragStyle; },\n/* harmony export */   dataRightDragStyle: function() { return /* binding */ dataRightDragStyle; },\n/* harmony export */   dataSelection: function() { return /* binding */ dataSelection; },\n/* harmony export */   dataTopDragStyle: function() { return /* binding */ dataTopDragStyle; }\n/* harmony export */ });\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-06-17 17:24:07\n * @LastEditTime: 2023-10-13 16:02:36\n * @Last Modified by: jianhang_he\n */\n// 控件对应的唯一ID\nvar dataControlId = 'data-control-id';\n\n// 控件拖拽id\nvar dataDragId = 'data-drag-id';\n\n// 主视图-控件拖拽到容器上方时，默认显示的样子\nvar dataDragOverStyle = 'data-drag-over';\n\n// 控件选中\nvar dataSelection = 'data-selection';\n\n// 鼠标划入(hover效果)\nvar dataMouseOver = 'data-mouse-over';\n\n// 执行剪切操作的控件\nvar dataCutControl = 'data-cut-control';\n\n// 辅助线效果\nvar dataAuxiliaryLine = 'data-auxiliary-line';\n\n// 格式刷的源控件\nvar dataOriginFormat = 'data-origin-format';\n\n// 双击格式刷\nvar dataBatchFormat = 'data-batch-format';\n\n// 主视图拖拽\nvar dataIsDragging = 'data-is-dragging';\n\n// 判断是否是容器\nvar dataIsContainer = 'data-is-container';\n\n// 主视图-控件拖拽到容器上方时，默认显示的样子\nvar dataDefaultDragStyle = 'data-default-drag-style';\n\n// 主视图-控件在右下方\nvar dataRBDragStyle = 'data-r-b-drag-style';\n\n// 主视图-控件在左上方\nvar dataLTDragStyle = 'data-l-t-drag-style';\n\n// 主视图-控件拖拽线条在左方\nvar dataLeftDragStyle = 'data-left-drag-style';\n\n// 主视图-控件拖拽线条在右方\nvar dataRightDragStyle = 'data-right-drag-style';\n\n// 主视图-控件拖拽线条在上方\nvar dataTopDragStyle = 'data-top-drag-style';\n\n// 主视图-控件拖拽线条在下方\nvar dataBottomDragStyle = 'data-bottom-drag-style';\n\n// 拖拽的方向\nvar dataDirection = 'data-drag-direction';\n\n// 拖拽树影响主视图\nvar dataDragTreeAffectedControl = 'data-drag-tree-affected-control';\n\n// 大纲树-拖拽的节点\nvar dataOutlineDragTreeNode = 'data-outline-drag-tree-node';\n\n// 鼠标拖拽移入分组容器\nvar dataGroupContainerOver = 'data-group-container-over';\n\n// 用于标识修改名称的dom\nvar dataChangeName = 'data-change-name';\n\n// 用于标记控件是否是隐藏态\nvar dataHidden = 'data-hidden';\nvar dataDragControlIds = 'data-drag-control-ids';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQ1MzYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9jb25zdGFudHMvZGF0YUF0dHJpYnV0ZS50cz8wMjBiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDYtMTcgMTc6MjQ6MDdcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMTAtMTMgMTY6MDI6MzZcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG4vLyDmjqfku7blr7nlupTnmoTllK/kuIBJRFxuZXhwb3J0IGNvbnN0IGRhdGFDb250cm9sSWQgPSAnZGF0YS1jb250cm9sLWlkJ1xuXG4vLyDmjqfku7bmi5bmi71pZFxuZXhwb3J0IGNvbnN0IGRhdGFEcmFnSWQgPSAnZGF0YS1kcmFnLWlkJ1xuXG4vLyDkuLvop4blm74t5o6n5Lu25ouW5ou95Yiw5a655Zmo5LiK5pa55pe277yM6buY6K6k5pi+56S655qE5qC35a2QXG5leHBvcnQgY29uc3QgZGF0YURyYWdPdmVyU3R5bGUgPSAnZGF0YS1kcmFnLW92ZXInXG5cbi8vIOaOp+S7tumAieS4rVxuZXhwb3J0IGNvbnN0IGRhdGFTZWxlY3Rpb24gPSAnZGF0YS1zZWxlY3Rpb24nXG5cbi8vIOm8oOagh+WIkuWFpShob3ZlcuaViOaenClcbmV4cG9ydCBjb25zdCBkYXRhTW91c2VPdmVyID0gJ2RhdGEtbW91c2Utb3ZlcidcblxuLy8g5omn6KGM5Ymq5YiH5pON5L2c55qE5o6n5Lu2XG5leHBvcnQgY29uc3QgZGF0YUN1dENvbnRyb2wgPSAnZGF0YS1jdXQtY29udHJvbCdcblxuLy8g6L6F5Yqp57q/5pWI5p6cXG5leHBvcnQgY29uc3QgZGF0YUF1eGlsaWFyeUxpbmUgPSAnZGF0YS1hdXhpbGlhcnktbGluZSdcblxuLy8g5qC85byP5Yi355qE5rqQ5o6n5Lu2XG5leHBvcnQgY29uc3QgZGF0YU9yaWdpbkZvcm1hdCA9ICdkYXRhLW9yaWdpbi1mb3JtYXQnXG5cbi8vIOWPjOWHu+agvOW8j+WIt1xuZXhwb3J0IGNvbnN0IGRhdGFCYXRjaEZvcm1hdCA9ICdkYXRhLWJhdGNoLWZvcm1hdCdcblxuLy8g5Li76KeG5Zu+5ouW5ou9XG5leHBvcnQgY29uc3QgZGF0YUlzRHJhZ2dpbmcgPSAnZGF0YS1pcy1kcmFnZ2luZydcblxuLy8g5Yik5pat5piv5ZCm5piv5a655ZmoXG5leHBvcnQgY29uc3QgZGF0YUlzQ29udGFpbmVyID0gJ2RhdGEtaXMtY29udGFpbmVyJ1xuXG4vLyDkuLvop4blm74t5o6n5Lu25ouW5ou95Yiw5a655Zmo5LiK5pa55pe277yM6buY6K6k5pi+56S655qE5qC35a2QXG5leHBvcnQgY29uc3QgZGF0YURlZmF1bHREcmFnU3R5bGUgPSAnZGF0YS1kZWZhdWx0LWRyYWctc3R5bGUnXG5cbi8vIOS4u+inhuWbvi3mjqfku7blnKjlj7PkuIvmlrlcbmV4cG9ydCBjb25zdCBkYXRhUkJEcmFnU3R5bGUgPSAnZGF0YS1yLWItZHJhZy1zdHlsZSdcblxuLy8g5Li76KeG5Zu+LeaOp+S7tuWcqOW3puS4iuaWuVxuZXhwb3J0IGNvbnN0IGRhdGFMVERyYWdTdHlsZSA9ICdkYXRhLWwtdC1kcmFnLXN0eWxlJ1xuXG4vLyDkuLvop4blm74t5o6n5Lu25ouW5ou957q/5p2h5Zyo5bem5pa5XG5leHBvcnQgY29uc3QgZGF0YUxlZnREcmFnU3R5bGUgPSAnZGF0YS1sZWZ0LWRyYWctc3R5bGUnXG5cbi8vIOS4u+inhuWbvi3mjqfku7bmi5bmi73nur/mnaHlnKjlj7PmlrlcbmV4cG9ydCBjb25zdCBkYXRhUmlnaHREcmFnU3R5bGUgPSAnZGF0YS1yaWdodC1kcmFnLXN0eWxlJ1xuXG4vLyDkuLvop4blm74t5o6n5Lu25ouW5ou957q/5p2h5Zyo5LiK5pa5XG5leHBvcnQgY29uc3QgZGF0YVRvcERyYWdTdHlsZSA9ICdkYXRhLXRvcC1kcmFnLXN0eWxlJ1xuXG4vLyDkuLvop4blm74t5o6n5Lu25ouW5ou957q/5p2h5Zyo5LiL5pa5XG5leHBvcnQgY29uc3QgZGF0YUJvdHRvbURyYWdTdHlsZSA9ICdkYXRhLWJvdHRvbS1kcmFnLXN0eWxlJ1xuXG4vLyDmi5bmi73nmoTmlrnlkJFcbmV4cG9ydCBjb25zdCBkYXRhRGlyZWN0aW9uID0gJ2RhdGEtZHJhZy1kaXJlY3Rpb24nXG5cbi8vIOaLluaLveagkeW9seWTjeS4u+inhuWbvlxuZXhwb3J0IGNvbnN0IGRhdGFEcmFnVHJlZUFmZmVjdGVkQ29udHJvbCA9ICdkYXRhLWRyYWctdHJlZS1hZmZlY3RlZC1jb250cm9sJ1xuXG4vLyDlpKfnurLmoJEt5ouW5ou955qE6IqC54K5XG5leHBvcnQgY29uc3QgZGF0YU91dGxpbmVEcmFnVHJlZU5vZGUgPSAnZGF0YS1vdXRsaW5lLWRyYWctdHJlZS1ub2RlJ1xuXG4vLyDpvKDmoIfmi5bmi73np7vlhaXliIbnu4TlrrnlmahcbmV4cG9ydCBjb25zdCBkYXRhR3JvdXBDb250YWluZXJPdmVyID0gJ2RhdGEtZ3JvdXAtY29udGFpbmVyLW92ZXInXG5cbi8vIOeUqOS6juagh+ivhuS/ruaUueWQjeensOeahGRvbVxuZXhwb3J0IGNvbnN0IGRhdGFDaGFuZ2VOYW1lID0gJ2RhdGEtY2hhbmdlLW5hbWUnXG5cbi8vIOeUqOS6juagh+iusOaOp+S7tuaYr+WQpuaYr+makOiXj+aAgVxuZXhwb3J0IGNvbnN0IGRhdGFIaWRkZW4gPSAnZGF0YS1oaWRkZW4nXG5cbmV4cG9ydCBjb25zdCBkYXRhRHJhZ0NvbnRyb2xJZHMgPSAnZGF0YS1kcmFnLWNvbnRyb2wtaWRzJ1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///64536\n");

/***/ }),

/***/ 98092:
/*!********************************!*\
  !*** ./src/constants/index.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BGIMG_DESC_LIST: function() { return /* binding */ BGIMG_DESC_LIST; },\n/* harmony export */   CAN_SWITCH_FLELDTYPES: function() { return /* binding */ CAN_SWITCH_FLELDTYPES; },\n/* harmony export */   CONTROL_RETAIND_PROPS: function() { return /* binding */ CONTROL_RETAIND_PROPS; },\n/* harmony export */   ENTITY_DATA_DEFAULT_PROP: function() { return /* binding */ ENTITY_DATA_DEFAULT_PROP; },\n/* harmony export */   EXCLUDE_COMPARE_FIELD_LIST: function() { return /* binding */ EXCLUDE_COMPARE_FIELD_LIST; },\n/* harmony export */   FORBID_CHANGE_CONTRIL_TYPES: function() { return /* binding */ FORBID_CHANGE_CONTRIL_TYPES; },\n/* harmony export */   FORM_BANNER_ID: function() { return /* binding */ FORM_BANNER_ID; },\n/* harmony export */   GET_BIZ_RULE: function() { return /* binding */ GET_BIZ_RULE; },\n/* harmony export */   GET_FILTER_ITEM_LOOK: function() { return /* binding */ GET_FILTER_ITEM_LOOK; },\n/* harmony export */   LIST_CONFIG: function() { return /* binding */ LIST_CONFIG; },\n/* harmony export */   MAINVIEW_ROOT_ID: function() { return /* binding */ MAINVIEW_ROOT_ID; },\n/* harmony export */   NOCODE_ATTACHMENT_UPLOAD_FIELD: function() { return /* binding */ NOCODE_ATTACHMENT_UPLOAD_FIELD; },\n/* harmony export */   NOCODE_BILLFORM_AP: function() { return /* binding */ NOCODE_BILLFORM_AP; },\n/* harmony export */   NOCODE_BIZBUTTON_AP: function() { return /* binding */ NOCODE_BIZBUTTON_AP; },\n/* harmony export */   NOCODE_BIZBUTTON_PANEL_AP: function() { return /* binding */ NOCODE_BIZBUTTON_PANEL_AP; },\n/* harmony export */   NOCODE_DESIGNER_PREFIX_CLS: function() { return /* binding */ NOCODE_DESIGNER_PREFIX_CLS; },\n/* harmony export */   NOCODE_ENTRY_ENTITY: function() { return /* binding */ NOCODE_ENTRY_ENTITY; },\n/* harmony export */   NOCODE_GROUP_CONTAINER_AP: function() { return /* binding */ NOCODE_GROUP_CONTAINER_AP; },\n/* harmony export */   NOCODE_IMAGE_UPLOAD_FIELD: function() { return /* binding */ NOCODE_IMAGE_UPLOAD_FIELD; },\n/* harmony export */   NOCODE_MUL_REF_BILL_FIELD: function() { return /* binding */ NOCODE_MUL_REF_BILL_FIELD; },\n/* harmony export */   NOCODE_REF_BILL_TABLE: function() { return /* binding */ NOCODE_REF_BILL_TABLE; },\n/* harmony export */   NOT_ENTITY_TYPE_LIST: function() { return /* binding */ NOT_ENTITY_TYPE_LIST; },\n/* harmony export */   PRIMARY_COLOR_DATA: function() { return /* binding */ PRIMARY_COLOR_DATA; },\n/* harmony export */   PROPERTY_GROUP_BUSINESS_KEY: function() { return /* binding */ PROPERTY_GROUP_BUSINESS_KEY; },\n/* harmony export */   PROPERTY_GROUP_FORMSTYLE_KEY: function() { return /* binding */ PROPERTY_GROUP_FORMSTYLE_KEY; },\n/* harmony export */   PROPERTY_GROUP_HIDE_KEY: function() { return /* binding */ PROPERTY_GROUP_HIDE_KEY; },\n/* harmony export */   PROP_TYPE_ALL: function() { return /* binding */ PROP_TYPE_ALL; },\n/* harmony export */   PROP_TYPE_AP: function() { return /* binding */ PROP_TYPE_AP; },\n/* harmony export */   PROP_TYPE_ENTITY: function() { return /* binding */ PROP_TYPE_ENTITY; },\n/* harmony export */   SAVE_BILL_SUCCESS: function() { return /* binding */ SAVE_BILL_SUCCESS; },\n/* harmony export */   SET_DEF_VALUE_FOR_QUERY_FORM: function() { return /* binding */ SET_DEF_VALUE_FOR_QUERY_FORM; },\n/* harmony export */   SET_FILTER_ITEM_LOOK: function() { return /* binding */ SET_FILTER_ITEM_LOOK; },\n/* harmony export */   SET_LIST_CONFIG: function() { return /* binding */ SET_LIST_CONFIG; },\n/* harmony export */   SYSTEM_FIELD_TYPES: function() { return /* binding */ SYSTEM_FIELD_TYPES; },\n/* harmony export */   SYS_CATEGORY_PREFIX: function() { return /* binding */ SYS_CATEGORY_PREFIX; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__);\nvar _context;\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-08-11 13:36:55\n * @LastEditTime: 2023-12-20 17:44:30\n * @Last Modified by: jianhang_he\n */\nvar NOCODE_DESIGNER_PREFIX_CLS = 'nocode-designer';\nvar ENTITY_DATA_DEFAULT_PROP = ['ParentId', 'Id'];\n\n/** ***********属性相关*************/\n\nvar PROP_TYPE_ENTITY = 'entity';\nvar PROP_TYPE_ALL = 'all';\nvar PROP_TYPE_AP = 'ap';\nvar PROPERTY_GROUP_HIDE_KEY = 'NCPG_Hide';\nvar PROPERTY_GROUP_BUSINESS_KEY = 'NCPG_Biz'; // 业务逻辑\n\nvar PROPERTY_GROUP_FORMSTYLE_KEY = 'NCPG_Style'; // 表单样式\n\nvar MAINVIEW_ROOT_ID = 'nocode-designer-main-root';\n/** ***********控件分组*************/\n\nvar SYS_CATEGORY_PREFIX = 'System_';\nvar SYSTEM_FIELD_TYPES = ['NoCodeBillNoField', 'NoCodeCreateDateField', 'NoCodeCreatorField', 'NoCodeModifyDateField', 'NoCodeModifierField'];\nvar FORM_BANNER_ID = 'nocode-designer-form-banner';\nvar CAN_SWITCH_FLELDTYPES = 'canSwitchFieldTypes'; // 可切换的字段类型\n\n/** ********** 默认值查找表单 *********************/\nvar SET_LIST_CONFIG = 'setListConfig'; // 设置列表配置\nvar LIST_CONFIG = 'listconfig'; // 列表配置\nvar GET_FILTER_ITEM_LOOK = 'getFilterItemLook'; // 获取筛选项\nvar SET_FILTER_ITEM_LOOK = 'filterItemLook'; // 设置筛选项\nvar GET_BIZ_RULE = 'getBizRule'; // 获取查找表单的规则值\nvar SET_DEF_VALUE_FOR_QUERY_FORM = 'setDefValueForQueryForm'; // 设置默认值查找表单弹窗的值\n\n// 分组容器类型\nvar NOCODE_GROUP_CONTAINER_AP = 'NoCodeGroupContainerAp';\n\n// 业务操作按钮\nvar NOCODE_BIZBUTTON_AP = 'NoCodeBizButtonAp';\n\n// 业务操作按钮面板\nvar NOCODE_BIZBUTTON_PANEL_AP = 'BizBtnFlexPanelAp';\n\n// 表单面板\nvar NOCODE_BILLFORM_AP = 'NoCodeBillFormAp';\n\n// 表格\nvar NOCODE_ENTRY_ENTITY = 'NoCodeEntryEntity';\n\n// 关联表单表格模式\nvar NOCODE_REF_BILL_TABLE = 'NoCodeRefBillTable';\n\n// 关联表单-多选选项模式\nvar NOCODE_MUL_REF_BILL_FIELD = 'NoCodeMulRefBillField';\n\n/**\n * 没有实体的类型列表\n */\nvar NOT_ENTITY_TYPE_LIST = [NOCODE_BIZBUTTON_AP, NOCODE_GROUP_CONTAINER_AP // 分组\n];\n\n// 禁止切换控件类型\nvar FORBID_CHANGE_CONTRIL_TYPES = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context = [NOCODE_REF_BILL_TABLE, NOCODE_ENTRY_ENTITY, NOCODE_GROUP_CONTAINER_AP, NOCODE_BIZBUTTON_AP]).call(_context, SYSTEM_FIELD_TYPES);\n\n// 色板颜色\nvar PRIMARY_COLOR_DATA = {\n  '#276FF5': '#F2F9FF',\n  '#16AFF1': '#F2FDFF',\n  '#16B8B0': '#F2FFFC',\n  '#FDC200': '#FFFDE6',\n  '#77C404': '#FAFFEB',\n  '#1BA854': '#F2FFF5',\n  '#FF991C': '#FFFBF2',\n  '#FF5F1F': '#FFF8F2',\n  '#FB2323': '#FFF4F2',\n  '#F90D58': '#FFF2F4',\n  '#701DF0': '#F9F2FF',\n  '#0E5FD8': '#F2F9FF'\n};\nvar BGIMG_DESC_LIST = [{\n  name: '经典',\n  primaryColor: '#276FF5'\n}, {\n  name: '都市',\n  primaryColor: '#701DF0'\n}, {\n  name: '夜幕',\n  primaryColor: '#0E5FD8'\n}, {\n  name: '沙漠',\n  primaryColor: '#FF5F1F'\n}, {\n  name: '雪山',\n  primaryColor: '#276FF5'\n}, {\n  name: '港湾',\n  primaryColor: '#F90D58'\n}, {\n  name: '高尔夫',\n  primaryColor: '#1BA854'\n}, {\n  name: '乡野',\n  primaryColor: '#16B8B0'\n}];\n\n// 图片\nvar NOCODE_IMAGE_UPLOAD_FIELD = 'NoCodeImageUploadField';\n\n// 附件\nvar NOCODE_ATTACHMENT_UPLOAD_FIELD = 'NoCodeAttachmentUploadField';\n\n// 排除比较的字段\nvar EXCLUDE_COMPARE_FIELD_LIST = [NOCODE_BILLFORM_AP,\n// NOCODE_IMAGE_UPLOAD_FIELD,\n// NOCODE_ATTACHMENT_UPLOAD_FIELD,\nNOCODE_GROUP_CONTAINER_AP, NOCODE_BIZBUTTON_AP, NOCODE_BIZBUTTON_PANEL_AP, NOCODE_ENTRY_ENTITY];\nvar CONTROL_RETAIND_PROPS = ['UploadDefValue', 'PictureDefValue', 'NoCodeDefValue', 'FieldRequired', 'Status', 'Visibility'];\nvar SAVE_BILL_SUCCESS = 'saveBillSuccess';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTgwOTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBOztBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUVBO0FBRUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBR0E7QUFDQTs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQU1BO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvY29uc3RhbnRzL2luZGV4LnRzPzhmMTIiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0wOC0xMSAxMzozNjo1NVxuICogQExhc3RFZGl0VGltZTogMjAyMy0xMi0yMCAxNzo0NDozMFxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmV4cG9ydCBjb25zdCBOT0NPREVfREVTSUdORVJfUFJFRklYX0NMUyA9ICdub2NvZGUtZGVzaWduZXInXG5cbmV4cG9ydCBjb25zdCBFTlRJVFlfREFUQV9ERUZBVUxUX1BST1AgPSBbJ1BhcmVudElkJywgJ0lkJ11cblxuLyoqICoqKioqKioqKioq5bGe5oCn55u45YWzKioqKioqKioqKioqKi9cblxuZXhwb3J0IGNvbnN0IFBST1BfVFlQRV9FTlRJVFkgPSAnZW50aXR5J1xuXG5leHBvcnQgY29uc3QgUFJPUF9UWVBFX0FMTCA9ICdhbGwnXG5cbmV4cG9ydCBjb25zdCBQUk9QX1RZUEVfQVAgPSAnYXAnXG5cbmV4cG9ydCBjb25zdCBQUk9QRVJUWV9HUk9VUF9ISURFX0tFWSA9ICdOQ1BHX0hpZGUnXG5cbmV4cG9ydCBjb25zdCBQUk9QRVJUWV9HUk9VUF9CVVNJTkVTU19LRVkgPSAnTkNQR19CaXonLy8g5Lia5Yqh6YC76L6RXG5cbmV4cG9ydCBjb25zdCBQUk9QRVJUWV9HUk9VUF9GT1JNU1RZTEVfS0VZID0gJ05DUEdfU3R5bGUnIC8vIOihqOWNleagt+W8j1xuXG5leHBvcnQgY29uc3QgTUFJTlZJRVdfUk9PVF9JRCA9ICdub2NvZGUtZGVzaWduZXItbWFpbi1yb290J1xuLyoqICoqKioqKioqKioq5o6n5Lu25YiG57uEKioqKioqKioqKioqKi9cblxuZXhwb3J0IGNvbnN0IFNZU19DQVRFR09SWV9QUkVGSVggPSAnU3lzdGVtXydcblxuZXhwb3J0IGNvbnN0IFNZU1RFTV9GSUVMRF9UWVBFUyA9IFsnTm9Db2RlQmlsbE5vRmllbGQnLCAnTm9Db2RlQ3JlYXRlRGF0ZUZpZWxkJywgJ05vQ29kZUNyZWF0b3JGaWVsZCcsICdOb0NvZGVNb2RpZnlEYXRlRmllbGQnLCAnTm9Db2RlTW9kaWZpZXJGaWVsZCddXG5cbmV4cG9ydCBjb25zdCBGT1JNX0JBTk5FUl9JRCA9ICdub2NvZGUtZGVzaWduZXItZm9ybS1iYW5uZXInXG5cbmV4cG9ydCBjb25zdCBDQU5fU1dJVENIX0ZMRUxEVFlQRVMgPSAnY2FuU3dpdGNoRmllbGRUeXBlcycgLy8g5Y+v5YiH5o2i55qE5a2X5q6157G75Z6LXG5cbi8qKiAqKioqKioqKioqIOm7mOiupOWAvOafpeaJvuihqOWNlSAqKioqKioqKioqKioqKioqKioqKiovXG5leHBvcnQgY29uc3QgU0VUX0xJU1RfQ09ORklHID0gJ3NldExpc3RDb25maWcnIC8vIOiuvue9ruWIl+ihqOmFjee9rlxuZXhwb3J0IGNvbnN0IExJU1RfQ09ORklHID0gJ2xpc3Rjb25maWcnIC8vIOWIl+ihqOmFjee9rlxuZXhwb3J0IGNvbnN0IEdFVF9GSUxURVJfSVRFTV9MT09LID0gJ2dldEZpbHRlckl0ZW1Mb29rJyAvLyDojrflj5bnrZvpgInpoblcbmV4cG9ydCBjb25zdCBTRVRfRklMVEVSX0lURU1fTE9PSyA9ICdmaWx0ZXJJdGVtTG9vaycgLy8g6K6+572u562b6YCJ6aG5XG5leHBvcnQgY29uc3QgR0VUX0JJWl9SVUxFID0gJ2dldEJpelJ1bGUnIC8vIOiOt+WPluafpeaJvuihqOWNleeahOinhOWImeWAvFxuZXhwb3J0IGNvbnN0IFNFVF9ERUZfVkFMVUVfRk9SX1FVRVJZX0ZPUk0gPSAnc2V0RGVmVmFsdWVGb3JRdWVyeUZvcm0nIC8vIOiuvue9rum7mOiupOWAvOafpeaJvuihqOWNleW8ueeql+eahOWAvFxuXG4vLyDliIbnu4TlrrnlmajnsbvlnotcbmV4cG9ydCBjb25zdCBOT0NPREVfR1JPVVBfQ09OVEFJTkVSX0FQID0gJ05vQ29kZUdyb3VwQ29udGFpbmVyQXAnXG5cbi8vIOS4muWKoeaTjeS9nOaMiemSrlxuZXhwb3J0IGNvbnN0IE5PQ09ERV9CSVpCVVRUT05fQVAgPSAnTm9Db2RlQml6QnV0dG9uQXAnXG5cbi8vIOS4muWKoeaTjeS9nOaMiemSrumdouadv1xuZXhwb3J0IGNvbnN0IE5PQ09ERV9CSVpCVVRUT05fUEFORUxfQVAgPSAnQml6QnRuRmxleFBhbmVsQXAnXG5cbi8vIOihqOWNlemdouadv1xuZXhwb3J0IGNvbnN0IE5PQ09ERV9CSUxMRk9STV9BUCA9ICdOb0NvZGVCaWxsRm9ybUFwJ1xuXG4vLyDooajmoLxcbmV4cG9ydCBjb25zdCBOT0NPREVfRU5UUllfRU5USVRZID0gJ05vQ29kZUVudHJ5RW50aXR5J1xuXG4vLyDlhbPogZTooajljZXooajmoLzmqKHlvI9cbmV4cG9ydCBjb25zdCBOT0NPREVfUkVGX0JJTExfVEFCTEUgPSAnTm9Db2RlUmVmQmlsbFRhYmxlJ1xuXG4vLyDlhbPogZTooajljZUt5aSa6YCJ6YCJ6aG55qih5byPXG5leHBvcnQgY29uc3QgTk9DT0RFX01VTF9SRUZfQklMTF9GSUVMRCA9ICdOb0NvZGVNdWxSZWZCaWxsRmllbGQnXG5cbi8qKlxuICog5rKh5pyJ5a6e5L2T55qE57G75Z6L5YiX6KGoXG4gKi9cbmV4cG9ydCBjb25zdCBOT1RfRU5USVRZX1RZUEVfTElTVCA9IFtcbiAgTk9DT0RFX0JJWkJVVFRPTl9BUCxcbiAgTk9DT0RFX0dST1VQX0NPTlRBSU5FUl9BUCAvLyDliIbnu4Rcbl1cblxuLy8g56aB5q2i5YiH5o2i5o6n5Lu257G75Z6LXG5leHBvcnQgY29uc3QgRk9SQklEX0NIQU5HRV9DT05UUklMX1RZUEVTID0gW1xuICBOT0NPREVfUkVGX0JJTExfVEFCTEUsXG4gIE5PQ09ERV9FTlRSWV9FTlRJVFksXG4gIE5PQ09ERV9HUk9VUF9DT05UQUlORVJfQVAsXG4gIE5PQ09ERV9CSVpCVVRUT05fQVAsXG4gIC4uLlNZU1RFTV9GSUVMRF9UWVBFU1xuXVxuXG4vLyDoibLmnb/popzoibJcbmV4cG9ydCBjb25zdCBQUklNQVJZX0NPTE9SX0RBVEEgPSB7XG4gICcjMjc2RkY1JzogJyNGMkY5RkYnLFxuICAnIzE2QUZGMSc6ICcjRjJGREZGJyxcbiAgJyMxNkI4QjAnOiAnI0YyRkZGQycsXG4gICcjRkRDMjAwJzogJyNGRkZERTYnLFxuICAnIzc3QzQwNCc6ICcjRkFGRkVCJyxcbiAgJyMxQkE4NTQnOiAnI0YyRkZGNScsXG4gICcjRkY5OTFDJzogJyNGRkZCRjInLFxuICAnI0ZGNUYxRic6ICcjRkZGOEYyJyxcbiAgJyNGQjIzMjMnOiAnI0ZGRjRGMicsXG4gICcjRjkwRDU4JzogJyNGRkYyRjQnLFxuICAnIzcwMURGMCc6ICcjRjlGMkZGJyxcbiAgJyMwRTVGRDgnOiAnI0YyRjlGRidcbn1cblxuZXhwb3J0IGNvbnN0IEJHSU1HX0RFU0NfTElTVCA9IFt7XG4gIG5hbWU6ICfnu4/lhbgnLFxuICBwcmltYXJ5Q29sb3I6ICcjMjc2RkY1J1xufSwge1xuICBuYW1lOiAn6YO95biCJyxcbiAgcHJpbWFyeUNvbG9yOiAnIzcwMURGMCdcbn0sIHtcbiAgbmFtZTogJ+WknOW5lScsXG4gIHByaW1hcnlDb2xvcjogJyMwRTVGRDgnXG59LCB7XG4gIG5hbWU6ICfmspnmvKAnLFxuICBwcmltYXJ5Q29sb3I6ICcjRkY1RjFGJ1xufSwge1xuICBuYW1lOiAn6Zuq5bGxJyxcbiAgcHJpbWFyeUNvbG9yOiAnIzI3NkZGNSdcbn0sIHtcbiAgbmFtZTogJ+a4r+a5vicsXG4gIHByaW1hcnlDb2xvcjogJyNGOTBENTgnXG59LCB7XG4gIG5hbWU6ICfpq5jlsJTlpKsnLFxuICBwcmltYXJ5Q29sb3I6ICcjMUJBODU0J1xufSwge1xuICBuYW1lOiAn5Lmh6YeOJyxcbiAgcHJpbWFyeUNvbG9yOiAnIzE2QjhCMCdcbn1cbl1cblxuLy8g5Zu+54mHXG5leHBvcnQgY29uc3QgTk9DT0RFX0lNQUdFX1VQTE9BRF9GSUVMRCA9ICdOb0NvZGVJbWFnZVVwbG9hZEZpZWxkJ1xuXG4vLyDpmYTku7ZcbmV4cG9ydCBjb25zdCBOT0NPREVfQVRUQUNITUVOVF9VUExPQURfRklFTEQgPSAnTm9Db2RlQXR0YWNobWVudFVwbG9hZEZpZWxkJ1xuXG4vLyDmjpLpmaTmr5TovoPnmoTlrZfmrrVcbmV4cG9ydCBjb25zdCBFWENMVURFX0NPTVBBUkVfRklFTERfTElTVCA9IFtcbiAgTk9DT0RFX0JJTExGT1JNX0FQLFxuICAvLyBOT0NPREVfSU1BR0VfVVBMT0FEX0ZJRUxELFxuICAvLyBOT0NPREVfQVRUQUNITUVOVF9VUExPQURfRklFTEQsXG4gIE5PQ09ERV9HUk9VUF9DT05UQUlORVJfQVAsXG4gIE5PQ09ERV9CSVpCVVRUT05fQVAsXG4gIE5PQ09ERV9CSVpCVVRUT05fUEFORUxfQVAsXG4gIE5PQ09ERV9FTlRSWV9FTlRJVFlcbl1cblxuZXhwb3J0IGNvbnN0IENPTlRST0xfUkVUQUlORF9QUk9QUyA9IFsnVXBsb2FkRGVmVmFsdWUnLCAnUGljdHVyZURlZlZhbHVlJywgJ05vQ29kZURlZlZhbHVlJywgJ0ZpZWxkUmVxdWlyZWQnLCAnU3RhdHVzJywgJ1Zpc2liaWxpdHknXVxuXG5leHBvcnQgY29uc3QgU0FWRV9CSUxMX1NVQ0NFU1MgPSAnc2F2ZUJpbGxTdWNjZXNzJ1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///98092\n");

/***/ }),

/***/ 94096:
/*!************************************!*\
  !*** ./src/constants/propnames.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   APTYPE: function() { return /* binding */ APTYPE; },\n/* harmony export */   BGC: function() { return /* binding */ BGC; },\n/* harmony export */   CHILDERN: function() { return /* binding */ CHILDERN; },\n/* harmony export */   DETAIL: function() { return /* binding */ DETAIL; },\n/* harmony export */   DROPDOWN_SELECT: function() { return /* binding */ DROPDOWN_SELECT; },\n/* harmony export */   D_BACKGROUND_COLOR: function() { return /* binding */ D_BACKGROUND_COLOR; },\n/* harmony export */   D_COLOR: function() { return /* binding */ D_COLOR; },\n/* harmony export */   D_FIELD_BACK_COLOR: function() { return /* binding */ D_FIELD_BACK_COLOR; },\n/* harmony export */   D_FIELD_FONT_SIZE: function() { return /* binding */ D_FIELD_FONT_SIZE; },\n/* harmony export */   D_FIELD_FORE_COLOR: function() { return /* binding */ D_FIELD_FORE_COLOR; },\n/* harmony export */   D_FIELD_STYLE: function() { return /* binding */ D_FIELD_STYLE; },\n/* harmony export */   D_FIELD_TEXT_ALIGN: function() { return /* binding */ D_FIELD_TEXT_ALIGN; },\n/* harmony export */   D_HEIGHT: function() { return /* binding */ D_HEIGHT; },\n/* harmony export */   D_LABEL_DIRECTION: function() { return /* binding */ D_LABEL_DIRECTION; },\n/* harmony export */   D_LABEL_WIDTH: function() { return /* binding */ D_LABEL_WIDTH; },\n/* harmony export */   D_MUST_INPUT: function() { return /* binding */ D_MUST_INPUT; },\n/* harmony export */   D_PLACE_HOLDER: function() { return /* binding */ D_PLACE_HOLDER; },\n/* harmony export */   D_SHOW_TITLE: function() { return /* binding */ D_SHOW_TITLE; },\n/* harmony export */   D_TEXT_ALIGN: function() { return /* binding */ D_TEXT_ALIGN; },\n/* harmony export */   D_WIDTH: function() { return /* binding */ D_WIDTH; },\n/* harmony export */   ENTITYDATA: function() { return /* binding */ ENTITYDATA; },\n/* harmony export */   ENTRY_ID: function() { return /* binding */ ENTRY_ID; },\n/* harmony export */   EXTEND: function() { return /* binding */ EXTEND; },\n/* harmony export */   FEATURES: function() { return /* binding */ FEATURES; },\n/* harmony export */   FIELD_ID: function() { return /* binding */ FIELD_ID; },\n/* harmony export */   FIELD_NAME: function() { return /* binding */ FIELD_NAME; },\n/* harmony export */   FORMMETA: function() { return /* binding */ FORMMETA; },\n/* harmony export */   FieldType: function() { return /* binding */ FieldType; },\n/* harmony export */   GROUP: function() { return /* binding */ GROUP; },\n/* harmony export */   ID: function() { return /* binding */ ID; },\n/* harmony export */   INDEX: function() { return /* binding */ INDEX; },\n/* harmony export */   ISDATASOURCE: function() { return /* binding */ ISDATASOURCE; },\n/* harmony export */   ISUNIQUE: function() { return /* binding */ ISUNIQUE; },\n/* harmony export */   ITEMS: function() { return /* binding */ ITEMS; },\n/* harmony export */   KEY: function() { return /* binding */ KEY; },\n/* harmony export */   LABEL: function() { return /* binding */ LABEL; },\n/* harmony export */   MESSAGE_TIPS: function() { return /* binding */ MESSAGE_TIPS; },\n/* harmony export */   MULTI_SELECT: function() { return /* binding */ MULTI_SELECT; },\n/* harmony export */   NAME: function() { return /* binding */ NAME; },\n/* harmony export */   NORMAL: function() { return /* binding */ NORMAL; },\n/* harmony export */   PARENTID: function() { return /* binding */ PARENTID; },\n/* harmony export */   PREWIDTHS: function() { return /* binding */ PREWIDTHS; },\n/* harmony export */   ROWTYPE: function() { return /* binding */ ROWTYPE; },\n/* harmony export */   SELECTED: function() { return /* binding */ SELECTED; },\n/* harmony export */   SHOW_COUNT: function() { return /* binding */ SHOW_COUNT; },\n/* harmony export */   SIGNLE_SELECT: function() { return /* binding */ SIGNLE_SELECT; },\n/* harmony export */   TILE_SELECT: function() { return /* binding */ TILE_SELECT; },\n/* harmony export */   TYPE: function() { return /* binding */ TYPE; },\n/* harmony export */   VALUE: function() { return /* binding */ VALUE; },\n/* harmony export */   VISIBILITY: function() { return /* binding */ VISIBILITY; },\n/* harmony export */   _ROOT_: function() { return /* binding */ _ROOT_; },\n/* harmony export */   _TYPE_: function() { return /* binding */ _TYPE_; }\n/* harmony export */ });\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-06-17 17:24:07\n * @LastEditTime: 2023-06-05 09:42:23\n * @Last Modified by: jianhang_he\n */\nvar ID = 'Id';\nvar TYPE = 'Type';\nvar FieldType = 'FieldType';\nvar FIELD_ID = 'FieldId';\nvar ENTRY_ID = 'EntryId';\nvar FIELD_NAME = 'FieldName';\nvar _TYPE_ = '_Type_';\nvar KEY = 'Key';\nvar NAME = 'Name';\nvar VALUE = 'Value';\nvar LABEL = 'Label';\nvar PARENTID = 'ParentId';\nvar ITEMS = 'Items';\nvar CHILDERN = 'children';\nvar ISDATASOURCE = 'IsDS';\nvar ISUNIQUE = 'isUnique';\nvar APTYPE = 'ApType';\nvar ENTITYDATA = 'EntityData';\nvar INDEX = 'Index';\nvar FEATURES = 'Features';\nvar _ROOT_ = '_Root_';\nvar ROWTYPE = 'RowType';\nvar NORMAL = 'normal';\nvar EXTEND = 'extend';\nvar DETAIL = 'detail';\nvar GROUP = 'group';\nvar FORMMETA = 'formmeta';\nvar PREWIDTHS = 'PreWidths';\nvar D_LABEL_DIRECTION = 'LabelDirection';\nvar D_LABEL_WIDTH = 'LabelWidth';\nvar D_WIDTH = 'Width';\nvar D_HEIGHT = 'Height';\nvar D_BACKGROUND_COLOR = 'BackColor';\nvar D_COLOR = 'ForeColor';\nvar D_TEXT_ALIGN = 'TextAlign';\nvar D_FIELD_STYLE = 'FieldStyle';\nvar D_SHOW_TITLE = 'ShowTitle';\nvar D_MUST_INPUT = 'MustInput';\nvar D_PLACE_HOLDER = 'EmptyText';\nvar D_FIELD_FONT_SIZE = 'FieldFontSize';\nvar D_FIELD_FORE_COLOR = 'FieldForeColor';\nvar D_FIELD_BACK_COLOR = 'FieldBackColor';\nvar D_FIELD_TEXT_ALIGN = 'FieldTextAlign';\nvar SHOW_COUNT = 'ShowCount';\nvar MESSAGE_TIPS = {\n  schemefilterview: '方案过滤',\n  filtergridview: '常用过滤',\n  fastsearchgridview: '快速过滤'\n};\nvar SELECTED = 'Selected';\nvar VISIBILITY = 'Visibility';\n\n/**\n * 选项-单选\n */\nvar SIGNLE_SELECT = '0';\n\n/**\n * 选项-多选\n */\nvar MULTI_SELECT = '1';\n\n/**\n * 选项-下拉\n */\nvar DROPDOWN_SELECT = '0';\n\n/**\n * 选项-平铺\n */\nvar TILE_SELECT = '1';\n\n/**\n * 选项-背景色\n */\nvar BGC = 'Bgc';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTQwOTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2NvbnN0YW50cy9wcm9wbmFtZXMudHM/MzdmMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIyLTA2LTE3IDE3OjI0OjA3XG4gKiBATGFzdEVkaXRUaW1lOiAyMDIzLTA2LTA1IDA5OjQyOjIzXG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuZXhwb3J0IGNvbnN0IElEID0gJ0lkJ1xuZXhwb3J0IGNvbnN0IFRZUEUgPSAnVHlwZSdcbmV4cG9ydCBjb25zdCBGaWVsZFR5cGUgPSAnRmllbGRUeXBlJ1xuZXhwb3J0IGNvbnN0IEZJRUxEX0lEID0gJ0ZpZWxkSWQnXG5leHBvcnQgY29uc3QgRU5UUllfSUQgPSAnRW50cnlJZCdcbmV4cG9ydCBjb25zdCBGSUVMRF9OQU1FID0gJ0ZpZWxkTmFtZSdcbmV4cG9ydCBjb25zdCBfVFlQRV8gPSAnX1R5cGVfJ1xuZXhwb3J0IGNvbnN0IEtFWSA9ICdLZXknXG5leHBvcnQgY29uc3QgTkFNRSA9ICdOYW1lJ1xuZXhwb3J0IGNvbnN0IFZBTFVFID0gJ1ZhbHVlJ1xuZXhwb3J0IGNvbnN0IExBQkVMID0gJ0xhYmVsJ1xuZXhwb3J0IGNvbnN0IFBBUkVOVElEID0gJ1BhcmVudElkJ1xuZXhwb3J0IGNvbnN0IElURU1TID0gJ0l0ZW1zJ1xuZXhwb3J0IGNvbnN0IENISUxERVJOID0gJ2NoaWxkcmVuJ1xuZXhwb3J0IGNvbnN0IElTREFUQVNPVVJDRSA9ICdJc0RTJ1xuZXhwb3J0IGNvbnN0IElTVU5JUVVFID0gJ2lzVW5pcXVlJ1xuZXhwb3J0IGNvbnN0IEFQVFlQRSA9ICdBcFR5cGUnXG5leHBvcnQgY29uc3QgRU5USVRZREFUQSA9ICdFbnRpdHlEYXRhJ1xuZXhwb3J0IGNvbnN0IElOREVYID0gJ0luZGV4J1xuZXhwb3J0IGNvbnN0IEZFQVRVUkVTID0gJ0ZlYXR1cmVzJ1xuZXhwb3J0IGNvbnN0IF9ST09UXyA9ICdfUm9vdF8nXG5cbmV4cG9ydCBjb25zdCBST1dUWVBFID0gJ1Jvd1R5cGUnXG5leHBvcnQgY29uc3QgTk9STUFMID0gJ25vcm1hbCdcbmV4cG9ydCBjb25zdCBFWFRFTkQgPSAnZXh0ZW5kJ1xuZXhwb3J0IGNvbnN0IERFVEFJTCA9ICdkZXRhaWwnXG5leHBvcnQgY29uc3QgR1JPVVAgPSAnZ3JvdXAnXG5cbmV4cG9ydCBjb25zdCBGT1JNTUVUQSA9ICdmb3JtbWV0YSdcbmV4cG9ydCBjb25zdCBQUkVXSURUSFMgPSAnUHJlV2lkdGhzJ1xuXG5leHBvcnQgY29uc3QgRF9MQUJFTF9ESVJFQ1RJT04gPSAnTGFiZWxEaXJlY3Rpb24nXG5leHBvcnQgY29uc3QgRF9MQUJFTF9XSURUSCA9ICdMYWJlbFdpZHRoJ1xuZXhwb3J0IGNvbnN0IERfV0lEVEggPSAnV2lkdGgnXG5leHBvcnQgY29uc3QgRF9IRUlHSFQgPSAnSGVpZ2h0J1xuZXhwb3J0IGNvbnN0IERfQkFDS0dST1VORF9DT0xPUiA9ICdCYWNrQ29sb3InXG5leHBvcnQgY29uc3QgRF9DT0xPUiA9ICdGb3JlQ29sb3InXG5leHBvcnQgY29uc3QgRF9URVhUX0FMSUdOID0gJ1RleHRBbGlnbidcbmV4cG9ydCBjb25zdCBEX0ZJRUxEX1NUWUxFID0gJ0ZpZWxkU3R5bGUnXG5leHBvcnQgY29uc3QgRF9TSE9XX1RJVExFID0gJ1Nob3dUaXRsZSdcbmV4cG9ydCBjb25zdCBEX01VU1RfSU5QVVQgPSAnTXVzdElucHV0J1xuZXhwb3J0IGNvbnN0IERfUExBQ0VfSE9MREVSID0gJ0VtcHR5VGV4dCdcbmV4cG9ydCBjb25zdCBEX0ZJRUxEX0ZPTlRfU0laRSA9ICdGaWVsZEZvbnRTaXplJ1xuZXhwb3J0IGNvbnN0IERfRklFTERfRk9SRV9DT0xPUiA9ICdGaWVsZEZvcmVDb2xvcidcbmV4cG9ydCBjb25zdCBEX0ZJRUxEX0JBQ0tfQ09MT1IgPSAnRmllbGRCYWNrQ29sb3InXG5leHBvcnQgY29uc3QgRF9GSUVMRF9URVhUX0FMSUdOID0gJ0ZpZWxkVGV4dEFsaWduJ1xuXG5leHBvcnQgY29uc3QgU0hPV19DT1VOVCA9ICdTaG93Q291bnQnXG5cbmV4cG9ydCBjb25zdCBNRVNTQUdFX1RJUFMgPSB7XG4gIHNjaGVtZWZpbHRlcnZpZXc6ICfmlrnmoYjov4fmu6QnLFxuICBmaWx0ZXJncmlkdmlldzogJ+W4uOeUqOi/h+a7pCcsXG4gIGZhc3RzZWFyY2hncmlkdmlldzogJ+W/q+mAn+i/h+a7pCdcbn1cblxuZXhwb3J0IGNvbnN0IFNFTEVDVEVEID0gJ1NlbGVjdGVkJ1xuXG5leHBvcnQgY29uc3QgVklTSUJJTElUWSA9ICdWaXNpYmlsaXR5J1xuXG4vKipcbiAqIOmAiemhuS3ljZXpgIlcbiAqL1xuZXhwb3J0IGNvbnN0IFNJR05MRV9TRUxFQ1QgPSAnMCdcblxuLyoqXG4gKiDpgInpobkt5aSa6YCJXG4gKi9cbmV4cG9ydCBjb25zdCBNVUxUSV9TRUxFQ1QgPSAnMSdcblxuLyoqXG4gKiDpgInpobkt5LiL5ouJXG4gKi9cbmV4cG9ydCBjb25zdCBEUk9QRE9XTl9TRUxFQ1QgPSAnMCdcblxuLyoqXG4gKiDpgInpobkt5bmz6ZO6XG4gKi9cbmV4cG9ydCBjb25zdCBUSUxFX1NFTEVDVCA9ICcxJ1xuXG4vKipcbiAqIOmAiemhuS3og4zmma/oibJcbiAqL1xuZXhwb3J0IGNvbnN0IEJHQyA9ICdCZ2MnXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///94096\n");

/***/ }),

/***/ 90115:
/*!******************************!*\
  !*** ./src/context/index.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DesignerContext: function() { return /* binding */ DesignerContext; }\n/* harmony export */ });\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_0__);\n\n\n// 设计器context，用于顶层designer向下传入数据\n\nvar DesignerContext = kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createContext({});\nDesignerContext.displayName = 'DesignerContext';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTAxMTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0FBR0E7O0FBV0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9jb250ZXh0L2luZGV4LnRzPzk5ZGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgSUFwaSB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcblxuLy8g6K6+6K6h5ZmoY29udGV4dO+8jOeUqOS6jumhtuWxgmRlc2lnbmVy5ZCR5LiL5Lyg5YWl5pWw5o2uXG5pbnRlcmZhY2UgSURlc2lnbmVyQ29udGV4dCB7XG4gICAgcHJlZml4Q2xzOiBzdHJpbmc7XG4gICAgZ2V0UHJlZml4Q2xzOiAoY29uZmlnUHJlZml4Q2xzPzogc3RyaW5nLCBzdWZmaXhDbHM/OiBzdHJpbmcsIGN1c3RvbWl6ZVByZWZpeENscz86IHN0cmluZykgPT4gc3RyaW5nO1xuICAgIGdldERhdGFSZWY6ICgpID0+IHtba2V5OiBzdHJpbmddOiBhbnl9LFxuICAgIGdldEtkZXNpZ25lckFwaTogKCkgPT4gSUFwaTtcbiAgICBpbnZva2VBY3Rpb246IChhY3Rpb246c3RyaW5nLCBhcmdzOiBhbnksIHBvc3REYXRhPzphbnksIGVuZm9yY2U/OiBib29sZWFuKSA9PiB2b2lkO1xuICAgIGlzUEM6IGJvb2xlYW47XG4gICAgc2V0SXNQQzogIFJlYWN0LkRpc3BhdGNoPFJlYWN0LlNldFN0YXRlQWN0aW9uPGJvb2xlYW4+PjtcbiAgICBba2V5OiBzdHJpbmddOiBhbnlcbn1cbmV4cG9ydCBjb25zdCBEZXNpZ25lckNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PElEZXNpZ25lckNvbnRleHQ+KHt9IGFzIElEZXNpZ25lckNvbnRleHQpXG5EZXNpZ25lckNvbnRleHQuZGlzcGxheU5hbWUgPSAnRGVzaWduZXJDb250ZXh0J1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///90115\n");

/***/ }),

/***/ 2392:
/*!*************************************************!*\
  !*** ./src/editors/AssociationEditor/index.tsx ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _constants_actionName__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../constants/actionName */ 82964);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/control */ 3700);\n\n\n\n\n\n\n\n\n\n/**\n * 双向关联属性编辑器\n */\nvar AssociationEditor = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.memo)(function (props) {\n  var handleChange = props.handleChange,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    Name = props.Name,\n    tips = props.Tips,\n    field = props.field,\n    id = props.id,\n    propName = props.propName,\n    rootId = props.rootId;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required,\n    title = editor.Title;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context__WEBPACK_IMPORTED_MODULE_5__.DesignerContext),\n    invokeAction = _useContext.invokeAction,\n    getHideFieldRef = _useContext.getHideFieldRef;\n  var _useContext2 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.GlobalConfigContext),\n    showMessage = _useContext2.showMessage;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useState)(''),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    value = _useState2[0],\n    setValue = _useState2[1]; // 当前已选内容\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState3, 2),\n    options = _useState4[0],\n    setOptions = _useState4[1]; // 列表\n  var _useState5 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useState)({}),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState5, 2),\n    fieldTypes = _useState6[0],\n    setFieldTypes = _useState6[1]; // 列表\n  var BillEntityIdEx = field.BillEntityIdEx,\n    Key = field.Key,\n    currentType = field._Type_,\n    RefBillId = field.RefBillId;\n  var prefixClass = \"\".concat(className, \"-association\");\n\n  // 如果是表格模式的关联表单，KEY为原关联表单的KEY\n  var refKey = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n    var _refBill;\n    var refBill;\n    if (RefBillId && (0,_utils_control__WEBPACK_IMPORTED_MODULE_7__.isRefBillTable)(currentType)) {\n      var _getHideFieldRef;\n      refBill = (_getHideFieldRef = getHideFieldRef()) === null || _getHideFieldRef === void 0 ? void 0 : _getHideFieldRef[RefBillId];\n    }\n    return ((_refBill = refBill) === null || _refBill === void 0 ? void 0 : _refBill.Key) || Key;\n  }, [Key, currentType, RefBillId]);\n  var formateOption = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (data) {\n    return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default()(data).call(data, function (v) {\n      var _ref = v || {},\n        value = _ref.id,\n        label = _ref.caption;\n      return {\n        value: value,\n        label: label\n      };\n    });\n  }, []);\n\n  // 双向关联请求回来的内容处理\n  var getFields = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (res) {\n    console.log('getFields', res);\n    var _ref2 = res || {},\n      selected = _ref2.selected,\n      data = _ref2.data;\n    var option = formateOption(data || []);\n    setOptions(option || []);\n    setValue(selected || '');\n  }, [formateOption]);\n  var onAssociationChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (v, option) {\n    console.log('onAssociationChange', v);\n    invokeAction(_constants_actionName__WEBPACK_IMPORTED_MODULE_6__.UPDATE_ASSOCIATION, [rootId, refKey, BillEntityIdEx, v || '']);\n    setValue(v);\n  }, [rootId, refKey, BillEntityIdEx, invokeAction, setValue]);\n  var updateAssociation = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (info) {\n    if ((info === null || info === void 0 ? void 0 : info.state) === 'failure') {\n      showMessage((info === null || info === void 0 ? void 0 : info.message) || '双向关联失败', 'error');\n      setValue('');\n    }\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    if (rootId && refKey && BillEntityIdEx) {\n      // 请求双向关联数据\n      invokeAction(_constants_actionName__WEBPACK_IMPORTED_MODULE_6__.GET_AVAILABLE_ASSOCIATION_FIELDS, [rootId, refKey, BillEntityIdEx]);\n    }\n  }, [BillEntityIdEx, refKey, rootId, invokeAction]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    // 侦听\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_6__.SET_AVAILABLE_ASSOCIATION_FIELDS, getFields); // 侦听请求数据\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_6__.UPDATE_ASSOCIATION, updateAssociation); // 侦听请求数据\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_6__.SET_SWITCH_FIELD_TYPES, setFieldTypes);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_6__.SET_AVAILABLE_ASSOCIATION_FIELDS, getFields);\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_6__.UPDATE_ASSOCIATION, updateAssociation);\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_6__.SET_SWITCH_FIELD_TYPES, setFieldTypes);\n    };\n  }, []);\n\n  // 未配置关联表单及已经添加数据时,不可修改\n  var disabled = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n    var switchFieldTypes = fieldTypes === null || fieldTypes === void 0 ? void 0 : fieldTypes[field.Key];\n    return !BillEntityIdEx || (switchFieldTypes === null || switchFieldTypes === void 0 ? void 0 : switchFieldTypes.length) === 0;\n  }, [BillEntityIdEx, fieldTypes, field]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-box\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: Name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_4__.Select, {\n    allowClear: true,\n    value: value,\n    disabled: false,\n    options: options,\n    onChange: onAssociationChange,\n    placeholder: \"\"\n  }));\n});\nAssociationEditor.displayName = 'AssociationEditor';\n/* harmony default export */ __webpack_exports__[\"default\"] = (AssociationEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjM5Mi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2VkaXRvcnMvQXNzb2NpYXRpb25FZGl0b3IvaW5kZXgudHN4PzhlZWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IEZDLCBtZW1vLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgTmFtZVRpcFdyYXBwZXIsIFByb3BlcnR5RWRpdG9yUHJvcHMsIGV2ZW50QnVzLCBHbG9iYWxDb25maWdDb250ZXh0IH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgU2VsZWN0IH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQnXG5pbXBvcnQgeyBTRVRfU1dJVENIX0ZJRUxEX1RZUEVTLCBTRVRfQVZBSUxBQkxFX0FTU09DSUFUSU9OX0ZJRUxEUywgR0VUX0FWQUlMQUJMRV9BU1NPQ0lBVElPTl9GSUVMRFMsIFVQREFURV9BU1NPQ0lBVElPTiB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9hY3Rpb25OYW1lJ1xuaW1wb3J0IHsgaXNSZWZCaWxsVGFibGUgfSBmcm9tICcuLi8uLi91dGlscy9jb250cm9sJ1xuXG4vKipcbiAqIOWPjOWQkeWFs+iBlOWxnuaAp+e8lui+keWZqFxuICovXG5jb25zdCBBc3NvY2lhdGlvbkVkaXRvcjpGQzxQcm9wZXJ0eUVkaXRvclByb3BzPiA9IG1lbW8oKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaGFuZGxlQ2hhbmdlLCBjbGFzc05hbWUsIGVkaXRvciwgbG9ja2VkLCBOYW1lLCBUaXBzOiB0aXBzLCBmaWVsZCwgaWQsIHByb3BOYW1lLCByb290SWQgfSA9IHByb3BzXG4gIGNvbnN0IHsgTmFtZUhpZGRlbjogbmFtZUhpZGRlbiwgUmVxdWlyZWQ6IHJlcXVpcmVkLCBUaXRsZTogdGl0bGUgfSA9IGVkaXRvclxuICBjb25zdCB7IGludm9rZUFjdGlvbiwgZ2V0SGlkZUZpZWxkUmVmIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3QgeyBzaG93TWVzc2FnZSB9ID0gdXNlQ29udGV4dChHbG9iYWxDb25maWdDb250ZXh0KVxuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlKCcnKSAvLyDlvZPliY3lt7LpgInlhoXlrrlcbiAgY29uc3QgW29wdGlvbnMsIHNldE9wdGlvbnNdID0gdXNlU3RhdGU8YW55W10+KFtdKSAvLyDliJfooahcbiAgY29uc3QgW2ZpZWxkVHlwZXMsIHNldEZpZWxkVHlwZXNdID0gdXNlU3RhdGU8YW55Pih7fSkgLy8g5YiX6KGoXG4gIGNvbnN0IHsgQmlsbEVudGl0eUlkRXgsIEtleSwgX1R5cGVfOiBjdXJyZW50VHlwZSwgUmVmQmlsbElkIH0gPSBmaWVsZFxuICBjb25zdCBwcmVmaXhDbGFzcyA9IGAke2NsYXNzTmFtZX0tYXNzb2NpYXRpb25gXG5cbiAgLy8g5aaC5p6c5piv6KGo5qC85qih5byP55qE5YWz6IGU6KGo5Y2V77yMS0VZ5Li65Y6f5YWz6IGU6KGo5Y2V55qES0VZXG4gIGNvbnN0IHJlZktleSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCByZWZCaWxsXG4gICAgaWYgKFJlZkJpbGxJZCAmJiBpc1JlZkJpbGxUYWJsZShjdXJyZW50VHlwZSkpIHtcbiAgICAgIHJlZkJpbGwgPSBnZXRIaWRlRmllbGRSZWYoKT8uW1JlZkJpbGxJZF1cbiAgICB9XG4gICAgcmV0dXJuIHJlZkJpbGw/LktleSB8fCBLZXlcbiAgfSwgW0tleSwgY3VycmVudFR5cGUsIFJlZkJpbGxJZF0pXG5cbiAgY29uc3QgZm9ybWF0ZU9wdGlvbiA9IHVzZUNhbGxiYWNrKChkYXRhOmFueVtdKSA9PiB7XG4gICAgcmV0dXJuIGRhdGEubWFwKHYgPT4ge1xuICAgICAgY29uc3QgeyBpZDogdmFsdWUsIGNhcHRpb246IGxhYmVsIH0gPSB2IHx8IHt9XG4gICAgICByZXR1cm4geyB2YWx1ZSwgbGFiZWwgfVxuICAgIH0pXG4gIH0sIFtdKVxuXG4gIC8vIOWPjOWQkeWFs+iBlOivt+axguWbnuadpeeahOWGheWuueWkhOeQhlxuICBjb25zdCBnZXRGaWVsZHMgPSB1c2VDYWxsYmFjaygocmVzOmFueSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdnZXRGaWVsZHMnLCByZXMpXG4gICAgY29uc3QgeyBzZWxlY3RlZCwgZGF0YSB9ID0gcmVzIHx8IHt9XG4gICAgY29uc3Qgb3B0aW9uID0gZm9ybWF0ZU9wdGlvbihkYXRhIHx8IFtdKVxuICAgIHNldE9wdGlvbnMob3B0aW9uIHx8IFtdKVxuICAgIHNldFZhbHVlKHNlbGVjdGVkIHx8ICcnKVxuICB9LCBbZm9ybWF0ZU9wdGlvbl0pXG5cbiAgY29uc3Qgb25Bc3NvY2lhdGlvbkNoYW5nZSA9IHVzZUNhbGxiYWNrKCh2OnN0cmluZywgb3B0aW9uOmFueSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdvbkFzc29jaWF0aW9uQ2hhbmdlJywgdilcbiAgICBpbnZva2VBY3Rpb24oVVBEQVRFX0FTU09DSUFUSU9OLCBbcm9vdElkLCByZWZLZXksIEJpbGxFbnRpdHlJZEV4LCB2IHx8ICcnXSlcbiAgICBzZXRWYWx1ZSh2KVxuICB9LCBbcm9vdElkLCByZWZLZXksIEJpbGxFbnRpdHlJZEV4LCBpbnZva2VBY3Rpb24sIHNldFZhbHVlXSlcblxuICBjb25zdCB1cGRhdGVBc3NvY2lhdGlvbiA9IHVzZUNhbGxiYWNrKChpbmZvOmFueSkgPT4ge1xuICAgIGlmIChpbmZvPy5zdGF0ZSA9PT0gJ2ZhaWx1cmUnKSB7XG4gICAgICBzaG93TWVzc2FnZShpbmZvPy5tZXNzYWdlIHx8ICflj4zlkJHlhbPogZTlpLHotKUnLCAnZXJyb3InKVxuICAgICAgc2V0VmFsdWUoJycpXG4gICAgfVxuICB9LCBbXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChyb290SWQgJiYgcmVmS2V5ICYmIEJpbGxFbnRpdHlJZEV4KSB7IC8vIOivt+axguWPjOWQkeWFs+iBlOaVsOaNrlxuICAgICAgaW52b2tlQWN0aW9uKEdFVF9BVkFJTEFCTEVfQVNTT0NJQVRJT05fRklFTERTLCBbcm9vdElkLCByZWZLZXksIEJpbGxFbnRpdHlJZEV4XSlcbiAgICB9XG4gIH0sIFtCaWxsRW50aXR5SWRFeCwgcmVmS2V5LCByb290SWQsIGludm9rZUFjdGlvbl0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHsgLy8g5L6m5ZCsXG4gICAgZXZlbnRCdXMub24oU0VUX0FWQUlMQUJMRV9BU1NPQ0lBVElPTl9GSUVMRFMsIGdldEZpZWxkcykgLy8g5L6m5ZCs6K+35rGC5pWw5o2uXG4gICAgZXZlbnRCdXMub24oVVBEQVRFX0FTU09DSUFUSU9OLCB1cGRhdGVBc3NvY2lhdGlvbikgLy8g5L6m5ZCs6K+35rGC5pWw5o2uXG4gICAgZXZlbnRCdXMub24oU0VUX1NXSVRDSF9GSUVMRF9UWVBFUywgc2V0RmllbGRUeXBlcylcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZXZlbnRCdXMub2ZmKFNFVF9BVkFJTEFCTEVfQVNTT0NJQVRJT05fRklFTERTLCBnZXRGaWVsZHMpXG4gICAgICBldmVudEJ1cy5vZmYoVVBEQVRFX0FTU09DSUFUSU9OLCB1cGRhdGVBc3NvY2lhdGlvbilcbiAgICAgIGV2ZW50QnVzLm9mZihTRVRfU1dJVENIX0ZJRUxEX1RZUEVTLCBzZXRGaWVsZFR5cGVzKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgLy8g5pyq6YWN572u5YWz6IGU6KGo5Y2V5Y+K5bey57uP5re75Yqg5pWw5o2u5pe2LOS4jeWPr+S/ruaUuVxuICBjb25zdCBkaXNhYmxlZCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHN3aXRjaEZpZWxkVHlwZXMgPSBmaWVsZFR5cGVzPy5bZmllbGQuS2V5XVxuICAgIHJldHVybiAhQmlsbEVudGl0eUlkRXggfHwgc3dpdGNoRmllbGRUeXBlcz8ubGVuZ3RoID09PSAwXG4gIH0sIFtCaWxsRW50aXR5SWRFeCwgZmllbGRUeXBlcywgZmllbGRdKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsYXNzfS1ib3hgfT5cbiAgICAgIDxOYW1lVGlwV3JhcHBlciBuYW1lSGlkZGVuPXtuYW1lSGlkZGVufSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gbmFtZT17TmFtZX0gdGlwcz17dGlwc30gcmVxdWlyZWQ9e3JlcXVpcmVkfSB0aXRsZT17dGl0bGV9IC8+XG4gICAgICA8U2VsZWN0XG4gICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICBkaXNhYmxlZD17ZmFsc2V9XG4gICAgICAgIG9wdGlvbnM9e29wdGlvbnN9XG4gICAgICAgIG9uQ2hhbmdlPXtvbkFzc29jaWF0aW9uQ2hhbmdlfVxuICAgICAgICBwbGFjZWhvbGRlcj0nJ1xuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKVxufSlcblxuQXNzb2NpYXRpb25FZGl0b3IuZGlzcGxheU5hbWUgPSAnQXNzb2NpYXRpb25FZGl0b3InXG5leHBvcnQgZGVmYXVsdCBBc3NvY2lhdGlvbkVkaXRvclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2392\n");

/***/ }),

/***/ 47900:
/*!**************************************************!*\
  !*** ./src/editors/AttachmentDefValueEditor.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/map */ 52892);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 24496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/values */ 73020);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_instance_replace_all__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js/instance/replace-all */ 35680);\n/* harmony import */ var _babel_runtime_corejs3_core_js_instance_replace_all__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_instance_replace_all__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var kd_libs_immer__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! kd_libs/immer */ 59480);\n/* harmony import */ var kd_libs_immer__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(kd_libs_immer__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils */ 41232);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__);\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar AttachmentDefValueEditor = function AttachmentDefValueEditor(props) {\n  var _context6, _context7, _context8;\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    Name = props.Name,\n    tips = props.Tips,\n    field = props.field;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required,\n    nameTitle = editor.Title;\n  var FileMaxSize = field.FileMaxSize,\n    UploadNum = field.UploadNum,\n    UploadModel = field.UploadModel,\n    AttachmentFileType = field.AttachmentFileType,\n    FieldType = field.FieldType,\n    ButtonText = field.ButtonText;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useContext)(_context__WEBPACK_IMPORTED_MODULE_15__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    baseUrl = _useContext.baseUrl,\n    invokeAction = _useContext.invokeAction;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useState)(''),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState, 2),\n    title = _useState2[0],\n    setTitle = _useState2[1];\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useState)([]),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState3, 2),\n    datas = _useState4[0],\n    setDatas = _useState4[1];\n  var _useState5 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useState)(''),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState5, 2),\n    selectedForm = _useState6[0],\n    setSelectedForm = _useState6[1];\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    metaContext = _getKdesignerApi.meta;\n  var getControlPropertyDefaultValue = metaContext.getControlPropertyDefaultValue;\n  var attachmentDefaultType = getControlPropertyDefaultValue(FieldType, 'AttachmentFileType'); // 默认图片类型\n  var fileMaxSizeDef = getControlPropertyDefaultValue(FieldType, 'FileMaxSize'); // 默认图片类型\n\n  var maxSize = FileMaxSize || fileMaxSizeDef; // 最大上传文件,需要判空用户未设置时从default获取\n  var fileType = AttachmentFileType || attachmentDefaultType; // 支持的文件类型,需要判空\n  var uploadRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useRef)(new (_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_8___default())()); // 上传成功的列表\n  // 将字符串转成显示数据\n  var transformData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (str) {\n    if (!str || str === '{}') return [];\n    if ((0,_utils__WEBPACK_IMPORTED_MODULE_18__.isJson)(str)) {\n      var data = JSON.parse(str);\n      if (Array.isArray(data)) {\n        return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(data).call(data, function (item) {\n          uploadRef.current.set(item.uid, item); // 缓存已经上传成功的列表\n          return _objectSpread(_objectSpread({}, item), {}, {\n            url: baseUrl.attachment + item.url\n          });\n        });\n      } else {\n        return data.value;\n      }\n    }\n    return '';\n  }, []);\n\n  // 监听数据变化\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useEffect)(function () {\n    uploadRef.current = new (_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_8___default())();\n    var transformedValue = transformData(value);\n    if (Array.isArray(transformedValue)) {\n      setDatas(transformedValue);\n      setSelectedForm('');\n    } else {\n      setSelectedForm(transformedValue);\n    }\n  }, [transformData, value, setDatas]);\n\n  // 显示错误信息\n  var showErrMsg = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (content) {\n    nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__.WebMsg.showNotificationMsg({\n      param: [{\n        type: 2,\n        content: content,\n        duration: 2000\n      }]\n    });\n  }, []);\n\n  // 上传前执行, 校验文件大小及上传个数\n  var beforeUpload = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (file, list) {\n    if (UploadNum !== null && UploadNum !== void 0 && UploadNum.max && list.length > UploadNum.max) {\n      // 上传个数据校验\n      showErrMsg(\"\\u6700\\u591A\\u53EA\\u80FD\\u4E0A\\u4F20\".concat(UploadNum.max, \"\\u4E2A\\u6587\\u4EF6\\uFF0C\\u8BF7\\u91CD\\u65B0\\u9009\\u62E9\"));\n      return false;\n    }\n    if (maxSize && file.size / 1024 / 1024 > maxSize) {\n      // 单个文件大小是否超过\n      showErrMsg(\"\\u8BF7\\u4E0A\\u4F20\\u5C0F\\u4E8E\".concat(maxSize, \"M\\u7684\\u6587\\u4EF6\"));\n      return false;\n    }\n    return true;\n  }, [UploadNum === null || UploadNum === void 0 ? void 0 : UploadNum.max, maxSize]);\n\n  // change事件, 更新\n  var onChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (_ref) {\n    var file = _ref.file,\n      fileList = _ref.fileList;\n    // console.log('onChange', fileList)\n    if (file.status === 'done' && file.response.status) {\n      var _context;\n      var lastModified = file.lastModified,\n        uid = file.uid,\n        name = file.name,\n        type = file.type,\n        size = file.size,\n        response = file.response;\n      var param = {\n        status: 'success',\n        url: file.response.data.url,\n        uploadTime: Date.now()\n      };\n      uploadRef.current.set(file.uid, _objectSpread({\n        lastModified: lastModified,\n        uid: uid,\n        name: name,\n        type: type,\n        size: size\n      }, param));\n      handleChange(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_10___default()((0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_11___default()(_context = uploadRef.current).call(_context))));\n      var newList = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(fileList).call(fileList, function (item) {\n        return item.uid === file.uid ? uploadRef.current.get(file.uid) : item;\n      });\n      setDatas(newList);\n    } else {\n      setDatas((0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(fileList));\n    }\n  }, [handleChange]);\n\n  // 删除\n  var onRemove = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (file) {\n    var newData = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(datas).call(datas, function (item) {\n      return item.uid !== file.uid;\n    });\n    var newFile = uploadRef.current.get(file.uid); // 上传成功列表\n    if (newFile) {\n      var _context2;\n      // 上传成功文件,更新postData\n      uploadRef.current.delete(file.uid);\n      var str = uploadRef.current.size > 0 ? _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_10___default()((0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_11___default()(_context2 = uploadRef.current).call(_context2))) : '';\n      handleChange(str); // 走postData\n      invokeAction('beforeRemove', [{\n        url: newFile.url\n      }], []);\n    }\n    setDatas((0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(newData));\n    return true;\n  }, [datas, handleChange, invokeAction]);\n\n  // 修改文件名\n  var onChangeFileName = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (info) {\n    var file = uploadRef.current.get(info.uid);\n    if (file) {\n      var _context3;\n      file.name = info.name;\n      uploadRef.current.set(info.uid, file);\n      handleChange(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_10___default()((0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_11___default()(_context3 = uploadRef.current).call(_context3))));\n    }\n    setDatas(kd_libs_immer__WEBPACK_IMPORTED_MODULE_17___default()(function (draf) {\n      draf.forEach(function (item) {\n        if (item.uid === info.uid) {\n          item.name = info.name;\n        }\n      });\n    }));\n  }, [datas, handleChange]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useEffect)(function () {\n    var _context4, _context5;\n    setTitle(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(_context4 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(_context5 = \"\".concat(Name, \"(\")).call(_context5, uploadRef.current.size, \"/\")).call(_context4, (UploadNum === null || UploadNum === void 0 ? void 0 : UploadNum.max) || 1, \")\"));\n  }, [UploadNum, datas]);\n\n  // console.log('AttachmentDefValueEditor', uploadRef.current, field)\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-attachment-editor\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(\"div\", {\n    style: {\n      marginBottom: '8px'\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: title,\n    tips: tips,\n    required: required,\n    title: nameTitle\n  })), !selectedForm && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(\"div\", null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__.Attachment, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n    multiple: true,\n    action: (0,_utils__WEBPACK_IMPORTED_MODULE_18__.getUrlWithDataCenter)(window.__domainurl__ + 'nocode/v2/nocode_sys/attachment'),\n    data: {\n      action: 'upload',\n      tempstorage: false,\n      isDesigner: true\n    },\n    fileList: datas\n    // disabled={disabled}\n    // readonly={readonly}\n    ,\n    buttonText: ButtonText,\n    mode: UploadModel,\n    onChange: onChange,\n    beforeUpload: beforeUpload,\n    onRemove: onRemove,\n    onChangeFileName: onChangeFileName,\n    accept: fileType || '',\n    uploadNum: UploadNum,\n    noticeInfo: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(_context6 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(_context7 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(_context8 = \"\\u8BF7\\u4E0A\\u4F20\\u5C0F\\u4E8E\".concat(maxSize, \"M\\u7684\")).call(_context8, fileType === null || fileType === void 0 ? void 0 : _babel_runtime_corejs3_core_js_instance_replace_all__WEBPACK_IMPORTED_MODULE_13___default()(fileType).call(fileType, '.', ''), \"\\u6587\\u4EF6\\uFF0C\\u6587\\u4EF6\\u4E2A\\u6570\\u4E0D\\u5C11\\u4E8E\")).call(_context7, (UploadNum === null || UploadNum === void 0 ? void 0 : UploadNum.min) || 0, \"\\u4E2A\\uFF0C\\u4E0D\\u591A\\u4E8E\")).call(_context6, (UploadNum === null || UploadNum === void 0 ? void 0 : UploadNum.max) || 1, \"\\u4E2A\")\n  }, \"mode\", 1))));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.memo)(AttachmentDefValueEditor));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc5MDAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVFBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9BdHRhY2htZW50RGVmVmFsdWVFZGl0b3IudHN4P2Q5Y2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IG1lbW8sIHVzZUNvbnRleHQsIHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQnXG5pbXBvcnQgeyBOYW1lVGlwV3JhcHBlciwgUHJvcGVydHlFZGl0b3JQcm9wcyB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCBwcm9kdWNlIGZyb20gJ2ltbWVyJ1xuaW1wb3J0IHsgZ2V0VXJsV2l0aERhdGFDZW50ZXIsIGlzSnNvbiB9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IHsgQXR0YWNobWVudCwgV2ViTXNnIH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcblxuY29uc3QgQXR0YWNobWVudERlZlZhbHVlRWRpdG9yOlJlYWN0LkZDPFByb3BlcnR5RWRpdG9yUHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaGFuZGxlQ2hhbmdlLCB2YWx1ZSwgY2xhc3NOYW1lLCBlZGl0b3IsIE5hbWUsIFRpcHM6IHRpcHMsIGZpZWxkIH0gPSBwcm9wc1xuICBjb25zdCB7IE5hbWVIaWRkZW46IG5hbWVIaWRkZW4sIFJlcXVpcmVkOiByZXF1aXJlZCwgVGl0bGU6IG5hbWVUaXRsZSB9ID0gZWRpdG9yXG4gIGNvbnN0IHsgRmlsZU1heFNpemUsIFVwbG9hZE51bSwgVXBsb2FkTW9kZWwsIEF0dGFjaG1lbnRGaWxlVHlwZSwgRmllbGRUeXBlLCBCdXR0b25UZXh0IH0gPSBmaWVsZFxuICBjb25zdCB7IGdldEtkZXNpZ25lckFwaSwgYmFzZVVybCwgaW52b2tlQWN0aW9uIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3QgW3RpdGxlLCBzZXRUaXRsZV0gPSB1c2VTdGF0ZSgnJylcbiAgY29uc3QgW2RhdGFzLCBzZXREYXRhc10gPSB1c2VTdGF0ZShbXSlcbiAgY29uc3QgW3NlbGVjdGVkRm9ybSwgc2V0U2VsZWN0ZWRGb3JtXSA9IHVzZVN0YXRlKCcnKVxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0LCBtZXRhOiBtZXRhQ29udGV4dCB9ID0gZ2V0S2Rlc2lnbmVyQXBpKClcbiAgY29uc3QgeyBnZXRDb250cm9sUHJvcGVydHlEZWZhdWx0VmFsdWUgfSA9IG1ldGFDb250ZXh0XG4gIGNvbnN0IGF0dGFjaG1lbnREZWZhdWx0VHlwZSA9IGdldENvbnRyb2xQcm9wZXJ0eURlZmF1bHRWYWx1ZShGaWVsZFR5cGUsICdBdHRhY2htZW50RmlsZVR5cGUnKSAvLyDpu5jorqTlm77niYfnsbvlnotcbiAgY29uc3QgZmlsZU1heFNpemVEZWYgPSBnZXRDb250cm9sUHJvcGVydHlEZWZhdWx0VmFsdWUoRmllbGRUeXBlLCAnRmlsZU1heFNpemUnKSAvLyDpu5jorqTlm77niYfnsbvlnotcblxuICBjb25zdCBtYXhTaXplID0gRmlsZU1heFNpemUgfHwgZmlsZU1heFNpemVEZWYgLy8g5pyA5aSn5LiK5Lyg5paH5Lu2LOmcgOimgeWIpOepuueUqOaIt+acquiuvue9ruaXtuS7jmRlZmF1bHTojrflj5ZcbiAgY29uc3QgZmlsZVR5cGUgPSBBdHRhY2htZW50RmlsZVR5cGUgfHwgYXR0YWNobWVudERlZmF1bHRUeXBlIC8vIOaUr+aMgeeahOaWh+S7tuexu+WeiyzpnIDopoHliKTnqbpcbiAgY29uc3QgdXBsb2FkUmVmID0gdXNlUmVmKG5ldyBNYXAoKSkgLy8g5LiK5Lyg5oiQ5Yqf55qE5YiX6KGoXG4gIC8vIOWwhuWtl+espuS4sui9rOaIkOaYvuekuuaVsOaNrlxuICBjb25zdCB0cmFuc2Zvcm1EYXRhID0gdXNlQ2FsbGJhY2soKHN0cjpzdHJpbmcpID0+IHtcbiAgICBpZiAoIXN0ciB8fCBzdHIgPT09ICd7fScpIHJldHVybiBbXVxuICAgIGlmIChpc0pzb24oc3RyKSkge1xuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2Uoc3RyKVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEubWFwKChpdGVtOmFueSkgPT4ge1xuICAgICAgICAgIHVwbG9hZFJlZi5jdXJyZW50LnNldChpdGVtLnVpZCwgaXRlbSkgLy8g57yT5a2Y5bey57uP5LiK5Lyg5oiQ5Yqf55qE5YiX6KGoXG4gICAgICAgICAgcmV0dXJuIHsgLi4uaXRlbSwgdXJsOiAoYmFzZVVybC5hdHRhY2htZW50ICsgaXRlbS51cmwpIH1cbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkYXRhLnZhbHVlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnJ1xuICB9LCBbXSlcblxuICAvLyDnm5HlkKzmlbDmja7lj5jljJZcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB1cGxvYWRSZWYuY3VycmVudCA9IG5ldyBNYXAoKVxuICAgIGNvbnN0IHRyYW5zZm9ybWVkVmFsdWUgPSB0cmFuc2Zvcm1EYXRhKHZhbHVlKVxuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkVmFsdWUpKSB7XG4gICAgICBzZXREYXRhcyh0cmFuc2Zvcm1lZFZhbHVlKVxuICAgICAgc2V0U2VsZWN0ZWRGb3JtKCcnKVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTZWxlY3RlZEZvcm0odHJhbnNmb3JtZWRWYWx1ZSlcbiAgICB9XG4gIH0sIFt0cmFuc2Zvcm1EYXRhLCB2YWx1ZSwgc2V0RGF0YXNdKVxuXG4gIC8vIOaYvuekuumUmeivr+S/oeaBr1xuICBjb25zdCBzaG93RXJyTXNnID0gdXNlQ2FsbGJhY2soKGNvbnRlbnQpID0+IHtcbiAgICBXZWJNc2cuc2hvd05vdGlmaWNhdGlvbk1zZyh7IHBhcmFtOiBbeyB0eXBlOiAyLCBjb250ZW50LCBkdXJhdGlvbjogMjAwMCB9XSB9KVxuICB9LCBbXSlcblxuICAvLyDkuIrkvKDliY3miafooYwsIOagoemqjOaWh+S7tuWkp+Wwj+WPiuS4iuS8oOS4quaVsFxuICBjb25zdCBiZWZvcmVVcGxvYWQgPSB1c2VDYWxsYmFjaygoZmlsZSwgbGlzdCkgPT4ge1xuICAgIGlmIChVcGxvYWROdW0/Lm1heCAmJiBsaXN0Lmxlbmd0aCA+IFVwbG9hZE51bS5tYXgpIHsgLy8g5LiK5Lyg5Liq5pWw5o2u5qCh6aqMXG4gICAgICBzaG93RXJyTXNnKGDmnIDlpJrlj6rog73kuIrkvKAke1VwbG9hZE51bS5tYXh95Liq5paH5Lu277yM6K+36YeN5paw6YCJ5oupYClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAobWF4U2l6ZSAmJiAoZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQpID4gbWF4U2l6ZSkgeyAvLyDljZXkuKrmlofku7blpKflsI/mmK/lkKbotoXov4dcbiAgICAgIHNob3dFcnJNc2coYOivt+S4iuS8oOWwj+S6jiR7bWF4U2l6ZX1N55qE5paH5Lu2YClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9LCBbVXBsb2FkTnVtPy5tYXgsIG1heFNpemVdKVxuXG4gIC8vIGNoYW5nZeS6i+S7tiwg5pu05pawXG4gIGNvbnN0IG9uQ2hhbmdlID0gdXNlQ2FsbGJhY2soKHsgZmlsZSwgZmlsZUxpc3QgfSkgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKCdvbkNoYW5nZScsIGZpbGVMaXN0KVxuICAgIGlmIChmaWxlLnN0YXR1cyA9PT0gJ2RvbmUnICYmIGZpbGUucmVzcG9uc2Uuc3RhdHVzKSB7XG4gICAgICBjb25zdCB7IGxhc3RNb2RpZmllZCwgdWlkLCBuYW1lLCB0eXBlLCBzaXplLCByZXNwb25zZSB9ID0gZmlsZVxuICAgICAgY29uc3QgcGFyYW0gPSB7XG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICB1cmw6IGZpbGUucmVzcG9uc2UuZGF0YS51cmwsXG4gICAgICAgIHVwbG9hZFRpbWU6IERhdGUubm93KClcbiAgICAgIH1cbiAgICAgIHVwbG9hZFJlZi5jdXJyZW50LnNldChmaWxlLnVpZCwgeyBsYXN0TW9kaWZpZWQsIHVpZCwgbmFtZSwgdHlwZSwgc2l6ZSwgLi4ucGFyYW0gfSlcbiAgICAgIGhhbmRsZUNoYW5nZShKU09OLnN0cmluZ2lmeShbLi4udXBsb2FkUmVmLmN1cnJlbnQudmFsdWVzKCldKSlcbiAgICAgIGNvbnN0IG5ld0xpc3QgPSBmaWxlTGlzdC5tYXAoKGl0ZW06YW55KSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtLnVpZCA9PT0gZmlsZS51aWQgPyB1cGxvYWRSZWYuY3VycmVudC5nZXQoZmlsZS51aWQpIDogaXRlbVxuICAgICAgfSlcbiAgICAgIHNldERhdGFzKG5ld0xpc3QpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNldERhdGFzKFsuLi5maWxlTGlzdF0pXG4gICAgfVxuICB9LCBbaGFuZGxlQ2hhbmdlXSlcblxuICAvLyDliKDpmaRcbiAgY29uc3Qgb25SZW1vdmUgPSB1c2VDYWxsYmFjaygoZmlsZTphbnkpID0+IHtcbiAgICBjb25zdCBuZXdEYXRhID0gZGF0YXMuZmlsdGVyKChpdGVtOmFueSkgPT4gaXRlbS51aWQgIT09IGZpbGUudWlkKVxuICAgIGNvbnN0IG5ld0ZpbGUgPSB1cGxvYWRSZWYuY3VycmVudC5nZXQoZmlsZS51aWQpIC8vIOS4iuS8oOaIkOWKn+WIl+ihqFxuICAgIGlmIChuZXdGaWxlKSB7IC8vIOS4iuS8oOaIkOWKn+aWh+S7tizmm7TmlrBwb3N0RGF0YVxuICAgICAgdXBsb2FkUmVmLmN1cnJlbnQuZGVsZXRlKGZpbGUudWlkKVxuICAgICAgY29uc3Qgc3RyID0gdXBsb2FkUmVmLmN1cnJlbnQuc2l6ZSA+IDAgPyBKU09OLnN0cmluZ2lmeShbLi4udXBsb2FkUmVmLmN1cnJlbnQudmFsdWVzKCldKSA6ICcnXG4gICAgICBoYW5kbGVDaGFuZ2Uoc3RyKSAvLyDotbBwb3N0RGF0YVxuICAgICAgaW52b2tlQWN0aW9uKCdiZWZvcmVSZW1vdmUnLCBbeyB1cmw6IG5ld0ZpbGUudXJsIH1dLCBbXSlcbiAgICB9XG4gICAgc2V0RGF0YXMoWy4uLm5ld0RhdGFdKVxuICAgIHJldHVybiB0cnVlXG4gIH0sIFtkYXRhcywgaGFuZGxlQ2hhbmdlLCBpbnZva2VBY3Rpb25dKVxuXG4gIC8vIOS/ruaUueaWh+S7tuWQjVxuICBjb25zdCBvbkNoYW5nZUZpbGVOYW1lID0gdXNlQ2FsbGJhY2soKGluZm86YW55KSA9PiB7XG4gICAgY29uc3QgZmlsZSA9IHVwbG9hZFJlZi5jdXJyZW50LmdldChpbmZvLnVpZClcbiAgICBpZiAoZmlsZSkge1xuICAgICAgZmlsZS5uYW1lID0gaW5mby5uYW1lXG4gICAgICB1cGxvYWRSZWYuY3VycmVudC5zZXQoaW5mby51aWQsIGZpbGUpXG4gICAgICBoYW5kbGVDaGFuZ2UoSlNPTi5zdHJpbmdpZnkoWy4uLnVwbG9hZFJlZi5jdXJyZW50LnZhbHVlcygpXSkpXG4gICAgfVxuICAgIHNldERhdGFzKHByb2R1Y2UoKGRyYWY6YW55W10pID0+IHtcbiAgICAgIGRyYWYuZm9yRWFjaCgoaXRlbTphbnkpID0+IHtcbiAgICAgICAgaWYgKGl0ZW0udWlkID09PSBpbmZvLnVpZCkge1xuICAgICAgICAgIGl0ZW0ubmFtZSA9IGluZm8ubmFtZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pKVxuICB9LCBbZGF0YXMsIGhhbmRsZUNoYW5nZV0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRUaXRsZShgJHtOYW1lfSgke3VwbG9hZFJlZi5jdXJyZW50LnNpemV9LyR7VXBsb2FkTnVtPy5tYXggfHwgMX0pYClcbiAgfSwgW1VwbG9hZE51bSwgZGF0YXNdKVxuXG4gIC8vIGNvbnNvbGUubG9nKCdBdHRhY2htZW50RGVmVmFsdWVFZGl0b3InLCB1cGxvYWRSZWYuY3VycmVudCwgZmllbGQpXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2Ake2NsYXNzTmFtZX0tYXR0YWNobWVudC1lZGl0b3JgfT5cbiAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnOHB4JyB9fT5cbiAgICAgICAgPE5hbWVUaXBXcmFwcGVyIG5hbWVIaWRkZW49e25hbWVIaWRkZW59IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBuYW1lPXt0aXRsZX0gdGlwcz17dGlwc30gcmVxdWlyZWQ9e3JlcXVpcmVkfSB0aXRsZT17bmFtZVRpdGxlfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICB7XG4gICAgICAgICFzZWxlY3RlZEZvcm0gJiYgKFxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8QXR0YWNobWVudFxuICAgICAgICAgICAgICBtdWx0aXBsZVxuICAgICAgICAgICAgICBhY3Rpb249e2dldFVybFdpdGhEYXRhQ2VudGVyKHdpbmRvdy5fX2RvbWFpbnVybF9fICsgJ25vY29kZS92Mi9ub2NvZGVfc3lzL2F0dGFjaG1lbnQnKX1cbiAgICAgICAgICAgICAgZGF0YT17eyBhY3Rpb246ICd1cGxvYWQnLCB0ZW1wc3RvcmFnZTogZmFsc2UsIGlzRGVzaWduZXI6IHRydWUgfX1cbiAgICAgICAgICAgICAgZmlsZUxpc3Q9e2RhdGFzfVxuICAgICAgICAgICAgLy8gZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgICAgLy8gcmVhZG9ubHk9e3JlYWRvbmx5fVxuICAgICAgICAgICAgICBidXR0b25UZXh0PXtCdXR0b25UZXh0fVxuICAgICAgICAgICAgICBtb2RlPXtVcGxvYWRNb2RlbH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAgICAgICBiZWZvcmVVcGxvYWQ9e2JlZm9yZVVwbG9hZH1cbiAgICAgICAgICAgICAgb25SZW1vdmU9e29uUmVtb3ZlfVxuICAgICAgICAgICAgICBvbkNoYW5nZUZpbGVOYW1lPXtvbkNoYW5nZUZpbGVOYW1lfVxuICAgICAgICAgICAgICBhY2NlcHQ9e2ZpbGVUeXBlIHx8ICcnfVxuICAgICAgICAgICAgICB1cGxvYWROdW09e1VwbG9hZE51bX1cbiAgICAgICAgICAgICAgbm90aWNlSW5mbz17YOivt+S4iuS8oOWwj+S6jiR7bWF4U2l6ZX1N55qEJHtmaWxlVHlwZT8ucmVwbGFjZUFsbCgnLicsICcnKX3mlofku7bvvIzmlofku7bkuKrmlbDkuI3lsJHkuo4ke1VwbG9hZE51bT8ubWluIHx8IDB95Liq77yM5LiN5aSa5LqOJHtVcGxvYWROdW0/Lm1heCB8fCAxfeS4qmB9XG4gICAgICAgICAgICAgIG1vZGU9ezF9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICB9XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWVtbyhBdHRhY2htZW50RGVmVmFsdWVFZGl0b3IpXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///47900\n");

/***/ }),

/***/ 53712:
/*!*****************************************************!*\
  !*** ./src/editors/BackgroundImageEditor/index.tsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ 28429);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_url__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/url */ 13872);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_url__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_url__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils */ 41232);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../constants */ 98092);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_15__);\n\n\n\n\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-02-06 15:41:37\n * @LastEditTime: 2023-06-29 16:28:28\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\n\nvar UPLOAD_IMAGE_URL = (0,_utils__WEBPACK_IMPORTED_MODULE_12__.getUrlWithDataCenter)((0,_utils__WEBPACK_IMPORTED_MODULE_12__.getFullUrl)('nocode/v2/nocode_sys/image'));\nvar uploadImage = function uploadImage(file) {\n  return new (_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_3___default())(function (resolve, reject) {\n    var formData = new FormData();\n    formData.append('file', file);\n    formData.append('action', 'upload');\n    formData.append('tempstorage', 'true');\n    var request = new XMLHttpRequest();\n    request.open('POST', UPLOAD_IMAGE_URL);\n    request.onload = function (e) {\n      if (this.status === 200 && e.target.response) {\n        resolve(JSON.parse(e.target.response));\n      } else {\n        reject(e);\n      }\n    };\n    request.onerror = function (e) {\n      reject(e);\n    };\n    request.send(formData);\n  });\n};\nvar ACCEPT_IMG_TYPE = ['image/png', 'image/jpeg', 'image/jpg'];\nvar BackgroundImageEditor = function BackgroundImageEditor(props) {\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useContext)(_context__WEBPACK_IMPORTED_MODULE_9__.DesignerContext),\n    baseUrl = _useContext.baseUrl,\n    showMessage = _useContext.showMessage;\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    name = props.Name,\n    tips = props.Tips;\n  var nameHidden = editor.NameHidden,\n    Default = editor.Default,\n    required = editor.Required,\n    _editor$Images = editor.Images,\n    images = _editor$Images === void 0 ? [] : _editor$Images,\n    title = editor.Title;\n  var editorValue = (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_13__.isUndefined)(value) ? Default : String(value);\n  var bgImageClassName = \"\".concat(className, \"-bgimage\");\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState, 2),\n    visible = _useState2[0],\n    setVisible = _useState2[1];\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useState)(''),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState3, 2),\n    src = _useState4[0],\n    setSrc = _useState4[1];\n  var _React$useState = kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().useState(editorValue !== null && editorValue !== void 0 ? editorValue : (0,_utils__WEBPACK_IMPORTED_MODULE_12__.getBackImageUrl)(baseUrl.picture, editorValue)),\n    _React$useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_React$useState, 2),\n    imageUrl = _React$useState2[0],\n    setImageUrl = _React$useState2[1];\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(function () {\n    if (editorValue) setImageUrl((0,_utils__WEBPACK_IMPORTED_MODULE_12__.getBackImageUrl)(baseUrl.picture, editorValue));\n  }, [editorValue]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(function () {\n    !editorValue && handleBgImageChange(Default);\n  }, []);\n  var handleBgImageChange = function handleBgImageChange(value) {\n    if (locked) return;\n    handleChange(value);\n  };\n  var beforeUpload = function beforeUpload(file) {\n    if (!_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default()(ACCEPT_IMG_TYPE).call(ACCEPT_IMG_TYPE, file.type)) {\n      var _context;\n      console.error(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(_context = \"\".concat(file.name, \" \\u4E0D\\u662F\\u4E00\\u4E2A \")).call(_context, ACCEPT_IMG_TYPE.toString(), \" \\u6587\\u4EF6\"));\n      return;\n    }\n    if (src) {\n      _babel_runtime_corejs3_core_js_stable_url__WEBPACK_IMPORTED_MODULE_6___default().revokeObjectURL(src);\n    }\n    var str = _babel_runtime_corejs3_core_js_stable_url__WEBPACK_IMPORTED_MODULE_6___default().createObjectURL(file);\n    setSrc(str);\n    setVisible(true);\n    return false;\n  };\n  var handleClose = function handleClose() {\n    setVisible(false);\n  };\n  var handleSuccess = function handleSuccess(imgFile) {\n    var reader = new FileReader();\n    reader.readAsDataURL(imgFile);\n    reader.addEventListener('load', function () {\n      uploadImage(imgFile).then(function (_ref) {\n        var data = _ref.data,\n          errorCode = _ref.errorCode;\n        if (errorCode === '0') {\n          var _ref2 = data || {},\n            url = _ref2.url;\n          if (!url) return;\n          var fullImageUrl = (0,_utils__WEBPACK_IMPORTED_MODULE_12__.getBackImageUrl)(baseUrl.picture, url);\n          setImageUrl(fullImageUrl);\n          handleChange(url);\n        } else {\n          console.error('裁剪图片失败', errorCode, data);\n          showMessage('裁剪图片失败，请稍后重试');\n        }\n      }).catch(function (e) {\n        console.error('裁剪图片失败', e);\n        showMessage('裁剪图片失败，请稍后重试');\n      }).finally(function () {\n        return setVisible(false);\n      });\n    });\n  };\n  var onChange = function onChange(_ref3) {\n    var file = _ref3.file;\n  } // if (file.status === 'done' && file.response.status) {\n  //   const { response } = file\n  //   handleChange(response.data.url)\n  //   setImageUrl(baseUrl.picture + response.data.url)\n  // }\n  ;\n  var uploadButton = /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(\"div\", null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__.Icon, {\n    className: \"\".concat(bgImageClassName, \"-content-upload-add\"),\n    type: \"add\"\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(\"p\", {\n    className: \"\".concat(bgImageClassName, \"-content-upload-text\")\n  }, \"\\u4E0A\\u4F20\\u81EA\\u5B9A\\u4E49\\u56FE\\u7247\"));\n\n  // 上传参数\n  var uploadProps = {\n    data: {\n      action: 'upload',\n      tempstorage: true\n    },\n    name: 'file',\n    action: 'nocode/v2/nocode_sys/image',\n    showUploadList: false,\n    listType: 'picture',\n    accept: ACCEPT_IMG_TYPE.toString(),\n    onChange: onChange,\n    beforeUpload: beforeUpload\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_10__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(\"div\", {\n    className: \"\".concat(bgImageClassName, \"-content\")\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default()(_constants__WEBPACK_IMPORTED_MODULE_14__.BGIMG_DESC_LIST).call(_constants__WEBPACK_IMPORTED_MODULE_14__.BGIMG_DESC_LIST, function (item, index) {\n    var path = images[index] || images[0];\n    var bgImage = (0,_utils__WEBPACK_IMPORTED_MODULE_12__.getFullImageUrl)(path);\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(\"div\", {\n      key: index,\n      className: \"\".concat(bgImageClassName, \"-content-item\"),\n      onClick: function onClick() {\n        return handleBgImageChange(path);\n      }\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(\"img\", {\n      className: \"\".concat(bgImageClassName, \"-content-image\"),\n      src: bgImage,\n      alt: item.name\n    }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(\"div\", {\n      className: \"\".concat(bgImageClassName, \"-content-handle\")\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(\"span\", {\n      className: \"\".concat(bgImageClassName, \"-content-text\")\n    }, item.name), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(\"span\", {\n      className: classnames__WEBPACK_IMPORTED_MODULE_15___default()(\"\".concat(bgImageClassName, \"-content-uncheck\"), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, \"\".concat(bgImageClassName, \"-content-check\"), path === editorValue))\n    })));\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__.Upload, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    className: \"\".concat(bgImageClassName, \"-content-upload\")\n  }, uploadProps), imageUrl && !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default()(images).call(images, editorValue) ? /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(\"img\", {\n    src: (0,_utils__WEBPACK_IMPORTED_MODULE_12__.getUrlWithDataCenter)(imageUrl),\n    alt: \"avatar\",\n    style: {\n      width: '100%'\n    }\n  }) : uploadButton), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__.ImageCropper, {\n    autoCropArea: 1,\n    imageMaxSize: 20,\n    containerWidth: 800,\n    containerHeight: 588,\n    aspectRatio: 6 / 1,\n    visible: visible,\n    title: \"\\u56FE\\u7247\\u88C1\\u526A\",\n    image: src,\n    onClose: handleClose,\n    onCropSuccess: handleSuccess,\n    dragMode: \"move\",\n    cropBoxMovable: false,\n    className: \"\".concat(bgImageClassName, \"-content-cropper\"),\n    okText: \"\\u786E\\u5B9A\\u88C1\\u526A\"\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (BackgroundImageEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTM3MTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFEQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQU1BO0FBSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUtBO0FBR0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9CYWNrZ3JvdW5kSW1hZ2VFZGl0b3IvaW5kZXgudHN4PzNhNDgiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMy0wMi0wNiAxNTo0MTozN1xuICogQExhc3RFZGl0VGltZTogMjAyMy0wNi0yOSAxNjoyODoyOFxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCwgeyBGQywgdXNlU3RhdGUsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dCdcbmltcG9ydCB7IE5hbWVUaXBXcmFwcGVyLCBQcm9wZXJ0eUVkaXRvclByb3BzIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgSW1hZ2VDcm9wcGVyLCBVcGxvYWQsIEljb24gfSBmcm9tICdAa2RjbG91ZGpzL2tkZXNpZ24nXG5pbXBvcnQgeyBnZXRGdWxsVXJsLCBnZXRGdWxsSW1hZ2VVcmwsIGdldEJhY2tJbWFnZVVybCwgZ2V0VXJsV2l0aERhdGFDZW50ZXIgfSBmcm9tICcuLi8uLi91dGlscydcbmltcG9ydCB7IGlzVW5kZWZpbmVkIH0gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IHsgQkdJTUdfREVTQ19MSVNUIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJ1xuXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xuXG5jb25zdCBVUExPQURfSU1BR0VfVVJMID0gZ2V0VXJsV2l0aERhdGFDZW50ZXIoZ2V0RnVsbFVybCgnbm9jb2RlL3YyL25vY29kZV9zeXMvaW1hZ2UnKSlcblxuY29uc3QgdXBsb2FkSW1hZ2UgPSAoZmlsZSkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKClcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKVxuICAgIGZvcm1EYXRhLmFwcGVuZCgnYWN0aW9uJywgJ3VwbG9hZCcpXG4gICAgZm9ybURhdGEuYXBwZW5kKCd0ZW1wc3RvcmFnZScsICd0cnVlJylcbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcbiAgICByZXF1ZXN0Lm9wZW4oJ1BPU1QnLCBVUExPQURfSU1BR0VfVVJMKVxuICAgIHJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwICYmIGUudGFyZ2V0LnJlc3BvbnNlKSB7XG4gICAgICAgIHJlc29sdmUoSlNPTi5wYXJzZShlLnRhcmdldC5yZXNwb25zZSkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWplY3QoZSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IHtcbiAgICAgIHJlamVjdChlKVxuICAgIH1cbiAgICByZXF1ZXN0LnNlbmQoZm9ybURhdGEpXG4gIH0pXG59XG5cbmNvbnN0IEFDQ0VQVF9JTUdfVFlQRSA9IFsnaW1hZ2UvcG5nJywgJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvanBnJ11cblxuY29uc3QgQmFja2dyb3VuZEltYWdlRWRpdG9yOiBGQzxQcm9wZXJ0eUVkaXRvclByb3BzPiA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7IGJhc2VVcmwsIHNob3dNZXNzYWdlIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcblxuICBjb25zdCB7IGhhbmRsZUNoYW5nZSwgdmFsdWUsIGNsYXNzTmFtZSwgZWRpdG9yLCBsb2NrZWQsIE5hbWU6IG5hbWUsIFRpcHM6IHRpcHMgfSA9IHByb3BzXG4gIGNvbnN0IHsgTmFtZUhpZGRlbjogbmFtZUhpZGRlbiwgRGVmYXVsdCwgUmVxdWlyZWQ6IHJlcXVpcmVkLCBJbWFnZXM6IGltYWdlcyA9IFtdLCBUaXRsZTogdGl0bGUgfSA9IGVkaXRvclxuXG4gIGNvbnN0IGVkaXRvclZhbHVlID0gaXNVbmRlZmluZWQodmFsdWUpID8gRGVmYXVsdCA6IFN0cmluZyh2YWx1ZSlcblxuICBjb25zdCBiZ0ltYWdlQ2xhc3NOYW1lID0gYCR7Y2xhc3NOYW1lfS1iZ2ltYWdlYFxuXG4gIGNvbnN0IFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbc3JjLCBzZXRTcmNdID0gdXNlU3RhdGUoJycpXG4gIGNvbnN0IFtpbWFnZVVybCwgc2V0SW1hZ2VVcmxdID0gUmVhY3QudXNlU3RhdGUoZWRpdG9yVmFsdWUgPz8gZ2V0QmFja0ltYWdlVXJsKGJhc2VVcmwucGljdHVyZSwgZWRpdG9yVmFsdWUpKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGVkaXRvclZhbHVlKSBzZXRJbWFnZVVybChnZXRCYWNrSW1hZ2VVcmwoYmFzZVVybC5waWN0dXJlLCBlZGl0b3JWYWx1ZSkpXG4gIH0sIFtlZGl0b3JWYWx1ZV0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAhZWRpdG9yVmFsdWUgJiYgaGFuZGxlQmdJbWFnZUNoYW5nZShEZWZhdWx0KVxuICB9LCBbXSlcblxuICBjb25zdCBoYW5kbGVCZ0ltYWdlQ2hhbmdlID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKGxvY2tlZCkgcmV0dXJuXG5cbiAgICBoYW5kbGVDaGFuZ2UodmFsdWUpXG4gIH1cblxuICBjb25zdCBiZWZvcmVVcGxvYWQgPSAoZmlsZSkgPT4ge1xuICAgIGlmICghQUNDRVBUX0lNR19UWVBFLmluY2x1ZGVzKGZpbGUudHlwZSkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYCR7ZmlsZS5uYW1lfSDkuI3mmK/kuIDkuKogJHtBQ0NFUFRfSU1HX1RZUEUudG9TdHJpbmcoKX0g5paH5Lu2YClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChzcmMpIHtcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoc3JjKVxuICAgIH1cbiAgICBjb25zdCBzdHIgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpXG4gICAgc2V0U3JjKHN0cilcbiAgICBzZXRWaXNpYmxlKHRydWUpXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBjb25zdCBoYW5kbGVDbG9zZSA9ICgpID0+IHtcbiAgICBzZXRWaXNpYmxlKGZhbHNlKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChpbWdGaWxlKSA9PiB7XG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGltZ0ZpbGUpXG5cbiAgICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIHVwbG9hZEltYWdlKGltZ0ZpbGUpLnRoZW4oKHtcbiAgICAgICAgZGF0YSxcbiAgICAgICAgZXJyb3JDb2RlXG4gICAgICB9KSA9PiB7XG4gICAgICAgIGlmIChlcnJvckNvZGUgPT09ICcwJykge1xuICAgICAgICAgIGNvbnN0IHsgdXJsIH0gPSBkYXRhIHx8IHt9XG5cbiAgICAgICAgICBpZiAoIXVybCkgcmV0dXJuXG5cbiAgICAgICAgICBjb25zdCBmdWxsSW1hZ2VVcmwgPSBnZXRCYWNrSW1hZ2VVcmwoYmFzZVVybC5waWN0dXJlLCB1cmwpXG4gICAgICAgICAgc2V0SW1hZ2VVcmwoZnVsbEltYWdlVXJsKVxuICAgICAgICAgIGhhbmRsZUNoYW5nZSh1cmwpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign6KOB5Ymq5Zu+54mH5aSx6LSlJywgZXJyb3JDb2RlLCBkYXRhKVxuICAgICAgICAgIHNob3dNZXNzYWdlKCfoo4Hliarlm77niYflpLHotKXvvIzor7fnqI3lkI7ph43or5UnKVxuICAgICAgICB9XG4gICAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfoo4Hliarlm77niYflpLHotKUnLCBlKVxuICAgICAgICBzaG93TWVzc2FnZSgn6KOB5Ymq5Zu+54mH5aSx6LSl77yM6K+356iN5ZCO6YeN6K+VJylcbiAgICAgIH0pLmZpbmFsbHkoKCkgPT4gc2V0VmlzaWJsZShmYWxzZSkpXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IG9uQ2hhbmdlID0gKHsgZmlsZSB9KSA9PiB7XG4gICAgLy8gaWYgKGZpbGUuc3RhdHVzID09PSAnZG9uZScgJiYgZmlsZS5yZXNwb25zZS5zdGF0dXMpIHtcbiAgICAvLyAgIGNvbnN0IHsgcmVzcG9uc2UgfSA9IGZpbGVcbiAgICAvLyAgIGhhbmRsZUNoYW5nZShyZXNwb25zZS5kYXRhLnVybClcbiAgICAvLyAgIHNldEltYWdlVXJsKGJhc2VVcmwucGljdHVyZSArIHJlc3BvbnNlLmRhdGEudXJsKVxuICAgIC8vIH1cbiAgfVxuXG4gIGNvbnN0IHVwbG9hZEJ1dHRvbiA9IChcbiAgICA8ZGl2PlxuICAgICAgPEljb24gY2xhc3NOYW1lPXtgJHtiZ0ltYWdlQ2xhc3NOYW1lfS1jb250ZW50LXVwbG9hZC1hZGRgfSB0eXBlPSdhZGQnIC8+XG4gICAgICA8cCBjbGFzc05hbWU9e2Ake2JnSW1hZ2VDbGFzc05hbWV9LWNvbnRlbnQtdXBsb2FkLXRleHRgfT7kuIrkvKDoh6rlrprkuYnlm77niYc8L3A+XG4gICAgPC9kaXY+XG4gIClcblxuICAvLyDkuIrkvKDlj4LmlbBcbiAgY29uc3QgdXBsb2FkUHJvcHMgPSB7XG4gICAgZGF0YToge1xuICAgICAgYWN0aW9uOiAndXBsb2FkJyxcbiAgICAgIHRlbXBzdG9yYWdlOiB0cnVlXG4gICAgfSxcbiAgICBuYW1lOiAnZmlsZScsXG4gICAgYWN0aW9uOiAnbm9jb2RlL3YyL25vY29kZV9zeXMvaW1hZ2UnLFxuICAgIHNob3dVcGxvYWRMaXN0OiBmYWxzZSxcbiAgICBsaXN0VHlwZTogJ3BpY3R1cmUnLFxuICAgIGFjY2VwdDogQUNDRVBUX0lNR19UWVBFLnRvU3RyaW5nKCksXG4gICAgb25DaGFuZ2UsXG4gICAgYmVmb3JlVXBsb2FkXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8TmFtZVRpcFdyYXBwZXIgbmFtZUhpZGRlbj17bmFtZUhpZGRlbn0gY2xhc3NOYW1lPXtjbGFzc05hbWV9IG5hbWU9e25hbWV9IHRpcHM9e3RpcHN9IHJlcXVpcmVkPXtyZXF1aXJlZH0gdGl0bGU9e3RpdGxlfSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake2JnSW1hZ2VDbGFzc05hbWV9LWNvbnRlbnRgfT5cbiAgICAgICAge1xuICAgICAgICAgIEJHSU1HX0RFU0NfTElTVC5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoID0gaW1hZ2VzW2luZGV4XSB8fCBpbWFnZXNbMF1cbiAgICAgICAgICAgIGNvbnN0IGJnSW1hZ2UgPSBnZXRGdWxsSW1hZ2VVcmwocGF0aClcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9e2Ake2JnSW1hZ2VDbGFzc05hbWV9LWNvbnRlbnQtaXRlbWB9IG9uQ2xpY2s9eygpID0+IGhhbmRsZUJnSW1hZ2VDaGFuZ2UocGF0aCl9PlxuICAgICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPXtgJHtiZ0ltYWdlQ2xhc3NOYW1lfS1jb250ZW50LWltYWdlYH0gc3JjPXtiZ0ltYWdlfSBhbHQ9e2l0ZW0ubmFtZX0gLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7YmdJbWFnZUNsYXNzTmFtZX0tY29udGVudC1oYW5kbGVgfT5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YCR7YmdJbWFnZUNsYXNzTmFtZX0tY29udGVudC10ZXh0YH0+e2l0ZW0ubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoYCR7YmdJbWFnZUNsYXNzTmFtZX0tY29udGVudC11bmNoZWNrYCwge1xuICAgICAgICAgICAgICAgICAgICBbYCR7YmdJbWFnZUNsYXNzTmFtZX0tY29udGVudC1jaGVja2BdOiBwYXRoID09PSBlZGl0b3JWYWx1ZVxuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIDxVcGxvYWRcbiAgICAgICAgICBjbGFzc05hbWU9e2Ake2JnSW1hZ2VDbGFzc05hbWV9LWNvbnRlbnQtdXBsb2FkYH1cbiAgICAgICAgICB7Li4udXBsb2FkUHJvcHN9XG4gICAgICAgID5cbiAgICAgICAgICB7aW1hZ2VVcmwgJiYgIWltYWdlcy5pbmNsdWRlcyhlZGl0b3JWYWx1ZSkgPyA8aW1nIHNyYz17Z2V0VXJsV2l0aERhdGFDZW50ZXIoaW1hZ2VVcmwpfSBhbHQ9J2F2YXRhcicgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fSAvPiA6IHVwbG9hZEJ1dHRvbn1cbiAgICAgICAgPC9VcGxvYWQ+XG4gICAgICAgIDxJbWFnZUNyb3BwZXJcbiAgICAgICAgICBhdXRvQ3JvcEFyZWE9ezF9XG4gICAgICAgICAgaW1hZ2VNYXhTaXplPXsyMH1cbiAgICAgICAgICBjb250YWluZXJXaWR0aD17ODAwfVxuICAgICAgICAgIGNvbnRhaW5lckhlaWdodD17NTg4fVxuICAgICAgICAgIGFzcGVjdFJhdGlvPXs2IC8gMX1cbiAgICAgICAgICB2aXNpYmxlPXt2aXNpYmxlfVxuICAgICAgICAgIHRpdGxlPSflm77niYfoo4HliaonXG4gICAgICAgICAgaW1hZ2U9e3NyY31cbiAgICAgICAgICBvbkNsb3NlPXtoYW5kbGVDbG9zZX1cbiAgICAgICAgICBvbkNyb3BTdWNjZXNzPXtoYW5kbGVTdWNjZXNzfVxuICAgICAgICAgIGRyYWdNb2RlPSdtb3ZlJ1xuICAgICAgICAgIGNyb3BCb3hNb3ZhYmxlPXtmYWxzZX1cbiAgICAgICAgICBjbGFzc05hbWU9e2Ake2JnSW1hZ2VDbGFzc05hbWV9LWNvbnRlbnQtY3JvcHBlcmB9XG4gICAgICAgICAgb2tUZXh0PSfnoa7lrproo4HliaonXG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8Lz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBCYWNrZ3JvdW5kSW1hZ2VFZGl0b3JcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///53712\n");

/***/ }),

/***/ 41732:
/*!**************************************************!*\
  !*** ./src/editors/BaseDefValueEditor/index.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/values */ 72400);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 24496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ 28429);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _components_BillQuickFinderModal__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../components/BillQuickFinderModal */ 30488);\n/* harmony import */ var _hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../hooks/useQueryEventData */ 23312);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../constants */ 98092);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../utils/control */ 3700);\n/* harmony import */ var _utils_treeUtils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../utils/treeUtils */ 31340);\n/* harmony import */ var _constants_actionName__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../constants/actionName */ 82964);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_25__);\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _Condition$constants = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_24__.Condition.constants,\n  allFieldRegExp = _Condition$constants.allFieldRegExp,\n  allExpRegExp = _Condition$constants.allExpRegExp;\n\n// 0 默认值, 1 查找表单, 2 公式计算\nvar defValueDefine = {\n  textDef: [0, 1, 2],\n  // 单行文本, 多行文本\n  decimalDef: [0, 1, 2],\n  // 数字\n  richEditorDef: [0, 1],\n  // 富文本\n  geoDef: [0, 1],\n  // 地理位置（地图+坐标）, 地址\n  addressDef: [0, 1],\n  selectDef: [0, 1, 2],\n  // 选项\n  refBillDef: [0, 1],\n  // 关联表单\n  dateRangeDef: [0, 1],\n  // 日期范围\n  dateDef: [0, 1, 2],\n  // 日期\n  imageDef: [0, 1],\n  // 图片\n  attachmentDef: [0, 1],\n  // 附件\n  groupContainerDef: [],\n  // 分组\n  entryEntityDef: [],\n  // 表格\n  graphicDisplay: []\n};\nvar options = [{\n  label: '查找表单记录',\n  key: 'search',\n  id: 1,\n  icon: 'chazhaobiaodanjilu-xian'\n}, {\n  label: '运算公式',\n  key: 'formula',\n  id: 2,\n  icon: 'yunsuangongshi'\n}];\nvar defaultQueryFormData = {\n  valueType: 2,\n  value: {\n    relationFormId: '',\n    filterInfos: [],\n    // [{ fieldName: \"def\", compareType: \"=\", value: [\"456\"] }]\n    sortInfos: [],\n    // [{ number: 'number', name: \"abc\", isAsc: true }]\n    result: [] // [{ sourceField: \"field1\", targetField: \"field2\" }]\n  }\n};\nvar defaultInputValue = {\n  valueType: 0,\n  value: ''\n};\nvar fileDefTypes = ['PictureDef', 'AttachmentDef'];\nvar BaseDefValueEditor = function BaseDefValueEditor(props) {\n  var _inputFieldProps$valu;\n  var onChange = props.handleChange,\n    valueProps = props.value,\n    className = props.className,\n    locked = props.locked,\n    Editor = props.Editor,\n    name = props.Name,\n    tips = props.Tips,\n    field = props.field,\n    id = props.id,\n    propName = props.propName,\n    inputFieldProps = props.inputFieldProps,\n    editorType = props.editorType,\n    getRenderValue = props.getRenderValue;\n  var nameHidden = Editor.NameHidden,\n    required = Editor.Required,\n    _Editor$minPlaceholde = Editor.minPlaceholder,\n    minPlaceholder = _Editor$minPlaceholde === void 0 ? '请输入' : _Editor$minPlaceholde,\n    _Editor$maxPlaceholde = Editor.maxPlaceholder,\n    maxPlaceholder = _Editor$maxPlaceholde === void 0 ? '请输入' : _Editor$maxPlaceholde,\n    title = Editor.Title;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useContext)(_context__WEBPACK_IMPORTED_MODULE_17__.DesignerContext),\n    prefixCls = _useContext.prefixCls,\n    invokeAction = _useContext.invokeAction,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    getExpressionData = _useContext.getExpressionData,\n    getRefBillData = _useContext.getRefBillData,\n    getDataRef = _useContext.getDataRef,\n    getCompareTypes = _useContext.getCompareTypes;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState, 2),\n    formulaVisible = _useState2[0],\n    setFormulaVisible = _useState2[1];\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useState)(false),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState3, 2),\n    billFinderVisible = _useState4[0],\n    setBillFinderVisible = _useState4[1];\n  var _useState5 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useState)(null),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState5, 2),\n    variableTree = _useState6[0],\n    setVariableTree = _useState6[1];\n  var _useState7 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useState)(null),\n    _useState8 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState7, 2),\n    fieldTree = _useState8[0],\n    setFieldTree = _useState8[1];\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    metaContext = _getKdesignerApi.meta;\n  var compareTypesMap = getCompareTypes();\n  var rootId = dataContext.getRootId();\n  var ParentId = field.ParentId;\n  var _dataContext$findCont = dataContext.findControl(ParentId),\n    ParentControlType = _dataContext$findCont._Type_;\n  var _useState9 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useState)(valueProps),\n    _useState10 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState9, 2),\n    value = _useState10[0],\n    setValue = _useState10[1];\n  var _useState11 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useState)(false),\n    _useState12 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState11, 2),\n    varSelectActive = _useState12[0],\n    setVarSelectActive = _useState12[1];\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useReducer)(function (n) {\n      return n + 1;\n    }, 0),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useReducer, 2),\n    forceUpdateNum = _useReducer2[0],\n    forceUpdate = _useReducer2[1];\n  var loadDataResolveFunc = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useRef)(null);\n  var lazyUpdateNode = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useRef)(null);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useEffect)(function () {\n    var removeDataChangeListener = dataContext.addDataChangeListener(function () {\n      forceUpdate();\n    });\n    return function () {\n      removeDataChangeListener();\n    };\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useEffect)(function () {\n    if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_25__.isEqual)(value, valueProps)) {\n      setValue(valueProps);\n    }\n  }, [valueProps]);\n  var debounceOnChange = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.useDebounce)(onChange);\n  var formMeta = getDataRef();\n  var getControlName = function getControlName(type) {\n    return metaContext.getControlMeta(type).Name;\n  };\n  var eventArgsParser = function eventArgsParser(args) {\n    return {\n      data: args.bizRule,\n      param: {}\n    };\n  };\n  var _useQueryEventData = (0,_hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_19__[\"default\"])({\n      id: field.Key,\n      eventName: _constants__WEBPACK_IMPORTED_MODULE_20__.SET_DEF_VALUE_FOR_QUERY_FORM,\n      parser: eventArgsParser\n    }),\n    queryFormData = _useQueryEventData.data;\n  var getInputValue = function getInputValue(value, valueType) {\n    try {\n      if (value && typeof value === 'string') {\n        var valueObject = JSON.parse(value);\n        return valueObject.valueType === valueType ? valueObject.value : '';\n      } else if (editorType === 'dateRangeDef') {\n        var start = value.start,\n          end = value.end;\n        var startObj = start && typeof start === 'string' && JSON.parse(start);\n        var endObj = end && typeof end === 'string' && JSON.parse(end);\n        if (valueType === 0) {\n          return {\n            start: (startObj === null || startObj === void 0 ? void 0 : startObj.valueType) === valueType ? startObj === null || startObj === void 0 ? void 0 : startObj.value : '',\n            end: (endObj === null || endObj === void 0 ? void 0 : endObj.valueType) === valueType ? endObj === null || endObj === void 0 ? void 0 : endObj.value : ''\n          };\n        } else if (valueType === 2) {\n          return (startObj === null || startObj === void 0 ? void 0 : startObj.valueType) === valueType ? startObj === null || startObj === void 0 ? void 0 : startObj.value : '';\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  var queryFormValue = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useMemo)(function () {\n    try {\n      return typeof queryFormData === 'string' ? getInputValue(queryFormData, 2) : queryFormData === null || queryFormData === void 0 ? void 0 : queryFormData.value;\n    } catch (e) {\n      console.error(e);\n    }\n  }, [queryFormData]);\n  var expressionData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useMemo)(function () {\n    return getExpressionData();\n  }, [getExpressionData]);\n  var refBillData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useMemo)(function () {\n    return getRefBillData();\n  }, [getRefBillData]);\n  var getOperations = function getOperations(functionOperations) {\n    return _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_7___default()(functionOperations);\n  };\n\n  /**\n   * 初始化注册侦听\n   */\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useEffect)(function () {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_23__.SET_REF_PROP_DISP, lazyUpdateAppChildren);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_23__.SET_REF_PROP_DISP, lazyUpdateAppChildren);\n    };\n  }, []);\n\n  // 根据表单元数据构建变量树（实时）\n  var dataItems = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useMemo)(function () {\n    return dataContext.findControlByCondition(function (item) {\n      var controlType = item._Type_,\n        ParentId = item.ParentId;\n      var _ref = ParentId ? dataContext.findControl(ParentId) || {} : {},\n        parentControlType = _ref._Type_;\n      return !(0,_utils_control__WEBPACK_IMPORTED_MODULE_21__.isEntryEntity)(parentControlType) && !(0,_utils_control__WEBPACK_IMPORTED_MODULE_21__.isEntryEntity)(controlType);\n    });\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useEffect)(function () {\n    var fieldTree = (0,_utils_treeUtils__WEBPACK_IMPORTED_MODULE_22__.translateDataToVariableTree)(dataItems, metaContext, false);\n    setFieldTree(fieldTree);\n  }, [dataItems]);\n  var operations = getOperations(expressionData.functionOperations);\n  var getOptions = function getOptions() {\n    var ids = defValueDefine[editorType];\n    return options === null || options === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(options).call(options, function (option) {\n      return ids === null || ids === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default()(ids).call(ids, option.id);\n    });\n  };\n  var selectOptions = getOptions();\n  var handleClear = function handleClear(e) {\n    e.stopPropagation();\n    invokeAction('deleteBizRule', [{\n      formId: formMeta.id,\n      fieldKey: field.Key\n    }], []);\n    handleChange(defaultInputValue);\n    setVarSelectActive(false);\n  };\n  var invokeGetFieldLookSetting = function invokeGetFieldLookSetting() {\n    invokeAction('getBizRule', [{\n      formId: formMeta.id,\n      fieldKey: field.Key\n    }], []);\n  };\n  var invokeGetListConfig = function invokeGetListConfig(formId) {\n    if (formId === rootId) {\n      return;\n    }\n    invokeAction('listtreeconfig', [formId]);\n  };\n  var invokeGetFieldRecords = function invokeGetFieldRecords(formId) {\n    var fieldName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    invokeAction('getFilterItemLook', [formId, {\n      getEnumData: 'true',\n      enumField: fieldName,\n      filterrows: []\n    }]);\n  };\n  var invokeSaveBizRule = function invokeSaveBizRule(ruleInfo) {\n    invokeAction('saveBizRule', [{\n      formId: formMeta.id,\n      fieldKey: field.Key,\n      ruleInfo: _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9___default()(ruleInfo)\n    }]);\n  };\n  var invokeActions = {\n    // invokeGetFieldLookSetting,\n    invokeGetListConfig: invokeGetListConfig,\n    invokeGetFieldRecords: invokeGetFieldRecords,\n    invokeSaveBizRule: invokeSaveBizRule\n  };\n  var handleChange = function handleChange(value) {\n    value = _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9___default()(value);\n    setValue(value);\n    debounceOnChange(value);\n  };\n  var handleDateRangeChange = function handleDateRangeChange(v, valueType) {\n    var _v = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(v, 2),\n      _v$ = _v[0],\n      start = _v$ === void 0 ? '' : _v$,\n      _v$2 = _v[1],\n      end = _v$2 === void 0 ? '' : _v$2;\n    var value = {\n      start: _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9___default()({\n        valueType: valueType,\n        value: start\n      }),\n      end: _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9___default()({\n        valueType: valueType,\n        value: end\n      })\n    };\n    setValue(value);\n    onChange(value);\n  };\n  var getQuickFinderInputValue = function getQuickFinderInputValue(refBillData, formId) {\n    var _findTargetFormInfo;\n    var value = ((_findTargetFormInfo = findTargetFormInfo(refBillData, formId)) === null || _findTargetFormInfo === void 0 ? void 0 : _findTargetFormInfo.label) || '';\n    value = value ? \"\\u67E5\\u627E\\uFF1A\".concat(value) : '';\n    return value;\n  };\n  var findTargetFormInfo = function findTargetFormInfo(refBillData, fomId) {\n    var _context, _context2;\n    var info = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10___default()(_context = refBillData[0].data).call(_context, function (item) {\n      return item.value === fomId;\n    });\n    info = info || _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_10___default()(_context2 = refBillData[1].data).call(_context2, function (item) {\n      return item.value === fomId;\n    });\n    return info;\n  };\n  var formatData = function formatData(str, isCN) {\n    var _context3, _context4;\n    if (!str) return ''; // 为空值时\n    // 替换中文字符\n    // const FIELD_REG_EXP = /\\{\\{Field id=\"(\\S+)\" text=\"(\\S+)\"\\}\\}/g // 变量\n    // const EXP_REG_EXP = /\\{\\{Exp id=\"(\\S+)\" name=\"(\\S+)\" lang=\"(\\S+)\"\\}\\}/g // 函数\n    str = str.replace(/）/g, ')').replace(/（/g, '(').replace(/“/g, '\"').replace(/”/g, '\"').replace(/‘/g, \"'\").replace(/’/g, \"'\");\n    var newStr = str.replace(allFieldRegExp, '$1').replace(allExpRegExp, '$1');\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context3 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context4 = \"\".concat(newStr, \"@@\")).call(_context4, str, \"@@\")).call(_context3, isCN ? 1 : 0);\n  };\n  var handleInputChange = function handleInputChange(v) {\n    console.log('handleInputChange', v);\n    var value;\n    if (typeof v === 'string') {\n      value = v;\n    } else if (Array.isArray(v)) {\n      if (editorType === 'dateRangeDef') {\n        handleDateRangeChange(v, 0);\n        return;\n      } else {\n        value = v.join(',');\n      }\n    } else if (v !== null && v !== void 0 && v.target) {\n      value = v.target.value;\n    } else {\n      value = v;\n    }\n    handleChange({\n      valueType: 0,\n      value: value\n    });\n  };\n  var kuiConfig = {\n    prefixCls: 'kd'\n  };\n  var getFormulaValue = function getFormulaValue(value) {\n    var _ref2 = value ? value.split('@@') : ['', '', null],\n      _ref3 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_ref2, 3),\n      newValue = _ref3[1],\n      lang = _ref3[2]; // 编辑器值|语言\n    return [newValue, lang];\n  };\n  var getValueType = function getValueType(value) {\n    try {\n      if (value && typeof value === 'string') {\n        var valueObject = JSON.parse(value);\n        return valueObject.valueType || 0;\n      } else if (editorType === 'dateRangeDef') {\n        var start = value.start,\n          end = value.end;\n        var startObj = start && typeof start === 'string' && JSON.parse(start);\n        return (startObj === null || startObj === void 0 ? void 0 : startObj.valueType) || 0;\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  // 默认手动输入框\n  var inputProps = _objectSpread(_objectSpread({}, inputFieldProps), {}, {\n    // isDefaultInput: true,\n    value: (_inputFieldProps$valu = inputFieldProps === null || inputFieldProps === void 0 ? void 0 : inputFieldProps.value) !== null && _inputFieldProps$valu !== void 0 ? _inputFieldProps$valu : typeof getRenderValue === 'function' ? getRenderValue(getInputValue(value, 0)) : getInputValue(value, 0),\n    onChange: handleInputChange\n  });\n  var findFormProps = {\n    fieldType: 'findForm',\n    borderType: 'bordered',\n    value: getInputValue(value, 2),\n    onChange: handleInputChange,\n    disabled: locked,\n    placeholder: minPlaceholder,\n    onClear: handleClear,\n    onClick: function onClick() {\n      return handleItemClick('search');\n    }\n  };\n  var formulaData = getFormulaValue(getInputValue(value, 1));\n  var formulaProps = {\n    fieldType: 'formula',\n    onClick: function onClick() {\n      return handleItemClick('formula');\n    },\n    value: formulaData[0],\n    expressionData: expressionData.functionTypes,\n    fieldData: fieldTree,\n    onClear: handleClear,\n    lang: Number(formulaData[1] || 1),\n    readOnly: true,\n    autofocus: false\n  };\n  var valueType = getValueType(value);\n  var getProps = function getProps() {\n    var propsMap = {\n      1: formulaProps,\n      2: findFormProps\n    };\n    return propsMap[valueType];\n  };\n  var varSelectOtherProps = getProps();\n\n  // 用于兼容获取图片、附件的形态\n  var isFileDef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useMemo)(function () {\n    return editorType === 'fileDef';\n  }, [editorType]);\n  var varSelectProps = (0,_utils_control__WEBPACK_IMPORTED_MODULE_21__.isEntryEntity)(ParentControlType) || isFileDef ? undefined : _objectSpread({\n    data: selectOptions,\n    popperClassName: \"\".concat(prefixCls, \"-def-editor-var-select-panel\"),\n    type: 'dropdownSelect',\n    onSelect: function onSelect(keys) {\n      return handleItemClick(keys[0]);\n    },\n    varSelectActive: varSelectActive,\n    onVarSelectActive: setVarSelectActive\n  }, varSelectOtherProps);\n  var handleShowFormulaModal = function handleShowFormulaModal() {\n    setFormulaVisible(true);\n  };\n  var handleCloseFormulaModal = function handleCloseFormulaModal() {\n    setFormulaVisible(false);\n    valueType === 0 ? setVarSelectActive(false) : setVarSelectActive(!!(varSelectOtherProps !== null && varSelectOtherProps !== void 0 && varSelectOtherProps.value));\n  };\n  var handleCloseBillFinderModal = function handleCloseBillFinderModal() {\n    setBillFinderVisible(false);\n    valueType === 0 ? setVarSelectActive(false) : setVarSelectActive(!!(varSelectOtherProps !== null && varSelectOtherProps !== void 0 && varSelectOtherProps.value));\n  };\n  var handleShowBillFinderModal = function handleShowBillFinderModal() {\n    invokeGetFieldLookSetting();\n    setBillFinderVisible(true);\n  };\n  var handleFormulaConfirm = function handleFormulaConfirm(result, isCN) {\n    result = formatData(result, isCN);\n    invokeActions.invokeSaveBizRule({\n      valueType: 1,\n      value: result\n    });\n    setFormulaVisible(false);\n    !result && setVarSelectActive(false);\n    !result ? handleChange(defaultInputValue) : handleChange({\n      valueType: 1,\n      value: result\n    });\n  };\n  var handleQuickFinderConfirm = function handleQuickFinderConfirm(result) {\n    console.log('handleQuickFinderConfirm', result);\n    setBillFinderVisible(false);\n    !result.value.relationFormId && setVarSelectActive(false);\n    var value = getQuickFinderInputValue(refBillData, result.value.relationFormId);\n    if (editorType === 'dateRangeDef') {\n      handleDateRangeChange([value, value], result.valueType);\n    } else {\n      !result.value.relationFormId ? handleChange(defaultInputValue) : handleChange({\n        valueType: result.valueType,\n        value: value\n      });\n    }\n  };\n  var handleItemClick = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (key) {\n    var _fnMap$key;\n    var fnMap = {\n      search: handleShowBillFinderModal,\n      formula: handleShowFormulaModal\n    };\n    if (key === 'formula' && !fieldTree) {\n      var _fieldTree = (0,_utils_treeUtils__WEBPACK_IMPORTED_MODULE_22__.translateDataToVariableTree)(dataItems, metaContext, false);\n      setFieldTree(_fieldTree);\n    }\n    (_fnMap$key = fnMap[key]) === null || _fnMap$key === void 0 || _fnMap$key.call(fnMap);\n  }, [dataItems, handleShowBillFinderModal, handleShowFormulaModal]);\n  var updateTreeData = function updateTreeData(list, key, children) {\n    return list === null || list === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default()(list).call(list, function (node) {\n      if (node.key === key) {\n        return _objectSpread(_objectSpread({}, node), {}, {\n          children: children\n        });\n      }\n      if (node.children) {\n        return _objectSpread(_objectSpread({}, node), {}, {\n          children: updateTreeData(node.children, key, children)\n        });\n      }\n      return node;\n    });\n  };\n  var lazyUpdateAppChildren = function lazyUpdateAppChildren(data) {\n    var _loadDataResolveFunc$;\n    setFieldTree(function (origin) {\n      var _lazyUpdateNode$curre;\n      return updateTreeData(origin, (_lazyUpdateNode$curre = lazyUpdateNode.current) === null || _lazyUpdateNode$curre === void 0 ? void 0 : _lazyUpdateNode$curre.Key, (0,_utils_treeUtils__WEBPACK_IMPORTED_MODULE_22__.toRefBillChildNodes)(data, lazyUpdateNode.current));\n    });\n    (_loadDataResolveFunc$ = loadDataResolveFunc.current) === null || _loadDataResolveFunc$ === void 0 || _loadDataResolveFunc$.call(loadDataResolveFunc);\n    loadDataResolveFunc.current = null;\n  };\n  var loadData = function loadData(node) {\n    var _dataContext$findCont2;\n    var children = node.children,\n      isLeaf = node.isLeaf,\n      key = node.key,\n      isAsyncNode = node.isAsyncNode;\n    var refBillNode = ((_dataContext$findCont2 = dataContext.findControlByCondition(function (item) {\n      return item.Key === key;\n    })) === null || _dataContext$findCont2 === void 0 ? void 0 : _dataContext$findCont2[0]) || {};\n    var controlType = metaContext.getControlMeta(refBillNode._Type_).Name;\n    lazyUpdateNode.current = _objectSpread({\n      controlType: controlType\n    }, refBillNode);\n    return new (_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_13___default())(function (resolve) {\n      if (!isAsyncNode) {\n        resolve();\n        return;\n      }\n      loadDataResolveFunc.current = resolve;\n      var billEntityIdEx = (0,_utils_control__WEBPACK_IMPORTED_MODULE_21__.isAdminOrgField)(refBillNode._Type_) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_21__.isUserField)(refBillNode._Type_) ? metaContext.getControlMetaEditor(refBillNode._Type_, 'BillEntityIdEx').Default : refBillNode.EntityData.BillEntityIdEx;\n      invokeAction('click', [refBillNode.Id, 'entitymeta', 'PropsDisplay', {\n        BillEntityIdEx: billEntityIdEx,\n        itemKey: refBillNode.Key\n      }], []);\n    });\n  };\n  var handleInputClick = function handleInputClick() {\n    if (isFileDef) {\n      handleItemClick('search');\n    }\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().Fragment), null, !isFileDef && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(\"div\", {\n    onClick: handleInputClick,\n    className: \"\".concat(prefixCls, \"-def-editor\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.ConfigProvider, {\n    value: kuiConfig\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_24__.InputCombo, inputProps))), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.ConfigProvider, {\n    value: kuiConfig\n  }, formulaVisible && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_24__.Condition, {\n    loadData: loadData,\n    value: formulaData[0] // '{{Field id=\"${model.name}\" text=\"表单提交触发|||[文本]姓名\"}}'\n    ,\n    language: Number(formulaData[1] || 1),\n    modalTitle: \"\\u7F16\\u8F91\\u8FD0\\u7B97\\u516C\\u5F0F\",\n    editorTitle: field.Name\n    // actionType={}\n    ,\n    visible: formulaVisible\n    // hideFunc={}\n    ,\n    editorPlaceholder: \"\\u8BF7\\u7F16\\u8F91\\u8FD0\\u7B97\\u516C\\u5F0F\",\n    fieldData: fieldTree,\n    fieldTitle: \"\\u8868\\u5355\\u5185\\u5BB9\",\n    expressionData: expressionData.functionTypes,\n    operations: operations,\n    onClose: handleCloseFormulaModal,\n    onConfirm: handleFormulaConfirm\n  })), billFinderVisible && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(_components_BillQuickFinderModal__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n    visible: billFinderVisible,\n    onClose: handleCloseBillFinderModal,\n    invokeActions: invokeActions,\n    queryFormValue: queryFormValue || defaultQueryFormData.value,\n    refBillData: refBillData,\n    field: field,\n    compareTypesMap: compareTypesMap,\n    formId: formMeta.id,\n    onConfirm: handleQuickFinderConfirm\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (BaseDefValueEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDE3MzIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBUUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2VkaXRvcnMvQmFzZURlZlZhbHVlRWRpdG9yL2luZGV4LnRzeD9hOTRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBGQywgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ29udGV4dCwgdXNlTWVtbywgdXNlUmVmLCB1c2VSZWR1Y2VyLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgSW5wdXQsIEljb24sIENvbmZpZ1Byb3ZpZGVyIGFzIEtVSUNvbmZpZ1Byb3ZpZGVyLCBEcm9wZG93biB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcbmltcG9ydCB7IE5hbWVUaXBXcmFwcGVyLCBQcm9wZXJ0eUVkaXRvclByb3BzLCBldmVudEJ1cywgdXNlRGVib3VuY2UgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0J1xuaW1wb3J0IEJpbGxRdWlja0ZpbmRlck1vZGFsIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQmlsbFF1aWNrRmluZGVyTW9kYWwnXG5pbXBvcnQgdXNlUXVlcnlFdmVudERhdGEgZnJvbSAnLi4vLi4vaG9va3MvdXNlUXVlcnlFdmVudERhdGEnXG5pbXBvcnQgeyBTRVRfREVGX1ZBTFVFX0ZPUl9RVUVSWV9GT1JNIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHsgaXNFbnRyeUVudGl0eSwgaXNBZG1pbk9yZ0ZpZWxkLCBpc1VzZXJGaWVsZCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbnRyb2wnXG5pbXBvcnQgeyB0cmFuc2xhdGVEYXRhVG9WYXJpYWJsZVRyZWUsIHRvUmVmQmlsbENoaWxkTm9kZXMgfSBmcm9tICcuLi8uLi91dGlscy90cmVlVXRpbHMnXG5pbXBvcnQgeyBTRVRfUkVGX1BST1BfRElTUCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9hY3Rpb25OYW1lJ1xuaW1wb3J0IHsgQ29uZGl0aW9uLCBJbnB1dENvbWJvIH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcbmltcG9ydCB7IGlzRXF1YWwgfSBmcm9tICdsb2Rhc2gnXG5cbmNvbnN0IHsgY29uc3RhbnRzOiB7IGFsbEZpZWxkUmVnRXhwLCBhbGxFeHBSZWdFeHAgfSB9ID0gQ29uZGl0aW9uXG5cbi8vIDAg6buY6K6k5YC8LCAxIOafpeaJvuihqOWNlSwgMiDlhazlvI/orqHnrpdcbmNvbnN0IGRlZlZhbHVlRGVmaW5lID0ge1xuICB0ZXh0RGVmOiBbMCwgMSwgMl0sIC8vIOWNleihjOaWh+acrCwg5aSa6KGM5paH5pysXG4gIGRlY2ltYWxEZWY6IFswLCAxLCAyXSwgLy8g5pWw5a2XXG4gIHJpY2hFZGl0b3JEZWY6IFswLCAxXSwgLy8g5a+M5paH5pysXG4gIGdlb0RlZjogWzAsIDFdLCAvLyDlnLDnkIbkvY3nva7vvIjlnLDlm74r5Z2Q5qCH77yJLCDlnLDlnYBcbiAgYWRkcmVzc0RlZjogWzAsIDFdLFxuICBzZWxlY3REZWY6IFswLCAxLCAyXSwgLy8g6YCJ6aG5XG4gIHJlZkJpbGxEZWY6IFswLCAxXSwgLy8g5YWz6IGU6KGo5Y2VXG4gIGRhdGVSYW5nZURlZjogWzAsIDFdLCAvLyDml6XmnJ/ojIPlm7RcbiAgZGF0ZURlZjogWzAsIDEsIDJdLCAvLyDml6XmnJ9cbiAgaW1hZ2VEZWY6IFswLCAxXSwgLy8g5Zu+54mHXG4gIGF0dGFjaG1lbnREZWY6IFswLCAxXSwgLy8g6ZmE5Lu2XG4gIGdyb3VwQ29udGFpbmVyRGVmOiBbXSwgLy8g5YiG57uEXG4gIGVudHJ5RW50aXR5RGVmOiBbXSwgLy8g6KGo5qC8XG4gIGdyYXBoaWNEaXNwbGF5OiBbXVxufVxuY29uc3Qgb3B0aW9ucyA9IFtcbiAgeyBsYWJlbDogJ+afpeaJvuihqOWNleiusOW9lScsIGtleTogJ3NlYXJjaCcsIGlkOiAxLCBpY29uOiAnY2hhemhhb2JpYW9kYW5qaWx1LXhpYW4nIH0sXG4gIHsgbGFiZWw6ICfov5DnrpflhazlvI8nLCBrZXk6ICdmb3JtdWxhJywgaWQ6IDIsIGljb246ICd5dW5zdWFuZ29uZ3NoaScgfVxuXVxuY29uc3QgZGVmYXVsdFF1ZXJ5Rm9ybURhdGEgPSB7XG4gIHZhbHVlVHlwZTogMixcbiAgdmFsdWU6IHtcbiAgICByZWxhdGlvbkZvcm1JZDogJycsXG4gICAgZmlsdGVySW5mb3M6IFtdLCAvLyBbeyBmaWVsZE5hbWU6IFwiZGVmXCIsIGNvbXBhcmVUeXBlOiBcIj1cIiwgdmFsdWU6IFtcIjQ1NlwiXSB9XVxuICAgIHNvcnRJbmZvczogW10sIC8vIFt7IG51bWJlcjogJ251bWJlcicsIG5hbWU6IFwiYWJjXCIsIGlzQXNjOiB0cnVlIH1dXG4gICAgcmVzdWx0OiBbXSAvLyBbeyBzb3VyY2VGaWVsZDogXCJmaWVsZDFcIiwgdGFyZ2V0RmllbGQ6IFwiZmllbGQyXCIgfV1cbiAgfVxufVxuY29uc3QgZGVmYXVsdElucHV0VmFsdWUgPSB7XG4gIHZhbHVlVHlwZTogMCxcbiAgdmFsdWU6ICcnXG59XG5jb25zdCBmaWxlRGVmVHlwZXMgPSBbJ1BpY3R1cmVEZWYnLCAnQXR0YWNobWVudERlZiddXG5cbmNvbnN0IEJhc2VEZWZWYWx1ZUVkaXRvcjogRkM8UHJvcGVydHlFZGl0b3JQcm9wcz4gPSAocHJvcHM6IFByb3BlcnR5RWRpdG9yUHJvcHMpID0+IHtcbiAgY29uc3Qge1xuICAgIGhhbmRsZUNoYW5nZTogb25DaGFuZ2UsIHZhbHVlOiB2YWx1ZVByb3BzLCBjbGFzc05hbWUsIGxvY2tlZCwgRWRpdG9yLCBOYW1lOiBuYW1lLCBUaXBzOiB0aXBzLFxuICAgIGZpZWxkLCBpZCwgcHJvcE5hbWUsIGlucHV0RmllbGRQcm9wcywgZWRpdG9yVHlwZSwgZ2V0UmVuZGVyVmFsdWVcbiAgfSA9IHByb3BzXG4gIGNvbnN0IHsgTmFtZUhpZGRlbjogbmFtZUhpZGRlbiwgUmVxdWlyZWQ6IHJlcXVpcmVkLCBtaW5QbGFjZWhvbGRlciA9ICfor7fovpPlhaUnLCBtYXhQbGFjZWhvbGRlciA9ICfor7fovpPlhaUnLCBUaXRsZTogdGl0bGUgfSA9IEVkaXRvclxuICBjb25zdCB7XG4gICAgcHJlZml4Q2xzLCBpbnZva2VBY3Rpb24sIGdldEtkZXNpZ25lckFwaSxcbiAgICBnZXRFeHByZXNzaW9uRGF0YSwgZ2V0UmVmQmlsbERhdGEsIGdldERhdGFSZWYsIGdldENvbXBhcmVUeXBlc1xuICB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IFtmb3JtdWxhVmlzaWJsZSwgc2V0Rm9ybXVsYVZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtiaWxsRmluZGVyVmlzaWJsZSwgc2V0QmlsbEZpbmRlclZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFt2YXJpYWJsZVRyZWUsIHNldFZhcmlhYmxlVHJlZV0gPSB1c2VTdGF0ZShudWxsKVxuICBjb25zdCBbZmllbGRUcmVlLCBzZXRGaWVsZFRyZWVdID0gdXNlU3RhdGUobnVsbClcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCwgbWV0YTogbWV0YUNvbnRleHQgfSA9IGdldEtkZXNpZ25lckFwaSgpXG4gIGNvbnN0IGNvbXBhcmVUeXBlc01hcDogYW55ID0gZ2V0Q29tcGFyZVR5cGVzKClcbiAgY29uc3Qgcm9vdElkID0gZGF0YUNvbnRleHQuZ2V0Um9vdElkKClcbiAgY29uc3QgeyBQYXJlbnRJZCB9ID0gZmllbGRcbiAgY29uc3QgeyBfVHlwZV86IFBhcmVudENvbnRyb2xUeXBlIH0gPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChQYXJlbnRJZClcblxuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlKHZhbHVlUHJvcHMpXG4gIGNvbnN0IFt2YXJTZWxlY3RBY3RpdmUsIHNldFZhclNlbGVjdEFjdGl2ZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2ZvcmNlVXBkYXRlTnVtLCBmb3JjZVVwZGF0ZV0gPSB1c2VSZWR1Y2VyKG4gPT4gbiArIDEsIDApXG5cbiAgY29uc3QgbG9hZERhdGFSZXNvbHZlRnVuYyA9IHVzZVJlZjxhbnk+KG51bGwpXG4gIGNvbnN0IGxhenlVcGRhdGVOb2RlID0gdXNlUmVmPGFueT4obnVsbClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHJlbW92ZURhdGFDaGFuZ2VMaXN0ZW5lciA9IGRhdGFDb250ZXh0LmFkZERhdGFDaGFuZ2VMaXN0ZW5lcigoKSA9PiB7XG4gICAgICBmb3JjZVVwZGF0ZSgpXG4gICAgfSlcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcmVtb3ZlRGF0YUNoYW5nZUxpc3RlbmVyKClcbiAgICB9XG4gIH0sIFtdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0VxdWFsKHZhbHVlLCB2YWx1ZVByb3BzKSkge1xuICAgICAgc2V0VmFsdWUodmFsdWVQcm9wcylcbiAgICB9XG4gIH0sIFt2YWx1ZVByb3BzXSlcblxuICBjb25zdCBkZWJvdW5jZU9uQ2hhbmdlID0gdXNlRGVib3VuY2Uob25DaGFuZ2UpXG5cbiAgY29uc3QgZm9ybU1ldGEgPSBnZXREYXRhUmVmKClcbiAgY29uc3QgZ2V0Q29udHJvbE5hbWUgPSAodHlwZSkgPT4ge1xuICAgIHJldHVybiBtZXRhQ29udGV4dC5nZXRDb250cm9sTWV0YSh0eXBlKS5OYW1lXG4gIH1cblxuICBjb25zdCBldmVudEFyZ3NQYXJzZXIgPSAoYXJncykgPT4ge1xuICAgIHJldHVybiB7IGRhdGE6IGFyZ3MuYml6UnVsZSwgcGFyYW06IHt9IH1cbiAgfVxuICBjb25zdCB7IGRhdGE6IHF1ZXJ5Rm9ybURhdGEgfSA9IHVzZVF1ZXJ5RXZlbnREYXRhKHsgaWQ6IGZpZWxkLktleSwgZXZlbnROYW1lOiBTRVRfREVGX1ZBTFVFX0ZPUl9RVUVSWV9GT1JNLCBwYXJzZXI6IGV2ZW50QXJnc1BhcnNlciB9KVxuICBjb25zdCBnZXRJbnB1dFZhbHVlID0gKHZhbHVlLCB2YWx1ZVR5cGUpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgdmFsdWVPYmplY3QgPSBKU09OLnBhcnNlKHZhbHVlKVxuICAgICAgICByZXR1cm4gdmFsdWVPYmplY3QudmFsdWVUeXBlID09PSB2YWx1ZVR5cGUgPyB2YWx1ZU9iamVjdC52YWx1ZSA6ICcnXG4gICAgICB9IGVsc2UgaWYgKGVkaXRvclR5cGUgPT09ICdkYXRlUmFuZ2VEZWYnKSB7XG4gICAgICAgIGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gdmFsdWVcbiAgICAgICAgY29uc3Qgc3RhcnRPYmogPSBzdGFydCAmJiB0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnICYmIEpTT04ucGFyc2Uoc3RhcnQpXG4gICAgICAgIGNvbnN0IGVuZE9iaiA9IGVuZCAmJiB0eXBlb2YgZW5kID09PSAnc3RyaW5nJyAmJiBKU09OLnBhcnNlKGVuZClcbiAgICAgICAgaWYgKHZhbHVlVHlwZSA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGFydDogc3RhcnRPYmo/LnZhbHVlVHlwZSA9PT0gdmFsdWVUeXBlID8gc3RhcnRPYmo/LnZhbHVlIDogJycsXG4gICAgICAgICAgICBlbmQ6IGVuZE9iaj8udmFsdWVUeXBlID09PSB2YWx1ZVR5cGUgPyBlbmRPYmo/LnZhbHVlIDogJydcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAyKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXJ0T2JqPy52YWx1ZVR5cGUgPT09IHZhbHVlVHlwZSA/IHN0YXJ0T2JqPy52YWx1ZSA6ICcnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpXG4gICAgfVxuICB9XG4gIGNvbnN0IHF1ZXJ5Rm9ybVZhbHVlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB0eXBlb2YgcXVlcnlGb3JtRGF0YSA9PT0gJ3N0cmluZycgPyBnZXRJbnB1dFZhbHVlKHF1ZXJ5Rm9ybURhdGEsIDIpIDogcXVlcnlGb3JtRGF0YT8udmFsdWVcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpXG4gICAgfVxuICB9LCBbcXVlcnlGb3JtRGF0YV0pXG5cbiAgY29uc3QgZXhwcmVzc2lvbkRhdGEgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gZ2V0RXhwcmVzc2lvbkRhdGEoKVxuICB9LCBbZ2V0RXhwcmVzc2lvbkRhdGFdKVxuXG4gIGNvbnN0IHJlZkJpbGxEYXRhID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGdldFJlZkJpbGxEYXRhKClcbiAgfSwgW2dldFJlZkJpbGxEYXRhXSlcblxuICBjb25zdCBnZXRPcGVyYXRpb25zID0gKGZ1bmN0aW9uT3BlcmF0aW9ucykgPT4ge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKGZ1bmN0aW9uT3BlcmF0aW9ucylcbiAgfVxuXG4gIC8qKlxuICAgKiDliJ3lp4vljJbms6jlhozkvqblkKxcbiAgICovXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZXZlbnRCdXMub24oU0VUX1JFRl9QUk9QX0RJU1AsIGxhenlVcGRhdGVBcHBDaGlsZHJlbilcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZXZlbnRCdXMub2ZmKFNFVF9SRUZfUFJPUF9ESVNQLCBsYXp5VXBkYXRlQXBwQ2hpbGRyZW4pXG4gICAgfVxuICB9LCBbXSlcblxuICAvLyDmoLnmja7ooajljZXlhYPmlbDmja7mnoTlu7rlj5jph4/moJHvvIjlrp7ml7bvvIlcbiAgY29uc3QgZGF0YUl0ZW1zID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGRhdGFDb250ZXh0LmZpbmRDb250cm9sQnlDb25kaXRpb24oKGl0ZW06IGFueSkgPT4ge1xuICAgICAgY29uc3QgeyBfVHlwZV86IGNvbnRyb2xUeXBlLCBQYXJlbnRJZCB9ID0gaXRlbVxuICAgICAgY29uc3QgeyBfVHlwZV86IHBhcmVudENvbnRyb2xUeXBlIH0gPSBQYXJlbnRJZCA/IChkYXRhQ29udGV4dC5maW5kQ29udHJvbChQYXJlbnRJZCkgfHwge30pIDoge31cbiAgICAgIHJldHVybiAhaXNFbnRyeUVudGl0eShwYXJlbnRDb250cm9sVHlwZSkgJiYgIWlzRW50cnlFbnRpdHkoY29udHJvbFR5cGUpXG4gICAgfSlcbiAgfSwgW10pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmaWVsZFRyZWUgPSB0cmFuc2xhdGVEYXRhVG9WYXJpYWJsZVRyZWUoZGF0YUl0ZW1zLCBtZXRhQ29udGV4dCwgZmFsc2UpXG4gICAgc2V0RmllbGRUcmVlKGZpZWxkVHJlZSlcbiAgfSwgW2RhdGFJdGVtc10pXG5cbiAgY29uc3Qgb3BlcmF0aW9ucyA9IGdldE9wZXJhdGlvbnMoZXhwcmVzc2lvbkRhdGEuZnVuY3Rpb25PcGVyYXRpb25zKVxuXG4gIGNvbnN0IGdldE9wdGlvbnMgPSAoKSA9PiB7XG4gICAgY29uc3QgaWRzID0gZGVmVmFsdWVEZWZpbmVbZWRpdG9yVHlwZV1cbiAgICByZXR1cm4gb3B0aW9ucz8uZmlsdGVyKG9wdGlvbiA9PiB7XG4gICAgICByZXR1cm4gaWRzPy5pbmNsdWRlcyhvcHRpb24uaWQpXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IHNlbGVjdE9wdGlvbnMgPSBnZXRPcHRpb25zKClcblxuICBjb25zdCBoYW5kbGVDbGVhciA9IChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGludm9rZUFjdGlvbignZGVsZXRlQml6UnVsZScsIFt7IGZvcm1JZDogZm9ybU1ldGEuaWQsIGZpZWxkS2V5OiBmaWVsZC5LZXkgfV0sIFtdKVxuICAgIGhhbmRsZUNoYW5nZShkZWZhdWx0SW5wdXRWYWx1ZSlcbiAgICBzZXRWYXJTZWxlY3RBY3RpdmUoZmFsc2UpXG4gIH1cblxuICBjb25zdCBpbnZva2VHZXRGaWVsZExvb2tTZXR0aW5nID0gKCkgPT4ge1xuICAgIGludm9rZUFjdGlvbignZ2V0Qml6UnVsZScsIFt7IGZvcm1JZDogZm9ybU1ldGEuaWQsIGZpZWxkS2V5OiBmaWVsZC5LZXkgfV0sIFtdKVxuICB9XG4gIGNvbnN0IGludm9rZUdldExpc3RDb25maWcgPSAoZm9ybUlkKSA9PiB7XG4gICAgaWYgKGZvcm1JZCA9PT0gcm9vdElkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaW52b2tlQWN0aW9uKFxuICAgICAgJ2xpc3R0cmVlY29uZmlnJyxcbiAgICAgIFtcbiAgICAgICAgZm9ybUlkXG4gICAgICBdXG4gICAgKVxuICB9XG4gIGNvbnN0IGludm9rZUdldEZpZWxkUmVjb3JkcyA9IChmb3JtSWQ6IHN0cmluZywgZmllbGROYW1lOiBzdHJpbmcgPSAnJykgPT4ge1xuICAgIGludm9rZUFjdGlvbihcbiAgICAgICdnZXRGaWx0ZXJJdGVtTG9vaycsXG4gICAgICBbZm9ybUlkLCB7XG4gICAgICAgIGdldEVudW1EYXRhOiAndHJ1ZScsXG4gICAgICAgIGVudW1GaWVsZDogZmllbGROYW1lLFxuICAgICAgICBmaWx0ZXJyb3dzOiBbXVxuICAgICAgfV1cbiAgICApXG4gIH1cblxuICBjb25zdCBpbnZva2VTYXZlQml6UnVsZSA9IChydWxlSW5mbzogUmVjb3JkPHN0cmluZywgYW55PikgPT4ge1xuICAgIGludm9rZUFjdGlvbihcbiAgICAgICdzYXZlQml6UnVsZScsXG4gICAgICBbe1xuICAgICAgICBmb3JtSWQ6IGZvcm1NZXRhLmlkLFxuICAgICAgICBmaWVsZEtleTogZmllbGQuS2V5LFxuICAgICAgICBydWxlSW5mbzogSlNPTi5zdHJpbmdpZnkocnVsZUluZm8pXG4gICAgICB9XVxuICAgIClcbiAgfVxuXG4gIGNvbnN0IGludm9rZUFjdGlvbnMgPSB7XG4gICAgLy8gaW52b2tlR2V0RmllbGRMb29rU2V0dGluZyxcbiAgICBpbnZva2VHZXRMaXN0Q29uZmlnLFxuICAgIGludm9rZUdldEZpZWxkUmVjb3JkcyxcbiAgICBpbnZva2VTYXZlQml6UnVsZVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gKHZhbHVlKSA9PiB7XG4gICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSlcbiAgICBzZXRWYWx1ZSh2YWx1ZSlcbiAgICBkZWJvdW5jZU9uQ2hhbmdlKHZhbHVlKVxuICB9XG4gIGNvbnN0IGhhbmRsZURhdGVSYW5nZUNoYW5nZSA9ICh2LCB2YWx1ZVR5cGUpID0+IHtcbiAgICBjb25zdCBbc3RhcnQgPSAnJywgZW5kID0gJyddID0gdlxuICAgIGNvbnN0IHZhbHVlID0ge1xuICAgICAgc3RhcnQ6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICB2YWx1ZTogc3RhcnRcbiAgICAgIH0pLFxuICAgICAgZW5kOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAgdmFsdWU6IGVuZFxuICAgICAgfSlcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUpXG4gICAgb25DaGFuZ2UodmFsdWUpXG4gIH1cblxuICBjb25zdCBnZXRRdWlja0ZpbmRlcklucHV0VmFsdWUgPSAocmVmQmlsbERhdGEsIGZvcm1JZCkgPT4ge1xuICAgIGxldCB2YWx1ZSA9IGZpbmRUYXJnZXRGb3JtSW5mbyhyZWZCaWxsRGF0YSwgZm9ybUlkKT8ubGFiZWwgfHwgJydcbiAgICB2YWx1ZSA9IHZhbHVlID8gYOafpeaJvu+8miR7dmFsdWV9YCA6ICcnXG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICBjb25zdCBmaW5kVGFyZ2V0Rm9ybUluZm8gPSAocmVmQmlsbERhdGEsIGZvbUlkKSA9PiB7XG4gICAgbGV0IGluZm8gPSByZWZCaWxsRGF0YVswXS5kYXRhLmZpbmQoaXRlbSA9PiBpdGVtLnZhbHVlID09PSBmb21JZClcbiAgICBpbmZvID0gaW5mbyB8fCByZWZCaWxsRGF0YVsxXS5kYXRhLmZpbmQoaXRlbSA9PiBpdGVtLnZhbHVlID09PSBmb21JZClcbiAgICByZXR1cm4gaW5mb1xuICB9XG5cbiAgY29uc3QgZm9ybWF0RGF0YSA9IChzdHI6c3RyaW5nLCBpc0NOOmJvb2xlYW4pID0+IHtcbiAgICBpZiAoIXN0cikgcmV0dXJuICcnIC8vIOS4uuepuuWAvOaXtlxuICAgIC8vIOabv+aNouS4reaWh+Wtl+esplxuICAgIC8vIGNvbnN0IEZJRUxEX1JFR19FWFAgPSAvXFx7XFx7RmllbGQgaWQ9XCIoXFxTKylcIiB0ZXh0PVwiKFxcUyspXCJcXH1cXH0vZyAvLyDlj5jph49cbiAgICAvLyBjb25zdCBFWFBfUkVHX0VYUCA9IC9cXHtcXHtFeHAgaWQ9XCIoXFxTKylcIiBuYW1lPVwiKFxcUyspXCIgbGFuZz1cIihcXFMrKVwiXFx9XFx9L2cgLy8g5Ye95pWwXG4gICAgc3RyID0gc3RyLnJlcGxhY2UoL++8iS9nLCAnKScpLnJlcGxhY2UoL++8iC9nLCAnKCcpLnJlcGxhY2UoL+KAnC9nLCAnXCInKS5yZXBsYWNlKC/igJ0vZywgJ1wiJykucmVwbGFjZSgv4oCYL2csIFwiJ1wiKS5yZXBsYWNlKC/igJkvZywgXCInXCIpXG4gICAgY29uc3QgbmV3U3RyID0gc3RyLnJlcGxhY2UoYWxsRmllbGRSZWdFeHAsICckMScpLnJlcGxhY2UoYWxsRXhwUmVnRXhwLCAnJDEnKVxuICAgIHJldHVybiBgJHtuZXdTdHJ9QEAke3N0cn1AQCR7aXNDTiA/IDEgOiAwfWBcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gKHYpID0+IHtcbiAgICBjb25zb2xlLmxvZygnaGFuZGxlSW5wdXRDaGFuZ2UnLCB2KVxuICAgIGxldCB2YWx1ZVxuICAgIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gdlxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2KSkge1xuICAgICAgaWYgKGVkaXRvclR5cGUgPT09ICdkYXRlUmFuZ2VEZWYnKSB7XG4gICAgICAgIGhhbmRsZURhdGVSYW5nZUNoYW5nZSh2LCAwKVxuICAgICAgICByZXR1cm5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gdi5qb2luKCcsJylcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHY/LnRhcmdldCkge1xuICAgICAgdmFsdWUgPSB2LnRhcmdldC52YWx1ZVxuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSA9IHZcbiAgICB9XG4gICAgaGFuZGxlQ2hhbmdlKHtcbiAgICAgIHZhbHVlVHlwZTogMCxcbiAgICAgIHZhbHVlXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGt1aUNvbmZpZyA9IHtcbiAgICBwcmVmaXhDbHM6ICdrZCdcbiAgfVxuXG4gIGNvbnN0IGdldEZvcm11bGFWYWx1ZSA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IFssIG5ld1ZhbHVlLCBsYW5nXSA9IHZhbHVlID8gdmFsdWUuc3BsaXQoJ0BAJykgOiBbJycsICcnLCBudWxsXSAvLyDnvJbovpHlmajlgLx86K+t6KiAXG4gICAgcmV0dXJuIFtuZXdWYWx1ZSwgbGFuZ11cbiAgfVxuXG4gIGNvbnN0IGdldFZhbHVlVHlwZSA9ICh2YWx1ZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCB2YWx1ZU9iamVjdCA9IEpTT04ucGFyc2UodmFsdWUpXG4gICAgICAgIHJldHVybiB2YWx1ZU9iamVjdC52YWx1ZVR5cGUgfHwgMFxuICAgICAgfSBlbHNlIGlmIChlZGl0b3JUeXBlID09PSAnZGF0ZVJhbmdlRGVmJykge1xuICAgICAgICBjb25zdCB7IHN0YXJ0LCBlbmQgfSA9IHZhbHVlXG4gICAgICAgIGNvbnN0IHN0YXJ0T2JqID0gc3RhcnQgJiYgdHlwZW9mIHN0YXJ0ID09PSAnc3RyaW5nJyAmJiBKU09OLnBhcnNlKHN0YXJ0KVxuICAgICAgICByZXR1cm4gc3RhcnRPYmo/LnZhbHVlVHlwZSB8fCAwXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKVxuICAgIH1cbiAgfVxuXG4gIC8vIOm7mOiupOaJi+WKqOi+k+WFpeahhlxuICBjb25zdCBpbnB1dFByb3BzID0ge1xuICAgIC4uLmlucHV0RmllbGRQcm9wcyxcbiAgICAvLyBpc0RlZmF1bHRJbnB1dDogdHJ1ZSxcbiAgICB2YWx1ZTogaW5wdXRGaWVsZFByb3BzPy52YWx1ZSA/P1xuICAgICAgKHR5cGVvZiBnZXRSZW5kZXJWYWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IGdldFJlbmRlclZhbHVlKGdldElucHV0VmFsdWUodmFsdWUsIDApKSA6IGdldElucHV0VmFsdWUodmFsdWUsIDApKSxcbiAgICBvbkNoYW5nZTogaGFuZGxlSW5wdXRDaGFuZ2VcbiAgfVxuXG4gIGNvbnN0IGZpbmRGb3JtUHJvcHMgPSB7XG4gICAgZmllbGRUeXBlOiAnZmluZEZvcm0nLFxuICAgIGJvcmRlclR5cGU6ICdib3JkZXJlZCcsXG4gICAgdmFsdWU6IGdldElucHV0VmFsdWUodmFsdWUsIDIpLFxuICAgIG9uQ2hhbmdlOiBoYW5kbGVJbnB1dENoYW5nZSxcbiAgICBkaXNhYmxlZDogbG9ja2VkLFxuICAgIHBsYWNlaG9sZGVyOiBtaW5QbGFjZWhvbGRlcixcbiAgICBvbkNsZWFyOiBoYW5kbGVDbGVhcixcbiAgICBvbkNsaWNrOiAoKSA9PiBoYW5kbGVJdGVtQ2xpY2soJ3NlYXJjaCcpXG4gIH1cbiAgY29uc3QgZm9ybXVsYURhdGEgPSBnZXRGb3JtdWxhVmFsdWUoZ2V0SW5wdXRWYWx1ZSh2YWx1ZSwgMSkpXG5cbiAgY29uc3QgZm9ybXVsYVByb3BzID0ge1xuICAgIGZpZWxkVHlwZTogJ2Zvcm11bGEnLFxuICAgIG9uQ2xpY2s6ICgpID0+IGhhbmRsZUl0ZW1DbGljaygnZm9ybXVsYScpLFxuICAgIHZhbHVlOiBmb3JtdWxhRGF0YVswXSxcbiAgICBleHByZXNzaW9uRGF0YTogZXhwcmVzc2lvbkRhdGEuZnVuY3Rpb25UeXBlcyxcbiAgICBmaWVsZERhdGE6IGZpZWxkVHJlZSxcbiAgICBvbkNsZWFyOiBoYW5kbGVDbGVhcixcbiAgICBsYW5nOiBOdW1iZXIoZm9ybXVsYURhdGFbMV0gfHwgMSksXG4gICAgcmVhZE9ubHk6IHRydWUsXG4gICAgYXV0b2ZvY3VzOiBmYWxzZVxuICB9XG5cbiAgY29uc3QgdmFsdWVUeXBlID0gZ2V0VmFsdWVUeXBlKHZhbHVlKVxuXG4gIGNvbnN0IGdldFByb3BzID0gKCkgPT4ge1xuICAgIGNvbnN0IHByb3BzTWFwID0ge1xuICAgICAgMTogZm9ybXVsYVByb3BzLFxuICAgICAgMjogZmluZEZvcm1Qcm9wc1xuICAgIH1cbiAgICByZXR1cm4gcHJvcHNNYXBbdmFsdWVUeXBlXVxuICB9XG5cbiAgY29uc3QgdmFyU2VsZWN0T3RoZXJQcm9wcyA9IGdldFByb3BzKClcblxuICAvLyDnlKjkuo7lhbzlrrnojrflj5blm77niYfjgIHpmYTku7bnmoTlvaLmgIFcbiAgY29uc3QgaXNGaWxlRGVmID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGVkaXRvclR5cGUgPT09ICdmaWxlRGVmJ1xuICB9LCBbZWRpdG9yVHlwZV0pXG5cbiAgY29uc3QgdmFyU2VsZWN0UHJvcHMgPSBpc0VudHJ5RW50aXR5KFBhcmVudENvbnRyb2xUeXBlKSB8fCBpc0ZpbGVEZWZcbiAgICA/IHVuZGVmaW5lZFxuICAgIDoge1xuICAgICAgICBkYXRhOiBzZWxlY3RPcHRpb25zLFxuICAgICAgICBwb3BwZXJDbGFzc05hbWU6IGAke3ByZWZpeENsc30tZGVmLWVkaXRvci12YXItc2VsZWN0LXBhbmVsYCxcbiAgICAgICAgdHlwZTogJ2Ryb3Bkb3duU2VsZWN0JyxcbiAgICAgICAgb25TZWxlY3Q6IChrZXlzKSA9PiBoYW5kbGVJdGVtQ2xpY2soa2V5c1swXSksXG4gICAgICAgIHZhclNlbGVjdEFjdGl2ZSxcbiAgICAgICAgb25WYXJTZWxlY3RBY3RpdmU6IHNldFZhclNlbGVjdEFjdGl2ZSxcbiAgICAgICAgLi4udmFyU2VsZWN0T3RoZXJQcm9wc1xuICAgICAgfVxuXG4gIGNvbnN0IGhhbmRsZVNob3dGb3JtdWxhTW9kYWwgPSAoKSA9PiB7XG4gICAgc2V0Rm9ybXVsYVZpc2libGUodHJ1ZSlcbiAgfVxuICBjb25zdCBoYW5kbGVDbG9zZUZvcm11bGFNb2RhbCA9ICgpID0+IHtcbiAgICBzZXRGb3JtdWxhVmlzaWJsZShmYWxzZSlcbiAgICB2YWx1ZVR5cGUgPT09IDAgPyBzZXRWYXJTZWxlY3RBY3RpdmUoZmFsc2UpIDogc2V0VmFyU2VsZWN0QWN0aXZlKCEhdmFyU2VsZWN0T3RoZXJQcm9wcz8udmFsdWUpXG4gIH1cblxuICBjb25zdCBoYW5kbGVDbG9zZUJpbGxGaW5kZXJNb2RhbCA9ICgpID0+IHtcbiAgICBzZXRCaWxsRmluZGVyVmlzaWJsZShmYWxzZSlcbiAgICB2YWx1ZVR5cGUgPT09IDAgPyBzZXRWYXJTZWxlY3RBY3RpdmUoZmFsc2UpIDogc2V0VmFyU2VsZWN0QWN0aXZlKCEhdmFyU2VsZWN0T3RoZXJQcm9wcz8udmFsdWUpXG4gIH1cblxuICBjb25zdCBoYW5kbGVTaG93QmlsbEZpbmRlck1vZGFsID0gKCkgPT4ge1xuICAgIGludm9rZUdldEZpZWxkTG9va1NldHRpbmcoKVxuICAgIHNldEJpbGxGaW5kZXJWaXNpYmxlKHRydWUpXG4gIH1cblxuICBjb25zdCBoYW5kbGVGb3JtdWxhQ29uZmlybSA9IChyZXN1bHQsIGlzQ04pID0+IHtcbiAgICByZXN1bHQgPSBmb3JtYXREYXRhKHJlc3VsdCwgaXNDTilcbiAgICBpbnZva2VBY3Rpb25zLmludm9rZVNhdmVCaXpSdWxlKHtcbiAgICAgIHZhbHVlVHlwZTogMSxcbiAgICAgIHZhbHVlOiByZXN1bHRcbiAgICB9KVxuICAgIHNldEZvcm11bGFWaXNpYmxlKGZhbHNlKVxuICAgICFyZXN1bHQgJiYgc2V0VmFyU2VsZWN0QWN0aXZlKGZhbHNlKVxuICAgICFyZXN1bHRcbiAgICAgID8gaGFuZGxlQ2hhbmdlKGRlZmF1bHRJbnB1dFZhbHVlKVxuICAgICAgOiBoYW5kbGVDaGFuZ2Uoe1xuICAgICAgICB2YWx1ZVR5cGU6IDEsXG4gICAgICAgIHZhbHVlOiByZXN1bHRcbiAgICAgIH0pXG4gIH1cblxuICBjb25zdCBoYW5kbGVRdWlja0ZpbmRlckNvbmZpcm0gPSAocmVzdWx0KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2hhbmRsZVF1aWNrRmluZGVyQ29uZmlybScsIHJlc3VsdClcbiAgICBzZXRCaWxsRmluZGVyVmlzaWJsZShmYWxzZSlcbiAgICAhcmVzdWx0LnZhbHVlLnJlbGF0aW9uRm9ybUlkICYmIHNldFZhclNlbGVjdEFjdGl2ZShmYWxzZSlcbiAgICBjb25zdCB2YWx1ZSA9IGdldFF1aWNrRmluZGVySW5wdXRWYWx1ZShyZWZCaWxsRGF0YSwgcmVzdWx0LnZhbHVlLnJlbGF0aW9uRm9ybUlkKVxuICAgIGlmIChlZGl0b3JUeXBlID09PSAnZGF0ZVJhbmdlRGVmJykge1xuICAgICAgaGFuZGxlRGF0ZVJhbmdlQ2hhbmdlKFt2YWx1ZSwgdmFsdWVdLCByZXN1bHQudmFsdWVUeXBlKVxuICAgIH0gZWxzZSB7XG4gICAgICAhcmVzdWx0LnZhbHVlLnJlbGF0aW9uRm9ybUlkXG4gICAgICAgID8gaGFuZGxlQ2hhbmdlKGRlZmF1bHRJbnB1dFZhbHVlKVxuICAgICAgICA6IGhhbmRsZUNoYW5nZSh7XG4gICAgICAgICAgdmFsdWVUeXBlOiByZXN1bHQudmFsdWVUeXBlLFxuICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlSXRlbUNsaWNrID0gdXNlQ2FsbGJhY2soKGtleSkgPT4ge1xuICAgIGNvbnN0IGZuTWFwID0ge1xuICAgICAgc2VhcmNoOiBoYW5kbGVTaG93QmlsbEZpbmRlck1vZGFsLFxuICAgICAgZm9ybXVsYTogaGFuZGxlU2hvd0Zvcm11bGFNb2RhbFxuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdmb3JtdWxhJyAmJiAhZmllbGRUcmVlKSB7XG4gICAgICBjb25zdCBmaWVsZFRyZWUgPSB0cmFuc2xhdGVEYXRhVG9WYXJpYWJsZVRyZWUoZGF0YUl0ZW1zLCBtZXRhQ29udGV4dCwgZmFsc2UpXG4gICAgICBzZXRGaWVsZFRyZWUoZmllbGRUcmVlKVxuICAgIH1cblxuICAgIGZuTWFwW2tleV0/LigpXG4gIH0sIFtkYXRhSXRlbXMsIGhhbmRsZVNob3dCaWxsRmluZGVyTW9kYWwsIGhhbmRsZVNob3dGb3JtdWxhTW9kYWxdKVxuICBjb25zdCB1cGRhdGVUcmVlRGF0YSA9IChsaXN0LCBrZXksIGNoaWxkcmVuKSA9PiB7XG4gICAgcmV0dXJuIGxpc3Q/Lm1hcCgobm9kZSkgPT4ge1xuICAgICAgaWYgKG5vZGUua2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4ubm9kZSwgY2hpbGRyZW4gfVxuICAgICAgfVxuICAgICAgaWYgKG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgcmV0dXJuIHsgLi4ubm9kZSwgY2hpbGRyZW46IHVwZGF0ZVRyZWVEYXRhKG5vZGUuY2hpbGRyZW4sIGtleSwgY2hpbGRyZW4pIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGxhenlVcGRhdGVBcHBDaGlsZHJlbiA9IChkYXRhOiBhbnlbXSkgPT4ge1xuICAgIHNldEZpZWxkVHJlZSgob3JpZ2luKSA9PiB1cGRhdGVUcmVlRGF0YShvcmlnaW4sIGxhenlVcGRhdGVOb2RlLmN1cnJlbnQ/LktleSwgdG9SZWZCaWxsQ2hpbGROb2RlcyhkYXRhLCBsYXp5VXBkYXRlTm9kZS5jdXJyZW50KSkpXG4gICAgbG9hZERhdGFSZXNvbHZlRnVuYy5jdXJyZW50Py4oKVxuICAgIGxvYWREYXRhUmVzb2x2ZUZ1bmMuY3VycmVudCA9IG51bGxcbiAgfVxuXG4gIGNvbnN0IGxvYWREYXRhID0gKG5vZGUpID0+IHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBpc0xlYWYsIGtleSwgaXNBc3luY05vZGUgfSA9IG5vZGVcblxuICAgIGNvbnN0IHJlZkJpbGxOb2RlID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2xCeUNvbmRpdGlvbigoaXRlbTogYW55KSA9PiB7XG4gICAgICByZXR1cm4gaXRlbS5LZXkgPT09IGtleVxuICAgIH0pPy5bMF0gfHwge31cbiAgICBjb25zdCBjb250cm9sVHlwZSA9IG1ldGFDb250ZXh0LmdldENvbnRyb2xNZXRhKHJlZkJpbGxOb2RlLl9UeXBlXykuTmFtZVxuICAgIGxhenlVcGRhdGVOb2RlLmN1cnJlbnQgPSB7IGNvbnRyb2xUeXBlLCAuLi5yZWZCaWxsTm9kZSB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBpZiAoIWlzQXN5bmNOb2RlKSB7XG4gICAgICAgIHJlc29sdmUoKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGxvYWREYXRhUmVzb2x2ZUZ1bmMuY3VycmVudCA9IHJlc29sdmVcbiAgICAgIGNvbnN0IGJpbGxFbnRpdHlJZEV4ID0gKGlzQWRtaW5PcmdGaWVsZChyZWZCaWxsTm9kZS5fVHlwZV8pIHx8IGlzVXNlckZpZWxkKHJlZkJpbGxOb2RlLl9UeXBlXykpXG4gICAgICAgID8gbWV0YUNvbnRleHQuZ2V0Q29udHJvbE1ldGFFZGl0b3IocmVmQmlsbE5vZGUuX1R5cGVfLCAnQmlsbEVudGl0eUlkRXgnKS5EZWZhdWx0XG4gICAgICAgIDogcmVmQmlsbE5vZGUuRW50aXR5RGF0YS5CaWxsRW50aXR5SWRFeFxuICAgICAgaW52b2tlQWN0aW9uKCdjbGljaycsIFtyZWZCaWxsTm9kZS5JZCwgJ2VudGl0eW1ldGEnLCAnUHJvcHNEaXNwbGF5JywgeyBCaWxsRW50aXR5SWRFeDogYmlsbEVudGl0eUlkRXgsIGl0ZW1LZXk6IHJlZkJpbGxOb2RlLktleSB9XSwgW10pXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUlucHV0Q2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKGlzRmlsZURlZikge1xuICAgICAgaGFuZGxlSXRlbUNsaWNrKCdzZWFyY2gnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHshaXNGaWxlRGVmICYmIDxOYW1lVGlwV3JhcHBlciBuYW1lSGlkZGVuPXtuYW1lSGlkZGVufSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gbmFtZT17bmFtZX0gdGlwcz17dGlwc30gcmVxdWlyZWQ9e3JlcXVpcmVkfSB0aXRsZT17dGl0bGV9IC8+fVxuICAgICAgPGRpdiBvbkNsaWNrPXtoYW5kbGVJbnB1dENsaWNrfSBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tZGVmLWVkaXRvcmB9PlxuICAgICAgICA8S1VJQ29uZmlnUHJvdmlkZXIgdmFsdWU9e2t1aUNvbmZpZ30+XG4gICAgICAgICAgPElucHV0Q29tYm9cbiAgICAgICAgICAgIHsuLi5pbnB1dFByb3BzfVxuICAgICAgICAgICAgLy8gdmFyU2VsZWN0UHJvcHM9e3ZhclNlbGVjdFByb3BzfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvS1VJQ29uZmlnUHJvdmlkZXI+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPEtVSUNvbmZpZ1Byb3ZpZGVyIHZhbHVlPXtrdWlDb25maWd9PlxuICAgICAgICB7Zm9ybXVsYVZpc2libGUgJiYgPENvbmRpdGlvblxuICAgICAgICAgIGxvYWREYXRhPXtsb2FkRGF0YX1cbiAgICAgICAgICB2YWx1ZT17Zm9ybXVsYURhdGFbMF19IC8vICd7e0ZpZWxkIGlkPVwiJHttb2RlbC5uYW1lfVwiIHRleHQ9XCLooajljZXmj5DkuqTop6blj5F8fHxb5paH5pysXeWnk+WQjVwifX0nXG4gICAgICAgICAgbGFuZ3VhZ2U9e051bWJlcihmb3JtdWxhRGF0YVsxXSB8fCAxKX1cbiAgICAgICAgICBtb2RhbFRpdGxlPSfnvJbovpHov5DnrpflhazlvI8nXG4gICAgICAgICAgZWRpdG9yVGl0bGU9e2ZpZWxkLk5hbWV9XG4gICAgICAgICAgLy8gYWN0aW9uVHlwZT17fVxuICAgICAgICAgIHZpc2libGU9e2Zvcm11bGFWaXNpYmxlfVxuICAgICAgICAgIC8vIGhpZGVGdW5jPXt9XG4gICAgICAgICAgZWRpdG9yUGxhY2Vob2xkZXI9J+ivt+e8lui+kei/kOeul+WFrOW8jydcbiAgICAgICAgICBmaWVsZERhdGE9e2ZpZWxkVHJlZX1cbiAgICAgICAgICBmaWVsZFRpdGxlPSfooajljZXlhoXlrrknXG4gICAgICAgICAgZXhwcmVzc2lvbkRhdGE9e2V4cHJlc3Npb25EYXRhLmZ1bmN0aW9uVHlwZXN9XG4gICAgICAgICAgb3BlcmF0aW9ucz17b3BlcmF0aW9uc31cbiAgICAgICAgICBvbkNsb3NlPXtoYW5kbGVDbG9zZUZvcm11bGFNb2RhbH1cbiAgICAgICAgICBvbkNvbmZpcm09e2hhbmRsZUZvcm11bGFDb25maXJtfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgLz59XG4gICAgICA8L0tVSUNvbmZpZ1Byb3ZpZGVyPlxuICAgICAge2JpbGxGaW5kZXJWaXNpYmxlICYmXG4gICAgICAgIDxCaWxsUXVpY2tGaW5kZXJNb2RhbFxuICAgICAgICAgIHZpc2libGU9e2JpbGxGaW5kZXJWaXNpYmxlfVxuICAgICAgICAgIG9uQ2xvc2U9e2hhbmRsZUNsb3NlQmlsbEZpbmRlck1vZGFsfVxuICAgICAgICAgIGludm9rZUFjdGlvbnM9e2ludm9rZUFjdGlvbnN9XG4gICAgICAgICAgcXVlcnlGb3JtVmFsdWU9e3F1ZXJ5Rm9ybVZhbHVlIHx8IGRlZmF1bHRRdWVyeUZvcm1EYXRhLnZhbHVlfVxuICAgICAgICAgIHJlZkJpbGxEYXRhPXtyZWZCaWxsRGF0YX1cbiAgICAgICAgICBmaWVsZD17ZmllbGR9XG4gICAgICAgICAgY29tcGFyZVR5cGVzTWFwPXtjb21wYXJlVHlwZXNNYXB9XG4gICAgICAgICAgZm9ybUlkPXtmb3JtTWV0YS5pZH1cbiAgICAgICAgICBvbkNvbmZpcm09e2hhbmRsZVF1aWNrRmluZGVyQ29uZmlybX1cbiAgICAgICAgLz59XG4gICAgPC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQmFzZURlZlZhbHVlRWRpdG9yXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///41732\n");

/***/ }),

/***/ 45376:
/*!************************************************************!*\
  !*** ./src/editors/BillPropsFieldEditor/BillFieldItem.tsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_controlIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/controlIcon */ 84995);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n/**\n * 关联表单的字段列表\n *\n */\nvar BillFieldItem = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.memo)(function (_ref) {\n  var item = _ref.item,\n    index = _ref.index,\n    prefixClass = _ref.prefixClass,\n    isSysControl = _ref.isSysControl,\n    fieldInfo = _ref.fieldInfo,\n    innerForm = _ref.innerForm,\n    isNew = _ref.isNew,\n    disabled = _ref.disabled,\n    isRefSelf = _ref.isRefSelf,\n    onDrop = _ref.onDrop,\n    onTitleChange = _ref.onTitleChange,\n    onShowField = _ref.onShowField,\n    onDelectField = _ref.onDelectField,\n    showMessage = _ref.showMessage;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useState)((item === null || item === void 0 ? void 0 : item.Name) || ''),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    title = _useState2[0],\n    setTitle = _useState2[1];\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useState)(false),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState3, 2),\n    isEdit = _useState4[0],\n    setIsEdit = _useState4[1];\n  var textRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  var inner2Outer = fieldInfo.inner2Outer,\n    SourceForm = fieldInfo.SourceForm;\n\n  // 是否可以编辑标题\n  var canEdit = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    if (disabled) return false;\n    return inner2Outer || innerForm;\n  }, [inner2Outer, innerForm, disabled]);\n\n  // 显示眼睛图标\n  var showEyes = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return !isNew && (SourceForm === '1' && inner2Outer || SourceForm !== '1');\n  }, [inner2Outer, innerForm, SourceForm, isNew]);\n\n  // 显示编辑按钮和删除按钮\n  var showEdit = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    if (disabled) return false;\n    if (isRefSelf) return false;\n    return SourceForm === '1' || canEdit;\n  }, [inner2Outer, canEdit, disabled]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    item.Name && setTitle(item.Name);\n  }, [item.Name]);\n\n  // 失焦或按回车更新标题\n  var handleBlur = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\n    var _textRef$current;\n    if (!title) {\n      showMessage === null || showMessage === void 0 || showMessage('控件名不能为空');\n      setTitle(item === null || item === void 0 ? void 0 : item.Name);\n    }\n    setIsEdit(false);\n    (_textRef$current = textRef.current) === null || _textRef$current === void 0 || _textRef$current.blur();\n    title && onTitleChange(title, index, item);\n  }, [title, onTitleChange]);\n\n  /**\n   * 删除控件\n   * 只能删除应用内表单的控件\n   */\n  var handleDelete = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\n    canEdit && !isSysControl && onDelectField(index, item, isNew);\n  }, [item, index, onDelectField, canEdit, isNew, isSysControl]);\n\n  /**\n   * 编辑\n   * 只能删除应用内表单的控件\n   */\n  var handleEdit = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\n    setIsEdit(true);\n    setTimeout(function () {\n      var _textRef$current2;\n      return (_textRef$current2 = textRef.current) === null || _textRef$current2 === void 0 ? void 0 : _textRef$current2.focus();\n    }, 200);\n  }, []);\n  var handleDrog = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (e, data) {\n    !disabled && (onDrop === null || onDrop === void 0 ? void 0 : onDrop(e, data));\n  }, [onDrop, disabled]);\n\n  // const delcss = canEdit && !isSysControl ? '' : ' gray'\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_3__.Draggable, {\n    index: index,\n    onDrop: handleDrog,\n    disabled: disabled\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-list-drag-item\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-list-drag-item-title\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"i\", {\n    className: \"designericon designericon-\".concat((_utils_controlIcon__WEBPACK_IMPORTED_MODULE_2__.controlIconMap === null || _utils_controlIcon__WEBPACK_IMPORTED_MODULE_2__.controlIconMap === void 0 ? void 0 : _utils_controlIcon__WEBPACK_IMPORTED_MODULE_2__.controlIconMap[item._Type_]) || 'wenben')\n  }), isEdit ? /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_3__.Text, {\n    ref: textRef,\n    value: title,\n    size: \"small\",\n    onChange: setTitle,\n    onPressEnter: handleBlur,\n    onBlur: handleBlur\n  }) : /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n    title: title\n  }, title)), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-list-drag-item-btns\")\n  }, showEdit && !(item !== null && item !== void 0 && item.RefBillId) && !(item !== null && item !== void 0 && item.RefTableId) && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"i\", {\n    className: \"designericon designericon-bianji3\",\n    onClick: handleEdit\n  }), showEyes && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"i\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('designericon', {\n      'designericon-zhanshi': item.isShow\n    }, {\n      'designericon-yincang': !(item !== null && item !== void 0 && item.isShow)\n    }),\n    onClick: function onClick() {\n      return onShowField(index, item);\n    }\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"i\", {\n    className: \"designericon designericon-tuozhuailiebiao\"\n  }))), showEdit && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"i\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('nocodeplatformicon', 'nocodeplatformicon-xingshanchu', {\n      gray: !(canEdit && !isSysControl)\n    }),\n    onClick: handleDelete\n  })));\n});\nBillFieldItem.displayName = 'BillFieldItem';\n/* harmony default export */ __webpack_exports__[\"default\"] = (BillFieldItem);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDUzNzYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBS0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2VkaXRvcnMvQmlsbFByb3BzRmllbGRFZGl0b3IvQmlsbEZpZWxkSXRlbS50c3g/YTU4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgbWVtbywgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgY29udHJvbEljb25NYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb250cm9sSWNvbidcbmltcG9ydCB7IERyYWdnYWJsZSBhcyBEcmFnSXRlbSwgVGV4dCB9IGZyb20gJ25vY29kZV9jb21wb25lbnQvV2ViVUknXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xuXG5pbnRlcmZhY2UgSUJpbGxGaWVsZEl0ZW1Qcm9wcyB7XG4gIGl0ZW06YW55LFxuICBpbmRleDpudW1iZXIsXG4gIHByZWZpeENsYXNzOnN0cmluZyxcbiAgLy8gc291cmNlRm9ybTpzdHJpbmcsXG4gIC8vIGNhbkVkaXQ6IGJvb2xlYW4sXG4gIGZpZWxkSW5mbzogYW55LFxuICBpc05ldzogYm9vbGVhbixcbiAgaW5uZXJGb3JtOiBib29sZWFuLFxuICBpc1N5c0NvbnRyb2w6IGJvb2xlYW4sXG4gIGRpc2FibGVkOiBib29sZWFuLFxuICBvbkRyb3A6KGU6YW55LCBkYXRhOiBhbnkpID0+IHZvaWQsXG4gIG9uVGl0bGVDaGFuZ2U6KHRpdGxlOnN0cmluZywgaW5kZXg6bnVtYmVyLCBpdGVtOmFueSkgPT4gdm9pZCxcbiAgb25TaG93RmllbGQ6KGluZGV4Om51bWJlciwgaXRlbTphbnkpID0+IHZvaWQsXG4gIG9uRGVsZWN0RmllbGQ6IChpbmRleDpudW1iZXIsIGl0ZW06YW55LCBpc05ldzpib29sZWFuKSA9PiB2b2lkLFxuICBzaG93TWVzc2FnZT86IChtc2c6c3RyaW5nLCB0eXBlPzond2FybmluZyd8J2Vycm9yJ3wnaW5mbycpID0+IHZvaWRcbn1cblxuLyoqXG4gKiDlhbPogZTooajljZXnmoTlrZfmrrXliJfooahcbiAqXG4gKi9cbmNvbnN0IEJpbGxGaWVsZEl0ZW0gPSBtZW1vKCh7XG4gIGl0ZW0sIGluZGV4LCBwcmVmaXhDbGFzcywgaXNTeXNDb250cm9sLCBmaWVsZEluZm8sIGlubmVyRm9ybSwgaXNOZXcsIGRpc2FibGVkLCBpc1JlZlNlbGYsXG4gIG9uRHJvcCwgb25UaXRsZUNoYW5nZSwgb25TaG93RmllbGQsIG9uRGVsZWN0RmllbGQsIHNob3dNZXNzYWdlXG59OklCaWxsRmllbGRJdGVtUHJvcHMpID0+IHtcbiAgY29uc3QgW3RpdGxlLCBzZXRUaXRsZV0gPSB1c2VTdGF0ZShpdGVtPy5OYW1lIHx8ICcnKVxuICBjb25zdCBbaXNFZGl0LCBzZXRJc0VkaXRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IHRleHRSZWYgPSB1c2VSZWY8YW55PihudWxsKVxuICBjb25zdCB7IGlubmVyMk91dGVyLCBTb3VyY2VGb3JtIH0gPSBmaWVsZEluZm9cblxuICAvLyDmmK/lkKblj6/ku6XnvJbovpHmoIfpophcbiAgY29uc3QgY2FuRWRpdCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChkaXNhYmxlZCkgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuIGlubmVyMk91dGVyIHx8IGlubmVyRm9ybVxuICB9LCBbaW5uZXIyT3V0ZXIsIGlubmVyRm9ybSwgZGlzYWJsZWRdKVxuXG4gIC8vIOaYvuekuuecvOedm+Wbvuagh1xuICBjb25zdCBzaG93RXllcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiAhaXNOZXcgJiYgKChTb3VyY2VGb3JtID09PSAnMScgJiYgaW5uZXIyT3V0ZXIpIHx8IFNvdXJjZUZvcm0gIT09ICcxJylcbiAgfSwgW2lubmVyMk91dGVyLCBpbm5lckZvcm0sIFNvdXJjZUZvcm0sIGlzTmV3XSlcblxuICAvLyDmmL7npLrnvJbovpHmjInpkq7lkozliKDpmaTmjInpkq5cbiAgY29uc3Qgc2hvd0VkaXQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoZGlzYWJsZWQpIHJldHVybiBmYWxzZVxuICAgIGlmIChpc1JlZlNlbGYpIHJldHVybiBmYWxzZVxuICAgIHJldHVybiBTb3VyY2VGb3JtID09PSAnMScgfHwgY2FuRWRpdFxuICB9LCBbaW5uZXIyT3V0ZXIsIGNhbkVkaXQsIGRpc2FibGVkXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGl0ZW0uTmFtZSAmJiBzZXRUaXRsZShpdGVtLk5hbWUpXG4gIH0sIFtpdGVtLk5hbWVdKVxuXG4gIC8vIOWkseeEpuaIluaMieWbnui9puabtOaWsOagh+mimFxuICBjb25zdCBoYW5kbGVCbHVyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghdGl0bGUpIHtcbiAgICAgIHNob3dNZXNzYWdlPy4oJ+aOp+S7tuWQjeS4jeiDveS4uuepuicpXG4gICAgICBzZXRUaXRsZShpdGVtPy5OYW1lKVxuICAgIH1cbiAgICBzZXRJc0VkaXQoZmFsc2UpXG4gICAgdGV4dFJlZi5jdXJyZW50Py5ibHVyKClcbiAgICB0aXRsZSAmJiBvblRpdGxlQ2hhbmdlKHRpdGxlLCBpbmRleCwgaXRlbSlcbiAgfSwgW3RpdGxlLCBvblRpdGxlQ2hhbmdlXSlcblxuICAvKipcbiAgICog5Yig6Zmk5o6n5Lu2XG4gICAqIOWPquiDveWIoOmZpOW6lOeUqOWGheihqOWNleeahOaOp+S7tlxuICAgKi9cbiAgY29uc3QgaGFuZGxlRGVsZXRlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNhbkVkaXQgJiYgIWlzU3lzQ29udHJvbCAmJiBvbkRlbGVjdEZpZWxkKGluZGV4LCBpdGVtLCBpc05ldylcbiAgfSwgW2l0ZW0sIGluZGV4LCBvbkRlbGVjdEZpZWxkLCBjYW5FZGl0LCBpc05ldywgaXNTeXNDb250cm9sXSlcblxuICAvKipcbiAgICog57yW6L6RXG4gICAqIOWPquiDveWIoOmZpOW6lOeUqOWGheihqOWNleeahOaOp+S7tlxuICAgKi9cbiAgY29uc3QgaGFuZGxlRWRpdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRJc0VkaXQodHJ1ZSlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRleHRSZWYuY3VycmVudD8uZm9jdXMoKSwgMjAwKVxuICB9LCBbXSlcblxuICBjb25zdCBoYW5kbGVEcm9nID0gdXNlQ2FsbGJhY2soKGUsIGRhdGEpID0+IHtcbiAgICAhZGlzYWJsZWQgJiYgb25Ecm9wPy4oZSwgZGF0YSlcbiAgfSwgW29uRHJvcCwgZGlzYWJsZWRdKVxuXG4gIC8vIGNvbnN0IGRlbGNzcyA9IGNhbkVkaXQgJiYgIWlzU3lzQ29udHJvbCA/ICcnIDogJyBncmF5J1xuICByZXR1cm4gKFxuICAgIDxEcmFnSXRlbSBpbmRleD17aW5kZXh9IG9uRHJvcD17aGFuZGxlRHJvZ30gZGlzYWJsZWQ9e2Rpc2FibGVkfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbGFzc30tbGlzdC1kcmFnLWl0ZW1gfT5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xhc3N9LWxpc3QtZHJhZy1pdGVtLXRpdGxlYH0+XG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9e2BkZXNpZ25lcmljb24gZGVzaWduZXJpY29uLSR7Y29udHJvbEljb25NYXA/LltpdGVtLl9UeXBlX10gfHwgJ3dlbmJlbid9YH0gLz5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgIGlzRWRpdFxuICAgICAgICAgICAgICA/IDxUZXh0IHJlZj17dGV4dFJlZn0gdmFsdWU9e3RpdGxlfSBzaXplPSdzbWFsbCcgb25DaGFuZ2U9e3NldFRpdGxlfSBvblByZXNzRW50ZXI9e2hhbmRsZUJsdXJ9IG9uQmx1cj17aGFuZGxlQmx1cn0gLz5cbiAgICAgICAgICAgICAgOiA8c3BhbiB0aXRsZT17dGl0bGV9Pnt0aXRsZX08L3NwYW4+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsYXNzfS1saXN0LWRyYWctaXRlbS1idG5zYH0+XG4gICAgICAgICAgICB7Lyog57yW6L6R5ZCN56ewLCDlpoLmnpzlvZPliY3kuLrlhbPogZTooajljZXlubbliIfmjaLmiJDkuobooajmoLzliJnkuI3lhYHorrjnvJbovpEgKi99XG4gICAgICAgICAgICB7c2hvd0VkaXQgJiYgIWl0ZW0/LlJlZkJpbGxJZCAmJiAhaXRlbT8uUmVmVGFibGVJZCAmJiA8aSBjbGFzc05hbWU9J2Rlc2lnbmVyaWNvbiBkZXNpZ25lcmljb24tYmlhbmppMycgb25DbGljaz17aGFuZGxlRWRpdH0gLz59XG4gICAgICAgICAgICB7Lyog5pi+56S66ZqQ6JePICovfVxuICAgICAgICAgICAge3Nob3dFeWVzICYmIDxpXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgICAgIGNsYXNzTmFtZXMoJ2Rlc2lnbmVyaWNvbicsXG4gICAgICAgICAgICAgICAgeyAnZGVzaWduZXJpY29uLXpoYW5zaGknOiBpdGVtLmlzU2hvdyB9LFxuICAgICAgICAgICAgICAgIHsgJ2Rlc2lnbmVyaWNvbi15aW5jYW5nJzogIWl0ZW0/LmlzU2hvdyB9KVxuICAgICAgICAgICAgfSBvbkNsaWNrPXsoKSA9PiBvblNob3dGaWVsZChpbmRleCwgaXRlbSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgLz59XG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9J2Rlc2lnbmVyaWNvbiBkZXNpZ25lcmljb24tdHVvemh1YWlsaWViaWFvJyAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgey8qIOWIoOmZpCAqL31cbiAgICAgICAge3Nob3dFZGl0ICYmIDxpXG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdub2NvZGVwbGF0Zm9ybWljb24nLCAnbm9jb2RlcGxhdGZvcm1pY29uLXhpbmdzaGFuY2h1JywgeyBncmF5OiAhKGNhbkVkaXQgJiYgIWlzU3lzQ29udHJvbCkgfSl9XG4gICAgICAgICAgb25DbGljaz17aGFuZGxlRGVsZXRlfVxuICAgICAgICAgICAgICAgICAgICAgLz59XG4gICAgICA8L2Rpdj5cbiAgICA8L0RyYWdJdGVtPlxuICApXG59KVxuQmlsbEZpZWxkSXRlbS5kaXNwbGF5TmFtZSA9ICdCaWxsRmllbGRJdGVtJ1xuZXhwb3J0IGRlZmF1bHQgQmlsbEZpZWxkSXRlbVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///45376\n");

/***/ }),

/***/ 88672:
/*!****************************************************!*\
  !*** ./src/editors/BillPropsFieldEditor/index.tsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set */ 99308);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 61260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 73980);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _constants_actionName__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../constants/actionName */ 82964);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var _utils_useDebounce__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../utils/useDebounce */ 34496);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../utils/control */ 3700);\n/* harmony import */ var _BillFieldItem__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./BillFieldItem */ 45376);\n/* harmony import */ var _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../reducer/reduceConstants */ 10788);\n/* harmony import */ var _utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../utils/refBillEditorUtils */ 82048);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n// import produce from 'immer'\n\n\n\n\n\n\nvar REFRESH_PROPS_DISPLAY_LIST = 'refreshPropsDisplayList';\n\n// const propsData = ['apple', 'orange', 'grape']\n// const isInit = false\n/**\n * 格式化数据\n * @param datas {array} 需要格式化的数据\n * @returns Array\n */\n// const transformData = datas => {\n//   return datas.map(item => { return { label: item.PropCap, value: item.PropKey } })\n// }\n\n/**\n * 关联表单选项中显示内容-Editor\n * @param props\n * @returns\n */\nvar BillPropsrefFieldEditor = function BillPropsrefFieldEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    Name = props.Name,\n    tips = props.Tips,\n    field = props.field,\n    id = props.id,\n    propName = props.propName,\n    rootId = props.rootId;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required,\n    title = editor.Title;\n  // const [selectValue, setSelectValue] = useState(value)\n  // const { Option } = Select\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useContext)(_context__WEBPACK_IMPORTED_MODULE_17__.DesignerContext),\n    invokeAction = _useContext.invokeAction,\n    billPropsData = _useContext.billPropsData,\n    dispatchBillData = _useContext.dispatchBillData,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    getHideFieldRef = _useContext.getHideFieldRef,\n    setHideFieldRef = _useContext.setHideFieldRef;\n  var _useContext2 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.GlobalConfigContext),\n    showMessage = _useContext2.showMessage;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    selectionContext = _getKdesignerApi.selection,\n    metaReader = _getKdesignerApi.meta,\n    controlCacheApi = _getKdesignerApi.controlCacheApi;\n  var BillEntityIdEx = field.BillEntityIdEx,\n    RefTableId = field.RefTableId,\n    RefBillId = field.RefBillId,\n    fieldType = field._Type_,\n    SourceForm = field.SourceForm,\n    inner2Outer = field.inner2Outer,\n    ShowType = field.ShowType;\n  var prefixClass = \"\".concat(className, \"-bill-props\");\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useState)([]),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState, 2),\n    propsData = _useState2[0],\n    setPropsData = _useState2[1]; // 控件列表\n\n  var valueRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useRef)(value); // 下拉可显示内容，因多个函数需要实时数据，故使用ref缓存\n  var nodeInfo = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useRef)({\n    fieldId: id,\n    tableId: RefTableId,\n    refId: RefBillId,\n    code: propName\n  }); // 节点常规信息,用于函数穿透\n  var billData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useRef)(_objectSpread({}, billPropsData) || {}); // 所有缓存的表单数据\n\n  var curPId = (0,_utils_control__WEBPACK_IMPORTED_MODULE_22__.isRefBill)(fieldType) && RefTableId ? RefTableId : id; // 当前父节点id\n  var pid = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useRef)(curPId); // 父节点id\n  var focusForm = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useRef)(!BillEntityIdEx && SourceForm === '1' ? \"\".concat(curPId, \"_table\") : BillEntityIdEx); // 当前表单，用于比对表单是否变化\n  var selectRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useRef)(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_7___default())(value ? value.split(',') : []));\n  var displayList = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useRef)([]); // 选项中显示内容列表\n  // const isSort = useRef(false) // 是否排过序\n  // const formInfo = useRef<any>() // 当前表单信息\n  // const isEditStatus = useRef('')\n\n  // 是否是内部表单\n  var isAppForm = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useMemo)(function () {\n    return (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_25__.isAppInnerForm)(field, billPropsData.innerForm || []);\n  }, [field, inner2Outer, billPropsData === null || billPropsData === void 0 ? void 0 : billPropsData.innerForm]);\n\n  /**\n   * 更新显示内容属性\n   * 如果开启了表格模式，需要同时更新关联表单及表格的显示内容\n   */\n  var updateDisplayProps = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (str) {\n    if (valueRef.current === str) return;\n    var _nodeInfo$current = nodeInfo.current,\n      fieldId = _nodeInfo$current.fieldId,\n      code = _nodeInfo$current.code;\n    var data = (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, code, str);\n    var actions = [[fieldId, data]];\n    dataContext.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.createUpdateAction)(actions));\n  }, []);\n\n  /**\n   * 更新控件标题\n   */\n  var updateNameProps = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (str, data) {\n    var actions = [];\n    var _ref = data || {},\n      fieldKey = _ref.Key,\n      isShow = _ref.isShow;\n    // const { refId, tableId } = nodeInfo.current || {}\n    dataContext.findControlByCondition(function (item) {\n      var _context;\n      if (item.Id.split('_').length > 1 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default()(_context = item.Id).call(_context, data.Id)) {\n        actions.push([item.Id, {\n          Name: str\n        }]);\n      }\n    });\n    // 除内部表格外，需要更新外部表单的Name时，需要将信息更新到根节点\n    // 只有隐藏的显示内容标题修改时才添加\n    if (SourceForm !== '1' && (!isShow || ShowType === '1')) {\n      var _ref2 = dataContext.findControl(rootId) || {},\n        _ref2$refFieldEdit = _ref2.refFieldEdit,\n        refFieldEdit = _ref2$refFieldEdit === void 0 ? {} : _ref2$refFieldEdit;\n      var fieldInfo = typeof refFieldEdit === 'string' ? JSON.parse(refFieldEdit || '{}') : (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_20__.cloneDeep)(refFieldEdit);\n      fieldInfo[focusForm.current] = fieldInfo[focusForm.current] || {};\n      fieldInfo[focusForm.current][fieldKey] = {\n        title: str,\n        status: 'edit'\n      };\n      actions.push([rootId, {\n        refFieldEdit: fieldInfo\n      }]);\n    }\n    dataContext.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.createUpdateAction)(actions));\n  }, [SourceForm, rootId, ShowType]);\n\n  /**\n   * 拖拽\n   */\n  var handleDrop = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (e, data) {\n    var sourceIndex = data.sourceIndex,\n      destinationIndex = data.destinationIndex;\n    var list = (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_20__.cloneDeep)(propsData);\n    var moveNode = _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_9___default()(list).call(list, sourceIndex, 1)[0];\n    _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_9___default()(list).call(list, destinationIndex, 0, moveNode);\n    setPropsData((0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(list));\n    // isSort.current = false\n    updateBillControl(list);\n    displayList.current = list;\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.eventBus.emit(REFRESH_PROPS_DISPLAY_LIST, {\n      id: nodeInfo.current.fieldId,\n      data: (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(list)\n    });\n  }, [propsData, setPropsData]);\n\n  // 修改字段名称\n  var handleTitleChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (v, index, data) {\n    console.log('handleTextChange', v);\n    dispatchBillData({\n      key: _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_24__.UPDATE_CONTROL_PROPS,\n      // payload: { form: focusForm.current, id: data.Id, props: 'Name', v }\n      payload: {\n        form: focusForm.current,\n        id: data.Id,\n        data: {\n          Name: v\n        }\n      }\n    });\n    updateNameProps(v, data);\n  }, [dispatchBillData, propsData]);\n\n  // 获取所有可显示的KEY值\n  var getShowKey = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (data) {\n    return data.reduce(function (arr, item) {\n      if (item.isShow) {\n        if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_22__.isDateRange)(item._Type_)) {\n          var _context2;\n          return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context2 = []).call(_context2, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(arr), [\"\".concat(item.Key, \"_startdate\"), \"\".concat(item.Key, \"_enddate\")]);\n        } else {\n          var _context3;\n          return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context3 = []).call(_context3, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(arr), [item.Key]);\n        }\n      }\n      return arr;\n    }, []);\n  }, []);\n\n  // 修改字段显示状态，控制是否显示字段的值\n  var handleShowField = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (index, info) {\n    console.log('handleShowField', index, info);\n    var data = (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_20__.cloneDeep)(propsData);\n    data[index].isShow = !data[index].isShow;\n    // 显示内容属性由preaddhandle处理\n    // 显示时需要添加表格控件，隐藏时需要删除\n    if (ShowType === '2') {\n      if (data[index].isShow) {\n        // 添加控件\n        dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.createAddAction)((0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_25__.createTableControl)(data[index], id)));\n      } else {\n        var _context4;\n        // 删除控件\n        var hideField = getHideFieldRef();\n        // id需要添加上table id\n        (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_25__.deleteRefControl)([_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context4 = \"\".concat(info.Id, \"_\")).call(_context4, id)], billPropsData, dispatchBillData, dataContext, hideField, setHideFieldRef);\n      }\n    }\n    var showKey = getShowKey(data);\n    if (ShowType === '1') {\n      // 需要更新属性-显示内容\n      updateDisplayProps(showKey.join());\n    }\n    var select = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_7___default())(showKey);\n    // 将列表进行排序\n    data = (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_25__.sortEntityWithSelected)(data, select);\n    displayList.current = data;\n    setPropsData(data);\n  }, [propsData, id, billPropsData, ShowType]);\n\n  /**\n   * 删除表单控件\n   * 同时在根节点自定义属性refFieldEdit标注删除\n   */\n  var handleDelectField = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (index, info) {\n    var isNew = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    // const { fieldId } = nodeInfo.current\n    if (BillEntityIdEx && !isNew) {\n      var _ref3 = dataContext.findControl(rootId) || {},\n        _ref3$refFieldEdit = _ref3.refFieldEdit,\n        refFieldEdit = _ref3$refFieldEdit === void 0 ? {} : _ref3$refFieldEdit;\n      var fieldInfo = typeof refFieldEdit === 'string' ? JSON.parse(refFieldEdit || '{}') : (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_20__.cloneDeep)(refFieldEdit);\n      fieldInfo[focusForm.current] = fieldInfo[focusForm.current] || {};\n      fieldInfo[focusForm.current][info.Key] = {\n        status: 'delete'\n      };\n      dataContext.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.createUpdateAction)([[rootId, {\n        refFieldEdit: fieldInfo\n      }]]));\n    }\n    if (ShowType === '2' && info !== null && info !== void 0 && info.isShow) {\n      // 删除表格控件且在显示内部里时\n      // 删除所有当前界面包含Id的控件\n      var deleteIds = [];\n      dataContext.findControlByCondition(function (ctrl) {\n        var _context5;\n        if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default()(_context5 = ctrl.Id).call(_context5, info.Id)) deleteIds.push(ctrl.Id);\n      });\n      var hideField = getHideFieldRef();\n      (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_25__.deleteRefControl)(deleteIds, billData.current, dispatchBillData, dataContext, hideField, setHideFieldRef);\n    } else {\n      var _context6;\n      // 需要更新显示内容及store\n      var newDisplay = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_11___default()(_context6 = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(selectRef.current)).call(_context6, function (item) {\n        return !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default()(item).call(item, info.Key);\n      });\n      updateDisplayProps(newDisplay.join());\n    }\n    dispatchBillData({\n      key: _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_24__.DEL_CONTROL,\n      payload: {\n        form: focusForm.current,\n        id: info.Id\n      }\n    });\n    // deleteDataGridControl(deleteIds)\n    // 删除表格内控件，表格内控件ID为当前ID+父节点ID\n    // const { refId, tableId } = nodeInfo.current\n    // if (tableId || refId) {\n    //   deleteDataGridControl(`${info.Id}_${pid.current}`)\n    // }\n    // dispatchBillData({ key: DEL_CONTROL, payload: { form: focusForm.current, id: info.Id } })\n  }, [ShowType, BillEntityIdEx, rootId]);\n\n  /**\n   * 删除表单控件\n   */\n  var handleDelectModal = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (index, info, isNew) {\n    var _billData$current$Bil;\n    var remind = window.sessionStorage.getItem('nocode-d-del-modal');\n    // 内部表格，新添加控件，用户选择不提示时，不弹窗\n    if (!BillEntityIdEx || remind || isNew || SourceForm === '1') return handleDelectField(index, info);\n    var style = {\n      marginTop: 32\n    };\n    nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__.WebMsg.showConfirmModal({\n      title: \"\\u786E\\u8BA4\\u5220\\u9664\\u201C\".concat(info.Name, \"\\u201D\\u5417\\uFF1F\"),\n      content: \"\\u4F1A\\u5728\\u8868\\u5355\\u201C\".concat(((_billData$current$Bil = billData.current[BillEntityIdEx]) === null || _billData$current$Bil === void 0 || (_billData$current$Bil = _billData$current$Bil.data) === null || _billData$current$Bil === void 0 ? void 0 : _billData$current$Bil.caption) || '', \"\\u201D\\u4E2D\\u540C\\u6B65\\u5220\\u9664\"),\n      actions: [{\n        key: 'delete',\n        text: '删除'\n      }, {\n        key: 'ok',\n        text: '再想想'\n      }],\n      onAction: function onAction(key) {\n        key === 'delete' && handleDelectField(index, info, isNew);\n      },\n      type: 'delete',\n      extra: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Checkbox, {\n        style: style,\n        onChange: function onChange(e) {\n          return e.target.checked && window.sessionStorage.setItem('nocode-d-del-modal', 'true');\n        }\n      }, \"\\u4E0B\\u6B21\\u4E0D\\u518D\\u63D0\\u9192\")\n    });\n  }, [BillEntityIdEx, SourceForm, handleDelectField]);\n\n  /**\n   * 往表格添加控件\n   * 只添加isShow的控件,先删除表格内控件，再添加,添加之后同时更新已选值\n   */\n  var addDataGridControl = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (info, oldData, cb) {\n    if (!info.length) return;\n    var fieldId = nodeInfo.current.fieldId;\n    var index = dataContext.findControlIndex(fieldId);\n    var _formatTableControl = (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_25__.formatTableControl)(info, oldData, pid.current, metaReader),\n      _formatTableControl2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_formatTableControl, 2),\n      actions = _formatTableControl2[0],\n      selected = _formatTableControl2[1];\n    // const [actions, selected] = getDataGridControl(info)\n    console.log('addDataGridControl', (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.createAddAction)(actions));\n    dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.createAddAction)(actions, {\n      index: index + 1\n    })).then(function () {\n      // 添加控件后必须手动设置焦点\n      selectionContext.setSelect([fieldId]);\n      cb === null || cb === void 0 || cb(selected.join());\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, []);\n\n  /**\n   * 根据列表删除控件\n   */\n  var deleteDataGridControl = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (ids, cb) {\n    dataContext.deleteControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.createDeleteAction)(ids)).then(function (result) {\n      cb === null || cb === void 0 || cb(result);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, []);\n\n  /**\n   * 更新列表数据\n   * 如果切换其它表单，则更新显示内容属性\n   * 如果需要对列表进行排序，则将isSort.current值改为false\n   */\n  var setFormAndEntityMetaData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (data, cb) {\n    console.log('setFormAndEntityMetaData', data);\n    var entitymeta = (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_25__.transformEntityData)(data, field);\n    if (selectRef.current.size) {\n      // 初次加载、表单切换进行排序\n      entitymeta = (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_25__.sortEntityWithSelected)(entitymeta, selectRef.current);\n      // isSort.current = true\n    }\n    // 更新列表数据, 需要将可视控件排前\n    setPropsData(entitymeta);\n    displayList.current = entitymeta;\n    cb === null || cb === void 0 || cb(entitymeta);\n  }, [field]);\n  var debounceFormData = (0,_utils_useDebounce__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(setFormAndEntityMetaData, 100);\n\n  /**\n   * 请求表单控件数据的回调\n   */\n  var updateBillData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (info) {\n    var _context7;\n    if (!(info !== null && info !== void 0 && info.data)) return;\n    var data = (info === null || info === void 0 ? void 0 : info.data) || {};\n    // if (SourceForm === '1' && selectRef.current.size) {\n    //   data.entitymeta.Items = data?.entitymeta?.Items.filter((item:any) => selectRef.current.has(item.Key))\n    //   data.formmeta.Items = data?.formmeta?.Items.filter((item:any) => selectRef.current.has(item.Key))\n    // }\n    var ids = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default()(_context7 = data.entitymeta.Items).call(_context7, function (item) {\n      return item.Id;\n    });\n    // 更新上下文全局缓存\n    dispatchBillData({\n      key: _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_24__.UPDATE_FORM_DATA,\n      payload: {\n        form: info.billEntityIdEx || data.id,\n        info: {\n          data: data,\n          ids: ids\n        }\n      }\n    });\n  }, []);\n\n  /**\n   * 更新表格控件\n   * 如果是表格（内部/已有）,则需要更新表格内控件及displayprops属性\n   * 如果是纯关联表单，则直接更新displayprops属性\n   */\n  var updateBillControl = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (info) {\n    var fieldId = nodeInfo.current.fieldId;\n    var _dataContext$getParen = dataContext.getParentControl(fieldId),\n      parentType = _dataContext$getParen._Type_;\n    // 表格内的关联表单表格模式，生成表格子控件\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_22__.isRefBillTable)(parentType)) return;\n    if (ShowType === '2') {\n      // 旧的表格子控件\n      var oCtrls = dataContext.getAllSubControls(fieldId);\n      var delIds = oCtrls.reduce(function (result, item) {\n        var _context8;\n        return item.Id === fieldId ? result : _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context8 = []).call(_context8, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(result), [item.Id]);\n      }, []);\n      deleteDataGridControl(delIds, function () {\n        // 添加成功之后,更新选项中显示内容属性\n        addDataGridControl(info, oCtrls, function (selected) {\n          return updateDisplayProps(selected);\n        });\n      });\n    } else {\n      // 关联表单时，不需要刷新表格\n      updateDisplayProps(getShowKey(info).join());\n    }\n  }, [ShowType, SourceForm]);\n\n  // 监听当前表单控件数据更新\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useEffect)(function () {\n    var _billData$current;\n    var _ref4 = (billPropsData === null || billPropsData === void 0 ? void 0 : billPropsData[focusForm.current]) || {},\n      data = _ref4.data;\n    var _ref5 = ((_billData$current = billData.current) === null || _billData$current === void 0 ? void 0 : _billData$current[focusForm.current]) || {},\n      oldData = _ref5.data;\n    if (data && !(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_20__.isEqual)(oldData, data) && focusForm.current) {\n      debounceFormData(data);\n    }\n    billData.current = _objectSpread({}, billPropsData);\n  }, [billPropsData]);\n\n  // 监听显示值变更\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useEffect)(function () {\n    var _billData$current2;\n    valueRef.current = value;\n    selectRef.current = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_7___default())(value ? value.split(',') : []);\n    // 内部表单不更新,不然会重复添加\n    var _ref6 = ((_billData$current2 = billData.current) === null || _billData$current2 === void 0 ? void 0 : _billData$current2[focusForm.current]) || {},\n      data = _ref6.data;\n    data && (inner2Outer || SourceForm !== '1') && debounceFormData(data);\n  }, [value]);\n\n  // 监听表单切换\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useEffect)(function () {\n    // 外部表单切换表单时，需要清空显示内容\n    if (focusForm.current !== BillEntityIdEx && SourceForm !== '1') {\n      focusForm.current = BillEntityIdEx;\n      valueRef.current = '';\n      selectRef.current = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_7___default())();\n      setPropsData([]);\n    }\n    if (BillEntityIdEx) {\n      var _billData$current3;\n      // 有关联表单时\n      var _ref7 = ((_billData$current3 = billData.current) === null || _billData$current3 === void 0 ? void 0 : _billData$current3[BillEntityIdEx]) || {},\n        data = _ref7.data;\n      // 有数据时格式化数据，无数据时请求接口\n      data ? debounceFormData(data) : invokeAction('getDesignerMetadata', [BillEntityIdEx]);\n      invokeAction('click', [id, 'entitymeta', propName, {\n        BillEntityIdEx: BillEntityIdEx,\n        itemKey: field.Key\n      }], []);\n    }\n    // 外部表单清空所选表单\n    if (!BillEntityIdEx && SourceForm !== '1') {\n      var _context9;\n      var ids = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_13___default()(_context9 = dataContext.getAllSubControlIds(pid.current)).call(_context9, 1);\n      ids.length && deleteDataGridControl(ids);\n      displayList.current = [];\n    }\n  }, [BillEntityIdEx]);\n\n  // 内部表单转外部表单时，重新刷新列表\n  // inner2Outer为true时，sourceform还是1\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useEffect)(function () {\n    if (inner2Outer) {\n      var _billData$current4;\n      var _ref8 = ((_billData$current4 = billData.current) === null || _billData$current4 === void 0 ? void 0 : _billData$current4[focusForm.current]) || {},\n        data = _ref8.data;\n      data && debounceFormData(data);\n    }\n  }, [inner2Outer]);\n\n  /**\n   * 刷新列表\n   */\n  var refreshList = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useCallback)(function (_ref9) {\n    var id = _ref9.id,\n      data = _ref9.data;\n    var fieldId = nodeInfo.current.fieldId;\n    if (id === fieldId && !(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_20__.isEqual)(data, displayList.current)) {\n      displayList.current = data;\n      setPropsData(data);\n    }\n  }, []);\n\n  /**\n   * 注册侦听列表变化\n   * 控件右键弹窗时数据的变化需要同时更新到right-view视图\n   * 初始化数据, 需要重新序列化表格子控件数据\n   */\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useEffect)(function () {\n    var _billData$current5;\n    var _ref10 = ((_billData$current5 = billData.current) === null || _billData$current5 === void 0 ? void 0 : _billData$current5[focusForm.current]) || {},\n      data = _ref10.data;\n    data && setFormAndEntityMetaData(data);\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.eventBus.on(REFRESH_PROPS_DISPLAY_LIST, refreshList);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.eventBus.off(REFRESH_PROPS_DISPLAY_LIST, refreshList);\n    };\n  }, []);\n\n  /**\n   * 初始化注册侦听\n   */\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useEffect)(function () {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_18__.SET_FORM_AND_ENTITY_META_DATA, updateBillData);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_18__.SET_FORM_AND_ENTITY_META_DATA, updateBillData);\n    };\n  }, [updateBillData]);\n  console.log('BillPropsrefFieldEditor', field.Name, billPropsData);\n  // 关联表单，显示方式为表格时，不显示此属性\n  // if (isRefBill(fieldType) && ShowType === '2') return null\n  var disabled = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useMemo)(function () {\n    return (0,_utils_control__WEBPACK_IMPORTED_MODULE_22__.isRefBill)(fieldType) && ShowType === '2';\n  }, [fieldType, ShowType]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(\"div\", {\n    className: prefixClass\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-title\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_16__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: Name,\n    tips: tips,\n    required: required,\n    title: title\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-list\")\n  }, propsData !== null && propsData !== void 0 && propsData.length ? /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__.DragContainer, null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-list-drag\")\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default()(propsData).call(propsData, function (item, index) {\n    var _billPropsData$focusF;\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(_BillFieldItem__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n      key: item.Id,\n      item: item,\n      index: index,\n      prefixClass: prefixClass,\n      fieldInfo: field,\n      disabled: disabled,\n      isNew: !BillEntityIdEx || !(billPropsData !== null && billPropsData !== void 0 && (_billPropsData$focusF = billPropsData[focusForm.current]) !== null && _billPropsData$focusF !== void 0 && (_billPropsData$focusF = _billPropsData$focusF.ids) !== null && _billPropsData$focusF !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default()(_billPropsData$focusF).call(_billPropsData$focusF, item.Id))\n      // sourceForm={SourceForm}\n      // canEdit={isAppForm}\n      ,\n      innerForm: isAppForm,\n      showMessage: showMessage,\n      isRefSelf: BillEntityIdEx === rootId,\n      isSysControl: (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_25__.isRefSysControl)(item._Type_)\n      // hideShowBtn={SourceForm === '1'}\n      ,\n      onDrop: handleDrop,\n      onTitleChange: handleTitleChange\n      // onChangeEditStatus={handleChangeEditStatus}\n      ,\n      onShowField: handleShowField,\n      onDelectField: handleDelectModal\n    });\n  }))) : /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-empty\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__.EmptyData, {\n    desc: \"\\u6682\\u65E0\\u5185\\u5BB9\"\n  }))));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().memo(BillPropsrefFieldEditor));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODg2NzIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUtBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFNQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2VkaXRvcnMvQmlsbFByb3BzRmllbGRFZGl0b3IvaW5kZXgudHN4PzY1MjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IEZDLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ29udGV4dCwgdXNlUmVmLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBDaGVja2JveCB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcbmltcG9ydCB7XG4gIE5hbWVUaXBXcmFwcGVyLCBQcm9wZXJ0eUVkaXRvclByb3BzLCBldmVudEJ1cywgY3JlYXRlQWRkQWN0aW9uLFxuICBjcmVhdGVEZWxldGVBY3Rpb24sIGNyZWF0ZVVwZGF0ZUFjdGlvbiwgR2xvYmFsQ29uZmlnQ29udGV4dFxufSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0J1xuaW1wb3J0IHsgU0VUX0ZPUk1fQU5EX0VOVElUWV9NRVRBX0RBVEEgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvYWN0aW9uTmFtZSdcbmltcG9ydCB7IERyYWdDb250YWluZXIsIEVtcHR5RGF0YSwgV2ViTXNnIH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcbi8vIGltcG9ydCBwcm9kdWNlIGZyb20gJ2ltbWVyJ1xuaW1wb3J0IHsgY2xvbmVEZWVwLCBpc0VxdWFsIH0gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IHVzZURlYm91bmNlIGZyb20gJy4uLy4uL3V0aWxzL3VzZURlYm91bmNlJ1xuaW1wb3J0IHsgaXNSZWZCaWxsLCBpc0RhdGVSYW5nZSwgaXNSZWZCaWxsVGFibGUgfSBmcm9tICcuLi8uLi91dGlscy9jb250cm9sJ1xuaW1wb3J0IEJpbGxGaWVsZEl0ZW0gZnJvbSAnLi9CaWxsRmllbGRJdGVtJ1xuaW1wb3J0IHsgREVMX0NPTlRST0wsIFVQREFURV9DT05UUk9MX1BST1BTLCBVUERBVEVfRk9STV9EQVRBIH0gZnJvbSAnLi4vLi4vcmVkdWNlci9yZWR1Y2VDb25zdGFudHMnXG5pbXBvcnQgeyBpc0FwcElubmVyRm9ybSwgdHJhbnNmb3JtRW50aXR5RGF0YSwgc29ydEVudGl0eVdpdGhTZWxlY3RlZCwgaXNSZWZTeXNDb250cm9sLCBjcmVhdGVUYWJsZUNvbnRyb2wsIGRlbGV0ZVJlZkNvbnRyb2wsIGZvcm1hdFRhYmxlQ29udHJvbCB9IGZyb20gJy4uLy4uL3V0aWxzL3JlZkJpbGxFZGl0b3JVdGlscydcblxuY29uc3QgUkVGUkVTSF9QUk9QU19ESVNQTEFZX0xJU1QgPSAncmVmcmVzaFByb3BzRGlzcGxheUxpc3QnXG5cbi8vIGNvbnN0IHByb3BzRGF0YSA9IFsnYXBwbGUnLCAnb3JhbmdlJywgJ2dyYXBlJ11cbi8vIGNvbnN0IGlzSW5pdCA9IGZhbHNlXG4vKipcbiAqIOagvOW8j+WMluaVsOaNrlxuICogQHBhcmFtIGRhdGFzIHthcnJheX0g6ZyA6KaB5qC85byP5YyW55qE5pWw5o2uXG4gKiBAcmV0dXJucyBBcnJheVxuICovXG4vLyBjb25zdCB0cmFuc2Zvcm1EYXRhID0gZGF0YXMgPT4ge1xuLy8gICByZXR1cm4gZGF0YXMubWFwKGl0ZW0gPT4geyByZXR1cm4geyBsYWJlbDogaXRlbS5Qcm9wQ2FwLCB2YWx1ZTogaXRlbS5Qcm9wS2V5IH0gfSlcbi8vIH1cblxuLyoqXG4gKiDlhbPogZTooajljZXpgInpobnkuK3mmL7npLrlhoXlrrktRWRpdG9yXG4gKiBAcGFyYW0gcHJvcHNcbiAqIEByZXR1cm5zXG4gKi9cbmNvbnN0IEJpbGxQcm9wc3JlZkZpZWxkRWRpdG9yOkZDPFByb3BlcnR5RWRpdG9yUHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaGFuZGxlQ2hhbmdlLCB2YWx1ZSwgY2xhc3NOYW1lLCBlZGl0b3IsIGxvY2tlZCwgTmFtZSwgVGlwczogdGlwcywgZmllbGQsIGlkLCBwcm9wTmFtZSwgcm9vdElkIH0gPSBwcm9wc1xuICBjb25zdCB7IE5hbWVIaWRkZW46IG5hbWVIaWRkZW4sIFJlcXVpcmVkOiByZXF1aXJlZCwgVGl0bGU6IHRpdGxlIH0gPSBlZGl0b3JcbiAgLy8gY29uc3QgW3NlbGVjdFZhbHVlLCBzZXRTZWxlY3RWYWx1ZV0gPSB1c2VTdGF0ZSh2YWx1ZSlcbiAgLy8gY29uc3QgeyBPcHRpb24gfSA9IFNlbGVjdFxuICBjb25zdCB7IGludm9rZUFjdGlvbiwgYmlsbFByb3BzRGF0YSwgZGlzcGF0Y2hCaWxsRGF0YSwgZ2V0S2Rlc2lnbmVyQXBpLCBnZXRIaWRlRmllbGRSZWYsIHNldEhpZGVGaWVsZFJlZiB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IHsgc2hvd01lc3NhZ2UgfSA9IHVzZUNvbnRleHQoR2xvYmFsQ29uZmlnQ29udGV4dClcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCwgc2VsZWN0aW9uOiBzZWxlY3Rpb25Db250ZXh0LCBtZXRhOiBtZXRhUmVhZGVyLCBjb250cm9sQ2FjaGVBcGkgfSA9IGdldEtkZXNpZ25lckFwaSgpXG4gIGNvbnN0IHsgQmlsbEVudGl0eUlkRXgsIFJlZlRhYmxlSWQsIFJlZkJpbGxJZCwgX1R5cGVfOiBmaWVsZFR5cGUsIFNvdXJjZUZvcm0sIGlubmVyMk91dGVyLCBTaG93VHlwZSB9ID0gZmllbGRcbiAgY29uc3QgcHJlZml4Q2xhc3MgPSBgJHtjbGFzc05hbWV9LWJpbGwtcHJvcHNgXG4gIGNvbnN0IFtwcm9wc0RhdGEsIHNldFByb3BzRGF0YV0gPSB1c2VTdGF0ZTxhbnlbXT4oW10pIC8vIOaOp+S7tuWIl+ihqFxuXG4gIGNvbnN0IHZhbHVlUmVmID0gdXNlUmVmKHZhbHVlKSAvLyDkuIvmi4nlj6/mmL7npLrlhoXlrrnvvIzlm6DlpJrkuKrlh73mlbDpnIDopoHlrp7ml7bmlbDmja7vvIzmlYXkvb/nlKhyZWbnvJPlrZhcbiAgY29uc3Qgbm9kZUluZm8gPSB1c2VSZWYoeyBmaWVsZElkOiBpZCwgdGFibGVJZDogUmVmVGFibGVJZCwgcmVmSWQ6IFJlZkJpbGxJZCwgY29kZTogcHJvcE5hbWUgfSkgLy8g6IqC54K55bi46KeE5L+h5oGvLOeUqOS6juWHveaVsOepv+mAj1xuICBjb25zdCBiaWxsRGF0YSA9IHVzZVJlZih7IC4uLmJpbGxQcm9wc0RhdGEgfSB8fCB7fSkgLy8g5omA5pyJ57yT5a2Y55qE6KGo5Y2V5pWw5o2uXG5cbiAgY29uc3QgY3VyUElkID0gKGlzUmVmQmlsbChmaWVsZFR5cGUpICYmIFJlZlRhYmxlSWQpID8gUmVmVGFibGVJZCA6IGlkIC8vIOW9k+WJjeeItuiKgueCuWlkXG4gIGNvbnN0IHBpZCA9IHVzZVJlZihjdXJQSWQpIC8vIOeItuiKgueCuWlkXG4gIGNvbnN0IGZvY3VzRm9ybSA9IHVzZVJlZighQmlsbEVudGl0eUlkRXggJiYgU291cmNlRm9ybSA9PT0gJzEnID8gYCR7Y3VyUElkfV90YWJsZWAgOiBCaWxsRW50aXR5SWRFeCkgLy8g5b2T5YmN6KGo5Y2V77yM55So5LqO5q+U5a+56KGo5Y2V5piv5ZCm5Y+Y5YyWXG4gIGNvbnN0IHNlbGVjdFJlZiA9IHVzZVJlZjxTZXQ8c3RyaW5nPj4obmV3IFNldCh2YWx1ZSA/IHZhbHVlLnNwbGl0KCcsJykgOiBbXSkpXG4gIGNvbnN0IGRpc3BsYXlMaXN0ID0gdXNlUmVmPGFueVtdPihbXSkgLy8g6YCJ6aG55Lit5pi+56S65YaF5a655YiX6KGoXG4gIC8vIGNvbnN0IGlzU29ydCA9IHVzZVJlZihmYWxzZSkgLy8g5piv5ZCm5o6S6L+H5bqPXG4gIC8vIGNvbnN0IGZvcm1JbmZvID0gdXNlUmVmPGFueT4oKSAvLyDlvZPliY3ooajljZXkv6Hmga9cbiAgLy8gY29uc3QgaXNFZGl0U3RhdHVzID0gdXNlUmVmKCcnKVxuXG4gIC8vIOaYr+WQpuaYr+WGhemDqOihqOWNlVxuICBjb25zdCBpc0FwcEZvcm0gPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gaXNBcHBJbm5lckZvcm0oZmllbGQsIChiaWxsUHJvcHNEYXRhLmlubmVyRm9ybSB8fCBbXSkpXG4gIH0sIFtmaWVsZCwgaW5uZXIyT3V0ZXIsIGJpbGxQcm9wc0RhdGE/LmlubmVyRm9ybV0pXG5cbiAgLyoqXG4gICAqIOabtOaWsOaYvuekuuWGheWuueWxnuaAp1xuICAgKiDlpoLmnpzlvIDlkK/kuobooajmoLzmqKHlvI/vvIzpnIDopoHlkIzml7bmm7TmlrDlhbPogZTooajljZXlj4rooajmoLznmoTmmL7npLrlhoXlrrlcbiAgICovXG4gIGNvbnN0IHVwZGF0ZURpc3BsYXlQcm9wcyA9IHVzZUNhbGxiYWNrKChzdHI6c3RyaW5nfHVuZGVmaW5lZCkgPT4ge1xuICAgIGlmICh2YWx1ZVJlZi5jdXJyZW50ID09PSBzdHIpIHJldHVyblxuICAgIGNvbnN0IHsgZmllbGRJZCwgY29kZSB9ID0gbm9kZUluZm8uY3VycmVudFxuICAgIGNvbnN0IGRhdGEgPSB7IFtjb2RlXTogc3RyIH1cbiAgICBjb25zdCBhY3Rpb25zID0gW1tmaWVsZElkLCBkYXRhXV1cbiAgICBkYXRhQ29udGV4dC5iYXRjaFVwZGF0ZUNvbnRyb2xQcm9wZXJ0eVZhbHVlcyhjcmVhdGVVcGRhdGVBY3Rpb24oYWN0aW9ucykpXG4gIH0sIFtdKVxuXG4gIC8qKlxuICAgKiDmm7TmlrDmjqfku7bmoIfpophcbiAgICovXG4gIGNvbnN0IHVwZGF0ZU5hbWVQcm9wcyA9IHVzZUNhbGxiYWNrKChzdHI6c3RyaW5nLCBkYXRhOmFueSkgPT4ge1xuICAgIGNvbnN0IGFjdGlvbnM6YW55W10gPSBbXVxuICAgIGNvbnN0IHsgS2V5OiBmaWVsZEtleSwgaXNTaG93IH0gPSBkYXRhIHx8IHt9XG4gICAgLy8gY29uc3QgeyByZWZJZCwgdGFibGVJZCB9ID0gbm9kZUluZm8uY3VycmVudCB8fCB7fVxuICAgIGRhdGFDb250ZXh0LmZpbmRDb250cm9sQnlDb25kaXRpb24oKGl0ZW06YW55KSA9PiB7XG4gICAgICBpZiAoaXRlbS5JZC5zcGxpdCgnXycpLmxlbmd0aCA+IDEgJiYgaXRlbS5JZC5pbmNsdWRlcyhkYXRhLklkKSkge1xuICAgICAgICBhY3Rpb25zLnB1c2goW2l0ZW0uSWQsIHsgTmFtZTogc3RyIH1dKVxuICAgICAgfVxuICAgIH0pXG4gICAgLy8g6Zmk5YaF6YOo6KGo5qC85aSW77yM6ZyA6KaB5pu05paw5aSW6YOo6KGo5Y2V55qETmFtZeaXtu+8jOmcgOimgeWwhuS/oeaBr+abtOaWsOWIsOagueiKgueCuVxuICAgIC8vIOWPquaciemakOiXj+eahOaYvuekuuWGheWuueagh+mimOS/ruaUueaXtuaJjea3u+WKoFxuICAgIGlmIChTb3VyY2VGb3JtICE9PSAnMScgJiYgKCFpc1Nob3cgfHwgU2hvd1R5cGUgPT09ICcxJykpIHtcbiAgICAgIGNvbnN0IHsgcmVmRmllbGRFZGl0ID0ge30gfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKHJvb3RJZCkgfHwge31cbiAgICAgIGNvbnN0IGZpZWxkSW5mbyA9IHR5cGVvZiByZWZGaWVsZEVkaXQgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShyZWZGaWVsZEVkaXQgfHwgJ3t9JykgOiBjbG9uZURlZXAocmVmRmllbGRFZGl0KVxuICAgICAgZmllbGRJbmZvW2ZvY3VzRm9ybS5jdXJyZW50XSA9IGZpZWxkSW5mb1tmb2N1c0Zvcm0uY3VycmVudF0gfHwge31cbiAgICAgIGZpZWxkSW5mb1tmb2N1c0Zvcm0uY3VycmVudF1bZmllbGRLZXldID0geyB0aXRsZTogc3RyLCBzdGF0dXM6ICdlZGl0JyB9XG4gICAgICBhY3Rpb25zLnB1c2goW3Jvb3RJZCwgeyByZWZGaWVsZEVkaXQ6IGZpZWxkSW5mbyB9XSlcbiAgICB9XG4gICAgZGF0YUNvbnRleHQuYmF0Y2hVcGRhdGVDb250cm9sUHJvcGVydHlWYWx1ZXMoY3JlYXRlVXBkYXRlQWN0aW9uKGFjdGlvbnMpKVxuICB9LCBbU291cmNlRm9ybSwgcm9vdElkLCBTaG93VHlwZV0pXG5cbiAgLyoqXG4gICAqIOaLluaLvVxuICAgKi9cbiAgY29uc3QgaGFuZGxlRHJvcCA9IHVzZUNhbGxiYWNrKChlLCBkYXRhKSA9PiB7XG4gICAgY29uc3QgeyBzb3VyY2VJbmRleCwgZGVzdGluYXRpb25JbmRleCB9ID0gZGF0YVxuICAgIGNvbnN0IGxpc3Q6YW55ID0gY2xvbmVEZWVwKHByb3BzRGF0YSlcbiAgICBjb25zdCBtb3ZlTm9kZTphbnkgPSBsaXN0LnNwbGljZShzb3VyY2VJbmRleCwgMSlbMF1cbiAgICBsaXN0LnNwbGljZShkZXN0aW5hdGlvbkluZGV4LCAwLCBtb3ZlTm9kZSlcbiAgICBzZXRQcm9wc0RhdGEoWy4uLmxpc3RdKVxuICAgIC8vIGlzU29ydC5jdXJyZW50ID0gZmFsc2VcbiAgICB1cGRhdGVCaWxsQ29udHJvbChsaXN0KVxuICAgIGRpc3BsYXlMaXN0LmN1cnJlbnQgPSBsaXN0XG4gICAgZXZlbnRCdXMuZW1pdChSRUZSRVNIX1BST1BTX0RJU1BMQVlfTElTVCwgeyBpZDogbm9kZUluZm8uY3VycmVudC5maWVsZElkLCBkYXRhOiBbLi4ubGlzdF0gfSlcbiAgfSwgW3Byb3BzRGF0YSwgc2V0UHJvcHNEYXRhXSlcblxuICAvLyDkv67mlLnlrZfmrrXlkI3np7BcbiAgY29uc3QgaGFuZGxlVGl0bGVDaGFuZ2UgPSB1c2VDYWxsYmFjaygodjpzdHJpbmcsIGluZGV4Om51bWJlciwgZGF0YTphbnkpID0+IHtcbiAgICBjb25zb2xlLmxvZygnaGFuZGxlVGV4dENoYW5nZScsIHYpXG4gICAgZGlzcGF0Y2hCaWxsRGF0YSh7XG4gICAgICBrZXk6IFVQREFURV9DT05UUk9MX1BST1BTLFxuICAgICAgLy8gcGF5bG9hZDogeyBmb3JtOiBmb2N1c0Zvcm0uY3VycmVudCwgaWQ6IGRhdGEuSWQsIHByb3BzOiAnTmFtZScsIHYgfVxuICAgICAgcGF5bG9hZDogeyBmb3JtOiBmb2N1c0Zvcm0uY3VycmVudCwgaWQ6IGRhdGEuSWQsIGRhdGE6IHsgTmFtZTogdiB9IH1cbiAgICB9KVxuICAgIHVwZGF0ZU5hbWVQcm9wcyh2LCBkYXRhKVxuICB9LCBbZGlzcGF0Y2hCaWxsRGF0YSwgcHJvcHNEYXRhXSlcblxuICAvLyDojrflj5bmiYDmnInlj6/mmL7npLrnmoRLRVnlgLxcbiAgY29uc3QgZ2V0U2hvd0tleSA9IHVzZUNhbGxiYWNrKChkYXRhOmFueVtdKSA9PiB7XG4gICAgcmV0dXJuIGRhdGEucmVkdWNlKChhcnI6c3RyaW5nW10sIGl0ZW06YW55KSA9PiB7XG4gICAgICBpZiAoaXRlbS5pc1Nob3cpIHtcbiAgICAgICAgaWYgKGlzRGF0ZVJhbmdlKGl0ZW0uX1R5cGVfKSkge1xuICAgICAgICAgIHJldHVybiBbLi4uYXJyLCBgJHtpdGVtLktleX1fc3RhcnRkYXRlYCwgYCR7aXRlbS5LZXl9X2VuZGRhdGVgXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbLi4uYXJyLCBpdGVtLktleV1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFyclxuICAgIH0sIFtdKVxuICB9LCBbXSlcblxuICAvLyDkv67mlLnlrZfmrrXmmL7npLrnirbmgIHvvIzmjqfliLbmmK/lkKbmmL7npLrlrZfmrrXnmoTlgLxcbiAgY29uc3QgaGFuZGxlU2hvd0ZpZWxkID0gdXNlQ2FsbGJhY2soKGluZGV4Om51bWJlciwgaW5mbzphbnkpID0+IHtcbiAgICBjb25zb2xlLmxvZygnaGFuZGxlU2hvd0ZpZWxkJywgaW5kZXgsIGluZm8pXG4gICAgbGV0IGRhdGEgPSBjbG9uZURlZXAocHJvcHNEYXRhKVxuICAgIGRhdGFbaW5kZXhdLmlzU2hvdyA9ICFkYXRhW2luZGV4XS5pc1Nob3dcbiAgICAvLyDmmL7npLrlhoXlrrnlsZ7mgKfnlLFwcmVhZGRoYW5kbGXlpITnkIZcbiAgICAvLyDmmL7npLrml7bpnIDopoHmt7vliqDooajmoLzmjqfku7bvvIzpmpDol4/ml7bpnIDopoHliKDpmaRcbiAgICBpZiAoU2hvd1R5cGUgPT09ICcyJykge1xuICAgICAgaWYgKGRhdGFbaW5kZXhdLmlzU2hvdykgeyAvLyDmt7vliqDmjqfku7ZcbiAgICAgICAgZGF0YUNvbnRleHQuYWRkQ29udHJvbChjcmVhdGVBZGRBY3Rpb24oY3JlYXRlVGFibGVDb250cm9sKGRhdGFbaW5kZXhdLCBpZCkpKVxuICAgICAgfSBlbHNlIHsgLy8g5Yig6Zmk5o6n5Lu2XG4gICAgICAgIGNvbnN0IGhpZGVGaWVsZCA9IGdldEhpZGVGaWVsZFJlZigpXG4gICAgICAgIC8vIGlk6ZyA6KaB5re75Yqg5LiKdGFibGUgaWRcbiAgICAgICAgZGVsZXRlUmVmQ29udHJvbChbYCR7aW5mby5JZH1fJHtpZH1gXSwgYmlsbFByb3BzRGF0YSwgZGlzcGF0Y2hCaWxsRGF0YSwgZGF0YUNvbnRleHQsIGhpZGVGaWVsZCwgc2V0SGlkZUZpZWxkUmVmKVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzaG93S2V5ID0gZ2V0U2hvd0tleShkYXRhKVxuICAgIGlmIChTaG93VHlwZSA9PT0gJzEnKSB7IC8vIOmcgOimgeabtOaWsOWxnuaApy3mmL7npLrlhoXlrrlcbiAgICAgIHVwZGF0ZURpc3BsYXlQcm9wcyhzaG93S2V5LmpvaW4oKSlcbiAgICB9XG4gICAgY29uc3Qgc2VsZWN0OlNldDxzdHJpbmc+ID0gbmV3IFNldChzaG93S2V5KVxuICAgIC8vIOWwhuWIl+ihqOi/m+ihjOaOkuW6j1xuICAgIGRhdGEgPSBzb3J0RW50aXR5V2l0aFNlbGVjdGVkKGRhdGEsIHNlbGVjdClcbiAgICBkaXNwbGF5TGlzdC5jdXJyZW50ID0gZGF0YVxuICAgIHNldFByb3BzRGF0YShkYXRhKVxuICB9LCBbcHJvcHNEYXRhLCBpZCwgYmlsbFByb3BzRGF0YSwgU2hvd1R5cGVdKVxuXG4gIC8qKlxuICAgKiDliKDpmaTooajljZXmjqfku7ZcbiAgICog5ZCM5pe25Zyo5qC56IqC54K56Ieq5a6a5LmJ5bGe5oCncmVmRmllbGRFZGl05qCH5rOo5Yig6ZmkXG4gICAqL1xuICBjb25zdCBoYW5kbGVEZWxlY3RGaWVsZCA9IHVzZUNhbGxiYWNrKChpbmRleDpudW1iZXIsIGluZm86YW55LCBpc05ldzpib29sZWFuID0gZmFsc2UpID0+IHtcbiAgICAvLyBjb25zdCB7IGZpZWxkSWQgfSA9IG5vZGVJbmZvLmN1cnJlbnRcbiAgICBpZiAoQmlsbEVudGl0eUlkRXggJiYgIWlzTmV3KSB7XG4gICAgICBjb25zdCB7IHJlZkZpZWxkRWRpdCA9IHt9IH0gPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChyb290SWQpIHx8IHt9XG4gICAgICBjb25zdCBmaWVsZEluZm8gPSB0eXBlb2YgcmVmRmllbGRFZGl0ID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UocmVmRmllbGRFZGl0IHx8ICd7fScpIDogY2xvbmVEZWVwKHJlZkZpZWxkRWRpdClcbiAgICAgIGZpZWxkSW5mb1tmb2N1c0Zvcm0uY3VycmVudF0gPSBmaWVsZEluZm9bZm9jdXNGb3JtLmN1cnJlbnRdIHx8IHt9XG4gICAgICBmaWVsZEluZm9bZm9jdXNGb3JtLmN1cnJlbnRdW2luZm8uS2V5XSA9IHsgc3RhdHVzOiAnZGVsZXRlJyB9XG4gICAgICBkYXRhQ29udGV4dC5iYXRjaFVwZGF0ZUNvbnRyb2xQcm9wZXJ0eVZhbHVlcyhjcmVhdGVVcGRhdGVBY3Rpb24oW1tyb290SWQsIHsgcmVmRmllbGRFZGl0OiBmaWVsZEluZm8gfV1dKSlcbiAgICB9XG4gICAgaWYgKFNob3dUeXBlID09PSAnMicgJiYgaW5mbz8uaXNTaG93KSB7IC8vIOWIoOmZpOihqOagvOaOp+S7tuS4lOWcqOaYvuekuuWGhemDqOmHjOaXtlxuICAgICAgLy8g5Yig6Zmk5omA5pyJ5b2T5YmN55WM6Z2i5YyF5ZCrSWTnmoTmjqfku7ZcbiAgICAgIGNvbnN0IGRlbGV0ZUlkczpzdHJpbmdbXSA9IFtdXG4gICAgICBkYXRhQ29udGV4dC5maW5kQ29udHJvbEJ5Q29uZGl0aW9uKChjdHJsOmFueSkgPT4ge1xuICAgICAgICBpZiAoY3RybC5JZC5pbmNsdWRlcyhpbmZvLklkKSkgZGVsZXRlSWRzLnB1c2goY3RybC5JZClcbiAgICAgIH0pXG4gICAgICBjb25zdCBoaWRlRmllbGQgPSBnZXRIaWRlRmllbGRSZWYoKVxuICAgICAgZGVsZXRlUmVmQ29udHJvbChkZWxldGVJZHMsIGJpbGxEYXRhLmN1cnJlbnQsIGRpc3BhdGNoQmlsbERhdGEsIGRhdGFDb250ZXh0LCBoaWRlRmllbGQsIHNldEhpZGVGaWVsZFJlZilcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g6ZyA6KaB5pu05paw5pi+56S65YaF5a655Y+Kc3RvcmVcbiAgICAgIGNvbnN0IG5ld0Rpc3BsYXkgPSBbLi4uc2VsZWN0UmVmLmN1cnJlbnRdLmZpbHRlcigoaXRlbSkgPT4gIWl0ZW0uaW5jbHVkZXMoaW5mby5LZXkpKVxuICAgICAgdXBkYXRlRGlzcGxheVByb3BzKG5ld0Rpc3BsYXkuam9pbigpKVxuICAgIH1cbiAgICBkaXNwYXRjaEJpbGxEYXRhKHsga2V5OiBERUxfQ09OVFJPTCwgcGF5bG9hZDogeyBmb3JtOiBmb2N1c0Zvcm0uY3VycmVudCwgaWQ6IGluZm8uSWQgfSB9KVxuICAgIC8vIGRlbGV0ZURhdGFHcmlkQ29udHJvbChkZWxldGVJZHMpXG4gICAgLy8g5Yig6Zmk6KGo5qC85YaF5o6n5Lu277yM6KGo5qC85YaF5o6n5Lu2SUTkuLrlvZPliY1JRCvniLboioLngrlJRFxuICAgIC8vIGNvbnN0IHsgcmVmSWQsIHRhYmxlSWQgfSA9IG5vZGVJbmZvLmN1cnJlbnRcbiAgICAvLyBpZiAodGFibGVJZCB8fCByZWZJZCkge1xuICAgIC8vICAgZGVsZXRlRGF0YUdyaWRDb250cm9sKGAke2luZm8uSWR9XyR7cGlkLmN1cnJlbnR9YClcbiAgICAvLyB9XG4gICAgLy8gZGlzcGF0Y2hCaWxsRGF0YSh7IGtleTogREVMX0NPTlRST0wsIHBheWxvYWQ6IHsgZm9ybTogZm9jdXNGb3JtLmN1cnJlbnQsIGlkOiBpbmZvLklkIH0gfSlcbiAgfSwgW1Nob3dUeXBlLCBCaWxsRW50aXR5SWRFeCwgcm9vdElkXSlcblxuICAvKipcbiAgICog5Yig6Zmk6KGo5Y2V5o6n5Lu2XG4gICAqL1xuICBjb25zdCBoYW5kbGVEZWxlY3RNb2RhbCA9IHVzZUNhbGxiYWNrKChpbmRleDpudW1iZXIsIGluZm86YW55LCBpc05ldzphbnkpID0+IHtcbiAgICBjb25zdCByZW1pbmQgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbm9jb2RlLWQtZGVsLW1vZGFsJylcbiAgICAvLyDlhoXpg6jooajmoLzvvIzmlrDmt7vliqDmjqfku7bvvIznlKjmiLfpgInmi6nkuI3mj5DnpLrml7bvvIzkuI3lvLnnqpdcbiAgICBpZiAoIUJpbGxFbnRpdHlJZEV4IHx8IHJlbWluZCB8fCBpc05ldyB8fCBTb3VyY2VGb3JtID09PSAnMScpIHJldHVybiBoYW5kbGVEZWxlY3RGaWVsZChpbmRleCwgaW5mbylcbiAgICBjb25zdCBzdHlsZSA9IHsgbWFyZ2luVG9wOiAzMiB9XG4gICAgV2ViTXNnLnNob3dDb25maXJtTW9kYWwoe1xuICAgICAgdGl0bGU6IGDnoa7orqTliKDpmaTigJwke2luZm8uTmFtZX3igJ3lkJfvvJ9gLFxuICAgICAgY29udGVudDogYOS8muWcqOihqOWNleKAnCR7YmlsbERhdGEuY3VycmVudFtCaWxsRW50aXR5SWRFeF0/LmRhdGE/LmNhcHRpb24gfHwgJyd94oCd5Lit5ZCM5q2l5Yig6ZmkYCxcbiAgICAgIGFjdGlvbnM6IFt7IGtleTogJ2RlbGV0ZScsIHRleHQ6ICfliKDpmaQnIH0sIHsga2V5OiAnb2snLCB0ZXh0OiAn5YaN5oOz5oOzJyB9XSxcbiAgICAgIG9uQWN0aW9uOiAoa2V5OiBzdHJpbmcpID0+IHsga2V5ID09PSAnZGVsZXRlJyAmJiBoYW5kbGVEZWxlY3RGaWVsZChpbmRleCwgaW5mbywgaXNOZXcpIH0sXG4gICAgICB0eXBlOiAnZGVsZXRlJyxcbiAgICAgIGV4dHJhOiA8Q2hlY2tib3ggc3R5bGU9e3N0eWxlfSBvbkNoYW5nZT17KGUpID0+IGUudGFyZ2V0LmNoZWNrZWQgJiYgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ25vY29kZS1kLWRlbC1tb2RhbCcsICd0cnVlJyl9PuS4i+asoeS4jeWGjeaPkOmGkjwvQ2hlY2tib3g+XG4gICAgfSlcbiAgfSwgW0JpbGxFbnRpdHlJZEV4LCBTb3VyY2VGb3JtLCBoYW5kbGVEZWxlY3RGaWVsZF0pXG5cbiAgLyoqXG4gICAqIOW+gOihqOagvOa3u+WKoOaOp+S7tlxuICAgKiDlj6rmt7vliqBpc1Nob3fnmoTmjqfku7Ys5YWI5Yig6Zmk6KGo5qC85YaF5o6n5Lu277yM5YaN5re75YqgLOa3u+WKoOS5i+WQjuWQjOaXtuabtOaWsOW3sumAieWAvFxuICAgKi9cbiAgY29uc3QgYWRkRGF0YUdyaWRDb250cm9sID0gdXNlQ2FsbGJhY2soKGluZm86YW55W10sIG9sZERhdGEsIGNiOiAocmVzOnN0cmluZyk9PnZvaWQpID0+IHtcbiAgICBpZiAoIWluZm8ubGVuZ3RoKSByZXR1cm5cbiAgICBjb25zdCB7IGZpZWxkSWQgfSA9IG5vZGVJbmZvLmN1cnJlbnRcbiAgICBjb25zdCBpbmRleCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sSW5kZXgoZmllbGRJZClcbiAgICBjb25zdCBbYWN0aW9ucywgc2VsZWN0ZWRdID0gZm9ybWF0VGFibGVDb250cm9sKGluZm8sIG9sZERhdGEsIHBpZC5jdXJyZW50LCBtZXRhUmVhZGVyKVxuICAgIC8vIGNvbnN0IFthY3Rpb25zLCBzZWxlY3RlZF0gPSBnZXREYXRhR3JpZENvbnRyb2woaW5mbylcbiAgICBjb25zb2xlLmxvZygnYWRkRGF0YUdyaWRDb250cm9sJywgY3JlYXRlQWRkQWN0aW9uKGFjdGlvbnMpKVxuICAgIGRhdGFDb250ZXh0LmFkZENvbnRyb2woY3JlYXRlQWRkQWN0aW9uKGFjdGlvbnMsIHsgaW5kZXg6IGluZGV4ICsgMSB9KSkudGhlbigoKSA9PiB7XG4gICAgICAvLyDmt7vliqDmjqfku7blkI7lv4XpobvmiYvliqjorr7nva7nhKbngrlcbiAgICAgIHNlbGVjdGlvbkNvbnRleHQuc2V0U2VsZWN0KFtmaWVsZElkXSlcbiAgICAgIGNiPy4oc2VsZWN0ZWQuam9pbigpKVxuICAgIH0pLmNhdGNoKChlcnI6YW55KSA9PiB7IGNvbnNvbGUubG9nKGVycikgfSlcbiAgfSwgW10pXG5cbiAgLyoqXG4gICAqIOagueaNruWIl+ihqOWIoOmZpOaOp+S7tlxuICAgKi9cbiAgY29uc3QgZGVsZXRlRGF0YUdyaWRDb250cm9sID0gdXNlQ2FsbGJhY2soKGlkczpzdHJpbmdbXXxzdHJpbmcsIGNiPzogKHJlczphbnkpPT52b2lkKSA9PiB7XG4gICAgZGF0YUNvbnRleHQuZGVsZXRlQ29udHJvbChjcmVhdGVEZWxldGVBY3Rpb24oaWRzKSkudGhlbigocmVzdWx0OmFueSkgPT4ge1xuICAgICAgY2I/LihyZXN1bHQpXG4gICAgfSkuY2F0Y2goKGVycjphbnkpID0+IHsgY29uc29sZS5sb2coZXJyKSB9KVxuICB9LCBbXSlcblxuICAvKipcbiAgICog5pu05paw5YiX6KGo5pWw5o2uXG4gICAqIOWmguaenOWIh+aNouWFtuWug+ihqOWNle+8jOWImeabtOaWsOaYvuekuuWGheWuueWxnuaAp1xuICAgKiDlpoLmnpzpnIDopoHlr7nliJfooajov5vooYzmjpLluo/vvIzliJnlsIZpc1NvcnQuY3VycmVudOWAvOaUueS4umZhbHNlXG4gICAqL1xuICBjb25zdCBzZXRGb3JtQW5kRW50aXR5TWV0YURhdGEgPSB1c2VDYWxsYmFjaygoZGF0YTphbnksIGNiPzogKGxpc3Q6YW55KSA9PiB2b2lkKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3NldEZvcm1BbmRFbnRpdHlNZXRhRGF0YScsIGRhdGEpXG4gICAgbGV0IGVudGl0eW1ldGEgPSB0cmFuc2Zvcm1FbnRpdHlEYXRhKGRhdGEsIGZpZWxkKVxuICAgIGlmIChzZWxlY3RSZWYuY3VycmVudC5zaXplKSB7IC8vIOWIneasoeWKoOi9veOAgeihqOWNleWIh+aNoui/m+ihjOaOkuW6j1xuICAgICAgZW50aXR5bWV0YSA9IHNvcnRFbnRpdHlXaXRoU2VsZWN0ZWQoZW50aXR5bWV0YSwgc2VsZWN0UmVmLmN1cnJlbnQpXG4gICAgICAvLyBpc1NvcnQuY3VycmVudCA9IHRydWVcbiAgICB9XG4gICAgLy8g5pu05paw5YiX6KGo5pWw5o2uLCDpnIDopoHlsIblj6/op4bmjqfku7bmjpLliY1cbiAgICBzZXRQcm9wc0RhdGEoZW50aXR5bWV0YSlcbiAgICBkaXNwbGF5TGlzdC5jdXJyZW50ID0gZW50aXR5bWV0YVxuICAgIGNiPy4oZW50aXR5bWV0YSlcbiAgfSwgW2ZpZWxkXSlcblxuICBjb25zdCBkZWJvdW5jZUZvcm1EYXRhID0gdXNlRGVib3VuY2Uoc2V0Rm9ybUFuZEVudGl0eU1ldGFEYXRhLCAxMDApXG5cbiAgLyoqXG4gICAqIOivt+axguihqOWNleaOp+S7tuaVsOaNrueahOWbnuiwg1xuICAgKi9cbiAgY29uc3QgdXBkYXRlQmlsbERhdGEgPSB1c2VDYWxsYmFjaygoaW5mbzphbnkpID0+IHtcbiAgICBpZiAoIWluZm8/LmRhdGEpIHJldHVyblxuICAgIGNvbnN0IGRhdGEgPSBpbmZvPy5kYXRhIHx8IHt9XG4gICAgLy8gaWYgKFNvdXJjZUZvcm0gPT09ICcxJyAmJiBzZWxlY3RSZWYuY3VycmVudC5zaXplKSB7XG4gICAgLy8gICBkYXRhLmVudGl0eW1ldGEuSXRlbXMgPSBkYXRhPy5lbnRpdHltZXRhPy5JdGVtcy5maWx0ZXIoKGl0ZW06YW55KSA9PiBzZWxlY3RSZWYuY3VycmVudC5oYXMoaXRlbS5LZXkpKVxuICAgIC8vICAgZGF0YS5mb3JtbWV0YS5JdGVtcyA9IGRhdGE/LmZvcm1tZXRhPy5JdGVtcy5maWx0ZXIoKGl0ZW06YW55KSA9PiBzZWxlY3RSZWYuY3VycmVudC5oYXMoaXRlbS5LZXkpKVxuICAgIC8vIH1cbiAgICBjb25zdCBpZHMgPSBkYXRhLmVudGl0eW1ldGEuSXRlbXMubWFwKChpdGVtOmFueSkgPT4gaXRlbS5JZClcbiAgICAvLyDmm7TmlrDkuIrkuIvmloflhajlsYDnvJPlrZhcbiAgICBkaXNwYXRjaEJpbGxEYXRhKHsga2V5OiBVUERBVEVfRk9STV9EQVRBLCBwYXlsb2FkOiB7IGZvcm06IGluZm8uYmlsbEVudGl0eUlkRXggfHwgZGF0YS5pZCwgaW5mbzogeyBkYXRhLCBpZHMgfSB9IH0pXG4gIH0sIFtdKVxuXG4gIC8qKlxuICAgKiDmm7TmlrDooajmoLzmjqfku7ZcbiAgICog5aaC5p6c5piv6KGo5qC877yI5YaF6YOoL+W3suacie+8iSzliJnpnIDopoHmm7TmlrDooajmoLzlhoXmjqfku7blj4pkaXNwbGF5cHJvcHPlsZ7mgKdcbiAgICog5aaC5p6c5piv57qv5YWz6IGU6KGo5Y2V77yM5YiZ55u05o6l5pu05pawZGlzcGxheXByb3Bz5bGe5oCnXG4gICAqL1xuICBjb25zdCB1cGRhdGVCaWxsQ29udHJvbCA9IHVzZUNhbGxiYWNrKChpbmZvOmFueSkgPT4ge1xuICAgIGNvbnN0IHsgZmllbGRJZCB9ID0gbm9kZUluZm8uY3VycmVudFxuICAgIGNvbnN0IHsgX1R5cGVfOiBwYXJlbnRUeXBlIH0gPSBkYXRhQ29udGV4dC5nZXRQYXJlbnRDb250cm9sKGZpZWxkSWQpXG4gICAgLy8g6KGo5qC85YaF55qE5YWz6IGU6KGo5Y2V6KGo5qC85qih5byP77yM55Sf5oiQ6KGo5qC85a2Q5o6n5Lu2XG4gICAgaWYgKGlzUmVmQmlsbFRhYmxlKHBhcmVudFR5cGUpKSByZXR1cm5cbiAgICBpZiAoU2hvd1R5cGUgPT09ICcyJykge1xuICAgICAgLy8g5pen55qE6KGo5qC85a2Q5o6n5Lu2XG4gICAgICBjb25zdCBvQ3RybHMgPSBkYXRhQ29udGV4dC5nZXRBbGxTdWJDb250cm9scyhmaWVsZElkKVxuICAgICAgY29uc3QgZGVsSWRzID0gb0N0cmxzLnJlZHVjZSgocmVzdWx0OnN0cmluZ1tdLCBpdGVtOmFueSkgPT4gaXRlbS5JZCA9PT0gZmllbGRJZCA/IHJlc3VsdCA6IFsuLi5yZXN1bHQsIGl0ZW0uSWRdLCBbXSlcbiAgICAgIGRlbGV0ZURhdGFHcmlkQ29udHJvbChkZWxJZHMsICgpID0+IHtcbiAgICAgICAgLy8g5re75Yqg5oiQ5Yqf5LmL5ZCOLOabtOaWsOmAiemhueS4reaYvuekuuWGheWuueWxnuaAp1xuICAgICAgICBhZGREYXRhR3JpZENvbnRyb2woaW5mbywgb0N0cmxzLCAoc2VsZWN0ZWQ6c3RyaW5nKSA9PiB1cGRhdGVEaXNwbGF5UHJvcHMoc2VsZWN0ZWQpKVxuICAgICAgfSlcbiAgICB9IGVsc2UgeyAvLyDlhbPogZTooajljZXml7bvvIzkuI3pnIDopoHliLfmlrDooajmoLxcbiAgICAgIHVwZGF0ZURpc3BsYXlQcm9wcyhnZXRTaG93S2V5KGluZm8pLmpvaW4oKSlcbiAgICB9XG4gIH0sIFtTaG93VHlwZSwgU291cmNlRm9ybV0pXG5cbiAgLy8g55uR5ZCs5b2T5YmN6KGo5Y2V5o6n5Lu25pWw5o2u5pu05pawXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhIH0gPSBiaWxsUHJvcHNEYXRhPy5bZm9jdXNGb3JtLmN1cnJlbnRdIHx8IHt9XG4gICAgY29uc3QgeyBkYXRhOiBvbGREYXRhIH0gPSBiaWxsRGF0YS5jdXJyZW50Py5bZm9jdXNGb3JtLmN1cnJlbnRdIHx8IHt9XG4gICAgaWYgKGRhdGEgJiYgIWlzRXF1YWwob2xkRGF0YSwgZGF0YSkgJiYgZm9jdXNGb3JtLmN1cnJlbnQpIHtcbiAgICAgIGRlYm91bmNlRm9ybURhdGEoZGF0YSlcbiAgICB9XG4gICAgYmlsbERhdGEuY3VycmVudCA9IHsgLi4uYmlsbFByb3BzRGF0YSB9XG4gIH0sIFtiaWxsUHJvcHNEYXRhXSlcblxuICAvLyDnm5HlkKzmmL7npLrlgLzlj5jmm7RcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB2YWx1ZVJlZi5jdXJyZW50ID0gdmFsdWVcbiAgICBzZWxlY3RSZWYuY3VycmVudCA9IG5ldyBTZXQodmFsdWUgPyB2YWx1ZS5zcGxpdCgnLCcpIDogW10pXG4gICAgLy8g5YaF6YOo6KGo5Y2V5LiN5pu05pawLOS4jeeEtuS8mumHjeWkjea3u+WKoFxuICAgIGNvbnN0IHsgZGF0YSB9ID0gYmlsbERhdGEuY3VycmVudD8uW2ZvY3VzRm9ybS5jdXJyZW50XSB8fCB7fVxuICAgIGRhdGEgJiYgKGlubmVyMk91dGVyIHx8IFNvdXJjZUZvcm0gIT09ICcxJykgJiYgZGVib3VuY2VGb3JtRGF0YShkYXRhKVxuICB9LCBbdmFsdWVdKVxuXG4gIC8vIOebkeWQrOihqOWNleWIh+aNolxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIOWklumDqOihqOWNleWIh+aNouihqOWNleaXtu+8jOmcgOimgea4heepuuaYvuekuuWGheWuuVxuICAgIGlmIChmb2N1c0Zvcm0uY3VycmVudCAhPT0gQmlsbEVudGl0eUlkRXggJiYgU291cmNlRm9ybSAhPT0gJzEnKSB7XG4gICAgICBmb2N1c0Zvcm0uY3VycmVudCA9IEJpbGxFbnRpdHlJZEV4XG4gICAgICB2YWx1ZVJlZi5jdXJyZW50ID0gJydcbiAgICAgIHNlbGVjdFJlZi5jdXJyZW50ID0gbmV3IFNldCgpXG4gICAgICBzZXRQcm9wc0RhdGEoW10pXG4gICAgfVxuICAgIGlmIChCaWxsRW50aXR5SWRFeCkgeyAvLyDmnInlhbPogZTooajljZXml7ZcbiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYmlsbERhdGEuY3VycmVudD8uW0JpbGxFbnRpdHlJZEV4XSB8fCB7fVxuICAgICAgLy8g5pyJ5pWw5o2u5pe25qC85byP5YyW5pWw5o2u77yM5peg5pWw5o2u5pe26K+35rGC5o6l5Y+jXG4gICAgICBkYXRhXG4gICAgICAgID8gZGVib3VuY2VGb3JtRGF0YShkYXRhKVxuICAgICAgICA6IGludm9rZUFjdGlvbignZ2V0RGVzaWduZXJNZXRhZGF0YScsIFtCaWxsRW50aXR5SWRFeF0pXG4gICAgICBpbnZva2VBY3Rpb24oJ2NsaWNrJywgW2lkLCAnZW50aXR5bWV0YScsIHByb3BOYW1lLCB7IEJpbGxFbnRpdHlJZEV4LCBpdGVtS2V5OiBmaWVsZC5LZXkgfV0sIFtdKVxuICAgIH1cbiAgICAvLyDlpJbpg6jooajljZXmuIXnqbrmiYDpgInooajljZVcbiAgICBpZiAoIUJpbGxFbnRpdHlJZEV4ICYmIFNvdXJjZUZvcm0gIT09ICcxJykge1xuICAgICAgY29uc3QgaWRzID0gZGF0YUNvbnRleHQuZ2V0QWxsU3ViQ29udHJvbElkcyhwaWQuY3VycmVudCkuc2xpY2UoMSlcbiAgICAgIGlkcy5sZW5ndGggJiYgZGVsZXRlRGF0YUdyaWRDb250cm9sKGlkcylcbiAgICAgIGRpc3BsYXlMaXN0LmN1cnJlbnQgPSBbXVxuICAgIH1cbiAgfSwgW0JpbGxFbnRpdHlJZEV4XSlcblxuICAvLyDlhoXpg6jooajljZXovazlpJbpg6jooajljZXml7bvvIzph43mlrDliLfmlrDliJfooahcbiAgLy8gaW5uZXIyT3V0ZXLkuLp0cnVl5pe277yMc291cmNlZm9ybei/mOaYrzFcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaW5uZXIyT3V0ZXIpIHtcbiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYmlsbERhdGEuY3VycmVudD8uW2ZvY3VzRm9ybS5jdXJyZW50XSB8fCB7fVxuICAgICAgZGF0YSAmJiBkZWJvdW5jZUZvcm1EYXRhKGRhdGEpXG4gICAgfVxuICB9LCBbaW5uZXIyT3V0ZXJdKVxuXG4gIC8qKlxuICAgKiDliLfmlrDliJfooahcbiAgICovXG4gIGNvbnN0IHJlZnJlc2hMaXN0ID0gdXNlQ2FsbGJhY2soKHsgaWQsIGRhdGEgfTp7aWQ6c3RyaW5nLCBkYXRhOmFueVtdfSkgPT4ge1xuICAgIGNvbnN0IHsgZmllbGRJZCB9ID0gbm9kZUluZm8uY3VycmVudFxuICAgIGlmIChpZCA9PT0gZmllbGRJZCAmJiAhaXNFcXVhbChkYXRhLCBkaXNwbGF5TGlzdC5jdXJyZW50KSkge1xuICAgICAgZGlzcGxheUxpc3QuY3VycmVudCA9IGRhdGFcbiAgICAgIHNldFByb3BzRGF0YShkYXRhKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgLyoqXG4gICAqIOazqOWGjOS+puWQrOWIl+ihqOWPmOWMllxuICAgKiDmjqfku7blj7PplK7lvLnnqpfml7bmlbDmja7nmoTlj5jljJbpnIDopoHlkIzml7bmm7TmlrDliLByaWdodC12aWV36KeG5Zu+XG4gICAqIOWIneWni+WMluaVsOaNriwg6ZyA6KaB6YeN5paw5bqP5YiX5YyW6KGo5qC85a2Q5o6n5Lu25pWw5o2uXG4gICAqL1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gYmlsbERhdGEuY3VycmVudD8uW2ZvY3VzRm9ybS5jdXJyZW50XSB8fCB7fVxuICAgIGRhdGEgJiYgc2V0Rm9ybUFuZEVudGl0eU1ldGFEYXRhKGRhdGEpXG4gICAgZXZlbnRCdXMub24oUkVGUkVTSF9QUk9QU19ESVNQTEFZX0xJU1QsIHJlZnJlc2hMaXN0KVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBldmVudEJ1cy5vZmYoUkVGUkVTSF9QUk9QU19ESVNQTEFZX0xJU1QsIHJlZnJlc2hMaXN0KVxuICAgIH1cbiAgfSwgW10pXG5cbiAgLyoqXG4gICAqIOWIneWni+WMluazqOWGjOS+puWQrFxuICAgKi9cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBldmVudEJ1cy5vbihTRVRfRk9STV9BTkRfRU5USVRZX01FVEFfREFUQSwgdXBkYXRlQmlsbERhdGEpXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGV2ZW50QnVzLm9mZihTRVRfRk9STV9BTkRfRU5USVRZX01FVEFfREFUQSwgdXBkYXRlQmlsbERhdGEpXG4gICAgfVxuICB9LCBbdXBkYXRlQmlsbERhdGFdKVxuXG4gIGNvbnNvbGUubG9nKCdCaWxsUHJvcHNyZWZGaWVsZEVkaXRvcicsIGZpZWxkLk5hbWUsIGJpbGxQcm9wc0RhdGEpXG4gIC8vIOWFs+iBlOihqOWNle+8jOaYvuekuuaWueW8j+S4uuihqOagvOaXtu+8jOS4jeaYvuekuuatpOWxnuaAp1xuICAvLyBpZiAoaXNSZWZCaWxsKGZpZWxkVHlwZSkgJiYgU2hvd1R5cGUgPT09ICcyJykgcmV0dXJuIG51bGxcbiAgY29uc3QgZGlzYWJsZWQgPSB1c2VNZW1vKCgpID0+IGlzUmVmQmlsbChmaWVsZFR5cGUpICYmIFNob3dUeXBlID09PSAnMicsIFtmaWVsZFR5cGUsIFNob3dUeXBlXSlcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJlZml4Q2xhc3N9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsYXNzfS10aXRsZWB9PlxuICAgICAgICA8TmFtZVRpcFdyYXBwZXIgbmFtZUhpZGRlbj17bmFtZUhpZGRlbn0gY2xhc3NOYW1lPXtjbGFzc05hbWV9IG5hbWU9e05hbWV9IHRpcHM9e3RpcHN9IHJlcXVpcmVkPXtyZXF1aXJlZH0gdGl0bGU9e3RpdGxlfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xhc3N9LWxpc3RgfT5cbiAgICAgICAge1xuICAgICAgICAgIHByb3BzRGF0YT8ubGVuZ3RoXG4gICAgICAgICAgICA/IChcbiAgICAgICAgICAgICAgPERyYWdDb250YWluZXI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsYXNzfS1saXN0LWRyYWdgfT5cbiAgICAgICAgICAgICAgICAgIHsvKiDmuLLmn5PliJfooaggKi99XG4gICAgICAgICAgICAgICAgICB7cHJvcHNEYXRhLm1hcCgoaXRlbSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPEJpbGxGaWVsZEl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l0ZW0uSWR9XG4gICAgICAgICAgICAgICAgICAgICAgaXRlbT17aXRlbX1cbiAgICAgICAgICAgICAgICAgICAgICBpbmRleD17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgcHJlZml4Q2xhc3M9e3ByZWZpeENsYXNzfVxuICAgICAgICAgICAgICAgICAgICAgIGZpZWxkSW5mbz17ZmllbGR9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgICAgIGlzTmV3PXshQmlsbEVudGl0eUlkRXggfHwgIWJpbGxQcm9wc0RhdGE/Lltmb2N1c0Zvcm0uY3VycmVudF0/Lmlkcz8uaW5jbHVkZXMoaXRlbS5JZCl9XG4gICAgICAgICAgICAgICAgICAgICAgLy8gc291cmNlRm9ybT17U291cmNlRm9ybX1cbiAgICAgICAgICAgICAgICAgICAgICAvLyBjYW5FZGl0PXtpc0FwcEZvcm19XG4gICAgICAgICAgICAgICAgICAgICAgaW5uZXJGb3JtPXtpc0FwcEZvcm19XG4gICAgICAgICAgICAgICAgICAgICAgc2hvd01lc3NhZ2U9e3Nob3dNZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgIGlzUmVmU2VsZj17QmlsbEVudGl0eUlkRXggPT09IHJvb3RJZH1cbiAgICAgICAgICAgICAgICAgICAgICBpc1N5c0NvbnRyb2w9e2lzUmVmU3lzQ29udHJvbChpdGVtLl9UeXBlXyl9XG4gICAgICAgICAgICAgICAgICAgICAgLy8gaGlkZVNob3dCdG49e1NvdXJjZUZvcm0gPT09ICcxJ31cbiAgICAgICAgICAgICAgICAgICAgICBvbkRyb3A9e2hhbmRsZURyb3B9XG4gICAgICAgICAgICAgICAgICAgICAgb25UaXRsZUNoYW5nZT17aGFuZGxlVGl0bGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgLy8gb25DaGFuZ2VFZGl0U3RhdHVzPXtoYW5kbGVDaGFuZ2VFZGl0U3RhdHVzfVxuICAgICAgICAgICAgICAgICAgICAgIG9uU2hvd0ZpZWxkPXtoYW5kbGVTaG93RmllbGR9XG4gICAgICAgICAgICAgICAgICAgICAgb25EZWxlY3RGaWVsZD17aGFuZGxlRGVsZWN0TW9kYWx9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9EcmFnQ29udGFpbmVyPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbGFzc30tZW1wdHlgfT48RW1wdHlEYXRhIGRlc2M9J+aaguaXoOWGheWuuScgLz48L2Rpdj5cbiAgICAgICAgfVxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBSZWFjdC5tZW1vKEJpbGxQcm9wc3JlZkZpZWxkRWRpdG9yKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///88672\n");

/***/ }),

/***/ 14777:
/*!******************************************!*\
  !*** ./src/editors/BizRules/Actions.tsx ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 61260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../utils/control */ 3700);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../utils */ 41232);\n/* harmony import */ var _utils_treeUtils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../utils/treeUtils */ 31340);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__);\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar exludeTreeNodeByCallback = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_18__.treeUtils.exludeTreeNodeByCallback,\n  dfs = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_18__.treeUtils.dfs;\n// 将树数据转换为treeSelect的options\nvar transformToTreeSelectOptions = function transformToTreeSelectOptions(treeData, refBillPrefixMap, metaApi, refBillNameMap, parentKey) {\n  return treeData.reduce(function (newTree, treeNode) {\n    var _context3;\n    var controlType = treeNode._Type_,\n      Name = treeNode.Name,\n      Key = treeNode.Key,\n      BillEntityIdEx = treeNode.BillEntityIdEx,\n      SelectItemType = treeNode.SelectItemType,\n      Multi = treeNode.Multi,\n      children = treeNode.children,\n      selectable = treeNode.selectable;\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isDateRange)(controlType)) {\n      var _context, _context2;\n      // 日期范围需要拆分成‘开始日期’和‘结束日期’两个字段\n      var ops = [{\n        title: \"\".concat(Name, \".\\u5F00\\u59CB\"),\n        titlePrefix: '[日期]',\n        key: parentKey ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default()(_context = \"\".concat(parentKey, \".\")).call(_context, Key, \"_startdate\") : \"\".concat(Key, \"_startdate\"),\n        type: controlType,\n        entityId: BillEntityIdEx\n      }, {\n        title: \"\".concat(Name, \".\\u7ED3\\u675F\"),\n        titlePrefix: '[日期]',\n        key: parentKey ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default()(_context2 = \"\".concat(parentKey, \".\")).call(_context2, Key, \"_enddate\") : \"\".concat(Key, \"_enddate\"),\n        type: controlType,\n        entityId: BillEntityIdEx\n      }];\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default()(newTree).call(newTree, ops);\n    }\n    var nodeSelectable = selectable !== undefined ? selectable : !(0,_utils__WEBPACK_IMPORTED_MODULE_15__.isGroupContainer)(controlType);\n    var titlePrefix = (0,_utils__WEBPACK_IMPORTED_MODULE_15__.getFieldNamePrefix)(treeNode, refBillPrefixMap, metaApi, refBillNameMap);\n    var node = {\n      title: Name,\n      titlePrefix: titlePrefix,\n      key: parentKey ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default()(_context3 = \"\".concat(parentKey, \".\")).call(_context3, Key) : Key,\n      type: controlType,\n      entityId: BillEntityIdEx,\n      isMulti: SelectItemType === 1 || Multi == 1,\n      selectable: nodeSelectable\n    };\n    if (Multi != 1 && children) {\n      var pKey = (0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBillTable)(controlType) ? Key : undefined;\n      node.children = transformToTreeSelectOptions(children, refBillPrefixMap, metaApi, refBillNameMap, pKey);\n    }\n    if ((0,_utils__WEBPACK_IMPORTED_MODULE_15__.isGroupContainer)(controlType)) {\n      node.selectable = false;\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default()(newTree).call(newTree, node);\n  }, []);\n};\nvar TrueActions = function TrueActions(_ref) {\n  var initialValue = _ref.value,\n    _ref$isMultiMode = _ref.isMultiMode,\n    isMultiMode = _ref$isMultiMode === void 0 ? false : _ref$isMultiMode,\n    sourceFieldOptions = _ref.sourceFieldOptions,\n    relationFieldId = _ref.relationFieldId,\n    selBillValue = _ref.selBillValue,\n    onChange = _ref.onChange,\n    curListFilterConfig = _ref.curListFilterConfig;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useState)(initialValue || []),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useState, 2),\n    values = _useState2[0],\n    setValues = _useState2[1];\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useContext)(_context__WEBPACK_IMPORTED_MODULE_13__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    getRefBillNameMap = _useContext.getRefBillNameMap;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    metaApi = _getKdesignerApi.meta;\n  var filterTreeData = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_18__.ListFilterUtil.filterTreeData,\n    canClearSourceField = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_18__.ListFilterUtil.canClearSourceField;\n  var refBillPrefixMap = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useMemo)(function () {\n    return (0,_utils__WEBPACK_IMPORTED_MODULE_15__.deepGetRefBillCaption)(curListFilterConfig);\n  }, [curListFilterConfig]);\n  var fieldOptions = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useMemo)(function () {\n    var _context4, _buildTree$;\n    // 当前表单内容的下拉项\n    var dataItems = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(_context4 = dataContext.getData().Items || []).call(_context4, function (item) {\n      var _Type_ = item._Type_;\n      var defaultData = metaApi.getDefaultData(_Type_);\n      return _objectSpread(_objectSpread({}, defaultData), item);\n    });\n    var filterNodeCb = function filterNodeCb(node) {\n      var controlType = node._Type_,\n        BillEntityIdEx = node.BillEntityIdEx,\n        showType = node.showType,\n        Multi = node.Multi,\n        children = node.children,\n        key = node.Key,\n        refBillKey = node.RefBillKey;\n      if (isMultiMode) {\n        if (refBillKey && refBillKey === relationFieldId) {\n          return false;\n        }\n        if (((0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBillTable)(controlType) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBill)(controlType)) && BillEntityIdEx === selBillValue && key !== relationFieldId && Multi == 1) {\n          return true;\n        } else if (Multi != 1 && children.length) {\n          node.selectable = false;\n          return true;\n        }\n        return false;\n      } else {\n        if (relationFieldId && (key === relationFieldId || refBillKey === relationFieldId)) {\n          // 【通过关联表单】过滤掉关联表单、表格本身\n          return false;\n        }\n        // 过滤关联表单表格产生的隐藏控件\n        if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBillTable)(controlType)) {\n          return showType !== '1';\n        }\n        return !(0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isBizButton)(controlType) && !(0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isCreatorOrModifierControl)(controlType) && !((controlType === 'NoCodeMulRefBillField' || controlType === 'NoCodeRefBillField') && BillEntityIdEx === undefined);\n      }\n    };\n    var dataTree = exludeTreeNodeByCallback(((_buildTree$ = (0,_utils_treeUtils__WEBPACK_IMPORTED_MODULE_16__.buildTree)(dataItems)[0]) === null || _buildTree$ === void 0 ? void 0 : _buildTree$.children) || [], filterNodeCb);\n    return transformToTreeSelectOptions(dataTree, refBillPrefixMap, metaApi, getRefBillNameMap());\n  }, [isMultiMode, selBillValue, relationFieldId, refBillPrefixMap, getRefBillNameMap]);\n  var handleAddItem = function handleAddItem() {\n    var _context5;\n    var newValues = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default()(_context5 = []).call(_context5, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(values), [{\n      sourceField: '',\n      targetField: ''\n    }]);\n    setValues(newValues);\n    onChange(newValues);\n  };\n  var handleDeleteItem = function handleDeleteItem(index) {\n    var newValues = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(values);\n    _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_10___default()(newValues).call(newValues, index, 1);\n    setValues(newValues);\n    onChange(newValues);\n  };\n\n  // 清空值\n  var handleClearAll = function handleClearAll() {\n    setValues([]);\n    onChange([]);\n  };\n  var handleSourceFieldChange = function handleSourceFieldChange(value, index) {\n    var oldValue = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_11___default()(values).call(values, function (item, idx) {\n      return idx === index;\n    }).fieldId;\n    if (value === oldValue) return;\n    var newValues = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(values).call(values, function (v, i) {\n      if (index === i) {\n        return _objectSpread(_objectSpread({}, v), {}, {\n          sourceField: value\n        });\n      }\n      return v;\n    });\n    setValues(newValues);\n    onChange(newValues);\n  };\n  var handleTargetFieldChange = function handleTargetFieldChange(value, index) {\n    var newValues = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(values).call(values, function (v, i) {\n      if (index === i) {\n        var newTreeData = filterTreeData(sourceFieldOptions, dfs(fieldOptions, function (node) {\n          return node.key === value;\n        }));\n        return canClearSourceField(newTreeData, v.sourceField) ? _objectSpread(_objectSpread({}, v), {}, {\n          targetField: value\n        }) : _objectSpread(_objectSpread({}, v), {}, {\n          targetField: value,\n          sourceField: ''\n        });\n      }\n      return v;\n    });\n    setValues(newValues);\n    onChange(newValues);\n  };\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_12__.useEffect)(function () {\n    var newVal = initialValue || [];\n    if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__.isEqual)(newVal, values)) {\n      setValues(newVal);\n    }\n  }, [initialValue]);\n  var noselcontain = function noselcontain(treeData, targetField) {\n    var selv = dfs(fieldOptions, function (node) {\n      return node.key === targetField;\n    });\n    var entityId = selv === null || selv === void 0 ? void 0 : selv.entityId;\n    treeData === null || treeData === void 0 || treeData.forEach(function (item) {\n      var _item$children;\n      if ((item === null || item === void 0 || (_item$children = item.children) === null || _item$children === void 0 ? void 0 : _item$children.length) > 0 && ((item === null || item === void 0 ? void 0 : item.BillEntityId) !== entityId || entityId === undefined)) {\n        item.selectable = false;\n      }\n    });\n    return treeData;\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"div\", {\n    className: \"bill-finder-actions\"\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(values).call(values, function (obj, index) {\n    var sourceField = obj.sourceField,\n      targetField = obj.targetField;\n    var targetFieldItem = dfs(fieldOptions, function (node) {\n      return node.key === targetField;\n    }) || {};\n    var sourceTreeData = filterTreeData(sourceFieldOptions, _objectSpread({\n      selBillValue: selBillValue\n    }, targetFieldItem));\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"div\", {\n      className: \"row_item\",\n      key: index\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"span\", {\n      className: \"txt\"\n    }, \"\\u5C06\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_18__.KDTreeSelect, {\n      className: \"target-field-select\"\n      // treeDefaultExpandAll\n      ,\n      virtual: false,\n      allowClear: true,\n      value: targetField,\n      treeData: fieldOptions,\n      showFullLabelTips: true,\n      onChange: function onChange(value) {\n        return handleTargetFieldChange(value, index);\n      },\n      suffixIcon: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Icon, {\n        prefix: \"designericon\",\n        type: \"duixiangxuanze2\"\n      })\n    }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"span\", {\n      className: \"txt\"\n    }, \"\\u7684\\u503C\\u8D4B\\u4E3A\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_18__.KDTreeSelect, {\n      className: \"source-field-select\"\n      // treeDefaultExpandAll\n      ,\n      virtual: false,\n      disabled: targetField === '' || targetField === undefined,\n      value: sourceField,\n      treeData: sourceTreeData,\n      showFullLabelTips: true,\n      treeCheckStrictly: true,\n      onChange: function onChange(value) {\n        return handleSourceFieldChange(value, index);\n      },\n      suffixIcon: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Icon, {\n        prefix: \"designericon\",\n        type: \"duixiangxuanze2\"\n      })\n    }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Icon, {\n      className: \"delete_icon\",\n      prefix: \"ncicon\",\n      type: \"xingshanchu\",\n      onClick: function onClick() {\n        return handleDeleteItem(index);\n      }\n    }));\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"div\", {\n    className: \"footer-btns\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"div\", {\n    className: \"add-btn\",\n    onClick: handleAddItem\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Icon, {\n    prefix: \"nocodeplatformicon\",\n    type: \"zengjia-yuan\"\n  }), \"\\u6DFB\\u52A0\\u5199\\u5165\\u89C4\\u5219\"), !!values.length && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_12___default().createElement(\"div\", {\n    className: \"clear-all\",\n    onClick: handleClearAll\n  }, \"\\u6E05\\u7A7A\")));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (TrueActions);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ3NzcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFZQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVFBO0FBUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBSUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9lZGl0b3JzL0JpelJ1bGVzL0FjdGlvbnMudHN4PzdiYjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZUNvbnRleHQsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQnXG5pbXBvcnQgeyBpc0JpekJ1dHRvbiwgaXNEYXRlUmFuZ2UsIGlzQ3JlYXRvck9yTW9kaWZpZXJDb250cm9sLCBpc1JlZkJpbGxUYWJsZSwgaXNSZWZCaWxsIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29udHJvbCdcbmltcG9ydCB7IGlzR3JvdXBDb250YWluZXIsIGdldEZpZWxkTmFtZVByZWZpeCwgZGVlcEdldFJlZkJpbGxDYXB0aW9uIH0gZnJvbSAnLi4vLi4vdXRpbHMnXG5pbXBvcnQgeyBidWlsZFRyZWUgfSBmcm9tICcuLi8uLi91dGlscy90cmVlVXRpbHMnXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IHsgS0RUcmVlU2VsZWN0LCBMaXN0RmlsdGVyVXRpbCwgdHJlZVV0aWxzIH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcbmltcG9ydCB7IGlzRXF1YWwgfSBmcm9tICdsb2Rhc2gnXG5cbmNvbnN0IHsgZXhsdWRlVHJlZU5vZGVCeUNhbGxiYWNrLCBkZnMgfSA9IHRyZWVVdGlsc1xuXG5pbnRlcmZhY2UgQWN0aW9uc1Byb3BzIHtcbiAgdmFsdWU6IGFueVtdO1xuICBzb3VyY2VGaWVsZE9wdGlvbnM6IGFueVtdO1xuICByZWxhdGlvbkZpZWxkSWQ/OiBzdHJpbmc7XG4gIGlzTXVsdGlNb2RlOiBib29sZWFuO1xuICBzZWxCaWxsVmFsdWU6IHN0cmluZztcbiAgb25DaGFuZ2U6IChuZXdWYWw6IGFueVtdKSA9PiB2b2lkO1xuICBjdXJMaXN0RmlsdGVyQ29uZmlnOiBhbnlbXTtcbn1cblxuLy8g5bCG5qCR5pWw5o2u6L2s5o2i5Li6dHJlZVNlbGVjdOeahG9wdGlvbnNcbmNvbnN0IHRyYW5zZm9ybVRvVHJlZVNlbGVjdE9wdGlvbnMgPSAodHJlZURhdGE6IGFueVtdLCByZWZCaWxsUHJlZml4TWFwOiBhbnksIG1ldGFBcGk6IGFueSwgcmVmQmlsbE5hbWVNYXA6IGFueSwgcGFyZW50S2V5Pzogc3RyaW5nKSA9PiB7XG4gIHJldHVybiB0cmVlRGF0YS5yZWR1Y2UoKG5ld1RyZWU6IGFueSwgdHJlZU5vZGU6IGFueSkgPT4ge1xuICAgIGNvbnN0IHsgX1R5cGVfOiBjb250cm9sVHlwZSwgTmFtZSwgS2V5LCBCaWxsRW50aXR5SWRFeCwgU2VsZWN0SXRlbVR5cGUsIE11bHRpLCBjaGlsZHJlbiwgc2VsZWN0YWJsZSB9ID0gdHJlZU5vZGVcbiAgICBpZiAoaXNEYXRlUmFuZ2UoY29udHJvbFR5cGUpKSB7XG4gICAgICAvLyDml6XmnJ/ojIPlm7TpnIDopoHmi4bliIbmiJDigJjlvIDlp4vml6XmnJ/igJnlkozigJjnu5PmnZ/ml6XmnJ/igJnkuKTkuKrlrZfmrrVcbiAgICAgIGNvbnN0IG9wcyA9IFtcbiAgICAgICAgeyB0aXRsZTogYCR7TmFtZX0u5byA5aeLYCwgdGl0bGVQcmVmaXg6ICdb5pel5pyfXScsIGtleTogcGFyZW50S2V5ID8gYCR7cGFyZW50S2V5fS4ke0tleX1fc3RhcnRkYXRlYCA6IGAke0tleX1fc3RhcnRkYXRlYCwgdHlwZTogY29udHJvbFR5cGUsIGVudGl0eUlkOiBCaWxsRW50aXR5SWRFeCB9LFxuICAgICAgICB7IHRpdGxlOiBgJHtOYW1lfS7nu5PmnZ9gLCB0aXRsZVByZWZpeDogJ1vml6XmnJ9dJywga2V5OiBwYXJlbnRLZXkgPyBgJHtwYXJlbnRLZXl9LiR7S2V5fV9lbmRkYXRlYCA6IGAke0tleX1fZW5kZGF0ZWAsIHR5cGU6IGNvbnRyb2xUeXBlLCBlbnRpdHlJZDogQmlsbEVudGl0eUlkRXggfVxuICAgICAgXVxuICAgICAgcmV0dXJuIG5ld1RyZWUuY29uY2F0KG9wcylcbiAgICB9XG4gICAgY29uc3Qgbm9kZVNlbGVjdGFibGUgPSBzZWxlY3RhYmxlICE9PSB1bmRlZmluZWQgPyBzZWxlY3RhYmxlIDogIWlzR3JvdXBDb250YWluZXIoY29udHJvbFR5cGUpXG4gICAgY29uc3QgdGl0bGVQcmVmaXggPSBnZXRGaWVsZE5hbWVQcmVmaXgodHJlZU5vZGUsIHJlZkJpbGxQcmVmaXhNYXAsIG1ldGFBcGksIHJlZkJpbGxOYW1lTWFwKVxuICAgIGNvbnN0IG5vZGU6IGFueSA9IHsgdGl0bGU6IE5hbWUsIHRpdGxlUHJlZml4LCBrZXk6IHBhcmVudEtleSA/IGAke3BhcmVudEtleX0uJHtLZXl9YCA6IEtleSwgdHlwZTogY29udHJvbFR5cGUsIGVudGl0eUlkOiBCaWxsRW50aXR5SWRFeCwgaXNNdWx0aTogKFNlbGVjdEl0ZW1UeXBlID09PSAxIHx8IE11bHRpID09IDEpLCBzZWxlY3RhYmxlOiBub2RlU2VsZWN0YWJsZSB9XG4gICAgaWYgKE11bHRpICE9IDEgJiYgY2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IHBLZXkgPSBpc1JlZkJpbGxUYWJsZShjb250cm9sVHlwZSkgPyBLZXkgOiB1bmRlZmluZWRcbiAgICAgIG5vZGUuY2hpbGRyZW4gPSB0cmFuc2Zvcm1Ub1RyZWVTZWxlY3RPcHRpb25zKGNoaWxkcmVuLCByZWZCaWxsUHJlZml4TWFwLCBtZXRhQXBpLCByZWZCaWxsTmFtZU1hcCwgcEtleSlcbiAgICB9XG4gICAgaWYgKGlzR3JvdXBDb250YWluZXIoY29udHJvbFR5cGUpKSB7XG4gICAgICBub2RlLnNlbGVjdGFibGUgPSBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gbmV3VHJlZS5jb25jYXQobm9kZSlcbiAgfSwgW10pXG59XG5cbmNvbnN0IFRydWVBY3Rpb25zOiBSZWFjdC5GQzxBY3Rpb25zUHJvcHM+ID0gKHtcbiAgdmFsdWU6IGluaXRpYWxWYWx1ZSxcbiAgaXNNdWx0aU1vZGUgPSBmYWxzZSxcbiAgc291cmNlRmllbGRPcHRpb25zLFxuICByZWxhdGlvbkZpZWxkSWQsXG4gIHNlbEJpbGxWYWx1ZSxcbiAgb25DaGFuZ2UsXG4gIGN1ckxpc3RGaWx0ZXJDb25maWdcbn0pID0+IHtcbiAgY29uc3QgW3ZhbHVlcywgc2V0VmFsdWVzXSA9IHVzZVN0YXRlPGFueVtdPihpbml0aWFsVmFsdWUgfHwgW10pXG4gIGNvbnN0IHsgZ2V0S2Rlc2lnbmVyQXBpLCBnZXRSZWZCaWxsTmFtZU1hcCB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IHsgZGF0YTogZGF0YUNvbnRleHQsIG1ldGE6IG1ldGFBcGkgfSA9IGdldEtkZXNpZ25lckFwaSgpXG4gIGNvbnN0IHsgZmlsdGVyVHJlZURhdGEsIGNhbkNsZWFyU291cmNlRmllbGQgfSA9IExpc3RGaWx0ZXJVdGlsXG5cbiAgY29uc3QgcmVmQmlsbFByZWZpeE1hcCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBkZWVwR2V0UmVmQmlsbENhcHRpb24oY3VyTGlzdEZpbHRlckNvbmZpZylcbiAgfSwgW2N1ckxpc3RGaWx0ZXJDb25maWddKVxuXG4gIGNvbnN0IGZpZWxkT3B0aW9ucyA9IHVzZU1lbW8oKCkgPT4geyAvLyDlvZPliY3ooajljZXlhoXlrrnnmoTkuIvmi4npoblcbiAgICBjb25zdCBkYXRhSXRlbXMgPSAoZGF0YUNvbnRleHQuZ2V0RGF0YSgpLkl0ZW1zIHx8IFtdKS5tYXAoKGl0ZW06IGFueSkgPT4ge1xuICAgICAgY29uc3QgeyBfVHlwZV8gfSA9IGl0ZW1cbiAgICAgIGNvbnN0IGRlZmF1bHREYXRhID0gbWV0YUFwaS5nZXREZWZhdWx0RGF0YShfVHlwZV8pXG4gICAgICByZXR1cm4geyAuLi5kZWZhdWx0RGF0YSwgLi4uaXRlbSB9XG4gICAgfSlcbiAgICBjb25zdCBmaWx0ZXJOb2RlQ2IgPSAobm9kZTogYW55KSA9PiB7XG4gICAgICBjb25zdCB7IF9UeXBlXzogY29udHJvbFR5cGUsIEJpbGxFbnRpdHlJZEV4LCBzaG93VHlwZSwgTXVsdGksIGNoaWxkcmVuLCBLZXk6IGtleSwgUmVmQmlsbEtleTogcmVmQmlsbEtleSB9ID0gbm9kZVxuICAgICAgaWYgKGlzTXVsdGlNb2RlKSB7XG4gICAgICAgIGlmIChyZWZCaWxsS2V5ICYmIHJlZkJpbGxLZXkgPT09IHJlbGF0aW9uRmllbGRJZCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgoaXNSZWZCaWxsVGFibGUoY29udHJvbFR5cGUpIHx8IGlzUmVmQmlsbChjb250cm9sVHlwZSkpICYmIEJpbGxFbnRpdHlJZEV4ID09PSBzZWxCaWxsVmFsdWUgJiYga2V5ICE9PSByZWxhdGlvbkZpZWxkSWQgJiYgTXVsdGkgPT0gMSkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH0gZWxzZSBpZiAoTXVsdGkgIT0gMSAmJiBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICBub2RlLnNlbGVjdGFibGUgPSBmYWxzZVxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocmVsYXRpb25GaWVsZElkICYmIChrZXkgPT09IHJlbGF0aW9uRmllbGRJZCB8fCByZWZCaWxsS2V5ID09PSByZWxhdGlvbkZpZWxkSWQpKSB7XG4gICAgICAgICAgLy8g44CQ6YCa6L+H5YWz6IGU6KGo5Y2V44CR6L+H5ruk5o6J5YWz6IGU6KGo5Y2V44CB6KGo5qC85pys6LqrXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgLy8g6L+H5ruk5YWz6IGU6KGo5Y2V6KGo5qC85Lqn55Sf55qE6ZqQ6JeP5o6n5Lu2XG4gICAgICAgIGlmIChpc1JlZkJpbGxUYWJsZShjb250cm9sVHlwZSkpIHtcbiAgICAgICAgICByZXR1cm4gc2hvd1R5cGUgIT09ICcxJ1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhaXNCaXpCdXR0b24oY29udHJvbFR5cGUpICYmXG4gICAgICAgICFpc0NyZWF0b3JPck1vZGlmaWVyQ29udHJvbChjb250cm9sVHlwZSkgJiZcbiAgICAgICAgISgoY29udHJvbFR5cGUgPT09ICdOb0NvZGVNdWxSZWZCaWxsRmllbGQnIHx8IGNvbnRyb2xUeXBlID09PSAnTm9Db2RlUmVmQmlsbEZpZWxkJykgJiYgQmlsbEVudGl0eUlkRXggPT09IHVuZGVmaW5lZClcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZGF0YVRyZWUgPSBleGx1ZGVUcmVlTm9kZUJ5Q2FsbGJhY2soYnVpbGRUcmVlKGRhdGFJdGVtcylbMF0/LmNoaWxkcmVuIHx8IFtdLCBmaWx0ZXJOb2RlQ2IpXG4gICAgcmV0dXJuIHRyYW5zZm9ybVRvVHJlZVNlbGVjdE9wdGlvbnMoZGF0YVRyZWUsIHJlZkJpbGxQcmVmaXhNYXAsIG1ldGFBcGksIGdldFJlZkJpbGxOYW1lTWFwKCkpXG4gIH0sIFtpc011bHRpTW9kZSwgc2VsQmlsbFZhbHVlLCByZWxhdGlvbkZpZWxkSWQsIHJlZkJpbGxQcmVmaXhNYXAsIGdldFJlZkJpbGxOYW1lTWFwXSlcblxuICBjb25zdCBoYW5kbGVBZGRJdGVtID0gKCkgPT4ge1xuICAgIGNvbnN0IG5ld1ZhbHVlcyA9IFsuLi52YWx1ZXMsIHsgc291cmNlRmllbGQ6ICcnLCB0YXJnZXRGaWVsZDogJycgfV1cbiAgICBzZXRWYWx1ZXMobmV3VmFsdWVzKVxuICAgIG9uQ2hhbmdlKG5ld1ZhbHVlcylcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZURlbGV0ZUl0ZW0gPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IG5ld1ZhbHVlcyA9IFsuLi52YWx1ZXNdXG4gICAgbmV3VmFsdWVzLnNwbGljZShpbmRleCwgMSlcbiAgICBzZXRWYWx1ZXMobmV3VmFsdWVzKVxuICAgIG9uQ2hhbmdlKG5ld1ZhbHVlcylcbiAgfVxuXG4gIC8vIOa4heepuuWAvFxuICBjb25zdCBoYW5kbGVDbGVhckFsbCA9ICgpID0+IHtcbiAgICBzZXRWYWx1ZXMoW10pXG4gICAgb25DaGFuZ2UoW10pXG4gIH1cblxuICBjb25zdCBoYW5kbGVTb3VyY2VGaWVsZENoYW5nZSA9ICh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHZhbHVlcy5maW5kKChpdGVtLCBpZHgpID0+IGlkeCA9PT0gaW5kZXgpLmZpZWxkSWRcbiAgICBpZiAodmFsdWUgPT09IG9sZFZhbHVlKSByZXR1cm5cbiAgICBjb25zdCBuZXdWYWx1ZXMgPSB2YWx1ZXMubWFwKCh2LCBpKSA9PiB7XG4gICAgICBpZiAoaW5kZXggPT09IGkpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4udiwgc291cmNlRmllbGQ6IHZhbHVlIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB2XG4gICAgfSlcbiAgICBzZXRWYWx1ZXMobmV3VmFsdWVzKVxuICAgIG9uQ2hhbmdlKG5ld1ZhbHVlcylcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVRhcmdldEZpZWxkQ2hhbmdlID0gKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IG5ld1ZhbHVlcyA9IHZhbHVlcy5tYXAoKHYsIGkpID0+IHtcbiAgICAgIGlmIChpbmRleCA9PT0gaSkge1xuICAgICAgICBjb25zdCBuZXdUcmVlRGF0YSA9IGZpbHRlclRyZWVEYXRhKHNvdXJjZUZpZWxkT3B0aW9ucywgZGZzKGZpZWxkT3B0aW9ucywgKG5vZGU6IGFueSkgPT4gbm9kZS5rZXkgPT09IHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIGNhbkNsZWFyU291cmNlRmllbGQobmV3VHJlZURhdGEsIHYuc291cmNlRmllbGQpID8geyAuLi52LCB0YXJnZXRGaWVsZDogdmFsdWUgfSA6IHsgLi4udiwgdGFyZ2V0RmllbGQ6IHZhbHVlLCBzb3VyY2VGaWVsZDogJycgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHZcbiAgICB9KVxuICAgIHNldFZhbHVlcyhuZXdWYWx1ZXMpXG4gICAgb25DaGFuZ2UobmV3VmFsdWVzKVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBuZXdWYWwgPSBpbml0aWFsVmFsdWUgfHwgW11cbiAgICBpZiAoIWlzRXF1YWwobmV3VmFsLCB2YWx1ZXMpKSB7XG4gICAgICBzZXRWYWx1ZXMobmV3VmFsKVxuICAgIH1cbiAgfSwgW2luaXRpYWxWYWx1ZV0pXG5cbiAgY29uc3Qgbm9zZWxjb250YWluID0gKHRyZWVEYXRhLCB0YXJnZXRGaWVsZCkgPT4ge1xuICAgIGNvbnN0IHNlbHYgPSBkZnMoZmllbGRPcHRpb25zLCAobm9kZTogYW55KSA9PiBub2RlLmtleSA9PT0gdGFyZ2V0RmllbGQpXG4gICAgY29uc3QgZW50aXR5SWQgPSBzZWx2Py5lbnRpdHlJZFxuICAgIHRyZWVEYXRhPy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgaWYgKGl0ZW0/LmNoaWxkcmVuPy5sZW5ndGggPiAwICYmIChpdGVtPy5CaWxsRW50aXR5SWQgIT09IGVudGl0eUlkIHx8IGVudGl0eUlkID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIGl0ZW0uc2VsZWN0YWJsZSA9IGZhbHNlXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gdHJlZURhdGFcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9J2JpbGwtZmluZGVyLWFjdGlvbnMnPlxuICAgICAge3ZhbHVlcy5tYXAoKG9iaiwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgeyBzb3VyY2VGaWVsZCwgdGFyZ2V0RmllbGQgfSA9IG9ialxuICAgICAgICBjb25zdCB0YXJnZXRGaWVsZEl0ZW0gPSBkZnMoZmllbGRPcHRpb25zLCAobm9kZTogYW55KSA9PiBub2RlLmtleSA9PT0gdGFyZ2V0RmllbGQpIHx8IHt9XG4gICAgICAgIGNvbnN0IHNvdXJjZVRyZWVEYXRhID0gZmlsdGVyVHJlZURhdGEoc291cmNlRmllbGRPcHRpb25zLCB7IHNlbEJpbGxWYWx1ZSwgLi4udGFyZ2V0RmllbGRJdGVtIH0pXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3Jvd19pdGVtJyBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndHh0Jz7lsIY8L3NwYW4+XG4gICAgICAgICAgICA8S0RUcmVlU2VsZWN0XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0ndGFyZ2V0LWZpZWxkLXNlbGVjdCdcbiAgICAgICAgICAgICAgLy8gdHJlZURlZmF1bHRFeHBhbmRBbGxcbiAgICAgICAgICAgICAgdmlydHVhbD17ZmFsc2V9XG4gICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgdmFsdWU9e3RhcmdldEZpZWxkfVxuICAgICAgICAgICAgICB0cmVlRGF0YT17ZmllbGRPcHRpb25zfVxuICAgICAgICAgICAgICBzaG93RnVsbExhYmVsVGlwc1xuICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiBoYW5kbGVUYXJnZXRGaWVsZENoYW5nZSh2YWx1ZSwgaW5kZXgpfVxuICAgICAgICAgICAgICBzdWZmaXhJY29uPXs8SWNvbiBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nZHVpeGlhbmd4dWFuemUyJyAvPn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3R4dCc+55qE5YC86LWL5Li6PC9zcGFuPlxuICAgICAgICAgICAgPEtEVHJlZVNlbGVjdFxuICAgICAgICAgICAgICBjbGFzc05hbWU9J3NvdXJjZS1maWVsZC1zZWxlY3QnXG4gICAgICAgICAgICAgIC8vIHRyZWVEZWZhdWx0RXhwYW5kQWxsXG4gICAgICAgICAgICAgIHZpcnR1YWw9e2ZhbHNlfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGFyZ2V0RmllbGQgPT09ICcnIHx8IHRhcmdldEZpZWxkID09PSB1bmRlZmluZWR9XG4gICAgICAgICAgICAgIHZhbHVlPXtzb3VyY2VGaWVsZH1cbiAgICAgICAgICAgICAgdHJlZURhdGE9e3NvdXJjZVRyZWVEYXRhfVxuICAgICAgICAgICAgICBzaG93RnVsbExhYmVsVGlwc1xuICAgICAgICAgICAgICB0cmVlQ2hlY2tTdHJpY3RseVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiBoYW5kbGVTb3VyY2VGaWVsZENoYW5nZSh2YWx1ZSwgaW5kZXgpfVxuICAgICAgICAgICAgICBzdWZmaXhJY29uPXs8SWNvbiBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nZHVpeGlhbmd4dWFuemUyJyAvPn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8SWNvbiBjbGFzc05hbWU9J2RlbGV0ZV9pY29uJyBwcmVmaXg9J25jaWNvbicgdHlwZT0neGluZ3NoYW5jaHUnIG9uQ2xpY2s9eygpID0+IGhhbmRsZURlbGV0ZUl0ZW0oaW5kZXgpfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdmb290ZXItYnRucyc+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdhZGQtYnRuJyBvbkNsaWNrPXtoYW5kbGVBZGRJdGVtfT5cbiAgICAgICAgICA8SWNvbiBwcmVmaXg9J25vY29kZXBsYXRmb3JtaWNvbicgdHlwZT0nemVuZ2ppYS15dWFuJyAvPua3u+WKoOWGmeWFpeinhOWImVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgeyEhdmFsdWVzLmxlbmd0aCAmJiA8ZGl2IGNsYXNzTmFtZT0nY2xlYXItYWxsJyBvbkNsaWNrPXtoYW5kbGVDbGVhckFsbH0+5riF56m6PC9kaXY+fVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJ1ZUFjdGlvbnNcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///14777\n");

/***/ }),

/***/ 24924:
/*!*******************************************************!*\
  !*** ./src/editors/BizRules/BillQuickFinderModal.tsx ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/from */ 13440);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/symbol */ 59992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js/get-iterator-method */ 60600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 1900);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 73980);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var _BillQuickFinderSetting__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./BillQuickFinderSetting */ 96884);\n/* harmony import */ var _assets_images_empty_png__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../assets/images/empty.png */ 75928);\n/* harmony import */ var _hooks_useListTreeConfigParser__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../hooks/useListTreeConfigParser */ 13276);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../utils */ 41232);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_25__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_26__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./index */ 91748);\n\n\n\n\n\n\n\n\n\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof (_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_5___default()) !== \"undefined\" && _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_6___default()(o) || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { var _context2; if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(_context2 = Object.prototype.toString.call(o)).call(_context2, 8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_4___default()(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_15___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar RuleEmpty = function RuleEmpty(_ref) {\n  var handleAdd = _ref.handleAdd;\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n    className: \"rule-empty\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"img\", {\n    src: _assets_images_empty_png__WEBPACK_IMPORTED_MODULE_22__[\"default\"],\n    alt: \"\\u6682\\u65E0\\u5361\\u7247\",\n    width: 224,\n    height: 128\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n    className: \"empty-text\"\n  }, \"\\u6682\\u65E0\\u89C4\\u5219\\uFF0C\\u70B9\\u51FB\\u4E0B\\u65B9\\u6309\\u94AE\\u6DFB\\u52A0\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Button, {\n    type: \"primary\",\n    icon: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Icon, {\n      prefix: \"nocodeplatformicon\",\n      type: \"zengjia-yuan\"\n    }),\n    onClick: handleAdd\n  }, \"\\u6DFB\\u52A0\\u89C4\\u5219\"));\n};\nvar DEFAULT_RULE_INFO = {\n  valueType: 2,\n  // 2->通过筛选条件，3->通过关联表单\n  relationFormId: '',\n  relationFieldId: '',\n  filterInfos: [],\n  // [{ fieldName: \"def\", compareType: \"=\", value: [\"456\"] }]\n  sortInfos: [],\n  // [{ number: 'number', name: \"abc\", isAsc: true }]\n  valueType2Result: [],\n  // 通过筛选条件，填充结果，格式[{ sourceField: \"field1\", targetField: \"field2\" }]\n  valueType3Result: [],\n  // 通过关联表单，填充结果，格式[{ sourceField: \"field1\", targetField: \"field2\" }]\n  valueType3FilterInfos: [],\n  // 3->通过关联表单，筛选条件\n  valueType3SortInfos: [],\n  // 3->通过关联表单，排序条件\n  valueType2Multi: '0',\n  // 2->通过筛选条件 【查找数量】\n  valueType3Multi: '0',\n  // 3->通过关联表单 【查找数量】\n  valueType2Top: '100',\n  // 2->通过筛选条件 【数量上限】\n  valueType3Top: '100' // 3->通过关联表单 【数量上限】\n};\n\n// 转换规则，拍平成formData的格式\nvar transformRuleData = function transformRuleData(item) {\n  var ruleInfoJson = item.ruleInfo,\n    ruleId = item.ruleId;\n  var ruleInfo = ruleInfoJson && (0,_utils__WEBPACK_IMPORTED_MODULE_24__.isJson)(ruleInfoJson) ? JSON.parse(ruleInfoJson) : {};\n  var ruleName = ruleInfo.ruleName,\n    valueType = ruleInfo.valueType,\n    _ruleInfo$value = ruleInfo.value,\n    value = _ruleInfo$value === void 0 ? {} : _ruleInfo$value;\n  var _getAffectfldsOrDepfl = (0,_index__WEBPACK_IMPORTED_MODULE_27__.getAffectfldsOrDepflds)(item),\n    affectfldkeys = _getAffectfldsOrDepfl.affectfldkeys,\n    depfldkeys = _getAffectfldsOrDepfl.depfldkeys;\n  var res = _objectSpread(_objectSpread({}, DEFAULT_RULE_INFO), {}, {\n    affectfldkeys: affectfldkeys,\n    depfldkeys: depfldkeys,\n    ruleId: ruleId,\n    ruleName: ruleName,\n    valueType: valueType\n  });\n  if (valueType === 2) {\n    var _value$filterInfos = value.filterInfos,\n      filterInfos = _value$filterInfos === void 0 ? [] : _value$filterInfos,\n      _value$sortInfos = value.sortInfos,\n      sortInfos = _value$sortInfos === void 0 ? [] : _value$sortInfos,\n      _value$result = value.result,\n      result = _value$result === void 0 ? [] : _value$result,\n      _value$relationFormId = value.relationFormId,\n      relationFormId = _value$relationFormId === void 0 ? '' : _value$relationFormId,\n      multi = value.multi,\n      top = value.top;\n    (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(res, {\n      filterInfos: filterInfos,\n      sortInfos: sortInfos,\n      valueType2Multi: multi,\n      valueType2Result: result,\n      relationFormId: relationFormId\n    });\n    if (top) {\n      (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(res, {\n        valueType2Top: top\n      });\n    }\n  } else if (valueType === 3) {\n    var _value$result2 = value.result,\n      _result = _value$result2 === void 0 ? [] : _value$result2,\n      _value$relationFormId2 = value.relationFormId,\n      _relationFormId = _value$relationFormId2 === void 0 ? '' : _value$relationFormId2;\n    var propertys = ['filterInfos', 'sortInfos', 'multi', 'top'];\n    (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(res, {\n      valueType3Result: _result,\n      relationFieldId: _relationFormId\n    });\n    propertys.forEach(function (k) {\n      var v = value[k];\n      if (v) {\n        (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(res, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({}, \"valueType3\".concat((0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_26__.upperFirst)(k)), v));\n      }\n    });\n  }\n  return res;\n};\nvar ModalBody = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.forwardRef)(function (_ref2, ref) {\n  var prefixCls = _ref2.prefixCls,\n    field = _ref2.field,\n    refreshEditorDisplay = _ref2.refreshEditorDisplay;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useContext)(_context__WEBPACK_IMPORTED_MODULE_19__.DesignerContext),\n    invokeAction = _useContext.invokeAction,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    getRefBillData = _useContext.getRefBillData,\n    getCompareTypes = _useContext.getCompareTypes,\n    getBizRules = _useContext.getBizRules,\n    setBizRules = _useContext.setBizRules,\n    curListTreeApi = _useContext.curListTreeApi;\n  var fieldKey = field.Key;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useState)(function () {\n      var _context;\n      var data = getBizRules();\n      var result = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(data).call(data, transformRuleData);\n      if ((result === null || result === void 0 ? void 0 : result.length) <= 1) return result;\n      var stack1 = [];\n      var stack2 = [];\n      var stack3 = [];\n      var _iterator = _createForOfIteratorHelper(result),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          var depfldkeys = item.depfldkeys,\n            affectfldkeys = item.affectfldkeys;\n          if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(depfldkeys).call(depfldkeys, fieldKey) && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(affectfldkeys).call(affectfldkeys, fieldKey)) {\n            stack1.push(item);\n          } else if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(depfldkeys).call(depfldkeys, fieldKey) || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(affectfldkeys).call(affectfldkeys, fieldKey)) {\n            stack2.push(item);\n          } else {\n            stack3.push(item);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(_context = []).call(_context, stack1, stack2, stack3);\n    }),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useState, 2),\n    rules = _useState2[0],\n    setRules = _useState2[1];\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useState)(function () {\n      var _rules$;\n      if (rules.length) return (_rules$ = rules[0]) === null || _rules$ === void 0 ? void 0 : _rules$.ruleId;\n    }),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useState3, 2),\n    activeRule = _useState4[0],\n    setActiveRule = _useState4[1];\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data;\n  var rootId = dataContext.getRootId();\n  var compareTypesMap = getCompareTypes();\n  var curListFilterConfig = (0,_hooks_useListTreeConfigParser__WEBPACK_IMPORTED_MODULE_23__[\"default\"])({\n    api: curListTreeApi,\n    parser: function parser(data) {\n      return (0,_utils__WEBPACK_IMPORTED_MODULE_24__.listFilterParser)(data, data, compareTypesMap);\n    }\n  });\n  var curFormFieldTree = (0,_hooks_useListTreeConfigParser__WEBPACK_IMPORTED_MODULE_23__[\"default\"])({\n    api: curListTreeApi,\n    parser: function parser(data) {\n      return (0,_utils__WEBPACK_IMPORTED_MODULE_24__.listFilterParser)(data, data, compareTypesMap, 4);\n    }\n  });\n\n  // 新增一条规则\n  var handleAddRule = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useCallback)(function () {\n    var ruleCount = (rules === null || rules === void 0 ? void 0 : rules.length) || 0;\n    var ruleId = \"new_rule_\".concat((0,_utils__WEBPACK_IMPORTED_MODULE_24__.generateLongId)());\n    var newRule = _objectSpread({\n      ruleId: ruleId,\n      ruleName: '未命名规则',\n      depfldkeys: '',\n      affectfldkeys: ''\n    }, DEFAULT_RULE_INFO);\n    setRules(rules ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(rules).call(rules, newRule) : [newRule]);\n    setActiveRule(ruleId);\n  }, [rules]);\n  var getNextSelectRuleId = function getNextSelectRuleId(ruleId) {\n    var index = (rules === null || rules === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_14___default()(rules).call(rules, function (item) {\n      return item.ruleId === ruleId;\n    })) || 0;\n    // 删除角色，自动选中相邻角色\n    var nextSelectedId = activeRule;\n    if (activeRule === ruleId) {\n      var prevRule = index > 0 ? rules[index - 1] : undefined;\n      var nextRule = rules[index + 1];\n      if (prevRule) {\n        nextSelectedId = prevRule.ruleId;\n      } else if (nextRule) {\n        nextSelectedId = nextRule.ruleId;\n      }\n    }\n    return nextSelectedId;\n  };\n  var onDelete = function onDelete(ruleId) {\n    // if (typeof ruleId === 'string' && ruleId.includes('new_rule_')) {\n    //   const nextSelectedId = getNextSelectRuleId(ruleId)\n    //   setActiveRule(nextSelectedId)\n    //   setRules((arr: any[]) => arr?.filter((item: any) => item.ruleId !== ruleId))\n    // } else {\n    //   invokeAction('deleteBizRule', [{ ruleId }])\n    // }\n    var nextSelectedId = getNextSelectRuleId(ruleId);\n    setActiveRule(nextSelectedId);\n    setRules(function (arr) {\n      return arr === null || arr === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_15___default()(arr).call(arr, function (item) {\n        return item.ruleId !== ruleId;\n      });\n    });\n    deleteGlobalBizRules(ruleId);\n  };\n  var handleDeleteRule = function handleDeleteRule(e, ruleName, ruleId) {\n    e.stopPropagation();\n    nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__.WebMsg === null || nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__.WebMsg === void 0 || nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__.WebMsg.showConfirmModal({\n      title: \"\\u786E\\u5B9A\\u5220\\u9664\\u201C\".concat(ruleName, \"\\u201D\\u5417\\uFF1F\"),\n      type: 'delete',\n      onAction: function onAction(key) {\n        switch (key) {\n          case 'ok':\n            onDelete(ruleId);\n        }\n      }\n    });\n  };\n  var getRules = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useCallback)(function (data) {\n    setRules(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(data).call(data, transformRuleData));\n    if (data.length) {\n      setActiveRule(data[0].ruleId);\n    }\n  }, []);\n  var handleUpdateRule = function handleUpdateRule(ruleInfo) {\n    setRules(function (arr) {\n      return arr === null || arr === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(arr).call(arr, function (item) {\n        if (item.ruleId === activeRule) {\n          return _objectSpread(_objectSpread({}, item), ruleInfo);\n        }\n        return item;\n      });\n    });\n  };\n\n  // 删除规则时，更新下全局ref的数据，并刷新编辑器的显示\n  var deleteGlobalBizRules = function deleteGlobalBizRules(deleteId) {\n    var globalRules = getBizRules();\n    setBizRules(globalRules === null || globalRules === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_15___default()(globalRules).call(globalRules, function (item) {\n      return item.ruleId !== deleteId;\n    }));\n    refreshEditorDisplay();\n  };\n\n  // 更新规则时，更新下全局ref的数据，并刷新编辑器的显示\n  var updateGlobalBizRules = function updateGlobalBizRules(ruleInfo) {\n    var globalRules = getBizRules();\n    var updateRule = _objectSpread(_objectSpread({}, (globalRules === null || globalRules === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_16___default()(globalRules).call(globalRules, function (rule) {\n      return rule.ruleId === activeRule;\n    })) || {}), ruleInfo);\n    var _getAffectfldsOrDepfl2 = (0,_index__WEBPACK_IMPORTED_MODULE_27__.getAffectfldsOrDepflds)(updateRule),\n      affectfldkeys = _getAffectfldsOrDepfl2.affectfldkeys,\n      depfldkeys = _getAffectfldsOrDepfl2.depfldkeys;\n    if (activeRule !== null && activeRule !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(activeRule).call(activeRule, 'new_rule_')) {\n      var newRuleId = activeRule === null || activeRule === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(activeRule).call(activeRule, 9);\n      updateRule.ruleId = newRuleId;\n      handleUpdateRule({\n        ruleId: newRuleId,\n        affectfldkeys: affectfldkeys,\n        depfldkeys: depfldkeys\n      });\n      setActiveRule(newRuleId);\n    }\n    handleUpdateRule({\n      affectfldkeys: affectfldkeys,\n      depfldkeys: depfldkeys\n    });\n    var newRules = activeRule !== null && activeRule !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(activeRule).call(activeRule, 'new_rule_') ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(globalRules).call(globalRules, updateRule) : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(globalRules).call(globalRules, function (rule) {\n      if (rule.ruleId === activeRule) {\n        return updateRule;\n      }\n      return rule;\n    });\n    setBizRules(newRules);\n    refreshEditorDisplay();\n    nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__.WebMsg.showNotificationMsg({\n      param: [{\n        type: 0,\n        content: '保存成功。',\n        duration: 2000\n      }]\n    });\n  };\n  var refBillData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    return getRefBillData();\n  }, [getRefBillData]);\n\n  // useEffect(() => {\n  //   const cb = (args) => {\n  //     getRules(args)\n  //     refreshEditorDisplay()\n  //   }\n  //   eventBus.on(SET_BIZ_RULES, cb)\n  //   return () => {\n  //     eventBus.off(SET_BIZ_RULES, cb)\n  //   }\n  // }, [])\n\n  // useEffect(() => {\n  //   const execDelete = (deleteId: any) => {\n  //     const nextSelectedId = getNextSelectRuleId(deleteId)\n  //     setActiveRule(nextSelectedId)\n  //     setRules((arr: any[]) => arr?.filter((item: any) => item.ruleId !== deleteId))\n  //     deleteGlobalBizRules(deleteId)\n  //   }\n  //   eventBus.on(DELETE_BIZ_RULE, execDelete)\n  //   return () => {\n  //     eventBus.off(DELETE_BIZ_RULE, execDelete)\n  //   }\n  // }, [setRules, activeRule])\n\n  // useEffect(() => {\n  //   const updateRule = (ruleInfo: any) => {\n  //     handleUpdateRule(ruleInfo)\n  //     setActiveRule(ruleInfo.ruleId)\n  //     updateGlobalBizRules(ruleInfo)\n  //   }\n  //   eventBus.on(SET_RULE_INFO, updateRule)\n  //   return () => {\n  //     eventBus.off(SET_RULE_INFO, updateRule)\n  //   }\n  // }, [setRules, activeRule])\n\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useImperativeHandle)(ref, function () {\n    return {\n      getRules: function getRules() {\n        return rules === null || rules === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(rules).call(rules, function (item) {\n          var depfldkeys = item.depfldkeys === 'null' ? '' : item.depfldkeys;\n          var affectfldkeys = item.affectfldkeys === 'null' ? '' : item.affectfldkeys;\n          return _objectSpread(_objectSpread({}, item), {}, {\n            depfldkeys: depfldkeys,\n            affectfldkeys: affectfldkeys\n          });\n        });\n      }\n    };\n  }, [rules]);\n  var activeRuleInfo = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    var data = activeRule ? rules === null || rules === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_16___default()(rules).call(rules, function (item) {\n      return item.ruleId === activeRule;\n    }) : {};\n    return data;\n  }, [activeRule, rules]);\n  if (!rules) return null;\n  if (!rules.length) return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-main\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(RuleEmpty, {\n    handleAdd: handleAddRule\n  }));\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-main\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n    className: \"left-area\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n    className: \"rule-list\"\n  }, rules === null || rules === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(rules).call(rules, function (rule) {\n    var name = rule.ruleName,\n      id = rule.ruleId,\n      depfldkeys = rule.depfldkeys,\n      affectfldkeys = rule.affectfldkeys;\n    var hasUnExitField = false;\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n      className: classnames__WEBPACK_IMPORTED_MODULE_25___default()('rule-item', {\n        'is-active': activeRule === id\n      }),\n      key: id,\n      onClick: function onClick() {\n        return setActiveRule(id);\n      }\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n      className: \"rule-name\"\n    }, name, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Icon, {\n      prefix: \"ncicon\",\n      type: \"jingshi\",\n      className: classnames__WEBPACK_IMPORTED_MODULE_25___default()('warning-icon', {\n        'show': hasUnExitField\n      })\n    })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n      className: \"tags\"\n    }, _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(depfldkeys).call(depfldkeys, fieldKey) && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"span\", {\n      className: \"tag-item\"\n    }, \"\\u89E6\\u53D1\"), _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(affectfldkeys).call(affectfldkeys, fieldKey) && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"span\", {\n      className: \"tag-item\"\n    }, \"\\u53D7\\u5F71\\u54CD\\u7684\")), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n      className: \"delete-btn\",\n      onClick: function onClick(e) {\n        return handleDeleteRule(e, name, id);\n      }\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Icon, {\n      prefix: \"designericon\",\n      type: \"shanchu\"\n    })));\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n    className: \"add-rule\",\n    onClick: handleAddRule\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"span\", {\n    className: \"add-btn\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Icon, {\n    prefix: \"designericon\",\n    type: \"zengjia-yuan\"\n  }), \"\\u65B0\\u589E\\u89C4\\u5219\"))), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n    className: \"right-area\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_BillQuickFinderSetting__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n    value: activeRuleInfo,\n    refBillData: refBillData,\n    field: field,\n    ruleId: activeRule,\n    compareTypesMap: compareTypesMap,\n    formId: rootId,\n    listFilterConfig: curListFilterConfig,\n    curFormFieldTree: curFormFieldTree,\n    onChange: handleUpdateRule,\n    onSave: updateGlobalBizRules\n  })));\n});\nvar BillQuickFinderModal = function BillQuickFinderModal(_ref3) {\n  var prefixCls = _ref3.prefixCls,\n    title = _ref3.title,\n    visible = _ref3.visible,\n    setVisible = _ref3.setVisible,\n    field = _ref3.field,\n    listFilterConfig = _ref3.listFilterConfig,\n    refreshEditorDisplay = _ref3.refreshEditorDisplay;\n  var ref = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useRef)(null);\n\n  // 点击取消\n  var handleCancel = function handleCancel() {\n    setVisible(false);\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Modal, {\n    mask: true,\n    visible: visible,\n    body: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(ModalBody, {\n      ref: ref,\n      prefixCls: prefixCls,\n      field: field,\n      listFilterConfig: listFilterConfig,\n      refreshEditorDisplay: refreshEditorDisplay\n    }),\n    titleIcon: null,\n    className: \"\".concat(prefixCls, \"-modal\"),\n    footer: null,\n    maskClosable: false,\n    width: 960,\n    height: 644,\n    keyboard: false,\n    title: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"span\", {\n      title: title\n    }, title),\n    closable: true,\n    draggable: false,\n    destroyOnClose: true,\n    onCancel: handleCancel,\n    onOk: handleCancel\n  });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (BillQuickFinderModal);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQ5MjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtCQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQU1BO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBRkE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBbEJBO0FBQUE7QUFtQkE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUZBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBRUE7QUFRQTtBQU5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9CaXpSdWxlcy9CaWxsUXVpY2tGaW5kZXJNb2RhbC50c3g/MDFlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgRkMsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZUNvbnRleHQsIGZvcndhcmRSZWYsIHVzZUltcGVyYXRpdmVIYW5kbGUgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgTW9kYWwsIEljb24sIEJ1dHRvbiB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcclxuaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXHJcbmltcG9ydCB7IFNFVF9CSVpfUlVMRVMsIFNFVF9SVUxFX0lORk8sIERFTEVURV9CSVpfUlVMRSB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9hY3Rpb25OYW1lJ1xyXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0J1xyXG5pbXBvcnQgeyBXZWJNc2cgfSBmcm9tICdub2NvZGVfY29tcG9uZW50L1dlYlVJJ1xyXG5pbXBvcnQgQmlsbFF1aWNrRmluZGVyU2V0dGluZyBmcm9tICcuL0JpbGxRdWlja0ZpbmRlclNldHRpbmcnXHJcbmltcG9ydCBFbXB0eUltZyBmcm9tICcuLi8uLi8uLi9hc3NldHMvaW1hZ2VzL2VtcHR5LnBuZydcclxuaW1wb3J0IHVzZVF1ZXJ5RXZlbnREYXRhIGZyb20gJy4uLy4uL2hvb2tzL3VzZVF1ZXJ5RXZlbnREYXRhJ1xyXG5pbXBvcnQgdXNlTGlzdFRyZWVDb25maWdQYXJzZXIgZnJvbSAnLi4vLi4vaG9va3MvdXNlTGlzdFRyZWVDb25maWdQYXJzZXInXHJcbmltcG9ydCB7IGxpc3RGaWx0ZXJQYXJzZXIgfSBmcm9tICcuLi8uLi91dGlscydcclxuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcydcclxuaW1wb3J0IHsgaXNKc29uLCBnZW5lcmF0ZUxvbmdJZCB9IGZyb20gJy4uLy4uL3V0aWxzJ1xyXG5pbXBvcnQgeyB1cHBlckZpcnN0IH0gZnJvbSAnbG9kYXNoJ1xyXG5pbXBvcnQgeyBnZXRBZmZlY3RmbGRzT3JEZXBmbGRzIH0gZnJvbSAnLi9pbmRleCdcclxuXHJcbmludGVyZmFjZSBCaWxsUXVpY2tGaW5kZXJNb2RhbFByb3BzIHtcclxuICBwcmVmaXhDbHM6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIHZpc2libGU6IGJvb2xlYW47XHJcbiAgc2V0VmlzaWJsZTogKHZpOiBib29sZWFuKSA9PiB2b2lkO1xyXG4gIGZpZWxkOiBhbnk7XHJcbiAgbGlzdEZpbHRlckNvbmZpZzogYW55W107XHJcbiAgcmVmcmVzaEVkaXRvckRpc3BsYXk6ICgpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmludGVyZmFjZSBNb2RhbEJvZHlQcm9wcyB7XHJcbiAgcHJlZml4Q2xzOiBzdHJpbmc7XHJcbiAgZmllbGQ6IGFueTtcclxuICByZWZyZXNoRWRpdG9yRGlzcGxheTogKCkgPT4gdm9pZDtcclxufVxyXG5cclxuY29uc3QgUnVsZUVtcHR5OiBGQzxhbnk+ID0gKHtcclxuICBoYW5kbGVBZGRcclxufSkgPT4ge1xyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT0ncnVsZS1lbXB0eSc+XHJcbiAgICAgIDxpbWcgc3JjPXtFbXB0eUltZ30gYWx0PSfmmoLml6DljaHniYcnIHdpZHRoPXsyMjR9IGhlaWdodD17MTI4fSAvPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZW1wdHktdGV4dCc+5pqC5peg6KeE5YiZ77yM54K55Ye75LiL5pa55oyJ6ZKu5re75YqgPC9kaXY+XHJcbiAgICAgIDxCdXR0b25cclxuICAgICAgICB0eXBlPSdwcmltYXJ5J1xyXG4gICAgICAgIGljb249ezxJY29uIHByZWZpeD0nbm9jb2RlcGxhdGZvcm1pY29uJyB0eXBlPSd6ZW5namlhLXl1YW4nIC8+fVxyXG4gICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZH1cclxuICAgICAgPlxyXG4gICAgICAgIOa3u+WKoOinhOWImVxyXG4gICAgICA8L0J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG4gIClcclxufVxyXG5cclxuY29uc3QgREVGQVVMVF9SVUxFX0lORk8gPSB7XHJcbiAgdmFsdWVUeXBlOiAyLCAvLyAyLT7pgJrov4fnrZvpgInmnaHku7bvvIwzLT7pgJrov4flhbPogZTooajljZVcclxuICByZWxhdGlvbkZvcm1JZDogJycsXHJcbiAgcmVsYXRpb25GaWVsZElkOiAnJyxcclxuICBmaWx0ZXJJbmZvczogW10sIC8vIFt7IGZpZWxkTmFtZTogXCJkZWZcIiwgY29tcGFyZVR5cGU6IFwiPVwiLCB2YWx1ZTogW1wiNDU2XCJdIH1dXHJcbiAgc29ydEluZm9zOiBbXSwgLy8gW3sgbnVtYmVyOiAnbnVtYmVyJywgbmFtZTogXCJhYmNcIiwgaXNBc2M6IHRydWUgfV1cclxuICB2YWx1ZVR5cGUyUmVzdWx0OiBbXSwgLy8g6YCa6L+H562b6YCJ5p2h5Lu277yM5aGr5YWF57uT5p6c77yM5qC85byPW3sgc291cmNlRmllbGQ6IFwiZmllbGQxXCIsIHRhcmdldEZpZWxkOiBcImZpZWxkMlwiIH1dXHJcbiAgdmFsdWVUeXBlM1Jlc3VsdDogW10sIC8vIOmAmui/h+WFs+iBlOihqOWNle+8jOWhq+WFhee7k+aenO+8jOagvOW8j1t7IHNvdXJjZUZpZWxkOiBcImZpZWxkMVwiLCB0YXJnZXRGaWVsZDogXCJmaWVsZDJcIiB9XVxyXG4gIHZhbHVlVHlwZTNGaWx0ZXJJbmZvczogW10sIC8vIDMtPumAmui/h+WFs+iBlOihqOWNle+8jOetm+mAieadoeS7tlxyXG4gIHZhbHVlVHlwZTNTb3J0SW5mb3M6IFtdLCAvLyAzLT7pgJrov4flhbPogZTooajljZXvvIzmjpLluo/mnaHku7ZcclxuICB2YWx1ZVR5cGUyTXVsdGk6ICcwJywgLy8gMi0+6YCa6L+H562b6YCJ5p2h5Lu2IOOAkOafpeaJvuaVsOmHj+OAkVxyXG4gIHZhbHVlVHlwZTNNdWx0aTogJzAnLCAvLyAzLT7pgJrov4flhbPogZTooajljZUg44CQ5p+l5om+5pWw6YeP44CRXHJcbiAgdmFsdWVUeXBlMlRvcDogJzEwMCcsIC8vIDItPumAmui/h+etm+mAieadoeS7tiDjgJDmlbDph4/kuIrpmZDjgJFcclxuICB2YWx1ZVR5cGUzVG9wOiAnMTAwJywgLy8gMy0+6YCa6L+H5YWz6IGU6KGo5Y2VIOOAkOaVsOmHj+S4iumZkOOAkVxyXG59XHJcblxyXG4vLyDovazmjaLop4TliJnvvIzmi43lubPmiJBmb3JtRGF0YeeahOagvOW8j1xyXG5jb25zdCB0cmFuc2Zvcm1SdWxlRGF0YSA9IChpdGVtOiBhbnkpID0+IHtcclxuICBjb25zdCB7IHJ1bGVJbmZvOiBydWxlSW5mb0pzb24sIHJ1bGVJZCAgfSA9IGl0ZW1cclxuICBjb25zdCBydWxlSW5mbyA9IHJ1bGVJbmZvSnNvbiAmJiBpc0pzb24ocnVsZUluZm9Kc29uKSA/IEpTT04ucGFyc2UocnVsZUluZm9Kc29uKSA6IHt9XHJcbiAgY29uc3QgeyBydWxlTmFtZSwgdmFsdWVUeXBlLCB2YWx1ZSA9IHt9IH0gPSBydWxlSW5mb1xyXG4gIGNvbnN0IHsgYWZmZWN0Zmxka2V5cywgZGVwZmxka2V5cyB9ID0gZ2V0QWZmZWN0Zmxkc09yRGVwZmxkcyhpdGVtKVxyXG4gIGxldCByZXMgPSB7XHJcbiAgICAuLi5ERUZBVUxUX1JVTEVfSU5GTyxcclxuICAgIGFmZmVjdGZsZGtleXMsXHJcbiAgICBkZXBmbGRrZXlzLFxyXG4gICAgcnVsZUlkLFxyXG4gICAgcnVsZU5hbWUsXHJcbiAgICB2YWx1ZVR5cGVcclxuICB9XHJcbiAgaWYgKHZhbHVlVHlwZSA9PT0gMikge1xyXG4gICAgY29uc3QgeyBmaWx0ZXJJbmZvcyA9IFtdLCBzb3J0SW5mb3MgPSBbXSwgcmVzdWx0ID0gW10sIHJlbGF0aW9uRm9ybUlkID0gJycsIG11bHRpLCB0b3AgfSA9IHZhbHVlXHJcbiAgICBPYmplY3QuYXNzaWduKHJlcywge1xyXG4gICAgICBmaWx0ZXJJbmZvcyxcclxuICAgICAgc29ydEluZm9zLFxyXG4gICAgICB2YWx1ZVR5cGUyTXVsdGk6IG11bHRpLFxyXG4gICAgICB2YWx1ZVR5cGUyUmVzdWx0OiByZXN1bHQsXHJcbiAgICAgIHJlbGF0aW9uRm9ybUlkXHJcbiAgICB9KVxyXG4gICAgaWYgKHRvcCkge1xyXG4gICAgICBPYmplY3QuYXNzaWduKHJlcywge1xyXG4gICAgICAgIHZhbHVlVHlwZTJUb3A6IHRvcFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAzKSB7XHJcbiAgICBjb25zdCB7IHJlc3VsdCA9IFtdLCByZWxhdGlvbkZvcm1JZCA9ICcnIH0gPSB2YWx1ZVxyXG4gICAgY29uc3QgcHJvcGVydHlzID0gWydmaWx0ZXJJbmZvcycsICdzb3J0SW5mb3MnLCAnbXVsdGknLCAndG9wJ11cclxuICAgIE9iamVjdC5hc3NpZ24ocmVzLCB7XHJcbiAgICAgIHZhbHVlVHlwZTNSZXN1bHQ6IHJlc3VsdCxcclxuICAgICAgcmVsYXRpb25GaWVsZElkOiByZWxhdGlvbkZvcm1JZFxyXG4gICAgfSlcclxuICAgIHByb3BlcnR5cy5mb3JFYWNoKChrOiBzdHJpbmcpID0+IHtcclxuICAgICAgY29uc3QgdiA9IHZhbHVlW2tdXHJcbiAgICAgIGlmICh2KSB7XHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbihyZXMsIHtcclxuICAgICAgICAgIFtgdmFsdWVUeXBlMyR7dXBwZXJGaXJzdChrKX1gXTogdlxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG4gIHJldHVybiByZXNcclxufVxyXG5cclxuY29uc3QgTW9kYWxCb2R5OiBGQzxNb2RhbEJvZHlQcm9wcz4gPSBmb3J3YXJkUmVmKCh7XHJcbiAgcHJlZml4Q2xzLFxyXG4gIGZpZWxkLFxyXG4gIHJlZnJlc2hFZGl0b3JEaXNwbGF5XHJcbn0sIHJlZikgPT4ge1xyXG4gIGNvbnN0IHsgaW52b2tlQWN0aW9uLCBnZXRLZGVzaWduZXJBcGksIGdldFJlZkJpbGxEYXRhLCBnZXRDb21wYXJlVHlwZXMsIGdldEJpelJ1bGVzLCBzZXRCaXpSdWxlcywgY3VyTGlzdFRyZWVBcGkgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxyXG4gIGNvbnN0IHsgS2V5OiBmaWVsZEtleSB9ID0gZmllbGRcclxuICBjb25zdCBbcnVsZXMsIHNldFJ1bGVzXSA9IHVzZVN0YXRlPGFueVtdIHwgbnVsbD4oKCkgPT4ge1xyXG4gICAgY29uc3QgZGF0YSA9IGdldEJpelJ1bGVzKClcclxuICAgIGNvbnN0IHJlc3VsdCA9IGRhdGEubWFwKHRyYW5zZm9ybVJ1bGVEYXRhKVxyXG4gICAgaWYgKHJlc3VsdD8ubGVuZ3RoIDw9IDEpIHJldHVybiByZXN1bHRcclxuICAgIGNvbnN0IHN0YWNrMSA9IFtdXHJcbiAgICBjb25zdCBzdGFjazIgPSBbXVxyXG4gICAgY29uc3Qgc3RhY2szID0gW11cclxuICAgIGZvciAoY29uc3QgaXRlbSBvZiByZXN1bHQpIHtcclxuICAgICAgY29uc3QgeyBkZXBmbGRrZXlzLCBhZmZlY3RmbGRrZXlzIH0gPSBpdGVtXHJcbiAgICAgIGlmIChkZXBmbGRrZXlzLmluY2x1ZGVzKGZpZWxkS2V5KSAmJiBhZmZlY3RmbGRrZXlzLmluY2x1ZGVzKGZpZWxkS2V5KSkge1xyXG4gICAgICAgIHN0YWNrMS5wdXNoKGl0ZW0pXHJcbiAgICAgIH0gZWxzZSBpZiAoZGVwZmxka2V5cy5pbmNsdWRlcyhmaWVsZEtleSkgfHwgYWZmZWN0Zmxka2V5cy5pbmNsdWRlcyhmaWVsZEtleSkpIHtcclxuICAgICAgICBzdGFjazIucHVzaChpdGVtKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN0YWNrMy5wdXNoKGl0ZW0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBbLi4uc3RhY2sxLCAuLi5zdGFjazIsIC4uLnN0YWNrM11cclxuICB9KVxyXG4gIGNvbnN0IFthY3RpdmVSdWxlLCBzZXRBY3RpdmVSdWxlXSA9IHVzZVN0YXRlPHVuZGVmaW5lZCB8IHN0cmluZz4oKCkgPT4ge1xyXG4gICAgaWYgKHJ1bGVzLmxlbmd0aCkgcmV0dXJuIHJ1bGVzWzBdPy5ydWxlSWRcclxuICB9KVxyXG4gIGNvbnN0IHsgZGF0YTogZGF0YUNvbnRleHQgfSA9IGdldEtkZXNpZ25lckFwaSgpXHJcbiAgY29uc3Qgcm9vdElkID0gZGF0YUNvbnRleHQuZ2V0Um9vdElkKClcclxuICBjb25zdCBjb21wYXJlVHlwZXNNYXA6IGFueSA9IGdldENvbXBhcmVUeXBlcygpXHJcblxyXG4gIGNvbnN0IGN1ckxpc3RGaWx0ZXJDb25maWcgPSB1c2VMaXN0VHJlZUNvbmZpZ1BhcnNlcih7XHJcbiAgICBhcGk6IGN1ckxpc3RUcmVlQXBpLFxyXG4gICAgcGFyc2VyOiAoZGF0YSkgPT4gbGlzdEZpbHRlclBhcnNlcihkYXRhLCBkYXRhLCBjb21wYXJlVHlwZXNNYXApXHJcbiAgfSlcclxuXHJcbiAgY29uc3QgY3VyRm9ybUZpZWxkVHJlZSA9dXNlTGlzdFRyZWVDb25maWdQYXJzZXIoe1xyXG4gICAgYXBpOiBjdXJMaXN0VHJlZUFwaSxcclxuICAgIHBhcnNlcjogKGRhdGEpID0+IGxpc3RGaWx0ZXJQYXJzZXIoZGF0YSwgZGF0YSwgY29tcGFyZVR5cGVzTWFwLCA0KVxyXG4gIH0pXHJcblxyXG4gIC8vIOaWsOWinuS4gOadoeinhOWImVxyXG4gIGNvbnN0IGhhbmRsZUFkZFJ1bGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBjb25zdCBydWxlQ291bnQgPSBydWxlcz8ubGVuZ3RoIHx8IDBcclxuICAgIGNvbnN0IHJ1bGVJZCA9IGBuZXdfcnVsZV8ke2dlbmVyYXRlTG9uZ0lkKCl9YFxyXG4gICAgY29uc3QgbmV3UnVsZSA9IHtcclxuICAgICAgcnVsZUlkLFxyXG4gICAgICBydWxlTmFtZTogJ+acquWRveWQjeinhOWImScsXHJcbiAgICAgIGRlcGZsZGtleXM6ICcnLFxyXG4gICAgICBhZmZlY3RmbGRrZXlzOiAnJyxcclxuICAgICAgLi4uREVGQVVMVF9SVUxFX0lORk9cclxuICAgIH1cclxuICAgIHNldFJ1bGVzKHJ1bGVzID8gcnVsZXMuY29uY2F0KG5ld1J1bGUpIDogW25ld1J1bGVdKVxyXG4gICAgc2V0QWN0aXZlUnVsZShydWxlSWQpXHJcbiAgfSwgW3J1bGVzXSlcclxuXHJcbiAgY29uc3QgZ2V0TmV4dFNlbGVjdFJ1bGVJZCA9IChydWxlSWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcbiAgICBjb25zdCBpbmRleCA9IHJ1bGVzPy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnJ1bGVJZCA9PT0gcnVsZUlkKSB8fCAwXHJcbiAgICAvLyDliKDpmaTop5LoibLvvIzoh6rliqjpgInkuK3nm7jpgrvop5LoibJcclxuICAgIGxldCBuZXh0U2VsZWN0ZWRJZCA9IGFjdGl2ZVJ1bGUgYXMgc3RyaW5nXHJcbiAgICBpZiAoYWN0aXZlUnVsZSA9PT0gcnVsZUlkKSB7XHJcbiAgICAgIGNvbnN0IHByZXZSdWxlID0gaW5kZXggPiAwID8gcnVsZXNbaW5kZXggLSAxXSA6IHVuZGVmaW5lZFxyXG4gICAgICBjb25zdCBuZXh0UnVsZSA9IHJ1bGVzW2luZGV4ICsgMV1cclxuICAgICAgaWYgKHByZXZSdWxlKSB7XHJcbiAgICAgICAgbmV4dFNlbGVjdGVkSWQgPSBwcmV2UnVsZS5ydWxlSWRcclxuICAgICAgfSBlbHNlIGlmIChuZXh0UnVsZSkge1xyXG4gICAgICAgIG5leHRTZWxlY3RlZElkID0gbmV4dFJ1bGUucnVsZUlkXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZXh0U2VsZWN0ZWRJZFxyXG4gIH1cclxuXHJcbiAgY29uc3Qgb25EZWxldGUgPSAocnVsZUlkOiBzdHJpbmcpID0+IHtcclxuICAgIC8vIGlmICh0eXBlb2YgcnVsZUlkID09PSAnc3RyaW5nJyAmJiBydWxlSWQuaW5jbHVkZXMoJ25ld19ydWxlXycpKSB7XHJcbiAgICAvLyAgIGNvbnN0IG5leHRTZWxlY3RlZElkID0gZ2V0TmV4dFNlbGVjdFJ1bGVJZChydWxlSWQpXHJcbiAgICAvLyAgIHNldEFjdGl2ZVJ1bGUobmV4dFNlbGVjdGVkSWQpXHJcbiAgICAvLyAgIHNldFJ1bGVzKChhcnI6IGFueVtdKSA9PiBhcnI/LmZpbHRlcigoaXRlbTogYW55KSA9PiBpdGVtLnJ1bGVJZCAhPT0gcnVsZUlkKSlcclxuICAgIC8vIH0gZWxzZSB7XHJcbiAgICAvLyAgIGludm9rZUFjdGlvbignZGVsZXRlQml6UnVsZScsIFt7IHJ1bGVJZCB9XSlcclxuICAgIC8vIH1cclxuICAgIGNvbnN0IG5leHRTZWxlY3RlZElkID0gZ2V0TmV4dFNlbGVjdFJ1bGVJZChydWxlSWQpXHJcbiAgICBzZXRBY3RpdmVSdWxlKG5leHRTZWxlY3RlZElkKVxyXG4gICAgc2V0UnVsZXMoKGFycjogYW55W10pID0+IGFycj8uZmlsdGVyKChpdGVtOiBhbnkpID0+IGl0ZW0ucnVsZUlkICE9PSBydWxlSWQpKVxyXG4gICAgZGVsZXRlR2xvYmFsQml6UnVsZXMocnVsZUlkKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgaGFuZGxlRGVsZXRlUnVsZSA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50LHJ1bGVOYW1lOiBzdHJpbmcsIHJ1bGVJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICBXZWJNc2c/LnNob3dDb25maXJtTW9kYWwoe1xyXG4gICAgICB0aXRsZTogYOehruWumuWIoOmZpOKAnCR7cnVsZU5hbWV94oCd5ZCX77yfYCxcclxuICAgICAgdHlwZTogJ2RlbGV0ZScsXHJcbiAgICAgIG9uQWN0aW9uOiAoa2V5OiBzdHJpbmcpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgY2FzZSAnb2snOlxyXG4gICAgICAgICAgICBvbkRlbGV0ZShydWxlSWQpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgY29uc3QgZ2V0UnVsZXMgPSB1c2VDYWxsYmFjaygoZGF0YTogYW55W10pID0+IHtcclxuICAgIHNldFJ1bGVzKGRhdGEubWFwKHRyYW5zZm9ybVJ1bGVEYXRhKSlcclxuICAgIGlmIChkYXRhLmxlbmd0aCkge1xyXG4gICAgICBzZXRBY3RpdmVSdWxlKGRhdGFbMF0ucnVsZUlkKVxyXG4gICAgfVxyXG4gIH0sIFtdKVxyXG5cclxuICBjb25zdCBoYW5kbGVVcGRhdGVSdWxlID0gKHJ1bGVJbmZvOiBhbnkpID0+IHtcclxuICAgIHNldFJ1bGVzKChhcnI6IGFueVtdKSA9PiBhcnI/Lm1hcCgoaXRlbTogYW55KSA9PiB7XHJcbiAgICAgIGlmIChpdGVtLnJ1bGVJZCA9PT0gYWN0aXZlUnVsZSkge1xyXG4gICAgICAgIHJldHVybiB7IC4uLml0ZW0sIC4uLnJ1bGVJbmZvIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gaXRlbVxyXG4gICAgfSkpXHJcbiAgfVxyXG5cclxuICAvLyDliKDpmaTop4TliJnml7bvvIzmm7TmlrDkuIvlhajlsYByZWbnmoTmlbDmja7vvIzlubbliLfmlrDnvJbovpHlmajnmoTmmL7npLpcclxuICBjb25zdCBkZWxldGVHbG9iYWxCaXpSdWxlcyA9IChkZWxldGVJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCBnbG9iYWxSdWxlcyA9IGdldEJpelJ1bGVzKClcclxuICAgIHNldEJpelJ1bGVzKGdsb2JhbFJ1bGVzPy5maWx0ZXIoKGl0ZW06IGFueSkgPT4gaXRlbS5ydWxlSWQgIT09IGRlbGV0ZUlkKSlcclxuICAgIHJlZnJlc2hFZGl0b3JEaXNwbGF5KClcclxuICB9XHJcblxyXG4gIC8vIOabtOaWsOinhOWImeaXtu+8jOabtOaWsOS4i+WFqOWxgHJlZueahOaVsOaNru+8jOW5tuWIt+aWsOe8lui+keWZqOeahOaYvuekulxyXG4gIGNvbnN0IHVwZGF0ZUdsb2JhbEJpelJ1bGVzID0gKHJ1bGVJbmZvOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IGdsb2JhbFJ1bGVzID0gZ2V0Qml6UnVsZXMoKVxyXG4gICAgY29uc3QgdXBkYXRlUnVsZSA9IHsgLi4uKGdsb2JhbFJ1bGVzPy5maW5kKHJ1bGUgPT4gcnVsZS5ydWxlSWQgPT09IGFjdGl2ZVJ1bGUpIHx8IHt9KSwgLi4ucnVsZUluZm8gfVxyXG4gICAgY29uc3QgeyBhZmZlY3RmbGRrZXlzLCBkZXBmbGRrZXlzIH0gPSBnZXRBZmZlY3RmbGRzT3JEZXBmbGRzKHVwZGF0ZVJ1bGUpXHJcbiAgICBpZiAoYWN0aXZlUnVsZT8uaW5jbHVkZXMoJ25ld19ydWxlXycpKSB7XHJcbiAgICAgIGNvbnN0IG5ld1J1bGVJZCA9IGFjdGl2ZVJ1bGU/LnNsaWNlKDkpXHJcbiAgICAgIHVwZGF0ZVJ1bGUucnVsZUlkID0gbmV3UnVsZUlkXHJcbiAgICAgIGhhbmRsZVVwZGF0ZVJ1bGUoeyBydWxlSWQ6IG5ld1J1bGVJZCwgYWZmZWN0Zmxka2V5cywgZGVwZmxka2V5cyB9KVxyXG4gICAgICBzZXRBY3RpdmVSdWxlKG5ld1J1bGVJZClcclxuICAgIH1cclxuICAgIGhhbmRsZVVwZGF0ZVJ1bGUoeyBhZmZlY3RmbGRrZXlzLCBkZXBmbGRrZXlzIH0pXHJcbiAgICBjb25zdCBuZXdSdWxlcyA9IGFjdGl2ZVJ1bGU/LmluY2x1ZGVzKCduZXdfcnVsZV8nKSA/IGdsb2JhbFJ1bGVzLmNvbmNhdCh1cGRhdGVSdWxlKSA6IGdsb2JhbFJ1bGVzLm1hcCgocnVsZTogYW55KSA9PiB7XHJcbiAgICAgIGlmIChydWxlLnJ1bGVJZCA9PT0gYWN0aXZlUnVsZSkge1xyXG4gICAgICAgIHJldHVybiB1cGRhdGVSdWxlXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJ1bGVcclxuICAgIH0pXHJcbiAgICBzZXRCaXpSdWxlcyhuZXdSdWxlcylcclxuICAgIHJlZnJlc2hFZGl0b3JEaXNwbGF5KClcclxuICAgIFdlYk1zZy5zaG93Tm90aWZpY2F0aW9uTXNnKHsgcGFyYW06IFt7IHR5cGU6IDAsIGNvbnRlbnQ6ICfkv53lrZjmiJDlip/jgIInLCBkdXJhdGlvbjogMjAwMCB9XSB9KVxyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVmQmlsbERhdGEgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIHJldHVybiBnZXRSZWZCaWxsRGF0YSgpXHJcbiAgfSwgW2dldFJlZkJpbGxEYXRhXSlcclxuXHJcbiAgLy8gdXNlRWZmZWN0KCgpID0+IHtcclxuICAvLyAgIGNvbnN0IGNiID0gKGFyZ3MpID0+IHtcclxuICAvLyAgICAgZ2V0UnVsZXMoYXJncylcclxuICAvLyAgICAgcmVmcmVzaEVkaXRvckRpc3BsYXkoKVxyXG4gIC8vICAgfVxyXG4gIC8vICAgZXZlbnRCdXMub24oU0VUX0JJWl9SVUxFUywgY2IpXHJcbiAgLy8gICByZXR1cm4gKCkgPT4ge1xyXG4gIC8vICAgICBldmVudEJ1cy5vZmYoU0VUX0JJWl9SVUxFUywgY2IpXHJcbiAgLy8gICB9XHJcbiAgLy8gfSwgW10pXHJcblxyXG4gIC8vIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgLy8gICBjb25zdCBleGVjRGVsZXRlID0gKGRlbGV0ZUlkOiBhbnkpID0+IHtcclxuICAvLyAgICAgY29uc3QgbmV4dFNlbGVjdGVkSWQgPSBnZXROZXh0U2VsZWN0UnVsZUlkKGRlbGV0ZUlkKVxyXG4gIC8vICAgICBzZXRBY3RpdmVSdWxlKG5leHRTZWxlY3RlZElkKVxyXG4gIC8vICAgICBzZXRSdWxlcygoYXJyOiBhbnlbXSkgPT4gYXJyPy5maWx0ZXIoKGl0ZW06IGFueSkgPT4gaXRlbS5ydWxlSWQgIT09IGRlbGV0ZUlkKSlcclxuICAvLyAgICAgZGVsZXRlR2xvYmFsQml6UnVsZXMoZGVsZXRlSWQpXHJcbiAgLy8gICB9XHJcbiAgLy8gICBldmVudEJ1cy5vbihERUxFVEVfQklaX1JVTEUsIGV4ZWNEZWxldGUpXHJcbiAgLy8gICByZXR1cm4gKCkgPT4ge1xyXG4gIC8vICAgICBldmVudEJ1cy5vZmYoREVMRVRFX0JJWl9SVUxFLCBleGVjRGVsZXRlKVxyXG4gIC8vICAgfVxyXG4gIC8vIH0sIFtzZXRSdWxlcywgYWN0aXZlUnVsZV0pXHJcblxyXG4gIC8vIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgLy8gICBjb25zdCB1cGRhdGVSdWxlID0gKHJ1bGVJbmZvOiBhbnkpID0+IHtcclxuICAvLyAgICAgaGFuZGxlVXBkYXRlUnVsZShydWxlSW5mbylcclxuICAvLyAgICAgc2V0QWN0aXZlUnVsZShydWxlSW5mby5ydWxlSWQpXHJcbiAgLy8gICAgIHVwZGF0ZUdsb2JhbEJpelJ1bGVzKHJ1bGVJbmZvKVxyXG4gIC8vICAgfVxyXG4gIC8vICAgZXZlbnRCdXMub24oU0VUX1JVTEVfSU5GTywgdXBkYXRlUnVsZSlcclxuICAvLyAgIHJldHVybiAoKSA9PiB7XHJcbiAgLy8gICAgIGV2ZW50QnVzLm9mZihTRVRfUlVMRV9JTkZPLCB1cGRhdGVSdWxlKVxyXG4gIC8vICAgfVxyXG4gIC8vIH0sIFtzZXRSdWxlcywgYWN0aXZlUnVsZV0pXHJcblxyXG4gIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBnZXRSdWxlcygpIHtcclxuICAgICAgICByZXR1cm4gcnVsZXM/Lm1hcChpdGVtID0+IHtcclxuICAgICAgICAgIGNvbnN0IGRlcGZsZGtleXMgPSBpdGVtLmRlcGZsZGtleXMgPT09ICdudWxsJyA/ICcnIDogaXRlbS5kZXBmbGRrZXlzXHJcbiAgICAgICAgICBjb25zdCBhZmZlY3RmbGRrZXlzID0gaXRlbS5hZmZlY3RmbGRrZXlzID09PSAnbnVsbCcgPyAnJyA6IGl0ZW0uYWZmZWN0Zmxka2V5c1xyXG4gICAgICAgICAgcmV0dXJuIHsgLi4uaXRlbSwgZGVwZmxka2V5cywgYWZmZWN0Zmxka2V5cyB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIFtydWxlc10pXHJcblxyXG4gIGNvbnN0IGFjdGl2ZVJ1bGVJbmZvID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBjb25zdCBkYXRhID0gYWN0aXZlUnVsZSA/IHJ1bGVzPy5maW5kKGl0ZW0gPT4gaXRlbS5ydWxlSWQgPT09IGFjdGl2ZVJ1bGUpIDoge31cclxuICAgIHJldHVybiBkYXRhXHJcbiAgfSwgW2FjdGl2ZVJ1bGUsIHJ1bGVzXSlcclxuXHJcbiAgaWYgKCFydWxlcykgcmV0dXJuIG51bGxcclxuICBpZiAoIXJ1bGVzLmxlbmd0aCkgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LW1haW5gfT5cclxuICAgICAgPFJ1bGVFbXB0eSBoYW5kbGVBZGQ9e2hhbmRsZUFkZFJ1bGV9IC8+XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LW1haW5gfT5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9J2xlZnQtYXJlYSc+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncnVsZS1saXN0Jz5cclxuICAgICAgICAgICAge3J1bGVzPy5tYXAocnVsZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgeyBydWxlTmFtZTogbmFtZSwgcnVsZUlkOiBpZCwgZGVwZmxka2V5cywgYWZmZWN0Zmxka2V5cyB9ID0gcnVsZVxyXG4gICAgICAgICAgICAgIGNvbnN0IGhhc1VuRXhpdEZpZWxkID0gZmFsc2VcclxuICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3J1bGUtaXRlbScsIHsgJ2lzLWFjdGl2ZSc6IGFjdGl2ZVJ1bGUgPT09IGlkIH0pfSBrZXk9e2lkfSBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVSdWxlKGlkKX0+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdydWxlLW5hbWUnPntuYW1lfTxJY29uIHByZWZpeD0nbmNpY29uJyB0eXBlPSdqaW5nc2hpJyBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3dhcm5pbmctaWNvbicsIHsgJ3Nob3cnOiBoYXNVbkV4aXRGaWVsZCB9KX0vPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGFncyc+XHJcbiAgICAgICAgICAgICAgICAgICAge2RlcGZsZGtleXMuaW5jbHVkZXMoZmllbGRLZXkpICYmIDxzcGFuIGNsYXNzTmFtZT0ndGFnLWl0ZW0nPuinpuWPkTwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgICAgICAge2FmZmVjdGZsZGtleXMuaW5jbHVkZXMoZmllbGRLZXkpICYmIDxzcGFuIGNsYXNzTmFtZT0ndGFnLWl0ZW0nPuWPl+W9seWTjeeahDwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZGVsZXRlLWJ0bicgb25DbGljaz17KGUpID0+IGhhbmRsZURlbGV0ZVJ1bGUoZSwgbmFtZSwgaWQpfT5cclxuICAgICAgICAgICAgICAgICAgICA8SWNvbiBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nc2hhbmNodScgLz5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYWRkLXJ1bGUnIG9uQ2xpY2s9e2hhbmRsZUFkZFJ1bGV9PlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2FkZC1idG4nPjxJY29uIHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPSd6ZW5namlhLXl1YW4nIC8+5paw5aKe6KeE5YiZPC9zcGFuPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3JpZ2h0LWFyZWEnPlxyXG4gICAgICAgICAgPEJpbGxRdWlja0ZpbmRlclNldHRpbmdcclxuICAgICAgICAgICAgdmFsdWU9e2FjdGl2ZVJ1bGVJbmZvfVxyXG4gICAgICAgICAgICByZWZCaWxsRGF0YT17cmVmQmlsbERhdGF9XHJcbiAgICAgICAgICAgIGZpZWxkPXtmaWVsZH1cclxuICAgICAgICAgICAgcnVsZUlkPXthY3RpdmVSdWxlfVxyXG4gICAgICAgICAgICBjb21wYXJlVHlwZXNNYXA9e2NvbXBhcmVUeXBlc01hcH1cclxuICAgICAgICAgICAgZm9ybUlkPXtyb290SWR9XHJcbiAgICAgICAgICAgIGxpc3RGaWx0ZXJDb25maWc9e2N1ckxpc3RGaWx0ZXJDb25maWd9XHJcbiAgICAgICAgICAgIGN1ckZvcm1GaWVsZFRyZWU9e2N1ckZvcm1GaWVsZFRyZWV9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVVcGRhdGVSdWxlfVxyXG4gICAgICAgICAgICBvblNhdmU9e3VwZGF0ZUdsb2JhbEJpelJ1bGVzfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIClcclxufSlcclxuXHJcbmNvbnN0IEJpbGxRdWlja0ZpbmRlck1vZGFsOiBGQzxCaWxsUXVpY2tGaW5kZXJNb2RhbFByb3BzPiA9ICh7XHJcbiAgcHJlZml4Q2xzLFxyXG4gIHRpdGxlLFxyXG4gIHZpc2libGUsXHJcbiAgc2V0VmlzaWJsZSxcclxuICBmaWVsZCxcclxuICBsaXN0RmlsdGVyQ29uZmlnLFxyXG4gIHJlZnJlc2hFZGl0b3JEaXNwbGF5XHJcbn0pID0+IHtcclxuICBjb25zdCByZWYgPSB1c2VSZWYobnVsbClcclxuXHJcbiAgLy8g54K55Ye75Y+W5raIXHJcbiAgY29uc3QgaGFuZGxlQ2FuY2VsID0gKCkgPT4ge1xyXG4gICAgc2V0VmlzaWJsZShmYWxzZSlcclxuICB9XHJcbiAgcmV0dXJuIChcclxuICAgIDxNb2RhbFxyXG4gICAgICBtYXNrXHJcbiAgICAgIHZpc2libGU9e3Zpc2libGV9XHJcbiAgICAgIGJvZHk9ezxNb2RhbEJvZHkgcmVmPXtyZWZ9IHByZWZpeENscz17cHJlZml4Q2xzfSBmaWVsZD17ZmllbGR9IGxpc3RGaWx0ZXJDb25maWc9e2xpc3RGaWx0ZXJDb25maWd9IHJlZnJlc2hFZGl0b3JEaXNwbGF5PXtyZWZyZXNoRWRpdG9yRGlzcGxheX0gLz59XHJcbiAgICAgIHRpdGxlSWNvbj17bnVsbH1cclxuICAgICAgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LW1vZGFsYH1cclxuICAgICAgZm9vdGVyPXtudWxsfVxyXG4gICAgICBtYXNrQ2xvc2FibGU9e2ZhbHNlfVxyXG4gICAgICB3aWR0aD17OTYwfVxyXG4gICAgICBoZWlnaHQ9ezY0NH1cclxuICAgICAga2V5Ym9hcmQ9e2ZhbHNlfVxyXG4gICAgICB0aXRsZT17PHNwYW4gdGl0bGU9e3RpdGxlfT57dGl0bGV9PC9zcGFuPn1cclxuICAgICAgY2xvc2FibGVcclxuICAgICAgZHJhZ2dhYmxlPXtmYWxzZX1cclxuICAgICAgZGVzdHJveU9uQ2xvc2VcclxuICAgICAgb25DYW5jZWw9e2hhbmRsZUNhbmNlbH1cclxuICAgICAgb25Paz17aGFuZGxlQ2FuY2VsfVxyXG4gICAgLz5cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJpbGxRdWlja0ZpbmRlck1vZGFsXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///24924\n");

/***/ }),

/***/ 96884:
/*!*********************************************************!*\
  !*** ./src/editors/BizRules/BillQuickFinderSetting.tsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/values */ 72400);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ 28429);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/values */ 73020);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/trim */ 25288);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 24496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../hooks/useQueryEventData */ 23312);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../utils */ 41232);\n/* harmony import */ var _utils_treeUtils__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../utils/treeUtils */ 31340);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var _utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../utils/refBillEditorUtils */ 82048);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../utils/control */ 3700);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_27__);\n/* harmony import */ var _Actions__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./Actions */ 14777);\n\n\n\n\n\n\n\n\nvar _excluded = [\"children\"];\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar dfs = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.treeUtils.dfs,\n  getListConfigPure = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.treeUtils.getListConfigPure,\n  treeNodeTransform = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.treeUtils.treeNodeTransform,\n  getListSortConfig = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.treeUtils.getListSortConfig,\n  getMultiRefChildrenExclude = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.treeUtils.getMultiRefChildrenExclude;\nvar getVarSelectDisabled = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.ListFilterUtil.getVarSelectDisabled;\nvar VALUE_TYPE_FILTER = 2; // 查找方式：通过筛选条件\nvar VALUE_TYPE_REFBILL = 3; // 查找方式：通过关联表单\n\nvar CURRENT_RECORD_OPTION = {\n  key: 'currentRecord',\n  title: '本记录'\n};\nvar SEARCH_RESULT_OPTION = {\n  key: 'currentRecord',\n  title: '查询结果',\n  isMulti: true\n};\nvar MULTI_OPTIONS = [{\n  label: '单条',\n  value: '0'\n}, {\n  label: '多条',\n  value: '1'\n}];\nvar DEFAULT_MULTI = '0';\nvar ACTIONS_VALIDATOR = function ACTIONS_VALIDATOR(rule, value, callback, source, options) {\n  if (!(value !== null && value !== void 0 && value.length)) {\n    return [new Error('请添加写入规则')];\n  } else {\n    var isFullFilled = value.every(function (item) {\n      return _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_9___default()(item).every(function (v) {\n        if (typeof v === 'string') {\n          return v !== '';\n        } else if (Array.isArray(v)) {\n          return v.length !== 0;\n        }\n        return true;\n      });\n    });\n    return isFullFilled ? [] : [new Error('请添加写入规则')];\n  }\n};\nvar ACTIONS_RULES = [{\n  type: 'array',\n  required: true,\n  validator: ACTIONS_VALIDATOR\n}];\nvar assignDataReducer = function assignDataReducer(state, newData) {\n  return _objectSpread(_objectSpread({}, state), newData);\n};\nvar BillQuickFinderSetting = function BillQuickFinderSetting(_ref) {\n  var _dfs2;\n  var value = _ref.value,\n    refBillData = _ref.refBillData,\n    field = _ref.field,\n    ruleId = _ref.ruleId,\n    compareTypesMap = _ref.compareTypesMap,\n    curFormId = _ref.formId,\n    curListFilterConfig = _ref.listFilterConfig,\n    curFormFieldTree = _ref.curFormFieldTree,\n    onChange = _ref.onChange,\n    onSave = _ref.onSave;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useContext)(_context__WEBPACK_IMPORTED_MODULE_23__.DesignerContext),\n    prefixCls = _useContext.prefixCls,\n    baseUrl = _useContext.baseUrl,\n    onDownLoad = _useContext.onDownLoad,\n    getControlText = _useContext.getControlText,\n    batchInvoke = _useContext.batchInvoke,\n    invokeAction = _useContext.invokeAction,\n    getDataRef = _useContext.getDataRef,\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var _Form$useForm = kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Form.useForm(),\n    _Form$useForm2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_Form$useForm, 1),\n    form = _Form$useForm2[0];\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useState)({}),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState, 2),\n    fieldRecordsMap = _useState2[0],\n    setFieldRecordsMap = _useState2[1];\n  var fieldKey = field.Key,\n    ParentId = field.ParentId;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    metaContext = _getKdesignerApi.meta;\n  var rootId = dataContext.getRootId();\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useReducer)(assignDataReducer, value),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useReducer, 2),\n    formData = _useReducer2[0],\n    dispatchFormData = _useReducer2[1];\n  var filterEditorRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useRef)();\n  var fieldFilterEditorRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useRef)();\n  var addControlAction = function addControlAction(methodName, listener) {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_24__.eventBus.on(methodName, listener);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_24__.eventBus.off(methodName, listener);\n    };\n  };\n  var onBatchInvoke = function onBatchInvoke(actionName, args) {\n    var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    batchInvoke(actionName, field.Key, args, params);\n  };\n  var invokeGetListConfig = function invokeGetListConfig(formId) {\n    if (formId === rootId) {\n      return;\n    }\n    invokeAction('listtreeconfig', [formId]);\n  };\n  var invokeGetFieldRecords = function invokeGetFieldRecords(formId) {\n    var fieldName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    invokeAction('getFilterItemLook', [formId, {\n      getEnumData: 'true',\n      enumField: fieldName,\n      filterrows: []\n    }]);\n  };\n  var batchInvokeQuery = function batchInvokeQuery(id) {\n    var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _args$filter = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(args),\n      filter = _args$filter === void 0 ? '' : _args$filter,\n      _args$search = args.search,\n      search = _args$search === void 0 ? '' : _args$search,\n      _args$order_by = args.order_by,\n      order_by = _args$order_by === void 0 ? '' : _args$order_by,\n      _args$select = args.select,\n      select = _args$select === void 0 ? '' : _args$select,\n      _args$page_size = args.page_size,\n      page_size = _args$page_size === void 0 ? 10 : _args$page_size,\n      _args$page_no = args.page_no,\n      page_no = _args$page_no === void 0 ? 1 : _args$page_no,\n      _args$ids = args.ids,\n      ids = _args$ids === void 0 ? [] : _args$ids;\n    if (formData.relationFormId === curFormId) {\n      var nodeData = dfs(curListFilterConfig, function (item) {\n        return item.entityId === id;\n      });\n      if (nodeData !== null && nodeData !== void 0 && nodeData.isDraftField) {\n        return;\n      }\n    }\n    batchInvoke('query', 'nocodeformdesigner', [id, {\n      filter: filter,\n      // 数据过滤\n      search: search,\n      // 搜索内容\n      order_by: order_by,\n      // 排序\n      select: select,\n      // 字段\n      page_size: page_size,\n      // 每页行数\n      page_no: page_no,\n      ids: ids // 选中的ids\n    }]);\n  };\n  var batchInvokeListConfig = function batchInvokeListConfig(id) {\n    batchInvoke('listconfig', 'nocodeformdesigner', [id]);\n  };\n  var refBillProps = {\n    baseUrl: baseUrl,\n    batchInvoke: onBatchInvoke,\n    getControlText: getControlText,\n    addControlAction: addControlAction,\n    onDownLoad: onDownLoad,\n    batchInvokeListConfig: batchInvokeListConfig,\n    batchInvokeQuery: batchInvokeQuery\n  };\n  var treeData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    var _refBillData$children = refBillData.children,\n      children = _refBillData$children === void 0 ? [] : _refBillData$children;\n    children[0].icon = /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Icon, {\n      prefix: \"nocodeplatformicon\",\n      type: \"gerenzhongxin\",\n      style: {\n        color: '#3987ED'\n      }\n    });\n    children[1].icon = /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Icon, {\n      prefix: \"nocodeplatformicon\",\n      type: \"zuzhi\",\n      style: {\n        color: '#3987ED'\n      }\n    });\n    return (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_25__.transformToTree)(children)[0];\n  }, [refBillData]);\n\n  // 获取筛选项\n  var relationFormListFilterConfig = (0,_hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_19__[\"default\"])({\n    id: fieldKey,\n    formId: formData.relationFormId,\n    eventName: 'setListTreeConfig',\n    parser: function parser(_ref2) {\n      var data = _ref2.data;\n      return (0,_utils__WEBPACK_IMPORTED_MODULE_20__.listFilterParser)(data, data, compareTypesMap);\n    },\n    defaultValue: []\n  });\n  var listFilterConfig = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    if (formData.valueType === 2) {\n      // 通过筛选条件\n      if (formData.relationFormId === '') return [];\n      return formData.relationFormId === curFormId ? curListFilterConfig : relationFormListFilterConfig;\n    } else if (formData.valueType === 3) {\n      var _dfs;\n      // 通过关联表单\n      if (formData.relationFieldId === '') return [];\n      var children = ((_dfs = dfs(curFormFieldTree, function (node) {\n        return node.key === formData.relationFieldId;\n      })) === null || _dfs === void 0 ? void 0 : _dfs.children) || [];\n      return treeNodeTransform(children, function (node) {\n        var _node$compareTypes = node.compareTypes,\n          compareTypes = _node$compareTypes === void 0 ? [] : _node$compareTypes,\n          fieldName = node.key;\n        // 原fieldName可能出现3级，4级，如a.b.c.d，这时，如果父级key为a.b，将父级的children的fieldName都统一去掉父级的前缀\n        var transferedPrefixKey = formData.relationFieldId.replace(/\\./g, '\\\\.');\n        var fieldNameExcludeParent = fieldName.replace(new RegExp('^' + transferedPrefixKey + '\\\\.(\\\\S+)'), '$1');\n        var purefieldName = fieldNameExcludeParent !== null && fieldNameExcludeParent !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(fieldNameExcludeParent).call(fieldNameExcludeParent, 'fbasedataid') ? fieldNameExcludeParent.split('.fbasedataid')[0] : fieldNameExcludeParent;\n        var depth = purefieldName.split('.').length;\n        // 确保筛选只出现2级：xxx.xxx\n        if (depth > 2) return false;\n        // 通过关联表单是指当前这条记录的数据，不存在等于存在值的概念，需要屏蔽（等于存在值，id='001'）\n        var filteredCompareTypes = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(compareTypes).call(compareTypes, function (_ref3) {\n          var id = _ref3.id;\n          return id !== '001';\n        });\n        return _objectSpread(_objectSpread({}, node), {}, {\n          compareTypes: filteredCompareTypes,\n          key: fieldNameExcludeParent\n        });\n      });\n    }\n    return [];\n  }, [formData.relationFormId, formData.relationFieldId, formData.valueType, curFormId, curListFilterConfig, relationFormListFilterConfig, curFormFieldTree]);\n\n  // 排除脱敏字段、多选关联表单的子元素的listFilterConfig\n  var listFilterConfigPure = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    return getListConfigPure(listFilterConfig);\n  }, [listFilterConfig]);\n  var listTreeSortConfig = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    return getListSortConfig(listFilterConfig);\n  }, [listFilterConfig]);\n  var relationFormSourceFieldOptions = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    var _context;\n    if (formData.valueType2Multi === '1') {\n      return [SEARCH_RESULT_OPTION];\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context = [CURRENT_RECORD_OPTION]).call(_context, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(getMultiRefChildrenExclude(listFilterConfig)));\n  }, [listFilterConfig, formData.valueType2Multi]);\n\n  // 【通过关联表单】-> 选择的【关联表单字段】是否多选\n  var isRelationFieldMutiple = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    if (!formData.relationFieldId) return false;\n    var node = dfs(curFormFieldTree, function (node) {\n      return node.key === formData.relationFieldId;\n    });\n    return node === null || node === void 0 ? void 0 : node.isMulti;\n  }, [formData.relationFieldId, curFormFieldTree]);\n  var sourceFieldOptions = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    var _context2;\n    if (formData.relationFieldId === '') return [];\n    if (formData.valueType === 3 && isRelationFieldMutiple && formData.valueType3Multi === '1') {\n      return [SEARCH_RESULT_OPTION];\n    }\n    var nodeData = dfs(curFormFieldTree, function (node) {\n      return node.key === formData.relationFieldId;\n    });\n    var nodeChildren = treeNodeTransform((nodeData === null || nodeData === void 0 ? void 0 : nodeData.children) || [], function (node) {\n      var children = node.children,\n        nodeExcludeChild = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(node, _excluded);\n      var isMulti = nodeExcludeChild.isMulti,\n        fieldName = nodeExcludeChild.key;\n      // 原fieldName可能出现3级，4级，如a.b.c.d，这时，如果父级key为a.b，将父级的children的fieldName都统一去掉父级的前缀\n      var transferedPrefixKey = formData.relationFieldId.replace(/\\./g, '\\\\.');\n      var fieldNameExcludeParent = fieldName.replace(new RegExp('^' + transferedPrefixKey + '\\\\.(\\\\S+)'), '$1');\n      var purefieldName = fieldNameExcludeParent !== null && fieldNameExcludeParent !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(fieldNameExcludeParent).call(fieldNameExcludeParent, 'fbasedataid') ? fieldNameExcludeParent.split('.fbasedataid')[0] : fieldNameExcludeParent;\n      var depth = purefieldName.split('.').length;\n      // 确保只出现2级：xxx.xxx\n      if (depth > 2) return false;\n      if (!isMulti && children) {\n        // 排除多选关联表单、表格的子属性\n        return _objectSpread(_objectSpread({}, node), {}, {\n          key: fieldNameExcludeParent\n        });\n      }\n      return _objectSpread(_objectSpread({}, nodeExcludeChild), {}, {\n        key: fieldNameExcludeParent\n      });\n    });\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context2 = [CURRENT_RECORD_OPTION]).call(_context2, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(nodeChildren));\n  }, [formData.relationFieldId, curFormFieldTree, formData.valueType3Multi, isRelationFieldMutiple]);\n  var variablesTree = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    return (0,_utils_treeUtils__WEBPACK_IMPORTED_MODULE_21__.transformListConfigToVariableTree)({\n      metaApi: metaContext,\n      options: curListFilterConfig\n    });\n  }, [curListFilterConfig]);\n\n  // 关联表单字段树\n  var refBillFieldTree = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    return (0,_utils_treeUtils__WEBPACK_IMPORTED_MODULE_21__.transformListConfigToRefBillFieldTree)({\n      options: curListFilterConfig\n    });\n  }, [curListFilterConfig, rootId]);\n  var relationFieldBillEntityId = ((_dfs2 = dfs(curFormFieldTree, function (node) {\n    return node.key === formData.relationFieldId;\n  })) === null || _dfs2 === void 0 ? void 0 : _dfs2.entityId) || '';\n  var fieldRecords = (0,_hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_19__[\"default\"])({\n    id: fieldKey,\n    formId: formData.relationFormId,\n    eventName: 'filterItemLook'\n  });\n  var configuredFilterItems = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    if (Array.isArray(formData.filterInfos)) {\n      var _context3;\n      return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default()(_context3 = formData.filterInfos).call(_context3, function (item) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          value: typeof item.value === 'string' ? JSON.parse(item.value) : item.value || []\n        });\n      });\n    }\n    return [];\n  }, [formData.filterInfos]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(function () {\n    var data = fieldRecords.data,\n      _fieldRecords$param = fieldRecords.param,\n      param = _fieldRecords$param === void 0 ? {} : _fieldRecords$param;\n    var enumField = param.enumField;\n    if (enumField) {\n      var items = configuredFilterItems === null || configuredFilterItems === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(configuredFilterItems).call(configuredFilterItems, function (item) {\n        return item.fieldName === enumField;\n      });\n      var fieldFilterConfig = dfs(listFilterConfig, function (node) {\n        return node.key === enumField;\n      });\n      setFieldRecordsMap(function (fieldRecordsMap) {\n        return _objectSpread(_objectSpread({}, fieldRecordsMap), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({}, enumField, {\n          configuredFilter: {\n            enumEqCompareType: '001',\n            items: items\n          },\n          fieldFilterConfig: fieldFilterConfig,\n          groupInfo: data\n        }));\n      });\n    }\n  }, [fieldRecords, configuredFilterItems, listFilterConfig]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(function () {\n    formData.relationFormId && invokeGetListConfig(formData.relationFormId);\n  }, [formData.relationFormId]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(function () {\n    // 查找方式变化时，需要把之前的值赋给form\n    if (formData.valueType === 2) {\n      var filterInfos = formData.filterInfos,\n        sortInfos = formData.sortInfos,\n        relationFormId = formData.relationFormId,\n        valueType2Result = formData.valueType2Result,\n        valueType2Multi = formData.valueType2Multi,\n        valueType2Top = formData.valueType2Top;\n      form.setFieldsValue({\n        filterInfos: filterInfos,\n        sortInfos: sortInfos,\n        relationFormId: relationFormId,\n        valueType2Result: valueType2Result,\n        valueType2Multi: valueType2Multi,\n        valueType2Top: valueType2Top\n      });\n    } else if (formData.valueType === 3) {\n      var relationFieldId = formData.relationFieldId,\n        valueType3Result = formData.valueType3Result,\n        valueType3FilterInfos = formData.valueType3FilterInfos,\n        valueType3SortInfos = formData.valueType3SortInfos,\n        valueType3Multi = formData.valueType3Multi,\n        valueType3Top = formData.valueType3Top;\n      form.setFieldsValue({\n        relationFieldId: relationFieldId,\n        valueType3Result: valueType3Result,\n        valueType3FilterInfos: valueType3FilterInfos,\n        valueType3SortInfos: valueType3SortInfos,\n        valueType3Multi: valueType3Multi,\n        valueType3Top: valueType3Top\n      });\n    }\n  }, [formData.valueType]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(function () {\n    var valueType2Top = formData.valueType2Top;\n    form.setFieldsValue({\n      valueType2Top: valueType2Top\n    });\n  }, [formData.valueType2Multi]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(function () {\n    var valueType3Top = formData.valueType3Top;\n    form.setFieldsValue({\n      valueType3Top: valueType3Top\n    });\n  }, [formData.valueType3Multi]);\n  var isSavedRule = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    return !(ruleId !== null && ruleId !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(ruleId).call(ruleId, 'new_rule_'));\n  }, [value]);\n  var validateFields = function validateFields() {\n    return new (_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_13___default())(function (resolve, reject) {\n      form.validateFields().then(function (_ref4) {\n        var values = _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_14___default()(_ref4);\n        resolve(values);\n      }).catch(function (e) {\n        return reject(e);\n      });\n    });\n  };\n  var handleSave = function handleSave() {\n    var _context4;\n    var _dataContext$findCont = dataContext.findControl(ParentId),\n      parentType = _dataContext$findCont._Type_,\n      parentKey = _dataContext$findCont.Key;\n    var fldKey = (0,_utils_control__WEBPACK_IMPORTED_MODULE_26__.isRefBillTable)(parentType) ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context4 = \"\".concat(parentKey, \".\")).call(_context4, field.Key) : field.Key;\n    validateFields().then(function (result) {\n      var _filterEditorRef$curr, _filterEditorRef$curr2;\n      var ruleName = result.ruleName,\n        valueType = result.valueType,\n        valueType2Result = result.valueType2Result,\n        valueType3Result = result.valueType3Result,\n        relationFormId = result.relationFormId,\n        relationFieldId = result.relationFieldId,\n        filterInfos = result.filterInfos,\n        valueType2Multi = result.valueType2Multi,\n        valueType2Top = result.valueType2Top,\n        valueType3FilterInfos = result.valueType3FilterInfos,\n        valueType3SortInfos = result.valueType3SortInfos,\n        valueType3Multi = result.valueType3Multi,\n        valueType3Top = result.valueType3Top;\n      var sortInfos = result.sortInfos || [];\n      var filterEmptyInfo = valueType === 2 && ((_filterEditorRef$curr = filterEditorRef.current) === null || _filterEditorRef$curr === void 0 || (_filterEditorRef$curr2 = _filterEditorRef$curr.updateVerifyAndGetMsg) === null || _filterEditorRef$curr2 === void 0 ? void 0 : _filterEditorRef$curr2.call(_filterEditorRef$curr));\n      var valueObject = {\n        result: valueType === 2 ? valueType2Result : valueType3Result,\n        relationFormId: valueType === 2 ? relationFormId : relationFieldId\n      };\n      if (valueType === 2) {\n        valueObject.filterInfos = filterInfos;\n        valueObject.sortInfos = sortInfos;\n        valueObject.multi = valueType2Multi;\n        if (valueType2Multi === '1') {\n          valueObject.top = valueType2Top;\n        }\n      } else if (valueType === 3) {\n        if (isRelationFieldMutiple) {\n          var _fieldFilterEditorRef, _fieldFilterEditorRef2;\n          valueObject.multi = valueType3Multi;\n          valueObject.filterInfos = valueType3FilterInfos;\n          valueObject.sortInfos = valueType3SortInfos;\n          if (valueType3Multi === '1') {\n            valueObject.top = valueType3Top;\n          }\n          var fieldFilterEmptyInfo = (_fieldFilterEditorRef = fieldFilterEditorRef.current) === null || _fieldFilterEditorRef === void 0 || (_fieldFilterEditorRef2 = _fieldFilterEditorRef.updateVerifyAndGetMsg) === null || _fieldFilterEditorRef2 === void 0 ? void 0 : _fieldFilterEditorRef2.call(_fieldFilterEditorRef);\n          if (fieldFilterEmptyInfo.length) return;\n        }\n      }\n      var ruleInfo = {\n        ruleName: _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_15___default()(ruleName).call(ruleName),\n        valueType: valueType,\n        value: valueObject\n      };\n      var params = {\n        formId: rootId,\n        fieldKey: fldKey,\n        ruleInfo: _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_16___default()(ruleInfo)\n      };\n      if (isSavedRule) {\n        params.ruleId = ruleId;\n      }\n      if (!filterEmptyInfo.length) {\n        onSave(params);\n      }\n      // const postData = { nocodeformdesigner: getDataRef() }\n      // !filterEmptyInfo.length && invokeAction('saveBizRule', [params], [postData])\n    }).catch(function (e) {\n      console.warn(e);\n    });\n  };\n  var handleRelationFieldIdChange = function handleRelationFieldIdChange(v) {\n    if (v !== formData.relationFieldId) {\n      batchUpdateFormData({\n        relationFieldId: v,\n        valueType3Result: [],\n        valueType3FilterInfos: [],\n        valueType3SortInfos: []\n      });\n      form.setFieldsValue({\n        relationFieldId: v,\n        valueType3Result: null,\n        valueType3FilterInfos: null,\n        valueType3SortInfos: null\n      });\n    }\n  };\n  var isMultiMode = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {\n    if (formData.valueType === 2) {\n      return formData.valueType2Multi === '1';\n    } else if (formData.valueType === 3) {\n      return isRelationFieldMutiple && formData.valueType3Multi === '1';\n    }\n    return false;\n  }, [formData.valueType, formData.valueType2Multi, formData.valueType3Multi, isRelationFieldMutiple]);\n  var onGetFieldRecords = function onGetFieldRecords(v) {\n    invokeGetFieldRecords(formData.relationFormId, v.fieldName);\n  };\n  var updateFormData = function updateFormData(key, value) {\n    dispatchFormData((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({}, key, value));\n    onChange((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({}, key, value));\n  };\n  var batchUpdateFormData = function batchUpdateFormData(newVal) {\n    dispatchFormData(newVal);\n    onChange(newVal);\n  };\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(function () {\n    if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_27__.isEqual)(value, formData)) {\n      dispatchFormData(value);\n      form.setFieldsValue(value);\n    }\n  }, [value]);\n  var kuiConfig = {\n    prefixCls: 'kd'\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n    className: \"bill-finder-setting\",\n    key: ruleId\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n    className: \"setting-form\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.ConfigProvider, {\n    value: kuiConfig\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Form, {\n    layout: \"vertical\",\n    form: form,\n    labelWidth: \"100%\",\n    wrapperWidth: \"100%\",\n    onValuesChange: function onValuesChange(changedValue, values) {\n      console.log('form', changedValue, values);\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Form.Item, {\n    label: \"\\u89C4\\u5219\\u540D\\u79F0\",\n    name: \"ruleName\",\n    required: true,\n    validateTrigger: \"onBlur\",\n    rules: [{\n      required: true,\n      message: '请输入规则名称'\n    }, {\n      type: 'string',\n      validator: function validator(rule, value, callback, source, options) {\n        if (!(value !== null && value !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_15___default()(value).call(value))) {\n          return [new Error('请输入规则名称')];\n        } else {\n          return [];\n        }\n      }\n    }]\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Input, {\n    type: \"text\",\n    borderType: \"bordered\",\n    size: \"middle\",\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u89C4\\u5219\\u540D\\u79F0\",\n    maxLength: 50,\n    value: formData.ruleName,\n    onChange: function onChange(e) {\n      return updateFormData('ruleName', e.target.value);\n    }\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Form.Item, {\n    label: \"\\u67E5\\u627E\\u65B9\\u5F0F\",\n    name: \"valueType\",\n    rules: [{\n      required: true,\n      message: '请输入规则名称',\n      type: 'number'\n    }]\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.Sectioner, {\n    defaultValue: VALUE_TYPE_FILTER,\n    value: formData.valueType,\n    options: [{\n      label: '通过筛选条件',\n      value: VALUE_TYPE_FILTER\n    }, {\n      label: '通过关联表单',\n      value: VALUE_TYPE_REFBILL\n    }],\n    onChange: function onChange(v) {\n      return updateFormData('valueType', v);\n    }\n  })), formData.valueType === 2 && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Form.Item, {\n    label: \"\\u67E5\\u627E\\u8868\\u5355\",\n    name: \"relationFormId\",\n    required: true\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.KDTreeSelect, {\n    allowClear: true,\n    value: formData.relationFormId || '',\n    treeData: treeData,\n    showTreeIcon: true,\n    treeIcon: function treeIcon(props) {\n      return props.icon;\n    },\n    onChange: function onChange() {\n      var v = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      v = v || '';\n      if (v !== formData.relationFormId) {\n        batchUpdateFormData({\n          relationFormId: v,\n          filterInfos: [],\n          sortInfos: [],\n          valueType2Result: []\n        });\n        form.setFieldsValue({\n          relationFormId: v,\n          filterInfos: null,\n          sortInfos: null,\n          valueType2Result: null\n        });\n      }\n    }\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Form.Item, {\n    label: \"\\u914D\\u7F6E\\u7B5B\\u9009\\u6761\\u4EF6\",\n    name: \"filterInfos\",\n    rules: [{\n      type: 'array',\n      required: true,\n      message: '请配置筛选条件'\n    }]\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.FilterEditor, {\n    id: \"filter\",\n    ref: filterEditorRef,\n    valueRequired: true,\n    name: \"\\u914D\\u7F6E\\u7B5B\\u9009\\u6761\\u4EF6\",\n    tips: \"\",\n    variablesTree: variablesTree || [],\n    listFilterConfig: listFilterConfigPure,\n    onGetFieldRecords: onGetFieldRecords,\n    fieldRecords: fieldRecordsMap,\n    nameHidden: true,\n    style: {\n      marginTop: '0px'\n    },\n    getVarSelectDisabled: getVarSelectDisabled,\n    fieldData: {\n      fieldType: 'treeSelect',\n      style: {\n        width: '184px'\n      }\n    },\n    filterFooterData: {\n      listType: 'tree',\n      triggerText: '添加筛选条件',\n      treeProps: {\n        defaultExpandAll: false\n      }\n    },\n    value: formData.filterInfos || [],\n    refBillProps: refBillProps,\n    onChange: function onChange(v) {\n      form.setFieldValue('filterInfos', v);\n      updateFormData('filterInfos', v);\n    }\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Form.Item, {\n    label: \"\\u914D\\u7F6E\\u6392\\u5E8F\\u6761\\u4EF6\",\n    name: \"sortInfos\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.OrderByEditor, {\n    id: \"filter\",\n    name: \"\\u914D\\u7F6E\\u6392\\u5E8F\\u6761\\u4EF6\",\n    nameHidden: true,\n    tips: \"\",\n    style: {\n      marginTop: '0px'\n    },\n    treeData: listTreeSortConfig || [],\n    value: formData.sortInfos || [],\n    onChange: function onChange(v) {\n      return updateFormData('sortInfos', v);\n    }\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Form.Item, {\n    label: \"\\u67E5\\u627E\\u6570\\u91CF\",\n    name: \"valueType2Multi\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.Sectioner, {\n    defaultValue: DEFAULT_MULTI,\n    value: formData.valueType2Multi,\n    options: MULTI_OPTIONS,\n    onChange: function onChange(v) {\n      batchUpdateFormData({\n        valueType2Multi: v,\n        valueType2Result: []\n      });\n      form.setFieldsValue({\n        valueType2Multi: v,\n        valueType2Result: null\n      });\n    }\n  })), formData.valueType2Multi === '1' && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Form.Item, {\n    label: \"\\u6570\\u91CF\\u4E0A\\u9650\\uFF08\\u6700\\u591A1000\\u6761\\uFF09\",\n    name: \"valueType2Top\",\n    required: true\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.InputNumber, {\n    borderType: \"bordered\",\n    value: formData.valueType2Top,\n    min: 0,\n    max: 1000,\n    mustInScope: true,\n    decimalLength: 0,\n    onChange: function onChange(e) {\n      var _e$target;\n      return updateFormData('valueType2Top', ((_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.value) || '');\n    }\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Form.Item, {\n    label: \"\\u67E5\\u627E\\u5230\\u8BB0\\u5F55\\u540E\",\n    name: \"valueType2Result\",\n    rules: ACTIONS_RULES\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_Actions__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n    prefixCls: prefixCls,\n    isMultiMode: isMultiMode,\n    selBillValue: formData.relationFormId || '',\n    sourceFieldOptions: relationFormSourceFieldOptions,\n    value: formData.valueType2Result || [],\n    onChange: function onChange(v) {\n      return updateFormData('valueType2Result', v);\n    },\n    curListFilterConfig: curListFilterConfig\n  }))), formData.valueType === 3 && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Form.Item, {\n    label: \"\\u9009\\u62E9\\u5173\\u8054\\u8868\\u5355\",\n    name: \"relationFieldId\",\n    required: true\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.KDTreeSelect, {\n    className: \"suffix-icon-no-animation\",\n    allowClear: true,\n    value: formData.relationFieldId,\n    treeData: refBillFieldTree,\n    suffixIcon: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Icon, {\n      prefix: \"designericon\",\n      type: \"duixiangxuanze2\"\n    }),\n    onChange: handleRelationFieldIdChange,\n    showFullLabelTips: true\n  })), isRelationFieldMutiple && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Form.Item, {\n    label: \"\\u914D\\u7F6E\\u7B5B\\u9009\\u6761\\u4EF6\",\n    name: \"valueType3FilterInfos\",\n    rules: [{\n      type: 'array',\n      required: true,\n      message: '请配置筛选条件'\n    }]\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.FilterEditor, {\n    id: \"filter\",\n    ref: fieldFilterEditorRef,\n    valueRequired: true,\n    name: \"\\u914D\\u7F6E\\u7B5B\\u9009\\u6761\\u4EF6\",\n    tips: \"\",\n    variablesTree: variablesTree || [],\n    listFilterConfig: listFilterConfigPure,\n    onGetFieldRecords: onGetFieldRecords,\n    fieldRecords: fieldRecordsMap,\n    nameHidden: true,\n    style: {\n      marginTop: '0px'\n    },\n    getVarSelectDisabled: getVarSelectDisabled,\n    fieldData: {\n      fieldType: 'treeSelect',\n      style: {\n        width: '184px'\n      }\n    },\n    filterFooterData: {\n      listType: 'tree',\n      triggerText: '添加筛选条件',\n      treeProps: {\n        defaultExpandAll: false\n      }\n    },\n    value: formData.valueType3FilterInfos || [],\n    refBillProps: refBillProps,\n    onChange: function onChange(v) {\n      form.setFieldValue('valueType3FilterInfos', v);\n      updateFormData('valueType3FilterInfos', v);\n    }\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Form.Item, {\n    label: \"\\u914D\\u7F6E\\u6392\\u5E8F\\u6761\\u4EF6\",\n    name: \"valueType3SortInfos\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.OrderByEditor, {\n    id: \"filter\",\n    name: \"\\u914D\\u7F6E\\u6392\\u5E8F\\u6761\\u4EF6\",\n    nameHidden: true,\n    tips: \"\",\n    style: {\n      marginTop: '0px'\n    },\n    treeData: listTreeSortConfig || [],\n    value: formData.valueType3SortInfos || [],\n    onChange: function onChange(v) {\n      return updateFormData('valueType3SortInfos', v);\n    }\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Form.Item, {\n    label: \"\\u67E5\\u627E\\u6570\\u91CF\",\n    name: \"valueType3Multi\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.Sectioner, {\n    defaultValue: DEFAULT_MULTI,\n    value: formData.valueType3Multi,\n    options: MULTI_OPTIONS,\n    onChange: function onChange(v) {\n      batchUpdateFormData({\n        valueType3Multi: v,\n        valueType3Result: []\n      });\n      form.setFieldsValue({\n        valueType3Multi: v,\n        valueType3Result: null\n      });\n    }\n  })), formData.valueType3Multi === '1' && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Form.Item, {\n    label: \"\\u6570\\u91CF\\u4E0A\\u9650\\uFF08\\u6700\\u591A1000\\u6761\\uFF09\",\n    name: \"valueType3Top\",\n    required: true\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.InputNumber, {\n    borderType: \"bordered\",\n    value: formData.valueType3Top,\n    min: 0,\n    max: 1000,\n    mustInScope: true,\n    decimalLength: 0,\n    onChange: function onChange(e) {\n      var _e$target2;\n      return updateFormData('valueType3Top', ((_e$target2 = e.target) === null || _e$target2 === void 0 ? void 0 : _e$target2.value) || '');\n    }\n  }))), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Form.Item, {\n    label: \"\\u67E5\\u627E\\u5230\\u8BB0\\u5F55\\u540E\",\n    name: \"valueType3Result\",\n    rules: ACTIONS_RULES\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_Actions__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n    prefixCls: prefixCls,\n    isMultiMode: isMultiMode,\n    selBillValue: relationFieldBillEntityId || '',\n    relationFieldId: formData.relationFieldId,\n    sourceFieldOptions: sourceFieldOptions,\n    value: formData.valueType3Result || [],\n    onChange: function onChange(v) {\n      return updateFormData('valueType3Result', v);\n    },\n    curListFilterConfig: curListFilterConfig\n  })))))), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(\"div\", {\n    className: \"setting-footer\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_17___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.Button, {\n    size: \"small\",\n    type: \"primary\",\n    onClick: handleSave\n  }, \"\\u4FDD\\u5B58\")));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (BillQuickFinderSetting);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTY4ODQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBV0E7QUFBQTtBQVRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFFQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBU0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBUUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9lZGl0b3JzL0JpelJ1bGVzL0JpbGxRdWlja0ZpbmRlclNldHRpbmcudHN4Pzk2MGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IEZDLCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VSZWR1Y2VyIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBCdXR0b24sIENvbmZpZ1Byb3ZpZGVyIGFzIEtVSUNvbmZpZ1Byb3ZpZGVyLCBGb3JtLCBJbnB1dCwgSWNvbiwgSW5wdXROdW1iZXIgfSBmcm9tICdAa2RjbG91ZGpzL2tkZXNpZ24nXG5pbXBvcnQgdXNlUXVlcnlFdmVudERhdGEgZnJvbSAnLi4vLi4vaG9va3MvdXNlUXVlcnlFdmVudERhdGEnXG5pbXBvcnQgeyBsaXN0RmlsdGVyUGFyc2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMnXG5pbXBvcnQgeyB0cmFuc2Zvcm1MaXN0Q29uZmlnVG9WYXJpYWJsZVRyZWUsIHRyYW5zZm9ybUxpc3RDb25maWdUb1JlZkJpbGxGaWVsZFRyZWUgfSBmcm9tICcuLi8uLi91dGlscy90cmVlVXRpbHMnXG5pbXBvcnQgeyBGaWx0ZXJFZGl0b3IsIEJpbGxUeXBlRmllbGRFZGl0b3IsIE9yZGVyQnlFZGl0b3IsIFNlY3Rpb25lciwgS0RUcmVlU2VsZWN0LCB0cmVlVXRpbHMsIExpc3RGaWx0ZXJVdGlsIH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQnXG5pbXBvcnQgeyBldmVudEJ1cyB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IHRyYW5zZm9ybVRvVHJlZSB9IGZyb20gJy4uLy4uL3V0aWxzL3JlZkJpbGxFZGl0b3JVdGlscydcbmltcG9ydCB7IGlzUmVmQmlsbFRhYmxlIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29udHJvbCdcbmltcG9ydCB7IGlzRXF1YWwgfSBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgQWN0aW9ucyBmcm9tICcuL0FjdGlvbnMnXG5cbmNvbnN0IHsgZGZzLCBnZXRMaXN0Q29uZmlnUHVyZSwgdHJlZU5vZGVUcmFuc2Zvcm0sIGdldExpc3RTb3J0Q29uZmlnLCBnZXRNdWx0aVJlZkNoaWxkcmVuRXhjbHVkZSB9ID0gdHJlZVV0aWxzXG5jb25zdCB7IGdldFZhclNlbGVjdERpc2FibGVkIH0gPSBMaXN0RmlsdGVyVXRpbFxuXG5jb25zdCBWQUxVRV9UWVBFX0ZJTFRFUiA9IDIgLy8g5p+l5om+5pa55byP77ya6YCa6L+H562b6YCJ5p2h5Lu2XG5jb25zdCBWQUxVRV9UWVBFX1JFRkJJTEwgPSAzIC8vIOafpeaJvuaWueW8j++8mumAmui/h+WFs+iBlOihqOWNlVxuXG5jb25zdCBDVVJSRU5UX1JFQ09SRF9PUFRJT04gPSB7XG4gIGtleTogJ2N1cnJlbnRSZWNvcmQnLFxuICB0aXRsZTogJ+acrOiusOW9lSdcbn1cblxuY29uc3QgU0VBUkNIX1JFU1VMVF9PUFRJT04gPSB7XG4gIGtleTogJ2N1cnJlbnRSZWNvcmQnLFxuICB0aXRsZTogJ+afpeivoue7k+aenCcsXG4gIGlzTXVsdGk6IHRydWVcbn1cblxuY29uc3QgTVVMVElfT1BUSU9OUyA9IFtcbiAgeyBsYWJlbDogJ+WNleadoScsIHZhbHVlOiAnMCcgfSxcbiAgeyBsYWJlbDogJ+WkmuadoScsIHZhbHVlOiAnMScgfVxuXVxuXG5jb25zdCBERUZBVUxUX01VTFRJID0gJzAnXG5cbmNvbnN0IEFDVElPTlNfVkFMSURBVE9SID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSA9PiB7XG4gIGlmICghdmFsdWU/Lmxlbmd0aCkge1xuICAgIHJldHVybiBbbmV3IEVycm9yKCfor7fmt7vliqDlhpnlhaXop4TliJknKV1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCBpc0Z1bGxGaWxsZWQgPSB2YWx1ZS5ldmVyeShpdGVtID0+IHtcbiAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKGl0ZW0pLmV2ZXJ5KHYgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHYgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIHYgIT09ICcnXG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2KSkge1xuICAgICAgICAgIHJldHVybiB2Lmxlbmd0aCAhPT0gMFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9KVxuICAgIH0pXG4gICAgcmV0dXJuIGlzRnVsbEZpbGxlZCA/IFtdIDogW25ldyBFcnJvcign6K+35re75Yqg5YaZ5YWl6KeE5YiZJyldXG4gIH1cbn1cblxuY29uc3QgQUNUSU9OU19SVUxFUyA9IFt7XG4gIHR5cGU6ICdhcnJheScsXG4gIHJlcXVpcmVkOiB0cnVlLFxuICB2YWxpZGF0b3I6IEFDVElPTlNfVkFMSURBVE9SXG59XVxuXG5jb25zdCBhc3NpZ25EYXRhUmVkdWNlciA9IChzdGF0ZTogYW55LCBuZXdEYXRhOiBhbnkpID0+IHtcbiAgcmV0dXJuIHsgLi4uc3RhdGUsIC4uLm5ld0RhdGEgfVxufVxuXG5jb25zdCBCaWxsUXVpY2tGaW5kZXJTZXR0aW5nOiBSZWFjdC5GQzxhbnk+ID0gKHtcbiAgdmFsdWUsXG4gIHJlZkJpbGxEYXRhLFxuICBmaWVsZCxcbiAgcnVsZUlkLFxuICBjb21wYXJlVHlwZXNNYXAsXG4gIGZvcm1JZDogY3VyRm9ybUlkLFxuICBsaXN0RmlsdGVyQ29uZmlnOiBjdXJMaXN0RmlsdGVyQ29uZmlnLFxuICBjdXJGb3JtRmllbGRUcmVlLFxuICBvbkNoYW5nZSxcbiAgb25TYXZlXG59KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBwcmVmaXhDbHMsIGJhc2VVcmwsIG9uRG93bkxvYWQsXG4gICAgZ2V0Q29udHJvbFRleHQsIGJhdGNoSW52b2tlLCBpbnZva2VBY3Rpb24sXG4gICAgZ2V0RGF0YVJlZiwgZ2V0S2Rlc2lnbmVyQXBpXG4gIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3QgW2Zvcm1dID0gRm9ybS51c2VGb3JtKClcbiAgY29uc3QgW2ZpZWxkUmVjb3Jkc01hcCwgc2V0RmllbGRSZWNvcmRzTWFwXSA9IHVzZVN0YXRlKHt9KVxuICBjb25zdCB7IEtleTogZmllbGRLZXksIFBhcmVudElkIH0gPSBmaWVsZFxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0LCBtZXRhOiBtZXRhQ29udGV4dCB9ID0gZ2V0S2Rlc2lnbmVyQXBpKClcbiAgY29uc3Qgcm9vdElkID0gZGF0YUNvbnRleHQuZ2V0Um9vdElkKClcbiAgY29uc3QgW2Zvcm1EYXRhLCBkaXNwYXRjaEZvcm1EYXRhXSA9IHVzZVJlZHVjZXIoYXNzaWduRGF0YVJlZHVjZXIsIHZhbHVlKVxuICBjb25zdCBmaWx0ZXJFZGl0b3JSZWYgPSB1c2VSZWYoKVxuICBjb25zdCBmaWVsZEZpbHRlckVkaXRvclJlZiA9IHVzZVJlZigpXG5cbiAgY29uc3QgYWRkQ29udHJvbEFjdGlvbiA9IChtZXRob2ROYW1lLCBsaXN0ZW5lcikgPT4ge1xuICAgIGV2ZW50QnVzLm9uKG1ldGhvZE5hbWUsIGxpc3RlbmVyKVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBldmVudEJ1cy5vZmYobWV0aG9kTmFtZSwgbGlzdGVuZXIpXG4gICAgfVxuICB9XG5cbiAgY29uc3Qgb25CYXRjaEludm9rZSA9IChhY3Rpb25OYW1lLCBhcmdzLCBwYXJhbXMgPSBbXSkgPT4ge1xuICAgIGJhdGNoSW52b2tlKGFjdGlvbk5hbWUsIGZpZWxkLktleSwgYXJncywgcGFyYW1zKVxuICB9XG5cbiAgY29uc3QgaW52b2tlR2V0TGlzdENvbmZpZyA9IChmb3JtSWQpID0+IHtcbiAgICBpZiAoZm9ybUlkID09PSByb290SWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpbnZva2VBY3Rpb24oXG4gICAgICAnbGlzdHRyZWVjb25maWcnLFxuICAgICAgW1xuICAgICAgICBmb3JtSWRcbiAgICAgIF1cbiAgICApXG4gIH1cblxuICBjb25zdCBpbnZva2VHZXRGaWVsZFJlY29yZHMgPSAoZm9ybUlkOiBzdHJpbmcsIGZpZWxkTmFtZTogc3RyaW5nID0gJycpID0+IHtcbiAgICBpbnZva2VBY3Rpb24oXG4gICAgICAnZ2V0RmlsdGVySXRlbUxvb2snLFxuICAgICAgW2Zvcm1JZCwge1xuICAgICAgICBnZXRFbnVtRGF0YTogJ3RydWUnLFxuICAgICAgICBlbnVtRmllbGQ6IGZpZWxkTmFtZSxcbiAgICAgICAgZmlsdGVycm93czogW11cbiAgICAgIH1dXG4gICAgKVxuICB9XG5cbiAgY29uc3QgYmF0Y2hJbnZva2VRdWVyeSA9IChpZCwgYXJncyA9IHt9KSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgZmlsdGVyID0gJycsIC8vIOaVsOaNrui/h+a7pFxuICAgICAgc2VhcmNoID0gJycsIC8vIOaQnOe0ouWGheWuuVxuICAgICAgb3JkZXJfYnkgPSAnJywgLy8g5o6S5bqPXG4gICAgICBzZWxlY3QgPSAnJywgLy8g5a2X5q61XG4gICAgICBwYWdlX3NpemUgPSAxMCwgLy8g5q+P6aG16KGM5pWwXG4gICAgICBwYWdlX25vID0gMSxcbiAgICAgIGlkcyA9IFtdLy8g6YCJ5Lit55qEaWRzXG4gICAgfSA9IGFyZ3NcbiAgICBpZiAoZm9ybURhdGEucmVsYXRpb25Gb3JtSWQgPT09IGN1ckZvcm1JZCkge1xuICAgICAgY29uc3Qgbm9kZURhdGEgPSBkZnMoY3VyTGlzdEZpbHRlckNvbmZpZywgKGl0ZW0pID0+IGl0ZW0uZW50aXR5SWQgPT09IGlkKVxuICAgICAgaWYgKG5vZGVEYXRhPy5pc0RyYWZ0RmllbGQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuICAgIGJhdGNoSW52b2tlKCdxdWVyeScsICdub2NvZGVmb3JtZGVzaWduZXInLCBbaWQsIHtcbiAgICAgIGZpbHRlciwgLy8g5pWw5o2u6L+H5rukXG4gICAgICBzZWFyY2gsIC8vIOaQnOe0ouWGheWuuVxuICAgICAgb3JkZXJfYnksIC8vIOaOkuW6j1xuICAgICAgc2VsZWN0LCAvLyDlrZfmrrVcbiAgICAgIHBhZ2Vfc2l6ZSwgLy8g5q+P6aG16KGM5pWwXG4gICAgICBwYWdlX25vLFxuICAgICAgaWRzLy8g6YCJ5Lit55qEaWRzXG4gICAgfV0pXG4gIH1cbiAgY29uc3QgYmF0Y2hJbnZva2VMaXN0Q29uZmlnID0gKGlkKSA9PiB7XG4gICAgYmF0Y2hJbnZva2UoJ2xpc3Rjb25maWcnLCAnbm9jb2RlZm9ybWRlc2lnbmVyJywgW2lkXSlcbiAgfVxuXG4gIGNvbnN0IHJlZkJpbGxQcm9wcyA9IHtcbiAgICBiYXNlVXJsLFxuICAgIGJhdGNoSW52b2tlOiBvbkJhdGNoSW52b2tlLFxuICAgIGdldENvbnRyb2xUZXh0LFxuICAgIGFkZENvbnRyb2xBY3Rpb24sXG4gICAgb25Eb3duTG9hZCxcbiAgICBiYXRjaEludm9rZUxpc3RDb25maWcsXG4gICAgYmF0Y2hJbnZva2VRdWVyeVxuICB9XG5cbiAgY29uc3QgdHJlZURhdGEgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCB7IGNoaWxkcmVuID0gW10gfSA9IHJlZkJpbGxEYXRhXG4gICAgY2hpbGRyZW5bMF0uaWNvbiA9IDxJY29uIHByZWZpeD0nbm9jb2RlcGxhdGZvcm1pY29uJyB0eXBlPSdnZXJlbnpob25neGluJyBzdHlsZT17eyBjb2xvcjogJyMzOTg3RUQnIH19IC8+XG4gICAgY2hpbGRyZW5bMV0uaWNvbiA9IDxJY29uIHByZWZpeD0nbm9jb2RlcGxhdGZvcm1pY29uJyB0eXBlPSd6dXpoaScgc3R5bGU9e3sgY29sb3I6ICcjMzk4N0VEJyB9fSAvPlxuICAgIHJldHVybiB0cmFuc2Zvcm1Ub1RyZWUoY2hpbGRyZW4pWzBdXG4gIH0sIFtyZWZCaWxsRGF0YV0pXG5cbiAgLy8g6I635Y+W562b6YCJ6aG5XG4gIGNvbnN0IHJlbGF0aW9uRm9ybUxpc3RGaWx0ZXJDb25maWcgPSB1c2VRdWVyeUV2ZW50RGF0YSh7XG4gICAgaWQ6IGZpZWxkS2V5LFxuICAgIGZvcm1JZDogZm9ybURhdGEucmVsYXRpb25Gb3JtSWQsXG4gICAgZXZlbnROYW1lOiAnc2V0TGlzdFRyZWVDb25maWcnLFxuICAgIHBhcnNlcjogKHsgZGF0YSB9KSA9PiBsaXN0RmlsdGVyUGFyc2VyKGRhdGEsIGRhdGEsIGNvbXBhcmVUeXBlc01hcCksXG4gICAgZGVmYXVsdFZhbHVlOiBbXVxuICB9KVxuXG4gIGNvbnN0IGxpc3RGaWx0ZXJDb25maWc6IGFueVtdID0gdXNlTWVtbzxhbnlbXT4oKCkgPT4ge1xuICAgIGlmIChmb3JtRGF0YS52YWx1ZVR5cGUgPT09IDIpIHtcbiAgICAgIC8vIOmAmui/h+etm+mAieadoeS7tlxuICAgICAgaWYgKGZvcm1EYXRhLnJlbGF0aW9uRm9ybUlkID09PSAnJykgcmV0dXJuIFtdXG4gICAgICByZXR1cm4gZm9ybURhdGEucmVsYXRpb25Gb3JtSWQgPT09IGN1ckZvcm1JZCA/IGN1ckxpc3RGaWx0ZXJDb25maWcgOiByZWxhdGlvbkZvcm1MaXN0RmlsdGVyQ29uZmlnXG4gICAgfSBlbHNlIGlmIChmb3JtRGF0YS52YWx1ZVR5cGUgPT09IDMpIHtcbiAgICAgIC8vIOmAmui/h+WFs+iBlOihqOWNlVxuICAgICAgaWYgKGZvcm1EYXRhLnJlbGF0aW9uRmllbGRJZCA9PT0gJycpIHJldHVybiBbXVxuICAgICAgY29uc3QgY2hpbGRyZW4gPSBkZnMoY3VyRm9ybUZpZWxkVHJlZSwgKG5vZGU6IGFueSkgPT4gbm9kZS5rZXkgPT09IGZvcm1EYXRhLnJlbGF0aW9uRmllbGRJZCk/LmNoaWxkcmVuIHx8IFtdXG4gICAgICByZXR1cm4gdHJlZU5vZGVUcmFuc2Zvcm0oY2hpbGRyZW4sIChub2RlOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgeyBjb21wYXJlVHlwZXMgPSBbXSwga2V5OiBmaWVsZE5hbWUgfSA9IG5vZGVcbiAgICAgICAgLy8g5Y6fZmllbGROYW1l5Y+v6IO95Ye6546wM+e6p++8jDTnuqfvvIzlpoJhLmIuYy5k77yM6L+Z5pe277yM5aaC5p6c54i257qna2V55Li6YS5i77yM5bCG54i257qn55qEY2hpbGRyZW7nmoRmaWVsZE5hbWXpg73nu5/kuIDljrvmjonniLbnuqfnmoTliY3nvIBcbiAgICAgICAgY29uc3QgdHJhbnNmZXJlZFByZWZpeEtleSA9IGZvcm1EYXRhLnJlbGF0aW9uRmllbGRJZC5yZXBsYWNlKC9cXC4vZywgJ1xcXFwuJylcbiAgICAgICAgY29uc3QgZmllbGROYW1lRXhjbHVkZVBhcmVudCA9IGZpZWxkTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJ14nICsgdHJhbnNmZXJlZFByZWZpeEtleSArICdcXFxcLihcXFxcUyspJyksICckMScpXG4gICAgICAgIGNvbnN0IHB1cmVmaWVsZE5hbWUgPSBmaWVsZE5hbWVFeGNsdWRlUGFyZW50Py5pbmNsdWRlcygnZmJhc2VkYXRhaWQnKSA/IGZpZWxkTmFtZUV4Y2x1ZGVQYXJlbnQuc3BsaXQoJy5mYmFzZWRhdGFpZCcpWzBdIDogZmllbGROYW1lRXhjbHVkZVBhcmVudFxuICAgICAgICBjb25zdCBkZXB0aCA9IHB1cmVmaWVsZE5hbWUuc3BsaXQoJy4nKS5sZW5ndGhcbiAgICAgICAgLy8g56Gu5L+d562b6YCJ5Y+q5Ye6546wMue6p++8mnh4eC54eHhcbiAgICAgICAgaWYgKGRlcHRoID4gMikgcmV0dXJuIGZhbHNlXG4gICAgICAgIC8vIOmAmui/h+WFs+iBlOihqOWNleaYr+aMh+W9k+WJjei/meadoeiusOW9leeahOaVsOaNru+8jOS4jeWtmOWcqOetieS6juWtmOWcqOWAvOeahOamguW/te+8jOmcgOimgeWxj+iUve+8iOetieS6juWtmOWcqOWAvO+8jGlkPScwMDEn77yJXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkQ29tcGFyZVR5cGVzID0gY29tcGFyZVR5cGVzLmZpbHRlcigoeyBpZCB9OiBhbnkpID0+IGlkICE9PSAnMDAxJylcbiAgICAgICAgcmV0dXJuIHsgLi4ubm9kZSwgY29tcGFyZVR5cGVzOiBmaWx0ZXJlZENvbXBhcmVUeXBlcywga2V5OiBmaWVsZE5hbWVFeGNsdWRlUGFyZW50IH1cbiAgICAgIH0pXG4gICAgfVxuICAgIHJldHVybiBbXVxuICB9LCBbZm9ybURhdGEucmVsYXRpb25Gb3JtSWQsIGZvcm1EYXRhLnJlbGF0aW9uRmllbGRJZCwgZm9ybURhdGEudmFsdWVUeXBlLCBjdXJGb3JtSWQsIGN1ckxpc3RGaWx0ZXJDb25maWcsIHJlbGF0aW9uRm9ybUxpc3RGaWx0ZXJDb25maWcsIGN1ckZvcm1GaWVsZFRyZWVdKVxuXG4gIC8vIOaOkumZpOiEseaVj+Wtl+auteOAgeWkmumAieWFs+iBlOihqOWNleeahOWtkOWFg+e0oOeahGxpc3RGaWx0ZXJDb25maWdcbiAgY29uc3QgbGlzdEZpbHRlckNvbmZpZ1B1cmUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gZ2V0TGlzdENvbmZpZ1B1cmUobGlzdEZpbHRlckNvbmZpZylcbiAgfSwgW2xpc3RGaWx0ZXJDb25maWddKVxuXG4gIGNvbnN0IGxpc3RUcmVlU29ydENvbmZpZyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBnZXRMaXN0U29ydENvbmZpZyhsaXN0RmlsdGVyQ29uZmlnKVxuICB9LCBbbGlzdEZpbHRlckNvbmZpZ10pXG5cbiAgY29uc3QgcmVsYXRpb25Gb3JtU291cmNlRmllbGRPcHRpb25zID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGZvcm1EYXRhLnZhbHVlVHlwZTJNdWx0aSA9PT0gJzEnKSB7XG4gICAgICByZXR1cm4gW1NFQVJDSF9SRVNVTFRfT1BUSU9OXVxuICAgIH1cbiAgICByZXR1cm4gW0NVUlJFTlRfUkVDT1JEX09QVElPTiwgLi4uZ2V0TXVsdGlSZWZDaGlsZHJlbkV4Y2x1ZGUobGlzdEZpbHRlckNvbmZpZyldXG4gIH0sIFtsaXN0RmlsdGVyQ29uZmlnLCBmb3JtRGF0YS52YWx1ZVR5cGUyTXVsdGldKVxuXG4gIC8vIOOAkOmAmui/h+WFs+iBlOihqOWNleOAkS0+IOmAieaLqeeahOOAkOWFs+iBlOihqOWNleWtl+auteOAkeaYr+WQpuWkmumAiVxuICBjb25zdCBpc1JlbGF0aW9uRmllbGRNdXRpcGxlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKCFmb3JtRGF0YS5yZWxhdGlvbkZpZWxkSWQpIHJldHVybiBmYWxzZVxuICAgIGNvbnN0IG5vZGUgPSBkZnMoY3VyRm9ybUZpZWxkVHJlZSwgKG5vZGUpID0+IG5vZGUua2V5ID09PSBmb3JtRGF0YS5yZWxhdGlvbkZpZWxkSWQpXG4gICAgcmV0dXJuIG5vZGU/LmlzTXVsdGlcbiAgfSwgW2Zvcm1EYXRhLnJlbGF0aW9uRmllbGRJZCwgY3VyRm9ybUZpZWxkVHJlZV0pXG5cbiAgY29uc3Qgc291cmNlRmllbGRPcHRpb25zID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGZvcm1EYXRhLnJlbGF0aW9uRmllbGRJZCA9PT0gJycpIHJldHVybiBbXVxuICAgIGlmIChmb3JtRGF0YS52YWx1ZVR5cGUgPT09IDMgJiYgaXNSZWxhdGlvbkZpZWxkTXV0aXBsZSAmJiBmb3JtRGF0YS52YWx1ZVR5cGUzTXVsdGkgPT09ICcxJykge1xuICAgICAgcmV0dXJuIFtTRUFSQ0hfUkVTVUxUX09QVElPTl1cbiAgICB9XG4gICAgY29uc3Qgbm9kZURhdGEgPSBkZnMoY3VyRm9ybUZpZWxkVHJlZSwgKG5vZGUpID0+IG5vZGUua2V5ID09PSBmb3JtRGF0YS5yZWxhdGlvbkZpZWxkSWQpXG4gICAgY29uc3Qgbm9kZUNoaWxkcmVuID0gdHJlZU5vZGVUcmFuc2Zvcm0obm9kZURhdGE/LmNoaWxkcmVuIHx8IFtdLCAobm9kZTogYW55KSA9PiB7XG4gICAgICBjb25zdCB7IGNoaWxkcmVuLCAuLi5ub2RlRXhjbHVkZUNoaWxkIH0gPSBub2RlXG4gICAgICBjb25zdCB7IGlzTXVsdGksIGtleTogZmllbGROYW1lIH0gPSBub2RlRXhjbHVkZUNoaWxkXG4gICAgICAvLyDljp9maWVsZE5hbWXlj6/og73lh7rnjrAz57qn77yMNOe6p++8jOWmgmEuYi5jLmTvvIzov5nml7bvvIzlpoLmnpzniLbnuqdrZXnkuLphLmLvvIzlsIbniLbnuqfnmoRjaGlsZHJlbueahGZpZWxkTmFtZemDvee7n+S4gOWOu+aOieeItue6p+eahOWJjee8gFxuICAgICAgY29uc3QgdHJhbnNmZXJlZFByZWZpeEtleSA9IGZvcm1EYXRhLnJlbGF0aW9uRmllbGRJZC5yZXBsYWNlKC9cXC4vZywgJ1xcXFwuJylcbiAgICAgIGNvbnN0IGZpZWxkTmFtZUV4Y2x1ZGVQYXJlbnQgPSBmaWVsZE5hbWUucmVwbGFjZShuZXcgUmVnRXhwKCdeJyArIHRyYW5zZmVyZWRQcmVmaXhLZXkgKyAnXFxcXC4oXFxcXFMrKScpLCAnJDEnKVxuICAgICAgY29uc3QgcHVyZWZpZWxkTmFtZSA9IGZpZWxkTmFtZUV4Y2x1ZGVQYXJlbnQ/LmluY2x1ZGVzKCdmYmFzZWRhdGFpZCcpID8gZmllbGROYW1lRXhjbHVkZVBhcmVudC5zcGxpdCgnLmZiYXNlZGF0YWlkJylbMF0gOiBmaWVsZE5hbWVFeGNsdWRlUGFyZW50XG4gICAgICBjb25zdCBkZXB0aCA9IHB1cmVmaWVsZE5hbWUuc3BsaXQoJy4nKS5sZW5ndGhcbiAgICAgIC8vIOehruS/neWPquWHuueOsDLnuqfvvJp4eHgueHh4XG4gICAgICBpZiAoZGVwdGggPiAyKSByZXR1cm4gZmFsc2VcbiAgICAgIGlmICghaXNNdWx0aSAmJiBjaGlsZHJlbikge1xuICAgICAgICAvLyDmjpLpmaTlpJrpgInlhbPogZTooajljZXjgIHooajmoLznmoTlrZDlsZ7mgKdcbiAgICAgICAgcmV0dXJuIHsgLi4ubm9kZSwga2V5OiBmaWVsZE5hbWVFeGNsdWRlUGFyZW50IH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7IC4uLm5vZGVFeGNsdWRlQ2hpbGQsIGtleTogZmllbGROYW1lRXhjbHVkZVBhcmVudCB9XG4gICAgfSlcbiAgICByZXR1cm4gW0NVUlJFTlRfUkVDT1JEX09QVElPTiwgLi4ubm9kZUNoaWxkcmVuXVxuICB9LCBbZm9ybURhdGEucmVsYXRpb25GaWVsZElkLCBjdXJGb3JtRmllbGRUcmVlLCBmb3JtRGF0YS52YWx1ZVR5cGUzTXVsdGksIGlzUmVsYXRpb25GaWVsZE11dGlwbGVdKVxuXG4gIGNvbnN0IHZhcmlhYmxlc1RyZWUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gdHJhbnNmb3JtTGlzdENvbmZpZ1RvVmFyaWFibGVUcmVlKHtcbiAgICAgIG1ldGFBcGk6IG1ldGFDb250ZXh0LFxuICAgICAgb3B0aW9uczogY3VyTGlzdEZpbHRlckNvbmZpZ1xuICAgIH0pXG4gIH0sIFtjdXJMaXN0RmlsdGVyQ29uZmlnXSlcblxuICAvLyDlhbPogZTooajljZXlrZfmrrXmoJFcbiAgY29uc3QgcmVmQmlsbEZpZWxkVHJlZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB0cmFuc2Zvcm1MaXN0Q29uZmlnVG9SZWZCaWxsRmllbGRUcmVlKHtcbiAgICAgIG9wdGlvbnM6IGN1ckxpc3RGaWx0ZXJDb25maWdcbiAgICB9KVxuICB9LCBbY3VyTGlzdEZpbHRlckNvbmZpZywgcm9vdElkXSlcblxuICBjb25zdCByZWxhdGlvbkZpZWxkQmlsbEVudGl0eUlkID0gZGZzKGN1ckZvcm1GaWVsZFRyZWUsIChub2RlOiBhbnkpID0+IG5vZGUua2V5ID09PSBmb3JtRGF0YS5yZWxhdGlvbkZpZWxkSWQpPy5lbnRpdHlJZCB8fCAnJ1xuXG4gIGNvbnN0IGZpZWxkUmVjb3JkcyA9IHVzZVF1ZXJ5RXZlbnREYXRhKHsgaWQ6IGZpZWxkS2V5LCBmb3JtSWQ6IGZvcm1EYXRhLnJlbGF0aW9uRm9ybUlkLCBldmVudE5hbWU6ICdmaWx0ZXJJdGVtTG9vaycgfSlcblxuICBjb25zdCBjb25maWd1cmVkRmlsdGVySXRlbXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmb3JtRGF0YS5maWx0ZXJJbmZvcykpIHtcbiAgICAgIHJldHVybiBmb3JtRGF0YS5maWx0ZXJJbmZvcy5tYXAoaXRlbSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICB2YWx1ZTogdHlwZW9mIGl0ZW0udmFsdWUgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShpdGVtLnZhbHVlKSA6IGl0ZW0udmFsdWUgfHwgW11cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIFtdXG4gIH0sIFtmb3JtRGF0YS5maWx0ZXJJbmZvc10pXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBwYXJhbSA9IHt9IH0gPSBmaWVsZFJlY29yZHNcbiAgICBjb25zdCB7IGVudW1GaWVsZCB9ID0gcGFyYW1cbiAgICBpZiAoZW51bUZpZWxkKSB7XG4gICAgICBjb25zdCBpdGVtcyA9IGNvbmZpZ3VyZWRGaWx0ZXJJdGVtcz8uZmlsdGVyKGl0ZW0gPT4gaXRlbS5maWVsZE5hbWUgPT09IGVudW1GaWVsZClcbiAgICAgIGNvbnN0IGZpZWxkRmlsdGVyQ29uZmlnID0gZGZzKGxpc3RGaWx0ZXJDb25maWcsIChub2RlKSA9PiBub2RlLmtleSA9PT0gZW51bUZpZWxkKVxuICAgICAgc2V0RmllbGRSZWNvcmRzTWFwKChmaWVsZFJlY29yZHNNYXApID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5maWVsZFJlY29yZHNNYXAsXG4gICAgICAgICAgW2VudW1GaWVsZF06IHtcbiAgICAgICAgICAgIGNvbmZpZ3VyZWRGaWx0ZXI6IHtcbiAgICAgICAgICAgICAgZW51bUVxQ29tcGFyZVR5cGU6ICcwMDEnLFxuICAgICAgICAgICAgICBpdGVtc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpZWxkRmlsdGVyQ29uZmlnLFxuICAgICAgICAgICAgZ3JvdXBJbmZvOiBkYXRhXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfSwgW2ZpZWxkUmVjb3JkcywgY29uZmlndXJlZEZpbHRlckl0ZW1zLCBsaXN0RmlsdGVyQ29uZmlnXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZvcm1EYXRhLnJlbGF0aW9uRm9ybUlkICYmIGludm9rZUdldExpc3RDb25maWcoZm9ybURhdGEucmVsYXRpb25Gb3JtSWQpXG4gIH0sIFtmb3JtRGF0YS5yZWxhdGlvbkZvcm1JZF0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyDmn6Xmib7mlrnlvI/lj5jljJbml7bvvIzpnIDopoHmiorkuYvliY3nmoTlgLzotYvnu5lmb3JtXG4gICAgaWYgKGZvcm1EYXRhLnZhbHVlVHlwZSA9PT0gMikge1xuICAgICAgY29uc3QgeyBmaWx0ZXJJbmZvcywgc29ydEluZm9zLCByZWxhdGlvbkZvcm1JZCwgdmFsdWVUeXBlMlJlc3VsdCwgdmFsdWVUeXBlMk11bHRpLCB2YWx1ZVR5cGUyVG9wIH0gPSBmb3JtRGF0YVxuICAgICAgZm9ybS5zZXRGaWVsZHNWYWx1ZSh7IGZpbHRlckluZm9zLCBzb3J0SW5mb3MsIHJlbGF0aW9uRm9ybUlkLCB2YWx1ZVR5cGUyUmVzdWx0LCB2YWx1ZVR5cGUyTXVsdGksIHZhbHVlVHlwZTJUb3AgfSlcbiAgICB9IGVsc2UgaWYgKGZvcm1EYXRhLnZhbHVlVHlwZSA9PT0gMykge1xuICAgICAgY29uc3QgeyByZWxhdGlvbkZpZWxkSWQsIHZhbHVlVHlwZTNSZXN1bHQsIHZhbHVlVHlwZTNGaWx0ZXJJbmZvcywgdmFsdWVUeXBlM1NvcnRJbmZvcywgdmFsdWVUeXBlM011bHRpLCB2YWx1ZVR5cGUzVG9wIH0gPSBmb3JtRGF0YVxuICAgICAgZm9ybS5zZXRGaWVsZHNWYWx1ZSh7IHJlbGF0aW9uRmllbGRJZCwgdmFsdWVUeXBlM1Jlc3VsdCwgdmFsdWVUeXBlM0ZpbHRlckluZm9zLCB2YWx1ZVR5cGUzU29ydEluZm9zLCB2YWx1ZVR5cGUzTXVsdGksIHZhbHVlVHlwZTNUb3AgfSlcbiAgICB9XG4gIH0sIFtmb3JtRGF0YS52YWx1ZVR5cGVdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgeyB2YWx1ZVR5cGUyVG9wIH0gPSBmb3JtRGF0YVxuICAgIGZvcm0uc2V0RmllbGRzVmFsdWUoeyB2YWx1ZVR5cGUyVG9wIH0pXG4gIH0sIFtmb3JtRGF0YS52YWx1ZVR5cGUyTXVsdGldKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgeyB2YWx1ZVR5cGUzVG9wIH0gPSBmb3JtRGF0YVxuICAgIGZvcm0uc2V0RmllbGRzVmFsdWUoeyB2YWx1ZVR5cGUzVG9wIH0pXG4gIH0sIFtmb3JtRGF0YS52YWx1ZVR5cGUzTXVsdGldKVxuXG4gIGNvbnN0IGlzU2F2ZWRSdWxlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuICFydWxlSWQ/LmluY2x1ZGVzKCduZXdfcnVsZV8nKVxuICB9LCBbdmFsdWVdKVxuXG4gIGNvbnN0IHZhbGlkYXRlRmllbGRzID0gKCkgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBmb3JtXG4gICAgICAgIC52YWxpZGF0ZUZpZWxkcygpXG4gICAgICAgIC50aGVuKCh7IHZhbHVlcyB9KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSh2YWx1ZXMpXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZSkgPT4gcmVqZWN0KGUpKVxuICAgIH0pXG4gIH1cblxuICBjb25zdCBoYW5kbGVTYXZlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgX1R5cGVfOiBwYXJlbnRUeXBlLCBLZXk6IHBhcmVudEtleSB9ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woUGFyZW50SWQpXG4gICAgY29uc3QgZmxkS2V5ID0gaXNSZWZCaWxsVGFibGUocGFyZW50VHlwZSkgPyBgJHtwYXJlbnRLZXl9LiR7ZmllbGQuS2V5fWAgOiBmaWVsZC5LZXlcbiAgICB2YWxpZGF0ZUZpZWxkcygpLnRoZW4oKHJlc3VsdDogYW55KSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHJ1bGVOYW1lLCB2YWx1ZVR5cGUsIHZhbHVlVHlwZTJSZXN1bHQsIHZhbHVlVHlwZTNSZXN1bHQsIHJlbGF0aW9uRm9ybUlkLCByZWxhdGlvbkZpZWxkSWQsIGZpbHRlckluZm9zLFxuICAgICAgICB2YWx1ZVR5cGUyTXVsdGksIHZhbHVlVHlwZTJUb3AsIHZhbHVlVHlwZTNGaWx0ZXJJbmZvcywgdmFsdWVUeXBlM1NvcnRJbmZvcywgdmFsdWVUeXBlM011bHRpLCB2YWx1ZVR5cGUzVG9wXG4gICAgICB9ID0gcmVzdWx0XG4gICAgICBjb25zdCBzb3J0SW5mb3MgPSByZXN1bHQuc29ydEluZm9zIHx8IFtdXG4gICAgICBjb25zdCBmaWx0ZXJFbXB0eUluZm8gPSB2YWx1ZVR5cGUgPT09IDIgJiYgZmlsdGVyRWRpdG9yUmVmLmN1cnJlbnQ/LnVwZGF0ZVZlcmlmeUFuZEdldE1zZz8uKClcbiAgICAgIGNvbnN0IHZhbHVlT2JqZWN0OiBhbnkgPSB7XG4gICAgICAgIHJlc3VsdDogdmFsdWVUeXBlID09PSAyID8gdmFsdWVUeXBlMlJlc3VsdCA6IHZhbHVlVHlwZTNSZXN1bHQsXG4gICAgICAgIHJlbGF0aW9uRm9ybUlkOiB2YWx1ZVR5cGUgPT09IDIgPyByZWxhdGlvbkZvcm1JZCA6IHJlbGF0aW9uRmllbGRJZFxuICAgICAgfVxuICAgICAgaWYgKHZhbHVlVHlwZSA9PT0gMikge1xuICAgICAgICB2YWx1ZU9iamVjdC5maWx0ZXJJbmZvcyA9IGZpbHRlckluZm9zXG4gICAgICAgIHZhbHVlT2JqZWN0LnNvcnRJbmZvcyA9IHNvcnRJbmZvc1xuICAgICAgICB2YWx1ZU9iamVjdC5tdWx0aSA9IHZhbHVlVHlwZTJNdWx0aVxuICAgICAgICBpZiAodmFsdWVUeXBlMk11bHRpID09PSAnMScpIHtcbiAgICAgICAgICB2YWx1ZU9iamVjdC50b3AgPSB2YWx1ZVR5cGUyVG9wXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAzKSB7XG4gICAgICAgIGlmIChpc1JlbGF0aW9uRmllbGRNdXRpcGxlKSB7XG4gICAgICAgICAgdmFsdWVPYmplY3QubXVsdGkgPSB2YWx1ZVR5cGUzTXVsdGlcbiAgICAgICAgICB2YWx1ZU9iamVjdC5maWx0ZXJJbmZvcyA9IHZhbHVlVHlwZTNGaWx0ZXJJbmZvc1xuICAgICAgICAgIHZhbHVlT2JqZWN0LnNvcnRJbmZvcyA9IHZhbHVlVHlwZTNTb3J0SW5mb3NcbiAgICAgICAgICBpZiAodmFsdWVUeXBlM011bHRpID09PSAnMScpIHtcbiAgICAgICAgICAgIHZhbHVlT2JqZWN0LnRvcCA9IHZhbHVlVHlwZTNUb3BcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZmllbGRGaWx0ZXJFbXB0eUluZm8gPSBmaWVsZEZpbHRlckVkaXRvclJlZi5jdXJyZW50Py51cGRhdGVWZXJpZnlBbmRHZXRNc2c/LigpXG4gICAgICAgICAgaWYgKGZpZWxkRmlsdGVyRW1wdHlJbmZvLmxlbmd0aCkgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHJ1bGVJbmZvID0ge1xuICAgICAgICBydWxlTmFtZTogcnVsZU5hbWUudHJpbSgpLFxuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIHZhbHVlOiB2YWx1ZU9iamVjdFxuICAgICAgfVxuICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICBmb3JtSWQ6IHJvb3RJZCxcbiAgICAgICAgZmllbGRLZXk6IGZsZEtleSxcbiAgICAgICAgcnVsZUluZm86IEpTT04uc3RyaW5naWZ5KHJ1bGVJbmZvKVxuICAgICAgfVxuICAgICAgaWYgKGlzU2F2ZWRSdWxlKSB7XG4gICAgICAgIHBhcmFtcy5ydWxlSWQgPSBydWxlSWRcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyRW1wdHlJbmZvLmxlbmd0aCkge1xuICAgICAgICBvblNhdmUocGFyYW1zKVxuICAgICAgfVxuICAgICAgLy8gY29uc3QgcG9zdERhdGEgPSB7IG5vY29kZWZvcm1kZXNpZ25lcjogZ2V0RGF0YVJlZigpIH1cbiAgICAgIC8vICFmaWx0ZXJFbXB0eUluZm8ubGVuZ3RoICYmIGludm9rZUFjdGlvbignc2F2ZUJpelJ1bGUnLCBbcGFyYW1zXSwgW3Bvc3REYXRhXSlcbiAgICB9KS5jYXRjaChlID0+IHtcbiAgICAgIGNvbnNvbGUud2FybihlKVxuICAgIH0pXG4gIH1cblxuICBjb25zdCBoYW5kbGVSZWxhdGlvbkZpZWxkSWRDaGFuZ2UgPSAodjogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHYgIT09IGZvcm1EYXRhLnJlbGF0aW9uRmllbGRJZCkge1xuICAgICAgYmF0Y2hVcGRhdGVGb3JtRGF0YSh7XG4gICAgICAgIHJlbGF0aW9uRmllbGRJZDogdixcbiAgICAgICAgdmFsdWVUeXBlM1Jlc3VsdDogW10sXG4gICAgICAgIHZhbHVlVHlwZTNGaWx0ZXJJbmZvczogW10sXG4gICAgICAgIHZhbHVlVHlwZTNTb3J0SW5mb3M6IFtdXG4gICAgICB9KVxuICAgICAgZm9ybS5zZXRGaWVsZHNWYWx1ZSh7XG4gICAgICAgIHJlbGF0aW9uRmllbGRJZDogdixcbiAgICAgICAgdmFsdWVUeXBlM1Jlc3VsdDogbnVsbCxcbiAgICAgICAgdmFsdWVUeXBlM0ZpbHRlckluZm9zOiBudWxsLFxuICAgICAgICB2YWx1ZVR5cGUzU29ydEluZm9zOiBudWxsXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGlzTXVsdGlNb2RlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGZvcm1EYXRhLnZhbHVlVHlwZSA9PT0gMikge1xuICAgICAgcmV0dXJuIGZvcm1EYXRhLnZhbHVlVHlwZTJNdWx0aSA9PT0gJzEnXG4gICAgfSBlbHNlIGlmIChmb3JtRGF0YS52YWx1ZVR5cGUgPT09IDMpIHtcbiAgICAgIHJldHVybiBpc1JlbGF0aW9uRmllbGRNdXRpcGxlICYmIGZvcm1EYXRhLnZhbHVlVHlwZTNNdWx0aSA9PT0gJzEnXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9LCBbZm9ybURhdGEudmFsdWVUeXBlLCBmb3JtRGF0YS52YWx1ZVR5cGUyTXVsdGksIGZvcm1EYXRhLnZhbHVlVHlwZTNNdWx0aSwgaXNSZWxhdGlvbkZpZWxkTXV0aXBsZV0pXG5cbiAgY29uc3Qgb25HZXRGaWVsZFJlY29yZHMgPSAodikgPT4ge1xuICAgIGludm9rZUdldEZpZWxkUmVjb3Jkcyhmb3JtRGF0YS5yZWxhdGlvbkZvcm1JZCwgdi5maWVsZE5hbWUpXG4gIH1cblxuICBjb25zdCB1cGRhdGVGb3JtRGF0YSA9IChrZXk6IHN0cmluZywgdmFsdWU6IGFueSkgPT4ge1xuICAgIGRpc3BhdGNoRm9ybURhdGEoeyBba2V5XTogdmFsdWUgfSlcbiAgICBvbkNoYW5nZSh7IFtrZXldOiB2YWx1ZSB9KVxuICB9XG5cbiAgY29uc3QgYmF0Y2hVcGRhdGVGb3JtRGF0YSA9IChuZXdWYWw6IGFueSkgPT4ge1xuICAgIGRpc3BhdGNoRm9ybURhdGEobmV3VmFsKVxuICAgIG9uQ2hhbmdlKG5ld1ZhbClcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0VxdWFsKHZhbHVlLCBmb3JtRGF0YSkpIHtcbiAgICAgIGRpc3BhdGNoRm9ybURhdGEodmFsdWUpXG4gICAgICBmb3JtLnNldEZpZWxkc1ZhbHVlKHZhbHVlKVxuICAgIH1cbiAgfSwgW3ZhbHVlXSlcblxuICBjb25zdCBrdWlDb25maWcgPSB7XG4gICAgcHJlZml4Q2xzOiAna2QnXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSdiaWxsLWZpbmRlci1zZXR0aW5nJyBrZXk9e3J1bGVJZH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nc2V0dGluZy1mb3JtJz5cbiAgICAgICAgPEtVSUNvbmZpZ1Byb3ZpZGVyIHZhbHVlPXtrdWlDb25maWd9PlxuICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICBsYXlvdXQ9J3ZlcnRpY2FsJ1xuICAgICAgICAgICAgZm9ybT17Zm9ybX1cbiAgICAgICAgICAgIGxhYmVsV2lkdGg9JzEwMCUnXG4gICAgICAgICAgICB3cmFwcGVyV2lkdGg9JzEwMCUnXG4gICAgICAgICAgICBvblZhbHVlc0NoYW5nZT17KGNoYW5nZWRWYWx1ZSwgdmFsdWVzKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmb3JtJywgY2hhbmdlZFZhbHVlLCB2YWx1ZXMpXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbGFiZWw9J+inhOWImeWQjeensCdcbiAgICAgICAgICAgICAgbmFtZT0ncnVsZU5hbWUnXG4gICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgIHZhbGlkYXRlVHJpZ2dlcj0nb25CbHVyJ1xuICAgICAgICAgICAgICBydWxlcz17W3tcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeinhOWImeWQjeensCdcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlPy50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtuZXcgRXJyb3IoJ+ivt+i+k+WFpeinhOWImeWQjeensCcpXVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgICBib3JkZXJUeXBlPSdib3JkZXJlZCdcbiAgICAgICAgICAgICAgICBzaXplPSdtaWRkbGUnXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J+ivt+i+k+WFpeinhOWImeWQjeensCdcbiAgICAgICAgICAgICAgICBtYXhMZW5ndGg9ezUwfVxuICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5ydWxlTmFtZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB1cGRhdGVGb3JtRGF0YSgncnVsZU5hbWUnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgbGFiZWw9J+afpeaJvuaWueW8jydcbiAgICAgICAgICAgICAgbmFtZT0ndmFsdWVUeXBlJ1xuICAgICAgICAgICAgICBydWxlcz17W3tcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeinhOWImeWQjeensCcsIHR5cGU6ICdudW1iZXInXG4gICAgICAgICAgICAgIH1dfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8U2VjdGlvbmVyXG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtWQUxVRV9UWVBFX0ZJTFRFUn1cbiAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEudmFsdWVUeXBlfVxuICAgICAgICAgICAgICAgIG9wdGlvbnM9e1t7IGxhYmVsOiAn6YCa6L+H562b6YCJ5p2h5Lu2JywgdmFsdWU6IFZBTFVFX1RZUEVfRklMVEVSIH0sIHsgbGFiZWw6ICfpgJrov4flhbPogZTooajljZUnLCB2YWx1ZTogVkFMVUVfVFlQRV9SRUZCSUxMIH1dfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2ID0+IHVwZGF0ZUZvcm1EYXRhKCd2YWx1ZVR5cGUnLCB2KX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgey8qIOmAmui/h+etm+mAieadoeS7tiAqL31cbiAgICAgICAgICAgIHtmb3JtRGF0YS52YWx1ZVR5cGUgPT09IDIgJiYgKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgIGxhYmVsPSfmn6Xmib7ooajljZUnXG4gICAgICAgICAgICAgICAgICBuYW1lPSdyZWxhdGlvbkZvcm1JZCdcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPEtEVHJlZVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5yZWxhdGlvbkZvcm1JZCB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e3RyZWVEYXRhfVxuICAgICAgICAgICAgICAgICAgICBzaG93VHJlZUljb25cbiAgICAgICAgICAgICAgICAgICAgdHJlZUljb249eyhwcm9wczogYW55KSA9PiBwcm9wcy5pY29ufVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHY6IHN0cmluZyA9ICcnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgdiA9IHYgfHwgJydcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodiAhPT0gZm9ybURhdGEucmVsYXRpb25Gb3JtSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhdGNoVXBkYXRlRm9ybURhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvbkZvcm1JZDogdixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVySW5mb3M6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0SW5mb3M6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGUyUmVzdWx0OiBbXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uc2V0RmllbGRzVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvbkZvcm1JZDogdixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVySW5mb3M6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRJbmZvczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlMlJlc3VsdDogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgIGxhYmVsPSfphY3nva7nrZvpgInmnaHku7YnXG4gICAgICAgICAgICAgICAgICBuYW1lPSdmaWx0ZXJJbmZvcydcbiAgICAgICAgICAgICAgICAgIHJ1bGVzPXtbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYXJyYXknLCByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mFjee9ruetm+mAieadoeS7tidcbiAgICAgICAgICAgICAgICAgIH1dfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxGaWx0ZXJFZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgaWQ9J2ZpbHRlcidcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtmaWx0ZXJFZGl0b3JSZWZ9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlUmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgbmFtZT0n6YWN572u562b6YCJ5p2h5Lu2J1xuICAgICAgICAgICAgICAgICAgICB0aXBzPScnXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlc1RyZWU9e3ZhcmlhYmxlc1RyZWUgfHwgW119XG4gICAgICAgICAgICAgICAgICAgIGxpc3RGaWx0ZXJDb25maWc9e2xpc3RGaWx0ZXJDb25maWdQdXJlfVxuICAgICAgICAgICAgICAgICAgICBvbkdldEZpZWxkUmVjb3Jkcz17b25HZXRGaWVsZFJlY29yZHN9XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkUmVjb3Jkcz17ZmllbGRSZWNvcmRzTWFwfVxuICAgICAgICAgICAgICAgICAgICBuYW1lSGlkZGVuXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblRvcDogJzBweCcgfX1cbiAgICAgICAgICAgICAgICAgICAgZ2V0VmFyU2VsZWN0RGlzYWJsZWQ9e2dldFZhclNlbGVjdERpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgICBmaWVsZERhdGE9e3tcbiAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6ICd0cmVlU2VsZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxODRweCdcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlckZvb3RlckRhdGE9e3tcbiAgICAgICAgICAgICAgICAgICAgICBsaXN0VHlwZTogJ3RyZWUnLFxuICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJUZXh0OiAn5re75Yqg562b6YCJ5p2h5Lu2JyxcbiAgICAgICAgICAgICAgICAgICAgICB0cmVlUHJvcHM6IHsgZGVmYXVsdEV4cGFuZEFsbDogZmFsc2UgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEuZmlsdGVySW5mb3MgfHwgW119XG4gICAgICAgICAgICAgICAgICAgIHJlZkJpbGxQcm9wcz17cmVmQmlsbFByb3BzfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17diA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZm9ybS5zZXRGaWVsZFZhbHVlKCdmaWx0ZXJJbmZvcycsIHYpXG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRm9ybURhdGEoJ2ZpbHRlckluZm9zJywgdilcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgbGFiZWw9J+mFjee9ruaOkuW6j+adoeS7tidcbiAgICAgICAgICAgICAgICAgIG5hbWU9J3NvcnRJbmZvcydcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8T3JkZXJCeUVkaXRvclxuICAgICAgICAgICAgICAgICAgICBpZD0nZmlsdGVyJ1xuICAgICAgICAgICAgICAgICAgICBuYW1lPSfphY3nva7mjpLluo/mnaHku7YnXG4gICAgICAgICAgICAgICAgICAgIG5hbWVIaWRkZW5cbiAgICAgICAgICAgICAgICAgICAgdGlwcz0nJ1xuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5Ub3A6ICcwcHgnIH19XG4gICAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXtsaXN0VHJlZVNvcnRDb25maWcgfHwgW119XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5zb3J0SW5mb3MgfHwgW119XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2ID0+IHVwZGF0ZUZvcm1EYXRhKCdzb3J0SW5mb3MnLCB2KX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgbGFiZWw9J+afpeaJvuaVsOmHjydcbiAgICAgICAgICAgICAgICAgIG5hbWU9J3ZhbHVlVHlwZTJNdWx0aSdcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8U2VjdGlvbmVyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17REVGQVVMVF9NVUxUSX1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLnZhbHVlVHlwZTJNdWx0aX1cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucz17TVVMVElfT1BUSU9OU31cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3YgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGJhdGNoVXBkYXRlRm9ybURhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlMk11bHRpOiB2LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlMlJlc3VsdDogW11cbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgIGZvcm0uc2V0RmllbGRzVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlMk11bHRpOiB2LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlMlJlc3VsdDogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICAgIHtmb3JtRGF0YS52YWx1ZVR5cGUyTXVsdGkgPT09ICcxJyAmJiAoXG4gICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPSfmlbDph4/kuIrpmZDvvIjmnIDlpJoxMDAw5p2h77yJJ1xuICAgICAgICAgICAgICAgICAgICBuYW1lPSd2YWx1ZVR5cGUyVG9wJ1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJUeXBlPSdib3JkZXJlZCdcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEudmFsdWVUeXBlMlRvcH1cbiAgICAgICAgICAgICAgICAgICAgICBtaW49ezB9XG4gICAgICAgICAgICAgICAgICAgICAgbWF4PXsxMDAwfVxuICAgICAgICAgICAgICAgICAgICAgIG11c3RJblNjb3BlXG4gICAgICAgICAgICAgICAgICAgICAgZGVjaW1hbExlbmd0aD17MH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB1cGRhdGVGb3JtRGF0YSgndmFsdWVUeXBlMlRvcCcsIGUudGFyZ2V0Py52YWx1ZSB8fCAnJyl9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgIGxhYmVsPSfmn6Xmib7liLDorrDlvZXlkI4nXG4gICAgICAgICAgICAgICAgICBuYW1lPSd2YWx1ZVR5cGUyUmVzdWx0J1xuICAgICAgICAgICAgICAgICAgcnVsZXM9e0FDVElPTlNfUlVMRVN9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPEFjdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgcHJlZml4Q2xzPXtwcmVmaXhDbHN9XG4gICAgICAgICAgICAgICAgICAgIGlzTXVsdGlNb2RlPXtpc011bHRpTW9kZX1cbiAgICAgICAgICAgICAgICAgICAgc2VsQmlsbFZhbHVlPXtmb3JtRGF0YS5yZWxhdGlvbkZvcm1JZCB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgc291cmNlRmllbGRPcHRpb25zPXtyZWxhdGlvbkZvcm1Tb3VyY2VGaWVsZE9wdGlvbnN9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS52YWx1ZVR5cGUyUmVzdWx0IHx8IFtdfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17diA9PiB1cGRhdGVGb3JtRGF0YSgndmFsdWVUeXBlMlJlc3VsdCcsIHYpfVxuICAgICAgICAgICAgICAgICAgICBjdXJMaXN0RmlsdGVyQ29uZmlnPXtjdXJMaXN0RmlsdGVyQ29uZmlnfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgey8qIOmAmui/h+WFs+iBlOihqOWNlSAqL31cbiAgICAgICAgICAgIHtmb3JtRGF0YS52YWx1ZVR5cGUgPT09IDMgJiYgKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgIGxhYmVsPSfpgInmi6nlhbPogZTooajljZUnXG4gICAgICAgICAgICAgICAgICBuYW1lPSdyZWxhdGlvbkZpZWxkSWQnXG4gICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxLRFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzdWZmaXgtaWNvbi1uby1hbmltYXRpb24nXG4gICAgICAgICAgICAgICAgICAgIGFsbG93Q2xlYXJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLnJlbGF0aW9uRmllbGRJZH1cbiAgICAgICAgICAgICAgICAgICAgdHJlZURhdGE9e3JlZkJpbGxGaWVsZFRyZWV9XG4gICAgICAgICAgICAgICAgICAgIHN1ZmZpeEljb249ezxJY29uIHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPSdkdWl4aWFuZ3h1YW56ZTInIC8+fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlUmVsYXRpb25GaWVsZElkQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICBzaG93RnVsbExhYmVsVGlwc1xuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICB7aXNSZWxhdGlvbkZpZWxkTXV0aXBsZSAmJiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWw9J+mFjee9ruetm+mAieadoeS7tidcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPSd2YWx1ZVR5cGUzRmlsdGVySW5mb3MnXG4gICAgICAgICAgICAgICAgICAgICAgcnVsZXM9e1t7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYXJyYXknLCByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mFjee9ruetm+mAieadoeS7tidcbiAgICAgICAgICAgICAgICAgICAgICB9XX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxGaWx0ZXJFZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdmaWx0ZXInXG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9e2ZpZWxkRmlsdGVyRWRpdG9yUmVmfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVSZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT0n6YWN572u562b6YCJ5p2h5Lu2J1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlwcz0nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzVHJlZT17dmFyaWFibGVzVHJlZSB8fCBbXX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RGaWx0ZXJDb25maWc9e2xpc3RGaWx0ZXJDb25maWdQdXJlfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25HZXRGaWVsZFJlY29yZHM9e29uR2V0RmllbGRSZWNvcmRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRSZWNvcmRzPXtmaWVsZFJlY29yZHNNYXB9XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lSGlkZGVuXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5Ub3A6ICcwcHgnIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRWYXJTZWxlY3REaXNhYmxlZD17Z2V0VmFyU2VsZWN0RGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZERhdGE9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRUeXBlOiAndHJlZVNlbGVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxODRweCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckZvb3RlckRhdGE9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFR5cGU6ICd0cmVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclRleHQ6ICfmt7vliqDnrZvpgInmnaHku7YnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmVlUHJvcHM6IHsgZGVmYXVsdEV4cGFuZEFsbDogZmFsc2UgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS52YWx1ZVR5cGUzRmlsdGVySW5mb3MgfHwgW119XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZCaWxsUHJvcHM9e3JlZkJpbGxQcm9wc31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5zZXRGaWVsZFZhbHVlKCd2YWx1ZVR5cGUzRmlsdGVySW5mb3MnLCB2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVGb3JtRGF0YSgndmFsdWVUeXBlM0ZpbHRlckluZm9zJywgdilcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbD0n6YWN572u5o6S5bqP5p2h5Lu2J1xuICAgICAgICAgICAgICAgICAgICAgIG5hbWU9J3ZhbHVlVHlwZTNTb3J0SW5mb3MnXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8T3JkZXJCeUVkaXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2ZpbHRlcidcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9J+mFjee9ruaOkuW6j+adoeS7tidcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVIaWRkZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcHM9JydcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblRvcDogJzBweCcgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyZWVEYXRhPXtsaXN0VHJlZVNvcnRDb25maWcgfHwgW119XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEudmFsdWVUeXBlM1NvcnRJbmZvcyB8fCBbXX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2ID0+IHVwZGF0ZUZvcm1EYXRhKCd2YWx1ZVR5cGUzU29ydEluZm9zJywgdil9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbD0n5p+l5om+5pWw6YePJ1xuICAgICAgICAgICAgICAgICAgICAgIG5hbWU9J3ZhbHVlVHlwZTNNdWx0aSdcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWN0aW9uZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17REVGQVVMVF9NVUxUSX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS52YWx1ZVR5cGUzTXVsdGl9XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXtNVUxUSV9PUFRJT05TfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3YgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBiYXRjaFVwZGF0ZUZvcm1EYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGUzTXVsdGk6IHYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlM1Jlc3VsdDogW11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5zZXRGaWVsZHNWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlM011bHRpOiB2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTNSZXN1bHQ6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIHtmb3JtRGF0YS52YWx1ZVR5cGUzTXVsdGkgPT09ICcxJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9J+aVsOmHj+S4iumZkO+8iOacgOWkmjEwMDDmnaHvvIknXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lPSd2YWx1ZVR5cGUzVG9wJ1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyVHlwZT0nYm9yZGVyZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS52YWx1ZVR5cGUzVG9wfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49ezB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1heD17MTAwMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbXVzdEluU2NvcGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjaW1hbExlbmd0aD17MH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdXBkYXRlRm9ybURhdGEoJ3ZhbHVlVHlwZTNUb3AnLCBlLnRhcmdldD8udmFsdWUgfHwgJycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPEZvcm0uSXRlbVxuICAgICAgICAgICAgICAgICAgbGFiZWw9J+afpeaJvuWIsOiusOW9leWQjidcbiAgICAgICAgICAgICAgICAgIG5hbWU9J3ZhbHVlVHlwZTNSZXN1bHQnXG4gICAgICAgICAgICAgICAgICBydWxlcz17QUNUSU9OU19SVUxFU31cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8QWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICBwcmVmaXhDbHM9e3ByZWZpeENsc31cbiAgICAgICAgICAgICAgICAgICAgaXNNdWx0aU1vZGU9e2lzTXVsdGlNb2RlfVxuICAgICAgICAgICAgICAgICAgICBzZWxCaWxsVmFsdWU9e3JlbGF0aW9uRmllbGRCaWxsRW50aXR5SWQgfHwgJyd9XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uRmllbGRJZD17Zm9ybURhdGEucmVsYXRpb25GaWVsZElkfVxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VGaWVsZE9wdGlvbnM9e3NvdXJjZUZpZWxkT3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLnZhbHVlVHlwZTNSZXN1bHQgfHwgW119XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2ID0+IHVwZGF0ZUZvcm1EYXRhKCd2YWx1ZVR5cGUzUmVzdWx0Jywgdil9XG4gICAgICAgICAgICAgICAgICAgIGN1ckxpc3RGaWx0ZXJDb25maWc9e2N1ckxpc3RGaWx0ZXJDb25maWd9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9Gb3JtPlxuICAgICAgICA8L0tVSUNvbmZpZ1Byb3ZpZGVyPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nc2V0dGluZy1mb290ZXInPlxuICAgICAgICA8QnV0dG9uIHNpemU9J3NtYWxsJyB0eXBlPSdwcmltYXJ5JyBvbkNsaWNrPXtoYW5kbGVTYXZlfT7kv53lrZg8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEJpbGxRdWlja0ZpbmRlclNldHRpbmdcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///96884\n");

/***/ }),

/***/ 91748:
/*!****************************************!*\
  !*** ./src/editors/BizRules/index.tsx ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAffectfldsOrDepflds: function() { return /* binding */ getAffectfldsOrDepflds; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _BillQuickFinderModal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./BillQuickFinderModal */ 24924);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils */ 41232);\n\n\n\n\n/**\r\n * 动态赋值属性编辑\r\n */\n\n\n\n\n\nvar getAffectfldsOrDepflds = function getAffectfldsOrDepflds(rule) {\n  var _context;\n  var ruleInfoJson = rule.ruleInfo;\n  var ruleInfo = ruleInfoJson && (0,_utils__WEBPACK_IMPORTED_MODULE_8__.isJson)(ruleInfoJson) ? JSON.parse(ruleInfoJson) : {};\n  var _ruleInfo$value = ruleInfo.value,\n    value = _ruleInfo$value === void 0 ? {} : _ruleInfo$value;\n  var affectfldkeys = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default()(_context = (value === null || value === void 0 ? void 0 : value.result) || []).call(_context, function (item) {\n    return item.targetField;\n  }).join();\n  var matches = ruleInfoJson === null || ruleInfoJson === void 0 ? void 0 : ruleInfoJson.match(/\\${model\\.[\\w_]+}/g);\n  var depfldkeys = (matches === null || matches === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default()(matches).call(matches, function (str) {\n    return str.replace(/\\${model\\.([\\w_]+)}/, '$1');\n  })) || '';\n  return {\n    affectfldkeys: affectfldkeys,\n    depfldkeys: depfldkeys\n  };\n};\nvar BizRules = function BizRules(props) {\n  var locked = props.locked,\n    field = props.field;\n  var controlName = field.Name,\n    fieldKey = field.Key,\n    ParentId = field.ParentId;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    modalVisible = _useState2[0],\n    setModalVisible = _useState2[1];\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_context__WEBPACK_IMPORTED_MODULE_6__.DesignerContext),\n    invokeAction = _useContext.invokeAction,\n    prefixCls = _useContext.prefixCls,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    getDataRef = _useContext.getDataRef,\n    getBizRules = _useContext.getBizRules,\n    fetchListTree = _useContext.fetchListTree;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data;\n  var formId = dataContext.getRootId();\n  var savedRules = getBizRules() || [];\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useReducer)(function (n) {\n      return n + 1;\n    }, 0),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useReducer, 2),\n    refreshEditorDisplay = _useReducer2[1];\n  var handleClick = function handleClick() {\n    var _dataContext$findCont = dataContext.findControl(ParentId),\n      parentType = _dataContext$findCont._Type_,\n      parentKey = _dataContext$findCont.Key;\n    // const fldKey = isRefBillTable(parentType) ? `${parentKey}.${field.Key}` : field.Key\n    // const postData = [{ nocodeformdesigner: getDataRef() }]\n    // invokeAction('getBizRules', [{ formId, fieldKey: fldKey }], postData)\n    fetchListTree();\n    setModalVisible(true);\n  };\n  var editorDisplay = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {\n    var ruleCount = savedRules.reduce(function (count, rule) {\n      var _getAffectfldsOrDepfl = getAffectfldsOrDepflds(rule),\n        affectfldkeys = _getAffectfldsOrDepfl.affectfldkeys,\n        depfldkeys = _getAffectfldsOrDepfl.depfldkeys;\n      if (affectfldkeys !== null && affectfldkeys !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(affectfldkeys).call(affectfldkeys, fieldKey) || depfldkeys !== null && depfldkeys !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(depfldkeys).call(depfldkeys, fieldKey)) {\n        return count + 1;\n      }\n      return count;\n    }, 0);\n    return ruleCount !== 0 ? \"\".concat(ruleCount, \"\\u6761\\u89C4\\u5219\") : '';\n  }, [savedRules, fieldKey]);\n  var modalPrefixCls = \"\".concat(prefixCls, \"-billFinder\");\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.CustomInputTrigger, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n    placeholder: \"\\u8BF7\\u9009\\u62E9\",\n    disabled: locked,\n    value: editorDisplay,\n    onClick: handleClick,\n    onInputClick: handleClick\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_BillQuickFinderModal__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    prefixCls: modalPrefixCls,\n    visible: modalVisible,\n    setVisible: setModalVisible,\n    field: field,\n    title: \"\".concat(controlName, \"-\\u67E5\\u627E\\u8868\\u5355\\u8BB0\\u5F55\"),\n    refreshEditorDisplay: refreshEditorDisplay\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (BizRules);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTE3NDguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9CaXpSdWxlcy9pbmRleC50c3g/YzUxMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog5Yqo5oCB6LWL5YC85bGe5oCn57yW6L6RXHJcbiAqL1xyXG5pbXBvcnQgUmVhY3QsIHsgRkMsIHVzZVN0YXRlLCB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VSZWR1Y2VyIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCBCaWxsUXVpY2tGaW5kZXJNb2RhbCBmcm9tICcuL0JpbGxRdWlja0ZpbmRlck1vZGFsJ1xyXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0J1xyXG5pbXBvcnQgeyBpc1JlZkJpbGxUYWJsZSB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbnRyb2wnXHJcbmltcG9ydCB7IEN1c3RvbUlucHV0VHJpZ2dlciwgUHJvcGVydHlFZGl0b3JQcm9wcyB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcclxuaW1wb3J0IHsgaXNKc29uIH0gZnJvbSAnLi4vLi4vdXRpbHMnXHJcblxyXG5leHBvcnQgY29uc3QgZ2V0QWZmZWN0Zmxkc09yRGVwZmxkcyA9IChydWxlOiBhbnkpID0+IHtcclxuICBjb25zdCB7IHJ1bGVJbmZvOiBydWxlSW5mb0pzb24gfSA9IHJ1bGVcclxuICBjb25zdCBydWxlSW5mbyA9IHJ1bGVJbmZvSnNvbiAmJiBpc0pzb24ocnVsZUluZm9Kc29uKSA/IEpTT04ucGFyc2UocnVsZUluZm9Kc29uKSA6IHt9XHJcbiAgY29uc3QgeyB2YWx1ZSA9IHt9IH0gPSBydWxlSW5mb1xyXG4gIGNvbnN0IGFmZmVjdGZsZGtleXMgPSAodmFsdWU/LnJlc3VsdCB8fCBbXSkubWFwKGl0ZW0gPT4gaXRlbS50YXJnZXRGaWVsZCkuam9pbigpXHJcbiAgY29uc3QgbWF0Y2hlcyA9IHJ1bGVJbmZvSnNvbj8ubWF0Y2goL1xcJHttb2RlbFxcLltcXHdfXSt9L2cpXHJcbiAgY29uc3QgZGVwZmxka2V5cyA9IG1hdGNoZXM/Lm1hcChzdHIgPT4gc3RyLnJlcGxhY2UoL1xcJHttb2RlbFxcLihbXFx3X10rKX0vLCAnJDEnKSkgfHwgJydcclxuICByZXR1cm4geyBhZmZlY3RmbGRrZXlzLCBkZXBmbGRrZXlzIH1cclxufVxyXG5cclxuY29uc3QgQml6UnVsZXM6IEZDPFByb3BlcnR5RWRpdG9yUHJvcHM+ID0gKHByb3BzKSA9PiB7XHJcbiAgY29uc3QgeyBsb2NrZWQsIGZpZWxkIH0gPSBwcm9wc1xyXG4gIGNvbnN0IHsgTmFtZTogY29udHJvbE5hbWUsIEtleTogZmllbGRLZXksIFBhcmVudElkIH0gPSBmaWVsZFxyXG4gIGNvbnN0IFttb2RhbFZpc2libGUsIHNldE1vZGFsVmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSlcclxuICBjb25zdCB7IGludm9rZUFjdGlvbiwgcHJlZml4Q2xzLCBnZXRLZGVzaWduZXJBcGksIGdldERhdGFSZWYsIGdldEJpelJ1bGVzLCBmZXRjaExpc3RUcmVlIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcclxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0IH0gPSBnZXRLZGVzaWduZXJBcGkoKVxyXG4gIGNvbnN0IGZvcm1JZCA9IGRhdGFDb250ZXh0LmdldFJvb3RJZCgpXHJcbiAgY29uc3Qgc2F2ZWRSdWxlcyA9IGdldEJpelJ1bGVzKCkgfHwgW11cclxuICBjb25zdCBbLCByZWZyZXNoRWRpdG9yRGlzcGxheV0gPSB1c2VSZWR1Y2VyKG4gPT4gbiArIDEsIDApXHJcblxyXG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyBfVHlwZV86IHBhcmVudFR5cGUsIEtleTogcGFyZW50S2V5IH0gPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChQYXJlbnRJZClcclxuICAgIC8vIGNvbnN0IGZsZEtleSA9IGlzUmVmQmlsbFRhYmxlKHBhcmVudFR5cGUpID8gYCR7cGFyZW50S2V5fS4ke2ZpZWxkLktleX1gIDogZmllbGQuS2V5XHJcbiAgICAvLyBjb25zdCBwb3N0RGF0YSA9IFt7IG5vY29kZWZvcm1kZXNpZ25lcjogZ2V0RGF0YVJlZigpIH1dXHJcbiAgICAvLyBpbnZva2VBY3Rpb24oJ2dldEJpelJ1bGVzJywgW3sgZm9ybUlkLCBmaWVsZEtleTogZmxkS2V5IH1dLCBwb3N0RGF0YSlcclxuICAgIGZldGNoTGlzdFRyZWUoKVxyXG4gICAgc2V0TW9kYWxWaXNpYmxlKHRydWUpXHJcbiAgfVxyXG5cclxuICBjb25zdCBlZGl0b3JEaXNwbGF5ID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBjb25zdCBydWxlQ291bnQgPSBzYXZlZFJ1bGVzLnJlZHVjZSgoY291bnQ6IG51bWJlciwgcnVsZTogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgYWZmZWN0Zmxka2V5cywgZGVwZmxka2V5cyB9ID0gZ2V0QWZmZWN0Zmxkc09yRGVwZmxkcyhydWxlKVxyXG4gICAgICBpZiAoYWZmZWN0Zmxka2V5cz8uaW5jbHVkZXMoZmllbGRLZXkpIHx8IGRlcGZsZGtleXM/LmluY2x1ZGVzKGZpZWxkS2V5KSkge1xyXG4gICAgICAgIHJldHVybiBjb3VudCArIDFcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gY291bnRcclxuICAgIH0sIDApXHJcbiAgICByZXR1cm4gcnVsZUNvdW50ICE9PSAwID8gYCR7cnVsZUNvdW50feadoeinhOWImWAgOiAnJ1xyXG4gIH0sIFtzYXZlZFJ1bGVzLCBmaWVsZEtleV0pXHJcblxyXG4gIGNvbnN0IG1vZGFsUHJlZml4Q2xzID0gYCR7cHJlZml4Q2xzfS1iaWxsRmluZGVyYFxyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICA8Q3VzdG9tSW5wdXRUcmlnZ2VyXHJcbiAgICAgICAgey4uLnByb3BzfVxyXG4gICAgICAgIHBsYWNlaG9sZGVyPSfor7fpgInmi6knXHJcbiAgICAgICAgZGlzYWJsZWQ9e2xvY2tlZH1cclxuICAgICAgICB2YWx1ZT17ZWRpdG9yRGlzcGxheX1cclxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbGlja31cclxuICAgICAgICBvbklucHV0Q2xpY2s9e2hhbmRsZUNsaWNrfVxyXG4gICAgICAvPlxyXG4gICAgICA8QmlsbFF1aWNrRmluZGVyTW9kYWxcclxuICAgICAgICBwcmVmaXhDbHM9e21vZGFsUHJlZml4Q2xzfVxyXG4gICAgICAgIHZpc2libGU9e21vZGFsVmlzaWJsZX1cclxuICAgICAgICBzZXRWaXNpYmxlPXtzZXRNb2RhbFZpc2libGV9XHJcbiAgICAgICAgZmllbGQ9e2ZpZWxkfVxyXG4gICAgICAgIHRpdGxlPXtgJHtjb250cm9sTmFtZX0t5p+l5om+6KGo5Y2V6K6w5b2VYH1cclxuICAgICAgICByZWZyZXNoRWRpdG9yRGlzcGxheT17cmVmcmVzaEVkaXRvckRpc3BsYXl9XHJcbiAgICAgIC8+XHJcbiAgICA8Lz5cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJpelJ1bGVzXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///91748\n");

/***/ }),

/***/ 38572:
/*!*******************************************!*\
  !*** ./src/editors/ColorPickerEditor.tsx ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set */ 99308);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _components_ColorPickerContent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/ColorPickerContent */ 76844);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../constants */ 98092);\n\nvar _context, _context2;\n\n\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-02-06 15:41:37\n * @LastEditTime: 2024-05-07 15:03:43\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n// 自定义背景颜色\nvar CUSTOM_BG_COLOR = '#F8FAFC';\nvar colorList = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_1___default())(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default()(_context = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(_constants__WEBPACK_IMPORTED_MODULE_11__.PRIMARY_COLOR_DATA)).call(_context, function (item) {\n  return _constants__WEBPACK_IMPORTED_MODULE_11__.PRIMARY_COLOR_DATA[item];\n})));\nvar bgcolorList = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4___default()(_context2 = [CUSTOM_BG_COLOR]).call(_context2, colorList);\nvar ColorPickerEditor = function ColorPickerEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    field = props.field,\n    name = props.Name,\n    tips = props.Tips;\n  var nameHidden = editor.NameHidden,\n    Default = editor.Default,\n    required = editor.Required,\n    title = editor.Title;\n  var BackImage = field.BackImage;\n  var init = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useRef)(true);\n  var editorValue = (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_10__.isUndefined)(value) ? Default : String(value);\n  var handleColorChange = function handleColorChange(value) {\n    if (locked) return;\n    handleChange(value);\n  };\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    !editorValue && handleColorChange(colorList[0]);\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    if (BackImage && !init.current) {\n      // 切换不同的背景图，对应的背景颜色也发生变化\n      var selectImageBgc = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_5___default()(_constants__WEBPACK_IMPORTED_MODULE_11__.BGIMG_DESC_LIST).call(_constants__WEBPACK_IMPORTED_MODULE_11__.BGIMG_DESC_LIST, function (item, index) {\n        return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(BackImage).call(BackImage, \"background_\".concat(index + 1));\n      });\n\n      // 当\n      handleColorChange(selectImageBgc ? _constants__WEBPACK_IMPORTED_MODULE_11__.PRIMARY_COLOR_DATA[selectImageBgc.primaryColor] : CUSTOM_BG_COLOR);\n    }\n    init.current = false;\n  }, [BackImage, _constants__WEBPACK_IMPORTED_MODULE_11__.BGIMG_DESC_LIST]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_components_ColorPickerContent__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    className: \"\".concat(className, \"-colorpicker-content\"),\n    colorList: bgcolorList,\n    prefixClass: className,\n    onChange: handleColorChange,\n    value: editorValue\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ColorPickerEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg1NzIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2VkaXRvcnMvQ29sb3JQaWNrZXJFZGl0b3IudHN4PzBiMTYiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMy0wMi0wNiAxNTo0MTozN1xuICogQExhc3RFZGl0VGltZTogMjAyNC0wNS0wNyAxNTowMzo0M1xuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCwgeyBGQywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IE5hbWVUaXBXcmFwcGVyLCBQcm9wZXJ0eUVkaXRvclByb3BzIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IENvbG9yUGlja2VyQ29udGVudCBmcm9tICcuLi9jb21wb25lbnRzL0NvbG9yUGlja2VyQ29udGVudCdcbmltcG9ydCB7IGlzVW5kZWZpbmVkIH0gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IHsgQkdJTUdfREVTQ19MSVNULCBQUklNQVJZX0NPTE9SX0RBVEEgfSBmcm9tICcuLi9jb25zdGFudHMnXG5cbi8vIOiHquWumuS5ieiDjOaZr+minOiJslxuY29uc3QgQ1VTVE9NX0JHX0NPTE9SID0gJyNGOEZBRkMnXG5cbmNvbnN0IGNvbG9yTGlzdCA9IFsuLi5uZXcgU2V0KE9iamVjdC5rZXlzKFBSSU1BUllfQ09MT1JfREFUQSkubWFwKGl0ZW0gPT4gUFJJTUFSWV9DT0xPUl9EQVRBW2l0ZW1dKSldXG5cbmNvbnN0IGJnY29sb3JMaXN0ID0gW0NVU1RPTV9CR19DT0xPUl0uY29uY2F0KGNvbG9yTGlzdClcblxuY29uc3QgQ29sb3JQaWNrZXJFZGl0b3I6IEZDPFByb3BlcnR5RWRpdG9yUHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaGFuZGxlQ2hhbmdlLCB2YWx1ZSwgY2xhc3NOYW1lLCBlZGl0b3IsIGxvY2tlZCwgZmllbGQsIE5hbWU6IG5hbWUsIFRpcHM6IHRpcHMgfSA9IHByb3BzXG4gIGNvbnN0IHsgTmFtZUhpZGRlbjogbmFtZUhpZGRlbiwgRGVmYXVsdCwgUmVxdWlyZWQ6IHJlcXVpcmVkLCBUaXRsZTogdGl0bGUgfSA9IGVkaXRvclxuICBjb25zdCB7IEJhY2tJbWFnZSB9ID0gZmllbGRcbiAgY29uc3QgaW5pdCA9IHVzZVJlZih0cnVlKVxuICBjb25zdCBlZGl0b3JWYWx1ZSA9IGlzVW5kZWZpbmVkKHZhbHVlKSA/IERlZmF1bHQgOiBTdHJpbmcodmFsdWUpXG5cbiAgY29uc3QgaGFuZGxlQ29sb3JDaGFuZ2UgPSAodmFsdWUpID0+IHtcbiAgICBpZiAobG9ja2VkKSByZXR1cm5cblxuICAgIGhhbmRsZUNoYW5nZSh2YWx1ZSlcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgIWVkaXRvclZhbHVlICYmIGhhbmRsZUNvbG9yQ2hhbmdlKGNvbG9yTGlzdFswXSlcbiAgfSwgW10pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoQmFja0ltYWdlICYmICFpbml0LmN1cnJlbnQpIHtcbiAgICAgIC8vIOWIh+aNouS4jeWQjOeahOiDjOaZr+Wbvu+8jOWvueW6lOeahOiDjOaZr+minOiJsuS5n+WPkeeUn+WPmOWMllxuICAgICAgY29uc3Qgc2VsZWN0SW1hZ2VCZ2MgPSBCR0lNR19ERVNDX0xJU1QuZmluZCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgcmV0dXJuIEJhY2tJbWFnZS5pbmNsdWRlcyhgYmFja2dyb3VuZF8ke2luZGV4ICsgMX1gKVxuICAgICAgfSlcblxuICAgICAgLy8g5b2TXG4gICAgICBoYW5kbGVDb2xvckNoYW5nZShzZWxlY3RJbWFnZUJnYyA/IFBSSU1BUllfQ09MT1JfREFUQVtzZWxlY3RJbWFnZUJnYy5wcmltYXJ5Q29sb3JdIDogQ1VTVE9NX0JHX0NPTE9SKVxuICAgIH1cbiAgICBpbml0LmN1cnJlbnQgPSBmYWxzZVxuICB9LCBbQmFja0ltYWdlLCBCR0lNR19ERVNDX0xJU1RdKVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxOYW1lVGlwV3JhcHBlciBuYW1lSGlkZGVuPXtuYW1lSGlkZGVufSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gbmFtZT17bmFtZX0gdGlwcz17dGlwc30gcmVxdWlyZWQ9e3JlcXVpcmVkfSB0aXRsZT17dGl0bGV9IC8+XG4gICAgICA8Q29sb3JQaWNrZXJDb250ZW50IGNsYXNzTmFtZT17YCR7Y2xhc3NOYW1lfS1jb2xvcnBpY2tlci1jb250ZW50YH0gY29sb3JMaXN0PXtiZ2NvbG9yTGlzdH0gcHJlZml4Q2xhc3M9e2NsYXNzTmFtZX0gb25DaGFuZ2U9e2hhbmRsZUNvbG9yQ2hhbmdlfSB2YWx1ZT17ZWRpdG9yVmFsdWV9IC8+XG4gICAgPC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29sb3JQaWNrZXJFZGl0b3JcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///38572\n");

/***/ }),

/***/ 96680:
/*!***********************************************!*\
  !*** ./src/editors/ConditionEditor/index.tsx ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 24496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/values */ 72400);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils */ 41232);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/control */ 3700);\n/* harmony import */ var _utils_treeUtils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/treeUtils */ 31340);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _hooks_useListTreeConfigParser__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../hooks/useListTreeConfigParser */ 13276);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _Condition$constants = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_13__.Condition.constants,\n  allFieldRegExp = _Condition$constants.allFieldRegExp,\n  allExpRegExp = _Condition$constants.allExpRegExp,\n  expRegExp = _Condition$constants.expRegExp;\nvar DEFAULT_VALUE_OBJECT = {\n  valueType: 1,\n  value: ''\n};\nvar DEFAULT_VALUE = _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(DEFAULT_VALUE_OBJECT);\nvar getInputValue = function getInputValue(str) {\n  try {\n    if ((0,_utils__WEBPACK_IMPORTED_MODULE_10__.isJson)(str)) {\n      var valueObject = JSON.parse(str);\n      return (valueObject === null || valueObject === void 0 ? void 0 : valueObject.value) || '';\n    }\n    return '';\n  } catch (e) {\n    console.error(e);\n  }\n};\nvar getFormulaValue = function getFormulaValue(str) {\n  var _ref = str ? str.split('@@') : ['', '', null],\n    _ref2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_ref, 3),\n    newValue = _ref2[1],\n    lang = _ref2[2]; // 编辑器值|语言\n  return [newValue, lang];\n};\nvar kuiConfig = {\n  prefixCls: 'kd'\n};\nvar FormulaRuleEditor = function FormulaRuleEditor(props) {\n  var _context;\n  var className = props.className,\n    locked = props.locked,\n    Editor = props.Editor,\n    name = props.Name,\n    tips = props.Tips,\n    field = props.field;\n  var nameHidden = Editor.NameHidden,\n    required = Editor.Required,\n    title = Editor.Title;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useContext)(_context__WEBPACK_IMPORTED_MODULE_9__.DesignerContext),\n    invokeAction = _useContext.invokeAction,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    getExpressionData = _useContext.getExpressionData,\n    getCompareTypes = _useContext.getCompareTypes,\n    curFormulaTreeApi = _useContext.curFormulaTreeApi,\n    fetchListTree = _useContext.fetchListTree,\n    setFormulaRules = _useContext.setFormulaRules,\n    getFormulaRules = _useContext.getFormulaRules;\n  var ParentId = field.ParentId,\n    currentName = field.Name,\n    key = field.Key;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState, 2),\n    formulaVisible = _useState2[0],\n    setFormulaVisible = _useState2[1];\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    metaContext = _getKdesignerApi.meta;\n  var _dataContext$findCont = dataContext.findControl(ParentId),\n    parentType = _dataContext$findCont._Type_,\n    parentKey = _dataContext$findCont.Key;\n  var currentKey = (0,_utils_control__WEBPACK_IMPORTED_MODULE_11__.isRefBillTable)(parentType) ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4___default()(_context = \"\".concat(parentKey, \".\")).call(_context, key) : key;\n  var rootId = dataContext.getRootId();\n  var FormulaRule = getFormulaRules();\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useState)((FormulaRule === null || FormulaRule === void 0 ? void 0 : FormulaRule[currentKey]) || DEFAULT_VALUE),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState3, 2),\n    innerValue = _useState4[0],\n    setInnerValue = _useState4[1];\n  var compareTypesMap = getCompareTypes();\n  var expressionData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(function () {\n    return getExpressionData();\n  }, [getExpressionData]);\n  var operations = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(function () {\n    return _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_5___default()(expressionData.functionOperations);\n  }, [expressionData]);\n\n  // 根据后端指令设置当前字段配置的运算公式\n  // const setDefValueForFormulaCb = (args) => {\n  //   const { bizRule, fieldKey } = args || {}\n  //   if (bizRule && fieldKey === currentKey) {\n  //     setInnerValue(bizRule)\n  //   }\n  // }\n\n  // useEffect(() => {\n  //   eventBus.on(SET_DEFVALUE_FOR_FORMULA, setDefValueForFormulaCb)\n  //   return () => {\n  //     eventBus.off(SET_DEFVALUE_FOR_FORMULA, setDefValueForFormulaCb)\n  //   }\n  // }, [])\n\n  var curListFilterConfig = (0,_hooks_useListTreeConfigParser__WEBPACK_IMPORTED_MODULE_14__[\"default\"])({\n    api: curFormulaTreeApi,\n    parser: function parser(data) {\n      return (0,_utils__WEBPACK_IMPORTED_MODULE_10__.listFilterParser)(data, data, compareTypesMap);\n    }\n  });\n  var fieldData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(function () {\n    var currRefbillTableKey = (0,_utils_control__WEBPACK_IMPORTED_MODULE_11__.isRefBillTable)(parentType) ? parentKey : undefined;\n    return (0,_utils_treeUtils__WEBPACK_IMPORTED_MODULE_12__.translateFieldData)({\n      options: curListFilterConfig,\n      currRefbillTableKey: currRefbillTableKey\n    });\n  }, [curListFilterConfig, rootId, parentKey]);\n  var handleClear = function handleClear(e) {\n    e.stopPropagation();\n    invokeAction('deleteBizRule', [{\n      formId: rootId,\n      fieldKey: currentKey\n    }], []);\n    handleChange(DEFAULT_VALUE_OBJECT);\n  };\n\n  // 发起请求：当前字段配置的公式运算规则\n  var invokeGetFieldLookSetting = function invokeGetFieldLookSetting() {\n    invokeAction('getBizRule', [{\n      formId: rootId,\n      fieldKey: currentKey\n    }], []);\n  };\n\n  // useEffect(() => {\n  //   // 请求数据\n  //   invokeGetFieldLookSetting()\n  // }, [])\n\n  var invokeGetCurFormListConfig = function invokeGetCurFormListConfig() {\n    fetchListTree('formula');\n  };\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(function () {\n    invokeGetCurFormListConfig();\n  }, [currentName]);\n  var invokeSaveBizRule = function invokeSaveBizRule(ruleInfo) {\n    invokeAction('saveBizRule', [{\n      formId: rootId,\n      fieldKey: currentKey,\n      ruleInfo: _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(ruleInfo)\n    }]);\n  };\n  var handleChange = function handleChange(valueObject) {\n    var newValue = _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(valueObject);\n    var newFormulaRule = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(FormulaRule || {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, currentKey, newValue));\n    setInnerValue(newValue);\n    setFormulaRules(newFormulaRule);\n    // dataContext.batchUpdateControlPropertyValues(createUpdateAction([[rootId, { FormulaRule: newFormulaRule }]]))\n  };\n  var formatData = function formatData(str, isCN) {\n    var _context2, _context3;\n    if (!str) return ''; // 为空值时\n    // 替换中文字符\n    str = str.replace(/）/g, ')').replace(/（/g, '(').replace(/“/g, '\"').replace(/”/g, '\"').replace(/‘/g, \"'\").replace(/’/g, \"'\");\n    var newStr = str.replace(/ {{/g, '{{').replace(/}} /g, '}}').replace(allFieldRegExp, '$1');\n    newStr = newStr.replace(allExpRegExp, function (arg) {\n      var _arg$match;\n      var matchStr = ((_arg$match = arg.match(expRegExp)) === null || _arg$match === void 0 ? void 0 : _arg$match[1]) || '';\n      return matchStr.replace('YMDDATE', 'DATE');\n    });\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4___default()(_context2 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_4___default()(_context3 = \"\".concat(newStr, \"@@\")).call(_context3, str, \"@@\")).call(_context2, isCN ? 1 : 0);\n  };\n  var formulaData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(function () {\n    return getFormulaValue(getInputValue(innerValue));\n  }, [innerValue]);\n  var handleShowFormulaModal = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useCallback)(function () {\n    setFormulaVisible(true);\n  }, [setFormulaVisible]);\n  var handleCloseFormulaModal = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useCallback)(function () {\n    setFormulaVisible(false);\n  }, [setFormulaVisible]);\n  var handleFormulaConfirm = function handleFormulaConfirm(result, isCN) {\n    result = formatData(result, isCN);\n    var valueObject = {\n      valueType: 1,\n      value: result\n    };\n    // invokeSaveBizRule(valueObject)\n    handleChange(valueObject);\n    setFormulaVisible(false);\n    nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_13__.WebMsg.showNotificationMsg({\n      param: [{\n        type: 0,\n        content: '保存成功。',\n        duration: 2000\n      }]\n    });\n  };\n  var handleClick = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useCallback)(function () {\n    handleShowFormulaModal();\n  }, [handleShowFormulaModal]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_8__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_7__.ConfigProvider, {\n    value: kuiConfig\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_13__.InputCombo, {\n    fieldType: \"formula\",\n    placeholder: \"\\u8BF7\\u8F93\\u5165\",\n    disabled: locked,\n    onClick: handleClick,\n    value: formulaData[0],\n    expressionData: expressionData.functionTypes,\n    fieldData: fieldData,\n    onClear: handleClear,\n    lang: Number(formulaData[1] || 1),\n    readOnly: true,\n    autofocus: false\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_7__.ConfigProvider, {\n    value: kuiConfig\n  }, formulaVisible && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_13__.Condition, {\n    value: formulaData[0] // '{{Field id=\"${model.name}\" text=\"表单提交触发|||[文本]姓名\"}}'\n    ,\n    language: Number(formulaData[1] || 1),\n    modalTitle: \"\\u7F16\\u8F91\\u8FD0\\u7B97\\u516C\\u5F0F\",\n    editorTitle: field.Name\n    // actionType={}\n    ,\n    visible: formulaVisible\n    // hideFunc={}\n    ,\n    editorPlaceholder: \"\\u8BF7\\u7F16\\u8F91\\u8FD0\\u7B97\\u516C\\u5F0F\"\n    // fieldData={fieldTree}\n    ,\n    fieldData: fieldData,\n    fieldTitle: \"\\u8868\\u5355\\u5185\\u5BB9\",\n    expressionData: expressionData.functionTypes,\n    operations: operations,\n    defaultExpandAll: false,\n    onClose: handleCloseFormulaModal,\n    onConfirm: handleFormulaConfirm\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (FormulaRuleEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTY2ODAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQU1BO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9Db25kaXRpb25FZGl0b3IvaW5kZXgudHN4P2MwZTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IEZDLCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBDb25maWdQcm92aWRlciBhcyBLVUlDb25maWdQcm92aWRlciB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcbmltcG9ydCB7IE5hbWVUaXBXcmFwcGVyLCBQcm9wZXJ0eUVkaXRvclByb3BzLCBldmVudEJ1cywgY3JlYXRlVXBkYXRlQWN0aW9uIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dCdcbmltcG9ydCB7IFNFVF9ERUZWQUxVRV9GT1JfRk9STVVMQSB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9hY3Rpb25OYW1lJ1xuaW1wb3J0IHsgaXNKc29uLCBsaXN0RmlsdGVyUGFyc2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMnXG5pbXBvcnQgeyBpc1JlZkJpbGxUYWJsZSB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbnRyb2wnXG5pbXBvcnQgeyB0cmFuc2xhdGVGaWVsZERhdGEgfSBmcm9tICcuLi8uLi91dGlscy90cmVlVXRpbHMnXG5pbXBvcnQgeyBDb25kaXRpb24sIElucHV0Q29tYm8sIFdlYk1zZyB9IGZyb20gJ25vY29kZV9jb21wb25lbnQvV2ViVUknXG5pbXBvcnQgdXNlTGlzdFRyZWVDb25maWdQYXJzZXIgZnJvbSAnLi4vLi4vaG9va3MvdXNlTGlzdFRyZWVDb25maWdQYXJzZXInXG5cbmNvbnN0IHsgY29uc3RhbnRzOiB7IGFsbEZpZWxkUmVnRXhwLCBhbGxFeHBSZWdFeHAsIGV4cFJlZ0V4cCB9IH0gPSBDb25kaXRpb25cblxuY29uc3QgREVGQVVMVF9WQUxVRV9PQkpFQ1QgPSB7XG4gIHZhbHVlVHlwZTogMSxcbiAgdmFsdWU6ICcnXG59XG5cbmNvbnN0IERFRkFVTFRfVkFMVUUgPSBKU09OLnN0cmluZ2lmeShERUZBVUxUX1ZBTFVFX09CSkVDVClcblxuY29uc3QgZ2V0SW5wdXRWYWx1ZSA9IChzdHI6IHN0cmluZykgPT4ge1xuICB0cnkge1xuICAgIGlmIChpc0pzb24oc3RyKSkge1xuICAgICAgY29uc3QgdmFsdWVPYmplY3QgPSBKU09OLnBhcnNlKHN0cilcbiAgICAgIHJldHVybiB2YWx1ZU9iamVjdD8udmFsdWUgfHwgJydcbiAgICB9XG4gICAgcmV0dXJuICcnXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpXG4gIH1cbn1cblxuY29uc3QgZ2V0Rm9ybXVsYVZhbHVlID0gKHN0cikgPT4ge1xuICBjb25zdCBbLCBuZXdWYWx1ZSwgbGFuZ10gPSBzdHIgPyBzdHIuc3BsaXQoJ0BAJykgOiBbJycsICcnLCBudWxsXSAvLyDnvJbovpHlmajlgLx86K+t6KiAXG4gIHJldHVybiBbbmV3VmFsdWUsIGxhbmddXG59XG5cbmNvbnN0IGt1aUNvbmZpZyA9IHtcbiAgcHJlZml4Q2xzOiAna2QnXG59XG5cbmNvbnN0IEZvcm11bGFSdWxlRWRpdG9yOiBGQzxQcm9wZXJ0eUVkaXRvclByb3BzPiA9IChwcm9wczogUHJvcGVydHlFZGl0b3JQcm9wcykgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZSwgbG9ja2VkLCBFZGl0b3IsIE5hbWU6IG5hbWUsIFRpcHM6IHRpcHMsIGZpZWxkIH0gPSBwcm9wc1xuICBjb25zdCB7IE5hbWVIaWRkZW46IG5hbWVIaWRkZW4sIFJlcXVpcmVkOiByZXF1aXJlZCwgVGl0bGU6IHRpdGxlIH0gPSBFZGl0b3JcbiAgY29uc3QgeyBpbnZva2VBY3Rpb24sIGdldEtkZXNpZ25lckFwaSwgZ2V0RXhwcmVzc2lvbkRhdGEsIGdldENvbXBhcmVUeXBlcywgY3VyRm9ybXVsYVRyZWVBcGksIGZldGNoTGlzdFRyZWUsIHNldEZvcm11bGFSdWxlcywgZ2V0Rm9ybXVsYVJ1bGVzIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3QgeyBQYXJlbnRJZCwgTmFtZTogY3VycmVudE5hbWUsIEtleToga2V5IH0gPSBmaWVsZFxuICBjb25zdCBbZm9ybXVsYVZpc2libGUsIHNldEZvcm11bGFWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0LCBtZXRhOiBtZXRhQ29udGV4dCB9ID0gZ2V0S2Rlc2lnbmVyQXBpKClcbiAgY29uc3QgeyBfVHlwZV86IHBhcmVudFR5cGUsIEtleTogcGFyZW50S2V5IH0gPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChQYXJlbnRJZClcbiAgY29uc3QgY3VycmVudEtleSA9IGlzUmVmQmlsbFRhYmxlKHBhcmVudFR5cGUpID8gYCR7cGFyZW50S2V5fS4ke2tleX1gIDoga2V5XG4gIGNvbnN0IHJvb3RJZCA9IGRhdGFDb250ZXh0LmdldFJvb3RJZCgpXG4gIGNvbnN0IEZvcm11bGFSdWxlID0gZ2V0Rm9ybXVsYVJ1bGVzKClcbiAgY29uc3QgW2lubmVyVmFsdWUsIHNldElubmVyVmFsdWVdID0gdXNlU3RhdGUoRm9ybXVsYVJ1bGU/LltjdXJyZW50S2V5XSB8fCBERUZBVUxUX1ZBTFVFKVxuICBjb25zdCBjb21wYXJlVHlwZXNNYXAgPSBnZXRDb21wYXJlVHlwZXMoKVxuXG4gIGNvbnN0IGV4cHJlc3Npb25EYXRhID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGdldEV4cHJlc3Npb25EYXRhKClcbiAgfSwgW2dldEV4cHJlc3Npb25EYXRhXSlcblxuICBjb25zdCBvcGVyYXRpb25zID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoZXhwcmVzc2lvbkRhdGEuZnVuY3Rpb25PcGVyYXRpb25zKVxuICB9LCBbZXhwcmVzc2lvbkRhdGFdKVxuXG4gIC8vIOagueaNruWQjuerr+aMh+S7pOiuvue9ruW9k+WJjeWtl+autemFjee9rueahOi/kOeul+WFrOW8j1xuICAvLyBjb25zdCBzZXREZWZWYWx1ZUZvckZvcm11bGFDYiA9IChhcmdzKSA9PiB7XG4gIC8vICAgY29uc3QgeyBiaXpSdWxlLCBmaWVsZEtleSB9ID0gYXJncyB8fCB7fVxuICAvLyAgIGlmIChiaXpSdWxlICYmIGZpZWxkS2V5ID09PSBjdXJyZW50S2V5KSB7XG4gIC8vICAgICBzZXRJbm5lclZhbHVlKGJpelJ1bGUpXG4gIC8vICAgfVxuICAvLyB9XG5cbiAgLy8gdXNlRWZmZWN0KCgpID0+IHtcbiAgLy8gICBldmVudEJ1cy5vbihTRVRfREVGVkFMVUVfRk9SX0ZPUk1VTEEsIHNldERlZlZhbHVlRm9yRm9ybXVsYUNiKVxuICAvLyAgIHJldHVybiAoKSA9PiB7XG4gIC8vICAgICBldmVudEJ1cy5vZmYoU0VUX0RFRlZBTFVFX0ZPUl9GT1JNVUxBLCBzZXREZWZWYWx1ZUZvckZvcm11bGFDYilcbiAgLy8gICB9XG4gIC8vIH0sIFtdKVxuXG4gIGNvbnN0IGN1ckxpc3RGaWx0ZXJDb25maWcgPSB1c2VMaXN0VHJlZUNvbmZpZ1BhcnNlcih7XG4gICAgYXBpOiBjdXJGb3JtdWxhVHJlZUFwaSxcbiAgICBwYXJzZXI6IChkYXRhKSA9PiBsaXN0RmlsdGVyUGFyc2VyKGRhdGEsIGRhdGEsIGNvbXBhcmVUeXBlc01hcClcbiAgfSlcblxuICBjb25zdCBmaWVsZERhdGEgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBjdXJyUmVmYmlsbFRhYmxlS2V5ID0gaXNSZWZCaWxsVGFibGUocGFyZW50VHlwZSkgPyBwYXJlbnRLZXkgOiB1bmRlZmluZWRcbiAgICByZXR1cm4gdHJhbnNsYXRlRmllbGREYXRhKHtcbiAgICAgIG9wdGlvbnM6IGN1ckxpc3RGaWx0ZXJDb25maWcsXG4gICAgICBjdXJyUmVmYmlsbFRhYmxlS2V5XG4gICAgfSlcbiAgfSwgW2N1ckxpc3RGaWx0ZXJDb25maWcsIHJvb3RJZCwgcGFyZW50S2V5XSlcblxuICBjb25zdCBoYW5kbGVDbGVhciA9IChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGludm9rZUFjdGlvbignZGVsZXRlQml6UnVsZScsIFt7IGZvcm1JZDogcm9vdElkLCBmaWVsZEtleTogY3VycmVudEtleSB9XSwgW10pXG4gICAgaGFuZGxlQ2hhbmdlKERFRkFVTFRfVkFMVUVfT0JKRUNUKVxuICB9XG5cbiAgLy8g5Y+R6LW36K+35rGC77ya5b2T5YmN5a2X5q616YWN572u55qE5YWs5byP6L+Q566X6KeE5YiZXG4gIGNvbnN0IGludm9rZUdldEZpZWxkTG9va1NldHRpbmcgPSAoKSA9PiB7XG4gICAgaW52b2tlQWN0aW9uKCdnZXRCaXpSdWxlJywgW3sgZm9ybUlkOiByb290SWQsIGZpZWxkS2V5OiBjdXJyZW50S2V5IH1dLCBbXSlcbiAgfVxuXG4gIC8vIHVzZUVmZmVjdCgoKSA9PiB7XG4gIC8vICAgLy8g6K+35rGC5pWw5o2uXG4gIC8vICAgaW52b2tlR2V0RmllbGRMb29rU2V0dGluZygpXG4gIC8vIH0sIFtdKVxuXG4gIGNvbnN0IGludm9rZUdldEN1ckZvcm1MaXN0Q29uZmlnID0gKCkgPT4ge1xuICAgIGZldGNoTGlzdFRyZWUoJ2Zvcm11bGEnKVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpbnZva2VHZXRDdXJGb3JtTGlzdENvbmZpZygpXG4gIH0sIFtjdXJyZW50TmFtZV0pXG5cbiAgY29uc3QgaW52b2tlU2F2ZUJpelJ1bGUgPSAocnVsZUluZm86IGFueSkgPT4ge1xuICAgIGludm9rZUFjdGlvbihcbiAgICAgICdzYXZlQml6UnVsZScsXG4gICAgICBbe1xuICAgICAgICBmb3JtSWQ6IHJvb3RJZCxcbiAgICAgICAgZmllbGRLZXk6IGN1cnJlbnRLZXksXG4gICAgICAgIHJ1bGVJbmZvOiBKU09OLnN0cmluZ2lmeShydWxlSW5mbylcbiAgICAgIH1dXG4gICAgKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gKHZhbHVlT2JqZWN0OiBhbnkpID0+IHtcbiAgICBjb25zdCBuZXdWYWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlT2JqZWN0KVxuICAgIGNvbnN0IG5ld0Zvcm11bGFSdWxlID0gT2JqZWN0LmFzc2lnbihGb3JtdWxhUnVsZSB8fCB7fSwgeyBbY3VycmVudEtleV06IG5ld1ZhbHVlIH0pXG4gICAgc2V0SW5uZXJWYWx1ZShuZXdWYWx1ZSlcbiAgICBzZXRGb3JtdWxhUnVsZXMobmV3Rm9ybXVsYVJ1bGUpXG4gICAgLy8gZGF0YUNvbnRleHQuYmF0Y2hVcGRhdGVDb250cm9sUHJvcGVydHlWYWx1ZXMoY3JlYXRlVXBkYXRlQWN0aW9uKFtbcm9vdElkLCB7IEZvcm11bGFSdWxlOiBuZXdGb3JtdWxhUnVsZSB9XV0pKVxuICB9XG5cbiAgY29uc3QgZm9ybWF0RGF0YSA9IChzdHI6c3RyaW5nLCBpc0NOOmJvb2xlYW4pID0+IHtcbiAgICBpZiAoIXN0cikgcmV0dXJuICcnIC8vIOS4uuepuuWAvOaXtlxuICAgIC8vIOabv+aNouS4reaWh+Wtl+esplxuICAgIHN0ciA9IHN0ci5yZXBsYWNlKC/vvIkvZywgJyknKS5yZXBsYWNlKC/vvIgvZywgJygnKS5yZXBsYWNlKC/igJwvZywgJ1wiJykucmVwbGFjZSgv4oCdL2csICdcIicpLnJlcGxhY2UoL+KAmC9nLCBcIidcIikucmVwbGFjZSgv4oCZL2csIFwiJ1wiKVxuICAgIGxldCBuZXdTdHIgPSBzdHIucmVwbGFjZSgvIHt7L2csICd7eycpLnJlcGxhY2UoL319IC9nLCAnfX0nKS5yZXBsYWNlKGFsbEZpZWxkUmVnRXhwLCAnJDEnKVxuICAgIG5ld1N0ciA9IG5ld1N0ci5yZXBsYWNlKGFsbEV4cFJlZ0V4cCwgKGFyZzpzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IG1hdGNoU3RyID0gYXJnLm1hdGNoKGV4cFJlZ0V4cCk/LlsxXSB8fCAnJ1xuICAgICAgcmV0dXJuIG1hdGNoU3RyLnJlcGxhY2UoJ1lNRERBVEUnLCAnREFURScpXG4gICAgfSlcbiAgICByZXR1cm4gYCR7bmV3U3RyfUBAJHtzdHJ9QEAke2lzQ04gPyAxIDogMH1gXG4gIH1cblxuICBjb25zdCBmb3JtdWxhRGF0YSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBnZXRGb3JtdWxhVmFsdWUoZ2V0SW5wdXRWYWx1ZShpbm5lclZhbHVlKSlcbiAgfSwgW2lubmVyVmFsdWVdKVxuXG4gIGNvbnN0IGhhbmRsZVNob3dGb3JtdWxhTW9kYWwgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0Rm9ybXVsYVZpc2libGUodHJ1ZSlcbiAgfSwgW3NldEZvcm11bGFWaXNpYmxlXSlcblxuICBjb25zdCBoYW5kbGVDbG9zZUZvcm11bGFNb2RhbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRGb3JtdWxhVmlzaWJsZShmYWxzZSlcbiAgfSwgW3NldEZvcm11bGFWaXNpYmxlXSlcblxuICBjb25zdCBoYW5kbGVGb3JtdWxhQ29uZmlybSA9IChyZXN1bHQsIGlzQ04pID0+IHtcbiAgICByZXN1bHQgPSBmb3JtYXREYXRhKHJlc3VsdCwgaXNDTilcbiAgICBjb25zdCB2YWx1ZU9iamVjdCA9IHtcbiAgICAgIHZhbHVlVHlwZTogMSxcbiAgICAgIHZhbHVlOiByZXN1bHRcbiAgICB9XG4gICAgLy8gaW52b2tlU2F2ZUJpelJ1bGUodmFsdWVPYmplY3QpXG4gICAgaGFuZGxlQ2hhbmdlKHZhbHVlT2JqZWN0KVxuICAgIHNldEZvcm11bGFWaXNpYmxlKGZhbHNlKVxuICAgIFdlYk1zZy5zaG93Tm90aWZpY2F0aW9uTXNnKHsgcGFyYW06IFt7IHR5cGU6IDAsIGNvbnRlbnQ6ICfkv53lrZjmiJDlip/jgIInLCBkdXJhdGlvbjogMjAwMCB9XSB9KVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQ2xpY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaGFuZGxlU2hvd0Zvcm11bGFNb2RhbCgpXG4gIH0sIFtoYW5kbGVTaG93Rm9ybXVsYU1vZGFsXSlcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8TmFtZVRpcFdyYXBwZXIgbmFtZUhpZGRlbj17bmFtZUhpZGRlbn0gY2xhc3NOYW1lPXtjbGFzc05hbWV9IG5hbWU9e25hbWV9IHRpcHM9e3RpcHN9IHJlcXVpcmVkPXtyZXF1aXJlZH0gdGl0bGU9e3RpdGxlfSAvPlxuICAgICAgPEtVSUNvbmZpZ1Byb3ZpZGVyIHZhbHVlPXtrdWlDb25maWd9PlxuICAgICAgICA8SW5wdXRDb21ib1xuICAgICAgICAgIGZpZWxkVHlwZT0nZm9ybXVsYSdcbiAgICAgICAgICBwbGFjZWhvbGRlcj0n6K+36L6T5YWlJ1xuICAgICAgICAgIGRpc2FibGVkPXtsb2NrZWR9XG4gICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xpY2t9XG4gICAgICAgICAgdmFsdWU9e2Zvcm11bGFEYXRhWzBdfVxuICAgICAgICAgIGV4cHJlc3Npb25EYXRhPXtleHByZXNzaW9uRGF0YS5mdW5jdGlvblR5cGVzfVxuICAgICAgICAgIGZpZWxkRGF0YT17ZmllbGREYXRhfVxuICAgICAgICAgIG9uQ2xlYXI9e2hhbmRsZUNsZWFyfVxuICAgICAgICAgIGxhbmc9e051bWJlcihmb3JtdWxhRGF0YVsxXSB8fCAxKX1cbiAgICAgICAgICByZWFkT25seVxuICAgICAgICAgIGF1dG9mb2N1cz17ZmFsc2V9XG4gICAgICAgIC8+XG4gICAgICA8L0tVSUNvbmZpZ1Byb3ZpZGVyPlxuICAgICAgPEtVSUNvbmZpZ1Byb3ZpZGVyIHZhbHVlPXtrdWlDb25maWd9PlxuICAgICAgICB7Zm9ybXVsYVZpc2libGUgJiYgKFxuICAgICAgICAgIDxDb25kaXRpb25cbiAgICAgICAgICAgIHZhbHVlPXtmb3JtdWxhRGF0YVswXX0gLy8gJ3t7RmllbGQgaWQ9XCIke21vZGVsLm5hbWV9XCIgdGV4dD1cIuihqOWNleaPkOS6pOinpuWPkXx8fFvmlofmnKxd5aeT5ZCNXCJ9fSdcbiAgICAgICAgICAgIGxhbmd1YWdlPXtOdW1iZXIoZm9ybXVsYURhdGFbMV0gfHwgMSl9XG4gICAgICAgICAgICBtb2RhbFRpdGxlPSfnvJbovpHov5DnrpflhazlvI8nXG4gICAgICAgICAgICBlZGl0b3JUaXRsZT17ZmllbGQuTmFtZX1cbiAgICAgICAgICAgIC8vIGFjdGlvblR5cGU9e31cbiAgICAgICAgICAgIHZpc2libGU9e2Zvcm11bGFWaXNpYmxlfVxuICAgICAgICAgICAgLy8gaGlkZUZ1bmM9e31cbiAgICAgICAgICAgIGVkaXRvclBsYWNlaG9sZGVyPSfor7fnvJbovpHov5DnrpflhazlvI8nXG4gICAgICAgICAgICAvLyBmaWVsZERhdGE9e2ZpZWxkVHJlZX1cbiAgICAgICAgICAgIGZpZWxkRGF0YT17ZmllbGREYXRhfVxuICAgICAgICAgICAgZmllbGRUaXRsZT0n6KGo5Y2V5YaF5a65J1xuICAgICAgICAgICAgZXhwcmVzc2lvbkRhdGE9e2V4cHJlc3Npb25EYXRhLmZ1bmN0aW9uVHlwZXN9XG4gICAgICAgICAgICBvcGVyYXRpb25zPXtvcGVyYXRpb25zfVxuICAgICAgICAgICAgZGVmYXVsdEV4cGFuZEFsbD17ZmFsc2V9XG4gICAgICAgICAgICBvbkNsb3NlPXtoYW5kbGVDbG9zZUZvcm11bGFNb2RhbH1cbiAgICAgICAgICAgIG9uQ29uZmlybT17aGFuZGxlRm9ybXVsYUNvbmZpcm19XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvS1VJQ29uZmlnUHJvdmlkZXI+XG4gICAgPC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybXVsYVJ1bGVFZGl0b3JcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///96680\n");

/***/ }),

/***/ 41944:
/*!***********************************************************!*\
  !*** ./src/editors/CustomOptionEditor/BatchAddOption.tsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set */ 99308);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n/*\n * @Description: 批量编辑\n * @Author: jianhang_he\n * @Date: 2022-09-27 13:56:44\n * @LastEditTime: 2024-01-08 14:32:47\n * @Last Modified by: jianhang_he\n */\n\n\n\nvar BatchAddOption = function BatchAddOption(_ref) {\n  var prefixClass = _ref.prefixClass,\n    defaultBatchValue = _ref.defaultBatchValue,\n    batchAddOption = _ref.handleAddOption;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    batchAddPanelVisible = _useState2[0],\n    setBatchAddPanelVisible = _useState2[1];\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useState)(defaultBatchValue),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 2),\n    batchValue = _useState4[0],\n    setBatchValue = _useState4[1];\n\n  // const labelOptionMapRef = useRef({})\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {\n    setBatchValue(defaultBatchValue);\n  }, [defaultBatchValue]);\n  var handleChangeBatchValue = function handleChangeBatchValue(e) {\n    setBatchValue(e.target.value);\n  };\n  var body = /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"_batchaddpanel_form\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"label\", {\n    className: \"\".concat(prefixClass, \"_batchaddpanel_form_label\")\n  }, \"\\u6BCF\\u884C\\u5BF9\\u5E94\\u4E00\\u4E2A\\u9009\\u9879\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__.TextArea, {\n    className: \"\".concat(prefixClass, \"_batchaddpanel_form_textarea\"),\n    defaultValue: batchValue,\n    value: batchValue,\n    placeholder: \"\\u8BF7\\u8F93\\u5165\",\n    borderType: \"bordered\",\n    count: false,\n    autoSize: {\n      minRows: 19,\n      maxRows: 19\n    },\n    maxLength: 2000,\n    onChange: handleChangeBatchValue\n  }));\n\n  // 点击添加\n  var handleClickBatchAddOption = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function () {\n    var _context;\n    var batchValueList = batchValue === null || batchValue === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(_context = batchValue.split(/[\\r\\n\\t]/)).call(_context, Boolean);\n    console.log('batchValueList', batchValueList);\n    // 对输入值去重\n    var uniqueBatchValueList = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_3___default())(batchValueList));\n    setBatchValue(uniqueBatchValueList.join('\\n'));\n    batchAddOption(uniqueBatchValueList);\n    setBatchAddPanelVisible(false);\n  }, [batchValue, batchAddOption]);\n\n  // 点击取消\n  var handleClickCancel = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function () {\n    setBatchValue(defaultBatchValue);\n    setBatchAddPanelVisible(false);\n  }, [defaultBatchValue]);\n\n  /**\n   * 渲染弹窗底部\n   **/\n  var footer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {\n    var prifixFooterClass = \"\".concat(prefixClass, \"_batchaddpanel_footer\");\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n      className: prifixFooterClass\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n      className: \"\".concat(prifixFooterClass, \"_action\")\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__.Button, {\n      size: \"small\",\n      className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(\"\".concat(prifixFooterClass, \"_action_btn\"), \"\".concat(prifixFooterClass, \"_action_cancel\")),\n      onClick: handleClickCancel\n    }, \"\\u53D6\\u6D88\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__.Button, {\n      size: \"small\",\n      type: \"primary\",\n      className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(\"\".concat(prifixFooterClass, \"_action_btn\"), \"\".concat(prifixFooterClass, \"_action_copy\")),\n      onClick: handleClickBatchAddOption\n    }, \"\\u786E\\u5B9A\")));\n  }, [handleClickBatchAddOption]);\n  var handleClickBatchAdd = function handleClickBatchAdd() {\n    setBatchAddPanelVisible(true);\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-handle-batchadd\"),\n    onClick: handleClickBatchAdd\n  }, \"\\u6279\\u91CF\\u7F16\\u8F91\"), batchAddPanelVisible && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__.Modal, {\n    className: \"\".concat(prefixClass, \"_batchaddpanel\"),\n    bodyClassName: \"\".concat(prefixClass, \"_batchaddpanel_body\"),\n    body: body,\n    title: \"\\u6279\\u91CF\\u7F16\\u8F91\",\n    onCancel: function onCancel() {\n      return setBatchAddPanelVisible(false);\n    },\n    onOk: function onOk() {\n      return setBatchAddPanelVisible(false);\n    },\n    visible: batchAddPanelVisible,\n    height: 560,\n    footer: footer\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.memo)(BatchAddOption));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDE5NDQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBSUE7QUFGQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTs7QUFLQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBSUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQU1BO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9DdXN0b21PcHRpb25FZGl0b3IvQmF0Y2hBZGRPcHRpb24udHN4P2NiZTQiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjog5om56YeP57yW6L6RXG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDktMjcgMTM6NTY6NDRcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjQtMDEtMDggMTQ6MzI6NDdcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVJlZiwgbWVtbywgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgTW9kYWwsIFRleHRBcmVhLCBCdXR0b24gfSBmcm9tICdAa2RjbG91ZGpzL2tkZXNpZ24nXG5pbXBvcnQgeyBjcmVhdGVVVWlkIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgSUQsIExBQkVMLCBWQUxVRSB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9wcm9wbmFtZXMnXG5pbXBvcnQgeyBnZXROZXh0TWF4VmFsdWUgfSBmcm9tICcuL2luZGV4J1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcydcblxuY29uc3QgQmF0Y2hBZGRPcHRpb24gPSAoe1xuICBwcmVmaXhDbGFzcyxcbiAgZGVmYXVsdEJhdGNoVmFsdWUsXG4gIGhhbmRsZUFkZE9wdGlvbjogYmF0Y2hBZGRPcHRpb25cbn0pID0+IHtcbiAgY29uc3QgW2JhdGNoQWRkUGFuZWxWaXNpYmxlLCBzZXRCYXRjaEFkZFBhbmVsVmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2JhdGNoVmFsdWUsIHNldEJhdGNoVmFsdWVdID0gdXNlU3RhdGU8c3RyaW5nPihkZWZhdWx0QmF0Y2hWYWx1ZSlcblxuICAvLyBjb25zdCBsYWJlbE9wdGlvbk1hcFJlZiA9IHVzZVJlZih7fSlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRCYXRjaFZhbHVlKGRlZmF1bHRCYXRjaFZhbHVlKVxuICB9LCBbZGVmYXVsdEJhdGNoVmFsdWVdKVxuXG4gIGNvbnN0IGhhbmRsZUNoYW5nZUJhdGNoVmFsdWUgPSAoZSkgPT4ge1xuICAgIHNldEJhdGNoVmFsdWUoZS50YXJnZXQudmFsdWUpXG4gIH1cblxuICBjb25zdCBib2R5ID0gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbGFzc31fYmF0Y2hhZGRwYW5lbF9mb3JtYH0+XG4gICAgICA8bGFiZWwgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbGFzc31fYmF0Y2hhZGRwYW5lbF9mb3JtX2xhYmVsYH0+5q+P6KGM5a+55bqU5LiA5Liq6YCJ6aG5PC9sYWJlbD5cbiAgICAgIDxUZXh0QXJlYVxuICAgICAgICBjbGFzc05hbWU9e2Ake3ByZWZpeENsYXNzfV9iYXRjaGFkZHBhbmVsX2Zvcm1fdGV4dGFyZWFgfVxuICAgICAgICBkZWZhdWx0VmFsdWU9e2JhdGNoVmFsdWV9XG4gICAgICAgIHZhbHVlPXtiYXRjaFZhbHVlfVxuICAgICAgICBwbGFjZWhvbGRlcj0n6K+36L6T5YWlJ1xuICAgICAgICBib3JkZXJUeXBlPSdib3JkZXJlZCdcbiAgICAgICAgY291bnQ9e2ZhbHNlfVxuICAgICAgICBhdXRvU2l6ZT17eyBtaW5Sb3dzOiAxOSwgbWF4Um93czogMTkgfX1cbiAgICAgICAgbWF4TGVuZ3RoPXsyMDAwfVxuICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlQmF0Y2hWYWx1ZX1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcblxuICAvLyDngrnlh7vmt7vliqBcbiAgY29uc3QgaGFuZGxlQ2xpY2tCYXRjaEFkZE9wdGlvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBiYXRjaFZhbHVlTGlzdCA9IGJhdGNoVmFsdWU/LnNwbGl0KC9bXFxyXFxuXFx0XS8pLmZpbHRlcihCb29sZWFuKVxuICAgIGNvbnNvbGUubG9nKCdiYXRjaFZhbHVlTGlzdCcsIGJhdGNoVmFsdWVMaXN0KVxuICAgIC8vIOWvuei+k+WFpeWAvOWOu+mHjVxuICAgIGNvbnN0IHVuaXF1ZUJhdGNoVmFsdWVMaXN0ID0gWy4uLm5ldyBTZXQoYmF0Y2hWYWx1ZUxpc3QpXVxuICAgIHNldEJhdGNoVmFsdWUodW5pcXVlQmF0Y2hWYWx1ZUxpc3Quam9pbignXFxuJykpXG4gICAgYmF0Y2hBZGRPcHRpb24odW5pcXVlQmF0Y2hWYWx1ZUxpc3QpXG4gICAgc2V0QmF0Y2hBZGRQYW5lbFZpc2libGUoZmFsc2UpXG4gIH0sIFtiYXRjaFZhbHVlLCBiYXRjaEFkZE9wdGlvbl0pXG5cbiAgLy8g54K55Ye75Y+W5raIXG4gIGNvbnN0IGhhbmRsZUNsaWNrQ2FuY2VsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldEJhdGNoVmFsdWUoZGVmYXVsdEJhdGNoVmFsdWUpXG4gICAgc2V0QmF0Y2hBZGRQYW5lbFZpc2libGUoZmFsc2UpXG4gIH0sIFtkZWZhdWx0QmF0Y2hWYWx1ZV0pXG5cbiAgLyoqXG4gICAqIOa4suafk+W8ueeql+W6lemDqFxuICAgKiovXG4gIGNvbnN0IGZvb3RlciA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHByaWZpeEZvb3RlckNsYXNzID0gYCR7cHJlZml4Q2xhc3N9X2JhdGNoYWRkcGFuZWxfZm9vdGVyYFxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17cHJpZml4Rm9vdGVyQ2xhc3N9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJpZml4Rm9vdGVyQ2xhc3N9X2FjdGlvbmB9PlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIHNpemU9J3NtYWxsJ1xuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFxuICAgICAgICAgICAgICBgJHtwcmlmaXhGb290ZXJDbGFzc31fYWN0aW9uX2J0bmAsXG4gICAgICAgICAgICAgIGAke3ByaWZpeEZvb3RlckNsYXNzfV9hY3Rpb25fY2FuY2VsYFxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsaWNrQ2FuY2VsfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIOWPlua2iFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIHNpemU9J3NtYWxsJ1xuICAgICAgICAgICAgdHlwZT0ncHJpbWFyeSdcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcbiAgICAgICAgICAgICAgYCR7cHJpZml4Rm9vdGVyQ2xhc3N9X2FjdGlvbl9idG5gLFxuICAgICAgICAgICAgICBgJHtwcmlmaXhGb290ZXJDbGFzc31fYWN0aW9uX2NvcHlgXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xpY2tCYXRjaEFkZE9wdGlvbn1cbiAgICAgICAgICA+XG4gICAgICAgICAgICDnoa7lrppcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sIFtoYW5kbGVDbGlja0JhdGNoQWRkT3B0aW9uXSlcblxuICBjb25zdCBoYW5kbGVDbGlja0JhdGNoQWRkID0gKCkgPT4ge1xuICAgIHNldEJhdGNoQWRkUGFuZWxWaXNpYmxlKHRydWUpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YCR7cHJlZml4Q2xhc3N9LWhhbmRsZS1iYXRjaGFkZGB9XG4gICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsaWNrQmF0Y2hBZGR9XG4gICAgICA+5om56YeP57yW6L6RXG4gICAgICA8L2Rpdj5cbiAgICAgIHtcbiAgICAgICAgYmF0Y2hBZGRQYW5lbFZpc2libGUgJiYgPE1vZGFsXG4gICAgICAgICAgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbGFzc31fYmF0Y2hhZGRwYW5lbGB9XG4gICAgICAgICAgYm9keUNsYXNzTmFtZT17YCR7cHJlZml4Q2xhc3N9X2JhdGNoYWRkcGFuZWxfYm9keWB9XG4gICAgICAgICAgYm9keT17Ym9keX1cbiAgICAgICAgICB0aXRsZT0n5om56YeP57yW6L6RJ1xuICAgICAgICAgIG9uQ2FuY2VsPXsoKSA9PiBzZXRCYXRjaEFkZFBhbmVsVmlzaWJsZShmYWxzZSl9XG4gICAgICAgICAgb25Paz17KCkgPT4gc2V0QmF0Y2hBZGRQYW5lbFZpc2libGUoZmFsc2UpfVxuICAgICAgICAgIHZpc2libGU9e2JhdGNoQWRkUGFuZWxWaXNpYmxlfVxuICAgICAgICAgIGhlaWdodD17NTYwfVxuICAgICAgICAgIGZvb3Rlcj17Zm9vdGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgfVxuXG4gICAgPC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWVtbyhCYXRjaEFkZE9wdGlvbilcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///41944\n");

/***/ }),

/***/ 54368:
/*!********************************************************!*\
  !*** ./src/editors/CustomOptionEditor/ColorPicker.tsx ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   darkColorList: function() { return /* binding */ darkColorList; },\n/* harmony export */   lightColorList: function() { return /* binding */ lightColorList; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _components_ColorPickerContent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/ColorPickerContent */ 76844);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-12-29 14:01:22\n * @LastEditTime: 2023-03-09 19:25:12\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n/**\n * 浅色背景\n */\nvar lightColorList = ['#E0EFFF', '#CFF7FF', '#D6FFF8', '#DCFAE4', '#EDFFBD', '#FFF8B8', '#FFF1D4', '#FFE7D6', '#FFDBE0', '#FFC4CF', '#ECD6FF', '#C7E5FF', '#E5E5E5'];\n\n/**\n * 深色背景\n */\nvar darkColorList = ['#276FF5', '#16B0F1', '#16B8B1', '#1BA854', '#77C404', '#FDC200', '#FF991C', '#FF5F1F', '#FB2323', '#F90D58', '#701DF0', '#0E5FD8', '#999999'];\nvar ColorPicker = function ColorPicker(_ref) {\n  var prefixClass = _ref.prefixClass,\n    propValue = _ref.value,\n    onChange = _ref.onChange;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    colorPickerVisible = _useState2[0],\n    setColorPickerVisible = _useState2[1];\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useState)(propValue),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 2),\n    value = _useState4[0],\n    setValue = _useState4[1]; // 颜色值\n\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    !(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_7__.isUndefined)(propValue) && setValue(propValue);\n  }, [propValue]);\n  var className = \"\".concat(prefixClass, \"-colorpicker\");\n\n  /**\n   * 改变颜色\n   * @param param0\n   */\n  var handleChangeColor = function handleChangeColor(color) {\n    setValue(color);\n    onChange === null || onChange === void 0 || onChange(color);\n    setColorPickerVisible(false);\n  };\n  var colorMenu = /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4__.Dropdown.Menu, {\n    style: {\n      width: 380,\n      padding: 8\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-content\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_components_ColorPickerContent__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    colorList: lightColorList,\n    onChange: handleChangeColor,\n    value: value\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_components_ColorPickerContent__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    renderIcon: function renderIcon() {\n      return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n        className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(\"\".concat(className, \"-content-list-item-dark\")),\n        prefix: \"designericon\",\n        type: \"shuzhankaibeifen\"\n      });\n    },\n    colorList: darkColorList,\n    onChange: handleChangeColor,\n    value: value\n  })));\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4__.Dropdown, {\n    popperClassName: \"\".concat(className, \"-popup\"),\n    placement: \"bottomLeft\",\n    menu: colorMenu,\n    trigger: \"click\",\n    visible: colorPickerVisible,\n    onVisibleChange: function onVisibleChange(visible) {\n      return setColorPickerVisible(visible);\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n    style: {\n      backgroundColor: value\n    },\n    className: className\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(\"\".concat(className, \"-arrow\"), (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, \"\".concat(className, \"-arrow-up\"), colorPickerVisible), \"\".concat(className, \"-arrow-light\"), _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(darkColorList).call(darkColorList, value))),\n    prefix: \"designericon\",\n    type: \"zhankai3\"\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ColorPicker);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTQzNjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQWdCQTtBQUlBO0FBRkE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQTBCQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUdBO0FBQUE7QUFBQTtBQUtBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9DdXN0b21PcHRpb25FZGl0b3IvQ29sb3JQaWNrZXIudHN4PzI3MDIiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0xMi0yOSAxNDowMToyMlxuICogQExhc3RFZGl0VGltZTogMjAyMy0wMy0wOSAxOToyNToxMlxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBEcm9wZG93biwgSWNvbiB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcbmltcG9ydCBDb2xvclBpY2tlckNvbnRlbnQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9Db2xvclBpY2tlckNvbnRlbnQnXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xuaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tICdsb2Rhc2gnXG5cbi8qKlxuICog5rWF6Imy6IOM5pmvXG4gKi9cbmV4cG9ydCBjb25zdCBsaWdodENvbG9yTGlzdCA9IFtcbiAgJyNFMEVGRkYnLFxuICAnI0NGRjdGRicsXG4gICcjRDZGRkY4JyxcbiAgJyNEQ0ZBRTQnLFxuICAnI0VERkZCRCcsXG4gICcjRkZGOEI4JyxcbiAgJyNGRkYxRDQnLFxuICAnI0ZGRTdENicsXG4gICcjRkZEQkUwJyxcbiAgJyNGRkM0Q0YnLFxuICAnI0VDRDZGRicsXG4gICcjQzdFNUZGJyxcbiAgJyNFNUU1RTUnXG5dXG5cbi8qKlxuICog5rex6Imy6IOM5pmvXG4gKi9cbmV4cG9ydCBjb25zdCBkYXJrQ29sb3JMaXN0ID0gW1xuICAnIzI3NkZGNScsXG4gICcjMTZCMEYxJyxcbiAgJyMxNkI4QjEnLFxuICAnIzFCQTg1NCcsXG4gICcjNzdDNDA0JyxcbiAgJyNGREMyMDAnLFxuICAnI0ZGOTkxQycsXG4gICcjRkY1RjFGJyxcbiAgJyNGQjIzMjMnLFxuICAnI0Y5MEQ1OCcsXG4gICcjNzAxREYwJyxcbiAgJyMwRTVGRDgnLFxuICAnIzk5OTk5OSdcbl1cblxuY29uc3QgQ29sb3JQaWNrZXIgPSAoe1xuICBwcmVmaXhDbGFzcyxcbiAgdmFsdWU6IHByb3BWYWx1ZSxcbiAgb25DaGFuZ2Vcbn0pID0+IHtcbiAgY29uc3QgW2NvbG9yUGlja2VyVmlzaWJsZSwgc2V0Q29sb3JQaWNrZXJWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlKHByb3BWYWx1ZSkgLy8g6aKc6Imy5YC8XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAhaXNVbmRlZmluZWQocHJvcFZhbHVlKSAmJiBzZXRWYWx1ZShwcm9wVmFsdWUpXG4gIH0sIFtwcm9wVmFsdWVdKVxuXG4gIGNvbnN0IGNsYXNzTmFtZSA9IGAke3ByZWZpeENsYXNzfS1jb2xvcnBpY2tlcmBcblxuICAvKipcbiAgICog5pS55Y+Y6aKc6ImyXG4gICAqIEBwYXJhbSBwYXJhbTBcbiAgICovXG4gIGNvbnN0IGhhbmRsZUNoYW5nZUNvbG9yID0gKFxuICAgIGNvbG9yXG4gICkgPT4ge1xuICAgIHNldFZhbHVlKGNvbG9yKVxuICAgIG9uQ2hhbmdlPy4oY29sb3IpXG4gICAgc2V0Q29sb3JQaWNrZXJWaXNpYmxlKGZhbHNlKVxuICB9XG5cbiAgY29uc3QgY29sb3JNZW51ID0gKFxuICAgIDxEcm9wZG93bi5NZW51IHN0eWxlPXt7IHdpZHRoOiAzODAsIHBhZGRpbmc6IDggfX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7Y2xhc3NOYW1lfS1jb250ZW50YH0+XG4gICAgICAgIDxDb2xvclBpY2tlckNvbnRlbnQgY29sb3JMaXN0PXtsaWdodENvbG9yTGlzdH0gb25DaGFuZ2U9e2hhbmRsZUNoYW5nZUNvbG9yfSB2YWx1ZT17dmFsdWV9IC8+XG4gICAgICAgIDxDb2xvclBpY2tlckNvbnRlbnRcbiAgICAgICAgICByZW5kZXJJY29uPXsoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPEljb24gY2xhc3NOYW1lPXtjbGFzc05hbWVzKGAke2NsYXNzTmFtZX0tY29udGVudC1saXN0LWl0ZW0tZGFya2ApfSBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nc2h1emhhbmthaWJlaWZlbicgLz5cbiAgICAgICAgICB9fVxuICAgICAgICAgIGNvbG9yTGlzdD17ZGFya0NvbG9yTGlzdH1cbiAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlQ29sb3J9XG4gICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAvPlxuICAgICAgICB7LyogPHVsIGNsYXNzTmFtZT17YCR7Y2xhc3NOYW1lfS1jb250ZW50LWxpc3RgfT5cbiAgICAgICAgICB7XG4gICAgICAgICAgICBsaWdodENvbG9yTGlzdC5tYXAoY29sb3IgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiBoYW5kbGVDaGFuZ2VDb2xvcihjb2xvcil9IGtleT17Y29sb3J9IGNsYXNzTmFtZT17YCR7Y2xhc3NOYW1lfS1jb250ZW50LWxpc3QtaXRlbWB9IHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogY29sb3IgfX0+XG4gICAgICAgICAgICAgICAgICB7dmFsdWUgPT09IGNvbG9yICYmIDxJY29uIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhgJHtjbGFzc05hbWV9LWNvbnRlbnQtbGlzdC1pdGVtLWxpZ2h0YCl9IHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPSdzaHV6aGFua2FpYmVpZmVuJyAvPn1cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgICB7XG4gICAgICAgICAgICBkYXJrQ29sb3JMaXN0Lm1hcChjb2xvciA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IGhhbmRsZUNoYW5nZUNvbG9yKGNvbG9yKX0ga2V5PXtjb2xvcn0gY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9LWNvbnRlbnQtbGlzdC1pdGVtYH0gc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBjb2xvciB9fT5cbiAgICAgICAgICAgICAgICAgIHt2YWx1ZSA9PT0gY29sb3IgJiYgPEljb24gY2xhc3NOYW1lPXtjbGFzc05hbWVzKGAke2NsYXNzTmFtZX0tY29udGVudC1saXN0LWl0ZW0tZGFya2ApfSBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nc2h1emhhbmthaWJlaWZlbicgLz59XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIDwvdWw+ICovfVxuICAgICAgPC9kaXY+XG4gICAgPC9Ecm9wZG93bi5NZW51PlxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8RHJvcGRvd25cbiAgICAgIHBvcHBlckNsYXNzTmFtZT17YCR7Y2xhc3NOYW1lfS1wb3B1cGB9XG4gICAgICBwbGFjZW1lbnQ9J2JvdHRvbUxlZnQnXG4gICAgICBtZW51PXtjb2xvck1lbnV9XG4gICAgICB0cmlnZ2VyPSdjbGljaydcbiAgICAgIHZpc2libGU9e2NvbG9yUGlja2VyVmlzaWJsZX1cbiAgICAgIG9uVmlzaWJsZUNoYW5nZT17KHZpc2libGUpID0+IHNldENvbG9yUGlja2VyVmlzaWJsZSh2aXNpYmxlKX1cbiAgICA+XG4gICAgICA8ZGl2IHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogdmFsdWUgfX0gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICA8SWNvblxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhgJHtjbGFzc05hbWV9LWFycm93YCwge1xuICAgICAgICAgICAgW2Ake2NsYXNzTmFtZX0tYXJyb3ctdXBgXTogY29sb3JQaWNrZXJWaXNpYmxlLFxuICAgICAgICAgICAgW2Ake2NsYXNzTmFtZX0tYXJyb3ctbGlnaHRgXTogZGFya0NvbG9yTGlzdC5pbmNsdWRlcyh2YWx1ZSlcbiAgICAgICAgICB9KX0gcHJlZml4PSdkZXNpZ25lcmljb24nIHR5cGU9J3poYW5rYWkzJ1xuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9Ecm9wZG93bj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb2xvclBpY2tlclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///54368\n");

/***/ }),

/***/ 84068:
/*!*************************************************************!*\
  !*** ./src/editors/CustomOptionEditor/CustomOptionItem.tsx ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/trim */ 25288);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./index */ 66900);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../constants/propnames */ 94096);\n/* harmony import */ var _ColorPicker__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ColorPicker */ 54368);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_14__);\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\n\n\nvar CustomOptionItem = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.memo)(function (_ref) {\n  var index = _ref.index,\n    option = _ref.option,\n    options = _ref.options,\n    prefixClass = _ref.prefixClass,\n    isNewOptionEdit = _ref.isNewOptionEdit,\n    onDrop = _ref.onDrop,\n    handleEditOption = _ref.handleEditOption,\n    handleDeleteOption = _ref.handleDeleteOption,\n    bgcolorChecked = _ref.bgcolorChecked;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState, 2),\n    visible = _useState2[0],\n    setVisible = _useState2[1];\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useState)(isNewOptionEdit),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState3, 2),\n    isEdit = _useState4[0],\n    setIsEdit = _useState4[1];\n  var _useState5 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useState)(_objectSpread({}, option)),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState5, 2),\n    optionData = _useState6[0],\n    setOptionData = _useState6[1];\n  var editTriggerRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n  var editInputRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n  var labelInputRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n  var className = \"\".concat(prefixClass, \"-item\");\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useEffect)(function () {\n    setOptionData(_objectSpread({}, option));\n  }, [option]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useEffect)(function () {\n    if (editInputRef.current && isEdit) {\n      editInputRef.current.select();\n    }\n  }, [editInputRef, isEdit]);\n  var handleVisibleChange = function handleVisibleChange(vi) {\n    if (!vi) {\n      if (!optionData[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.LABEL]) {\n        setOptionData(function (data) {\n          return _objectSpread(_objectSpread({}, data), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, _constants_propnames__WEBPACK_IMPORTED_MODULE_12__.LABEL, option[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.LABEL]));\n        });\n        setVisible(vi);\n        return;\n      }\n      if (!optionData[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.VALUE]) {\n        setOptionData(function (data) {\n          return _objectSpread(_objectSpread({}, data), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, _constants_propnames__WEBPACK_IMPORTED_MODULE_12__.VALUE, option[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.VALUE]));\n        });\n        setVisible(vi);\n        return;\n      }\n      handleEditOption(optionData);\n    } else {\n      var _labelInputRef$curren;\n      (_labelInputRef$curren = labelInputRef.current) === null || _labelInputRef$curren === void 0 || _labelInputRef$curren.focus();\n    }\n    setVisible(vi);\n  };\n  var handleNameChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function (e) {\n    e.persist();\n    var value = e.target.value;\n    var newOptionData = _objectSpread(_objectSpread({}, optionData), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, _constants_propnames__WEBPACK_IMPORTED_MODULE_12__.LABEL, value), _constants_propnames__WEBPACK_IMPORTED_MODULE_12__.VALUE, (0,_index__WEBPACK_IMPORTED_MODULE_11__.encodeValue)(value)));\n    setOptionData(newOptionData);\n  }, [optionData]);\n  var handleValueChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function (e) {\n    e.persist();\n    setOptionData(function (data) {\n      return _objectSpread(_objectSpread({}, data), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, _constants_propnames__WEBPACK_IMPORTED_MODULE_12__.VALUE, e.target.value));\n    });\n  }, []);\n\n  // const handleDefaultSelect = useCallback((checked) => {\n  //   optionRef.current[SELECTED] = checked\n  // }, [])\n\n  var menu = /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Dropdown.Menu, null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-detail-item\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"p\", null, \"\\u663E\\u793A\\u503C\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Input, {\n    ref: labelInputRef,\n    placeholder: \"\\u8BF7\\u8F93\\u5165\",\n    borderType: \"bordered\",\n    size: \"large\",\n    defaultValue: option[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.LABEL],\n    value: optionData[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.LABEL],\n    className: \"\".concat(className, \"-detail-input\"),\n    onChange: handleNameChange\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-detail-item\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"p\", null, \"\\u9009\\u9879\\u503C\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\",\n    borderType: \"bordered\",\n    size: \"large\",\n    defaultValue: option[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.VALUE],\n    value: optionData[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.VALUE],\n    className: \"\".concat(className, \"-detail-input\"),\n    onChange: handleValueChange\n  })));\n  var handleDoubleClickEdit = function handleDoubleClickEdit() {\n    setIsEdit(true);\n    setVisible(false);\n  };\n  var handleBlurEdit = function handleBlurEdit() {\n    var _optionData$LABEL;\n    setIsEdit(false);\n    if (!optionData[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.LABEL] || !((_optionData$LABEL = optionData[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.LABEL]) !== null && _optionData$LABEL !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_7___default()(_optionData$LABEL).call(_optionData$LABEL))) {\n      handleDeleteOption(option[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.ID]);\n      return;\n    }\n\n    // 已经存在重复项的话，那么要把这个新的干掉\n    var alreadyExistOption = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_8___default()(options).call(options, function (item) {\n      return item[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.LABEL] === optionData[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.LABEL];\n    });\n    if (alreadyExistOption && optionData[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.ID] !== alreadyExistOption[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.ID]) {\n      handleDeleteOption(option[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.ID]);\n      return;\n    }\n    handleEditOption(optionData);\n  };\n  var handleChangeEditInput = function handleChangeEditInput(e) {\n    e.persist();\n    var value = e.target.value;\n    setOptionData(function (data) {\n      return _objectSpread(_objectSpread({}, data), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, _constants_propnames__WEBPACK_IMPORTED_MODULE_12__.LABEL, value), _constants_propnames__WEBPACK_IMPORTED_MODULE_12__.VALUE, (0,_index__WEBPACK_IMPORTED_MODULE_11__.encodeValue)(value)));\n    });\n  };\n\n  /**\n   * 颜色改变\n   * @param color\n   */\n  var handleChangeColor = function handleChangeColor(color) {\n    var newOptionData = _objectSpread(_objectSpread({}, optionData), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, _constants_propnames__WEBPACK_IMPORTED_MODULE_12__.BGC, color));\n    setOptionData(newOptionData);\n    handleEditOption(newOptionData);\n  };\n\n  /**\n   * 点击编辑图标\n   */\n  var handleClickEdit = function handleClickEdit() {\n    setIsEdit(true);\n  };\n  return (\n    /*#__PURE__*/\n    // <Dropdown\n    //   trigger='click'\n    //   placement='leftTop'\n    //   popperClassName={`${className}-detail`}\n    //   getTriggerElement={() => editTriggerRef.current}\n    //   menu={menu}\n    //   visible={visible}\n    //   onVisibleChange={handleVisibleChange}\n    // >\n    kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_14__.Draggable, {\n      index: index,\n      onDrop: onDrop\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n      className: \"\".concat(className, \"-wrapper\")\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n      className: className\n    }, bgcolorChecked && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(_ColorPicker__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n      value: option[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.BGC],\n      prefixClass: prefixClass,\n      onChange: handleChangeColor\n    }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n      title: \"\\u53CC\\u51FB\\u4FEE\\u6539\\u663E\\u793A\\u503C\",\n      className: \"\".concat(className, \"-content\"),\n      onDoubleClick: handleDoubleClickEdit\n    }, isEdit ? /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Input, {\n      ref: editInputRef,\n      className: \"\".concat(className, \"-content_edit\"),\n      borderType: \"bordered\",\n      size: \"large\",\n      defaultValue: option[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.LABEL],\n      onBlur: handleBlurEdit,\n      onPressEnter: handleBlurEdit,\n      onChange: handleChangeEditInput\n    }) : /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"p\", null, option[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.LABEL])), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n      className: \"\".concat(className, \"-operate\")\n    }, !isEdit && option[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.ID].indexOf(_index__WEBPACK_IMPORTED_MODULE_11__.OTHER_OPTION_SIGN) === -1 && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Icon, {\n      className: \"\".concat(className, \"-operate-edit\"),\n      prefix: \"designericon\",\n      type: \"bianji3\",\n      onClick: handleClickEdit,\n      ref: editTriggerRef\n    }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Icon, {\n      className: \"\".concat(className, \"-operate-drag\"),\n      prefix: \"designericon\",\n      type: \"tuozhuailiebiao\"\n    }))), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n      title: \"\\u5220\\u9664\\u9009\\u9879\",\n      className: \"\".concat(className, \"-delete\"),\n      onClick: function onClick() {\n        return handleDeleteOption(option[_constants_propnames__WEBPACK_IMPORTED_MODULE_12__.ID]);\n      }\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.Icon, {\n      prefix: \"designericon\",\n      type: \"xingshanchu\"\n    }))))\n    // </Dropdown>\n  );\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (CustomOptionItem);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQwNjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBV0E7QUFUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFFQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2VkaXRvcnMvQ3VzdG9tT3B0aW9uRWRpdG9yL0N1c3RvbU9wdGlvbkl0ZW0udHN4PzkyYTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgbWVtbywgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IERyb3Bkb3duLCBJbnB1dCwgSWNvbiB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcbmltcG9ydCB7IE9wdGlvbkFwaSwgT1RIRVJfT1BUSU9OX1NJR04sIGVuY29kZVZhbHVlIH0gZnJvbSAnLi9pbmRleCdcbmltcG9ydCB7IElELCBMQUJFTCwgVkFMVUUsIEJHQyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9wcm9wbmFtZXMnXG5pbXBvcnQgQ29sb3JQaWNrZXIgZnJvbSAnLi9Db2xvclBpY2tlcidcbmltcG9ydCB7IERyYWdnYWJsZSBhcyBEcmFnSXRlbSB9IGZyb20gJ25vY29kZV9jb21wb25lbnQvV2ViVUknXG5cbmNvbnN0IEN1c3RvbU9wdGlvbkl0ZW0gPSBtZW1vKCh7XG4gIGluZGV4LFxuICBvcHRpb24sXG4gIG9wdGlvbnMsXG4gIHByZWZpeENsYXNzLFxuICBpc05ld09wdGlvbkVkaXQsXG4gIG9uRHJvcCxcbiAgaGFuZGxlRWRpdE9wdGlvbixcbiAgaGFuZGxlRGVsZXRlT3B0aW9uLFxuICBiZ2NvbG9yQ2hlY2tlZFxuICAvLyBoYW5kbGVTZWxlY3REZWZhdWx0T3B0aW9uXG59KSA9PiB7XG4gIGNvbnN0IFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKVxuICBjb25zdCBbaXNFZGl0LCBzZXRJc0VkaXRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oaXNOZXdPcHRpb25FZGl0KVxuICBjb25zdCBbb3B0aW9uRGF0YSwgc2V0T3B0aW9uRGF0YV0gPSB1c2VTdGF0ZTxPcHRpb25BcGk+KHsgLi4ub3B0aW9uIH0pXG5cbiAgY29uc3QgZWRpdFRyaWdnZXJSZWYgPSB1c2VSZWYobnVsbClcbiAgY29uc3QgZWRpdElucHV0UmVmID0gdXNlUmVmKG51bGwpXG4gIGNvbnN0IGxhYmVsSW5wdXRSZWYgPSB1c2VSZWYobnVsbClcblxuICBjb25zdCBjbGFzc05hbWUgPSBgJHtwcmVmaXhDbGFzc30taXRlbWBcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldE9wdGlvbkRhdGEoeyAuLi5vcHRpb24gfSlcbiAgfSwgW29wdGlvbl0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZWRpdElucHV0UmVmLmN1cnJlbnQgJiYgaXNFZGl0KSB7XG4gICAgICBlZGl0SW5wdXRSZWYuY3VycmVudC5zZWxlY3QoKVxuICAgIH1cbiAgfSwgW2VkaXRJbnB1dFJlZiwgaXNFZGl0XSlcblxuICBjb25zdCBoYW5kbGVWaXNpYmxlQ2hhbmdlID0gKHZpOiBib29sZWFuKSA9PiB7XG4gICAgaWYgKCF2aSkge1xuICAgICAgaWYgKCFvcHRpb25EYXRhW0xBQkVMXSkge1xuICAgICAgICBzZXRPcHRpb25EYXRhKGRhdGEgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgICAgW0xBQkVMXTogb3B0aW9uW0xBQkVMXVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgc2V0VmlzaWJsZSh2aSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmICghb3B0aW9uRGF0YVtWQUxVRV0pIHtcbiAgICAgICAgc2V0T3B0aW9uRGF0YShkYXRhID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICAgIFtWQUxVRV06IG9wdGlvbltWQUxVRV1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHNldFZpc2libGUodmkpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBoYW5kbGVFZGl0T3B0aW9uKG9wdGlvbkRhdGEpXG4gICAgfSBlbHNlIHtcbiAgICAgIGxhYmVsSW5wdXRSZWYuY3VycmVudD8uZm9jdXMoKVxuICAgIH1cbiAgICBzZXRWaXNpYmxlKHZpKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlTmFtZUNoYW5nZSA9IHVzZUNhbGxiYWNrKChlOiBSZWFjdC5DaGFuZ2VFdmVudCkgPT4ge1xuICAgIGUucGVyc2lzdCgpXG5cbiAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlXG5cbiAgICBjb25zdCBuZXdPcHRpb25EYXRhID0ge1xuICAgICAgLi4ub3B0aW9uRGF0YSxcbiAgICAgIFtMQUJFTF06IHZhbHVlLFxuICAgICAgW1ZBTFVFXTogZW5jb2RlVmFsdWUodmFsdWUpXG4gICAgfVxuICAgIHNldE9wdGlvbkRhdGEobmV3T3B0aW9uRGF0YSlcbiAgfSwgW29wdGlvbkRhdGFdKVxuXG4gIGNvbnN0IGhhbmRsZVZhbHVlQ2hhbmdlID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0LkNoYW5nZUV2ZW50KSA9PiB7XG4gICAgZS5wZXJzaXN0KClcblxuICAgIHNldE9wdGlvbkRhdGEoZGF0YSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5kYXRhLFxuICAgICAgICBbVkFMVUVdOiBlLnRhcmdldC52YWx1ZVxuICAgICAgfVxuICAgIH0pXG4gIH0sIFtdKVxuXG4gIC8vIGNvbnN0IGhhbmRsZURlZmF1bHRTZWxlY3QgPSB1c2VDYWxsYmFjaygoY2hlY2tlZCkgPT4ge1xuICAvLyAgIG9wdGlvblJlZi5jdXJyZW50W1NFTEVDVEVEXSA9IGNoZWNrZWRcbiAgLy8gfSwgW10pXG5cbiAgY29uc3QgbWVudSA9IChcbiAgICA8RHJvcGRvd24uTWVudT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9LWRldGFpbC1pdGVtYH0+XG4gICAgICAgIDxwPuaYvuekuuWAvDwvcD5cbiAgICAgICAgPElucHV0XG4gICAgICAgICAgcmVmPXtsYWJlbElucHV0UmVmfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPSfor7fovpPlhaUnXG4gICAgICAgICAgYm9yZGVyVHlwZT0nYm9yZGVyZWQnXG4gICAgICAgICAgc2l6ZT0nbGFyZ2UnXG4gICAgICAgICAgZGVmYXVsdFZhbHVlPXtvcHRpb25bTEFCRUxdfVxuICAgICAgICAgIHZhbHVlPXtvcHRpb25EYXRhW0xBQkVMXX1cbiAgICAgICAgICBjbGFzc05hbWU9e2Ake2NsYXNzTmFtZX0tZGV0YWlsLWlucHV0YH1cbiAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlTmFtZUNoYW5nZX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake2NsYXNzTmFtZX0tZGV0YWlsLWl0ZW1gfT5cbiAgICAgICAgPHA+6YCJ6aG55YC8PC9wPlxuICAgICAgICA8SW5wdXRcbiAgICAgICAgICBwbGFjZWhvbGRlcj0n6K+36L6T5YWlJ1xuICAgICAgICAgIGJvcmRlclR5cGU9J2JvcmRlcmVkJ1xuICAgICAgICAgIHNpemU9J2xhcmdlJ1xuICAgICAgICAgIGRlZmF1bHRWYWx1ZT17b3B0aW9uW1ZBTFVFXX1cbiAgICAgICAgICB2YWx1ZT17b3B0aW9uRGF0YVtWQUxVRV19XG4gICAgICAgICAgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9LWRldGFpbC1pbnB1dGB9XG4gICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVZhbHVlQ2hhbmdlfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICB7LyogPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoYCR7Y2xhc3NOYW1lfS1kZXRhaWwtaXRlbWAsIGAke2NsYXNzTmFtZX0tZGV0YWlsLWhvcml6b250YWxgKX0+XG4gICAgICAgIDxwPum7mOiupOmAieS4rTwvcD5cbiAgICAgICAgPFN3aXRjaCBjaGVja2VkPXtvcHRpb25bU0VMRUNURURdfSBvbkNoYW5nZT17aGFuZGxlRGVmYXVsdFNlbGVjdH0gLz5cbiAgICAgIDwvZGl2PiAqL31cbiAgICA8L0Ryb3Bkb3duLk1lbnU+XG4gIClcblxuICBjb25zdCBoYW5kbGVEb3VibGVDbGlja0VkaXQgPSAoKSA9PiB7XG4gICAgc2V0SXNFZGl0KHRydWUpXG4gICAgc2V0VmlzaWJsZShmYWxzZSlcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUJsdXJFZGl0ID0gKCkgPT4ge1xuICAgIHNldElzRWRpdChmYWxzZSlcblxuICAgIGlmICghb3B0aW9uRGF0YVtMQUJFTF0gfHwgIW9wdGlvbkRhdGFbTEFCRUxdPy50cmltKCkpIHtcbiAgICAgIGhhbmRsZURlbGV0ZU9wdGlvbihvcHRpb25bSURdKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8g5bey57uP5a2Y5Zyo6YeN5aSN6aG555qE6K+d77yM6YKj5LmI6KaB5oqK6L+Z5Liq5paw55qE5bmy5o6JXG4gICAgY29uc3QgYWxyZWFkeUV4aXN0T3B0aW9uID0gb3B0aW9ucy5maW5kKGl0ZW0gPT4gaXRlbVtMQUJFTF0gPT09IG9wdGlvbkRhdGFbTEFCRUxdKVxuICAgIGlmIChhbHJlYWR5RXhpc3RPcHRpb24gJiYgb3B0aW9uRGF0YVtJRF0gIT09IGFscmVhZHlFeGlzdE9wdGlvbltJRF0pIHtcbiAgICAgIGhhbmRsZURlbGV0ZU9wdGlvbihvcHRpb25bSURdKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaGFuZGxlRWRpdE9wdGlvbihvcHRpb25EYXRhKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQ2hhbmdlRWRpdElucHV0ID0gKGUpID0+IHtcbiAgICBlLnBlcnNpc3QoKVxuXG4gICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZVxuICAgIHNldE9wdGlvbkRhdGEoZGF0YSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5kYXRhLFxuICAgICAgICBbTEFCRUxdOiB2YWx1ZSxcbiAgICAgICAgW1ZBTFVFXTogZW5jb2RlVmFsdWUodmFsdWUpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiDpopzoibLmlLnlj5hcbiAgICogQHBhcmFtIGNvbG9yXG4gICAqL1xuICBjb25zdCBoYW5kbGVDaGFuZ2VDb2xvciA9IChjb2xvcjogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgbmV3T3B0aW9uRGF0YSA9IHtcbiAgICAgIC4uLm9wdGlvbkRhdGEsXG4gICAgICBbQkdDXTogY29sb3JcbiAgICB9XG4gICAgc2V0T3B0aW9uRGF0YShuZXdPcHRpb25EYXRhKVxuICAgIGhhbmRsZUVkaXRPcHRpb24obmV3T3B0aW9uRGF0YSlcbiAgfVxuXG4gIC8qKlxuICAgKiDngrnlh7vnvJbovpHlm77moIdcbiAgICovXG4gIGNvbnN0IGhhbmRsZUNsaWNrRWRpdCA9ICgpID0+IHtcbiAgICBzZXRJc0VkaXQodHJ1ZSlcbiAgfVxuXG4gIHJldHVybiAoXG4gIC8vIDxEcm9wZG93blxuICAvLyAgIHRyaWdnZXI9J2NsaWNrJ1xuICAvLyAgIHBsYWNlbWVudD0nbGVmdFRvcCdcbiAgLy8gICBwb3BwZXJDbGFzc05hbWU9e2Ake2NsYXNzTmFtZX0tZGV0YWlsYH1cbiAgLy8gICBnZXRUcmlnZ2VyRWxlbWVudD17KCkgPT4gZWRpdFRyaWdnZXJSZWYuY3VycmVudH1cbiAgLy8gICBtZW51PXttZW51fVxuICAvLyAgIHZpc2libGU9e3Zpc2libGV9XG4gIC8vICAgb25WaXNpYmxlQ2hhbmdlPXtoYW5kbGVWaXNpYmxlQ2hhbmdlfVxuICAvLyA+XG4gICAgPERyYWdJdGVtIGluZGV4PXtpbmRleH0gb25Ecm9wPXtvbkRyb3B9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake2NsYXNzTmFtZX0td3JhcHBlcmB9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgICB7Ymdjb2xvckNoZWNrZWQgJiYgPENvbG9yUGlja2VyIHZhbHVlPXtvcHRpb25bQkdDXX0gcHJlZml4Q2xhc3M9e3ByZWZpeENsYXNzfSBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlQ29sb3J9IC8+fVxuICAgICAgICAgIDxkaXYgdGl0bGU9J+WPjOWHu+S/ruaUueaYvuekuuWAvCcgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9LWNvbnRlbnRgfSBvbkRvdWJsZUNsaWNrPXtoYW5kbGVEb3VibGVDbGlja0VkaXR9PlxuICAgICAgICAgICAgey8qIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhgJHtjbGFzc05hbWV9LWNvbnRlbnQtY2hlY2tib3hgKX1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNlbGVjdERlZmF1bHRPcHRpb24ob3B0aW9uW0lEXSl9XG4gICAgICAgICAgICB0aXRsZT0n6K6+5Li66buY6K6k6YCJ5LitJ1xuICAgICAgICAgID5cbiAgICAgICAgICAgIHtvcHRpb25bU0VMRUNURURdID8gcmVuZGVyU2VsZWN0ZWRTdmcoKSA6IHJlbmRlclNWRygpfVxuICAgICAgICAgIDwvZGl2PiAqL31cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgIGlzRWRpdFxuICAgICAgICAgICAgICA/IDxJbnB1dFxuICAgICAgICAgICAgICAgICAgcmVmPXtlZGl0SW5wdXRSZWZ9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake2NsYXNzTmFtZX0tY29udGVudF9lZGl0YH1cbiAgICAgICAgICAgICAgICAgIGJvcmRlclR5cGU9J2JvcmRlcmVkJ1xuICAgICAgICAgICAgICAgICAgc2l6ZT0nbGFyZ2UnXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e29wdGlvbltMQUJFTF19XG4gICAgICAgICAgICAgICAgICBvbkJsdXI9e2hhbmRsZUJsdXJFZGl0fVxuICAgICAgICAgICAgICAgICAgb25QcmVzc0VudGVyPXtoYW5kbGVCbHVyRWRpdH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2VFZGl0SW5wdXR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgOiA8cD57b3B0aW9uW0xBQkVMXX08L3A+XG4gICAgICAgICAgfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9LW9wZXJhdGVgfT5cbiAgICAgICAgICAgIHsoIWlzRWRpdCAmJiBvcHRpb25bSURdLmluZGV4T2YoT1RIRVJfT1BUSU9OX1NJR04pID09PSAtMSkgJiYgPEljb24gY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9LW9wZXJhdGUtZWRpdGB9IHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPSdiaWFuamkzJyBvbkNsaWNrPXtoYW5kbGVDbGlja0VkaXR9IHJlZj17ZWRpdFRyaWdnZXJSZWZ9IC8+fVxuICAgICAgICAgICAgey8qIDxJY29uIGNsYXNzTmFtZT17YCR7Y2xhc3NOYW1lfS1vcGVyYXRlLWRlbGV0ZWB9IHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPSdzaGFuY2h1JyBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGVPcHRpb24ob3B0aW9uW0lEXSl9IC8+ICovfVxuICAgICAgICAgICAgPEljb24gY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9LW9wZXJhdGUtZHJhZ2B9IHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPSd0dW96aHVhaWxpZWJpYW8nIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IHRpdGxlPSfliKDpmaTpgInpobknIGNsYXNzTmFtZT17YCR7Y2xhc3NOYW1lfS1kZWxldGVgfSBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGVPcHRpb24ob3B0aW9uW0lEXSl9PlxuICAgICAgICAgIDxJY29uIHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPSd4aW5nc2hhbmNodScgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L0RyYWdJdGVtPlxuICAvLyA8L0Ryb3Bkb3duPlxuICApXG59KVxuXG5leHBvcnQgZGVmYXVsdCBDdXN0b21PcHRpb25JdGVtXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///84068\n");

/***/ }),

/***/ 66900:
/*!**************************************************!*\
  !*** ./src/editors/CustomOptionEditor/index.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFULT_LABEL: function() { return /* binding */ DEFULT_LABEL; },\n/* harmony export */   OTHER_OPTION_SIGN: function() { return /* binding */ OTHER_OPTION_SIGN; },\n/* harmony export */   addItemId: function() { return /* binding */ addItemId; },\n/* harmony export */   encodeValue: function() { return /* binding */ encodeValue; },\n/* harmony export */   getNextMaxValue: function() { return /* binding */ getNextMaxValue; },\n/* harmony export */   shuffle: function() { return /* binding */ shuffle; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 73980);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 61260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _BatchAddOption__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./BatchAddOption */ 41944);\n/* harmony import */ var _CustomOptionItem__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./CustomOptionItem */ 84068);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../constants/propnames */ 94096);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _ColorPicker__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./ColorPicker */ 54368);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var nocode_component_UI__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! nocode_component/UI */ 31896);\n/* harmony import */ var nocode_component_UI__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(nocode_component_UI__WEBPACK_IMPORTED_MODULE_23__);\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n/*\n * @Description: 自定义内容选项\n * @Author: jianhang_he\n * @Date: 2022-09-05 10:41:31\n * @LastEditTime: 2024-05-10 10:40:37\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\n\n\n\n\nvar useOnDrop = nocode_component_UI__WEBPACK_IMPORTED_MODULE_23__.hooks.useOnDrop;\n// console.log('DragContainer', DragContainer);\n\nvar OTHER_OPTION_SIGN = 'other';\nvar DEFULT_LABEL = '新选项';\nvar shuffle = function shuffle(arr) {\n  var origin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var res = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(arr).call(arr, function (item) {\n    return !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default()(origin).call(origin, item);\n  });\n  for (var i = 0; i < res.length; i++) {\n    var j = i + Math.floor(Math.random() * (res.length - i));\n    var _ref = [res[j], res[i]];\n    res[i] = _ref[0];\n    res[j] = _ref[1];\n  }\n  return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9___default()(origin).call(origin, res);\n};\nvar RANDOM_COLOR_LIST = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(_ColorPicker__WEBPACK_IMPORTED_MODULE_20__.darkColorList).call(_ColorPicker__WEBPACK_IMPORTED_MODULE_20__.darkColorList, 0, -1));\n\n// 给项添加Id\nvar addItemId = function addItemId(list) {\n  if (!list || !Array.isArray(list) || list.length === 0) return list;\n  return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(list).call(list, function (item) {\n    if (!item[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.ID]) {\n      return _objectSpread(_objectSpread({}, item), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, _constants_propnames__WEBPACK_IMPORTED_MODULE_18__.ID, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.createUUid)()));\n    }\n    return item;\n  });\n};\nvar getNextMaxValue = function getNextMaxValue(options) {\n  if (!Array.isArray(options)) return 1;\n  var valueList = [];\n  options.forEach(function (option) {\n    var value = Number(option[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.VALUE]);\n    if (!isNaN(value)) {\n      valueList.push(value);\n    }\n  });\n  return (valueList.length > 0 ? Math.max.apply(null, valueList) : 0) + 1;\n};\n\n/**\n * 获取选项信息\n * @param options 选项信息 array | { ops: [] }\n * @returns\n */\nvar getOptions = function getOptions(options) {\n  return Array.isArray(options) ? options : options === null || options === void 0 ? void 0 : options.ops;\n};\nvar encodeValue = function encodeValue(value) {\n  return encodeURIComponent(value);\n};\nvar DEFAULT_BGC = '#E5E5E5';\n\n/**\n * 自定义选项内容\n * @param props\n * @returns\n */\nvar CustomOptionEditor = function CustomOptionEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    Name = props.Name,\n    tips = props.Tips,\n    field = props.field;\n  var _items = editor.Enum,\n    nameHidden = editor.NameHidden,\n    Default = editor.Default,\n    required = editor.Required,\n    title = editor.Title;\n  var prefixClass = \"\".concat(className, \"-custom-option\");\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)((0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__.isUndefined)(value) ? [] : addItemId(getOptions(value || Default)) || []),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState, 2),\n    optionItems = _useState2[0],\n    setOptionItems = _useState2[1];\n  // const [maxValue, setMaxValue] = useState(getNextMaxValue(optionItems))\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)(''),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState3, 2),\n    defaultBatchValue = _useState4[0],\n    setDefaultBatchValue = _useState4[1];\n  var _useState5 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)(!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__.isUndefined)(value === null || value === void 0 ? void 0 : value.bgcSwitch) ? value === null || value === void 0 ? void 0 : value.bgcSwitch : Default === null || Default === void 0 ? void 0 : Default.bgcSwitch),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState5, 2),\n    bgcolorChecked = _useState6[0],\n    setBgcolorChecked = _useState6[1];\n  var hasOtherOptionRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)(optionItems === null || optionItems === void 0 ? void 0 : optionItems.some(function (item) {\n    return item[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.ID].indexOf(OTHER_OPTION_SIGN) > -1;\n  }));\n  var curNewOption = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null); // 记录当前添加的最新项\n  var labelOptionMapRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)({});\n  // const curMaxValueRef = useRef(getNextMaxValue(optionItems))\n\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    var curDefaultBatchValue = '';\n    labelOptionMapRef.current = {};\n    optionItems === null || optionItems === void 0 || optionItems.forEach(function (item) {\n      var label = item === null || item === void 0 ? void 0 : item[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.LABEL];\n      if (label) {\n        var _item$ID;\n        // 是否存在重复项？目前使用数组维护重复项\n        // if (labelOptionMapRef.current[label]) {\n        //   labelOptionMapRef.current[label].push(item)\n        // } else {\n        //   labelOptionMapRef.current[label] = [item]\n        // }\n\n        curDefaultBatchValue = \"\".concat(curDefaultBatchValue ? curDefaultBatchValue + '\\n' + label : label);\n        if (((_item$ID = item[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.ID]) === null || _item$ID === void 0 ? void 0 : _item$ID.indexOf(OTHER_OPTION_SIGN)) > -1 || item[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.LABEL] === '其他' || item[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.VALUE] === '其他') {\n          hasOtherOptionRef.current = true;\n        }\n      }\n    });\n    setDefaultBatchValue(curDefaultBatchValue);\n  }, [optionItems]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useLayoutEffect)(function () {\n    if (!bgcolorChecked) {\n      // 开关关闭的时候，把颜色列表打乱\n      RANDOM_COLOR_LIST = shuffle(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(RANDOM_COLOR_LIST).call(RANDOM_COLOR_LIST, function (color) {\n        return !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default()(_ColorPicker__WEBPACK_IMPORTED_MODULE_20__.lightColorList).call(_ColorPicker__WEBPACK_IMPORTED_MODULE_20__.lightColorList, color);\n      }));\n    }\n  }, [bgcolorChecked]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    var _context;\n    var savedBgColors = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(optionItems).call(optionItems, function (item) {\n      return item[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.BGC];\n    })).call(_context, Boolean);\n    RANDOM_COLOR_LIST = shuffle(RANDOM_COLOR_LIST, savedBgColors);\n  }, []);\n  var batchAddOption = function batchAddOption(options) {\n    if (!Array.isArray(options)) return;\n    setOptionItems(options);\n    handleChange({\n      bgcSwitch: bgcolorChecked,\n      ops: options\n    });\n  };\n\n  // 添加选项\n  var handleAddOption = function handleAddOption(labelList) {\n    var newOptionItems = [];\n    // value逻辑：value从1开始做整数递增来创建，这样也方便用户后续修改；\n    // value创建时以已有value中最大的值+1为新的value就可以\n    // let curMaxValue = maxValue || 0\n    if (Array.isArray(labelList)) {\n      // 批量添加\n      newOptionItems = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(labelList).call(labelList, function (label, index) {\n        // 已存在，则直接返回\n        // if (labelOptionMapRef.current[label]?.length > 0) {\n        //   const option = labelOptionMapRef.current[label].shift()\n        //   return option || {}\n        // }\n\n        var newOptionItem = (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, _constants_propnames__WEBPACK_IMPORTED_MODULE_18__.LABEL, label), _constants_propnames__WEBPACK_IMPORTED_MODULE_18__.VALUE, encodeValue(label)), _constants_propnames__WEBPACK_IMPORTED_MODULE_18__.ID, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.createUUid)());\n        if (bgcolorChecked) {\n          newOptionItem[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.BGC] = RANDOM_COLOR_LIST[index % RANDOM_COLOR_LIST.length];\n        }\n\n        // 新增的\n        return newOptionItem;\n      });\n      batchAddOption(newOptionItems);\n    } else {\n      var newOptionItem = (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, _constants_propnames__WEBPACK_IMPORTED_MODULE_18__.ID, (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.createUUid)()), _constants_propnames__WEBPACK_IMPORTED_MODULE_18__.LABEL, ''), _constants_propnames__WEBPACK_IMPORTED_MODULE_18__.VALUE, '');\n      if (bgcolorChecked) {\n        newOptionItem[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.BGC] = RANDOM_COLOR_LIST[((optionItems === null || optionItems === void 0 ? void 0 : optionItems.length) || 0) % RANDOM_COLOR_LIST.length];\n      }\n\n      // 添加一项的时候，需要聚焦输入框\n      curNewOption.current = newOptionItem;\n      newOptionItems = optionItems ? optionItems === null || optionItems === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9___default()(optionItems).call(optionItems, newOptionItem) : [newOptionItem];\n      setOptionItems(newOptionItems);\n    }\n\n    // 存在其他项的时候，那么新的项需要添加到其他项的前面，维持其他项是最后的一个\n    // 其他项暂时忽略吧\n    // if (hasOtherOptionRef?.current && optionItems.length > 0) {\n    //   const newList = JSON.parse(JSON.stringify(optionItems))\n    //   newList.splice(newList.length - 1, 0, ...newOptionItem)\n    //   newOptionItems = newList\n    // }\n    // console.log(newOptionItems)\n\n    // setMaxValue(curMaxValue)\n  };\n\n  // 添加其他选项\n  var handleAddOtherOption = function handleAddOtherOption() {\n    if (!(hasOtherOptionRef !== null && hasOtherOptionRef !== void 0 && hasOtherOptionRef.current)) {\n      var newOptionItems = optionItems === null || optionItems === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9___default()(optionItems).call(optionItems, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, _constants_propnames__WEBPACK_IMPORTED_MODULE_18__.ID, OTHER_OPTION_SIGN + (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.createUUid)()), _constants_propnames__WEBPACK_IMPORTED_MODULE_18__.LABEL, '其他'), _constants_propnames__WEBPACK_IMPORTED_MODULE_18__.VALUE, '其他'));\n      setOptionItems(newOptionItems);\n      handleChange(newOptionItems);\n    }\n  };\n\n  // 选择默认选项\n  // const handleSelectDefaultOption = (id: string) => {\n  //   if (!id) return\n\n  //   setOptionItems((list: any[]) => {\n  //     return list.map(item => {\n  //       // 需要续区分单选还是多选，多选的时候允许默认值多个\n  //       const isSelected = item[ID] === id ? !item[SELECTED] : isMultiple ? item[SELECTED] : false\n  //       return {\n  //         ...item,\n  //         [SELECTED]: isSelected\n  //       }\n  //     })\n  //   })\n  // }\n\n  // 编辑选项\n  var handleEditOption = function handleEditOption(option) {\n    if (!(option !== null && option !== void 0 && option[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.ID])) return;\n    var newOptionItems = optionItems === null || optionItems === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(optionItems).call(optionItems, function (item) {\n      if (item[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.ID] === option[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.ID]) {\n        return option;\n      }\n      return item;\n    });\n    setOptionItems(newOptionItems);\n    handleChange({\n      bgcSwitch: bgcolorChecked,\n      ops: newOptionItems\n    });\n  };\n\n  // 删除选项\n  var handleDeleteOption = function handleDeleteOption(id) {\n    if (!id) return;\n    var newOptionItems = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(optionItems).call(optionItems, function (item) {\n      return item[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.ID] !== id;\n    });\n\n    // setMaxValue(getNextMaxValue(newOptionItems))\n    setOptionItems(newOptionItems);\n    if (newOptionItems.length === 0 && bgcolorChecked === (Default === null || Default === void 0 ? void 0 : Default.bgcSwitch)) {\n      handleChange({\n        bgcSwitch: bgcolorChecked,\n        empty: true\n      });\n    } else {\n      handleChange({\n        bgcSwitch: bgcolorChecked,\n        ops: newOptionItems\n      });\n    }\n  };\n\n  /**\n   * 切换彩色开关\n   * @param checked\n   */\n  var handleChangeColorSwitch = function handleChangeColorSwitch(checked) {\n    setBgcolorChecked(checked);\n    var newOptionItems = optionItems === null || optionItems === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(optionItems).call(optionItems, function (item, index) {\n      if (checked && (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__.isUndefined)(item.Bgc)) {\n        var color = RANDOM_COLOR_LIST[index % RANDOM_COLOR_LIST.length];\n        return _objectSpread((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, _constants_propnames__WEBPACK_IMPORTED_MODULE_18__.BGC, color), item);\n      } else {\n        var newItem = (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__.cloneDeep)(item);\n        delete newItem[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.BGC];\n        return newItem;\n      }\n    });\n    setOptionItems(newOptionItems);\n    handleChange({\n      bgcSwitch: checked,\n      ops: newOptionItems\n    });\n  };\n  var handleDropCallback = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (dropData) {\n    if (dropData) {\n      var sourceIndex = dropData.sourceIndex,\n        destinationIndex = dropData.destinationIndex;\n      var list = (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__.cloneDeep)(optionItems);\n      var moveNode = _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_12___default()(list).call(list, sourceIndex, 1)[0];\n      _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_12___default()(list).call(list, destinationIndex, 0, moveNode);\n      handleChange({\n        bgcSwitch: bgcolorChecked,\n        ops: list\n      });\n      setOptionItems(list);\n    }\n  }, [optionItems, bgcolorChecked, handleChange]);\n  var handleDrop = useOnDrop(handleDropCallback);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: prefixClass\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-title\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: Name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-title-colorswitch\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"span\", {\n    className: \"\".concat(prefixClass, \"-title-colorswitch-text\")\n  }, \"\\u5F69\\u8272\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__.Switch, {\n    checked: bgcolorChecked,\n    onChange: handleChangeColorSwitch\n  }))), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.DragContainer, null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_21___default()(\"\".concat(prefixClass, \"-list\"))\n  }, optionItems === null || optionItems === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(optionItems).call(optionItems, function (item, index) {\n    var _curNewOption$current;\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_CustomOptionItem__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n      key: item[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.ID],\n      index: index,\n      options: optionItems,\n      option: item,\n      prefixClass: prefixClass,\n      handleDeleteOption: handleDeleteOption,\n      handleEditOption: handleEditOption,\n      isNewOptionEdit: ((_curNewOption$current = curNewOption.current) === null || _curNewOption$current === void 0 ? void 0 : _curNewOption$current[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.ID]) === item[_constants_propnames__WEBPACK_IMPORTED_MODULE_18__.ID],\n      bgcolorChecked: bgcolorChecked,\n      onDrop: handleDrop\n      // handleSelectDefaultOption={handleSelectDefaultOption}\n    });\n  }))), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_21___default()(\"\".concat(prefixClass, \"-handle\"))\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_21___default()(\"\".concat(prefixClass, \"-handle-addoption\")),\n    onClick: function onClick() {\n      return handleAddOption();\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__.Icon, {\n    prefix: \"designericon\",\n    type: \"zengjia-yuan\"\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"span\", null, \"\\u6DFB\\u52A0\\u9009\\u9879\")), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_BatchAddOption__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n    prefixClass: prefixClass,\n    defaultBatchValue: defaultBatchValue,\n    handleAddOption: handleAddOption\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (CustomOptionEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjY5MDAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQU9BO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFNQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFXQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9DdXN0b21PcHRpb25FZGl0b3IvaW5kZXgudHN4P2IwYjQiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjog6Ieq5a6a5LmJ5YaF5a656YCJ6aG5XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDktMDUgMTA6NDE6MzFcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjQtMDUtMTAgMTA6NDA6MzdcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QsIHsgRkMsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlTGF5b3V0RWZmZWN0LCB1c2VDb250ZXh0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgSWNvbiwgU3dpdGNoIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IEJhdGNoQWRkT3B0aW9uIGZyb20gJy4vQmF0Y2hBZGRPcHRpb24nXG5pbXBvcnQgQ3VzdG9tT3B0aW9uSXRlbSBmcm9tICcuL0N1c3RvbU9wdGlvbkl0ZW0nXG5pbXBvcnQgeyBOYW1lVGlwV3JhcHBlciwgUHJvcGVydHlFZGl0b3JQcm9wcywgY3JlYXRlVVVpZCB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IElELCBMQUJFTCwgVkFMVUUsIEJHQyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9wcm9wbmFtZXMnXG5pbXBvcnQgeyBjbG9uZURlZXAsIGlzVW5kZWZpbmVkIH0gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IHsgbGlnaHRDb2xvckxpc3QsIGRhcmtDb2xvckxpc3QgfSBmcm9tICcuL0NvbG9yUGlja2VyJ1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcydcbmltcG9ydCB7IERyYWdDb250YWluZXIgfSBmcm9tICdub2NvZGVfY29tcG9uZW50L1dlYlVJJ1xuaW1wb3J0IHsgaG9va3MgfSBmcm9tICdub2NvZGVfY29tcG9uZW50L1VJJ1xuXG5jb25zdCB7IHVzZU9uRHJvcCB9ID0gaG9va3Ncbi8vIGNvbnNvbGUubG9nKCdEcmFnQ29udGFpbmVyJywgRHJhZ0NvbnRhaW5lcik7XG5leHBvcnQgaW50ZXJmYWNlIE9wdGlvbkFwaSB7XG4gIFtWQUxVRV0/OiBzdHJpbmcgfCBudW1iZXIsXG4gIFtMQUJFTF0/OiBzdHJpbmcsXG4gIFtJRF0/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IE9USEVSX09QVElPTl9TSUdOID0gJ290aGVyJ1xuXG5leHBvcnQgY29uc3QgREVGVUxUX0xBQkVMID0gJ+aWsOmAiemhuSdcblxuZXhwb3J0IGNvbnN0IHNodWZmbGUgPSAoYXJyOiBhbnlbXSwgb3JpZ2luOiBhbnlbXSA9IFtdKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGFyci5maWx0ZXIoaXRlbSA9PiAhb3JpZ2luLmluY2x1ZGVzKGl0ZW0pKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGogPSBpICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHJlcy5sZW5ndGggLSBpKSlcbiAgICA7W3Jlc1tpXSwgcmVzW2pdXSA9IFtyZXNbal0sIHJlc1tpXV1cbiAgfVxuICByZXR1cm4gb3JpZ2luLmNvbmNhdChyZXMpXG59XG5cbmxldCBSQU5ET01fQ09MT1JfTElTVCA9IFsuLi5kYXJrQ29sb3JMaXN0LnNsaWNlKDAsIC0xKV1cblxuLy8g57uZ6aG55re75YqgSWRcbmV4cG9ydCBjb25zdCBhZGRJdGVtSWQgPSAobGlzdDogYW55W10pID0+IHtcbiAgaWYgKCFsaXN0IHx8ICFBcnJheS5pc0FycmF5KGxpc3QpIHx8IGxpc3QubGVuZ3RoID09PSAwKSByZXR1cm4gbGlzdFxuICByZXR1cm4gbGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICBpZiAoIWl0ZW1bSURdKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5pdGVtLFxuICAgICAgICBbSURdOiBjcmVhdGVVVWlkKClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZW1cbiAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGdldE5leHRNYXhWYWx1ZSA9IChvcHRpb25zOiBPcHRpb25BcGlbXSk6IG51bWJlciA9PiB7XG4gIGlmKCFBcnJheS5pc0FycmF5KG9wdGlvbnMpKSByZXR1cm4gMVxuXG4gIGxldCB2YWx1ZUxpc3QgPSBbXVxuXG4gIG9wdGlvbnMuZm9yRWFjaChvcHRpb24gPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gTnVtYmVyKG9wdGlvbltWQUxVRV0pXG4gICAgaWYgKCFpc05hTih2YWx1ZSkpIHtcbiAgICAgIHZhbHVlTGlzdC5wdXNoKHZhbHVlKVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4gKHZhbHVlTGlzdC5sZW5ndGggPiAwID8gTWF0aC5tYXguYXBwbHkobnVsbCwgdmFsdWVMaXN0KSA6IDApICsgMVxufVxuXG4vKipcbiAqIOiOt+WPlumAiemhueS/oeaBr1xuICogQHBhcmFtIG9wdGlvbnMg6YCJ6aG55L+h5oGvIGFycmF5IHwgeyBvcHM6IFtdIH1cbiAqIEByZXR1cm5zXG4gKi9cbmNvbnN0IGdldE9wdGlvbnMgPSAob3B0aW9ucykgPT4ge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShvcHRpb25zKSA/IG9wdGlvbnMgOiBvcHRpb25zPy5vcHNcbn1cblxuZXhwb3J0IGNvbnN0IGVuY29kZVZhbHVlID0gKHZhbHVlKSA9PiB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpXG59XG5cbmNvbnN0IERFRkFVTFRfQkdDID0gJyNFNUU1RTUnXG5cbi8qKlxuICog6Ieq5a6a5LmJ6YCJ6aG55YaF5a65XG4gKiBAcGFyYW0gcHJvcHNcbiAqIEByZXR1cm5zXG4gKi9cbmNvbnN0IEN1c3RvbU9wdGlvbkVkaXRvcjogRkM8UHJvcGVydHlFZGl0b3JQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBoYW5kbGVDaGFuZ2UsIHZhbHVlLCBjbGFzc05hbWUsIGVkaXRvciwgbG9ja2VkLCBOYW1lLCBUaXBzOiB0aXBzLCBmaWVsZCB9ID0gcHJvcHNcbiAgY29uc3QgeyBFbnVtOiBfaXRlbXMsIE5hbWVIaWRkZW46IG5hbWVIaWRkZW4sIERlZmF1bHQsIFJlcXVpcmVkOiByZXF1aXJlZCwgVGl0bGU6IHRpdGxlIH0gPSBlZGl0b3JcbiAgY29uc3QgcHJlZml4Q2xhc3MgPSBgJHtjbGFzc05hbWV9LWN1c3RvbS1vcHRpb25gXG5cbiAgY29uc3QgW29wdGlvbkl0ZW1zLCBzZXRPcHRpb25JdGVtc10gPSB1c2VTdGF0ZTxPcHRpb25BcGlbXT4oaXNVbmRlZmluZWQodmFsdWUpID8gW10gOiBhZGRJdGVtSWQoZ2V0T3B0aW9ucyh2YWx1ZSB8fCBEZWZhdWx0KSkgfHwgW10pXG4gIC8vIGNvbnN0IFttYXhWYWx1ZSwgc2V0TWF4VmFsdWVdID0gdXNlU3RhdGUoZ2V0TmV4dE1heFZhbHVlKG9wdGlvbkl0ZW1zKSlcbiAgY29uc3QgW2RlZmF1bHRCYXRjaFZhbHVlLCBzZXREZWZhdWx0QmF0Y2hWYWx1ZV0gPSB1c2VTdGF0ZSgnJylcbiAgY29uc3QgW2JnY29sb3JDaGVja2VkLCBzZXRCZ2NvbG9yQ2hlY2tlZF0gPSB1c2VTdGF0ZSghaXNVbmRlZmluZWQodmFsdWU/LmJnY1N3aXRjaCkgPyB2YWx1ZT8uYmdjU3dpdGNoIDogRGVmYXVsdD8uYmdjU3dpdGNoKVxuICBjb25zdCBoYXNPdGhlck9wdGlvblJlZiA9IHVzZVJlZihvcHRpb25JdGVtcz8uc29tZSgoaXRlbTogT3B0aW9uQXBpKSA9PiBpdGVtW0lEXS5pbmRleE9mKE9USEVSX09QVElPTl9TSUdOKSA+IC0xKSlcbiAgY29uc3QgY3VyTmV3T3B0aW9uID0gdXNlUmVmPE9wdGlvbkFwaSB8IG51bGw+KG51bGwpIC8vIOiusOW9leW9k+WJjea3u+WKoOeahOacgOaWsOmhuVxuICBjb25zdCBsYWJlbE9wdGlvbk1hcFJlZiA9IHVzZVJlZih7fSlcbiAgLy8gY29uc3QgY3VyTWF4VmFsdWVSZWYgPSB1c2VSZWYoZ2V0TmV4dE1heFZhbHVlKG9wdGlvbkl0ZW1zKSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBjdXJEZWZhdWx0QmF0Y2hWYWx1ZSA9ICcnXG4gICAgbGFiZWxPcHRpb25NYXBSZWYuY3VycmVudCA9IHt9XG5cbiAgICBvcHRpb25JdGVtcz8uZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGNvbnN0IGxhYmVsID0gaXRlbT8uW0xBQkVMXVxuICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgIC8vIOaYr+WQpuWtmOWcqOmHjeWkjemhue+8n+ebruWJjeS9v+eUqOaVsOe7hOe7tOaKpOmHjeWkjemhuVxuICAgICAgICAvLyBpZiAobGFiZWxPcHRpb25NYXBSZWYuY3VycmVudFtsYWJlbF0pIHtcbiAgICAgICAgLy8gICBsYWJlbE9wdGlvbk1hcFJlZi5jdXJyZW50W2xhYmVsXS5wdXNoKGl0ZW0pXG4gICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgIC8vICAgbGFiZWxPcHRpb25NYXBSZWYuY3VycmVudFtsYWJlbF0gPSBbaXRlbV1cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGN1ckRlZmF1bHRCYXRjaFZhbHVlID0gYCR7Y3VyRGVmYXVsdEJhdGNoVmFsdWUgPyBjdXJEZWZhdWx0QmF0Y2hWYWx1ZSArICdcXG4nICsgbGFiZWwgOiBsYWJlbH1gXG5cbiAgICAgICAgaWYoaXRlbVtJRF0/LmluZGV4T2YoT1RIRVJfT1BUSU9OX1NJR04pID4gLTEgfHwgaXRlbVtMQUJFTF0gPT09ICflhbbku5YnIHx8IGl0ZW1bVkFMVUVdID09PSAn5YW25LuWJykge1xuICAgICAgICAgIGhhc090aGVyT3B0aW9uUmVmLmN1cnJlbnQgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgc2V0RGVmYXVsdEJhdGNoVmFsdWUoY3VyRGVmYXVsdEJhdGNoVmFsdWUpXG4gIH0sIFtvcHRpb25JdGVtc10pXG5cbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWJnY29sb3JDaGVja2VkKSB7XG4gICAgICAvLyDlvIDlhbPlhbPpl63nmoTml7blgJnvvIzmiorpopzoibLliJfooajmiZPkubFcbiAgICAgIFJBTkRPTV9DT0xPUl9MSVNUID0gc2h1ZmZsZShSQU5ET01fQ09MT1JfTElTVC5maWx0ZXIoY29sb3IgPT4gIWxpZ2h0Q29sb3JMaXN0LmluY2x1ZGVzKGNvbG9yKSkpXG4gICAgfVxuICB9LCBbYmdjb2xvckNoZWNrZWRdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc2F2ZWRCZ0NvbG9ycyA9IG9wdGlvbkl0ZW1zLm1hcChpdGVtID0+IGl0ZW1bQkdDXSkuZmlsdGVyKEJvb2xlYW4pXG4gICAgUkFORE9NX0NPTE9SX0xJU1QgPSBzaHVmZmxlKFJBTkRPTV9DT0xPUl9MSVNULCBzYXZlZEJnQ29sb3JzKVxuICB9LCBbXSlcblxuICBjb25zdCBiYXRjaEFkZE9wdGlvbiA9IChvcHRpb25zKSA9PiB7XG4gICAgaWYoIUFycmF5LmlzQXJyYXkob3B0aW9ucykpIHJldHVyblxuXG4gICAgc2V0T3B0aW9uSXRlbXMob3B0aW9ucylcbiAgICBoYW5kbGVDaGFuZ2Uoe1xuICAgICAgYmdjU3dpdGNoOiBiZ2NvbG9yQ2hlY2tlZCxcbiAgICAgIG9wczogb3B0aW9uc1xuICAgIH0pXG4gIH1cblxuICAvLyDmt7vliqDpgInpoblcbiAgY29uc3QgaGFuZGxlQWRkT3B0aW9uID0gKGxhYmVsTGlzdDogc3RyaW5nW10gfCB2b2lkKSA9PiB7XG4gICAgbGV0IG5ld09wdGlvbkl0ZW1zOiBPcHRpb25BcGkgfCBPcHRpb25BcGlbXSA9IFtdXG4gICAgLy8gdmFsdWXpgLvovpHvvJp2YWx1ZeS7jjHlvIDlp4vlgZrmlbTmlbDpgJLlop7mnaXliJvlu7rvvIzov5nmoLfkuZ/mlrnkvr/nlKjmiLflkI7nu63kv67mlLnvvJtcbiAgICAvLyB2YWx1ZeWIm+W7uuaXtuS7peW3suaciXZhbHVl5Lit5pyA5aSn55qE5YC8KzHkuLrmlrDnmoR2YWx1ZeWwseWPr+S7pVxuICAgIC8vIGxldCBjdXJNYXhWYWx1ZSA9IG1heFZhbHVlIHx8IDBcbiAgICBpZihBcnJheS5pc0FycmF5KGxhYmVsTGlzdCkpIHtcbiAgICAgIC8vIOaJuemHj+a3u+WKoFxuICAgICAgbmV3T3B0aW9uSXRlbXMgPSBsYWJlbExpc3QubWFwKChsYWJlbDogc3RyaW5nLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgIC8vIOW3suWtmOWcqO+8jOWImeebtOaOpei/lOWbnlxuICAgICAgICAvLyBpZiAobGFiZWxPcHRpb25NYXBSZWYuY3VycmVudFtsYWJlbF0/Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gICBjb25zdCBvcHRpb24gPSBsYWJlbE9wdGlvbk1hcFJlZi5jdXJyZW50W2xhYmVsXS5zaGlmdCgpXG4gICAgICAgIC8vICAgcmV0dXJuIG9wdGlvbiB8fCB7fVxuICAgICAgICAvLyB9XG5cbiAgICAgICAgY29uc3QgbmV3T3B0aW9uSXRlbSA9IHtcbiAgICAgICAgICBbTEFCRUxdOiBsYWJlbCxcbiAgICAgICAgICBbVkFMVUVdOiBlbmNvZGVWYWx1ZShsYWJlbCksXG4gICAgICAgICAgW0lEXTogY3JlYXRlVVVpZCgpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmdjb2xvckNoZWNrZWQpIHtcbiAgICAgICAgICBuZXdPcHRpb25JdGVtW0JHQ10gPSBSQU5ET01fQ09MT1JfTElTVFtpbmRleCAlIFJBTkRPTV9DT0xPUl9MSVNULmxlbmd0aF1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOaWsOWinueahFxuICAgICAgICByZXR1cm4gbmV3T3B0aW9uSXRlbVxuICAgICAgfSlcbiAgICAgIGJhdGNoQWRkT3B0aW9uKG5ld09wdGlvbkl0ZW1zKVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbmV3T3B0aW9uSXRlbTogT3B0aW9uQXBpID0ge1xuICAgICAgICBbSURdOiBjcmVhdGVVVWlkKCksXG4gICAgICAgIFtMQUJFTF06ICcnLFxuICAgICAgICBbVkFMVUVdOiAnJ1xuICAgICAgfVxuXG4gICAgICBpZiAoYmdjb2xvckNoZWNrZWQpIHtcbiAgICAgICAgbmV3T3B0aW9uSXRlbVtCR0NdID0gUkFORE9NX0NPTE9SX0xJU1RbKG9wdGlvbkl0ZW1zPy5sZW5ndGggfHwgMCkgJSBSQU5ET01fQ09MT1JfTElTVC5sZW5ndGhdXG4gICAgICB9XG5cbiAgICAgIC8vIOa3u+WKoOS4gOmhueeahOaXtuWAme+8jOmcgOimgeiBmueEpui+k+WFpeahhlxuICAgICAgY3VyTmV3T3B0aW9uLmN1cnJlbnQgPSBuZXdPcHRpb25JdGVtXG4gICAgICBuZXdPcHRpb25JdGVtcyA9IG9wdGlvbkl0ZW1zID8gb3B0aW9uSXRlbXM/LmNvbmNhdChuZXdPcHRpb25JdGVtKSA6IFtuZXdPcHRpb25JdGVtXVxuICAgICAgc2V0T3B0aW9uSXRlbXMobmV3T3B0aW9uSXRlbXMpXG4gICAgfVxuXG4gICAgLy8g5a2Y5Zyo5YW25LuW6aG555qE5pe25YCZ77yM6YKj5LmI5paw55qE6aG56ZyA6KaB5re75Yqg5Yiw5YW25LuW6aG555qE5YmN6Z2i77yM57u05oyB5YW25LuW6aG55piv5pyA5ZCO55qE5LiA5LiqXG4gICAgLy8g5YW25LuW6aG55pqC5pe25b+955Wl5ZCnXG4gICAgLy8gaWYgKGhhc090aGVyT3B0aW9uUmVmPy5jdXJyZW50ICYmIG9wdGlvbkl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAvLyAgIGNvbnN0IG5ld0xpc3QgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9wdGlvbkl0ZW1zKSlcbiAgICAvLyAgIG5ld0xpc3Quc3BsaWNlKG5ld0xpc3QubGVuZ3RoIC0gMSwgMCwgLi4ubmV3T3B0aW9uSXRlbSlcbiAgICAvLyAgIG5ld09wdGlvbkl0ZW1zID0gbmV3TGlzdFxuICAgIC8vIH1cbiAgICAvLyBjb25zb2xlLmxvZyhuZXdPcHRpb25JdGVtcylcblxuXG4gICAgLy8gc2V0TWF4VmFsdWUoY3VyTWF4VmFsdWUpXG4gIH1cblxuICAvLyDmt7vliqDlhbbku5bpgInpoblcbiAgY29uc3QgaGFuZGxlQWRkT3RoZXJPcHRpb24gPSAoKSA9PiB7XG4gICAgaWYgKCFoYXNPdGhlck9wdGlvblJlZj8uY3VycmVudCkge1xuICAgICAgY29uc3QgbmV3T3B0aW9uSXRlbXMgPSBvcHRpb25JdGVtcz8uY29uY2F0KHtcbiAgICAgICAgW0lEXTogT1RIRVJfT1BUSU9OX1NJR04gKyBjcmVhdGVVVWlkKCksXG4gICAgICAgIFtMQUJFTF06ICflhbbku5YnLFxuICAgICAgICBbVkFMVUVdOiAn5YW25LuWJ1xuICAgICAgfSlcbiAgICAgIHNldE9wdGlvbkl0ZW1zKG5ld09wdGlvbkl0ZW1zKVxuICAgICAgaGFuZGxlQ2hhbmdlKG5ld09wdGlvbkl0ZW1zKVxuICAgIH1cbiAgfVxuXG4gIC8vIOmAieaLqem7mOiupOmAiemhuVxuICAvLyBjb25zdCBoYW5kbGVTZWxlY3REZWZhdWx0T3B0aW9uID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgLy8gICBpZiAoIWlkKSByZXR1cm5cblxuICAvLyAgIHNldE9wdGlvbkl0ZW1zKChsaXN0OiBhbnlbXSkgPT4ge1xuICAvLyAgICAgcmV0dXJuIGxpc3QubWFwKGl0ZW0gPT4ge1xuICAvLyAgICAgICAvLyDpnIDopoHnu63ljLrliIbljZXpgInov5jmmK/lpJrpgInvvIzlpJrpgInnmoTml7blgJnlhYHorrjpu5jorqTlgLzlpJrkuKpcbiAgLy8gICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IGl0ZW1bSURdID09PSBpZCA/ICFpdGVtW1NFTEVDVEVEXSA6IGlzTXVsdGlwbGUgPyBpdGVtW1NFTEVDVEVEXSA6IGZhbHNlXG4gIC8vICAgICAgIHJldHVybiB7XG4gIC8vICAgICAgICAgLi4uaXRlbSxcbiAgLy8gICAgICAgICBbU0VMRUNURURdOiBpc1NlbGVjdGVkXG4gIC8vICAgICAgIH1cbiAgLy8gICAgIH0pXG4gIC8vICAgfSlcbiAgLy8gfVxuXG4gIC8vIOe8lui+kemAiemhuVxuICBjb25zdCBoYW5kbGVFZGl0T3B0aW9uID0gKG9wdGlvbjogT3B0aW9uQXBpKSA9PiB7XG4gICAgaWYgKCFvcHRpb24/LltJRF0pIHJldHVyblxuXG4gICAgY29uc3QgbmV3T3B0aW9uSXRlbXMgPSBvcHRpb25JdGVtcz8ubWFwKGl0ZW0gPT4ge1xuICAgICAgaWYgKGl0ZW1bSURdID09PSBvcHRpb25bSURdKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25cbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVtXG4gICAgfSlcblxuICAgIHNldE9wdGlvbkl0ZW1zKG5ld09wdGlvbkl0ZW1zKVxuICAgIGhhbmRsZUNoYW5nZSh7XG4gICAgICBiZ2NTd2l0Y2g6IGJnY29sb3JDaGVja2VkLFxuICAgICAgb3BzOiBuZXdPcHRpb25JdGVtc1xuICAgIH0pXG4gIH1cblxuICAvLyDliKDpmaTpgInpoblcbiAgY29uc3QgaGFuZGxlRGVsZXRlT3B0aW9uID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWlkKSByZXR1cm5cblxuICAgIGNvbnN0IG5ld09wdGlvbkl0ZW1zID0gb3B0aW9uSXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbVtJRF0gIT09IGlkKVxuXG4gICAgLy8gc2V0TWF4VmFsdWUoZ2V0TmV4dE1heFZhbHVlKG5ld09wdGlvbkl0ZW1zKSlcbiAgICBzZXRPcHRpb25JdGVtcyhuZXdPcHRpb25JdGVtcylcblxuICAgIGlmKG5ld09wdGlvbkl0ZW1zLmxlbmd0aCA9PT0gMCAmJiBiZ2NvbG9yQ2hlY2tlZCA9PT0gRGVmYXVsdD8uYmdjU3dpdGNoKSB7XG4gICAgICBoYW5kbGVDaGFuZ2UoeyBiZ2NTd2l0Y2g6IGJnY29sb3JDaGVja2VkLCBlbXB0eTogdHJ1ZX0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZUNoYW5nZSh7XG4gICAgICAgIGJnY1N3aXRjaDogYmdjb2xvckNoZWNrZWQsXG4gICAgICAgIG9wczogbmV3T3B0aW9uSXRlbXNcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOWIh+aNouW9qeiJsuW8gOWFs1xuICAgKiBAcGFyYW0gY2hlY2tlZFxuICAgKi9cbiAgY29uc3QgaGFuZGxlQ2hhbmdlQ29sb3JTd2l0Y2g9IChjaGVja2VkOiBib29sZWFuKSA9PiB7XG4gICAgc2V0Qmdjb2xvckNoZWNrZWQoY2hlY2tlZClcblxuICAgIGNvbnN0IG5ld09wdGlvbkl0ZW1zID0gb3B0aW9uSXRlbXM/Lm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGlmKGNoZWNrZWQgJiYgaXNVbmRlZmluZWQoaXRlbS5CZ2MpKSB7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gUkFORE9NX0NPTE9SX0xJU1RbaW5kZXggJSBSQU5ET01fQ09MT1JfTElTVC5sZW5ndGhdXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgW0JHQ106IGNvbG9yLFxuICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG5ld0l0ZW0gPSBjbG9uZURlZXAoaXRlbSlcbiAgICAgICAgZGVsZXRlIG5ld0l0ZW1bQkdDXVxuICAgICAgICByZXR1cm4gbmV3SXRlbVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBzZXRPcHRpb25JdGVtcyhuZXdPcHRpb25JdGVtcylcbiAgICBoYW5kbGVDaGFuZ2Uoe1xuICAgICAgYmdjU3dpdGNoOiBjaGVja2VkLFxuICAgICAgb3BzOiBuZXdPcHRpb25JdGVtc1xuICAgIH0pXG4gIH1cblxuICBjb25zdCBoYW5kbGVEcm9wQ2FsbGJhY2sgPSB1c2VDYWxsYmFjaygoZHJvcERhdGEpID0+IHtcbiAgICBpZihkcm9wRGF0YSkge1xuICAgICAgY29uc3QgeyBzb3VyY2VJbmRleCwgZGVzdGluYXRpb25JbmRleCB9ID0gZHJvcERhdGFcbiAgICAgIGNvbnN0IGxpc3Q6YW55ID0gY2xvbmVEZWVwKG9wdGlvbkl0ZW1zKVxuICAgICAgY29uc3QgbW92ZU5vZGU6YW55ID0gbGlzdC5zcGxpY2Uoc291cmNlSW5kZXgsIDEpWzBdXG4gICAgICBsaXN0LnNwbGljZShkZXN0aW5hdGlvbkluZGV4LCAwLCBtb3ZlTm9kZSlcblxuICAgICAgaGFuZGxlQ2hhbmdlKHtcbiAgICAgICAgYmdjU3dpdGNoOiBiZ2NvbG9yQ2hlY2tlZCxcbiAgICAgICAgb3BzOiBsaXN0XG4gICAgICB9KVxuICAgICAgc2V0T3B0aW9uSXRlbXMobGlzdClcbiAgICB9XG4gIH0sIFtvcHRpb25JdGVtcywgYmdjb2xvckNoZWNrZWQsIGhhbmRsZUNoYW5nZV0pXG5cbiAgY29uc3QgaGFuZGxlRHJvcCA9IHVzZU9uRHJvcChoYW5kbGVEcm9wQ2FsbGJhY2spXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJlZml4Q2xhc3N9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsYXNzfS10aXRsZWB9PlxuICAgICAgICA8TmFtZVRpcFdyYXBwZXIgbmFtZUhpZGRlbj17bmFtZUhpZGRlbn0gY2xhc3NOYW1lPXtjbGFzc05hbWV9IG5hbWU9e05hbWV9IHRpcHM9e3RpcHN9IHJlcXVpcmVkPXtyZXF1aXJlZH0gdGl0bGU9e3RpdGxlfS8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbGFzc30tdGl0bGUtY29sb3Jzd2l0Y2hgfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Ake3ByZWZpeENsYXNzfS10aXRsZS1jb2xvcnN3aXRjaC10ZXh0YH0+5b2p6ImyPC9zcGFuPlxuICAgICAgICAgIDxTd2l0Y2ggY2hlY2tlZD17Ymdjb2xvckNoZWNrZWR9IG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2VDb2xvclN3aXRjaH0vPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPERyYWdDb250YWluZXI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGAke3ByZWZpeENsYXNzfS1saXN0YCl9PlxuICAgICAgICAgICAge29wdGlvbkl0ZW1zPy5tYXAoKGl0ZW06IGFueSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8Q3VzdG9tT3B0aW9uSXRlbVxuICAgICAgICAgICAgICAgICAga2V5PXtpdGVtW0lEXX1cbiAgICAgICAgICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e29wdGlvbkl0ZW1zfVxuICAgICAgICAgICAgICAgICAgb3B0aW9uPXtpdGVtfVxuICAgICAgICAgICAgICAgICAgcHJlZml4Q2xhc3M9e3ByZWZpeENsYXNzfVxuICAgICAgICAgICAgICAgICAgaGFuZGxlRGVsZXRlT3B0aW9uPXtoYW5kbGVEZWxldGVPcHRpb259XG4gICAgICAgICAgICAgICAgICBoYW5kbGVFZGl0T3B0aW9uPXtoYW5kbGVFZGl0T3B0aW9ufVxuICAgICAgICAgICAgICAgICAgaXNOZXdPcHRpb25FZGl0PXtjdXJOZXdPcHRpb24uY3VycmVudD8uW0lEXSA9PT0gaXRlbVtJRF19XG4gICAgICAgICAgICAgICAgICBiZ2NvbG9yQ2hlY2tlZD17Ymdjb2xvckNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICBvbkRyb3A9e2hhbmRsZURyb3B9XG4gICAgICAgICAgICAgICAgICAvLyBoYW5kbGVTZWxlY3REZWZhdWx0T3B0aW9uPXtoYW5kbGVTZWxlY3REZWZhdWx0T3B0aW9ufVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvRHJhZ0NvbnRhaW5lcj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGAke3ByZWZpeENsYXNzfS1oYW5kbGVgKX0+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoYCR7cHJlZml4Q2xhc3N9LWhhbmRsZS1hZGRvcHRpb25gKX1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBZGRPcHRpb24oKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxJY29uIHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPSd6ZW5namlhLXl1YW4nIC8+XG4gICAgICAgICAgPHNwYW4+5re75Yqg6YCJ6aG5PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgey8qIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoYCR7cHJlZml4Q2xhc3N9LWhhbmRsZS1hZGRvdGhlcmAsIHtcbiAgICAgICAgICAgIFtgJHtwcmVmaXhDbGFzc30taGFuZGxlLWFkZG90aGVyLWRpc2FibGVkYF06IGhhc090aGVyT3B0aW9uUmVmLmN1cnJlbnRcbiAgICAgICAgICB9KX1cbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRPdGhlck9wdGlvbn1cbiAgICAgICAgPua3u+WKoOWFtuS7llxuICAgICAgICA8L2Rpdj4gKi99XG4gICAgICAgIDxCYXRjaEFkZE9wdGlvblxuICAgICAgICAgIHByZWZpeENsYXNzPXtwcmVmaXhDbGFzc31cbiAgICAgICAgICBkZWZhdWx0QmF0Y2hWYWx1ZT17ZGVmYXVsdEJhdGNoVmFsdWV9XG4gICAgICAgICAgaGFuZGxlQWRkT3B0aW9uPXtoYW5kbGVBZGRPcHRpb259XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBDdXN0b21PcHRpb25FZGl0b3JcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///66900\n");

/***/ }),

/***/ 46540:
/*!***************************************************!*\
  !*** ./src/editors/DataFillEditor/EditOption.tsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _RelateForm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RelateForm */ 92613);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nvar EditorOption = function EditorOption(_ref) {\n  var _refFldOptions$find;\n  var prefixCls = _ref.prefixCls,\n    data = _ref.data,\n    index = _ref.index,\n    isNewOption = _ref.isNewOption,\n    handleDelete = _ref.handleDelete,\n    handleUpdate = _ref.handleUpdate,\n    currFldOptions = _ref.currFldOptions,\n    refFldOptions = _ref.refFldOptions;\n  var refFldKey = data.RefFldKey,\n    currFldKey = data.CurrFldKey;\n  var relateFieldName = ((_refFldOptions$find = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1___default()(refFldOptions).call(refFldOptions, function (item) {\n    return item.value === refFldKey;\n  })) === null || _refFldOptions$find === void 0 ? void 0 : _refFldOptions$find.label) || '';\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useState)(!!isNewOption),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    visible = _useState2[0],\n    setVisible = _useState2[1];\n  var panelRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  var triggerRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  var deleteOption = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (e, index) {\n    e.stopPropagation();\n    handleDelete(index);\n  }, [handleDelete]);\n  var handleShowPanel = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function () {\n    setVisible(true);\n  }, [setVisible]);\n  var handleVisibleChange = function handleVisibleChange(flag) {\n    setVisible(flag);\n  };\n  var handleChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (value, key) {\n    handleUpdate(value, index, key);\n  }, [handleUpdate, index]);\n  var renderForm = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function () {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n      ref: panelRef\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_RelateForm__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n      formVisible: visible,\n      prefixCls: prefixCls,\n      currFldOptions: currFldOptions,\n      refFldOptions: refFldOptions,\n      refFldKey: refFldKey,\n      currFldKey: currFldKey,\n      handleChange: handleChange\n    }));\n  }, [prefixCls, currFldOptions, refFldOptions, refFldKey, currFldKey, handleChange, visible]);\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.useOnClickOutside)([panelRef], function (e) {\n    var appDom = document.getElementById('app');\n    if (appDom && !(appDom !== null && appDom !== void 0 && appDom.contains(e.target))) return;\n    if (visible) {\n      var _triggerRef$current;\n      if ((_triggerRef$current = triggerRef.current) !== null && _triggerRef$current !== void 0 && _triggerRef$current.contains(e.target)) return;\n      setVisible(false);\n    }\n  });\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__.Tooltip, {\n    trigger: \"click\",\n    placement: \"leftTop\",\n    popperStyle: {\n      width: '636px'\n    },\n    popperClassName: \"\".concat(prefixCls, \"-dropdown\"),\n    tip: renderForm(),\n    visible: visible\n    // scrollHidden\n    // onVisibleChange={handleVisibleChange}\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-option\"),\n    onClick: handleShowPanel,\n    ref: triggerRef\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-option-name\")\n  }, relateFieldName), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-option-right-btns\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n    prefix: \"designericon\",\n    type: \"bianji3\"\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n    prefix: \"designericon\",\n    type: \"shanchu\",\n    onClick: function onClick(e) {\n      return deleteOption(e, index);\n    }\n  }))));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (EditorOption);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY1NDAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBa0JBO0FBU0E7QUFBQTtBQVBBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9lZGl0b3JzL0RhdGFGaWxsRWRpdG9yL0VkaXRPcHRpb24udHN4PzExNjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IEZDLCB1c2VDYWxsYmFjaywgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IHVzZU9uQ2xpY2tPdXRzaWRlIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xyXG5pbXBvcnQgUmVsYXRlRm9ybSBmcm9tICcuL1JlbGF0ZUZvcm0nXHJcbmltcG9ydCB7IEljb24sIFRvb2x0aXAgfSBmcm9tICdAa2RjbG91ZGpzL2tkZXNpZ24nXHJcblxyXG5pbnRlcmZhY2UgT3B0aW9uIHtcclxuICBsYWJlbDogc3RyaW5nO1xyXG4gIHZhbHVlOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBFZGl0b3JPcHRpb25Qcm9wcyB7XHJcbiAgcHJlZml4Q2xzOiBzdHJpbmc7XHJcbiAgZGF0YTogYW55O1xyXG4gIGluZGV4OiBudW1iZXI7XHJcbiAgaXNOZXdPcHRpb246IGJvb2xlYW47XHJcbiAgaGFuZGxlRGVsZXRlOiAoaW5kZXg6IG51bWJlcikgPT4gdm9pZDtcclxuICBoYW5kbGVVcGRhdGU6ICh2YWx1ZTogc3RyaW5nLCBpbmRleDogbnVtYmVyLCBrZXk6IHN0cmluZykgPT4gdm9pZDtcclxuICBjdXJyRmxkT3B0aW9uczogT3B0aW9uW107XHJcbiAgcmVmRmxkT3B0aW9uczogT3B0aW9uW107XHJcbn1cclxuXHJcbmNvbnN0IEVkaXRvck9wdGlvbjogRkM8RWRpdG9yT3B0aW9uUHJvcHM+ID0gKHtcclxuICBwcmVmaXhDbHMsXHJcbiAgZGF0YSxcclxuICBpbmRleCxcclxuICBpc05ld09wdGlvbixcclxuICBoYW5kbGVEZWxldGUsXHJcbiAgaGFuZGxlVXBkYXRlLFxyXG4gIGN1cnJGbGRPcHRpb25zLFxyXG4gIHJlZkZsZE9wdGlvbnNcclxufSkgPT4ge1xyXG4gIGNvbnN0IHsgUmVmRmxkS2V5OiByZWZGbGRLZXksIEN1cnJGbGRLZXk6IGN1cnJGbGRLZXkgfSA9IGRhdGFcclxuICBjb25zdCByZWxhdGVGaWVsZE5hbWUgPSByZWZGbGRPcHRpb25zLmZpbmQoaXRlbSA9PiBpdGVtLnZhbHVlID09PSByZWZGbGRLZXkpPy5sYWJlbCB8fCAnJ1xyXG4gIGNvbnN0IFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IHVzZVN0YXRlKCEhaXNOZXdPcHRpb24pXHJcbiAgY29uc3QgcGFuZWxSZWYgPSB1c2VSZWYobnVsbClcclxuICBjb25zdCB0cmlnZ2VyUmVmID0gdXNlUmVmPGdsb2JhbFRoaXMuSFRNTERpdkVsZW1lbnQ+KG51bGwpXHJcblxyXG4gIGNvbnN0IGRlbGV0ZU9wdGlvbiA9IHVzZUNhbGxiYWNrKChlOiBSZWFjdC5Nb3VzZUV2ZW50LCBpbmRleCkgPT4ge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgaGFuZGxlRGVsZXRlKGluZGV4KVxyXG4gIH0sIFtoYW5kbGVEZWxldGVdKVxyXG5cclxuICBjb25zdCBoYW5kbGVTaG93UGFuZWwgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzZXRWaXNpYmxlKHRydWUpXHJcbiAgfSwgW3NldFZpc2libGVdKVxyXG5cclxuICBjb25zdCBoYW5kbGVWaXNpYmxlQ2hhbmdlID0gKGZsYWc6IGJvb2xlYW4pID0+IHtcclxuICAgIHNldFZpc2libGUoZmxhZylcclxuICB9XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IHVzZUNhbGxiYWNrKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICBoYW5kbGVVcGRhdGUodmFsdWUsIGluZGV4LCBrZXkpXHJcbiAgfSwgW2hhbmRsZVVwZGF0ZSwgaW5kZXhdKVxyXG5cclxuICBjb25zdCByZW5kZXJGb3JtID0gdXNlQ2FsbGJhY2soKCkgPT4gKFxyXG4gICAgPGRpdiByZWY9e3BhbmVsUmVmfT5cclxuICAgICAgPFJlbGF0ZUZvcm1cclxuICAgICAgICBmb3JtVmlzaWJsZT17dmlzaWJsZX1cclxuICAgICAgICBwcmVmaXhDbHM9e3ByZWZpeENsc31cclxuICAgICAgICBjdXJyRmxkT3B0aW9ucz17Y3VyckZsZE9wdGlvbnN9XHJcbiAgICAgICAgcmVmRmxkT3B0aW9ucz17cmVmRmxkT3B0aW9uc31cclxuICAgICAgICByZWZGbGRLZXk9e3JlZkZsZEtleX1cclxuICAgICAgICBjdXJyRmxkS2V5PXtjdXJyRmxkS2V5fVxyXG4gICAgICAgIGhhbmRsZUNoYW5nZT17aGFuZGxlQ2hhbmdlfVxyXG4gICAgICAvPlxyXG4gICAgPC9kaXY+XHJcbiAgKSwgW3ByZWZpeENscywgY3VyckZsZE9wdGlvbnMsIHJlZkZsZE9wdGlvbnMsIHJlZkZsZEtleSwgY3VyckZsZEtleSwgaGFuZGxlQ2hhbmdlLCB2aXNpYmxlXSlcclxuXHJcbiAgdXNlT25DbGlja091dHNpZGUoW3BhbmVsUmVmXSwgKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcclxuICAgIGNvbnN0IGFwcERvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHAnKVxyXG4gICAgaWYgKChhcHBEb20gJiYgIWFwcERvbT8uY29udGFpbnMoZS50YXJnZXQpKSkgcmV0dXJuXHJcbiAgICBpZiAodmlzaWJsZSkge1xyXG4gICAgICBpZiAodHJpZ2dlclJlZi5jdXJyZW50Py5jb250YWlucyhlLnRhcmdldCkpIHJldHVyblxyXG4gICAgICBzZXRWaXNpYmxlKGZhbHNlKVxyXG4gICAgfVxyXG4gIH0pXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8VG9vbHRpcFxyXG4gICAgICB0cmlnZ2VyPSdjbGljaydcclxuICAgICAgcGxhY2VtZW50PSdsZWZ0VG9wJ1xyXG4gICAgICBwb3BwZXJTdHlsZT17eyB3aWR0aDogJzYzNnB4JyB9fVxyXG4gICAgICBwb3BwZXJDbGFzc05hbWU9e2Ake3ByZWZpeENsc30tZHJvcGRvd25gfVxyXG4gICAgICB0aXA9e3JlbmRlckZvcm0oKX1cclxuICAgICAgdmlzaWJsZT17dmlzaWJsZX1cclxuICAgICAgLy8gc2Nyb2xsSGlkZGVuXHJcbiAgICAgIC8vIG9uVmlzaWJsZUNoYW5nZT17aGFuZGxlVmlzaWJsZUNoYW5nZX1cclxuICAgID5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tb3B0aW9uYH0gb25DbGljaz17aGFuZGxlU2hvd1BhbmVsfSByZWY9e3RyaWdnZXJSZWZ9PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LW9wdGlvbi1uYW1lYH0+e3JlbGF0ZUZpZWxkTmFtZX08L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1vcHRpb24tcmlnaHQtYnRuc2B9PlxyXG4gICAgICAgICAgPEljb24gcHJlZml4PSdkZXNpZ25lcmljb24nIHR5cGU9J2JpYW5qaTMnIC8+XHJcbiAgICAgICAgICA8SWNvbiBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nc2hhbmNodScgb25DbGljaz17ZSA9PiBkZWxldGVPcHRpb24oZSwgaW5kZXgpfSAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvVG9vbHRpcD5cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEVkaXRvck9wdGlvblxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///46540\n");

/***/ }),

/***/ 92613:
/*!***************************************************!*\
  !*** ./src/editors/DataFillEditor/RelateForm.tsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar RelateForm = function RelateForm(_ref) {\n  var formVisible = _ref.formVisible,\n    prefixCls = _ref.prefixCls,\n    refFldOptions = _ref.refFldOptions,\n    currFldOptions = _ref.currFldOptions,\n    refFldKey = _ref.refFldKey,\n    currFldKey = _ref.currFldKey,\n    handleChange = _ref.handleChange;\n  if (!formVisible) return null;\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-form\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-form-item\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-form-item-label\")\n  }, \"\\u5173\\u8054\\u8868\\u5355\\u5185\\u5BB9\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_1__.Select, {\n    className: \"\".concat(prefixCls, \"-form-item-select\"),\n    borderType: \"bordered\",\n    value: refFldKey,\n    options: refFldOptions,\n    placeholder: \"\\u8BF7\\u9009\\u62E9\",\n    onChange: function onChange(value) {\n      return handleChange(value, 'RefFldKey');\n    }\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-form-seperator\")\n  }, \"\\u7684\\u503C\\u586B\\u5145\\u5230\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-form-item\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-form-item-label\")\n  }, \"\\u5F53\\u524D\\u8868\\u5355\\u5185\\u5BB9\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_1__.Select, {\n    className: \"\".concat(prefixCls, \"-form-item-select\"),\n    borderType: \"bordered\",\n    value: currFldKey,\n    options: currFldOptions,\n    placeholder: \"\\u8BF7\\u9009\\u62E9\",\n    onChange: function onChange(value) {\n      return handleChange(value, 'CurrFldKey');\n    }\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (RelateForm);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTI2MTMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBaUJBO0FBUUE7QUFOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9lZGl0b3JzL0RhdGFGaWxsRWRpdG9yL1JlbGF0ZUZvcm0udHN4P2VmMWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBTZWxlY3QgfSBmcm9tICdAa2RjbG91ZGpzL2tkZXNpZ24nXHJcblxyXG5pbnRlcmZhY2UgT3B0aW9uIHtcclxuICBsYWJlbDogc3RyaW5nO1xyXG4gIHZhbHVlOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBSZWxhdGVGb3JtUHJvcHMge1xyXG4gIGZvcm1WaXNpYmxlOiBib29sZWFuO1xyXG4gIHByZWZpeENsczogc3RyaW5nO1xyXG4gIHJlZkZsZE9wdGlvbnM6IE9wdGlvbltdO1xyXG4gIGN1cnJGbGRPcHRpb25zOiBPcHRpb25bXTtcclxuICByZWZGbGRLZXk6IHN0cmluZ1tdO1xyXG4gIGN1cnJGbGRLZXk6IHN0cmluZ1tdO1xyXG4gIGhhbmRsZUNoYW5nZTogKHZhbHVlOiBzdHJpbmcsIGtleTogc3RyaW5nKSA9PiB2b2lkO1xyXG59XHJcblxyXG5jb25zdCBSZWxhdGVGb3JtOiBSZWFjdC5GQzxSZWxhdGVGb3JtUHJvcHM+ID0gKHtcclxuICBmb3JtVmlzaWJsZSxcclxuICBwcmVmaXhDbHMsXHJcbiAgcmVmRmxkT3B0aW9ucyxcclxuICBjdXJyRmxkT3B0aW9ucyxcclxuICByZWZGbGRLZXksXHJcbiAgY3VyckZsZEtleSxcclxuICBoYW5kbGVDaGFuZ2VcclxufSkgPT4ge1xyXG4gIGlmICghZm9ybVZpc2libGUpIHJldHVybiBudWxsXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWZvcm1gfT5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tZm9ybS1pdGVtYH0+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tZm9ybS1pdGVtLWxhYmVsYH0+5YWz6IGU6KGo5Y2V5YaF5a65PC9kaXY+XHJcbiAgICAgICAgPFNlbGVjdFxyXG4gICAgICAgICAgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWZvcm0taXRlbS1zZWxlY3RgfVxyXG4gICAgICAgICAgYm9yZGVyVHlwZT0nYm9yZGVyZWQnXHJcbiAgICAgICAgICB2YWx1ZT17cmVmRmxkS2V5fVxyXG4gICAgICAgICAgb3B0aW9ucz17cmVmRmxkT3B0aW9uc31cclxuICAgICAgICAgIHBsYWNlaG9sZGVyPSfor7fpgInmi6knXHJcbiAgICAgICAgICBvbkNoYW5nZT17dmFsdWUgPT4gaGFuZGxlQ2hhbmdlKHZhbHVlIGFzIHN0cmluZywgJ1JlZkZsZEtleScpfVxyXG4gICAgICAgIC8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1mb3JtLXNlcGVyYXRvcmB9PueahOWAvOWhq+WFheWIsDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1mb3JtLWl0ZW1gfT5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1mb3JtLWl0ZW0tbGFiZWxgfT7lvZPliY3ooajljZXlhoXlrrk8L2Rpdj5cclxuICAgICAgICA8U2VsZWN0XHJcbiAgICAgICAgICBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tZm9ybS1pdGVtLXNlbGVjdGB9XHJcbiAgICAgICAgICBib3JkZXJUeXBlPSdib3JkZXJlZCdcclxuICAgICAgICAgIHZhbHVlPXtjdXJyRmxkS2V5fVxyXG4gICAgICAgICAgb3B0aW9ucz17Y3VyckZsZE9wdGlvbnN9XHJcbiAgICAgICAgICBwbGFjZWhvbGRlcj0n6K+36YCJ5oupJ1xyXG4gICAgICAgICAgb25DaGFuZ2U9e3ZhbHVlID0+IGhhbmRsZUNoYW5nZSh2YWx1ZSBhcyBzdHJpbmcsICdDdXJyRmxkS2V5Jyl9XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJlbGF0ZUZvcm1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///92613\n");

/***/ }),

/***/ 45896:
/*!**********************************************!*\
  !*** ./src/editors/DataFillEditor/index.tsx ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 61260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _EditOption__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./EditOption */ 46540);\n/* harmony import */ var kd_libs_immer__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! kd_libs/immer */ 59480);\n/* harmony import */ var kd_libs_immer__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(kd_libs_immer__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../utils/control */ 3700);\n/* harmony import */ var _constants_actionName__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../constants/actionName */ 82964);\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n/**\r\n * 关联属性（值填充）\r\n */\n\n\n\n\n\n\n\n\n\nvar INIT_RELATES = {\n  CurrFldKey: '',\n  RefFldKey: ''\n};\nvar ADD = 'ADD';\nvar DELETE = 'DELETE';\nvar UPDATE = 'UPDATE';\nvar MERGE = 'MERGE';\nvar relatesReducer = function relatesReducer(state, action) {\n  var type = action.type,\n    index = action.index,\n    payload = action.payload;\n  var newState = kd_libs_immer__WEBPACK_IMPORTED_MODULE_15___default()(state, function (draft) {\n    switch (type) {\n      case ADD:\n        draft.push(payload);\n        break;\n      case UPDATE:\n        draft[index] = _objectSpread(_objectSpread({}, draft[index]), payload);\n        break;\n      case DELETE:\n        _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_7___default()(draft).call(draft, index, 1);\n        break;\n      case MERGE:\n        draft = payload;\n        break;\n      default:\n        break;\n    }\n    return draft;\n  });\n  return newState;\n};\nvar DataFillEditor = function DataFillEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    name = props.Name,\n    tips = props.Tips,\n    field = props.field;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required,\n    title = editor.Title;\n  var Id = field.Id;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useContext)(_context__WEBPACK_IMPORTED_MODULE_16__.DesignerContext),\n    prefixCls = _useContext.prefixCls,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    getCurrentRefBillPropsData = _useContext.getCurrentRefBillPropsData;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    metaApi = _getKdesignerApi.meta;\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useReducer)(relatesReducer, value || []),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useReducer, 2),\n    relates = _useReducer2[0],\n    dispatchRelates = _useReducer2[1]; // 关联的数据\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useState)(function () {\n      // 当前表单内容的下拉项\n      var options = dataContext.findControlByCondition(function (item) {\n        var controlType = item._Type_,\n          ParentId = item.ParentId;\n        var rootId = dataContext.getRootId();\n        var _ref = ParentId ? dataContext.findControl(ParentId) || {} : {},\n          parentControlType = _ref._Type_;\n        return !(0,_utils_control__WEBPACK_IMPORTED_MODULE_17__.isEntryEntity)(parentControlType) && !(0,_utils_control__WEBPACK_IMPORTED_MODULE_17__.isEntryEntity)(controlType) && !(0,_utils_control__WEBPACK_IMPORTED_MODULE_17__.isGEOField)(controlType) && !(0,_utils_control__WEBPACK_IMPORTED_MODULE_17__.isImageField)(controlType) && !(0,_utils_control__WEBPACK_IMPORTED_MODULE_17__.isAttachmentField)(controlType) && item.Id !== Id && item.Id !== rootId;\n      }).reduce(function (allOps, item) {\n        var controlType = item._Type_;\n        var _metaApi$getControlMe = metaApi.getControlMeta(controlType),\n          Id = _metaApi$getControlMe.Id;\n        if (Id === 'NoCodeDateRangeField') {\n          // 日期范围需拆成两个：日期范围.开始，日期范围.结束\n          return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default()(allOps).call(allOps, [{\n            label: \"\".concat(item.Name, \".\\u5F00\\u59CB\"),\n            value: \"\".concat(item.Key, \"_startdate\")\n          }, {\n            label: \"\".concat(item.Name, \".\\u7ED3\\u675F\"),\n            value: \"\".concat(item.Key, \"_enddate\")\n          }]);\n        }\n        return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default()(allOps).call(allOps, {\n          label: item.Name,\n          value: item.Key\n        });\n      }, []);\n      return options;\n    }),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState, 1),\n    currFldOptions = _useState2[0];\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useState)([]),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState3, 2),\n    refFldOptions = _useState4[0],\n    setRefFldOptions = _useState4[1]; // 关联表单内容的下拉项\n  var _useState5 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useState)(null),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState5, 2),\n    newOptionIndex = _useState6[0],\n    setNewOptionIndex = _useState6[1]; // 新增选项的索引，用来判断是否弹出右侧表单\n\n  // 新增\n  var handleAddOption = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function () {\n    setNewOptionIndex(relates.length);\n    dispatchRelates({\n      type: ADD,\n      payload: INIT_RELATES\n    });\n  }, [relates, dispatchRelates]);\n\n  // 修改\n  var handleUpdateOption = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function (value, index, key) {\n    dispatchRelates({\n      type: UPDATE,\n      index: index,\n      payload: (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, key, value)\n    });\n  }, [dispatchRelates]);\n\n  // 删除\n  var handleDeleteOption = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function (index) {\n    setNewOptionIndex(null);\n    dispatchRelates({\n      type: DELETE,\n      index: index\n    });\n  }, [dispatchRelates]);\n\n  // 更新关联表单内容的下拉项\n  var updateRefFldOptions = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function (arr) {\n    var data = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(arr).call(arr, function (item) {\n      return {\n        label: item.PropCap,\n        value: item.PropKey\n      };\n    });\n    setRefFldOptions(data);\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    updateRefFldOptions(getCurrentRefBillPropsData());\n    // 注册eventBus事件，用于获取关联表单的字段列表\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_18__.SET_REF_PROP_DISP, updateRefFldOptions);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_18__.SET_REF_PROP_DISP, updateRefFldOptions);\n    };\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    // 同步更新值到设计器\n    if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_13__.isEqual)(value, relates)) {\n      handleChange(relates);\n    }\n  }, [relates]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    // 设计器数据变化，内部的数据同步变化\n    if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_13__.isEqual)(value || [], relates)) {\n      dispatchRelates({\n        type: MERGE,\n        payload: value\n      });\n    }\n  }, [value]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-relate-field\")\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(relates).call(relates, function (item, index) {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(_EditOption__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n      key: index,\n      prefixCls: \"\".concat(prefixCls, \"-relate-field\"),\n      data: item,\n      index: index,\n      isNewOption: newOptionIndex === index,\n      handleUpdate: handleUpdateOption,\n      handleDelete: handleDeleteOption,\n      currFldOptions: currFldOptions,\n      refFldOptions: refFldOptions\n    });\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-relate-field-add\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"div\", {\n    className: \"add-btn\",\n    onClick: handleAddOption\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_12__.Icon, {\n    type: \"zengjia-yuan\",\n    prefix: \"designericon\"\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-relate-field-add-option-desc\")\n  }, \"\\u6DFB\\u52A0\"))));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DataFillEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDU4OTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUF0QkE7QUF1QkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBS0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9lZGl0b3JzL0RhdGFGaWxsRWRpdG9yL2luZGV4LnRzeD9mMWI5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDlhbPogZTlsZ7mgKfvvIjlgLzloavlhYXvvIlcclxuICovXHJcbmltcG9ydCBSZWFjdCwgeyBGQywgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0LCB1c2VSZWR1Y2VyLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgTmFtZVRpcFdyYXBwZXIsIFByb3BlcnR5RWRpdG9yUHJvcHMsIGV2ZW50QnVzIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xyXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xyXG5pbXBvcnQgeyBpc0VxdWFsIH0gZnJvbSAnbG9kYXNoJ1xyXG5pbXBvcnQgRWRpdE9wdGlvbiBmcm9tICcuL0VkaXRPcHRpb24nXHJcbmltcG9ydCBwcm9kdWNlIGZyb20gJ2ltbWVyJ1xyXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0J1xyXG5pbXBvcnQgeyBpc0dFT0ZpZWxkLCBpc0ltYWdlRmllbGQsIGlzQXR0YWNobWVudEZpZWxkLCBpc0VudHJ5RW50aXR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY29udHJvbCdcclxuaW1wb3J0IHsgU0VUX1JFRl9QUk9QX0RJU1AgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvYWN0aW9uTmFtZSdcclxuXHJcbmNvbnN0IElOSVRfUkVMQVRFUyA9IHtcclxuICBDdXJyRmxkS2V5OiAnJyxcclxuICBSZWZGbGRLZXk6ICcnXHJcbn1cclxuXHJcbmNvbnN0IEFERCA9ICdBREQnXHJcbmNvbnN0IERFTEVURSA9ICdERUxFVEUnXHJcbmNvbnN0IFVQREFURSA9ICdVUERBVEUnXHJcbmNvbnN0IE1FUkdFID0gJ01FUkdFJ1xyXG5cclxuaW50ZXJmYWNlIFJlbGF0ZUl0ZW0ge1xyXG4gIEN1cnJGbGRLZXk6IHN0cmluZztcclxuICBSZWZGbGRLZXk6IHN0cmluZztcclxufVxyXG5cclxuY29uc3QgcmVsYXRlc1JlZHVjZXIgPSAoc3RhdGU6IFJlbGF0ZUl0ZW1bXSwgYWN0aW9uOiBhbnkpOiBSZWxhdGVJdGVtW10gPT4ge1xyXG4gIGNvbnN0IHsgdHlwZSwgaW5kZXgsIHBheWxvYWQgfSA9IGFjdGlvblxyXG4gIGNvbnN0IG5ld1N0YXRlID0gcHJvZHVjZShzdGF0ZSwgZHJhZnQgPT4ge1xyXG4gICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgIGNhc2UgQUREOlxyXG4gICAgICAgIGRyYWZ0LnB1c2gocGF5bG9hZClcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIFVQREFURTpcclxuICAgICAgICBkcmFmdFtpbmRleF0gPSB7IC4uLmRyYWZ0W2luZGV4XSwgLi4ucGF5bG9hZCB9XHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSBERUxFVEU6XHJcbiAgICAgICAgZHJhZnQuc3BsaWNlKGluZGV4LCAxKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgTUVSR0U6XHJcbiAgICAgICAgZHJhZnQgPSBwYXlsb2FkXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBicmVha1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRyYWZ0XHJcbiAgfSlcclxuICByZXR1cm4gbmV3U3RhdGVcclxufVxyXG5cclxuY29uc3QgRGF0YUZpbGxFZGl0b3I6IEZDPFByb3BlcnR5RWRpdG9yUHJvcHM+ID0gKHByb3BzKSA9PiB7XHJcbiAgY29uc3QgeyBoYW5kbGVDaGFuZ2UsIHZhbHVlLCBjbGFzc05hbWUsIGVkaXRvciwgbG9ja2VkLCBOYW1lOiBuYW1lLCBUaXBzOiB0aXBzLCBmaWVsZCB9ID0gcHJvcHNcclxuICBjb25zdCB7IE5hbWVIaWRkZW46IG5hbWVIaWRkZW4sIFJlcXVpcmVkOiByZXF1aXJlZCwgVGl0bGU6IHRpdGxlIH0gPSBlZGl0b3JcclxuICBjb25zdCB7IElkIH0gPSBmaWVsZFxyXG5cclxuICBjb25zdCB7IHByZWZpeENscywgZ2V0S2Rlc2lnbmVyQXBpLCBnZXRDdXJyZW50UmVmQmlsbFByb3BzRGF0YSB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXHJcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCwgbWV0YTogbWV0YUFwaSB9ID0gZ2V0S2Rlc2lnbmVyQXBpKClcclxuICBjb25zdCBbcmVsYXRlcywgZGlzcGF0Y2hSZWxhdGVzXSA9IHVzZVJlZHVjZXIocmVsYXRlc1JlZHVjZXIsIHZhbHVlIHx8IFtdKSAvLyDlhbPogZTnmoTmlbDmja5cclxuICBjb25zdCBbY3VyckZsZE9wdGlvbnNdID0gdXNlU3RhdGUoKCkgPT4geyAvLyDlvZPliY3ooajljZXlhoXlrrnnmoTkuIvmi4npoblcclxuICAgIGNvbnN0IG9wdGlvbnMgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbEJ5Q29uZGl0aW9uKChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgeyBfVHlwZV86IGNvbnRyb2xUeXBlLCBQYXJlbnRJZCB9ID0gaXRlbVxyXG4gICAgICBjb25zdCByb290SWQgPSBkYXRhQ29udGV4dC5nZXRSb290SWQoKVxyXG4gICAgICBjb25zdCB7IF9UeXBlXzogcGFyZW50Q29udHJvbFR5cGUgfSA9IFBhcmVudElkID8gKGRhdGFDb250ZXh0LmZpbmRDb250cm9sKFBhcmVudElkKSB8fCB7fSkgOiB7fVxyXG4gICAgICByZXR1cm4gIWlzRW50cnlFbnRpdHkocGFyZW50Q29udHJvbFR5cGUpICYmXHJcbiAgICAgICFpc0VudHJ5RW50aXR5KGNvbnRyb2xUeXBlKSAmJlxyXG4gICAgICAhaXNHRU9GaWVsZChjb250cm9sVHlwZSkgJiZcclxuICAgICAgIWlzSW1hZ2VGaWVsZChjb250cm9sVHlwZSkgJiZcclxuICAgICAgIWlzQXR0YWNobWVudEZpZWxkKGNvbnRyb2xUeXBlKSAmJlxyXG4gICAgICBpdGVtLklkICE9PSBJZCAmJlxyXG4gICAgICBpdGVtLklkICE9PSByb290SWRcclxuICAgIH0pLnJlZHVjZSgoYWxsT3BzOiBhbnlbXSwgaXRlbTogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgX1R5cGVfOiBjb250cm9sVHlwZSB9ID0gaXRlbVxyXG4gICAgICBjb25zdCB7IElkIH0gPSBtZXRhQXBpLmdldENvbnRyb2xNZXRhKGNvbnRyb2xUeXBlKVxyXG4gICAgICBpZiAoSWQgPT09ICdOb0NvZGVEYXRlUmFuZ2VGaWVsZCcpIHtcclxuICAgICAgICAvLyDml6XmnJ/ojIPlm7TpnIDmi4bmiJDkuKTkuKrvvJrml6XmnJ/ojIPlm7Qu5byA5aeL77yM5pel5pyf6IyD5Zu0Lue7k+adn1xyXG4gICAgICAgIHJldHVybiBhbGxPcHMuY29uY2F0KFt7IGxhYmVsOiBgJHtpdGVtLk5hbWV9LuW8gOWni2AsIHZhbHVlOiBgJHtpdGVtLktleX1fc3RhcnRkYXRlYCB9LCB7IGxhYmVsOiBgJHtpdGVtLk5hbWV9Lue7k+adn2AsIHZhbHVlOiBgJHtpdGVtLktleX1fZW5kZGF0ZWAgfV0pXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGFsbE9wcy5jb25jYXQoeyBsYWJlbDogaXRlbS5OYW1lLCB2YWx1ZTogaXRlbS5LZXkgfSlcclxuICAgIH0sIFtdKVxyXG4gICAgcmV0dXJuIG9wdGlvbnNcclxuICB9KVxyXG4gIGNvbnN0IFtyZWZGbGRPcHRpb25zLCBzZXRSZWZGbGRPcHRpb25zXSA9IHVzZVN0YXRlKFtdKSAvLyDlhbPogZTooajljZXlhoXlrrnnmoTkuIvmi4npoblcclxuICBjb25zdCBbbmV3T3B0aW9uSW5kZXgsIHNldE5ld09wdGlvbkluZGV4XSA9IHVzZVN0YXRlPG51bGwgfCBudW1iZXI+KG51bGwpIC8vIOaWsOWinumAiemhueeahOe0ouW8le+8jOeUqOadpeWIpOaWreaYr+WQpuW8ueWHuuWPs+S+p+ihqOWNlVxyXG5cclxuICAvLyDmlrDlop5cclxuICBjb25zdCBoYW5kbGVBZGRPcHRpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzZXROZXdPcHRpb25JbmRleChyZWxhdGVzLmxlbmd0aClcclxuICAgIGRpc3BhdGNoUmVsYXRlcyh7XHJcbiAgICAgIHR5cGU6IEFERCxcclxuICAgICAgcGF5bG9hZDogSU5JVF9SRUxBVEVTXHJcbiAgICB9KVxyXG4gIH0sIFtyZWxhdGVzLCBkaXNwYXRjaFJlbGF0ZXNdKVxyXG5cclxuICAvLyDkv67mlLlcclxuICBjb25zdCBoYW5kbGVVcGRhdGVPcHRpb24gPSB1c2VDYWxsYmFjaygodmFsdWUsIGluZGV4LCBrZXkpID0+IHtcclxuICAgIGRpc3BhdGNoUmVsYXRlcyh7XHJcbiAgICAgIHR5cGU6IFVQREFURSxcclxuICAgICAgaW5kZXgsXHJcbiAgICAgIHBheWxvYWQ6IHtcclxuICAgICAgICBba2V5XTogdmFsdWVcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9LCBbZGlzcGF0Y2hSZWxhdGVzXSlcclxuXHJcbiAgLy8g5Yig6ZmkXHJcbiAgY29uc3QgaGFuZGxlRGVsZXRlT3B0aW9uID0gdXNlQ2FsbGJhY2soKGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgIHNldE5ld09wdGlvbkluZGV4KG51bGwpXHJcbiAgICBkaXNwYXRjaFJlbGF0ZXMoe1xyXG4gICAgICB0eXBlOiBERUxFVEUsXHJcbiAgICAgIGluZGV4XHJcbiAgICB9KVxyXG4gIH0sIFtkaXNwYXRjaFJlbGF0ZXNdKVxyXG5cclxuICAvLyDmm7TmlrDlhbPogZTooajljZXlhoXlrrnnmoTkuIvmi4npoblcclxuICBjb25zdCB1cGRhdGVSZWZGbGRPcHRpb25zID0gdXNlQ2FsbGJhY2soYXJyID0+IHtcclxuICAgIGNvbnN0IGRhdGEgPSBhcnIubWFwKChpdGVtOiBhbnkpID0+ICh7IGxhYmVsOiBpdGVtLlByb3BDYXAsIHZhbHVlOiBpdGVtLlByb3BLZXkgfSkpXHJcbiAgICBzZXRSZWZGbGRPcHRpb25zKGRhdGEpXHJcbiAgfSwgW10pXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICB1cGRhdGVSZWZGbGRPcHRpb25zKGdldEN1cnJlbnRSZWZCaWxsUHJvcHNEYXRhKCkpXHJcbiAgICAvLyDms6jlhoxldmVudEJ1c+S6i+S7tu+8jOeUqOS6juiOt+WPluWFs+iBlOihqOWNleeahOWtl+auteWIl+ihqFxyXG4gICAgZXZlbnRCdXMub24oU0VUX1JFRl9QUk9QX0RJU1AsIHVwZGF0ZVJlZkZsZE9wdGlvbnMpXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBldmVudEJ1cy5vZmYoU0VUX1JFRl9QUk9QX0RJU1AsIHVwZGF0ZVJlZkZsZE9wdGlvbnMpXHJcbiAgICB9XHJcbiAgfSwgW10pXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyDlkIzmraXmm7TmlrDlgLzliLDorr7orqHlmahcclxuICAgIGlmICghaXNFcXVhbCh2YWx1ZSwgcmVsYXRlcykpIHtcclxuICAgICAgaGFuZGxlQ2hhbmdlKHJlbGF0ZXMpXHJcbiAgICB9XHJcbiAgfSwgW3JlbGF0ZXNdKVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8g6K6+6K6h5Zmo5pWw5o2u5Y+Y5YyW77yM5YaF6YOo55qE5pWw5o2u5ZCM5q2l5Y+Y5YyWXHJcbiAgICBpZiAoIWlzRXF1YWwodmFsdWUgfHwgW10sIHJlbGF0ZXMpKSB7XHJcbiAgICAgIGRpc3BhdGNoUmVsYXRlcyh7XHJcbiAgICAgICAgdHlwZTogTUVSR0UsXHJcbiAgICAgICAgcGF5bG9hZDogdmFsdWVcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9LCBbdmFsdWVdKVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAgPE5hbWVUaXBXcmFwcGVyIG5hbWVIaWRkZW49e25hbWVIaWRkZW59IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBuYW1lPXtuYW1lfSB0aXBzPXt0aXBzfSByZXF1aXJlZD17cmVxdWlyZWR9IHRpdGxlPXt0aXRsZX0gLz5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tcmVsYXRlLWZpZWxkYH0+XHJcbiAgICAgICAge3JlbGF0ZXMubWFwKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPEVkaXRPcHRpb25cclxuICAgICAgICAgICAgICBrZXk9e2luZGV4fVxyXG4gICAgICAgICAgICAgIHByZWZpeENscz17YCR7cHJlZml4Q2xzfS1yZWxhdGUtZmllbGRgfVxyXG4gICAgICAgICAgICAgIGRhdGE9e2l0ZW19XHJcbiAgICAgICAgICAgICAgaW5kZXg9e2luZGV4fVxyXG4gICAgICAgICAgICAgIGlzTmV3T3B0aW9uPXtuZXdPcHRpb25JbmRleCA9PT0gaW5kZXh9XHJcbiAgICAgICAgICAgICAgaGFuZGxlVXBkYXRlPXtoYW5kbGVVcGRhdGVPcHRpb259XHJcbiAgICAgICAgICAgICAgaGFuZGxlRGVsZXRlPXtoYW5kbGVEZWxldGVPcHRpb259XHJcbiAgICAgICAgICAgICAgY3VyckZsZE9wdGlvbnM9e2N1cnJGbGRPcHRpb25zfVxyXG4gICAgICAgICAgICAgIHJlZkZsZE9wdGlvbnM9e3JlZkZsZE9wdGlvbnN9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfSl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1yZWxhdGUtZmllbGQtYWRkYH0+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2FkZC1idG4nIG9uQ2xpY2s9e2hhbmRsZUFkZE9wdGlvbn0+XHJcbiAgICAgICAgICA8SWNvbiB0eXBlPSd6ZW5namlhLXl1YW4nIHByZWZpeD0nZGVzaWduZXJpY29uJyAvPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LXJlbGF0ZS1maWVsZC1hZGQtb3B0aW9uLWRlc2NgfT7mt7vliqA8L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC8+XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEYXRhRmlsbEVkaXRvclxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///45896\n");

/***/ }),

/***/ 52456:
/*!*****************************************!*\
  !*** ./src/editors/DataScopeEditor.tsx ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   rangeReducer: function() { return /* binding */ rangeReducer; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_10__);\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\nvar MIN = 'min';\nvar MAX = 'max';\nvar createMinChangeAction = function createMinChangeAction(value) {\n  return {\n    type: MIN,\n    value: value\n  };\n};\nvar createMaxChangeAction = function createMaxChangeAction(value) {\n  return {\n    type: MAX,\n    value: value\n  };\n};\nvar rangeReducer = function rangeReducer(state, action) {\n  var type = action.type,\n    value = action.value;\n  switch (type) {\n    case MIN:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        min: value\n      });\n    case MAX:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        max: value\n      });\n    default:\n      return state;\n  }\n};\nvar DataScopePropertyEditor = function DataScopePropertyEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    locked = props.locked,\n    Editor = props.Editor,\n    name = props.Name,\n    tips = props.Tips;\n  var nameHidden = Editor.NameHidden,\n    required = Editor.Required,\n    _Editor$minPlaceholde = Editor.minPlaceholder,\n    minPlaceholder = _Editor$minPlaceholde === void 0 ? '最小值' : _Editor$minPlaceholde,\n    _Editor$maxPlaceholde = Editor.maxPlaceholder,\n    maxPlaceholder = _Editor$maxPlaceholde === void 0 ? '最大值' : _Editor$maxPlaceholde,\n    Min = Editor.Min,\n    title = Editor.Title;\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useReducer)(rangeReducer, {\n      min: false,\n      max: false\n    }),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useReducer, 2),\n    focusedState = _useReducer2[0],\n    dispatchFocusState = _useReducer2[1];\n  var _useReducer3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useReducer)(rangeReducer, {\n      min: String((value === null || value === void 0 ? void 0 : value.min) || ''),\n      max: String((value === null || value === void 0 ? void 0 : value.max) || '')\n    }),\n    _useReducer4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useReducer3, 2),\n    innerValue = _useReducer4[0],\n    dispatchInnerValue = _useReducer4[1];\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    var newMin = String((value === null || value === void 0 ? void 0 : value.min) || '');\n    var newMax = String((value === null || value === void 0 ? void 0 : value.max) || '');\n    var minFocused = focusedState.min,\n      maxFocused = focusedState.max;\n    if (!minFocused && newMin !== innerValue.min) {\n      dispatchInnerValue(createMinChangeAction(newMin));\n    }\n    if (!maxFocused && newMax !== innerValue.max) {\n      dispatchInnerValue(createMaxChangeAction(newMax));\n    }\n  }, [value, focusedState]);\n  var updatePropValue = function updatePropValue(val, type) {\n    var newValue = _objectSpread(_objectSpread({}, innerValue), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, type, val));\n    handleChange(newValue);\n  };\n  var delayUpdateValue = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.useDebounce)(updatePropValue, 300);\n\n  // 最小值输入change事件，这里还额外处理了和最大值的联动\n  var onMinChange = function onMinChange(e) {\n    var targetValue = e.target.value || '';\n    var maxValue = innerValue.max;\n    /**\r\n     * 当输入大于最大值时，将值置为最大值\r\n     */\n    if (!e.nativeEvent && !kd_libs_lodash__WEBPACK_IMPORTED_MODULE_10___default()(Min) && targetValue < Min) {\n      targetValue = Min;\n    }\n    if (targetValue && maxValue && targetValue > Number(maxValue)) {\n      targetValue = maxValue;\n    }\n    dispatchInnerValue(createMinChangeAction(targetValue));\n    if (!(targetValue && !kd_libs_lodash__WEBPACK_IMPORTED_MODULE_10___default()(Min) && targetValue < Min) && targetValue !== '-') {\n      delayUpdateValue(targetValue, MIN);\n    }\n  };\n  var onMaxChange = function onMaxChange(e) {\n    var targetValue = e.target.value || '';\n    var minValue = innerValue.min;\n    /**\r\n     * 更新值的判断：\r\n     * 1.minValue为空时，且输入不等于‘-’\r\n     * 2.输入为空\r\n     * 3.输入不为空，且值大于minValue，也必须大于Min\r\n     */\n    if (!e.nativeEvent && targetValue) {\n      if (!kd_libs_lodash__WEBPACK_IMPORTED_MODULE_10___default()(Min) && targetValue < Min) {\n        targetValue = Min;\n      }\n      if (minValue && targetValue < Number(minValue)) {\n        targetValue = minValue;\n      }\n    }\n    dispatchInnerValue(createMaxChangeAction(targetValue));\n    if (targetValue && minValue && targetValue >= Number(minValue) || minValue === '' && targetValue !== '-' || targetValue === '') {\n      if (!kd_libs_lodash__WEBPACK_IMPORTED_MODULE_10___default()(Min) && targetValue && targetValue >= Min) {\n        delayUpdateValue(targetValue, MAX);\n      } else if (kd_libs_lodash__WEBPACK_IMPORTED_MODULE_10___default()(Min)) {\n        delayUpdateValue(targetValue, MAX);\n      }\n    }\n  };\n  var _onFocus = function onFocus(type) {\n    dispatchFocusState({\n      type: type,\n      value: true\n    });\n  };\n  var onMinBlur = function onMinBlur(e) {\n    dispatchFocusState(createMinChangeAction(false));\n    var minValue = innerValue.min;\n    if (!kd_libs_lodash__WEBPACK_IMPORTED_MODULE_10___default()(Min) && (Number(minValue) < Min || minValue === '')) {\n      dispatchInnerValue(createMinChangeAction(String(Min)));\n      updatePropValue(String(Min), MIN);\n    }\n  };\n  var onMaxBlur = function onMaxBlur(e) {\n    /**\r\n     * 最大值输入框失去焦点时：\r\n     * 1.判断值是否小于最小值，或者Min\r\n     * 2.小于最小值，则把值变更为最小值\r\n     */\n    dispatchFocusState(createMaxChangeAction(false));\n    var minValue = innerValue.min,\n      maxValue = innerValue.max;\n    if (minValue !== '' && maxValue <= Number(minValue) || !kd_libs_lodash__WEBPACK_IMPORTED_MODULE_10___default()(Min) && Number(maxValue) <= Min) {\n      var newMax = '';\n      if (maxValue !== '' && minValue !== '' && maxValue < Number(minValue)) {\n        newMax = minValue;\n      }\n      if (!kd_libs_lodash__WEBPACK_IMPORTED_MODULE_10___default()(Min) && Number(maxValue) <= Min) {\n        newMax = Min;\n      }\n      if (newMax !== '') {\n        dispatchInnerValue(createMaxChangeAction(newMax));\n        updatePropValue(newMax, MAX);\n      }\n    }\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-datascope-editor\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8__.Stepper, {\n    type: \"embed\",\n    value: innerValue.min,\n    zeroShow: true,\n    onChange: onMinChange,\n    onFocus: function onFocus() {\n      return _onFocus(MIN);\n    },\n    onBlur: onMinBlur,\n    disabled: locked,\n    placeholder: minPlaceholder\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-seperator\")\n  }, \"-\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8__.Stepper, {\n    type: \"embed\",\n    value: innerValue.max,\n    zeroShow: true,\n    onFocus: function onFocus() {\n      return _onFocus(MAX);\n    },\n    onBlur: onMaxBlur,\n    onChange: onMaxChange,\n    disabled: locked,\n    placeholder: maxPlaceholder\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DataScopePropertyEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI0NTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFlQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9lZGl0b3JzL0RhdGFTY29wZUVkaXRvci50c3g/N2M3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgRkMsIHVzZUVmZmVjdCwgdXNlUmVkdWNlciwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBTdGVwcGVyIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xyXG5pbXBvcnQgeyBOYW1lVGlwV3JhcHBlciwgUHJvcGVydHlFZGl0b3JQcm9wcywgdXNlRGVib3VuY2UgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXHJcbmltcG9ydCBpc1VuZGVmaW5lZCBmcm9tICdsb2Rhc2gnXHJcblxyXG5pbnRlcmZhY2UgQWN0aW9uIHtcclxuICB0eXBlOiBzdHJpbmc7XHJcbiAgdmFsdWU6IGFueTtcclxufVxyXG50eXBlIERhdGFUeXBlID0gJ21pbicgfCAnbWF4J1xyXG5pbnRlcmZhY2UgUmFuZ2VTdGF0ZTxUPiB7XHJcbiAgbWluOiBUO1xyXG4gIG1heDogVDtcclxufVxyXG5pbnRlcmZhY2UgUmFuZ2VSZWR1Y2VyPFQ+IHtcclxuICAoc3RhdGU6IFJhbmdlU3RhdGU8VD4sIGFjdGlvbjogQWN0aW9uKTogUmFuZ2VTdGF0ZTxUPjtcclxufVxyXG5cclxuY29uc3QgTUlOID0gJ21pbidcclxuY29uc3QgTUFYID0gJ21heCdcclxuXHJcbmNvbnN0IGNyZWF0ZU1pbkNoYW5nZUFjdGlvbiA9ICh2YWx1ZTogYW55KSA9PiAoeyB0eXBlOiBNSU4sIHZhbHVlIH0pXHJcbmNvbnN0IGNyZWF0ZU1heENoYW5nZUFjdGlvbiA9ICh2YWx1ZTogYW55KSA9PiAoeyB0eXBlOiBNQVgsIHZhbHVlIH0pXHJcblxyXG5leHBvcnQgY29uc3QgcmFuZ2VSZWR1Y2VyOiBSYW5nZVJlZHVjZXI8c3RyaW5nIHwgYm9vbGVhbj4gPSAoc3RhdGUsIGFjdGlvbikgPT4ge1xyXG4gIGNvbnN0IHsgdHlwZSwgdmFsdWUgfSA9IGFjdGlvblxyXG4gIHN3aXRjaCAodHlwZSkge1xyXG4gICAgY2FzZSBNSU46XHJcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBtaW46IHZhbHVlIH1cclxuICAgIGNhc2UgTUFYOlxyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbWF4OiB2YWx1ZSB9XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gc3RhdGVcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IERhdGFTY29wZVByb3BlcnR5RWRpdG9yOiBGQzxQcm9wZXJ0eUVkaXRvclByb3BzPiA9IChwcm9wczogUHJvcGVydHlFZGl0b3JQcm9wcykgPT4ge1xyXG4gIGNvbnN0IHsgaGFuZGxlQ2hhbmdlLCB2YWx1ZSwgY2xhc3NOYW1lLCBsb2NrZWQsIEVkaXRvciwgTmFtZTogbmFtZSwgVGlwczogdGlwcyB9ID0gcHJvcHNcclxuICBjb25zdCB7IE5hbWVIaWRkZW46IG5hbWVIaWRkZW4sIFJlcXVpcmVkOiByZXF1aXJlZCwgbWluUGxhY2Vob2xkZXIgPSAn5pyA5bCP5YC8JywgbWF4UGxhY2Vob2xkZXIgPSAn5pyA5aSn5YC8JywgTWluLCBUaXRsZTogdGl0bGUgfSA9IEVkaXRvclxyXG5cclxuICBjb25zdCBbZm9jdXNlZFN0YXRlLCBkaXNwYXRjaEZvY3VzU3RhdGVdID0gdXNlUmVkdWNlcihyYW5nZVJlZHVjZXIsIHsgbWluOiBmYWxzZSwgbWF4OiBmYWxzZSB9KVxyXG4gIGNvbnN0IFtpbm5lclZhbHVlLCBkaXNwYXRjaElubmVyVmFsdWVdID0gdXNlUmVkdWNlcihyYW5nZVJlZHVjZXIsIHsgbWluOiBTdHJpbmcodmFsdWU/Lm1pbiB8fCAnJyksIG1heDogU3RyaW5nKHZhbHVlPy5tYXggfHwgJycpIH0pXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBuZXdNaW4gPSBTdHJpbmcodmFsdWU/Lm1pbiB8fCAnJylcclxuICAgIGNvbnN0IG5ld01heCA9IFN0cmluZyh2YWx1ZT8ubWF4IHx8ICcnKVxyXG4gICAgY29uc3QgeyBtaW46IG1pbkZvY3VzZWQsIG1heDogbWF4Rm9jdXNlZCB9ID0gZm9jdXNlZFN0YXRlXHJcbiAgICBpZiAoIW1pbkZvY3VzZWQgJiYgbmV3TWluICE9PSBpbm5lclZhbHVlLm1pbikge1xyXG4gICAgICBkaXNwYXRjaElubmVyVmFsdWUoY3JlYXRlTWluQ2hhbmdlQWN0aW9uKG5ld01pbikpXHJcbiAgICB9XHJcbiAgICBpZiAoIW1heEZvY3VzZWQgJiYgbmV3TWF4ICE9PSBpbm5lclZhbHVlLm1heCkge1xyXG4gICAgICBkaXNwYXRjaElubmVyVmFsdWUoY3JlYXRlTWF4Q2hhbmdlQWN0aW9uKG5ld01heCkpXHJcbiAgICB9XHJcbiAgfSwgW3ZhbHVlLCBmb2N1c2VkU3RhdGVdKVxyXG5cclxuICBjb25zdCB1cGRhdGVQcm9wVmFsdWUgPSAodmFsOiBhbnksIHR5cGU6IERhdGFUeXBlKSA9PiB7XHJcbiAgICBjb25zdCBuZXdWYWx1ZSA9IHsgLi4uaW5uZXJWYWx1ZSwgW3R5cGVdOiB2YWwgfVxyXG4gICAgaGFuZGxlQ2hhbmdlKG5ld1ZhbHVlKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgZGVsYXlVcGRhdGVWYWx1ZSA9IHVzZURlYm91bmNlKHVwZGF0ZVByb3BWYWx1ZSwgMzAwKVxyXG5cclxuICAvLyDmnIDlsI/lgLzovpPlhaVjaGFuZ2Xkuovku7bvvIzov5nph4zov5jpop3lpJblpITnkIbkuoblkozmnIDlpKflgLznmoTogZTliqhcclxuICBjb25zdCBvbk1pbkNoYW5nZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudCkgPT4ge1xyXG4gICAgbGV0IHRhcmdldFZhbHVlID0gZS50YXJnZXQudmFsdWUgfHwgJydcclxuICAgIGNvbnN0IHsgbWF4OiBtYXhWYWx1ZSB9ID0gaW5uZXJWYWx1ZVxyXG4gICAgLyoqXHJcbiAgICAgKiDlvZPovpPlhaXlpKfkuo7mnIDlpKflgLzml7bvvIzlsIblgLznva7kuLrmnIDlpKflgLxcclxuICAgICAqL1xyXG4gICAgaWYgKCFlLm5hdGl2ZUV2ZW50ICYmICFpc1VuZGVmaW5lZChNaW4pICYmIHRhcmdldFZhbHVlIDwgTWluKSB7XHJcbiAgICAgIHRhcmdldFZhbHVlID0gTWluXHJcbiAgICB9XHJcbiAgICBpZiAodGFyZ2V0VmFsdWUgJiYgbWF4VmFsdWUgJiYgdGFyZ2V0VmFsdWUgPiBOdW1iZXIobWF4VmFsdWUpKSB7XHJcbiAgICAgIHRhcmdldFZhbHVlID0gbWF4VmFsdWVcclxuICAgIH1cclxuICAgIGRpc3BhdGNoSW5uZXJWYWx1ZShjcmVhdGVNaW5DaGFuZ2VBY3Rpb24odGFyZ2V0VmFsdWUpKVxyXG4gICAgaWYgKCEodGFyZ2V0VmFsdWUgJiYgIWlzVW5kZWZpbmVkKE1pbikgJiYgdGFyZ2V0VmFsdWUgPCBNaW4pICYmIHRhcmdldFZhbHVlICE9PSAnLScpIHtcclxuICAgICAgZGVsYXlVcGRhdGVWYWx1ZSh0YXJnZXRWYWx1ZSwgTUlOKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3Qgb25NYXhDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQpID0+IHtcclxuICAgIGxldCB0YXJnZXRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlIHx8ICcnXHJcbiAgICBjb25zdCB7IG1pbjogbWluVmFsdWUgfSA9IGlubmVyVmFsdWVcclxuICAgIC8qKlxyXG4gICAgICog5pu05paw5YC855qE5Yik5pat77yaXHJcbiAgICAgKiAxLm1pblZhbHVl5Li656m65pe277yM5LiU6L6T5YWl5LiN562J5LqO4oCYLeKAmVxyXG4gICAgICogMi7ovpPlhaXkuLrnqbpcclxuICAgICAqIDMu6L6T5YWl5LiN5Li656m677yM5LiU5YC85aSn5LqObWluVmFsdWXvvIzkuZ/lv4XpobvlpKfkuo5NaW5cclxuICAgICAqL1xyXG4gICAgaWYgKCFlLm5hdGl2ZUV2ZW50ICYmIHRhcmdldFZhbHVlKSB7XHJcbiAgICAgIGlmICghaXNVbmRlZmluZWQoTWluKSAmJiB0YXJnZXRWYWx1ZSA8IE1pbikge1xyXG4gICAgICAgIHRhcmdldFZhbHVlID0gTWluXHJcbiAgICAgIH1cclxuICAgICAgaWYgKG1pblZhbHVlICYmIHRhcmdldFZhbHVlIDwgTnVtYmVyKG1pblZhbHVlKSkge1xyXG4gICAgICAgIHRhcmdldFZhbHVlID0gbWluVmFsdWVcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGlzcGF0Y2hJbm5lclZhbHVlKGNyZWF0ZU1heENoYW5nZUFjdGlvbih0YXJnZXRWYWx1ZSkpXHJcbiAgICBpZiAoXHJcbiAgICAgICh0YXJnZXRWYWx1ZSAmJiBtaW5WYWx1ZSAmJiB0YXJnZXRWYWx1ZSA+PSBOdW1iZXIobWluVmFsdWUpKVxyXG4gICAgICB8fCAobWluVmFsdWUgPT09ICcnICYmIHRhcmdldFZhbHVlICE9PSAnLScpXHJcbiAgICAgIHx8IHRhcmdldFZhbHVlID09PSAnJ1xyXG4gICAgKSB7XHJcbiAgICAgIGlmICghaXNVbmRlZmluZWQoTWluKSAmJiB0YXJnZXRWYWx1ZSAmJiB0YXJnZXRWYWx1ZSA+PSBNaW4pIHtcclxuICAgICAgICBkZWxheVVwZGF0ZVZhbHVlKHRhcmdldFZhbHVlLCBNQVgpXHJcbiAgICAgIH0gZWxzZSBpZiAoaXNVbmRlZmluZWQoTWluKSkge1xyXG4gICAgICAgIGRlbGF5VXBkYXRlVmFsdWUodGFyZ2V0VmFsdWUsIE1BWClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3Qgb25Gb2N1cyA9ICh0eXBlOiBEYXRhVHlwZSkgPT4ge1xyXG4gICAgZGlzcGF0Y2hGb2N1c1N0YXRlKHsgdHlwZSwgdmFsdWU6IHRydWUgfSlcclxuICB9XHJcblxyXG4gIGNvbnN0IG9uTWluQmx1ciA9IChlOiBSZWFjdC5Gb2N1c0V2ZW50KSA9PiB7XHJcbiAgICBkaXNwYXRjaEZvY3VzU3RhdGUoY3JlYXRlTWluQ2hhbmdlQWN0aW9uKGZhbHNlKSlcclxuICAgIGNvbnN0IHsgbWluOiBtaW5WYWx1ZSB9ID0gaW5uZXJWYWx1ZVxyXG4gICAgaWYgKCFpc1VuZGVmaW5lZChNaW4pICYmIChOdW1iZXIobWluVmFsdWUpIDwgTWluIHx8IG1pblZhbHVlID09PSAnJykpIHtcclxuICAgICAgZGlzcGF0Y2hJbm5lclZhbHVlKGNyZWF0ZU1pbkNoYW5nZUFjdGlvbihTdHJpbmcoTWluKSkpXHJcbiAgICAgIHVwZGF0ZVByb3BWYWx1ZShTdHJpbmcoTWluKSwgTUlOKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3Qgb25NYXhCbHVyID0gKGU6IFJlYWN0LkZvY3VzRXZlbnQpID0+IHtcclxuICAgIC8qKlxyXG4gICAgICog5pyA5aSn5YC86L6T5YWl5qGG5aSx5Y6754Sm54K55pe277yaXHJcbiAgICAgKiAxLuWIpOaWreWAvOaYr+WQpuWwj+S6juacgOWwj+WAvO+8jOaIluiAhU1pblxyXG4gICAgICogMi7lsI/kuo7mnIDlsI/lgLzvvIzliJnmiorlgLzlj5jmm7TkuLrmnIDlsI/lgLxcclxuICAgICAqL1xyXG4gICAgZGlzcGF0Y2hGb2N1c1N0YXRlKGNyZWF0ZU1heENoYW5nZUFjdGlvbihmYWxzZSkpXHJcbiAgICBjb25zdCB7IG1pbjogbWluVmFsdWUsIG1heDogbWF4VmFsdWUgfSA9IGlubmVyVmFsdWVcclxuICAgIGlmICgobWluVmFsdWUgIT09ICcnICYmIG1heFZhbHVlIDw9IE51bWJlcihtaW5WYWx1ZSkpIHx8ICghaXNVbmRlZmluZWQoTWluKSAmJiBOdW1iZXIobWF4VmFsdWUpIDw9IE1pbikpIHtcclxuICAgICAgbGV0IG5ld01heCA9ICcnXHJcbiAgICAgIGlmIChtYXhWYWx1ZSAhPT0gJycgJiYgbWluVmFsdWUgIT09ICcnICYmIG1heFZhbHVlIDwgTnVtYmVyKG1pblZhbHVlKSkge1xyXG4gICAgICAgIG5ld01heCA9IG1pblZhbHVlIGFzIHN0cmluZ1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghaXNVbmRlZmluZWQoTWluKSAmJiBOdW1iZXIobWF4VmFsdWUpIDw9IE1pbikge1xyXG4gICAgICAgIG5ld01heCA9IE1pblxyXG4gICAgICB9XHJcbiAgICAgIGlmIChuZXdNYXggIT09ICcnKSB7XHJcbiAgICAgICAgZGlzcGF0Y2hJbm5lclZhbHVlKGNyZWF0ZU1heENoYW5nZUFjdGlvbihuZXdNYXgpKVxyXG4gICAgICAgIHVwZGF0ZVByb3BWYWx1ZShuZXdNYXgsIE1BWClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDw+XHJcbiAgICAgIDxOYW1lVGlwV3JhcHBlciBuYW1lSGlkZGVuPXtuYW1lSGlkZGVufSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gbmFtZT17bmFtZX0gdGlwcz17dGlwc30gcmVxdWlyZWQ9e3JlcXVpcmVkfSB0aXRsZT17dGl0bGV9IC8+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9LWRhdGFzY29wZS1lZGl0b3JgfT5cclxuICAgICAgICA8U3RlcHBlclxyXG4gICAgICAgICAgdHlwZT0nZW1iZWQnXHJcbiAgICAgICAgICB2YWx1ZT17aW5uZXJWYWx1ZS5taW59XHJcbiAgICAgICAgICB6ZXJvU2hvd1xyXG4gICAgICAgICAgb25DaGFuZ2U9e29uTWluQ2hhbmdlfVxyXG4gICAgICAgICAgb25Gb2N1cz17KCkgPT4gb25Gb2N1cyhNSU4pfVxyXG4gICAgICAgICAgb25CbHVyPXtvbk1pbkJsdXJ9XHJcbiAgICAgICAgICBkaXNhYmxlZD17bG9ja2VkfVxyXG4gICAgICAgICAgcGxhY2Vob2xkZXI9e21pblBsYWNlaG9sZGVyfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake2NsYXNzTmFtZX0tc2VwZXJhdG9yYH0+LTwvZGl2PlxyXG4gICAgICAgIDxTdGVwcGVyXHJcbiAgICAgICAgICB0eXBlPSdlbWJlZCdcclxuICAgICAgICAgIHZhbHVlPXtpbm5lclZhbHVlLm1heH1cclxuICAgICAgICAgIHplcm9TaG93XHJcbiAgICAgICAgICBvbkZvY3VzPXsoKSA9PiBvbkZvY3VzKE1BWCl9XHJcbiAgICAgICAgICBvbkJsdXI9e29uTWF4Qmx1cn1cclxuICAgICAgICAgIG9uQ2hhbmdlPXtvbk1heENoYW5nZX1cclxuICAgICAgICAgIGRpc2FibGVkPXtsb2NrZWR9XHJcbiAgICAgICAgICBwbGFjZWhvbGRlcj17bWF4UGxhY2Vob2xkZXJ9XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8Lz5cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IERhdGFTY29wZVByb3BlcnR5RWRpdG9yXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///52456\n");

/***/ }),

/***/ 18640:
/*!******************************************!*\
  !*** ./src/editors/DateEditor/index.tsx ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/map */ 52892);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _BaseDefValueEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../BaseDefValueEditor */ 41732);\n\n\n\n\n\nvar pickerTypeMap = new (_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_1___default())([['2', 'month'], ['3', 'year']]);\nvar DatePropertyEditor = function DatePropertyEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    locked = props.locked,\n    field = props.field;\n  var FormatType = field.FormatType;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context__WEBPACK_IMPORTED_MODULE_3__.DesignerContext),\n    prefixCls = _useContext.prefixCls;\n  var handleDateChange = function handleDateChange(dateString) {\n    handleChange(dateString);\n  };\n  var pickerTypeProps = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n    var pickerValue = pickerTypeMap.get(FormatType) || 'date';\n    return {\n      picker: pickerValue\n    };\n  }, [FormatType]);\n  var inputFieldProps = {\n    className: \"\".concat(prefixCls, \"-date-editor\"),\n    disabled: locked,\n    placeholde: '请选择',\n    // showTime: FormatType === '0',\n    formatType: FormatType,\n    allowClear: true,\n    // ...pickerTypeProps,\n    fieldType: 'date',\n    placeholder: '请选择'\n  };\n  var getRenderValue = function getRenderValue(value) {\n    return value && Date.parse(value) ? new Date(value) : undefined;\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_BaseDefValueEditor__WEBPACK_IMPORTED_MODULE_4__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n    editorType: \"dateDef\",\n    value: value,\n    getRenderValue: getRenderValue,\n    handleChange: handleDateChange,\n    inputFieldProps: inputFieldProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DatePropertyEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTg2NDAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9lZGl0b3JzL0RhdGVFZGl0b3IvaW5kZXgudHN4PzYwMzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IEZDLCB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBQcm9wZXJ0eUVkaXRvclByb3BzIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dCdcbmltcG9ydCBCYXNlRGVmVmFsdWVFZGl0b3IgZnJvbSAnLi4vQmFzZURlZlZhbHVlRWRpdG9yJ1xuXG5jb25zdCBwaWNrZXJUeXBlTWFwID0gbmV3IE1hcChbXG4gIFsnMicsICdtb250aCddLFxuICBbJzMnLCAneWVhciddXG5dKVxuXG5jb25zdCBEYXRlUHJvcGVydHlFZGl0b3I6IEZDPFByb3BlcnR5RWRpdG9yUHJvcHM+ID0gKHByb3BzOiBQcm9wZXJ0eUVkaXRvclByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaGFuZGxlQ2hhbmdlLCB2YWx1ZSwgY2xhc3NOYW1lLCBsb2NrZWQsIGZpZWxkIH0gPSBwcm9wc1xuICBjb25zdCB7IEZvcm1hdFR5cGUgfSA9IGZpZWxkXG4gIGNvbnN0IHsgcHJlZml4Q2xzIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcblxuICBjb25zdCBoYW5kbGVEYXRlQ2hhbmdlID0gKGRhdGVTdHJpbmc6IHN0cmluZykgPT4ge1xuICAgIGhhbmRsZUNoYW5nZShkYXRlU3RyaW5nKVxuICB9XG5cbiAgY29uc3QgcGlja2VyVHlwZVByb3BzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgcGlja2VyVmFsdWUgPSBwaWNrZXJUeXBlTWFwLmdldChGb3JtYXRUeXBlKSB8fCAnZGF0ZSdcbiAgICByZXR1cm4geyBwaWNrZXI6IHBpY2tlclZhbHVlIH1cbiAgfSwgW0Zvcm1hdFR5cGVdKVxuXG4gIGNvbnN0IGlucHV0RmllbGRQcm9wcyA9IHtcbiAgICBjbGFzc05hbWU6IGAke3ByZWZpeENsc30tZGF0ZS1lZGl0b3JgLFxuICAgIGRpc2FibGVkOiBsb2NrZWQsXG4gICAgcGxhY2Vob2xkZTogJ+ivt+mAieaLqScsXG4gICAgLy8gc2hvd1RpbWU6IEZvcm1hdFR5cGUgPT09ICcwJyxcbiAgICBmb3JtYXRUeXBlOiBGb3JtYXRUeXBlLFxuICAgIGFsbG93Q2xlYXI6IHRydWUsXG4gICAgLy8gLi4ucGlja2VyVHlwZVByb3BzLFxuICAgIGZpZWxkVHlwZTogJ2RhdGUnLFxuICAgIHBsYWNlaG9sZGVyOiAn6K+36YCJ5oupJ1xuICB9XG5cbiAgY29uc3QgZ2V0UmVuZGVyVmFsdWUgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gdmFsdWUgJiYgRGF0ZS5wYXJzZSh2YWx1ZSkgPyBuZXcgRGF0ZSh2YWx1ZSkgOiB1bmRlZmluZWRcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPEJhc2VEZWZWYWx1ZUVkaXRvclxuICAgICAgey4uLnByb3BzfVxuICAgICAgZWRpdG9yVHlwZT0nZGF0ZURlZidcbiAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgIGdldFJlbmRlclZhbHVlPXtnZXRSZW5kZXJWYWx1ZX1cbiAgICAgIGhhbmRsZUNoYW5nZT17aGFuZGxlRGF0ZUNoYW5nZX1cbiAgICAgIGlucHV0RmllbGRQcm9wcz17aW5wdXRGaWVsZFByb3BzfVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0ZVByb3BlcnR5RWRpdG9yXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///18640\n");

/***/ }),

/***/ 55560:
/*!***********************************************!*\
  !*** ./src/editors/DateRangeEditor/index.tsx ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/control */ 3700);\n/* harmony import */ var _BaseDefValueEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../BaseDefValueEditor */ 41732);\n\n\n\n\n\nvar DaterangePropertyEditor = function DaterangePropertyEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    locked = props.locked,\n    field = props.field;\n  var FormatType = field.FormatType;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_context__WEBPACK_IMPORTED_MODULE_2__.DesignerContext),\n    prefixCls = _useContext.prefixCls;\n\n  // const handleRangeChange = (dateStrings: [string, string]) => {\n  //   // const [start = '', end = ''] = dateStrings\n  //   // const newValue = (!start && !end) ? undefined : { start, end }\n  //   // if (!isEqual(value, newValue)) {\n  //     handleChange(newValue)\n  //   }\n  // }\n\n  var inputFieldProps = {\n    className: \"\".concat(prefixCls, \"-daterange-editor\"),\n    popperClassName: \"\".concat(prefixCls, \"-range-picker-dropdown\"),\n    disabled: locked,\n    placeholder: ['起始日期', '结束日期'],\n    // showTime: FormatType === '0',\n    formatType: FormatType,\n    allowClear: true,\n    fieldType: 'dateRange'\n  };\n  var getRenderValue = function getRenderValue(value) {\n    // const dateStrings = value.split(',')\n    // const [start = '', end = ''] = dateStrings\n    // const newValue = (!start && !end) ? undefined : { start, end }\n    return (0,_utils_control__WEBPACK_IMPORTED_MODULE_3__.formatRangeObjToDateTypes)(value);\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_BaseDefValueEditor__WEBPACK_IMPORTED_MODULE_4__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n    getRenderValue: getRenderValue,\n    editorType: \"dateRangeDef\",\n    value: value\n    // handleChange={handleRangeChange}\n    ,\n    inputFieldProps: inputFieldProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DaterangePropertyEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTU1NjAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2VkaXRvcnMvRGF0ZVJhbmdlRWRpdG9yL2luZGV4LnRzeD9lZmZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBGQywgdXNlRWZmZWN0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgUHJvcGVydHlFZGl0b3JQcm9wcyB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQnXG5pbXBvcnQgeyBmb3JtYXRTdHJUb0RhdGVUeXBlLCBmb3JtYXRSYW5nZU9ialRvRGF0ZVR5cGVzIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29udHJvbCdcbmltcG9ydCBCYXNlRGVmVmFsdWVFZGl0b3IgZnJvbSAnLi4vQmFzZURlZlZhbHVlRWRpdG9yJ1xuXG5jb25zdCBEYXRlcmFuZ2VQcm9wZXJ0eUVkaXRvcjogRkM8UHJvcGVydHlFZGl0b3JQcm9wcz4gPSAocHJvcHM6IFByb3BlcnR5RWRpdG9yUHJvcHMpID0+IHtcbiAgY29uc3QgeyBoYW5kbGVDaGFuZ2UsIHZhbHVlLCBjbGFzc05hbWUsIGxvY2tlZCwgZmllbGQgfSA9IHByb3BzXG4gIGNvbnN0IHsgRm9ybWF0VHlwZSB9ID0gZmllbGRcbiAgY29uc3QgeyBwcmVmaXhDbHMgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuXG4gIC8vIGNvbnN0IGhhbmRsZVJhbmdlQ2hhbmdlID0gKGRhdGVTdHJpbmdzOiBbc3RyaW5nLCBzdHJpbmddKSA9PiB7XG4gIC8vICAgLy8gY29uc3QgW3N0YXJ0ID0gJycsIGVuZCA9ICcnXSA9IGRhdGVTdHJpbmdzXG4gIC8vICAgLy8gY29uc3QgbmV3VmFsdWUgPSAoIXN0YXJ0ICYmICFlbmQpID8gdW5kZWZpbmVkIDogeyBzdGFydCwgZW5kIH1cbiAgLy8gICAvLyBpZiAoIWlzRXF1YWwodmFsdWUsIG5ld1ZhbHVlKSkge1xuICAvLyAgICAgaGFuZGxlQ2hhbmdlKG5ld1ZhbHVlKVxuICAvLyAgIH1cbiAgLy8gfVxuXG4gIGNvbnN0IGlucHV0RmllbGRQcm9wcyA9IHtcbiAgICBjbGFzc05hbWU6IGAke3ByZWZpeENsc30tZGF0ZXJhbmdlLWVkaXRvcmAsXG4gICAgcG9wcGVyQ2xhc3NOYW1lOiBgJHtwcmVmaXhDbHN9LXJhbmdlLXBpY2tlci1kcm9wZG93bmAsXG4gICAgZGlzYWJsZWQ6IGxvY2tlZCxcbiAgICBwbGFjZWhvbGRlcjogWyfotbflp4vml6XmnJ8nLCAn57uT5p2f5pel5pyfJ10sXG4gICAgLy8gc2hvd1RpbWU6IEZvcm1hdFR5cGUgPT09ICcwJyxcbiAgICBmb3JtYXRUeXBlOiBGb3JtYXRUeXBlLFxuICAgIGFsbG93Q2xlYXI6IHRydWUsXG4gICAgZmllbGRUeXBlOiAnZGF0ZVJhbmdlJ1xuICB9XG4gIGNvbnN0IGdldFJlbmRlclZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgLy8gY29uc3QgZGF0ZVN0cmluZ3MgPSB2YWx1ZS5zcGxpdCgnLCcpXG4gICAgLy8gY29uc3QgW3N0YXJ0ID0gJycsIGVuZCA9ICcnXSA9IGRhdGVTdHJpbmdzXG4gICAgLy8gY29uc3QgbmV3VmFsdWUgPSAoIXN0YXJ0ICYmICFlbmQpID8gdW5kZWZpbmVkIDogeyBzdGFydCwgZW5kIH1cbiAgICByZXR1cm4gZm9ybWF0UmFuZ2VPYmpUb0RhdGVUeXBlcyh2YWx1ZSlcbiAgfVxuICByZXR1cm4gKFxuICAgIDxCYXNlRGVmVmFsdWVFZGl0b3JcbiAgICAgIHsuLi5wcm9wc31cbiAgICAgIGdldFJlbmRlclZhbHVlPXtnZXRSZW5kZXJWYWx1ZX1cbiAgICAgIGVkaXRvclR5cGU9J2RhdGVSYW5nZURlZidcbiAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAvLyBoYW5kbGVDaGFuZ2U9e2hhbmRsZVJhbmdlQ2hhbmdlfVxuICAgICAgaW5wdXRGaWVsZFByb3BzPXtpbnB1dEZpZWxkUHJvcHN9XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBEYXRlcmFuZ2VQcm9wZXJ0eUVkaXRvclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///55560\n");

/***/ }),

/***/ 22760:
/*!******************************************************!*\
  !*** ./src/editors/DisplayRules/RuleSettingForm.tsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ 28429);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/values */ 73020);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/trim */ 25288);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 24496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/values */ 72400);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _TrueActions__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./TrueActions */ 86055);\n/* harmony import */ var _hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../hooks/useQueryEventData */ 23312);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _utils_treeUtils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../utils/treeUtils */ 31340);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__);\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\nvar dfs = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__.treeUtils.dfs,\n  getListConfigPure = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__.treeUtils.getListConfigPure;\nvar getVarSelectDisabled = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__.ListFilterUtil.getVarSelectDisabled;\nvar assignDataReducer = function assignDataReducer(state, newData) {\n  return _objectSpread(_objectSpread({}, state), newData);\n};\nvar RuleSettingForm = function RuleSettingForm(_ref) {\n  var prefixCls = _ref.prefixCls,\n    value = _ref.value,\n    fieldKey = _ref.fieldKey,\n    ruleId = _ref.ruleId,\n    listFilterConfig = _ref.listFilterConfig,\n    fieldOptions = _ref.fieldOptions,\n    onChange = _ref.onChange,\n    onSave = _ref.onSave;\n  var _Form$useForm = kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Form.useForm(),\n    _Form$useForm2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_Form$useForm, 1),\n    form = _Form$useForm2[0];\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useContext)(_context__WEBPACK_IMPORTED_MODULE_16__.DesignerContext),\n    invokeAction = _useContext.invokeAction,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    baseUrl = _useContext.baseUrl,\n    batchInvoke = _useContext.batchInvoke,\n    getControlText = _useContext.getControlText,\n    onDownLoad = _useContext.onDownLoad;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    metaApi = _getKdesignerApi.meta;\n  var rootId = dataContext.getRootId();\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useReducer)(assignDataReducer, value),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useReducer, 2),\n    formData = _useReducer2[0],\n    dispatchFormData = _useReducer2[1];\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)({}),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState, 2),\n    fieldRecordsMap = _useState2[0],\n    setFieldRecordsMap = _useState2[1];\n  var filterEditorRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)();\n  var fieldRecords = (0,_hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_15__[\"default\"])({\n    id: fieldKey,\n    formId: rootId,\n    eventName: 'filterItemLook'\n  });\n  // 根据设计时元数据组装筛选项的数据\n  var invokeGetFieldRecords = function invokeGetFieldRecords(formId) {\n    var fieldName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    invokeAction('getFilterItemLook', [formId, {\n      getEnumData: 'true',\n      enumField: fieldName,\n      filterrows: []\n    }]);\n  };\n\n  // 排除脱敏字段的listFilterConfig\n  var listFilterConfigPure = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    return getListConfigPure(listFilterConfig);\n  }, [listFilterConfig]);\n\n  // 根据筛选项构建变量树（实时）\n  var variablesTree = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    return (0,_utils_treeUtils__WEBPACK_IMPORTED_MODULE_18__.transformListConfigToVariableTree)({\n      metaApi: metaApi,\n      options: listFilterConfig\n    });\n  }, [listFilterConfig]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    var data = fieldRecords.data,\n      _fieldRecords$param = fieldRecords.param,\n      param = _fieldRecords$param === void 0 ? {} : _fieldRecords$param;\n    var enumField = param.enumField;\n    if (enumField) {\n      var _formData$preConditio;\n      var items = (_formData$preConditio = formData.preCondition) === null || _formData$preConditio === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(_formData$preConditio).call(_formData$preConditio, function (item) {\n        return item.fieldName === enumField;\n      });\n      var fieldFilterConfig = dfs(listFilterConfig, function (node) {\n        return node.key === enumField;\n      });\n      setFieldRecordsMap(function (fieldRecordsMap) {\n        return _objectSpread(_objectSpread({}, fieldRecordsMap), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, enumField, {\n          configuredFilter: {\n            enumEqCompareType: '001',\n            items: items\n          },\n          fieldFilterConfig: fieldFilterConfig,\n          groupInfo: data\n        }));\n      });\n    }\n  }, [fieldRecords, formData.preCondition, listFilterConfig]);\n  var onGetFieldRecords = function onGetFieldRecords(v) {\n    invokeGetFieldRecords(rootId, v.fieldName);\n  };\n\n  // 根据表单元数据构建变量树（实时）\n  // const variablesTree = useMemo(() => {\n  //   const dataItems = dataContext.findControlByCondition((item: any) => {\n  //     const { _Type_: controlType, ParentId } = item\n  //     const { _Type_: parentControlType } = ParentId ? (dataContext.findControl(ParentId) || {}) : {}\n  //     return !isEntryEntity(parentControlType) &&\n  //     !isEntryEntity(controlType) &&\n  //     !isBizButton(controlType)\n  //   })\n  //   return translateDataToVariableTree(dataItems, metaApi)\n  // }, [])\n\n  var isSavedRule = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    var _ruleId$includes;\n    return !(ruleId !== null && ruleId !== void 0 && (_ruleId$includes = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7___default()(ruleId)) !== null && _ruleId$includes !== void 0 && _ruleId$includes.call(ruleId, 'new_rule_'));\n  }, [value]);\n  var validateFields = function validateFields() {\n    return new (_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8___default())(function (resolve, reject) {\n      form.validateFields().then(function (_ref2) {\n        var values = _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_9___default()(_ref2);\n        resolve(values);\n      }).catch(function (e) {\n        return reject(e);\n      });\n    });\n  };\n  var onBatchInvoke = function onBatchInvoke(actionName, args) {\n    var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    batchInvoke(actionName, fieldKey, args, params);\n  };\n  var addControlAction = function addControlAction(methodName, listener) {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_19__.eventBus.on(methodName, listener);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_19__.eventBus.off(methodName, listener);\n    };\n  };\n  var batchInvokeListConfig = function batchInvokeListConfig(id) {\n    batchInvoke('listconfig', 'nocodeformdesigner', [id]);\n  };\n  var batchInvokeQuery = function batchInvokeQuery(id) {\n    var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _args$filter = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(args),\n      filter = _args$filter === void 0 ? '' : _args$filter,\n      _args$search = args.search,\n      search = _args$search === void 0 ? '' : _args$search,\n      _args$order_by = args.order_by,\n      order_by = _args$order_by === void 0 ? '' : _args$order_by,\n      _args$select = args.select,\n      select = _args$select === void 0 ? '' : _args$select,\n      _args$page_size = args.page_size,\n      page_size = _args$page_size === void 0 ? 10 : _args$page_size,\n      _args$page_no = args.page_no,\n      page_no = _args$page_no === void 0 ? 1 : _args$page_no,\n      _args$ids = args.ids,\n      ids = _args$ids === void 0 ? [] : _args$ids;\n    var nodeData = dfs(listFilterConfig, function (item) {\n      return item.entityId === id;\n    });\n    if (nodeData !== null && nodeData !== void 0 && nodeData.isDraftField) {\n      return;\n    }\n    batchInvoke('query', 'nocodeformdesigner', [id, {\n      filter: filter,\n      // 数据过滤\n      search: search,\n      // 搜索内容\n      order_by: order_by,\n      // 排序\n      select: select,\n      // 字段\n      page_size: page_size,\n      // 每页行数\n      page_no: page_no,\n      ids: ids // 选中的ids\n    }]);\n  };\n  var refBillProps = {\n    baseUrl: baseUrl,\n    batchInvoke: onBatchInvoke,\n    getControlText: getControlText,\n    addControlAction: addControlAction,\n    onDownLoad: onDownLoad,\n    batchInvokeListConfig: batchInvokeListConfig,\n    batchInvokeQuery: batchInvokeQuery\n  };\n  var handleSave = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    var _filterEditorRef$curr, _filterEditorRef$curr2;\n    var filterEmptyInfo = (_filterEditorRef$curr = filterEditorRef.current) === null || _filterEditorRef$curr === void 0 || (_filterEditorRef$curr2 = _filterEditorRef$curr.updateVerifyAndGetMsg) === null || _filterEditorRef$curr2 === void 0 ? void 0 : _filterEditorRef$curr2.call(_filterEditorRef$curr);\n    validateFields().then(function (result) {\n      var _result = result,\n        name = _result.name,\n        trueAction = _result.trueAction;\n      result = _objectSpread(_objectSpread({}, result), {}, {\n        name: _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_10___default()(name).call(name)\n      });\n      var params = _objectSpread(_objectSpread({}, result), {}, {\n        formId: rootId,\n        ruleType: '0'\n      });\n      if (isSavedRule) {\n        params.ruleId = ruleId;\n      }\n      var actionLength = _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_11___default()(trueAction).length;\n      if (actionLength > 2000) {\n        return nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__.WebMsg.showNotificationMsg(\"\\u4F60\\u8F93\\u5165\\u7684\\u6267\\u884C\\u5185\\u5BB9\\u957F\\u5EA6\\u4E3A[\".concat(actionLength, \"]\\uFF0C\\u8D85\\u51FA\\u4E86\\u6700\\u5927\\u957F\\u5EA62000\\u5B57\\u7B26\\u3002\\u8BF7\\u7CBE\\u7B80\\u5185\\u5BB9\\u540E\\u518D\\u6B21\\u5C1D\\u8BD5\\u4FDD\\u5B58\\u3002\"));\n      }\n      if (!filterEmptyInfo.length) {\n        onSave(params);\n      }\n      // !filterEmptyInfo.length && invokeAction('saveFormRule', [params])\n    }).catch(function (e) {\n      console.warn(e);\n    });\n  }, [rootId, ruleId, isSavedRule]);\n  var debounceHandleSave = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_19__.useDebounce)(handleSave);\n  var updateFormData = function updateFormData(key, value) {\n    dispatchFormData((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, key, value));\n    onChange((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, key, value));\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: \"display-rules-setting\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: \"setting-form\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Form, {\n    layout: \"vertical\",\n    form: form,\n    labelWidth: \"100%\",\n    wrapperWidth: \"100%\",\n    onValuesChange: function onValuesChange(changedValue, values) {\n      console.log('form', changedValue, values);\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Form.Item, {\n    label: \"\\u89C4\\u5219\\u540D\\u79F0\",\n    name: \"name\",\n    required: true,\n    validateTrigger: \"onBlur\",\n    rules: [{\n      required: true,\n      message: '请输入规则名称'\n    }, {\n      type: 'string',\n      validator: function validator(rule, value, callback, source, options) {\n        if (!(value !== null && value !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_10___default()(value).call(value))) {\n          return [new Error('请输入规则名称')];\n        } else {\n          return [];\n        }\n      }\n    }]\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Input, {\n    type: \"text\",\n    borderType: \"bordered\",\n    size: \"middle\",\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u89C4\\u5219\\u540D\\u79F0\",\n    maxLength: 50,\n    value: formData.name,\n    onChange: function onChange(e) {\n      return updateFormData('name', e.target.value);\n    }\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Form.Item, {\n    label: \"\\u5F53\\u6EE1\\u8DB3\\u4EE5\\u4E0B\\u6761\\u4EF6\\u65F6\",\n    name: \"preCondition\",\n    rules: [{\n      type: 'array',\n      required: true,\n      message: '请添加判断条件'\n    }]\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__.FilterEditor, {\n    id: \"filter\",\n    ref: filterEditorRef,\n    valueRequired: true,\n    name: \"\\u6DFB\\u52A0\\u5224\\u65AD\\u6761\\u4EF6\",\n    tips: \"\",\n    variablesTree: variablesTree || [],\n    listFilterConfig: listFilterConfigPure || [],\n    onGetFieldRecords: onGetFieldRecords,\n    fieldRecords: fieldRecordsMap,\n    nameHidden: true,\n    style: {\n      marginTop: '0px'\n    },\n    getVarSelectDisabled: getVarSelectDisabled,\n    fieldData: {\n      fieldType: 'treeSelect',\n      style: {\n        width: '184px'\n      }\n    },\n    filterFooterData: {\n      listType: 'tree',\n      triggerText: '添加判断条件'\n    },\n    value: formData.preCondition || [],\n    refBillProps: refBillProps,\n    onChange: function onChange(v) {\n      form.setFieldValue('preCondition', v);\n      updateFormData('preCondition', v);\n    }\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Form.Item, {\n    label: \"\\u5219\\u6267\\u884C\",\n    name: \"trueAction\",\n    rules: [{\n      type: 'array',\n      required: true,\n      validator: function validator(rule, value, callback, source, options) {\n        if (!(value !== null && value !== void 0 && value.length)) {\n          return [new Error('请添加规则效果')];\n        } else {\n          var isFullFilled = value.every(function (item) {\n            return _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_12___default()(item).every(function (v) {\n              if (typeof v === 'string') {\n                return v !== '';\n              } else if (Array.isArray(v)) {\n                return v.length !== 0;\n              }\n              return true;\n            });\n          });\n          return isFullFilled ? [] : [new Error('请添加规则效果')];\n        }\n      }\n    }]\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_TrueActions__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    prefixCls: prefixCls,\n    value: formData.trueAction,\n    fieldOptions: fieldOptions,\n    onChange: function onChange(v) {\n      return updateFormData('trueAction', v);\n    }\n  })))), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: \"setting-footer\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Button, {\n    size: \"small\",\n    type: \"primary\",\n    onClick: debounceHandleSave\n  }, \"\\u4FDD\\u5B58\")));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (RuleSettingForm);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI3NjAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFFQTtBQVNBO0FBUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9EaXNwbGF5UnVsZXMvUnVsZVNldHRpbmdGb3JtLnRzeD83NTQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VSZWR1Y2VyLCB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgVHJ1ZUFjdGlvbnMgZnJvbSAnLi9UcnVlQWN0aW9ucydcbmltcG9ydCB1c2VRdWVyeUV2ZW50RGF0YSBmcm9tICcuLi8uLi9ob29rcy91c2VRdWVyeUV2ZW50RGF0YSdcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQnXG5pbXBvcnQgeyBGb3JtLCBJbnB1dCwgQnV0dG9uIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IHsgdHJhbnNmb3JtTGlzdENvbmZpZ1RvVmFyaWFibGVUcmVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdHJlZVV0aWxzJ1xuaW1wb3J0IHsgdXNlRGVib3VuY2UsIGV2ZW50QnVzIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgRmlsdGVyRWRpdG9yLCB0cmVlVXRpbHMsIExpc3RGaWx0ZXJVdGlsLCBXZWJNc2cgfSBmcm9tICdub2NvZGVfY29tcG9uZW50L1dlYlVJJ1xuXG5jb25zdCB7IGRmcywgZ2V0TGlzdENvbmZpZ1B1cmUgfSA9IHRyZWVVdGlsc1xuY29uc3QgeyBnZXRWYXJTZWxlY3REaXNhYmxlZCB9ID0gTGlzdEZpbHRlclV0aWxcblxuaW50ZXJmYWNlIFJ1bGVTZXR0aW5nRm9ybVByb3BzIHtcbiAgcHJlZml4Q2xzOiBzdHJpbmc7XG4gIHZhbHVlOiBhbnk7XG4gIGZpZWxkS2V5OiBzdHJpbmc7XG4gIHJ1bGVJZDogc3RyaW5nO1xuICBsaXN0RmlsdGVyQ29uZmlnOiBhbnlbXTtcbiAgZmllbGRPcHRpb25zOiBhbnlbXTtcbiAgb25DaGFuZ2U6IChuZXdWYWw6IGFueSkgPT4gdm9pZDtcbiAgb25TYXZlOiAobmV3VmFsOiBhbnkpID0+IHZvaWQ7XG59XG5cbmNvbnN0IGFzc2lnbkRhdGFSZWR1Y2VyID0gKHN0YXRlOiBhbnksIG5ld0RhdGE6IGFueSkgPT4ge1xuICByZXR1cm4geyAuLi5zdGF0ZSwgLi4ubmV3RGF0YSB9XG59XG5cbmNvbnN0IFJ1bGVTZXR0aW5nRm9ybTogUmVhY3QuRkM8UnVsZVNldHRpbmdGb3JtUHJvcHM+ID0gKHtcbiAgcHJlZml4Q2xzLFxuICB2YWx1ZSxcbiAgZmllbGRLZXksXG4gIHJ1bGVJZCxcbiAgbGlzdEZpbHRlckNvbmZpZyxcbiAgZmllbGRPcHRpb25zLFxuICBvbkNoYW5nZSxcbiAgb25TYXZlXG59KSA9PiB7XG4gIGNvbnN0IFtmb3JtXSA9IEZvcm0udXNlRm9ybSgpXG4gIGNvbnN0IHsgaW52b2tlQWN0aW9uLCBnZXRLZGVzaWduZXJBcGksIGJhc2VVcmwsIGJhdGNoSW52b2tlLCBnZXRDb250cm9sVGV4dCwgb25Eb3duTG9hZCB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IHsgZGF0YTogZGF0YUNvbnRleHQsIG1ldGE6IG1ldGFBcGkgfSA9IGdldEtkZXNpZ25lckFwaSgpXG4gIGNvbnN0IHJvb3RJZCA9IGRhdGFDb250ZXh0LmdldFJvb3RJZCgpXG4gIGNvbnN0IFtmb3JtRGF0YSwgZGlzcGF0Y2hGb3JtRGF0YV0gPSB1c2VSZWR1Y2VyKGFzc2lnbkRhdGFSZWR1Y2VyLCB2YWx1ZSlcbiAgY29uc3QgW2ZpZWxkUmVjb3Jkc01hcCwgc2V0RmllbGRSZWNvcmRzTWFwXSA9IHVzZVN0YXRlKHt9KVxuICBjb25zdCBmaWx0ZXJFZGl0b3JSZWYgPSB1c2VSZWYoKVxuXG4gIGNvbnN0IGZpZWxkUmVjb3JkcyA9IHVzZVF1ZXJ5RXZlbnREYXRhKHsgaWQ6IGZpZWxkS2V5LCBmb3JtSWQ6IHJvb3RJZCwgZXZlbnROYW1lOiAnZmlsdGVySXRlbUxvb2snIH0pXG4gIC8vIOagueaNruiuvuiuoeaXtuWFg+aVsOaNrue7hOijheetm+mAiemhueeahOaVsOaNrlxuICBjb25zdCBpbnZva2VHZXRGaWVsZFJlY29yZHMgPSAoZm9ybUlkOiBzdHJpbmcsIGZpZWxkTmFtZTogc3RyaW5nID0gJycpID0+IHtcbiAgICBpbnZva2VBY3Rpb24oXG4gICAgICAnZ2V0RmlsdGVySXRlbUxvb2snLFxuICAgICAgW2Zvcm1JZCwge1xuICAgICAgICBnZXRFbnVtRGF0YTogJ3RydWUnLFxuICAgICAgICBlbnVtRmllbGQ6IGZpZWxkTmFtZSxcbiAgICAgICAgZmlsdGVycm93czogW11cbiAgICAgIH1dXG4gICAgKVxuICB9XG5cbiAgLy8g5o6S6Zmk6ISx5pWP5a2X5q6155qEbGlzdEZpbHRlckNvbmZpZ1xuICBjb25zdCBsaXN0RmlsdGVyQ29uZmlnUHVyZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBnZXRMaXN0Q29uZmlnUHVyZShsaXN0RmlsdGVyQ29uZmlnKVxuICB9LCBbbGlzdEZpbHRlckNvbmZpZ10pXG5cbiAgLy8g5qC55o2u562b6YCJ6aG55p6E5bu65Y+Y6YeP5qCR77yI5a6e5pe277yJXG4gIGNvbnN0IHZhcmlhYmxlc1RyZWUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gdHJhbnNmb3JtTGlzdENvbmZpZ1RvVmFyaWFibGVUcmVlKHtcbiAgICAgIG1ldGFBcGksXG4gICAgICBvcHRpb25zOiBsaXN0RmlsdGVyQ29uZmlnXG4gICAgfSlcbiAgfSwgW2xpc3RGaWx0ZXJDb25maWddKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBwYXJhbSA9IHt9IH0gPSBmaWVsZFJlY29yZHNcbiAgICBjb25zdCB7IGVudW1GaWVsZCB9ID0gcGFyYW1cbiAgICBpZiAoZW51bUZpZWxkKSB7XG4gICAgICBjb25zdCBpdGVtcyA9IGZvcm1EYXRhLnByZUNvbmRpdGlvbj8uZmlsdGVyKChpdGVtOiBhbnkpID0+IGl0ZW0uZmllbGROYW1lID09PSBlbnVtRmllbGQpXG4gICAgICBjb25zdCBmaWVsZEZpbHRlckNvbmZpZyA9IGRmcyhsaXN0RmlsdGVyQ29uZmlnLCAobm9kZSkgPT4gbm9kZS5rZXkgPT09IGVudW1GaWVsZClcbiAgICAgIHNldEZpZWxkUmVjb3Jkc01hcCgoZmllbGRSZWNvcmRzTWFwKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uZmllbGRSZWNvcmRzTWFwLFxuICAgICAgICAgIFtlbnVtRmllbGRdOiB7XG4gICAgICAgICAgICBjb25maWd1cmVkRmlsdGVyOiB7XG4gICAgICAgICAgICAgIGVudW1FcUNvbXBhcmVUeXBlOiAnMDAxJyxcbiAgICAgICAgICAgICAgaXRlbXNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaWVsZEZpbHRlckNvbmZpZyxcbiAgICAgICAgICAgIGdyb3VwSW5mbzogZGF0YVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH0sIFtmaWVsZFJlY29yZHMsIGZvcm1EYXRhLnByZUNvbmRpdGlvbiwgbGlzdEZpbHRlckNvbmZpZ10pXG5cbiAgY29uc3Qgb25HZXRGaWVsZFJlY29yZHMgPSAodjogYW55KSA9PiB7XG4gICAgaW52b2tlR2V0RmllbGRSZWNvcmRzKHJvb3RJZCwgdi5maWVsZE5hbWUpXG4gIH1cblxuICAvLyDmoLnmja7ooajljZXlhYPmlbDmja7mnoTlu7rlj5jph4/moJHvvIjlrp7ml7bvvIlcbiAgLy8gY29uc3QgdmFyaWFibGVzVHJlZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAvLyAgIGNvbnN0IGRhdGFJdGVtcyA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sQnlDb25kaXRpb24oKGl0ZW06IGFueSkgPT4ge1xuICAvLyAgICAgY29uc3QgeyBfVHlwZV86IGNvbnRyb2xUeXBlLCBQYXJlbnRJZCB9ID0gaXRlbVxuICAvLyAgICAgY29uc3QgeyBfVHlwZV86IHBhcmVudENvbnRyb2xUeXBlIH0gPSBQYXJlbnRJZCA/IChkYXRhQ29udGV4dC5maW5kQ29udHJvbChQYXJlbnRJZCkgfHwge30pIDoge31cbiAgLy8gICAgIHJldHVybiAhaXNFbnRyeUVudGl0eShwYXJlbnRDb250cm9sVHlwZSkgJiZcbiAgLy8gICAgICFpc0VudHJ5RW50aXR5KGNvbnRyb2xUeXBlKSAmJlxuICAvLyAgICAgIWlzQml6QnV0dG9uKGNvbnRyb2xUeXBlKVxuICAvLyAgIH0pXG4gIC8vICAgcmV0dXJuIHRyYW5zbGF0ZURhdGFUb1ZhcmlhYmxlVHJlZShkYXRhSXRlbXMsIG1ldGFBcGkpXG4gIC8vIH0sIFtdKVxuXG4gIGNvbnN0IGlzU2F2ZWRSdWxlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuICFydWxlSWQ/LmluY2x1ZGVzPy4oJ25ld19ydWxlXycpXG4gIH0sIFt2YWx1ZV0pXG5cbiAgY29uc3QgdmFsaWRhdGVGaWVsZHMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGZvcm1cbiAgICAgICAgLnZhbGlkYXRlRmllbGRzKClcbiAgICAgICAgLnRoZW4oKHsgdmFsdWVzIH0pID0+IHtcbiAgICAgICAgICByZXNvbHZlKHZhbHVlcylcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlKSA9PiByZWplY3QoZSkpXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IG9uQmF0Y2hJbnZva2UgPSAoYWN0aW9uTmFtZSwgYXJncywgcGFyYW1zID0gW10pID0+IHtcbiAgICBiYXRjaEludm9rZShhY3Rpb25OYW1lLCBmaWVsZEtleSwgYXJncywgcGFyYW1zKVxuICB9XG5cbiAgY29uc3QgYWRkQ29udHJvbEFjdGlvbiA9IChtZXRob2ROYW1lLCBsaXN0ZW5lcikgPT4ge1xuICAgIGV2ZW50QnVzLm9uKG1ldGhvZE5hbWUsIGxpc3RlbmVyKVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBldmVudEJ1cy5vZmYobWV0aG9kTmFtZSwgbGlzdGVuZXIpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgYmF0Y2hJbnZva2VMaXN0Q29uZmlnID0gKGlkKSA9PiB7XG4gICAgYmF0Y2hJbnZva2UoJ2xpc3Rjb25maWcnLCAnbm9jb2RlZm9ybWRlc2lnbmVyJywgW2lkXSlcbiAgfVxuXG4gIGNvbnN0IGJhdGNoSW52b2tlUXVlcnkgPSAoaWQsIGFyZ3MgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGZpbHRlciA9ICcnLCAvLyDmlbDmja7ov4fmu6RcbiAgICAgIHNlYXJjaCA9ICcnLCAvLyDmkJzntKLlhoXlrrlcbiAgICAgIG9yZGVyX2J5ID0gJycsIC8vIOaOkuW6j1xuICAgICAgc2VsZWN0ID0gJycsIC8vIOWtl+autVxuICAgICAgcGFnZV9zaXplID0gMTAsIC8vIOavj+mhteihjOaVsFxuICAgICAgcGFnZV9ubyA9IDEsXG4gICAgICBpZHMgPSBbXS8vIOmAieS4reeahGlkc1xuICAgIH0gPSBhcmdzXG4gICAgY29uc3Qgbm9kZURhdGEgPSBkZnMobGlzdEZpbHRlckNvbmZpZywgKGl0ZW0pID0+IGl0ZW0uZW50aXR5SWQgPT09IGlkKVxuICAgIGlmIChub2RlRGF0YT8uaXNEcmFmdEZpZWxkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgYmF0Y2hJbnZva2UoJ3F1ZXJ5JywgJ25vY29kZWZvcm1kZXNpZ25lcicsIFtpZCwge1xuICAgICAgZmlsdGVyLCAvLyDmlbDmja7ov4fmu6RcbiAgICAgIHNlYXJjaCwgLy8g5pCc57Si5YaF5a65XG4gICAgICBvcmRlcl9ieSwgLy8g5o6S5bqPXG4gICAgICBzZWxlY3QsIC8vIOWtl+autVxuICAgICAgcGFnZV9zaXplLCAvLyDmr4/pobXooYzmlbBcbiAgICAgIHBhZ2Vfbm8sXG4gICAgICBpZHMvLyDpgInkuK3nmoRpZHNcbiAgICB9XSlcbiAgfVxuXG4gIGNvbnN0IHJlZkJpbGxQcm9wcyA9IHtcbiAgICBiYXNlVXJsLFxuICAgIGJhdGNoSW52b2tlOiBvbkJhdGNoSW52b2tlLFxuICAgIGdldENvbnRyb2xUZXh0LFxuICAgIGFkZENvbnRyb2xBY3Rpb24sXG4gICAgb25Eb3duTG9hZCxcbiAgICBiYXRjaEludm9rZUxpc3RDb25maWcsXG4gICAgYmF0Y2hJbnZva2VRdWVyeVxuICB9XG5cbiAgY29uc3QgaGFuZGxlU2F2ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBmaWx0ZXJFbXB0eUluZm8gPSBmaWx0ZXJFZGl0b3JSZWYuY3VycmVudD8udXBkYXRlVmVyaWZ5QW5kR2V0TXNnPy4oKVxuICAgIHZhbGlkYXRlRmllbGRzKCkudGhlbigocmVzdWx0OiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHsgbmFtZSwgdHJ1ZUFjdGlvbiB9ID0gcmVzdWx0XG4gICAgICByZXN1bHQgPSB7IC4uLnJlc3VsdCwgbmFtZTogbmFtZS50cmltKCkgfVxuICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgIGZvcm1JZDogcm9vdElkLFxuICAgICAgICBydWxlVHlwZTogJzAnXG4gICAgICB9XG4gICAgICBpZiAoaXNTYXZlZFJ1bGUpIHtcbiAgICAgICAgcGFyYW1zLnJ1bGVJZCA9IHJ1bGVJZFxuICAgICAgfVxuICAgICAgY29uc3QgYWN0aW9uTGVuZ3RoID0gSlNPTi5zdHJpbmdpZnkodHJ1ZUFjdGlvbikubGVuZ3RoXG4gICAgICBpZiAoYWN0aW9uTGVuZ3RoID4gMjAwMCkge1xuICAgICAgICByZXR1cm4gV2ViTXNnLnNob3dOb3RpZmljYXRpb25Nc2coYOS9oOi+k+WFpeeahOaJp+ihjOWGheWuuemVv+W6puS4ulske2FjdGlvbkxlbmd0aH1d77yM6LaF5Ye65LqG5pyA5aSn6ZW/5bqmMjAwMOWtl+espuOAguivt+eyvueugOWGheWuueWQjuWGjeasoeWwneivleS/neWtmOOAgmApXG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlckVtcHR5SW5mby5sZW5ndGgpIHtcbiAgICAgICAgb25TYXZlKHBhcmFtcylcbiAgICAgIH1cbiAgICAgIC8vICFmaWx0ZXJFbXB0eUluZm8ubGVuZ3RoICYmIGludm9rZUFjdGlvbignc2F2ZUZvcm1SdWxlJywgW3BhcmFtc10pXG4gICAgfSkuY2F0Y2goZSA9PiB7XG4gICAgICBjb25zb2xlLndhcm4oZSlcbiAgICB9KVxuICB9LCBbcm9vdElkLCBydWxlSWQsIGlzU2F2ZWRSdWxlXSlcblxuICBjb25zdCBkZWJvdW5jZUhhbmRsZVNhdmUgPSB1c2VEZWJvdW5jZShoYW5kbGVTYXZlKVxuXG4gIGNvbnN0IHVwZGF0ZUZvcm1EYXRhID0gKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSA9PiB7XG4gICAgZGlzcGF0Y2hGb3JtRGF0YSh7IFtrZXldOiB2YWx1ZSB9KVxuICAgIG9uQ2hhbmdlKHsgW2tleV06IHZhbHVlIH0pXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSdkaXNwbGF5LXJ1bGVzLXNldHRpbmcnPlxuICAgICAgPGRpdiBjbGFzc05hbWU9J3NldHRpbmctZm9ybSc+XG4gICAgICAgIDxGb3JtXG4gICAgICAgICAgbGF5b3V0PSd2ZXJ0aWNhbCdcbiAgICAgICAgICBmb3JtPXtmb3JtfVxuICAgICAgICAgIGxhYmVsV2lkdGg9JzEwMCUnXG4gICAgICAgICAgd3JhcHBlcldpZHRoPScxMDAlJ1xuICAgICAgICAgIG9uVmFsdWVzQ2hhbmdlPXsoY2hhbmdlZFZhbHVlLCB2YWx1ZXMpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmb3JtJywgY2hhbmdlZFZhbHVlLCB2YWx1ZXMpXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxGb3JtLkl0ZW1cbiAgICAgICAgICAgIGxhYmVsPSfop4TliJnlkI3np7AnXG4gICAgICAgICAgICBuYW1lPSduYW1lJ1xuICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgIHZhbGlkYXRlVHJpZ2dlcj0nb25CbHVyJ1xuICAgICAgICAgICAgcnVsZXM9e1t7XG4gICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6KeE5YiZ5ZCN56ewJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgdmFsaWRhdG9yOiAocnVsZSwgdmFsdWUsIGNhbGxiYWNrLCBzb3VyY2UsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlPy50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBbbmV3IEVycm9yKCfor7fovpPlhaXop4TliJnlkI3np7AnKV1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgYm9yZGVyVHlwZT0nYm9yZGVyZWQnXG4gICAgICAgICAgICAgIHNpemU9J21pZGRsZSdcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J+ivt+i+k+WFpeinhOWImeWQjeensCdcbiAgICAgICAgICAgICAgbWF4TGVuZ3RoPXs1MH1cbiAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLm5hbWV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHVwZGF0ZUZvcm1EYXRhKCduYW1lJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICBsYWJlbD0n5b2T5ruh6Laz5Lul5LiL5p2h5Lu25pe2J1xuICAgICAgICAgICAgbmFtZT0ncHJlQ29uZGl0aW9uJ1xuICAgICAgICAgICAgcnVsZXM9e1t7XG4gICAgICAgICAgICAgIHR5cGU6ICdhcnJheScsIHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35re75Yqg5Yik5pat5p2h5Lu2J1xuICAgICAgICAgICAgfV19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEZpbHRlckVkaXRvclxuICAgICAgICAgICAgICBpZD0nZmlsdGVyJ1xuICAgICAgICAgICAgICByZWY9e2ZpbHRlckVkaXRvclJlZn1cbiAgICAgICAgICAgICAgdmFsdWVSZXF1aXJlZFxuICAgICAgICAgICAgICBuYW1lPSfmt7vliqDliKTmlq3mnaHku7YnXG4gICAgICAgICAgICAgIHRpcHM9JydcbiAgICAgICAgICAgICAgdmFyaWFibGVzVHJlZT17dmFyaWFibGVzVHJlZSB8fCBbXX1cbiAgICAgICAgICAgICAgbGlzdEZpbHRlckNvbmZpZz17bGlzdEZpbHRlckNvbmZpZ1B1cmUgfHwgW119XG4gICAgICAgICAgICAgIG9uR2V0RmllbGRSZWNvcmRzPXtvbkdldEZpZWxkUmVjb3Jkc31cbiAgICAgICAgICAgICAgZmllbGRSZWNvcmRzPXtmaWVsZFJlY29yZHNNYXB9XG4gICAgICAgICAgICAgIG5hbWVIaWRkZW5cbiAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMHB4JyB9fVxuICAgICAgICAgICAgICBnZXRWYXJTZWxlY3REaXNhYmxlZD17Z2V0VmFyU2VsZWN0RGlzYWJsZWR9XG4gICAgICAgICAgICAgIGZpZWxkRGF0YT17e1xuICAgICAgICAgICAgICAgIGZpZWxkVHlwZTogJ3RyZWVTZWxlY3QnLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICB3aWR0aDogJzE4NHB4J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgZmlsdGVyRm9vdGVyRGF0YT17e1xuICAgICAgICAgICAgICAgIGxpc3RUeXBlOiAndHJlZScsXG4gICAgICAgICAgICAgICAgdHJpZ2dlclRleHQ6ICfmt7vliqDliKTmlq3mnaHku7YnXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5wcmVDb25kaXRpb24gfHwgW119XG4gICAgICAgICAgICAgIHJlZkJpbGxQcm9wcz17cmVmQmlsbFByb3BzfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17diA9PiB7XG4gICAgICAgICAgICAgICAgZm9ybS5zZXRGaWVsZFZhbHVlKCdwcmVDb25kaXRpb24nLCB2KVxuICAgICAgICAgICAgICAgIHVwZGF0ZUZvcm1EYXRhKCdwcmVDb25kaXRpb24nLCB2KVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgICA8Rm9ybS5JdGVtXG4gICAgICAgICAgICBsYWJlbD0n5YiZ5omn6KGMJ1xuICAgICAgICAgICAgbmFtZT0ndHJ1ZUFjdGlvbidcbiAgICAgICAgICAgIHJ1bGVzPXtbe1xuICAgICAgICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgdmFsaWRhdG9yOiAocnVsZSwgdmFsdWUsIGNhbGxiYWNrLCBzb3VyY2UsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlPy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBbbmV3IEVycm9yKCfor7fmt7vliqDop4TliJnmlYjmnpwnKV1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY29uc3QgaXNGdWxsRmlsbGVkID0gdmFsdWUuZXZlcnkoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKGl0ZW0pLmV2ZXJ5KHYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2ICE9PSAnJ1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHYubGVuZ3RoICE9PSAwXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzRnVsbEZpbGxlZCA/IFtdIDogW25ldyBFcnJvcign6K+35re75Yqg6KeE5YiZ5pWI5p6cJyldXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8VHJ1ZUFjdGlvbnNcbiAgICAgICAgICAgICAgcHJlZml4Q2xzPXtwcmVmaXhDbHN9XG4gICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS50cnVlQWN0aW9ufVxuICAgICAgICAgICAgICBmaWVsZE9wdGlvbnM9e2ZpZWxkT3B0aW9uc31cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3YgPT4gdXBkYXRlRm9ybURhdGEoJ3RydWVBY3Rpb24nLCB2KX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgIDwvRm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9J3NldHRpbmctZm9vdGVyJz5cbiAgICAgICAgPEJ1dHRvbiBzaXplPSdzbWFsbCcgdHlwZT0ncHJpbWFyeScgb25DbGljaz17ZGVib3VuY2VIYW5kbGVTYXZlfT7kv53lrZg8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJ1bGVTZXR0aW5nRm9ybVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///22760\n");

/***/ }),

/***/ 6412:
/*!*******************************************************!*\
  !*** ./src/editors/DisplayRules/RuleSettingModal.tsx ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/from */ 13440);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/symbol */ 59992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js/get-iterator-method */ 60600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 1900);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 73980);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _RuleSettingForm__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./RuleSettingForm */ 22760);\n/* harmony import */ var _assets_images_empty_png__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../assets/images/empty.png */ 75928);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var _hooks_useListTreeConfigParser__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../hooks/useListTreeConfigParser */ 13276);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../utils */ 41232);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../utils/control */ 3700);\n/* harmony import */ var _utils_treeUtils__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../utils/treeUtils */ 31340);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./index */ 82772);\n\n\n\n\n\n\n\n\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof (_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_5___default()) !== \"undefined\" && _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_6___default()(o) || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { var _context2; if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_9___default()(_context2 = Object.prototype.toString.call(o)).call(_context2, 8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_4___default()(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar exludeTreeNodeByCallback = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__.treeUtils.exludeTreeNodeByCallback;\nvar RuleEmpty = function RuleEmpty(_ref) {\n  var handleAdd = _ref.handleAdd;\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"div\", {\n    className: \"rule-empty\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"img\", {\n    src: _assets_images_empty_png__WEBPACK_IMPORTED_MODULE_21__[\"default\"],\n    alt: \"\\u6682\\u65E0\\u5361\\u7247\",\n    width: 224,\n    height: 128\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"div\", {\n    className: \"empty-text\"\n  }, \"\\u6682\\u65E0\\u89C4\\u5219\\uFF0C\\u70B9\\u51FB\\u4E0B\\u65B9\\u6309\\u94AE\\u6DFB\\u52A0\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Button, {\n    type: \"primary\",\n    icon: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Icon, {\n      prefix: \"nocodeplatformicon\",\n      type: \"zengjia-yuan\"\n    }),\n    onClick: handleAdd\n  }, \"\\u6DFB\\u52A0\\u89C4\\u5219\"));\n};\n\n// 将树数据转换为treeSelect的options\nvar transformToTreeSelectOptions = function transformToTreeSelectOptions(treeData, refBillPrefixMap, metaApi, refBillNameMap) {\n  return treeData.reduce(function (newTree, treeNode) {\n    var controlType = treeNode._Type_,\n      Name = treeNode.Name,\n      Key = treeNode.Key,\n      BillEntityIdEx = treeNode.BillEntityIdEx,\n      SelectItemType = treeNode.SelectItemType,\n      Multi = treeNode.Multi,\n      children = treeNode.children;\n    var titlePrefix = (0,_utils__WEBPACK_IMPORTED_MODULE_24__.getFieldNamePrefix)(treeNode, refBillPrefixMap, metaApi, refBillNameMap);\n    var node = {\n      title: Name,\n      titlePrefix: titlePrefix,\n      key: Key,\n      type: controlType,\n      entityId: BillEntityIdEx,\n      isMulti: SelectItemType === 1 || Multi === 1\n    };\n    if (children) {\n      node.children = transformToTreeSelectOptions(children, refBillPrefixMap, metaApi, refBillNameMap);\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(newTree).call(newTree, node);\n  }, []);\n};\n\n// 转换规则，拍平成formData的格式\nvar transformRuleData = function transformRuleData(item) {\n  var _getAffectfldsOrDepfl = (0,_index__WEBPACK_IMPORTED_MODULE_27__.getAffectfldsOrDepflds)(item),\n    affectfldkeys = _getAffectfldsOrDepfl.affectfldkeys,\n    depfldkeys = _getAffectfldsOrDepfl.depfldkeys;\n  var res = _objectSpread({\n    affectfldkeys: affectfldkeys,\n    depfldkeys: depfldkeys\n  }, item);\n  return res;\n};\nvar ModalBody = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_16__.forwardRef)(function (_ref2, ref) {\n  var prefixCls = _ref2.prefixCls,\n    field = _ref2.field,\n    refreshEditorDisplay = _ref2.refreshEditorDisplay;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_16__.useContext)(_context__WEBPACK_IMPORTED_MODULE_18__.DesignerContext),\n    invokeAction = _useContext.invokeAction,\n    getDisplayRules = _useContext.getDisplayRules,\n    setDisplayRules = _useContext.setDisplayRules,\n    getCompareTypes = _useContext.getCompareTypes,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    curListTreeApi = _useContext.curListTreeApi,\n    getRefBillNameMap = _useContext.getRefBillNameMap;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_16__.useState)(function () {\n      var _context;\n      var data = getDisplayRules();\n      var result = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default()(data).call(data, transformRuleData);\n      if ((result === null || result === void 0 ? void 0 : result.length) <= 1) return result;\n      var stack1 = [];\n      var stack2 = [];\n      var stack3 = [];\n      var _iterator = _createForOfIteratorHelper(result),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          var depfldkeys = item.depfldkeys,\n            affectfldkeys = item.affectfldkeys;\n          if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(depfldkeys).call(depfldkeys, fieldKey) && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(affectfldkeys).call(affectfldkeys, fieldKey)) {\n            stack1.push(item);\n          } else if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(depfldkeys).call(depfldkeys, fieldKey) || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(affectfldkeys).call(affectfldkeys, fieldKey)) {\n            stack2.push(item);\n          } else {\n            stack3.push(item);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context = []).call(_context, stack1, stack2, stack3);\n    }),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useState, 2),\n    rules = _useState2[0],\n    setRules = _useState2[1];\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_16__.useState)(function () {\n      var _rules$;\n      if (rules.length) return (_rules$ = rules[0]) === null || _rules$ === void 0 ? void 0 : _rules$.ruleId;\n    }),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useState3, 2),\n    activeRule = _useState4[0],\n    setActiveRule = _useState4[1];\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    metaApi = _getKdesignerApi.meta;\n  var compareTypesMap = getCompareTypes();\n  var fieldKey = field.Key;\n  var rootId = dataContext.getRootId();\n  var listFilterConfig = (0,_hooks_useListTreeConfigParser__WEBPACK_IMPORTED_MODULE_23__[\"default\"])({\n    api: curListTreeApi,\n    parser: function parser(data) {\n      return (0,_utils__WEBPACK_IMPORTED_MODULE_24__.listFilterParser)(data, data, compareTypesMap);\n    }\n  });\n  var refBillPrefixMap = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_16__.useMemo)(function () {\n    return (0,_utils__WEBPACK_IMPORTED_MODULE_24__.deepGetRefBillCaption)(listFilterConfig);\n  }, [listFilterConfig]);\n  var fieldOptions = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_16__.useMemo)(function () {\n    var _buildTree$;\n    // 当前表单内容的下拉项\n    var dataItems = dataContext.getData().Items || [];\n    var filterNodeCb = function filterNodeCb(node) {\n      var controlType = node._Type_,\n        BillEntityIdEx = node.BillEntityIdEx,\n        showType = node.showType,\n        children = node.children;\n      if ((0,_utils__WEBPACK_IMPORTED_MODULE_24__.isGroupContainer)(controlType) && children !== null && children !== void 0 && children.length) {\n        return true;\n      }\n      // 过滤关联表单表格产生的隐藏控件\n      if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isRefBillTable)(controlType)) {\n        return showType !== '1';\n      }\n      if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isRefBill)(controlType)) {\n        return !(node !== null && node !== void 0 && node.RefTableId && (node === null || node === void 0 ? void 0 : node.ShowType) === '2');\n      }\n      return !(0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isBizButton)(controlType) && !((controlType === 'NoCodeMulRefBillField' || controlType === 'NoCodeRefBillField') && BillEntityIdEx === undefined);\n    };\n    var dataTree = exludeTreeNodeByCallback(((_buildTree$ = (0,_utils_treeUtils__WEBPACK_IMPORTED_MODULE_26__.buildTree)(dataItems)[0]) === null || _buildTree$ === void 0 ? void 0 : _buildTree$.children) || [], filterNodeCb);\n    return transformToTreeSelectOptions(dataTree, refBillPrefixMap, metaApi, getRefBillNameMap());\n  }, [refBillPrefixMap, getRefBillNameMap]);\n\n  // 新增一条规则\n  var handleAddRule = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_16__.useCallback)(function () {\n    var ruleCount = (rules === null || rules === void 0 ? void 0 : rules.length) || 0;\n    var ruleId = \"new_rule_\".concat((0,_utils__WEBPACK_IMPORTED_MODULE_24__.generateLongId)());\n    var newRule = {\n      ruleId: ruleId,\n      name: \"\\u89C4\\u5219\".concat(ruleCount + 1),\n      depfldkeys: '',\n      affectfldkeys: '',\n      preCondition: [],\n      trueAction: []\n    };\n    setRules(rules ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(rules).call(rules, newRule) : [newRule]);\n    setActiveRule(ruleId);\n  }, [rules]);\n  var getNextSelectRuleId = function getNextSelectRuleId(ruleId) {\n    var index = (rules === null || rules === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_14___default()(rules).call(rules, function (item) {\n      return item.ruleId === ruleId;\n    })) || 0;\n    // 删除角色，自动选中相邻角色\n    var nextSelectedId = activeRule;\n    if (activeRule === ruleId) {\n      var prevRule = index > 0 ? rules[index - 1] : undefined;\n      var nextRule = rules[index + 1];\n      if (prevRule) {\n        nextSelectedId = prevRule.ruleId;\n      } else if (nextRule) {\n        nextSelectedId = nextRule.ruleId;\n      }\n    }\n    return nextSelectedId;\n  };\n  var onDelete = function onDelete(ruleId) {\n    // if (typeof ruleId === 'string' && ruleId.includes('new_rule_')) {\n    //   const nextSelectedId = getNextSelectRuleId(ruleId)\n    //   setActiveRule(nextSelectedId)\n    //   setRules((arr: any[]) => arr?.filter((item: any) => item.ruleId !== ruleId))\n    // } else {\n    //   invokeAction('deleteFormRule', [ruleId])\n    // }\n    var nextSelectedId = getNextSelectRuleId(ruleId);\n    setActiveRule(nextSelectedId);\n    setRules(function (arr) {\n      return arr === null || arr === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default()(arr).call(arr, function (item) {\n        return item.ruleId !== ruleId;\n      });\n    });\n    deleteGlobalDisplayRules(ruleId);\n  };\n  var handleDeleteRule = function handleDeleteRule(e, ruleName, ruleId) {\n    e.stopPropagation();\n    nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__.WebMsg === null || nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__.WebMsg === void 0 || nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__.WebMsg.showConfirmModal({\n      title: \"\\u786E\\u5B9A\\u5220\\u9664\\u201C\".concat(ruleName, \"\\u201D\\u5417\\uFF1F\"),\n      type: 'delete',\n      onAction: function onAction(key) {\n        switch (key) {\n          case 'ok':\n            onDelete(ruleId);\n        }\n      }\n    });\n  };\n  var getRules = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_16__.useCallback)(function (data) {\n    setRules(data);\n    if (data.length) {\n      setActiveRule(data[0].ruleId);\n    }\n  }, []);\n  var handleUpdateRule = function handleUpdateRule(ruleInfo) {\n    setRules(function (arr) {\n      return arr === null || arr === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default()(arr).call(arr, function (item) {\n        if (item.ruleId === activeRule) {\n          return _objectSpread(_objectSpread({}, item), ruleInfo);\n        }\n        return item;\n      });\n    });\n  };\n\n  // 删除规则时，更新下全局ref的数据，并刷新编辑器的显示\n  var deleteGlobalDisplayRules = function deleteGlobalDisplayRules(deleteId) {\n    var globalRules = getDisplayRules();\n    setDisplayRules(globalRules === null || globalRules === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default()(globalRules).call(globalRules, function (item) {\n      return item.ruleId !== deleteId;\n    }));\n    refreshEditorDisplay();\n  };\n\n  // 更新规则时，更新下全局ref的数据，并刷新编辑器的显示\n  var updateGlobalDisplayRules = function updateGlobalDisplayRules(ruleInfo) {\n    var globalRules = getDisplayRules();\n    var updateRule = _objectSpread(_objectSpread({}, (globalRules === null || globalRules === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_15___default()(globalRules).call(globalRules, function (rule) {\n      return rule.ruleId === activeRule;\n    })) || {}), ruleInfo);\n    var _getAffectfldsOrDepfl2 = (0,_index__WEBPACK_IMPORTED_MODULE_27__.getAffectfldsOrDepflds)(updateRule),\n      affectfldkeys = _getAffectfldsOrDepfl2.affectfldkeys,\n      depfldkeys = _getAffectfldsOrDepfl2.depfldkeys;\n    if (activeRule !== null && activeRule !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(activeRule).call(activeRule, 'new_rule_')) {\n      var newRuleId = activeRule === null || activeRule === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_9___default()(activeRule).call(activeRule, 9);\n      updateRule.ruleId = newRuleId;\n      handleUpdateRule({\n        ruleId: newRuleId,\n        affectfldkeys: affectfldkeys,\n        depfldkeys: depfldkeys\n      });\n      setActiveRule(newRuleId);\n    }\n    handleUpdateRule({\n      affectfldkeys: affectfldkeys,\n      depfldkeys: depfldkeys\n    });\n    var newRules = activeRule !== null && activeRule !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(activeRule).call(activeRule, 'new_rule_') ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(globalRules).call(globalRules, updateRule) : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default()(globalRules).call(globalRules, function (rule) {\n      if (rule.ruleId === activeRule) {\n        return updateRule;\n      }\n      return rule;\n    });\n    setDisplayRules(newRules);\n    console.log('displayRules-----', getDisplayRules());\n    refreshEditorDisplay();\n    nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__.WebMsg.showNotificationMsg({\n      param: [{\n        type: 0,\n        content: '保存成功。',\n        duration: 2000\n      }]\n    });\n  };\n\n  // useEffect(() => {\n  //   const cb = (args) => {\n  //     getRules(args)\n  //     refreshEditorDisplay()\n  //   }\n  //   eventBus.on(SET_FORM_RULES, cb)\n  //   return () => {\n  //     eventBus.off(SET_FORM_RULES, cb)\n  //   }\n  // }, [])\n\n  // useEffect(() => {\n  //   const execDelete = (deleteId: any) => {\n  //     const nextSelectedId = getNextSelectRuleId(deleteId)\n  //     setActiveRule(nextSelectedId)\n  //     setRules((arr: any[]) => arr?.filter((item: any) => item.ruleId !== deleteId))\n  //     deleteGlobalDisplayRules(deleteId)\n  //   }\n  //   eventBus.on(DELETE_FORM_RULE, execDelete)\n  //   return () => {\n  //     eventBus.off(DELETE_FORM_RULE, execDelete)\n  //   }\n  // }, [setRules, activeRule])\n\n  // useEffect(() => {\n  //   const updateRule = (ruleInfo: any) => {\n  //     handleUpdateRule(ruleInfo)\n  //     setActiveRule(ruleInfo.ruleId)\n  //     updateGlobalDisplayRules(ruleInfo)\n  //   }\n  //   eventBus.on(SET_RULE_INFO, updateRule)\n  //   return () => {\n  //     eventBus.off(SET_RULE_INFO, updateRule)\n  //   }\n  // }, [setRules, activeRule])\n\n  // useImperativeHandle(ref, () => {\n  //   return {\n  //     getRules() {\n  //       return rules?.map(item => {\n  //         const depfldkeys = item.depfldkeys === 'null' ? '' : item.depfldkeys\n  //         const affectfldkeys = item.affectfldkeys === 'null' ? '' : item.affectfldkeys\n  //         return { ...item, depfldkeys, affectfldkeys }\n  //       })\n  //     }\n  //   }\n  // }, [rules])\n\n  var activeRuleInfo = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_16__.useMemo)(function () {\n    var data = activeRule ? rules === null || rules === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_15___default()(rules).call(rules, function (item) {\n      return item.ruleId === activeRule;\n    }) : {};\n    return data;\n  }, [activeRule, rules]);\n\n  // const sortedRules = useMemo(() => {\n  //   if (rules?.length === 1) return rules\n  //   return rules?.sort((a, b) => {\n  //     const { depfldkeys, affectfldkeys } = a\n  //     if (depfldkeys.includes(fieldKey) && affectfldkeys.includes(fieldKey)) {\n  //       return -1\n  //     }\n  //     if (depfldkeys.includes(fieldKey)) {\n  //       return -1\n  //     }\n  //     if (affectfldkeys.includes(fieldKey)) {\n  //       return -1\n  //     }\n  //     return 0\n  //   })\n  // }, [rules, fieldKey])\n\n  var renderRules = function renderRules() {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"div\", {\n      className: \"left-area\"\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"div\", {\n      className: \"rule-list\"\n    }, rules === null || rules === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default()(rules).call(rules, function (rule) {\n      var name = rule.name,\n        id = rule.ruleId,\n        depfldkeys = rule.depfldkeys,\n        affectfldkeys = rule.affectfldkeys;\n      // const settedKeys = [...new Set([...depfldkeys.split(','), ...affectfldkeys.split(',')])].filter(Boolean)\n      // const hasUnExitField = allFieldKeys.length ? settedKeys.find((key: string) => !allFieldKeys.includes(key)) : false\n      var hasUnExitField = false;\n      return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"div\", {\n        className: classnames__WEBPACK_IMPORTED_MODULE_22___default()('rule-item', {\n          'is-active': activeRule === id\n        }),\n        key: id,\n        onClick: function onClick() {\n          return setActiveRule(id);\n        }\n      }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"div\", {\n        className: \"rule-name\"\n      }, name, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Icon, {\n        prefix: \"ncicon\",\n        type: \"jingshi\",\n        className: classnames__WEBPACK_IMPORTED_MODULE_22___default()('warning-icon', {\n          'show': hasUnExitField\n        })\n      })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"div\", {\n        className: \"tags\"\n      }, _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(depfldkeys).call(depfldkeys, fieldKey) && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"span\", {\n        className: \"tag-item\"\n      }, \"\\u89E6\\u53D1\"), _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(affectfldkeys).call(affectfldkeys, fieldKey) && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"span\", {\n        className: \"tag-item\"\n      }, \"\\u53D7\\u5F71\\u54CD\\u7684\")), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"div\", {\n        className: \"delete-btn\",\n        onClick: function onClick(e) {\n          return handleDeleteRule(e, name, id);\n        }\n      }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Icon, {\n        prefix: \"designericon\",\n        type: \"shanchu\"\n      })));\n    })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"div\", {\n      className: \"add-rule\",\n      onClick: handleAddRule\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"span\", {\n      className: \"add-btn\"\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Icon, {\n      prefix: \"designericon\",\n      type: \"zengjia-yuan\"\n    }), \"\\u65B0\\u589E\\u89C4\\u5219\"))), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"div\", {\n      className: \"right-area\"\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(_RuleSettingForm__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n      key: activeRule,\n      prefixCls: prefixCls,\n      value: activeRuleInfo,\n      fieldKey: fieldKey,\n      ruleId: activeRule,\n      listFilterConfig: listFilterConfig,\n      fieldOptions: fieldOptions,\n      onChange: handleUpdateRule,\n      onSave: updateGlobalDisplayRules\n    })));\n  };\n  if (!rules) return null;\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-main\")\n  }, rules.length ? renderRules() : /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(RuleEmpty, {\n    handleAdd: handleAddRule\n  }));\n});\nvar RuleSettingModal = function RuleSettingModal(_ref3) {\n  var prefixCls = _ref3.prefixCls,\n    title = _ref3.title,\n    visible = _ref3.visible,\n    setVisible = _ref3.setVisible,\n    field = _ref3.field,\n    refreshEditorDisplay = _ref3.refreshEditorDisplay;\n  var ref = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_16__.useRef)(null);\n  // 点击取消\n  var handleCancel = function handleCancel() {\n    setVisible(false);\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Modal, {\n    mask: true,\n    visible: visible,\n    body: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(ModalBody, {\n      ref: ref,\n      prefixCls: prefixCls,\n      field: field,\n      refreshEditorDisplay: refreshEditorDisplay\n    }),\n    titleIcon: null,\n    className: \"\".concat(prefixCls, \"-modal\"),\n    footer: null,\n    maskClosable: false,\n    width: 960,\n    height: 520,\n    keyboard: false,\n    title: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_16___default().createElement(\"span\", {\n      title: title\n    }, title),\n    closable: true,\n    draggable: false,\n    destroyOnClose: true,\n    onCancel: handleCancel,\n    onOk: handleCancel\n  });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (RuleSettingModal);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQxMi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBaUJBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBTUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBSUE7QUFGQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBbEJBO0FBQUE7QUFtQkE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUZBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBSUE7QUFFQTtBQU9BO0FBTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9EaXNwbGF5UnVsZXMvUnVsZVNldHRpbmdNb2RhbC50c3g/OWU0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgRkMsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZUNvbnRleHQsIGZvcndhcmRSZWYsIHVzZUltcGVyYXRpdmVIYW5kbGUgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgTW9kYWwsIEljb24sIEJ1dHRvbiB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcclxuaW1wb3J0IHsgZXZlbnRCdXMsIGNyZWF0ZVVVaWQgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXHJcbmltcG9ydCB7IFNFVF9GT1JNX1JVTEVTLCBTRVRfUlVMRV9JTkZPLCBERUxFVEVfRk9STV9SVUxFIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL2FjdGlvbk5hbWUnXHJcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQnXHJcbmltcG9ydCB7IFdlYk1zZywgdHJlZVV0aWxzIH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcclxuaW1wb3J0IFJ1bGVTZXR0aW5nRm9ybSBmcm9tICcuL1J1bGVTZXR0aW5nRm9ybSdcclxuaW1wb3J0IEVtcHR5SW1nIGZyb20gJy4uLy4uLy4uL2Fzc2V0cy9pbWFnZXMvZW1wdHkucG5nJ1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xyXG5pbXBvcnQgdXNlTGlzdFRyZWVDb25maWdQYXJzZXIgZnJvbSAnLi4vLi4vaG9va3MvdXNlTGlzdFRyZWVDb25maWdQYXJzZXInXHJcbmltcG9ydCB7IGxpc3RGaWx0ZXJQYXJzZXIsIGlzR3JvdXBDb250YWluZXIsIGdldEZpZWxkTmFtZVByZWZpeCwgZGVlcEdldFJlZkJpbGxDYXB0aW9uLCBnZW5lcmF0ZUxvbmdJZCB9IGZyb20gJy4uLy4uL3V0aWxzJ1xyXG5pbXBvcnQgeyBpc0JpekJ1dHRvbixpc1JlZkJpbGwsIGlzUmVmQmlsbFRhYmxlIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29udHJvbCdcclxuaW1wb3J0IHsgYnVpbGRUcmVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdHJlZVV0aWxzJ1xyXG5pbXBvcnQgeyBnZXRBZmZlY3RmbGRzT3JEZXBmbGRzIH0gZnJvbSAnLi9pbmRleCdcclxuXHJcbmNvbnN0IHsgZXhsdWRlVHJlZU5vZGVCeUNhbGxiYWNrIH0gPSB0cmVlVXRpbHNcclxuXHJcbmludGVyZmFjZSBSdWxlU2V0dGluZ01vZGFsUHJvcHMge1xyXG4gIHByZWZpeENsczogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgdmlzaWJsZTogYm9vbGVhbjtcclxuICBzZXRWaXNpYmxlOiAodmk6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgZmllbGQ6IGFueTtcclxuICByZWZyZXNoRWRpdG9yRGlzcGxheTogKCkgPT4gdm9pZDtcclxufVxyXG5cclxuaW50ZXJmYWNlIE1vZGFsQm9keVByb3BzIHtcclxuICBwcmVmaXhDbHM6IHN0cmluZztcclxuICBmaWVsZDogYW55O1xyXG4gIHJlZnJlc2hFZGl0b3JEaXNwbGF5OiAoKSA9PiB2b2lkO1xyXG59XHJcblxyXG5jb25zdCBSdWxlRW1wdHk6IEZDPGFueT4gPSAoe1xyXG4gIGhhbmRsZUFkZFxyXG59KSA9PiB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPSdydWxlLWVtcHR5Jz5cclxuICAgICAgPGltZyBzcmM9e0VtcHR5SW1nfSBhbHQ9J+aaguaXoOWNoeeJhycgd2lkdGg9ezIyNH0gaGVpZ2h0PXsxMjh9IC8+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdlbXB0eS10ZXh0Jz7mmoLml6Dop4TliJnvvIzngrnlh7vkuIvmlrnmjInpkq7mt7vliqA8L2Rpdj5cclxuICAgICAgPEJ1dHRvblxyXG4gICAgICAgIHR5cGU9J3ByaW1hcnknXHJcbiAgICAgICAgaWNvbj17PEljb24gcHJlZml4PSdub2NvZGVwbGF0Zm9ybWljb24nIHR5cGU9J3plbmdqaWEteXVhbicgLz59XHJcbiAgICAgICAgb25DbGljaz17aGFuZGxlQWRkfVxyXG4gICAgICA+XHJcbiAgICAgICAg5re75Yqg6KeE5YiZXHJcbiAgICAgIDwvQnV0dG9uPlxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcblxyXG4vLyDlsIbmoJHmlbDmja7ovazmjaLkuLp0cmVlU2VsZWN055qEb3B0aW9uc1xyXG5jb25zdCB0cmFuc2Zvcm1Ub1RyZWVTZWxlY3RPcHRpb25zID0gKHRyZWVEYXRhOiBhbnlbXSwgcmVmQmlsbFByZWZpeE1hcDogYW55LCBtZXRhQXBpOiBhbnksIHJlZkJpbGxOYW1lTWFwOiBhbnkpID0+IHtcclxuICByZXR1cm4gdHJlZURhdGEucmVkdWNlKChuZXdUcmVlOiBhbnksIHRyZWVOb2RlOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IHsgX1R5cGVfOiBjb250cm9sVHlwZSwgTmFtZSwgS2V5LCBCaWxsRW50aXR5SWRFeCwgU2VsZWN0SXRlbVR5cGUsIE11bHRpLCBjaGlsZHJlbiB9ID0gdHJlZU5vZGVcclxuICAgIGNvbnN0IHRpdGxlUHJlZml4ID0gZ2V0RmllbGROYW1lUHJlZml4KHRyZWVOb2RlLCByZWZCaWxsUHJlZml4TWFwLCBtZXRhQXBpLCByZWZCaWxsTmFtZU1hcClcclxuICAgIGNvbnN0IG5vZGU6IGFueSA9IHsgdGl0bGU6IE5hbWUsIHRpdGxlUHJlZml4LCBrZXk6IEtleSwgdHlwZTogY29udHJvbFR5cGUsIGVudGl0eUlkOiBCaWxsRW50aXR5SWRFeCwgaXNNdWx0aTogKFNlbGVjdEl0ZW1UeXBlID09PSAxIHx8IE11bHRpID09PSAxKSB9XHJcbiAgICBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgbm9kZS5jaGlsZHJlbiA9IHRyYW5zZm9ybVRvVHJlZVNlbGVjdE9wdGlvbnMoY2hpbGRyZW4sIHJlZkJpbGxQcmVmaXhNYXAsIG1ldGFBcGksIHJlZkJpbGxOYW1lTWFwKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld1RyZWUuY29uY2F0KG5vZGUpXHJcbiAgfSwgW10pXHJcbn1cclxuXHJcbi8vIOi9rOaNouinhOWIme+8jOaLjeW5s+aIkGZvcm1EYXRh55qE5qC85byPXHJcbmNvbnN0IHRyYW5zZm9ybVJ1bGVEYXRhID0gKGl0ZW06IGFueSkgPT4ge1xyXG4gIGNvbnN0IHsgYWZmZWN0Zmxka2V5cywgZGVwZmxka2V5cyB9ID0gZ2V0QWZmZWN0Zmxkc09yRGVwZmxkcyhpdGVtKVxyXG4gIGxldCByZXMgPSB7XHJcbiAgICBhZmZlY3RmbGRrZXlzLFxyXG4gICAgZGVwZmxka2V5cyxcclxuICAgIC4uLml0ZW1cclxuICB9XHJcbiAgcmV0dXJuIHJlc1xyXG59XHJcblxyXG5jb25zdCBNb2RhbEJvZHk6IEZDPE1vZGFsQm9keVByb3BzPiA9IGZvcndhcmRSZWYoKHtcclxuICBwcmVmaXhDbHMsXHJcbiAgZmllbGQsXHJcbiAgcmVmcmVzaEVkaXRvckRpc3BsYXlcclxufSwgcmVmKSA9PiB7XHJcbiAgY29uc3QgeyBpbnZva2VBY3Rpb24sIGdldERpc3BsYXlSdWxlcywgc2V0RGlzcGxheVJ1bGVzLCBnZXRDb21wYXJlVHlwZXMsIGdldEtkZXNpZ25lckFwaSwgY3VyTGlzdFRyZWVBcGksIGdldFJlZkJpbGxOYW1lTWFwIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcclxuICBjb25zdCBbcnVsZXMsIHNldFJ1bGVzXSA9IHVzZVN0YXRlPGFueVtdIHwgbnVsbD4oKCkgPT4ge1xyXG4gICAgY29uc3QgZGF0YSA9IGdldERpc3BsYXlSdWxlcygpXHJcbiAgICBjb25zdCByZXN1bHQgPSBkYXRhLm1hcCh0cmFuc2Zvcm1SdWxlRGF0YSlcclxuICAgIGlmIChyZXN1bHQ/Lmxlbmd0aCA8PSAxKSByZXR1cm4gcmVzdWx0XHJcbiAgICBjb25zdCBzdGFjazEgPSBbXVxyXG4gICAgY29uc3Qgc3RhY2syID0gW11cclxuICAgIGNvbnN0IHN0YWNrMyA9IFtdXHJcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgcmVzdWx0KSB7XHJcbiAgICAgIGNvbnN0IHsgZGVwZmxka2V5cywgYWZmZWN0Zmxka2V5cyB9ID0gaXRlbVxyXG4gICAgICBpZiAoZGVwZmxka2V5cy5pbmNsdWRlcyhmaWVsZEtleSkgJiYgYWZmZWN0Zmxka2V5cy5pbmNsdWRlcyhmaWVsZEtleSkpIHtcclxuICAgICAgICBzdGFjazEucHVzaChpdGVtKVxyXG4gICAgICB9IGVsc2UgaWYgKGRlcGZsZGtleXMuaW5jbHVkZXMoZmllbGRLZXkpIHx8IGFmZmVjdGZsZGtleXMuaW5jbHVkZXMoZmllbGRLZXkpKSB7XHJcbiAgICAgICAgc3RhY2syLnB1c2goaXRlbSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzdGFjazMucHVzaChpdGVtKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gWy4uLnN0YWNrMSwgLi4uc3RhY2syLCAuLi5zdGFjazNdXHJcbiAgfSlcclxuICBjb25zdCBbYWN0aXZlUnVsZSwgc2V0QWN0aXZlUnVsZV0gPSB1c2VTdGF0ZTx1bmRlZmluZWQgfCBzdHJpbmc+KCgpID0+IHtcclxuICAgIGlmIChydWxlcy5sZW5ndGgpIHJldHVybiBydWxlc1swXT8ucnVsZUlkXHJcbiAgfSlcclxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0LCBtZXRhOiBtZXRhQXBpIH0gPSBnZXRLZGVzaWduZXJBcGkoKVxyXG4gIGNvbnN0IGNvbXBhcmVUeXBlc01hcDogYW55ID0gZ2V0Q29tcGFyZVR5cGVzKClcclxuICBjb25zdCB7IEtleTogZmllbGRLZXkgfSA9IGZpZWxkXHJcbiAgY29uc3Qgcm9vdElkID0gZGF0YUNvbnRleHQuZ2V0Um9vdElkKClcclxuXHJcbiAgY29uc3QgbGlzdEZpbHRlckNvbmZpZzogYW55W10gPSB1c2VMaXN0VHJlZUNvbmZpZ1BhcnNlcih7XHJcbiAgICBhcGk6IGN1ckxpc3RUcmVlQXBpLFxyXG4gICAgcGFyc2VyOiAoZGF0YSkgPT4gbGlzdEZpbHRlclBhcnNlcihkYXRhLCBkYXRhLCBjb21wYXJlVHlwZXNNYXApXHJcbiAgfSlcclxuXHJcbiAgY29uc3QgcmVmQmlsbFByZWZpeE1hcCA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgcmV0dXJuIGRlZXBHZXRSZWZCaWxsQ2FwdGlvbihsaXN0RmlsdGVyQ29uZmlnKVxyXG4gIH0sIFtsaXN0RmlsdGVyQ29uZmlnXSlcclxuXHJcbiAgY29uc3QgZmllbGRPcHRpb25zID0gdXNlTWVtbygoKSA9PiB7IC8vIOW9k+WJjeihqOWNleWGheWuueeahOS4i+aLiemhuVxyXG4gICAgY29uc3QgZGF0YUl0ZW1zID0gZGF0YUNvbnRleHQuZ2V0RGF0YSgpLkl0ZW1zIHx8IFtdXHJcbiAgICBjb25zdCBmaWx0ZXJOb2RlQ2IgPSAobm9kZTogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgX1R5cGVfOiBjb250cm9sVHlwZSwgQmlsbEVudGl0eUlkRXgsIHNob3dUeXBlLCBjaGlsZHJlbiB9ID0gbm9kZVxyXG4gICAgICBpZiAoaXNHcm91cENvbnRhaW5lcihjb250cm9sVHlwZSkgJiYgY2hpbGRyZW4/Lmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgIH1cclxuICAgICAgLy8g6L+H5ruk5YWz6IGU6KGo5Y2V6KGo5qC85Lqn55Sf55qE6ZqQ6JeP5o6n5Lu2XHJcbiAgICAgIGlmIChpc1JlZkJpbGxUYWJsZShjb250cm9sVHlwZSkpIHtcclxuICAgICAgICByZXR1cm4gc2hvd1R5cGUgIT09ICcxJ1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpc1JlZkJpbGwoY29udHJvbFR5cGUpKSB7XHJcbiAgICAgICAgcmV0dXJuICEobm9kZT8uUmVmVGFibGVJZCAmJiBub2RlPy5TaG93VHlwZSA9PT0gJzInKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAhaXNCaXpCdXR0b24oY29udHJvbFR5cGUpICYmXHJcbiAgICAgICEoKGNvbnRyb2xUeXBlID09PSAnTm9Db2RlTXVsUmVmQmlsbEZpZWxkJyB8fCBjb250cm9sVHlwZSA9PT0gJ05vQ29kZVJlZkJpbGxGaWVsZCcpICYmIEJpbGxFbnRpdHlJZEV4ID09PSB1bmRlZmluZWQpXHJcbiAgICB9XHJcbiAgICBjb25zdCBkYXRhVHJlZSA9IGV4bHVkZVRyZWVOb2RlQnlDYWxsYmFjayhidWlsZFRyZWUoZGF0YUl0ZW1zKVswXT8uY2hpbGRyZW4gfHwgW10sIGZpbHRlck5vZGVDYilcclxuICAgIHJldHVybiB0cmFuc2Zvcm1Ub1RyZWVTZWxlY3RPcHRpb25zKGRhdGFUcmVlLCByZWZCaWxsUHJlZml4TWFwLCBtZXRhQXBpLCBnZXRSZWZCaWxsTmFtZU1hcCgpKVxyXG4gIH0sIFtyZWZCaWxsUHJlZml4TWFwLCBnZXRSZWZCaWxsTmFtZU1hcF0pXHJcblxyXG4gIC8vIOaWsOWinuS4gOadoeinhOWImVxyXG4gIGNvbnN0IGhhbmRsZUFkZFJ1bGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBjb25zdCBydWxlQ291bnQgPSBydWxlcz8ubGVuZ3RoIHx8IDBcclxuICAgIGNvbnN0IHJ1bGVJZCA9IGBuZXdfcnVsZV8ke2dlbmVyYXRlTG9uZ0lkKCl9YFxyXG4gICAgY29uc3QgbmV3UnVsZSA9IHtcclxuICAgICAgcnVsZUlkLFxyXG4gICAgICBuYW1lOiBg6KeE5YiZJHtydWxlQ291bnQgKyAxfWAsXHJcbiAgICAgIGRlcGZsZGtleXM6ICcnLFxyXG4gICAgICBhZmZlY3RmbGRrZXlzOiAnJyxcclxuICAgICAgcHJlQ29uZGl0aW9uOiBbXSxcclxuICAgICAgdHJ1ZUFjdGlvbjogW11cclxuICAgIH1cclxuICAgIHNldFJ1bGVzKHJ1bGVzID8gcnVsZXMuY29uY2F0KG5ld1J1bGUpIDogW25ld1J1bGVdKVxyXG4gICAgc2V0QWN0aXZlUnVsZShydWxlSWQpXHJcbiAgfSwgW3J1bGVzXSlcclxuXHJcbiAgY29uc3QgZ2V0TmV4dFNlbGVjdFJ1bGVJZCA9IChydWxlSWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcbiAgICBjb25zdCBpbmRleCA9IHJ1bGVzPy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnJ1bGVJZCA9PT0gcnVsZUlkKSB8fCAwXHJcbiAgICAvLyDliKDpmaTop5LoibLvvIzoh6rliqjpgInkuK3nm7jpgrvop5LoibJcclxuICAgIGxldCBuZXh0U2VsZWN0ZWRJZCA9IGFjdGl2ZVJ1bGUgYXMgc3RyaW5nXHJcbiAgICBpZiAoYWN0aXZlUnVsZSA9PT0gcnVsZUlkKSB7XHJcbiAgICAgIGNvbnN0IHByZXZSdWxlID0gaW5kZXggPiAwID8gcnVsZXNbaW5kZXggLSAxXSA6IHVuZGVmaW5lZFxyXG4gICAgICBjb25zdCBuZXh0UnVsZSA9IHJ1bGVzW2luZGV4ICsgMV1cclxuICAgICAgaWYgKHByZXZSdWxlKSB7XHJcbiAgICAgICAgbmV4dFNlbGVjdGVkSWQgPSBwcmV2UnVsZS5ydWxlSWRcclxuICAgICAgfSBlbHNlIGlmIChuZXh0UnVsZSkge1xyXG4gICAgICAgIG5leHRTZWxlY3RlZElkID0gbmV4dFJ1bGUucnVsZUlkXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZXh0U2VsZWN0ZWRJZFxyXG4gIH1cclxuXHJcbiAgY29uc3Qgb25EZWxldGUgPSAocnVsZUlkOiBzdHJpbmcpID0+IHtcclxuICAgIC8vIGlmICh0eXBlb2YgcnVsZUlkID09PSAnc3RyaW5nJyAmJiBydWxlSWQuaW5jbHVkZXMoJ25ld19ydWxlXycpKSB7XHJcbiAgICAvLyAgIGNvbnN0IG5leHRTZWxlY3RlZElkID0gZ2V0TmV4dFNlbGVjdFJ1bGVJZChydWxlSWQpXHJcbiAgICAvLyAgIHNldEFjdGl2ZVJ1bGUobmV4dFNlbGVjdGVkSWQpXHJcbiAgICAvLyAgIHNldFJ1bGVzKChhcnI6IGFueVtdKSA9PiBhcnI/LmZpbHRlcigoaXRlbTogYW55KSA9PiBpdGVtLnJ1bGVJZCAhPT0gcnVsZUlkKSlcclxuICAgIC8vIH0gZWxzZSB7XHJcbiAgICAvLyAgIGludm9rZUFjdGlvbignZGVsZXRlRm9ybVJ1bGUnLCBbcnVsZUlkXSlcclxuICAgIC8vIH1cclxuICAgIGNvbnN0IG5leHRTZWxlY3RlZElkID0gZ2V0TmV4dFNlbGVjdFJ1bGVJZChydWxlSWQpXHJcbiAgICBzZXRBY3RpdmVSdWxlKG5leHRTZWxlY3RlZElkKVxyXG4gICAgc2V0UnVsZXMoKGFycjogYW55W10pID0+IGFycj8uZmlsdGVyKChpdGVtOiBhbnkpID0+IGl0ZW0ucnVsZUlkICE9PSBydWxlSWQpKVxyXG4gICAgZGVsZXRlR2xvYmFsRGlzcGxheVJ1bGVzKHJ1bGVJZClcclxuICB9XHJcblxyXG4gIGNvbnN0IGhhbmRsZURlbGV0ZVJ1bGUgPSAoZTogUmVhY3QuTW91c2VFdmVudCxydWxlTmFtZTogc3RyaW5nLCBydWxlSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgV2ViTXNnPy5zaG93Q29uZmlybU1vZGFsKHtcclxuICAgICAgdGl0bGU6IGDnoa7lrprliKDpmaTigJwke3J1bGVOYW1lfeKAneWQl++8n2AsXHJcbiAgICAgIHR5cGU6ICdkZWxldGUnLFxyXG4gICAgICBvbkFjdGlvbjogKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICAgIGNhc2UgJ29rJzpcclxuICAgICAgICAgICAgb25EZWxldGUocnVsZUlkKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGNvbnN0IGdldFJ1bGVzID0gdXNlQ2FsbGJhY2soKGRhdGE6IGFueVtdKSA9PiB7XHJcbiAgICBzZXRSdWxlcyhkYXRhKVxyXG4gICAgaWYgKGRhdGEubGVuZ3RoKSB7XHJcbiAgICAgIHNldEFjdGl2ZVJ1bGUoZGF0YVswXS5ydWxlSWQpXHJcbiAgICB9XHJcbiAgfSwgW10pXHJcblxyXG4gIGNvbnN0IGhhbmRsZVVwZGF0ZVJ1bGUgPSAocnVsZUluZm86IGFueSkgPT4ge1xyXG4gICAgc2V0UnVsZXMoKGFycjogYW55W10pID0+IGFycj8ubWFwKChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgaWYgKGl0ZW0ucnVsZUlkID09PSBhY3RpdmVSdWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgLi4uaXRlbSwgLi4ucnVsZUluZm8gfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBpdGVtXHJcbiAgICB9KSlcclxuICB9XHJcblxyXG4gIC8vIOWIoOmZpOinhOWImeaXtu+8jOabtOaWsOS4i+WFqOWxgHJlZueahOaVsOaNru+8jOW5tuWIt+aWsOe8lui+keWZqOeahOaYvuekulxyXG4gIGNvbnN0IGRlbGV0ZUdsb2JhbERpc3BsYXlSdWxlcyA9IChkZWxldGVJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCBnbG9iYWxSdWxlcyA9IGdldERpc3BsYXlSdWxlcygpXHJcbiAgICBzZXREaXNwbGF5UnVsZXMoZ2xvYmFsUnVsZXM/LmZpbHRlcigoaXRlbTogYW55KSA9PiBpdGVtLnJ1bGVJZCAhPT0gZGVsZXRlSWQpKVxyXG4gICAgcmVmcmVzaEVkaXRvckRpc3BsYXkoKVxyXG4gIH1cclxuXHJcbiAgLy8g5pu05paw6KeE5YiZ5pe277yM5pu05paw5LiL5YWo5bGAcmVm55qE5pWw5o2u77yM5bm25Yi35paw57yW6L6R5Zmo55qE5pi+56S6XHJcbiAgY29uc3QgdXBkYXRlR2xvYmFsRGlzcGxheVJ1bGVzID0gKHJ1bGVJbmZvOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IGdsb2JhbFJ1bGVzID0gZ2V0RGlzcGxheVJ1bGVzKClcclxuICAgIGNvbnN0IHVwZGF0ZVJ1bGUgPSB7IC4uLihnbG9iYWxSdWxlcz8uZmluZChydWxlID0+IHJ1bGUucnVsZUlkID09PSBhY3RpdmVSdWxlKSB8fCB7fSksIC4uLnJ1bGVJbmZvIH1cclxuICAgIGNvbnN0IHsgYWZmZWN0Zmxka2V5cywgZGVwZmxka2V5cyB9ID0gZ2V0QWZmZWN0Zmxkc09yRGVwZmxkcyh1cGRhdGVSdWxlKVxyXG4gICAgaWYgKGFjdGl2ZVJ1bGU/LmluY2x1ZGVzKCduZXdfcnVsZV8nKSkge1xyXG4gICAgICBjb25zdCBuZXdSdWxlSWQgPSBhY3RpdmVSdWxlPy5zbGljZSg5KVxyXG4gICAgICB1cGRhdGVSdWxlLnJ1bGVJZCA9IG5ld1J1bGVJZFxyXG4gICAgICBoYW5kbGVVcGRhdGVSdWxlKHsgcnVsZUlkOiBuZXdSdWxlSWQsIGFmZmVjdGZsZGtleXMsIGRlcGZsZGtleXMgfSlcclxuICAgICAgc2V0QWN0aXZlUnVsZShuZXdSdWxlSWQpXHJcbiAgICB9XHJcbiAgICBoYW5kbGVVcGRhdGVSdWxlKHsgYWZmZWN0Zmxka2V5cywgZGVwZmxka2V5cyB9KVxyXG4gICAgY29uc3QgbmV3UnVsZXMgPSBhY3RpdmVSdWxlPy5pbmNsdWRlcygnbmV3X3J1bGVfJykgPyBnbG9iYWxSdWxlcy5jb25jYXQodXBkYXRlUnVsZSkgOiBnbG9iYWxSdWxlcy5tYXAoKHJ1bGU6IGFueSkgPT4ge1xyXG4gICAgICBpZiAocnVsZS5ydWxlSWQgPT09IGFjdGl2ZVJ1bGUpIHtcclxuICAgICAgICByZXR1cm4gdXBkYXRlUnVsZVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBydWxlXHJcbiAgICB9KVxyXG4gICAgc2V0RGlzcGxheVJ1bGVzKG5ld1J1bGVzKVxyXG4gICAgY29uc29sZS5sb2coJ2Rpc3BsYXlSdWxlcy0tLS0tJywgZ2V0RGlzcGxheVJ1bGVzKCkpXHJcbiAgICByZWZyZXNoRWRpdG9yRGlzcGxheSgpXHJcbiAgICBXZWJNc2cuc2hvd05vdGlmaWNhdGlvbk1zZyh7IHBhcmFtOiBbeyB0eXBlOiAwLCBjb250ZW50OiAn5L+d5a2Y5oiQ5Yqf44CCJywgZHVyYXRpb246IDIwMDAgfV0gfSlcclxuICB9XHJcblxyXG4gIC8vIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgLy8gICBjb25zdCBjYiA9IChhcmdzKSA9PiB7XHJcbiAgLy8gICAgIGdldFJ1bGVzKGFyZ3MpXHJcbiAgLy8gICAgIHJlZnJlc2hFZGl0b3JEaXNwbGF5KClcclxuICAvLyAgIH1cclxuICAvLyAgIGV2ZW50QnVzLm9uKFNFVF9GT1JNX1JVTEVTLCBjYilcclxuICAvLyAgIHJldHVybiAoKSA9PiB7XHJcbiAgLy8gICAgIGV2ZW50QnVzLm9mZihTRVRfRk9STV9SVUxFUywgY2IpXHJcbiAgLy8gICB9XHJcbiAgLy8gfSwgW10pXHJcblxyXG4gIC8vIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgLy8gICBjb25zdCBleGVjRGVsZXRlID0gKGRlbGV0ZUlkOiBhbnkpID0+IHtcclxuICAvLyAgICAgY29uc3QgbmV4dFNlbGVjdGVkSWQgPSBnZXROZXh0U2VsZWN0UnVsZUlkKGRlbGV0ZUlkKVxyXG4gIC8vICAgICBzZXRBY3RpdmVSdWxlKG5leHRTZWxlY3RlZElkKVxyXG4gIC8vICAgICBzZXRSdWxlcygoYXJyOiBhbnlbXSkgPT4gYXJyPy5maWx0ZXIoKGl0ZW06IGFueSkgPT4gaXRlbS5ydWxlSWQgIT09IGRlbGV0ZUlkKSlcclxuICAvLyAgICAgZGVsZXRlR2xvYmFsRGlzcGxheVJ1bGVzKGRlbGV0ZUlkKVxyXG4gIC8vICAgfVxyXG4gIC8vICAgZXZlbnRCdXMub24oREVMRVRFX0ZPUk1fUlVMRSwgZXhlY0RlbGV0ZSlcclxuICAvLyAgIHJldHVybiAoKSA9PiB7XHJcbiAgLy8gICAgIGV2ZW50QnVzLm9mZihERUxFVEVfRk9STV9SVUxFLCBleGVjRGVsZXRlKVxyXG4gIC8vICAgfVxyXG4gIC8vIH0sIFtzZXRSdWxlcywgYWN0aXZlUnVsZV0pXHJcblxyXG4gIC8vIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgLy8gICBjb25zdCB1cGRhdGVSdWxlID0gKHJ1bGVJbmZvOiBhbnkpID0+IHtcclxuICAvLyAgICAgaGFuZGxlVXBkYXRlUnVsZShydWxlSW5mbylcclxuICAvLyAgICAgc2V0QWN0aXZlUnVsZShydWxlSW5mby5ydWxlSWQpXHJcbiAgLy8gICAgIHVwZGF0ZUdsb2JhbERpc3BsYXlSdWxlcyhydWxlSW5mbylcclxuICAvLyAgIH1cclxuICAvLyAgIGV2ZW50QnVzLm9uKFNFVF9SVUxFX0lORk8sIHVwZGF0ZVJ1bGUpXHJcbiAgLy8gICByZXR1cm4gKCkgPT4ge1xyXG4gIC8vICAgICBldmVudEJ1cy5vZmYoU0VUX1JVTEVfSU5GTywgdXBkYXRlUnVsZSlcclxuICAvLyAgIH1cclxuICAvLyB9LCBbc2V0UnVsZXMsIGFjdGl2ZVJ1bGVdKVxyXG5cclxuICAvLyB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4ge1xyXG4gIC8vICAgcmV0dXJuIHtcclxuICAvLyAgICAgZ2V0UnVsZXMoKSB7XHJcbiAgLy8gICAgICAgcmV0dXJuIHJ1bGVzPy5tYXAoaXRlbSA9PiB7XHJcbiAgLy8gICAgICAgICBjb25zdCBkZXBmbGRrZXlzID0gaXRlbS5kZXBmbGRrZXlzID09PSAnbnVsbCcgPyAnJyA6IGl0ZW0uZGVwZmxka2V5c1xyXG4gIC8vICAgICAgICAgY29uc3QgYWZmZWN0Zmxka2V5cyA9IGl0ZW0uYWZmZWN0Zmxka2V5cyA9PT0gJ251bGwnID8gJycgOiBpdGVtLmFmZmVjdGZsZGtleXNcclxuICAvLyAgICAgICAgIHJldHVybiB7IC4uLml0ZW0sIGRlcGZsZGtleXMsIGFmZmVjdGZsZGtleXMgfVxyXG4gIC8vICAgICAgIH0pXHJcbiAgLy8gICAgIH1cclxuICAvLyAgIH1cclxuICAvLyB9LCBbcnVsZXNdKVxyXG5cclxuICBjb25zdCBhY3RpdmVSdWxlSW5mbyA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgY29uc3QgZGF0YSA9IGFjdGl2ZVJ1bGUgPyBydWxlcz8uZmluZChpdGVtID0+IGl0ZW0ucnVsZUlkID09PSBhY3RpdmVSdWxlKSA6IHt9XHJcbiAgICByZXR1cm4gZGF0YVxyXG4gIH0sIFthY3RpdmVSdWxlLCBydWxlc10pXHJcblxyXG4gIC8vIGNvbnN0IHNvcnRlZFJ1bGVzID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgLy8gICBpZiAocnVsZXM/Lmxlbmd0aCA9PT0gMSkgcmV0dXJuIHJ1bGVzXHJcbiAgLy8gICByZXR1cm4gcnVsZXM/LnNvcnQoKGEsIGIpID0+IHtcclxuICAvLyAgICAgY29uc3QgeyBkZXBmbGRrZXlzLCBhZmZlY3RmbGRrZXlzIH0gPSBhXHJcbiAgLy8gICAgIGlmIChkZXBmbGRrZXlzLmluY2x1ZGVzKGZpZWxkS2V5KSAmJiBhZmZlY3RmbGRrZXlzLmluY2x1ZGVzKGZpZWxkS2V5KSkge1xyXG4gIC8vICAgICAgIHJldHVybiAtMVxyXG4gIC8vICAgICB9XHJcbiAgLy8gICAgIGlmIChkZXBmbGRrZXlzLmluY2x1ZGVzKGZpZWxkS2V5KSkge1xyXG4gIC8vICAgICAgIHJldHVybiAtMVxyXG4gIC8vICAgICB9XHJcbiAgLy8gICAgIGlmIChhZmZlY3RmbGRrZXlzLmluY2x1ZGVzKGZpZWxkS2V5KSkge1xyXG4gIC8vICAgICAgIHJldHVybiAtMVxyXG4gIC8vICAgICB9XHJcbiAgLy8gICAgIHJldHVybiAwXHJcbiAgLy8gICB9KVxyXG4gIC8vIH0sIFtydWxlcywgZmllbGRLZXldKVxyXG5cclxuICBjb25zdCByZW5kZXJSdWxlcyA9ICgpID0+IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDw+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2xlZnQtYXJlYSc+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncnVsZS1saXN0Jz5cclxuICAgICAgICAgICAge3J1bGVzPy5tYXAocnVsZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgeyBuYW1lLCBydWxlSWQ6IGlkLCBkZXBmbGRrZXlzLCBhZmZlY3RmbGRrZXlzIH0gPSBydWxlXHJcbiAgICAgICAgICAgICAgLy8gY29uc3Qgc2V0dGVkS2V5cyA9IFsuLi5uZXcgU2V0KFsuLi5kZXBmbGRrZXlzLnNwbGl0KCcsJyksIC4uLmFmZmVjdGZsZGtleXMuc3BsaXQoJywnKV0pXS5maWx0ZXIoQm9vbGVhbilcclxuICAgICAgICAgICAgICAvLyBjb25zdCBoYXNVbkV4aXRGaWVsZCA9IGFsbEZpZWxkS2V5cy5sZW5ndGggPyBzZXR0ZWRLZXlzLmZpbmQoKGtleTogc3RyaW5nKSA9PiAhYWxsRmllbGRLZXlzLmluY2x1ZGVzKGtleSkpIDogZmFsc2VcclxuICAgICAgICAgICAgICBjb25zdCBoYXNVbkV4aXRGaWVsZCA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdydWxlLWl0ZW0nLCB7ICdpcy1hY3RpdmUnOiBhY3RpdmVSdWxlID09PSBpZCB9KX0ga2V5PXtpZH0gb25DbGljaz17KCkgPT4gc2V0QWN0aXZlUnVsZShpZCl9PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncnVsZS1uYW1lJz57bmFtZX08SWNvbiBwcmVmaXg9J25jaWNvbicgdHlwZT0namluZ3NoaScgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd3YXJuaW5nLWljb24nLCB7ICdzaG93JzogaGFzVW5FeGl0RmllbGQgfSl9Lz48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RhZ3MnPlxyXG4gICAgICAgICAgICAgICAgICAgIHtkZXBmbGRrZXlzLmluY2x1ZGVzKGZpZWxkS2V5KSAmJiA8c3BhbiBjbGFzc05hbWU9J3RhZy1pdGVtJz7op6blj5E8L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAgICAgIHthZmZlY3RmbGRrZXlzLmluY2x1ZGVzKGZpZWxkS2V5KSAmJiA8c3BhbiBjbGFzc05hbWU9J3RhZy1pdGVtJz7lj5flvbHlk43nmoQ8L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2RlbGV0ZS1idG4nIG9uQ2xpY2s9eyhlKSA9PiBoYW5kbGVEZWxldGVSdWxlKGUsIG5hbWUsIGlkKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPEljb24gcHJlZml4PSdkZXNpZ25lcmljb24nIHR5cGU9J3NoYW5jaHUnIC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9KX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2FkZC1ydWxlJyBvbkNsaWNrPXtoYW5kbGVBZGRSdWxlfT5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdhZGQtYnRuJz48SWNvbiBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nemVuZ2ppYS15dWFuJyAvPuaWsOWinuinhOWImTwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdyaWdodC1hcmVhJz5cclxuICAgICAgICAgIDxSdWxlU2V0dGluZ0Zvcm1cclxuICAgICAgICAgICAga2V5PXthY3RpdmVSdWxlfVxyXG4gICAgICAgICAgICBwcmVmaXhDbHM9e3ByZWZpeENsc31cclxuICAgICAgICAgICAgdmFsdWU9e2FjdGl2ZVJ1bGVJbmZvfVxyXG4gICAgICAgICAgICBmaWVsZEtleT17ZmllbGRLZXl9XHJcbiAgICAgICAgICAgIHJ1bGVJZD17YWN0aXZlUnVsZX1cclxuICAgICAgICAgICAgbGlzdEZpbHRlckNvbmZpZz17bGlzdEZpbHRlckNvbmZpZ31cclxuICAgICAgICAgICAgZmllbGRPcHRpb25zPXtmaWVsZE9wdGlvbnN9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVVcGRhdGVSdWxlfVxyXG4gICAgICAgICAgICBvblNhdmU9e3VwZGF0ZUdsb2JhbERpc3BsYXlSdWxlc31cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvPlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgaWYgKCFydWxlcykgcmV0dXJuIG51bGxcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tbWFpbmB9PlxyXG4gICAgICB7cnVsZXMubGVuZ3RoID8gcmVuZGVyUnVsZXMoKSA6IChcclxuICAgICAgICA8UnVsZUVtcHR5IGhhbmRsZUFkZD17aGFuZGxlQWRkUnVsZX0gLz5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gIClcclxufSlcclxuXHJcbmNvbnN0IFJ1bGVTZXR0aW5nTW9kYWw6IEZDPFJ1bGVTZXR0aW5nTW9kYWxQcm9wcz4gPSAoe1xyXG4gIHByZWZpeENscyxcclxuICB0aXRsZSxcclxuICB2aXNpYmxlLFxyXG4gIHNldFZpc2libGUsXHJcbiAgZmllbGQsXHJcbiAgcmVmcmVzaEVkaXRvckRpc3BsYXlcclxufSkgPT4ge1xyXG4gIGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKVxyXG4gIC8vIOeCueWHu+WPlua2iFxyXG4gIGNvbnN0IGhhbmRsZUNhbmNlbCA9ICgpID0+IHtcclxuICAgIHNldFZpc2libGUoZmFsc2UpXHJcbiAgfVxyXG4gIHJldHVybiAoXHJcbiAgICA8TW9kYWxcclxuICAgICAgbWFza1xyXG4gICAgICB2aXNpYmxlPXt2aXNpYmxlfVxyXG4gICAgICBib2R5PXs8TW9kYWxCb2R5IHJlZj17cmVmfSBwcmVmaXhDbHM9e3ByZWZpeENsc30gZmllbGQ9e2ZpZWxkfSByZWZyZXNoRWRpdG9yRGlzcGxheT17cmVmcmVzaEVkaXRvckRpc3BsYXl9IC8+fVxyXG4gICAgICB0aXRsZUljb249e251bGx9XHJcbiAgICAgIGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1tb2RhbGB9XHJcbiAgICAgIGZvb3Rlcj17bnVsbH1cclxuICAgICAgbWFza0Nsb3NhYmxlPXtmYWxzZX1cclxuICAgICAgd2lkdGg9ezk2MH1cclxuICAgICAgaGVpZ2h0PXs1MjB9XHJcbiAgICAgIGtleWJvYXJkPXtmYWxzZX1cclxuICAgICAgdGl0bGU9ezxzcGFuIHRpdGxlPXt0aXRsZX0+e3RpdGxlfTwvc3Bhbj59XHJcbiAgICAgIGNsb3NhYmxlXHJcbiAgICAgIGRyYWdnYWJsZT17ZmFsc2V9XHJcbiAgICAgIGRlc3Ryb3lPbkNsb3NlXHJcbiAgICAgIG9uQ2FuY2VsPXtoYW5kbGVDYW5jZWx9XHJcbiAgICAgIG9uT2s9e2hhbmRsZUNhbmNlbH1cclxuICAgIC8+XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSdWxlU2V0dGluZ01vZGFsXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6412\n");

/***/ }),

/***/ 86055:
/*!**************************************************!*\
  !*** ./src/editors/DisplayRules/TrueActions.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/map */ 52892);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 61260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../utils */ 41232);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _utils_treeUtils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../utils/treeUtils */ 31340);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__);\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar exludeTreeNodeByCallback = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__.treeUtils.exludeTreeNodeByCallback;\nvar ACTION_TYPE_NORMAL = 1;\nvar ACTION_TYPE_DISABLED = 2;\nvar ACTION_TYPE_READONLY = 3;\nvar ACTION_TYPE_HIDDEN = 4;\nvar ACTION_TYPE_REQUIRED = 5;\nvar ACTION_TYPE_DISABLED_REQUIRED = 6;\nvar ACTION_TYPES = [{\n  value: ACTION_TYPE_NORMAL,\n  label: '编辑'\n}, {\n  value: ACTION_TYPE_DISABLED,\n  label: '禁用'\n}, {\n  value: ACTION_TYPE_READONLY,\n  label: '只读'\n}, {\n  value: ACTION_TYPE_HIDDEN,\n  label: '隐藏'\n}, {\n  value: ACTION_TYPE_REQUIRED,\n  label: '必录'\n}, {\n  value: ACTION_TYPE_DISABLED_REQUIRED,\n  label: '非必录'\n}];\nvar ACTION_TYPES_DISABLED_MAP = new (_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_8___default())([[ACTION_TYPE_NORMAL, ['NoCodeGraphicDisplayField']], [ACTION_TYPE_DISABLED, ['NoCodeGraphicDisplayField', 'NoCodeGroupContainerAp']], [ACTION_TYPE_READONLY, ['NoCodeGroupContainerAp']], [ACTION_TYPE_HIDDEN, []], [ACTION_TYPE_REQUIRED, ['NoCodeGraphicDisplayField', 'NoCodeGroupContainerAp']], [ACTION_TYPE_DISABLED_REQUIRED, ['NoCodeGraphicDisplayField', 'NoCodeGroupContainerAp']]]);\nvar TrueActions = function TrueActions(_ref) {\n  var _context;\n  var initialValue = _ref.value,\n    onChange = _ref.onChange,\n    fieldOptions = _ref.fieldOptions;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useState)(initialValue || []),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState, 2),\n    values = _useState2[0],\n    setValues = _useState2[1];\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useContext)(_context__WEBPACK_IMPORTED_MODULE_15__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data;\n  var uids = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useRef)(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(_context = new Array((values === null || values === void 0 ? void 0 : values.length) || 0)).call(_context, designer_base_Main__WEBPACK_IMPORTED_MODULE_20__.createUUid));\n  var handleAddItem = function handleAddItem() {\n    var _context2;\n    var newValues = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context2 = []).call(_context2, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(values), [{\n      actionType: '',\n      fieldName: []\n    }]);\n    setValues(newValues);\n    uids.current.push((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_20__.createUUid)());\n    onChange(newValues);\n  };\n  var handleDeleteItem = function handleDeleteItem(index) {\n    var _context3;\n    var newValues = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(values);\n    _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_11___default()(newValues).call(newValues, index, 1);\n    _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_11___default()(_context3 = uids.current).call(_context3, index, 1);\n    setValues(newValues);\n    onChange(newValues);\n  };\n\n  // 清空值\n  var handleClearAll = function handleClearAll() {\n    setValues([]);\n    onChange([]);\n    uids.current = [];\n  };\n  var handleActionTypeChange = function handleActionTypeChange(value, index) {\n    var oldValue = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_12___default()(values).call(values, function (item, idx) {\n      return idx === index;\n    }).actionType;\n    if (value === oldValue) return;\n    /**\n     * 显示动作（编辑、禁用、只读、隐藏）上下级联动选中\n     *  校验动作（必填、非必填）不联动\n     *  两种类型动作相互切换时，右侧所选内容清空处理\n     */\n    var needsClearFields = oldValue < 5 && value > 4 || value < 5 && oldValue > 4;\n    var newValues = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(values).call(values, function (v, i) {\n      if (index === i) {\n        var fieldName = v.fieldName;\n        var disabledControlTypes = ACTION_TYPES_DISABLED_MAP.get(value) || [];\n        // 兼容以前单选的string类型，统一转为array\n        var fieldNames = (0,_utils__WEBPACK_IMPORTED_MODULE_16__.convertToArray)(fieldName);\n        var disabledFieldNames = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(fieldNames).call(fieldNames, function (id) {\n          var _dataContext$findCont;\n          var _ref2 = ((_dataContext$findCont = dataContext.findControlByCondition(function (item) {\n              return item.Key === id;\n            })) === null || _dataContext$findCont === void 0 ? void 0 : _dataContext$findCont[0]) || {},\n            _Type_ = _ref2._Type_;\n          return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(disabledControlTypes).call(disabledControlTypes, _Type_);\n        });\n        if (needsClearFields) {\n          return {\n            fieldName: [],\n            actionType: value\n          };\n        }\n        return disabledFieldNames.length ? {\n          fieldName: _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(fieldNames).call(fieldNames, function (id) {\n            return !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(disabledFieldNames).call(disabledFieldNames, id);\n          }),\n          actionType: value\n        } : _objectSpread(_objectSpread({}, v), {}, {\n          actionType: value\n        });\n      }\n      return v;\n    });\n    setValues(newValues);\n    onChange(newValues);\n  };\n  var handleFieldNameChange = function handleFieldNameChange(value, index) {\n    var newValues = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(values).call(values, function (v, i) {\n      if (index === i) {\n        return _objectSpread(_objectSpread({}, v), {}, {\n          fieldName: value\n        });\n      }\n      return v;\n    });\n    setValues(newValues);\n    onChange(newValues);\n  };\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_14__.useEffect)(function () {\n    var newVal = initialValue || [];\n    if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__.isEqual)(newVal, values)) {\n      var _context4;\n      setValues(newVal);\n      uids.current = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(_context4 = new Array((newVal === null || newVal === void 0 ? void 0 : newVal.length) || 0)).call(_context4, designer_base_Main__WEBPACK_IMPORTED_MODULE_20__.createUUid);\n    }\n  }, [initialValue]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(\"div\", {\n    className: \"display-rule-true-actions\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.ConfigProvider, {\n    value: {\n      prefixCls: 'kd'\n    }\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(values).call(values, function (obj, index) {\n    var _context5;\n    var actionType = obj.actionType,\n      fieldName = obj.fieldName;\n    var disabledControlTypes = ACTION_TYPES_DISABLED_MAP.get(actionType) || [];\n    var filteredFieldOptions = exludeTreeNodeByCallback(fieldOptions, function (node) {\n      var type = node.type,\n        children = node.children;\n      if (!_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(disabledControlTypes).call(disabledControlTypes, type)) {\n        return true;\n      } else if (children.length) {\n        return true;\n      }\n      return false;\n    });\n    var filteredFieldKeys = (0,_utils_treeUtils__WEBPACK_IMPORTED_MODULE_18__.deepGetTreeNodeValue)(filteredFieldOptions, 'key');\n    // 兼容以前单选的string类型，统一转为array\n    var fieldNames = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(_context5 = (0,_utils__WEBPACK_IMPORTED_MODULE_16__.convertToArray)(fieldName)).call(_context5, function (key) {\n      return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(filteredFieldKeys).call(filteredFieldKeys, key);\n    });\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(\"div\", {\n      className: \"row_item\",\n      key: uids.current[index]\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Select, {\n      className: \"action-type-select\",\n      value: actionType,\n      options: ACTION_TYPES,\n      placeholder: \"\\u8BF7\\u9009\\u62E9\",\n      borderType: \"bordered\",\n      size: \"middle\",\n      onChange: function onChange(value) {\n        return handleActionTypeChange(value, index);\n      }\n    }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_19__.KDTreeSelect, {\n      mode: \"multiple\",\n      className: \"field-name-select\"\n      // treeDefaultExpandAll\n      ,\n      virtual: false,\n      value: fieldNames,\n      treeData: filteredFieldOptions,\n      showFullLabelTips: true,\n      treeCheckStrictly: actionType > 4,\n      onChange: function onChange(value) {\n        return handleFieldNameChange(value, index);\n      }\n    }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Icon, {\n      className: \"delete_icon\",\n      prefix: \"ncicon\",\n      type: \"xingshanchu\",\n      onClick: function onClick() {\n        return handleDeleteItem(index);\n      }\n    }));\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(\"div\", {\n    className: \"footer-btns\"\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(\"div\", {\n    className: \"add-btn\",\n    onClick: handleAddItem\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_17__.Icon, {\n    prefix: \"nocodeplatformicon\",\n    type: \"zengjia-yuan\"\n  }), \"\\u6DFB\\u52A0\\u89C4\\u5219\\u6548\\u679C\"), !!values.length && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_14___default().createElement(\"div\", {\n    className: \"clear-all\",\n    onClick: handleClearAll\n  }, \"\\u6E05\\u7A7A\")));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (TrueActions);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODYwNTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFTQTtBQUlBO0FBQUE7QUFGQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFJQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2VkaXRvcnMvRGlzcGxheVJ1bGVzL1RydWVBY3Rpb25zLnRzeD9jYmMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDb250ZXh0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQnXG5pbXBvcnQgeyBjb252ZXJ0VG9BcnJheSB9IGZyb20gJy4uLy4uL3V0aWxzJ1xuaW1wb3J0IHsgU2VsZWN0LCBJY29uLCBDb25maWdQcm92aWRlciBhcyBLVUlDb25maWdQcm92aWRlciB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcbmltcG9ydCB7IGRlZXBHZXRUcmVlTm9kZVZhbHVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdHJlZVV0aWxzJ1xuaW1wb3J0IHsgS0RUcmVlU2VsZWN0LCB0cmVlVXRpbHMgfSBmcm9tICdub2NvZGVfY29tcG9uZW50L1dlYlVJJ1xuaW1wb3J0IHsgY3JlYXRlVVVpZCB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IGlzRXF1YWwgfSBmcm9tICdsb2Rhc2gnXG5cbmNvbnN0IHsgZXhsdWRlVHJlZU5vZGVCeUNhbGxiYWNrIH0gPSB0cmVlVXRpbHNcblxuaW50ZXJmYWNlIFRydWVBY3Rpb25zUHJvcHMge1xuICB2YWx1ZTogYW55W107XG4gIGZpZWxkT3B0aW9uczogYW55W107XG4gIG9uQ2hhbmdlOiAobmV3VmFsOiBhbnlbXSkgPT4gdm9pZDtcbn1cblxuY29uc3QgQUNUSU9OX1RZUEVfTk9STUFMID0gMVxuY29uc3QgQUNUSU9OX1RZUEVfRElTQUJMRUQgPSAyXG5jb25zdCBBQ1RJT05fVFlQRV9SRUFET05MWSA9IDNcbmNvbnN0IEFDVElPTl9UWVBFX0hJRERFTiA9IDRcbmNvbnN0IEFDVElPTl9UWVBFX1JFUVVJUkVEID0gNVxuY29uc3QgQUNUSU9OX1RZUEVfRElTQUJMRURfUkVRVUlSRUQgPSA2XG5cbmNvbnN0IEFDVElPTl9UWVBFUyA9IFtcbiAgeyB2YWx1ZTogQUNUSU9OX1RZUEVfTk9STUFMLCBsYWJlbDogJ+e8lui+kScgfSxcbiAgeyB2YWx1ZTogQUNUSU9OX1RZUEVfRElTQUJMRUQsIGxhYmVsOiAn56aB55SoJyB9LFxuICB7IHZhbHVlOiBBQ1RJT05fVFlQRV9SRUFET05MWSwgbGFiZWw6ICflj6ror7snIH0sXG4gIHsgdmFsdWU6IEFDVElPTl9UWVBFX0hJRERFTiwgbGFiZWw6ICfpmpDol48nIH0sXG4gIHsgdmFsdWU6IEFDVElPTl9UWVBFX1JFUVVJUkVELCBsYWJlbDogJ+W/heW9lScgfSxcbiAgeyB2YWx1ZTogQUNUSU9OX1RZUEVfRElTQUJMRURfUkVRVUlSRUQsIGxhYmVsOiAn6Z2e5b+F5b2VJyB9XG5dXG5cbmNvbnN0IEFDVElPTl9UWVBFU19ESVNBQkxFRF9NQVAgPSBuZXcgTWFwKFtcbiAgW0FDVElPTl9UWVBFX05PUk1BTCwgWydOb0NvZGVHcmFwaGljRGlzcGxheUZpZWxkJ11dLFxuICBbQUNUSU9OX1RZUEVfRElTQUJMRUQsIFsnTm9Db2RlR3JhcGhpY0Rpc3BsYXlGaWVsZCcsICdOb0NvZGVHcm91cENvbnRhaW5lckFwJ11dLFxuICBbQUNUSU9OX1RZUEVfUkVBRE9OTFksIFsnTm9Db2RlR3JvdXBDb250YWluZXJBcCddXSxcbiAgW0FDVElPTl9UWVBFX0hJRERFTiwgW11dLFxuICBbQUNUSU9OX1RZUEVfUkVRVUlSRUQsIFsnTm9Db2RlR3JhcGhpY0Rpc3BsYXlGaWVsZCcsICdOb0NvZGVHcm91cENvbnRhaW5lckFwJ11dLFxuICBbQUNUSU9OX1RZUEVfRElTQUJMRURfUkVRVUlSRUQsIFsnTm9Db2RlR3JhcGhpY0Rpc3BsYXlGaWVsZCcsICdOb0NvZGVHcm91cENvbnRhaW5lckFwJ11dXG5dKVxuXG5jb25zdCBUcnVlQWN0aW9uczogUmVhY3QuRkM8VHJ1ZUFjdGlvbnNQcm9wcz4gPSAoe1xuICB2YWx1ZTogaW5pdGlhbFZhbHVlLFxuICBvbkNoYW5nZSxcbiAgZmllbGRPcHRpb25zXG59KSA9PiB7XG4gIGNvbnN0IFt2YWx1ZXMsIHNldFZhbHVlc10gPSB1c2VTdGF0ZTxhbnlbXT4oaW5pdGlhbFZhbHVlIHx8IFtdKVxuICBjb25zdCB7IGdldEtkZXNpZ25lckFwaSB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IHsgZGF0YTogZGF0YUNvbnRleHQgfSA9IGdldEtkZXNpZ25lckFwaSgpXG4gIGNvbnN0IHVpZHMgPSB1c2VSZWY8c3RyaW5nW10+KG5ldyBBcnJheSh2YWx1ZXM/Lmxlbmd0aCB8fCAwKS5tYXAoY3JlYXRlVVVpZCkpXG5cbiAgY29uc3QgaGFuZGxlQWRkSXRlbSA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdWYWx1ZXMgPSBbLi4udmFsdWVzLCB7IGFjdGlvblR5cGU6ICcnLCBmaWVsZE5hbWU6IFtdIH1dXG4gICAgc2V0VmFsdWVzKG5ld1ZhbHVlcylcbiAgICB1aWRzLmN1cnJlbnQucHVzaChjcmVhdGVVVWlkKCkpXG4gICAgb25DaGFuZ2UobmV3VmFsdWVzKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlRGVsZXRlSXRlbSA9IChpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgbmV3VmFsdWVzID0gWy4uLnZhbHVlc11cbiAgICBuZXdWYWx1ZXMuc3BsaWNlKGluZGV4LCAxKVxuICAgIHVpZHMuY3VycmVudC5zcGxpY2UoaW5kZXgsIDEpXG4gICAgc2V0VmFsdWVzKG5ld1ZhbHVlcylcbiAgICBvbkNoYW5nZShuZXdWYWx1ZXMpXG4gIH1cblxuICAvLyDmuIXnqbrlgLxcbiAgY29uc3QgaGFuZGxlQ2xlYXJBbGwgPSAoKSA9PiB7XG4gICAgc2V0VmFsdWVzKFtdKVxuICAgIG9uQ2hhbmdlKFtdKVxuICAgIHVpZHMuY3VycmVudCA9IFtdXG4gIH1cblxuICBjb25zdCBoYW5kbGVBY3Rpb25UeXBlQ2hhbmdlID0gKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdmFsdWVzLmZpbmQoKGl0ZW0sIGlkeCkgPT4gaWR4ID09PSBpbmRleCkuYWN0aW9uVHlwZVxuICAgIGlmICh2YWx1ZSA9PT0gb2xkVmFsdWUpIHJldHVyblxuICAgIC8qKlxuICAgICAqIOaYvuekuuWKqOS9nO+8iOe8lui+keOAgeemgeeUqOOAgeWPquivu+OAgemakOiXj++8ieS4iuS4i+e6p+iBlOWKqOmAieS4rVxuICAgICAqICDmoKHpqozliqjkvZzvvIjlv4XloavjgIHpnZ7lv4XloavvvInkuI3ogZTliqhcbiAgICAgKiAg5Lik56eN57G75Z6L5Yqo5L2c55u45LqS5YiH5o2i5pe277yM5Y+z5L6n5omA6YCJ5YaF5a655riF56m65aSE55CGXG4gICAgICovXG4gICAgY29uc3QgbmVlZHNDbGVhckZpZWxkcyA9IChvbGRWYWx1ZSA8IDUgJiYgdmFsdWUgPiA0KSB8fCAodmFsdWUgPCA1ICYmIG9sZFZhbHVlID4gNClcbiAgICBjb25zdCBuZXdWYWx1ZXMgPSB2YWx1ZXMubWFwKCh2LCBpKSA9PiB7XG4gICAgICBpZiAoaW5kZXggPT09IGkpIHtcbiAgICAgICAgY29uc3QgeyBmaWVsZE5hbWUgfSA9IHZcbiAgICAgICAgY29uc3QgZGlzYWJsZWRDb250cm9sVHlwZXMgPSBBQ1RJT05fVFlQRVNfRElTQUJMRURfTUFQLmdldCh2YWx1ZSkgfHwgW11cbiAgICAgICAgLy8g5YW85a655Lul5YmN5Y2V6YCJ55qEc3RyaW5n57G75Z6L77yM57uf5LiA6L2s5Li6YXJyYXlcbiAgICAgICAgY29uc3QgZmllbGROYW1lcyA9IGNvbnZlcnRUb0FycmF5KGZpZWxkTmFtZSlcbiAgICAgICAgY29uc3QgZGlzYWJsZWRGaWVsZE5hbWVzID0gZmllbGROYW1lcy5maWx0ZXIoKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICBjb25zdCB7IF9UeXBlXyB9ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2xCeUNvbmRpdGlvbigoaXRlbTogYW55KSA9PiBpdGVtLktleSA9PT0gaWQpPy5bMF0gfHwge31cbiAgICAgICAgICByZXR1cm4gZGlzYWJsZWRDb250cm9sVHlwZXMuaW5jbHVkZXMoX1R5cGVfKVxuICAgICAgICB9KVxuICAgICAgICBpZiAobmVlZHNDbGVhckZpZWxkcykge1xuICAgICAgICAgIHJldHVybiB7IGZpZWxkTmFtZTogW10sIGFjdGlvblR5cGU6IHZhbHVlIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlzYWJsZWRGaWVsZE5hbWVzLmxlbmd0aCA/IHsgZmllbGROYW1lOiBmaWVsZE5hbWVzLmZpbHRlcigoaWQ6IHN0cmluZykgPT4gIWRpc2FibGVkRmllbGROYW1lcy5pbmNsdWRlcyhpZCkpLCBhY3Rpb25UeXBlOiB2YWx1ZSB9IDogeyAuLi52LCBhY3Rpb25UeXBlOiB2YWx1ZSB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdlxuICAgIH0pXG4gICAgc2V0VmFsdWVzKG5ld1ZhbHVlcylcbiAgICBvbkNoYW5nZShuZXdWYWx1ZXMpXG4gIH1cblxuICBjb25zdCBoYW5kbGVGaWVsZE5hbWVDaGFuZ2UgPSAodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgbmV3VmFsdWVzID0gdmFsdWVzLm1hcCgodiwgaSkgPT4ge1xuICAgICAgaWYgKGluZGV4ID09PSBpKSB7XG4gICAgICAgIHJldHVybiB7IC4uLnYsIGZpZWxkTmFtZTogdmFsdWUgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHZcbiAgICB9KVxuICAgIHNldFZhbHVlcyhuZXdWYWx1ZXMpXG4gICAgb25DaGFuZ2UobmV3VmFsdWVzKVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBuZXdWYWwgPSBpbml0aWFsVmFsdWUgfHwgW11cbiAgICBpZiAoIWlzRXF1YWwobmV3VmFsLCB2YWx1ZXMpKSB7XG4gICAgICBzZXRWYWx1ZXMobmV3VmFsKVxuICAgICAgdWlkcy5jdXJyZW50ID0gbmV3IEFycmF5KG5ld1ZhbD8ubGVuZ3RoIHx8IDApLm1hcChjcmVhdGVVVWlkKVxuICAgIH1cbiAgfSwgW2luaXRpYWxWYWx1ZV0pXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT0nZGlzcGxheS1ydWxlLXRydWUtYWN0aW9ucyc+XG4gICAgICA8S1VJQ29uZmlnUHJvdmlkZXIgdmFsdWU9e3sgcHJlZml4Q2xzOiAna2QnIH19PlxuICAgICAgICB7dmFsdWVzLm1hcCgob2JqLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgYWN0aW9uVHlwZSwgZmllbGROYW1lIH0gPSBvYmpcbiAgICAgICAgICBjb25zdCBkaXNhYmxlZENvbnRyb2xUeXBlcyA9IEFDVElPTl9UWVBFU19ESVNBQkxFRF9NQVAuZ2V0KGFjdGlvblR5cGUpIHx8IFtdXG4gICAgICAgICAgY29uc3QgZmlsdGVyZWRGaWVsZE9wdGlvbnMgPSBleGx1ZGVUcmVlTm9kZUJ5Q2FsbGJhY2soZmllbGRPcHRpb25zLCAobm9kZTogYW55KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHR5cGUsIGNoaWxkcmVuIH0gPSBub2RlXG4gICAgICAgICAgICBpZiAoIWRpc2FibGVkQ29udHJvbFR5cGVzLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgICBjb25zdCBmaWx0ZXJlZEZpZWxkS2V5cyA9IGRlZXBHZXRUcmVlTm9kZVZhbHVlKGZpbHRlcmVkRmllbGRPcHRpb25zLCAna2V5JylcbiAgICAgICAgICAvLyDlhbzlrrnku6XliY3ljZXpgInnmoRzdHJpbmfnsbvlnovvvIznu5/kuIDovazkuLphcnJheVxuICAgICAgICAgIGNvbnN0IGZpZWxkTmFtZXMgPSBjb252ZXJ0VG9BcnJheShmaWVsZE5hbWUpLmZpbHRlcigoa2V5OiBzdHJpbmcpID0+IGZpbHRlcmVkRmllbGRLZXlzLmluY2x1ZGVzKGtleSkpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdyb3dfaXRlbScga2V5PXt1aWRzLmN1cnJlbnRbaW5kZXhdfT5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYWN0aW9uLXR5cGUtc2VsZWN0J1xuICAgICAgICAgICAgICAgIHZhbHVlPXthY3Rpb25UeXBlfVxuICAgICAgICAgICAgICAgIG9wdGlvbnM9e0FDVElPTl9UWVBFU31cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0n6K+36YCJ5oupJ1xuICAgICAgICAgICAgICAgIGJvcmRlclR5cGU9J2JvcmRlcmVkJ1xuICAgICAgICAgICAgICAgIHNpemU9J21pZGRsZSdcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiBoYW5kbGVBY3Rpb25UeXBlQ2hhbmdlKHZhbHVlLCBpbmRleCl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxLRFRyZWVTZWxlY3RcbiAgICAgICAgICAgICAgICBtb2RlPSdtdWx0aXBsZSdcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2ZpZWxkLW5hbWUtc2VsZWN0J1xuICAgICAgICAgICAgICAgIC8vIHRyZWVEZWZhdWx0RXhwYW5kQWxsXG4gICAgICAgICAgICAgICAgdmlydHVhbD17ZmFsc2V9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2ZpZWxkTmFtZXN9XG4gICAgICAgICAgICAgICAgdHJlZURhdGE9e2ZpbHRlcmVkRmllbGRPcHRpb25zfVxuICAgICAgICAgICAgICAgIHNob3dGdWxsTGFiZWxUaXBzXG4gICAgICAgICAgICAgICAgdHJlZUNoZWNrU3RyaWN0bHk9e2FjdGlvblR5cGUgPiA0fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IGhhbmRsZUZpZWxkTmFtZUNoYW5nZSh2YWx1ZSwgaW5kZXgpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8SWNvbiBjbGFzc05hbWU9J2RlbGV0ZV9pY29uJyBwcmVmaXg9J25jaWNvbicgdHlwZT0neGluZ3NoYW5jaHUnIG9uQ2xpY2s9eygpID0+IGhhbmRsZURlbGV0ZUl0ZW0oaW5kZXgpfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKVxuICAgICAgICB9KX1cbiAgICAgIDwvS1VJQ29uZmlnUHJvdmlkZXI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZm9vdGVyLWJ0bnMnPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYWRkLWJ0bicgb25DbGljaz17aGFuZGxlQWRkSXRlbX0+XG4gICAgICAgICAgPEljb24gcHJlZml4PSdub2NvZGVwbGF0Zm9ybWljb24nIHR5cGU9J3plbmdqaWEteXVhbicgLz7mt7vliqDop4TliJnmlYjmnpxcbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHshIXZhbHVlcy5sZW5ndGggJiYgPGRpdiBjbGFzc05hbWU9J2NsZWFyLWFsbCcgb25DbGljaz17aGFuZGxlQ2xlYXJBbGx9Pua4heepujwvZGl2Pn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IFRydWVBY3Rpb25zXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///86055\n");

/***/ }),

/***/ 82772:
/*!********************************************!*\
  !*** ./src/editors/DisplayRules/index.tsx ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAffectfldsOrDepflds: function() { return /* binding */ getAffectfldsOrDepflds; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 24496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _RuleSettingModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./RuleSettingModal */ 6412);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n\n/**\r\n * 显示逻辑属性编辑\r\n */\n\n\n\n\nvar getAffectfldsOrDepflds = function getAffectfldsOrDepflds(rule) {\n  var _rule$preCondition = rule.preCondition,\n    preCondition = _rule$preCondition === void 0 ? [] : _rule$preCondition,\n    _rule$trueAction = rule.trueAction,\n    trueAction = _rule$trueAction === void 0 ? [] : _rule$trueAction;\n  var ruleInfoJson = _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(preCondition);\n  var affectfldkeys = (trueAction || []).reduce(function (res, item) {\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(res).call(res, item.fieldName || []);\n  }, []).join();\n  var matches = ruleInfoJson === null || ruleInfoJson === void 0 ? void 0 : ruleInfoJson.match(/\\${model\\.[\\w_]+}/g);\n  var depfldkeys = (matches === null || matches === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(matches).call(matches, function (str) {\n    return str.replace(/\\${model\\.([\\w_]+)}/, '$1');\n  })) || '';\n  return {\n    affectfldkeys: affectfldkeys,\n    depfldkeys: depfldkeys\n  };\n};\nvar DisplayRules = function DisplayRules(props) {\n  var locked = props.locked,\n    field = props.field;\n  var controlName = field.Name,\n    fieldKey = field.Key;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    modalVisible = _useState2[0],\n    setModalVisible = _useState2[1];\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useContext)(_context__WEBPACK_IMPORTED_MODULE_8__.DesignerContext),\n    invokeAction = _useContext.invokeAction,\n    prefixCls = _useContext.prefixCls,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    getDisplayRules = _useContext.getDisplayRules,\n    fetchListTree = _useContext.fetchListTree;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data;\n  var formId = dataContext.getRootId();\n  var savedRules = getDisplayRules();\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useReducer)(function (n) {\n      return n + 1;\n    }, 0),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useReducer, 2),\n    refreshEditorDisplay = _useReducer2[1];\n  var handleClick = function handleClick() {\n    // invokeAction('getFormRules', [{ formId, fieldKey }])\n    fetchListTree();\n    setModalVisible(true);\n  };\n  var editorDisplay = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(function () {\n    var ruleCount = savedRules.reduce(function (count, rule) {\n      var _getAffectfldsOrDepfl = getAffectfldsOrDepflds(rule),\n        affectfldkeys = _getAffectfldsOrDepfl.affectfldkeys,\n        depfldkeys = _getAffectfldsOrDepfl.depfldkeys;\n      if (affectfldkeys !== null && affectfldkeys !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5___default()(affectfldkeys).call(affectfldkeys, fieldKey) || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5___default()(depfldkeys).call(depfldkeys, fieldKey)) {\n        return count + 1;\n      }\n      return count;\n    }, 0);\n    return ruleCount !== 0 ? \"\".concat(ruleCount, \"\\u6761\\u89C4\\u5219\") : '';\n  }, [savedRules, fieldKey]);\n  var modalPrefixCls = \"\".concat(prefixCls, \"-displayrules\");\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.CustomInputTrigger, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n    placeholder: \"\\u8BF7\\u9009\\u62E9\",\n    disabled: locked,\n    value: editorDisplay,\n    onClick: handleClick,\n    onInputClick: handleClick\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_RuleSettingModal__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    prefixCls: modalPrefixCls,\n    visible: modalVisible,\n    setVisible: setModalVisible,\n    field: field,\n    title: \"\".concat(controlName, \"-\\u663E\\u793A\\u89C4\\u5219\"),\n    refreshEditorDisplay: refreshEditorDisplay\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DisplayRules);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODI3NzIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2VkaXRvcnMvRGlzcGxheVJ1bGVzL2luZGV4LnRzeD80MTliIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDmmL7npLrpgLvovpHlsZ7mgKfnvJbovpFcclxuICovXHJcbmltcG9ydCBSZWFjdCwgeyBGQywgdXNlU3RhdGUsIHVzZUNvbnRleHQsIHVzZU1lbW8sIHVzZVJlZHVjZXIgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IFJ1bGVTZXR0aW5nTW9kYWwgZnJvbSAnLi9SdWxlU2V0dGluZ01vZGFsJ1xyXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0J1xyXG5pbXBvcnQgeyBDdXN0b21JbnB1dFRyaWdnZXIsIFByb3BlcnR5RWRpdG9yUHJvcHMgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXHJcblxyXG5leHBvcnQgY29uc3QgZ2V0QWZmZWN0Zmxkc09yRGVwZmxkcyA9IChydWxlOiBhbnkpID0+IHtcclxuICBjb25zdCB7IHByZUNvbmRpdGlvbiA9IFtdLCB0cnVlQWN0aW9uID0gW10gfSA9IHJ1bGVcclxuICBjb25zdCBydWxlSW5mb0pzb24gPSBKU09OLnN0cmluZ2lmeShwcmVDb25kaXRpb24pXHJcbiAgY29uc3QgYWZmZWN0Zmxka2V5cyA9ICh0cnVlQWN0aW9uIHx8IFtdKS5yZWR1Y2UoKHJlcywgaXRlbSkgPT4gcmVzLmNvbmNhdChpdGVtLmZpZWxkTmFtZSB8fCBbXSksIFtdKS5qb2luKClcclxuICBjb25zdCBtYXRjaGVzID0gcnVsZUluZm9Kc29uPy5tYXRjaCgvXFwke21vZGVsXFwuW1xcd19dK30vZylcclxuICBjb25zdCBkZXBmbGRrZXlzID0gbWF0Y2hlcz8ubWFwKHN0ciA9PiBzdHIucmVwbGFjZSgvXFwke21vZGVsXFwuKFtcXHdfXSspfS8sICckMScpKSB8fCAnJ1xyXG4gIHJldHVybiB7IGFmZmVjdGZsZGtleXMsIGRlcGZsZGtleXMgfVxyXG59XHJcblxyXG5jb25zdCBEaXNwbGF5UnVsZXM6IEZDPFByb3BlcnR5RWRpdG9yUHJvcHM+ID0gKHByb3BzKSA9PiB7XHJcbiAgY29uc3QgeyBsb2NrZWQsIGZpZWxkIH0gPSBwcm9wc1xyXG4gIGNvbnN0IHsgTmFtZTogY29udHJvbE5hbWUsIEtleTogZmllbGRLZXkgfSA9IGZpZWxkXHJcbiAgY29uc3QgW21vZGFsVmlzaWJsZSwgc2V0TW9kYWxWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG4gIGNvbnN0IHsgaW52b2tlQWN0aW9uLCBwcmVmaXhDbHMsIGdldEtkZXNpZ25lckFwaSwgZ2V0RGlzcGxheVJ1bGVzLCBmZXRjaExpc3RUcmVlIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcclxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0IH0gPSBnZXRLZGVzaWduZXJBcGkoKVxyXG4gIGNvbnN0IGZvcm1JZCA9IGRhdGFDb250ZXh0LmdldFJvb3RJZCgpXHJcbiAgY29uc3Qgc2F2ZWRSdWxlcyA9IGdldERpc3BsYXlSdWxlcygpXHJcbiAgY29uc3QgWywgcmVmcmVzaEVkaXRvckRpc3BsYXldID0gdXNlUmVkdWNlcihuID0+IG4gKyAxLCAwKVxyXG5cclxuICBjb25zdCBoYW5kbGVDbGljayA9ICgpID0+IHtcclxuICAgIC8vIGludm9rZUFjdGlvbignZ2V0Rm9ybVJ1bGVzJywgW3sgZm9ybUlkLCBmaWVsZEtleSB9XSlcclxuICAgIGZldGNoTGlzdFRyZWUoKVxyXG4gICAgc2V0TW9kYWxWaXNpYmxlKHRydWUpXHJcbiAgfVxyXG5cclxuICBjb25zdCBlZGl0b3JEaXNwbGF5ID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBjb25zdCBydWxlQ291bnQgPSBzYXZlZFJ1bGVzLnJlZHVjZSgoY291bnQ6IG51bWJlciwgcnVsZTogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgYWZmZWN0Zmxka2V5cywgZGVwZmxka2V5cyB9ID0gZ2V0QWZmZWN0Zmxkc09yRGVwZmxkcyhydWxlKVxyXG4gICAgICBpZiAoYWZmZWN0Zmxka2V5cz8uaW5jbHVkZXMoZmllbGRLZXkpIHx8IGRlcGZsZGtleXMuaW5jbHVkZXMoZmllbGRLZXkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvdW50ICsgMVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBjb3VudFxyXG4gICAgfSwgMClcclxuICAgIHJldHVybiBydWxlQ291bnQgIT09IDAgPyBgJHtydWxlQ291bnR95p2h6KeE5YiZYCA6ICcnXHJcbiAgfSwgW3NhdmVkUnVsZXMsIGZpZWxkS2V5XSlcclxuXHJcbiAgY29uc3QgbW9kYWxQcmVmaXhDbHMgPSBgJHtwcmVmaXhDbHN9LWRpc3BsYXlydWxlc2BcclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAgPEN1c3RvbUlucHV0VHJpZ2dlclxyXG4gICAgICAgIHsuLi5wcm9wc31cclxuICAgICAgICBwbGFjZWhvbGRlcj0n6K+36YCJ5oupJ1xyXG4gICAgICAgIGRpc2FibGVkPXtsb2NrZWR9XHJcbiAgICAgICAgdmFsdWU9e2VkaXRvckRpc3BsYXl9XHJcbiAgICAgICAgb25DbGljaz17aGFuZGxlQ2xpY2t9XHJcbiAgICAgICAgb25JbnB1dENsaWNrPXtoYW5kbGVDbGlja31cclxuICAgICAgLz5cclxuICAgICAgPFJ1bGVTZXR0aW5nTW9kYWxcclxuICAgICAgICBwcmVmaXhDbHM9e21vZGFsUHJlZml4Q2xzfVxyXG4gICAgICAgIHZpc2libGU9e21vZGFsVmlzaWJsZX1cclxuICAgICAgICBzZXRWaXNpYmxlPXtzZXRNb2RhbFZpc2libGV9XHJcbiAgICAgICAgZmllbGQ9e2ZpZWxkfVxyXG4gICAgICAgIHRpdGxlPXtgJHtjb250cm9sTmFtZX0t5pi+56S66KeE5YiZYH1cclxuICAgICAgICByZWZyZXNoRWRpdG9yRGlzcGxheT17cmVmcmVzaEVkaXRvckRpc3BsYXl9XHJcbiAgICAgIC8+XHJcbiAgICA8Lz5cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IERpc3BsYXlSdWxlc1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///82772\n");

/***/ }),

/***/ 4108:
/*!******************************************************************!*\
  !*** ./src/editors/EnableFilterEditor/LimitSelectRangeModal.tsx ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 73980);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 24496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../utils */ 41232);\n/* harmony import */ var _utils_treeUtils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../utils/treeUtils */ 31340);\n/* harmony import */ var _hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../hooks/useQueryEventData */ 23312);\n/* harmony import */ var _hooks_useListTreeConfigParser__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../hooks/useListTreeConfigParser */ 13276);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../utils/control */ 3700);\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-05-11 14:20:36\n * @LastEditTime: 2023-12-21 14:08:59\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\n\n\n\nvar getListConfigPure = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__.treeUtils.getListConfigPure,\n  treeNodeTransform = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__.treeUtils.treeNodeTransform,\n  dfs = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__.treeUtils.dfs;\nvar getVarSelectDisabled = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__.ListFilterUtil.getVarSelectDisabled;\nvar ModalBody = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.forwardRef)(function (_ref, ref) {\n  var _hideFields$refbillId, _hideFields$parentRef;\n  var prefixCls = _ref.prefixCls,\n    field = _ref.field,\n    formId = _ref.formId,\n    value = _ref.value,\n    onChange = _ref.onChange;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useContext)(_context__WEBPACK_IMPORTED_MODULE_15__.DesignerContext),\n    invokeAction = _useContext.invokeAction,\n    baseUrl = _useContext.baseUrl,\n    onDownLoad = _useContext.onDownLoad,\n    getBaseHooks = _useContext.getBaseHooks,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    getCompareTypes = _useContext.getCompareTypes,\n    getControlText = _useContext.getControlText,\n    batchInvoke = _useContext.batchInvoke,\n    curListTreeApi = _useContext.curListTreeApi,\n    getHideFieldRef = _useContext.getHideFieldRef;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    metaApi = _getKdesignerApi.meta;\n  var hideFields = getHideFieldRef();\n  var fieldKey = field.Key,\n    type = field._Type_,\n    ParentId = field.ParentId,\n    refbillId = field.RefBillId;\n  var refBillKey = (_hideFields$refbillId = hideFields[refbillId]) === null || _hideFields$refbillId === void 0 ? void 0 : _hideFields$refbillId.Key;\n  var _dataContext$findCont = dataContext.findControl(ParentId),\n    parentRefBillId = _dataContext$findCont.RefBillId,\n    parentType = _dataContext$findCont._Type_;\n  var parentRefBillKey = (_hideFields$parentRef = hideFields[parentRefBillId]) === null || _hideFields$parentRef === void 0 ? void 0 : _hideFields$parentRef.Key;\n  var rootId = dataContext.getRootId();\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)({}),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState, 2),\n    fieldRecordsMap = _useState2[0],\n    setFieldRecordsMap = _useState2[1];\n  var bodyRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null);\n  var mainRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null);\n  var oldVal = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)([]);\n  var compareTypesMap = getCompareTypes();\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useImperativeHandle)(ref, function () {\n    return {\n      updateVerifyAndGetMsg: function updateVerifyAndGetMsg() {\n        return mainRef.current.updateVerifyAndGetMsg();\n      }\n    };\n  }, []);\n  var fieldRecords = (0,_hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_18__[\"default\"])({\n    id: fieldKey,\n    formId: formId,\n    eventName: 'filterItemLook'\n  });\n  var preCondition = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    if (Array.isArray(value)) {\n      return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(value).call(value, function (item) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          value: typeof item.value === 'string' ? JSON.parse(item.value) : item.value || []\n        });\n      });\n    }\n    return [];\n  }, [value]);\n  var invokeGetFieldRecords = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (formId) {\n    var fieldName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    invokeAction('getFilterItemLook', [formId, {\n      getEnumData: 'true',\n      enumField: fieldName,\n      filterrows: []\n    }]);\n  }, [invokeAction]);\n  var onGetFieldRecords = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (v) {\n    invokeGetFieldRecords(formId, v.fieldName);\n  }, [invokeGetFieldRecords]);\n  var curListFilterConfig = (0,_hooks_useListTreeConfigParser__WEBPACK_IMPORTED_MODULE_19__[\"default\"])({\n    api: curListTreeApi,\n    parser: function parser(data) {\n      return (0,_utils__WEBPACK_IMPORTED_MODULE_16__.listFilterParser)(data, data, compareTypesMap);\n    }\n  });\n  var refBillChildrenListConfig = (0,_hooks_useListTreeConfigParser__WEBPACK_IMPORTED_MODULE_19__[\"default\"])({\n    api: curListTreeApi,\n    parser: function parser(data) {\n      var _context, _context2;\n      var treeData = (0,_utils__WEBPACK_IMPORTED_MODULE_16__.listFilterParser)(data, data, compareTypesMap, 4);\n      var itemKey = refBillKey || fieldKey;\n      var fullKey = (0,_utils_control__WEBPACK_IMPORTED_MODULE_22__.isRefBillTable)(parentType) ? _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_9___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context2 = \"\".concat(parentRefBillKey, \".\")).call(_context2, fieldKey)).call(_context, 0, -4) : itemKey;\n      var nodeData = dfs(treeData, function (node) {\n        return node.key === fullKey;\n      });\n      return treeNodeTransform((nodeData === null || nodeData === void 0 ? void 0 : nodeData.children) || [], function (node) {\n        var fieldName = node.key;\n        // 原fieldName可能出现3级，如a.b.c.d，这时，如果父级key为a.b，将父级的children的fieldName都统一去掉父级的前缀\n        var transferedFullKey = fullKey.replace(/\\./g, '\\\\.');\n        var fieldNameExcludeParent = fieldName.replace(new RegExp('^' + transferedFullKey + '\\\\.(\\\\S+)'), '$1');\n        var purefieldName = fieldNameExcludeParent !== null && fieldNameExcludeParent !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_11___default()(fieldNameExcludeParent).call(fieldNameExcludeParent, 'fbasedataid') ? fieldNameExcludeParent.split('.fbasedataid')[0] : fieldNameExcludeParent;\n        var depth = purefieldName.split('.').length;\n        // 确保只出现2级：xxx.xxx\n        if (depth > 2) return false;\n        return _objectSpread(_objectSpread({}, node), {}, {\n          key: fieldNameExcludeParent\n        });\n      });\n    }\n  });\n  var listFilterConfig = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_22__.isBizButton)(type)) {\n      return curListFilterConfig;\n    } else {\n      return refBillChildrenListConfig;\n    }\n  }, [type, curListFilterConfig, refBillChildrenListConfig]);\n\n  // 根据表单元数据构建变量树（实时）\n  var variablesTree = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    return (0,_utils_treeUtils__WEBPACK_IMPORTED_MODULE_17__.transformListConfigToVariableTree)({\n      metaApi: metaApi,\n      options: curListFilterConfig\n    });\n  }, [curListFilterConfig]);\n\n  // 排除脱敏字段、多选关联表单的子元素的listFilterConfig\n  var listFilterConfigPure = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    return getListConfigPure(listFilterConfig);\n  }, [listFilterConfig]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    var data = fieldRecords.data,\n      _fieldRecords$param = fieldRecords.param,\n      param = _fieldRecords$param === void 0 ? {} : _fieldRecords$param;\n    var enumField = param.enumField;\n    if (enumField) {\n      var items = preCondition === null || preCondition === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(preCondition).call(preCondition, function (item) {\n        return item.fieldName === enumField;\n      });\n      var fieldFilterConfig = dfs(listFilterConfig, function (node) {\n        return node.key === enumField;\n      });\n      setFieldRecordsMap(function (fieldRecordsMap) {\n        return _objectSpread(_objectSpread({}, fieldRecordsMap), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, enumField, {\n          configuredFilter: {\n            enumEqCompareType: '001',\n            items: items\n          },\n          fieldFilterConfig: fieldFilterConfig,\n          groupInfo: data\n        }));\n      });\n    }\n  }, [fieldRecords, preCondition, listFilterConfig]);\n  var setScrollBar = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (v) {\n    // const { offsetHeight: bodyHeight } = bodyRef.current\n    // console.log('setScrollBar', mainHeight, bodyHeight, v)\n    if (oldVal.current.length < v.length && v.length > 7) {\n      setTimeout(function () {\n        return bodyRef.current.scrollTo(0, 10000);\n      }, 100);\n    }\n    oldVal.current = v;\n  }, []);\n  var handleChangeFilter = function handleChangeFilter(v) {\n    var newValue = v;\n    if (Array.isArray(v)) {\n      newValue = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(v).call(v, function (item) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          value: (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(item.value) === 'object' ? _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_12___default()(item.value) : item.value || ''\n        });\n      });\n    }\n    onChange(newValue);\n    setScrollBar(v);\n  };\n  var batchInvokeQuery = function batchInvokeQuery(id) {\n    var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var nodeData = dfs(listFilterConfig, function (item) {\n      return item.entityId === id;\n    });\n    if (nodeData !== null && nodeData !== void 0 && nodeData.isDraftField) {\n      return;\n    }\n    var _args$filter = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(args),\n      filter = _args$filter === void 0 ? '' : _args$filter,\n      _args$search = args.search,\n      search = _args$search === void 0 ? '' : _args$search,\n      _args$order_by = args.order_by,\n      order_by = _args$order_by === void 0 ? '' : _args$order_by,\n      _args$select = args.select,\n      select = _args$select === void 0 ? '' : _args$select,\n      _args$page_size = args.page_size,\n      page_size = _args$page_size === void 0 ? 10 : _args$page_size,\n      _args$page_no = args.page_no,\n      page_no = _args$page_no === void 0 ? 1 : _args$page_no,\n      _args$ids = args.ids,\n      ids = _args$ids === void 0 ? [] : _args$ids;\n    batchInvoke('query', 'nocodeformdesigner', [id, {\n      filter: filter,\n      // 数据过滤\n      search: search,\n      // 搜索内容\n      order_by: order_by,\n      // 排序\n      select: select,\n      // 字段\n      page_size: page_size,\n      // 每页行数\n      page_no: page_no,\n      ids: ids // 选中的ids\n    }]);\n  };\n  var batchInvokeListConfig = function batchInvokeListConfig(id) {\n    batchInvoke('listconfig', 'nocodeformdesigner', [id]);\n  };\n  var addControlAction = function addControlAction(methodName, listener) {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_21__.eventBus.on(methodName, listener);\n\n    // 需要返回销毁函数，要不然监听一直都在\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_21__.eventBus.off(methodName, listener);\n    };\n  };\n  var onBatchInvoke = function onBatchInvoke(actionName, args) {\n    var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    batchInvoke(actionName, fieldKey, args, params);\n  };\n  var refBillProps = {\n    baseUrl: baseUrl,\n    batchInvoke: onBatchInvoke,\n    getControlText: getControlText,\n    addControlAction: addControlAction,\n    onDownLoad: onDownLoad,\n    batchInvokeListConfig: batchInvokeListConfig,\n    batchInvokeQuery: batchInvokeQuery\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-modal-body\"),\n    ref: bodyRef\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__.ConfigProvider, {\n    value: {\n      prefixCls: 'kd'\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_20__.FilterEditor, {\n    ref: mainRef,\n    valueRequired: true,\n    nameHidden: true,\n    id: \"filter\",\n    name: \"\\u914D\\u7F6E\\u7B5B\\u9009\\u6761\\u4EF6\",\n    tips: \"\",\n    style: {\n      marginTop: '0px'\n    },\n    fieldData: {\n      fieldType: 'treeSelect',\n      style: {\n        width: '184px'\n      }\n    },\n    filterFooterData: {\n      listType: 'tree',\n      triggerText: '添加筛选条件',\n      treeProps: {\n        defaultExpandAll: false\n      }\n    },\n    variablesTree: variablesTree || [],\n    listFilterConfig: listFilterConfigPure || [],\n    fieldRecords: fieldRecordsMap || [],\n    value: preCondition,\n    refBillProps: refBillProps,\n    onChange: handleChangeFilter,\n    onGetFieldRecords: onGetFieldRecords,\n    getVarSelectDisabled: getVarSelectDisabled\n  })));\n});\nvar ModalFooter = function ModalFooter(_ref2) {\n  var prefixCls = _ref2.prefixCls,\n    onCancel = _ref2.onCancel,\n    onConfirm = _ref2.onConfirm;\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-modal-footer\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-modal-footer-right\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__.Button, {\n    size: \"small\",\n    className: \"\".concat(prefixCls, \"-modal-footer-btn\"),\n    onClick: onCancel\n  }, \"\\u53D6\\u6D88\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__.Button, {\n    size: \"small\",\n    type: \"primary\",\n    className: \"\".concat(prefixCls, \"-modal-footer-btn\"),\n    onClick: onConfirm\n  }, \"\\u786E\\u5B9A\")));\n};\nvar LimitSelectRangeModal = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.memo)(function (_ref3) {\n  var prefixCls = _ref3.prefixCls,\n    title = _ref3.title,\n    value = _ref3.value,\n    formId = _ref3.formId,\n    field = _ref3.field,\n    fieldData = _ref3.fieldData,\n    visible = _ref3.visible,\n    setVisible = _ref3.setVisible,\n    onChange = _ref3.onChange;\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)(value),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState3, 2),\n    innerValue = _useState4[0],\n    setInnerValue = _useState4[1];\n  var modalBodyRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)();\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    setInnerValue(value);\n  }, [value]);\n\n  // 点击取消\n  var handleCancel = function handleCancel() {\n    setVisible(false);\n    setInnerValue(value);\n  };\n\n  // 点击确认\n  var handleConfirm = function handleConfirm() {\n    var _modalBodyRef$current, _modalBodyRef$current2;\n    var verifyEmptyInfo = (_modalBodyRef$current = (_modalBodyRef$current2 = modalBodyRef.current).updateVerifyAndGetMsg) === null || _modalBodyRef$current === void 0 ? void 0 : _modalBodyRef$current.call(_modalBodyRef$current2);\n    if (!(verifyEmptyInfo !== null && verifyEmptyInfo !== void 0 && verifyEmptyInfo.length)) {\n      onChange === null || onChange === void 0 || onChange(innerValue);\n      handleCancel();\n    }\n  };\n  var handleChange = function handleChange(value) {\n    setInnerValue(value);\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__.Modal, {\n    mask: true,\n    visible: visible,\n    body: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(ModalBody, {\n      ref: modalBodyRef,\n      prefixCls: prefixCls,\n      field: field,\n      formId: formId,\n      value: innerValue,\n      onChange: handleChange\n    }),\n    titleIcon: null,\n    className: \"\".concat(prefixCls, \"-modal\"),\n    footer: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(ModalFooter, {\n      prefixCls: prefixCls,\n      onCancel: handleCancel,\n      onConfirm: handleConfirm\n    }),\n    maskClosable: false,\n    width: 640,\n    height: 520,\n    keyboard: false,\n    bodyStyle: {\n      padding: 0,\n      overflow: 'hidden'\n    },\n    title: title,\n    closable: true,\n    draggable: false,\n    destroyOnClose: true,\n    onCancel: handleCancel,\n    onOk: handleCancel\n  });\n});\nLimitSelectRangeModal.displayName = 'LimitSelectRangeModal';\n/* harmony default export */ __webpack_exports__[\"default\"] = (LimitSelectRangeModal);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDEwOC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQVlBO0FBTUE7QUFBQTtBQUpBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBRUE7QUFJQTtBQUZBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFFQTtBQVVBO0FBUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9FbmFibGVGaWx0ZXJFZGl0b3IvTGltaXRTZWxlY3RSYW5nZU1vZGFsLnRzeD84NTY1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjMtMDUtMTEgMTQ6MjA6MzZcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMTItMjEgMTQ6MDg6NTlcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QsIHsgbWVtbywgdXNlRWZmZWN0LCB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VTdGF0ZSwgdXNlUmVkdWNlciwgdXNlQ2FsbGJhY2ssIHVzZVJlZiwgdXNlSW1wZXJhdGl2ZUhhbmRsZSwgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQ29uZmlnUHJvdmlkZXIgYXMgS1VJQ29uZmlnUHJvdmlkZXIsIE1vZGFsLCBJY29uLCBCdXR0b24gfSBmcm9tICdAa2RjbG91ZGpzL2tkZXNpZ24nXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0J1xuaW1wb3J0IHsgbGlzdEZpbHRlclBhcnNlciB9IGZyb20gJy4uLy4uL3V0aWxzJ1xuaW1wb3J0IHsgdHJhbnNmb3JtTGlzdENvbmZpZ1RvVmFyaWFibGVUcmVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdHJlZVV0aWxzJ1xuaW1wb3J0IHVzZVF1ZXJ5RXZlbnREYXRhIGZyb20gJy4uLy4uL2hvb2tzL3VzZVF1ZXJ5RXZlbnREYXRhJ1xuaW1wb3J0IHVzZUxpc3RUcmVlQ29uZmlnUGFyc2VyIGZyb20gJy4uLy4uL2hvb2tzL3VzZUxpc3RUcmVlQ29uZmlnUGFyc2VyJ1xuaW1wb3J0IHsgRmlsdGVyRWRpdG9yLCB0cmVlVXRpbHMsIExpc3RGaWx0ZXJVdGlsIH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcbmltcG9ydCB7IGV2ZW50QnVzIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgaXNCaXpCdXR0b24sIGlzUmVmQmlsbFRhYmxlIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29udHJvbCdcblxuY29uc3QgeyBnZXRMaXN0Q29uZmlnUHVyZSwgdHJlZU5vZGVUcmFuc2Zvcm0sIGRmcyB9ID0gdHJlZVV0aWxzXG5jb25zdCB7IGdldFZhclNlbGVjdERpc2FibGVkIH0gPSBMaXN0RmlsdGVyVXRpbFxuXG5pbnRlcmZhY2UgQXJnc0FwaSB7XG4gIGZpbHRlcj86IHN0cmluZyxcbiAgc2VhcmNoPzogc3RyaW5nLFxuICBvcmRlcl9ieT86IHN0cmluZyxcbiAgc2VsZWN0Pzogc3RyaW5nLFxuICBwYWdlX3NpemU/OiBudW1iZXIsXG4gIHBhZ2Vfbm8/OiBzdHJpbmcsXG4gIGlkcz86IHN0cmluZ1tdXG59XG5cbmNvbnN0IE1vZGFsQm9keSA9IGZvcndhcmRSZWYoKHtcbiAgcHJlZml4Q2xzLFxuICBmaWVsZCxcbiAgZm9ybUlkLFxuICB2YWx1ZSxcbiAgb25DaGFuZ2Vcbn0sIHJlZikgPT4ge1xuICBjb25zdCB7IGludm9rZUFjdGlvbiwgYmFzZVVybCwgb25Eb3duTG9hZCwgZ2V0QmFzZUhvb2tzLCBnZXRLZGVzaWduZXJBcGksIGdldENvbXBhcmVUeXBlcywgZ2V0Q29udHJvbFRleHQsIGJhdGNoSW52b2tlLCBjdXJMaXN0VHJlZUFwaSwgZ2V0SGlkZUZpZWxkUmVmIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCwgbWV0YTogbWV0YUFwaSB9ID0gZ2V0S2Rlc2lnbmVyQXBpKClcbiAgY29uc3QgaGlkZUZpZWxkcyA9IGdldEhpZGVGaWVsZFJlZigpXG4gIGNvbnN0IHsgS2V5OiBmaWVsZEtleSwgX1R5cGVfOiB0eXBlLCBQYXJlbnRJZCwgUmVmQmlsbElkOiByZWZiaWxsSWQgfSA9IGZpZWxkXG4gIGNvbnN0IHJlZkJpbGxLZXkgPSBoaWRlRmllbGRzW3JlZmJpbGxJZF0/LktleVxuICBjb25zdCB7IFJlZkJpbGxJZDogcGFyZW50UmVmQmlsbElkLCBfVHlwZV86IHBhcmVudFR5cGUgfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKFBhcmVudElkKVxuICBjb25zdCBwYXJlbnRSZWZCaWxsS2V5ID0gaGlkZUZpZWxkc1twYXJlbnRSZWZCaWxsSWRdPy5LZXlcbiAgY29uc3Qgcm9vdElkID0gZGF0YUNvbnRleHQuZ2V0Um9vdElkKClcblxuICBjb25zdCBbZmllbGRSZWNvcmRzTWFwLCBzZXRGaWVsZFJlY29yZHNNYXBdID0gdXNlU3RhdGUoe30pXG4gIGNvbnN0IGJvZHlSZWYgPSB1c2VSZWY8YW55PihudWxsKVxuICBjb25zdCBtYWluUmVmID0gdXNlUmVmPGFueT4obnVsbClcbiAgY29uc3Qgb2xkVmFsID0gdXNlUmVmPGFueVtdPihbXSlcbiAgY29uc3QgY29tcGFyZVR5cGVzTWFwOiBhbnkgPSBnZXRDb21wYXJlVHlwZXMoKVxuXG4gIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZVZlcmlmeUFuZEdldE1zZyAoKSB7XG4gICAgICAgIHJldHVybiBtYWluUmVmLmN1cnJlbnQudXBkYXRlVmVyaWZ5QW5kR2V0TXNnKClcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKVxuXG4gIGNvbnN0IGZpZWxkUmVjb3JkcyA9IHVzZVF1ZXJ5RXZlbnREYXRhKHsgaWQ6IGZpZWxkS2V5LCBmb3JtSWQsIGV2ZW50TmFtZTogJ2ZpbHRlckl0ZW1Mb29rJyB9KVxuXG4gIGNvbnN0IHByZUNvbmRpdGlvbiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlLm1hcChpdGVtID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgIHZhbHVlOiB0eXBlb2YgaXRlbS52YWx1ZSA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGl0ZW0udmFsdWUpIDogaXRlbS52YWx1ZSB8fCBbXVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBbXVxuICB9LCBbdmFsdWVdKVxuXG4gIGNvbnN0IGludm9rZUdldEZpZWxkUmVjb3JkcyA9IHVzZUNhbGxiYWNrKChmb3JtSWQ6IHN0cmluZywgZmllbGROYW1lOiBzdHJpbmcgPSAnJykgPT4ge1xuICAgIGludm9rZUFjdGlvbihcbiAgICAgICdnZXRGaWx0ZXJJdGVtTG9vaycsXG4gICAgICBbZm9ybUlkLCB7XG4gICAgICAgIGdldEVudW1EYXRhOiAndHJ1ZScsXG4gICAgICAgIGVudW1GaWVsZDogZmllbGROYW1lLFxuICAgICAgICBmaWx0ZXJyb3dzOiBbXVxuICAgICAgfV1cbiAgICApXG4gIH0sIFtpbnZva2VBY3Rpb25dKVxuXG4gIGNvbnN0IG9uR2V0RmllbGRSZWNvcmRzID0gdXNlQ2FsbGJhY2soKHYpID0+IHtcbiAgICBpbnZva2VHZXRGaWVsZFJlY29yZHMoZm9ybUlkLCB2LmZpZWxkTmFtZSlcbiAgfSwgW2ludm9rZUdldEZpZWxkUmVjb3Jkc10pXG5cbiAgY29uc3QgY3VyTGlzdEZpbHRlckNvbmZpZyA9IHVzZUxpc3RUcmVlQ29uZmlnUGFyc2VyKHtcbiAgICBhcGk6IGN1ckxpc3RUcmVlQXBpLFxuICAgIHBhcnNlcjogKGRhdGEpID0+IGxpc3RGaWx0ZXJQYXJzZXIoZGF0YSwgZGF0YSwgY29tcGFyZVR5cGVzTWFwKVxuICB9KVxuXG4gIGNvbnN0IHJlZkJpbGxDaGlsZHJlbkxpc3RDb25maWcgPSB1c2VMaXN0VHJlZUNvbmZpZ1BhcnNlcih7XG4gICAgYXBpOiBjdXJMaXN0VHJlZUFwaSxcbiAgICBwYXJzZXI6IChkYXRhKSA9PiB7XG4gICAgICBjb25zdCB0cmVlRGF0YSA9IGxpc3RGaWx0ZXJQYXJzZXIoZGF0YSwgZGF0YSwgY29tcGFyZVR5cGVzTWFwLCA0KVxuICAgICAgY29uc3QgaXRlbUtleSA9IHJlZkJpbGxLZXkgfHwgZmllbGRLZXlcbiAgICAgIGNvbnN0IGZ1bGxLZXkgPSBpc1JlZkJpbGxUYWJsZShwYXJlbnRUeXBlKSA/IGAke3BhcmVudFJlZkJpbGxLZXl9LiR7ZmllbGRLZXl9YC5zbGljZSgwLCAtNCkgOiBpdGVtS2V5XG4gICAgICBjb25zdCBub2RlRGF0YSA9IGRmcyh0cmVlRGF0YSwgKG5vZGUpID0+IG5vZGUua2V5ID09PSBmdWxsS2V5KVxuICAgICAgcmV0dXJuIHRyZWVOb2RlVHJhbnNmb3JtKG5vZGVEYXRhPy5jaGlsZHJlbiB8fCBbXSwgKG5vZGU6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCB7IGtleTogZmllbGROYW1lIH0gPSBub2RlXG4gICAgICAgIC8vIOWOn2ZpZWxkTmFtZeWPr+iDveWHuueOsDPnuqfvvIzlpoJhLmIuYy5k77yM6L+Z5pe277yM5aaC5p6c54i257qna2V55Li6YS5i77yM5bCG54i257qn55qEY2hpbGRyZW7nmoRmaWVsZE5hbWXpg73nu5/kuIDljrvmjonniLbnuqfnmoTliY3nvIBcbiAgICAgICAgY29uc3QgdHJhbnNmZXJlZEZ1bGxLZXkgPSBmdWxsS2V5LnJlcGxhY2UoL1xcLi9nLCAnXFxcXC4nKVxuICAgICAgICBjb25zdCBmaWVsZE5hbWVFeGNsdWRlUGFyZW50ID0gZmllbGROYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnXicgKyB0cmFuc2ZlcmVkRnVsbEtleSArICdcXFxcLihcXFxcUyspJyksICckMScpXG4gICAgICAgIGNvbnN0IHB1cmVmaWVsZE5hbWUgPSBmaWVsZE5hbWVFeGNsdWRlUGFyZW50Py5pbmNsdWRlcygnZmJhc2VkYXRhaWQnKSA/IGZpZWxkTmFtZUV4Y2x1ZGVQYXJlbnQuc3BsaXQoJy5mYmFzZWRhdGFpZCcpWzBdIDogZmllbGROYW1lRXhjbHVkZVBhcmVudFxuICAgICAgICBjb25zdCBkZXB0aCA9IHB1cmVmaWVsZE5hbWUuc3BsaXQoJy4nKS5sZW5ndGhcbiAgICAgICAgLy8g56Gu5L+d5Y+q5Ye6546wMue6p++8mnh4eC54eHhcbiAgICAgICAgaWYgKGRlcHRoID4gMikgcmV0dXJuIGZhbHNlXG4gICAgICAgIHJldHVybiB7IC4uLm5vZGUsIGtleTogZmllbGROYW1lRXhjbHVkZVBhcmVudCB9XG4gICAgICB9KVxuICAgIH1cbiAgfSlcblxuICBjb25zdCBsaXN0RmlsdGVyQ29uZmlnID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGlzQml6QnV0dG9uKHR5cGUpKSB7XG4gICAgICByZXR1cm4gY3VyTGlzdEZpbHRlckNvbmZpZ1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVmQmlsbENoaWxkcmVuTGlzdENvbmZpZ1xuICAgIH1cbiAgfSwgW3R5cGUsIGN1ckxpc3RGaWx0ZXJDb25maWcsIHJlZkJpbGxDaGlsZHJlbkxpc3RDb25maWddKVxuXG4gIC8vIOagueaNruihqOWNleWFg+aVsOaNruaehOW7uuWPmOmHj+agke+8iOWunuaXtu+8iVxuICBjb25zdCB2YXJpYWJsZXNUcmVlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybUxpc3RDb25maWdUb1ZhcmlhYmxlVHJlZSh7XG4gICAgICBtZXRhQXBpOiBtZXRhQXBpLFxuICAgICAgb3B0aW9uczogY3VyTGlzdEZpbHRlckNvbmZpZ1xuICAgIH0pXG4gIH0sIFtjdXJMaXN0RmlsdGVyQ29uZmlnXSlcblxuICAvLyDmjpLpmaTohLHmlY/lrZfmrrXjgIHlpJrpgInlhbPogZTooajljZXnmoTlrZDlhYPntKDnmoRsaXN0RmlsdGVyQ29uZmlnXG4gIGNvbnN0IGxpc3RGaWx0ZXJDb25maWdQdXJlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGdldExpc3RDb25maWdQdXJlKGxpc3RGaWx0ZXJDb25maWcpXG4gIH0sIFtsaXN0RmlsdGVyQ29uZmlnXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgcGFyYW0gPSB7fSB9ID0gZmllbGRSZWNvcmRzXG4gICAgY29uc3QgeyBlbnVtRmllbGQgfSA9IHBhcmFtXG4gICAgaWYgKGVudW1GaWVsZCkge1xuICAgICAgY29uc3QgaXRlbXMgPSBwcmVDb25kaXRpb24/LmZpbHRlcigoaXRlbTogYW55KSA9PiBpdGVtLmZpZWxkTmFtZSA9PT0gZW51bUZpZWxkKVxuICAgICAgY29uc3QgZmllbGRGaWx0ZXJDb25maWcgPSBkZnMobGlzdEZpbHRlckNvbmZpZywgKG5vZGUpID0+IG5vZGUua2V5ID09PSBlbnVtRmllbGQpXG4gICAgICBzZXRGaWVsZFJlY29yZHNNYXAoKGZpZWxkUmVjb3Jkc01hcCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmZpZWxkUmVjb3Jkc01hcCxcbiAgICAgICAgICBbZW51bUZpZWxkXToge1xuICAgICAgICAgICAgY29uZmlndXJlZEZpbHRlcjoge1xuICAgICAgICAgICAgICBlbnVtRXFDb21wYXJlVHlwZTogJzAwMScsXG4gICAgICAgICAgICAgIGl0ZW1zXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmllbGRGaWx0ZXJDb25maWcsXG4gICAgICAgICAgICBncm91cEluZm86IGRhdGFcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9LCBbZmllbGRSZWNvcmRzLCBwcmVDb25kaXRpb24sIGxpc3RGaWx0ZXJDb25maWddKVxuXG4gIGNvbnN0IHNldFNjcm9sbEJhciA9IHVzZUNhbGxiYWNrKCh2KSA9PiB7XG4gICAgLy8gY29uc3QgeyBvZmZzZXRIZWlnaHQ6IGJvZHlIZWlnaHQgfSA9IGJvZHlSZWYuY3VycmVudFxuICAgIC8vIGNvbnNvbGUubG9nKCdzZXRTY3JvbGxCYXInLCBtYWluSGVpZ2h0LCBib2R5SGVpZ2h0LCB2KVxuICAgIGlmIChvbGRWYWwuY3VycmVudC5sZW5ndGggPCB2Lmxlbmd0aCAmJiB2Lmxlbmd0aCA+IDcpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gYm9keVJlZi5jdXJyZW50LnNjcm9sbFRvKDAsIDEwMDAwKSwgMTAwKVxuICAgIH1cbiAgICBvbGRWYWwuY3VycmVudCA9IHZcbiAgfSwgW10pXG5cbiAgY29uc3QgaGFuZGxlQ2hhbmdlRmlsdGVyID0gKHYpID0+IHtcbiAgICBsZXQgbmV3VmFsdWUgPSB2XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodikpIHtcbiAgICAgIG5ld1ZhbHVlID0gdi5tYXAoaXRlbSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICB2YWx1ZTogdHlwZW9mIGl0ZW0udmFsdWUgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkoaXRlbS52YWx1ZSkgOiBpdGVtLnZhbHVlIHx8ICcnXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICAgIG9uQ2hhbmdlKG5ld1ZhbHVlKVxuICAgIHNldFNjcm9sbEJhcih2KVxuICB9XG5cbiAgY29uc3QgYmF0Y2hJbnZva2VRdWVyeSA9IChpZCwgYXJnczogQXJnc0FwaSA9IHt9KSA9PiB7XG4gICAgY29uc3Qgbm9kZURhdGEgPSBkZnMobGlzdEZpbHRlckNvbmZpZywgKGl0ZW0pID0+IGl0ZW0uZW50aXR5SWQgPT09IGlkKVxuICAgIGlmIChub2RlRGF0YT8uaXNEcmFmdEZpZWxkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgZmlsdGVyID0gJycsIC8vIOaVsOaNrui/h+a7pFxuICAgICAgc2VhcmNoID0gJycsIC8vIOaQnOe0ouWGheWuuVxuICAgICAgb3JkZXJfYnkgPSAnJywgLy8g5o6S5bqPXG4gICAgICBzZWxlY3QgPSAnJywgLy8g5a2X5q61XG4gICAgICBwYWdlX3NpemUgPSAxMCwgLy8g5q+P6aG16KGM5pWwXG4gICAgICBwYWdlX25vID0gMSxcbiAgICAgIGlkcyA9IFtdLy8g6YCJ5Lit55qEaWRzXG4gICAgfSA9IGFyZ3NcbiAgICBiYXRjaEludm9rZSgncXVlcnknLCAnbm9jb2RlZm9ybWRlc2lnbmVyJywgW2lkLCB7XG4gICAgICBmaWx0ZXIsIC8vIOaVsOaNrui/h+a7pFxuICAgICAgc2VhcmNoLCAvLyDmkJzntKLlhoXlrrlcbiAgICAgIG9yZGVyX2J5LCAvLyDmjpLluo9cbiAgICAgIHNlbGVjdCwgLy8g5a2X5q61XG4gICAgICBwYWdlX3NpemUsIC8vIOavj+mhteihjOaVsFxuICAgICAgcGFnZV9ubyxcbiAgICAgIGlkcy8vIOmAieS4reeahGlkc1xuICAgIH1dKVxuICB9XG5cbiAgY29uc3QgYmF0Y2hJbnZva2VMaXN0Q29uZmlnID0gKGlkKSA9PiB7XG4gICAgYmF0Y2hJbnZva2UoJ2xpc3Rjb25maWcnLCAnbm9jb2RlZm9ybWRlc2lnbmVyJywgW2lkXSlcbiAgfVxuXG4gIGNvbnN0IGFkZENvbnRyb2xBY3Rpb24gPSAobWV0aG9kTmFtZSwgbGlzdGVuZXIpID0+IHtcbiAgICBldmVudEJ1cy5vbihtZXRob2ROYW1lLCBsaXN0ZW5lcilcblxuICAgIC8vIOmcgOimgei/lOWbnumUgOavgeWHveaVsO+8jOimgeS4jeeEtuebkeWQrOS4gOebtOmDveWcqFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBldmVudEJ1cy5vZmYobWV0aG9kTmFtZSwgbGlzdGVuZXIpXG4gICAgfVxuICB9XG4gIGNvbnN0IG9uQmF0Y2hJbnZva2UgPSAoYWN0aW9uTmFtZSwgYXJncywgcGFyYW1zID0gW10pID0+IHtcbiAgICBiYXRjaEludm9rZShhY3Rpb25OYW1lLCBmaWVsZEtleSwgYXJncywgcGFyYW1zKVxuICB9XG5cbiAgY29uc3QgcmVmQmlsbFByb3BzID0ge1xuICAgIGJhc2VVcmwsXG4gICAgYmF0Y2hJbnZva2U6IG9uQmF0Y2hJbnZva2UsXG4gICAgZ2V0Q29udHJvbFRleHQsXG4gICAgYWRkQ29udHJvbEFjdGlvbixcbiAgICBvbkRvd25Mb2FkLFxuICAgIGJhdGNoSW52b2tlTGlzdENvbmZpZyxcbiAgICBiYXRjaEludm9rZVF1ZXJ5XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LW1vZGFsLWJvZHlgfSByZWY9e2JvZHlSZWZ9PlxuICAgICAgPEtVSUNvbmZpZ1Byb3ZpZGVyIHZhbHVlPXt7IHByZWZpeENsczogJ2tkJyB9fT5cbiAgICAgICAgPEZpbHRlckVkaXRvclxuICAgICAgICAgIHJlZj17bWFpblJlZn1cbiAgICAgICAgICB2YWx1ZVJlcXVpcmVkXG4gICAgICAgICAgbmFtZUhpZGRlblxuICAgICAgICAgIGlkPSdmaWx0ZXInXG4gICAgICAgICAgbmFtZT0n6YWN572u562b6YCJ5p2h5Lu2J1xuICAgICAgICAgIHRpcHM9JydcbiAgICAgICAgICBzdHlsZT17eyBtYXJnaW5Ub3A6ICcwcHgnIH19XG4gICAgICAgICAgZmllbGREYXRhPXt7XG4gICAgICAgICAgICBmaWVsZFR5cGU6ICd0cmVlU2VsZWN0JyxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIHdpZHRoOiAnMTg0cHgnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX1cbiAgICAgICAgICBmaWx0ZXJGb290ZXJEYXRhPXt7XG4gICAgICAgICAgICBsaXN0VHlwZTogJ3RyZWUnLFxuICAgICAgICAgICAgdHJpZ2dlclRleHQ6ICfmt7vliqDnrZvpgInmnaHku7YnLFxuICAgICAgICAgICAgdHJlZVByb3BzOiB7IGRlZmF1bHRFeHBhbmRBbGw6IGZhbHNlIH1cbiAgICAgICAgICB9fVxuICAgICAgICAgIHZhcmlhYmxlc1RyZWU9e3ZhcmlhYmxlc1RyZWUgfHwgW119XG4gICAgICAgICAgbGlzdEZpbHRlckNvbmZpZz17bGlzdEZpbHRlckNvbmZpZ1B1cmUgfHwgW119XG4gICAgICAgICAgZmllbGRSZWNvcmRzPXtmaWVsZFJlY29yZHNNYXAgfHwgW119XG4gICAgICAgICAgdmFsdWU9e3ByZUNvbmRpdGlvbn1cbiAgICAgICAgICByZWZCaWxsUHJvcHM9e3JlZkJpbGxQcm9wc31cbiAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlRmlsdGVyfVxuICAgICAgICAgIG9uR2V0RmllbGRSZWNvcmRzPXtvbkdldEZpZWxkUmVjb3Jkc31cbiAgICAgICAgICBnZXRWYXJTZWxlY3REaXNhYmxlZD17Z2V0VmFyU2VsZWN0RGlzYWJsZWR9XG4gICAgICAgIC8+XG4gICAgICA8L0tVSUNvbmZpZ1Byb3ZpZGVyPlxuICAgIDwvZGl2PlxuICApXG59KVxuXG5jb25zdCBNb2RhbEZvb3RlciA9ICh7XG4gIHByZWZpeENscyxcbiAgb25DYW5jZWwsXG4gIG9uQ29uZmlybVxufSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LW1vZGFsLWZvb3RlcmB9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tbW9kYWwtZm9vdGVyLXJpZ2h0YH0+XG4gICAgICAgIDxCdXR0b24gc2l6ZT0nc21hbGwnIGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1tb2RhbC1mb290ZXItYnRuYH0gb25DbGljaz17b25DYW5jZWx9PuWPlua2iDwvQnV0dG9uPlxuICAgICAgICA8QnV0dG9uIHNpemU9J3NtYWxsJyB0eXBlPSdwcmltYXJ5JyBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tbW9kYWwtZm9vdGVyLWJ0bmB9IG9uQ2xpY2s9e29uQ29uZmlybX0+56Gu5a6aPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5jb25zdCBMaW1pdFNlbGVjdFJhbmdlTW9kYWwgPSBtZW1vKCh7XG4gIHByZWZpeENscyxcbiAgdGl0bGUsXG4gIHZhbHVlLFxuICBmb3JtSWQsXG4gIGZpZWxkLFxuICBmaWVsZERhdGEsXG4gIHZpc2libGUsXG4gIHNldFZpc2libGUsXG4gIG9uQ2hhbmdlXG59KSA9PiB7XG4gIGNvbnN0IFtpbm5lclZhbHVlLCBzZXRJbm5lclZhbHVlXSA9IHVzZVN0YXRlKHZhbHVlKVxuICBjb25zdCBtb2RhbEJvZHlSZWYgPSB1c2VSZWYoKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SW5uZXJWYWx1ZSh2YWx1ZSlcbiAgfSwgW3ZhbHVlXSlcblxuICAvLyDngrnlh7vlj5bmtohcbiAgY29uc3QgaGFuZGxlQ2FuY2VsID0gKCkgPT4ge1xuICAgIHNldFZpc2libGUoZmFsc2UpXG4gICAgc2V0SW5uZXJWYWx1ZSh2YWx1ZSlcbiAgfVxuXG4gIC8vIOeCueWHu+ehruiupFxuICBjb25zdCBoYW5kbGVDb25maXJtID0gKCkgPT4ge1xuICAgIGNvbnN0IHZlcmlmeUVtcHR5SW5mbyA9IG1vZGFsQm9keVJlZi5jdXJyZW50LnVwZGF0ZVZlcmlmeUFuZEdldE1zZz8uKClcbiAgICBpZiAoIXZlcmlmeUVtcHR5SW5mbz8ubGVuZ3RoKSB7XG4gICAgICBvbkNoYW5nZT8uKGlubmVyVmFsdWUpXG4gICAgICBoYW5kbGVDYW5jZWwoKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9ICh2YWx1ZSkgPT4ge1xuICAgIHNldElubmVyVmFsdWUodmFsdWUpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxNb2RhbFxuICAgICAgbWFza1xuICAgICAgdmlzaWJsZT17dmlzaWJsZX1cbiAgICAgIGJvZHk9ezxNb2RhbEJvZHkgcmVmPXttb2RhbEJvZHlSZWZ9IHByZWZpeENscz17cHJlZml4Q2xzfSBmaWVsZD17ZmllbGR9IGZvcm1JZD17Zm9ybUlkfSB2YWx1ZT17aW5uZXJWYWx1ZX0gb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX0gLz59XG4gICAgICB0aXRsZUljb249e251bGx9XG4gICAgICBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tbW9kYWxgfVxuICAgICAgZm9vdGVyPXs8TW9kYWxGb290ZXIgcHJlZml4Q2xzPXtwcmVmaXhDbHN9IG9uQ2FuY2VsPXtoYW5kbGVDYW5jZWx9IG9uQ29uZmlybT17aGFuZGxlQ29uZmlybX0gLz59XG4gICAgICBtYXNrQ2xvc2FibGU9e2ZhbHNlfVxuICAgICAgd2lkdGg9ezY0MH1cbiAgICAgIGhlaWdodD17NTIwfVxuICAgICAga2V5Ym9hcmQ9e2ZhbHNlfVxuICAgICAgYm9keVN0eWxlPXt7IHBhZGRpbmc6IDAsIG92ZXJmbG93OiAnaGlkZGVuJyB9fVxuICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgY2xvc2FibGVcbiAgICAgIGRyYWdnYWJsZT17ZmFsc2V9XG4gICAgICBkZXN0cm95T25DbG9zZVxuICAgICAgb25DYW5jZWw9e2hhbmRsZUNhbmNlbH1cbiAgICAgIG9uT2s9e2hhbmRsZUNhbmNlbH1cbiAgICAvPlxuICApXG59KVxuXG5MaW1pdFNlbGVjdFJhbmdlTW9kYWwuZGlzcGxheU5hbWUgPSAnTGltaXRTZWxlY3RSYW5nZU1vZGFsJ1xuXG5leHBvcnQgZGVmYXVsdCBMaW1pdFNlbGVjdFJhbmdlTW9kYWxcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4108\n");

/***/ }),

/***/ 20572:
/*!**************************************************!*\
  !*** ./src/editors/EnableFilterEditor/index.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _LimitSelectRangeModal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./LimitSelectRangeModal */ 4108);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/control */ 3700);\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-05-11 14:17:32\n * @LastEditTime: 2023-06-14 17:35:45\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\nvar EnableFilterEditor = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.memo)(function (props) {\n  var _value$value;\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    name = props.Name,\n    tips = props.Tips,\n    field = props.field;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required,\n    Default = editor.Default,\n    title = editor.Title;\n  var showEnable = Default.showEnable;\n  var type = field._Type_;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useState, 2),\n    modalVisible = _useState2[0],\n    setModalVisible = _useState2[1];\n  var switchValue = typeof value.enable === 'undefined' ? Default.enable : value.enable;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useContext)(_context__WEBPACK_IMPORTED_MODULE_10__.DesignerContext),\n    prefixCls = _useContext.prefixCls,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    fetchListTree = _useContext.fetchListTree;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    metaApi = _getKdesignerApi.meta;\n  var formId = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useMemo)(function () {\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_12__.isRefBill)(type) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_12__.isRefBillTable)(type)) {\n      return field.BillEntityIdEx || metaApi.getControlPropertyDefaultValue(field.FieldType, 'BillEntityIdEx');\n    }\n    return dataContext.getRootId();\n  }, [type, dataContext, field === null || field === void 0 ? void 0 : field.BillEntityIdEx]);\n  var handleClick = function handleClick() {\n    setModalVisible(true);\n    fetchListTree();\n  };\n\n  // 限制条件开关\n  var handleSwitchChange = function handleSwitchChange(enable) {\n    var info = _objectSpread(_objectSpread({}, value), {}, {\n      enable: enable\n    });\n    handleChange(info);\n  };\n\n  // 弹窗值发生变更\n  var onChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useCallback)(function (v) {\n    var info = {\n      enable: switchValue,\n      value: v\n    };\n    handleChange(info);\n  }, [handleChange, switchValue]);\n  var editorPrefixCls = \"\".concat(prefixCls, \"-enablefilter-editor\");\n  var newEditor = _objectSpread(_objectSpread({}, editor), {}, {\n    NameHidden: true\n  });\n\n  // 标题属性，关联表单不显示switch切换\n  var titleProps = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useMemo)(function () {\n    return {\n      name: name,\n      className: className,\n      nameHidden: nameHidden,\n      tips: tips,\n      required: required,\n      title: title\n    };\n  }, [name, className, nameHidden, tips, required, title]);\n\n  // console.log('enableFilterEditor', value)\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(\"div\", {\n    className: editorPrefixCls\n  }, showEnable ? /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.NameTipSwitchWrapper, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n    switchValue: switchValue,\n    onSwitchChange: handleSwitchChange\n  }, titleProps)) : /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-nav\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.NameTipWrapper, titleProps)), switchValue && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.CustomInputTrigger, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, props, {\n    editor: newEditor,\n    disabled: locked,\n    value: (value === null || value === void 0 || (_value$value = value.value) === null || _value$value === void 0 ? void 0 : _value$value.length) > 0 ? \"\".concat(value.value.length, \"\\u4E2A\\u6761\\u4EF6\") : '',\n    onClick: handleClick\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_LimitSelectRangeModal__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n    formId: formId,\n    field: field,\n    prefixCls: editorPrefixCls,\n    visible: modalVisible,\n    setVisible: setModalVisible,\n    value: (value === null || value === void 0 ? void 0 : value.value) || [],\n    title: name,\n    onChange: onChange\n  })));\n});\nEnableFilterEditor.displayName = 'EnableFilterEditor';\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.ErrorBoundaryWrap)(EnableFilterEditor, 'EnableFilterEditor'));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjA1NzIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUFBOztBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQU9BO0FBRUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9lZGl0b3JzL0VuYWJsZUZpbHRlckVkaXRvci9pbmRleC50c3g/YTUzNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIzLTA1LTExIDE0OjE3OjMyXG4gKiBATGFzdEVkaXRUaW1lOiAyMDIzLTA2LTE0IDE3OjM1OjQ1XG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuaW1wb3J0IFJlYWN0LCB7IEZDLCBtZW1vLCB1c2VTdGF0ZSwgdXNlQ29udGV4dCwgdXNlTWVtbywgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBDdXN0b21JbnB1dFRyaWdnZXIsIFByb3BlcnR5RWRpdG9yUHJvcHMsIE5hbWVUaXBTd2l0Y2hXcmFwcGVyLCBOYW1lVGlwV3JhcHBlciwgZXZlbnRCdXMsIEVycm9yQm91bmRhcnlXcmFwIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dCdcbmltcG9ydCBMaW1pdFNlbGVjdFJhbmdlTW9kYWwgZnJvbSAnLi9MaW1pdFNlbGVjdFJhbmdlTW9kYWwnXG5pbXBvcnQgeyBpc1JlZkJpbGwsIGlzUmVmQmlsbFRhYmxlIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29udHJvbCdcblxuY29uc3QgRW5hYmxlRmlsdGVyRWRpdG9yOiBGQzxQcm9wZXJ0eUVkaXRvclByb3BzPiA9IG1lbW8oKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaGFuZGxlQ2hhbmdlLCB2YWx1ZSwgY2xhc3NOYW1lLCBlZGl0b3IsIGxvY2tlZCwgTmFtZTogbmFtZSwgVGlwczogdGlwcywgZmllbGQgfSA9IHByb3BzXG4gIGNvbnN0IHsgTmFtZUhpZGRlbjogbmFtZUhpZGRlbiwgUmVxdWlyZWQ6IHJlcXVpcmVkLCBEZWZhdWx0LCBUaXRsZTogdGl0bGUgfSA9IGVkaXRvclxuICBjb25zdCB7IHNob3dFbmFibGUgfSA9IERlZmF1bHRcbiAgY29uc3QgeyBfVHlwZV86IHR5cGUgfSA9IGZpZWxkXG4gIGNvbnN0IFttb2RhbFZpc2libGUsIHNldE1vZGFsVmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3Qgc3dpdGNoVmFsdWUgPSB0eXBlb2YgdmFsdWUuZW5hYmxlID09PSAndW5kZWZpbmVkJyA/IERlZmF1bHQuZW5hYmxlIDogdmFsdWUuZW5hYmxlXG4gIGNvbnN0IHsgcHJlZml4Q2xzLCBnZXRLZGVzaWduZXJBcGksIGZldGNoTGlzdFRyZWUgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0LCBtZXRhOiBtZXRhQXBpIH0gPSBnZXRLZGVzaWduZXJBcGkoKVxuXG4gIGNvbnN0IGZvcm1JZCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChpc1JlZkJpbGwodHlwZSkgfHwgaXNSZWZCaWxsVGFibGUodHlwZSkpIHtcbiAgICAgIHJldHVybiBmaWVsZC5CaWxsRW50aXR5SWRFeCB8fCBtZXRhQXBpLmdldENvbnRyb2xQcm9wZXJ0eURlZmF1bHRWYWx1ZShmaWVsZC5GaWVsZFR5cGUsICdCaWxsRW50aXR5SWRFeCcpXG4gICAgfVxuICAgIHJldHVybiBkYXRhQ29udGV4dC5nZXRSb290SWQoKVxuICB9LCBbdHlwZSwgZGF0YUNvbnRleHQsIGZpZWxkPy5CaWxsRW50aXR5SWRFeF0pXG5cbiAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoKSA9PiB7XG4gICAgc2V0TW9kYWxWaXNpYmxlKHRydWUpXG4gICAgZmV0Y2hMaXN0VHJlZSgpXG4gIH1cblxuICAvLyDpmZDliLbmnaHku7blvIDlhbNcbiAgY29uc3QgaGFuZGxlU3dpdGNoQ2hhbmdlID0gKGVuYWJsZTpib29sZWFuKSA9PiB7XG4gICAgY29uc3QgaW5mbyA9IHtcbiAgICAgIC4uLnZhbHVlLFxuICAgICAgZW5hYmxlXG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZShpbmZvKVxuICB9XG5cbiAgLy8g5by556qX5YC85Y+R55Sf5Y+Y5pu0XG4gIGNvbnN0IG9uQ2hhbmdlID0gdXNlQ2FsbGJhY2soKHY6YW55KSA9PiB7XG4gICAgY29uc3QgaW5mbyA9IHtcbiAgICAgIGVuYWJsZTogc3dpdGNoVmFsdWUsXG4gICAgICB2YWx1ZTogdlxuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2UoaW5mbylcbiAgfSwgW2hhbmRsZUNoYW5nZSwgc3dpdGNoVmFsdWVdKVxuXG4gIGNvbnN0IGVkaXRvclByZWZpeENscyA9IGAke3ByZWZpeENsc30tZW5hYmxlZmlsdGVyLWVkaXRvcmBcblxuICBjb25zdCBuZXdFZGl0b3IgPSB7XG4gICAgLi4uZWRpdG9yLFxuICAgIE5hbWVIaWRkZW46IHRydWVcbiAgfVxuXG4gIC8vIOagh+mimOWxnuaAp++8jOWFs+iBlOihqOWNleS4jeaYvuekunN3aXRjaOWIh+aNolxuICBjb25zdCB0aXRsZVByb3BzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHsgbmFtZSwgY2xhc3NOYW1lLCBuYW1lSGlkZGVuLCB0aXBzLCByZXF1aXJlZCwgdGl0bGUgfVxuICB9LCBbbmFtZSwgY2xhc3NOYW1lLCBuYW1lSGlkZGVuLCB0aXBzLCByZXF1aXJlZCwgdGl0bGVdKVxuXG4gIC8vIGNvbnNvbGUubG9nKCdlbmFibGVGaWx0ZXJFZGl0b3InLCB2YWx1ZSlcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17ZWRpdG9yUHJlZml4Q2xzfT5cbiAgICAgIHtzaG93RW5hYmxlXG4gICAgICAgID8gPE5hbWVUaXBTd2l0Y2hXcmFwcGVyXG4gICAgICAgICAgICBzd2l0Y2hWYWx1ZT17c3dpdGNoVmFsdWV9XG4gICAgICAgICAgICBvblN3aXRjaENoYW5nZT17aGFuZGxlU3dpdGNoQ2hhbmdlfVxuICAgICAgICAgICAgey4uLnRpdGxlUHJvcHN9XG4gICAgICAgICAgLz5cbiAgICAgICAgOiA8ZGl2IGNsYXNzTmFtZT17YCR7Y2xhc3NOYW1lfS1uYXZgfT48TmFtZVRpcFdyYXBwZXIgey4uLnRpdGxlUHJvcHN9IC8+PC9kaXY+fVxuICAgICAge1xuICAgICAgICBzd2l0Y2hWYWx1ZSAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxDdXN0b21JbnB1dFRyaWdnZXJcbiAgICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgICBlZGl0b3I9e25ld0VkaXRvcn1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvY2tlZH1cbiAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlPy52YWx1ZT8ubGVuZ3RoID4gMCA/IGAke3ZhbHVlLnZhbHVlLmxlbmd0aH3kuKrmnaHku7ZgIDogJyd9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxMaW1pdFNlbGVjdFJhbmdlTW9kYWxcbiAgICAgICAgICAgICAgZm9ybUlkPXtmb3JtSWR9XG4gICAgICAgICAgICAgIGZpZWxkPXtmaWVsZH1cbiAgICAgICAgICAgICAgcHJlZml4Q2xzPXtlZGl0b3JQcmVmaXhDbHN9XG4gICAgICAgICAgICAgIHZpc2libGU9e21vZGFsVmlzaWJsZX1cbiAgICAgICAgICAgICAgc2V0VmlzaWJsZT17c2V0TW9kYWxWaXNpYmxlfVxuICAgICAgICAgICAgICB2YWx1ZT17dmFsdWU/LnZhbHVlIHx8IFtdfVxuICAgICAgICAgICAgICB0aXRsZT17bmFtZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKVxuICAgICAgfVxuICAgIDwvZGl2PlxuICApXG59KVxuXG5FbmFibGVGaWx0ZXJFZGl0b3IuZGlzcGxheU5hbWUgPSAnRW5hYmxlRmlsdGVyRWRpdG9yJ1xuXG5leHBvcnQgZGVmYXVsdCBFcnJvckJvdW5kYXJ5V3JhcChFbmFibGVGaWx0ZXJFZGl0b3IsICdFbmFibGVGaWx0ZXJFZGl0b3InKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20572\n");

/***/ }),

/***/ 65927:
/*!************************************************!*\
  !*** ./src/editors/ExpressionEditor/index.tsx ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/values */ 72400);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils */ 41232);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/control */ 3700);\n/* harmony import */ var _utils_treeUtils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/treeUtils */ 31340);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _hooks_useListTreeConfigParser__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useListTreeConfigParser */ 13276);\n\n\n\n\n\n\n\n\n\n\n\n\nvar _Condition$constants = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_10__.Condition.constants,\n  allFieldRegExp = _Condition$constants.allFieldRegExp,\n  allExpRegExp = _Condition$constants.allExpRegExp,\n  expRegExp = _Condition$constants.expRegExp;\nvar getFormulaValue = function getFormulaValue(str) {\n  var _ref = str ? str.split('@@') : ['', '', null],\n    _ref2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref, 3),\n    newValue = _ref2[1],\n    lang = _ref2[2]; // 编辑器值|语言\n  return [newValue, lang];\n};\nvar kuiConfig = {\n  prefixCls: 'kd'\n};\nvar ExpressionEditor = function ExpressionEditor(props) {\n  var className = props.className,\n    locked = props.locked,\n    Editor = props.Editor,\n    name = props.Name,\n    tips = props.Tips,\n    field = props.field,\n    handleChange = props.handleChange,\n    value = props.value;\n  var nameHidden = Editor.NameHidden,\n    required = Editor.Required,\n    title = Editor.Title,\n    hideFunc = Editor.HideFunc,\n    type = Editor.Type;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_context__WEBPACK_IMPORTED_MODULE_6__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    getExpressionData = _useContext.getExpressionData,\n    getCompareTypes = _useContext.getCompareTypes,\n    curFormulaTreeApi = _useContext.curFormulaTreeApi,\n    fetchListTree = _useContext.fetchListTree;\n  var ParentId = field.ParentId,\n    currentName = field.Name;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    formulaVisible = _useState2[0],\n    setFormulaVisible = _useState2[1];\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data;\n  var _dataContext$findCont = dataContext.findControl(ParentId),\n    parentType = _dataContext$findCont._Type_,\n    parentKey = _dataContext$findCont.Key;\n  var rootId = dataContext.getRootId();\n  var compareTypesMap = getCompareTypes();\n  var expressionData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\n    return getExpressionData();\n  }, [getExpressionData]);\n  var operations = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\n    return _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_1___default()(expressionData.functionOperations);\n  }, [expressionData]);\n  var curListFilterConfig = (0,_hooks_useListTreeConfigParser__WEBPACK_IMPORTED_MODULE_11__[\"default\"])({\n    api: curFormulaTreeApi,\n    parser: function parser(data) {\n      return (0,_utils__WEBPACK_IMPORTED_MODULE_7__.listFilterParser)(data, data, compareTypesMap);\n    }\n  });\n  var fieldData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\n    var currRefbillTableKey = (0,_utils_control__WEBPACK_IMPORTED_MODULE_8__.isRefBillTable)(parentType) ? parentKey : undefined;\n    return (0,_utils_treeUtils__WEBPACK_IMPORTED_MODULE_9__.translateFieldData)({\n      options: curListFilterConfig,\n      currRefbillTableKey: currRefbillTableKey,\n      needFormatKey: true\n    });\n  }, [curListFilterConfig, rootId, parentKey]);\n  var handleClear = function handleClear(e) {\n    e.stopPropagation();\n    handleChange('');\n  };\n  var invokeGetCurFormListConfig = function invokeGetCurFormListConfig() {\n    fetchListTree('formula');\n  };\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    invokeGetCurFormListConfig();\n  }, [currentName]);\n  var formatData = function formatData(str, isCN) {\n    var _context, _context2;\n    if (!str) return ''; // 为空值时\n    // 替换中文字符\n    str = str.replace(/）/g, ')').replace(/（/g, '(').replace(/“/g, '\"').replace(/”/g, '\"').replace(/‘/g, \"'\").replace(/’/g, \"'\");\n    var newStr = str.replace(/ {{/g, '{{').replace(/}} /g, '}}').replace(allFieldRegExp, '$1');\n    newStr = newStr.replace(allExpRegExp, function (arg) {\n      var _arg$match;\n      var matchStr = ((_arg$match = arg.match(expRegExp)) === null || _arg$match === void 0 ? void 0 : _arg$match[1]) || '';\n      return matchStr.replace('YMDDATE', 'DATE');\n    });\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default()(_context2 = \"\".concat(newStr, \"@@\")).call(_context2, str, \"@@\")).call(_context, isCN ? 1 : 0);\n  };\n  var formulaData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\n    return getFormulaValue(value);\n  }, [value]);\n  var handleShowFormulaModal = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function () {\n    setFormulaVisible(true);\n  }, [setFormulaVisible]);\n  var handleCloseFormulaModal = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function () {\n    setFormulaVisible(false);\n  }, [setFormulaVisible]);\n  var handleFormulaConfirm = function handleFormulaConfirm(result, isCN) {\n    result = formatData(result, isCN);\n    handleChange(result);\n    setFormulaVisible(false);\n  };\n  var handleClick = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function () {\n    handleShowFormulaModal();\n  }, [handleShowFormulaModal]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4__.ConfigProvider, {\n    value: kuiConfig\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_10__.InputCombo, {\n    fieldType: \"formula\",\n    placeholder: \"\\u8BF7\\u8F93\\u5165\",\n    disabled: locked,\n    onClick: handleClick,\n    value: formulaData[0],\n    expressionData: expressionData.functionTypes,\n    fieldData: fieldData,\n    onClear: handleClear,\n    lang: Number(formulaData[1] || 1),\n    readOnly: true,\n    autofocus: false\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4__.ConfigProvider, {\n    value: kuiConfig\n  }, formulaVisible && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_10__.Condition, {\n    value: formulaData[0] // '{{Field id=\"${model.name}\" text=\"表单提交触发|||[文本]姓名\"}}'\n    ,\n    language: Number(formulaData[1] || 1),\n    modalTitle: \"\\u7F16\\u8F91\\u76EE\\u6807\\u94FE\\u63A5\",\n    editorTitle: \"\\u76EE\\u6807\\u94FE\\u63A5\"\n    // actionType={}\n    ,\n    visible: formulaVisible,\n    hideFunc: hideFunc,\n    editorPlaceholder: \"\\u8BF7\\u8F93\\u5165\\u5B8C\\u6574\\u94FE\\u63A5\\uFF0C\\u4EE5 http:// \\u6216 https:// \\u5F00\\u5934\"\n    // fieldData={fieldTree}\n    ,\n    fieldData: fieldData,\n    fieldTitle: \"\\u8868\\u5355\\u5185\\u5BB9\",\n    expressionData: expressionData.functionTypes,\n    operations: operations,\n    defaultExpandAll: false,\n    onClose: handleCloseFormulaModal,\n    onConfirm: handleFormulaConfirm\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ExpressionEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjU5MjcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBTUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9lZGl0b3JzL0V4cHJlc3Npb25FZGl0b3IvaW5kZXgudHN4P2Y1MGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IEZDLCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBDb25maWdQcm92aWRlciBhcyBLVUlDb25maWdQcm92aWRlciB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcbmltcG9ydCB7IE5hbWVUaXBXcmFwcGVyLCBQcm9wZXJ0eUVkaXRvclByb3BzIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dCdcbmltcG9ydCB7IGxpc3RGaWx0ZXJQYXJzZXIgfSBmcm9tICcuLi8uLi91dGlscydcbmltcG9ydCB7IGlzUmVmQmlsbFRhYmxlIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29udHJvbCdcbmltcG9ydCB7IHRyYW5zbGF0ZUZpZWxkRGF0YSB9IGZyb20gJy4uLy4uL3V0aWxzL3RyZWVVdGlscydcbmltcG9ydCB7IENvbmRpdGlvbiwgSW5wdXRDb21ibyB9IGZyb20gJ25vY29kZV9jb21wb25lbnQvV2ViVUknXG5pbXBvcnQgdXNlTGlzdFRyZWVDb25maWdQYXJzZXIgZnJvbSAnLi4vLi4vaG9va3MvdXNlTGlzdFRyZWVDb25maWdQYXJzZXInXG5cbmNvbnN0IHsgY29uc3RhbnRzOiB7IGFsbEZpZWxkUmVnRXhwLCBhbGxFeHBSZWdFeHAsIGV4cFJlZ0V4cCB9IH0gPSBDb25kaXRpb25cblxuY29uc3QgZ2V0Rm9ybXVsYVZhbHVlID0gKHN0cikgPT4ge1xuICBjb25zdCBbLCBuZXdWYWx1ZSwgbGFuZ10gPSBzdHIgPyBzdHIuc3BsaXQoJ0BAJykgOiBbJycsICcnLCBudWxsXSAvLyDnvJbovpHlmajlgLx86K+t6KiAXG4gIHJldHVybiBbbmV3VmFsdWUsIGxhbmddXG59XG5cbmNvbnN0IGt1aUNvbmZpZyA9IHtcbiAgcHJlZml4Q2xzOiAna2QnXG59XG5cbmNvbnN0IEV4cHJlc3Npb25FZGl0b3I6IEZDPFByb3BlcnR5RWRpdG9yUHJvcHM+ID0gKHByb3BzOiBQcm9wZXJ0eUVkaXRvclByb3BzKSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lLCBsb2NrZWQsIEVkaXRvciwgTmFtZTogbmFtZSwgVGlwczogdGlwcywgZmllbGQsIGhhbmRsZUNoYW5nZSwgdmFsdWUgfSA9IHByb3BzXG4gIGNvbnN0IHsgTmFtZUhpZGRlbjogbmFtZUhpZGRlbiwgUmVxdWlyZWQ6IHJlcXVpcmVkLCBUaXRsZTogdGl0bGUsIEhpZGVGdW5jOiBoaWRlRnVuYywgVHlwZTogdHlwZSB9ID0gRWRpdG9yXG4gIGNvbnN0IHsgZ2V0S2Rlc2lnbmVyQXBpLCBnZXRFeHByZXNzaW9uRGF0YSwgZ2V0Q29tcGFyZVR5cGVzLCBjdXJGb3JtdWxhVHJlZUFwaSwgZmV0Y2hMaXN0VHJlZSB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IHsgUGFyZW50SWQsIE5hbWU6IGN1cnJlbnROYW1lIH0gPSBmaWVsZFxuICBjb25zdCBbZm9ybXVsYVZpc2libGUsIHNldEZvcm11bGFWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0IH0gPSBnZXRLZGVzaWduZXJBcGkoKVxuICBjb25zdCB7IF9UeXBlXzogcGFyZW50VHlwZSwgS2V5OiBwYXJlbnRLZXkgfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKFBhcmVudElkKVxuICBjb25zdCByb290SWQgPSBkYXRhQ29udGV4dC5nZXRSb290SWQoKVxuICBjb25zdCBjb21wYXJlVHlwZXNNYXAgPSBnZXRDb21wYXJlVHlwZXMoKVxuXG4gIGNvbnN0IGV4cHJlc3Npb25EYXRhID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGdldEV4cHJlc3Npb25EYXRhKClcbiAgfSwgW2dldEV4cHJlc3Npb25EYXRhXSlcblxuICBjb25zdCBvcGVyYXRpb25zID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoZXhwcmVzc2lvbkRhdGEuZnVuY3Rpb25PcGVyYXRpb25zKVxuICB9LCBbZXhwcmVzc2lvbkRhdGFdKVxuXG4gIGNvbnN0IGN1ckxpc3RGaWx0ZXJDb25maWcgPSB1c2VMaXN0VHJlZUNvbmZpZ1BhcnNlcih7XG4gICAgYXBpOiBjdXJGb3JtdWxhVHJlZUFwaSxcbiAgICBwYXJzZXI6IChkYXRhKSA9PiBsaXN0RmlsdGVyUGFyc2VyKGRhdGEsIGRhdGEsIGNvbXBhcmVUeXBlc01hcClcbiAgfSlcblxuICBjb25zdCBmaWVsZERhdGEgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBjdXJyUmVmYmlsbFRhYmxlS2V5ID0gaXNSZWZCaWxsVGFibGUocGFyZW50VHlwZSkgPyBwYXJlbnRLZXkgOiB1bmRlZmluZWRcbiAgICByZXR1cm4gdHJhbnNsYXRlRmllbGREYXRhKHtcbiAgICAgIG9wdGlvbnM6IGN1ckxpc3RGaWx0ZXJDb25maWcsXG4gICAgICBjdXJyUmVmYmlsbFRhYmxlS2V5LFxuICAgICAgbmVlZEZvcm1hdEtleTogdHJ1ZVxuICAgIH0pXG4gIH0sIFtjdXJMaXN0RmlsdGVyQ29uZmlnLCByb290SWQsIHBhcmVudEtleV0pXG5cbiAgY29uc3QgaGFuZGxlQ2xlYXIgPSAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBoYW5kbGVDaGFuZ2UoJycpXG4gIH1cblxuICBjb25zdCBpbnZva2VHZXRDdXJGb3JtTGlzdENvbmZpZyA9ICgpID0+IHtcbiAgICBmZXRjaExpc3RUcmVlKCdmb3JtdWxhJylcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaW52b2tlR2V0Q3VyRm9ybUxpc3RDb25maWcoKVxuICB9LCBbY3VycmVudE5hbWVdKVxuXG4gIGNvbnN0IGZvcm1hdERhdGEgPSAoc3RyOnN0cmluZywgaXNDTjpib29sZWFuKSA9PiB7XG4gICAgaWYgKCFzdHIpIHJldHVybiAnJyAvLyDkuLrnqbrlgLzml7ZcbiAgICAvLyDmm7/mjaLkuK3mloflrZfnrKZcbiAgICBzdHIgPSBzdHIucmVwbGFjZSgv77yJL2csICcpJykucmVwbGFjZSgv77yIL2csICcoJykucmVwbGFjZSgv4oCcL2csICdcIicpLnJlcGxhY2UoL+KAnS9nLCAnXCInKS5yZXBsYWNlKC/igJgvZywgXCInXCIpLnJlcGxhY2UoL+KAmS9nLCBcIidcIilcbiAgICBsZXQgbmV3U3RyID0gc3RyLnJlcGxhY2UoLyB7ey9nLCAne3snKS5yZXBsYWNlKC99fSAvZywgJ319JykucmVwbGFjZShhbGxGaWVsZFJlZ0V4cCwgJyQxJylcbiAgICBuZXdTdHIgPSBuZXdTdHIucmVwbGFjZShhbGxFeHBSZWdFeHAsIChhcmc6c3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCBtYXRjaFN0ciA9IGFyZy5tYXRjaChleHBSZWdFeHApPy5bMV0gfHwgJydcbiAgICAgIHJldHVybiBtYXRjaFN0ci5yZXBsYWNlKCdZTUREQVRFJywgJ0RBVEUnKVxuICAgIH0pXG4gICAgcmV0dXJuIGAke25ld1N0cn1AQCR7c3RyfUBAJHtpc0NOID8gMSA6IDB9YFxuICB9XG5cbiAgY29uc3QgZm9ybXVsYURhdGEgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gZ2V0Rm9ybXVsYVZhbHVlKHZhbHVlKVxuICB9LCBbdmFsdWVdKVxuXG4gIGNvbnN0IGhhbmRsZVNob3dGb3JtdWxhTW9kYWwgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0Rm9ybXVsYVZpc2libGUodHJ1ZSlcbiAgfSwgW3NldEZvcm11bGFWaXNpYmxlXSlcblxuICBjb25zdCBoYW5kbGVDbG9zZUZvcm11bGFNb2RhbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRGb3JtdWxhVmlzaWJsZShmYWxzZSlcbiAgfSwgW3NldEZvcm11bGFWaXNpYmxlXSlcblxuICBjb25zdCBoYW5kbGVGb3JtdWxhQ29uZmlybSA9IChyZXN1bHQsIGlzQ04pID0+IHtcbiAgICByZXN1bHQgPSBmb3JtYXREYXRhKHJlc3VsdCwgaXNDTilcbiAgICBoYW5kbGVDaGFuZ2UocmVzdWx0KVxuICAgIHNldEZvcm11bGFWaXNpYmxlKGZhbHNlKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQ2xpY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaGFuZGxlU2hvd0Zvcm11bGFNb2RhbCgpXG4gIH0sIFtoYW5kbGVTaG93Rm9ybXVsYU1vZGFsXSlcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8TmFtZVRpcFdyYXBwZXIgbmFtZUhpZGRlbj17bmFtZUhpZGRlbn0gY2xhc3NOYW1lPXtjbGFzc05hbWV9IG5hbWU9e25hbWV9IHRpcHM9e3RpcHN9IHJlcXVpcmVkPXtyZXF1aXJlZH0gdGl0bGU9e3RpdGxlfSAvPlxuICAgICAgPEtVSUNvbmZpZ1Byb3ZpZGVyIHZhbHVlPXtrdWlDb25maWd9PlxuICAgICAgICA8SW5wdXRDb21ib1xuICAgICAgICAgIGZpZWxkVHlwZT0nZm9ybXVsYSdcbiAgICAgICAgICBwbGFjZWhvbGRlcj0n6K+36L6T5YWlJ1xuICAgICAgICAgIGRpc2FibGVkPXtsb2NrZWR9XG4gICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xpY2t9XG4gICAgICAgICAgdmFsdWU9e2Zvcm11bGFEYXRhWzBdfVxuICAgICAgICAgIGV4cHJlc3Npb25EYXRhPXtleHByZXNzaW9uRGF0YS5mdW5jdGlvblR5cGVzfVxuICAgICAgICAgIGZpZWxkRGF0YT17ZmllbGREYXRhfVxuICAgICAgICAgIG9uQ2xlYXI9e2hhbmRsZUNsZWFyfVxuICAgICAgICAgIGxhbmc9e051bWJlcihmb3JtdWxhRGF0YVsxXSB8fCAxKX1cbiAgICAgICAgICByZWFkT25seVxuICAgICAgICAgIGF1dG9mb2N1cz17ZmFsc2V9XG4gICAgICAgIC8+XG4gICAgICA8L0tVSUNvbmZpZ1Byb3ZpZGVyPlxuICAgICAgPEtVSUNvbmZpZ1Byb3ZpZGVyIHZhbHVlPXtrdWlDb25maWd9PlxuICAgICAgICB7Zm9ybXVsYVZpc2libGUgJiYgKFxuICAgICAgICAgIDxDb25kaXRpb25cbiAgICAgICAgICAgIHZhbHVlPXtmb3JtdWxhRGF0YVswXX0gLy8gJ3t7RmllbGQgaWQ9XCIke21vZGVsLm5hbWV9XCIgdGV4dD1cIuihqOWNleaPkOS6pOinpuWPkXx8fFvmlofmnKxd5aeT5ZCNXCJ9fSdcbiAgICAgICAgICAgIGxhbmd1YWdlPXtOdW1iZXIoZm9ybXVsYURhdGFbMV0gfHwgMSl9XG4gICAgICAgICAgICBtb2RhbFRpdGxlPSfnvJbovpHnm67moIfpk77mjqUnXG4gICAgICAgICAgICBlZGl0b3JUaXRsZT0n55uu5qCH6ZO+5o6lJ1xuICAgICAgICAgICAgLy8gYWN0aW9uVHlwZT17fVxuICAgICAgICAgICAgdmlzaWJsZT17Zm9ybXVsYVZpc2libGV9XG4gICAgICAgICAgICBoaWRlRnVuYz17aGlkZUZ1bmN9XG4gICAgICAgICAgICBlZGl0b3JQbGFjZWhvbGRlcj0n6K+36L6T5YWl5a6M5pW06ZO+5o6l77yM5LulIGh0dHA6Ly8g5oiWIGh0dHBzOi8vIOW8gOWktCdcbiAgICAgICAgICAgIC8vIGZpZWxkRGF0YT17ZmllbGRUcmVlfVxuICAgICAgICAgICAgZmllbGREYXRhPXtmaWVsZERhdGF9XG4gICAgICAgICAgICBmaWVsZFRpdGxlPSfooajljZXlhoXlrrknXG4gICAgICAgICAgICBleHByZXNzaW9uRGF0YT17ZXhwcmVzc2lvbkRhdGEuZnVuY3Rpb25UeXBlc31cbiAgICAgICAgICAgIG9wZXJhdGlvbnM9e29wZXJhdGlvbnN9XG4gICAgICAgICAgICBkZWZhdWx0RXhwYW5kQWxsPXtmYWxzZX1cbiAgICAgICAgICAgIG9uQ2xvc2U9e2hhbmRsZUNsb3NlRm9ybXVsYU1vZGFsfVxuICAgICAgICAgICAgb25Db25maXJtPXtoYW5kbGVGb3JtdWxhQ29uZmlybX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9LVUlDb25maWdQcm92aWRlcj5cbiAgICA8Lz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBFeHByZXNzaW9uRWRpdG9yXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///65927\n");

/***/ }),

/***/ 88528:
/*!********************************************************!*\
  !*** ./src/editors/IconPickerEditor/IconGenerator.tsx ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nvar IconGenerator = function IconGenerator(props) {\n  var _context;\n  var data = props.data,\n    iconIndexProps = props.iconIndex,\n    onSelect = props.onSelect,\n    isLineIconStyle = props.isLineIconStyle,\n    prefixClass = props.prefixClass;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useState)(0),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    iconIndex = _useState2[0],\n    setIconIndex = _useState2[1];\n  var iconsRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {\n    setIconIndex(iconIndexProps);\n  }, [iconIndexProps]);\n  // 点击图标动作\n  var handleClickIcon = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function (iconIndex) {\n    setIconIndex(iconIndex);\n    onSelect === null || onSelect === void 0 || onSelect(iconIndex);\n  }, [onSelect, data]);\n\n  // 焦点样式切换\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(function () {\n    var _iconsRef$current;\n    var svgs = (_iconsRef$current = iconsRef.current) === null || _iconsRef$current === void 0 ? void 0 : _iconsRef$current.getElementsByTagName('path');\n    if (svgs) {\n      var _svgs$iconIndex;\n      Array.prototype.forEach.call(svgs, function (item) {\n        return item.removeAttribute('style');\n      });\n      (_svgs$iconIndex = svgs[iconIndex]) === null || _svgs$iconIndex === void 0 || _svgs$iconIndex.setAttribute('style', 'fill:#212121');\n    }\n  }, [iconIndex, iconsRef.current]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-popmain\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    ref: iconsRef,\n    className: \"\".concat(prefixClass, \"-icons\")\n  }, data === null || data === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default()(_context = data.svgs).call(_context, function (item, index) {\n    var bgColor = iconIndex === index ? '#212121' : '';\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n      key: index,\n      onClick: function onClick() {\n        return handleClickIcon(index);\n      },\n      className: classnames__WEBPACK_IMPORTED_MODULE_3___default()((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, \"\".concat(prefixClass, \"-iconf\"), isLineIconStyle), \"\".concat(prefixClass, \"-iconf-active\"), isLineIconStyle && iconIndex === index)),\n      style: {\n        color: bgColor\n      },\n      dangerouslySetInnerHTML: {\n        __html: item.content\n      }\n    });\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (kd_libs_react__WEBPACK_IMPORTED_MODULE_4___default().memo(IconGenerator));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODg1MjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQXFCQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUtBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9JY29uUGlja2VyRWRpdG9yL0ljb25HZW5lcmF0b3IudHN4PzIxNjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSWNvbiB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTGF5b3V0RWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5cbnR5cGUgQ29sb3JUeXBlID0ge1xuICBrZXk6IHN0cmluZ1xuICB2YWx1ZTogc3RyaW5nXG59XG50eXBlIFN2Z1R5cGUgPSB7XG4gIGNvbnRlbnQ6IHN0cmluZ1xuICBsYWJlbDogc3RyaW5nXG59XG5pbnRlcmZhY2UgSWNvbkdlbmVyYXRvclByb3BzIHtcbiAgZGF0YToge1xuICAgIHN2Z3M6IEFycmF5PFN2Z1R5cGU+XG4gIH1cbiAgLy8gb25TZWxlY3Q6IChjb2xvcjogQ29sb3JUeXBlLCBpY29uOiBTdmdUeXBlKSA9PiB2b2lkXG4gIG9uU2VsZWN0OiAoaWNvbkluZGV4OiBudW1iZXIpID0+IHZvaWRcbiAgaWNvbkluZGV4OiBudW1iZXJcbiAgaXNMaW5lSWNvblN0eWxlPzogYm9vbGVhbixcbiAgcHJlZml4Q2xhc3M6IHN0cmluZ1xufVxuXG5jb25zdCBJY29uR2VuZXJhdG9yID0gKHByb3BzOiBJY29uR2VuZXJhdG9yUHJvcHMpID0+IHtcbiAgY29uc3QgeyBkYXRhLCBpY29uSW5kZXg6IGljb25JbmRleFByb3BzLCBvblNlbGVjdCwgaXNMaW5lSWNvblN0eWxlLCBwcmVmaXhDbGFzcyB9ID0gcHJvcHNcbiAgY29uc3QgW2ljb25JbmRleCwgc2V0SWNvbkluZGV4XSA9IHVzZVN0YXRlPG51bWJlcj4oMClcbiAgY29uc3QgaWNvbnNSZWYgPSB1c2VSZWY8YW55PihudWxsKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SWNvbkluZGV4KGljb25JbmRleFByb3BzKVxuICB9LCBbaWNvbkluZGV4UHJvcHNdKVxuICAvLyDngrnlh7vlm77moIfliqjkvZxcbiAgY29uc3QgaGFuZGxlQ2xpY2tJY29uID0gdXNlQ2FsbGJhY2soKGljb25JbmRleDogbnVtYmVyKSA9PiB7XG4gICAgc2V0SWNvbkluZGV4KGljb25JbmRleClcbiAgICBvblNlbGVjdD8uKGljb25JbmRleClcbiAgfSwgW29uU2VsZWN0LCBkYXRhXSlcblxuICAvLyDnhKbngrnmoLflvI/liIfmjaJcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzdmdzID0gaWNvbnNSZWYuY3VycmVudD8uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhdGgnKVxuICAgIGlmIChzdmdzKSB7XG4gICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHN2Z3MsIGl0ZW0gPT4gaXRlbS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJykpXG4gICAgICBzdmdzW2ljb25JbmRleF0/LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZmlsbDojMjEyMTIxJylcbiAgICB9XG4gIH0sIFtpY29uSW5kZXgsIGljb25zUmVmLmN1cnJlbnRdKVxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbGFzc30tcG9wbWFpbmB9ID5cbiAgICAgIDxkaXYgcmVmPXtpY29uc1JlZn0gY2xhc3NOYW1lPXtgJHtwcmVmaXhDbGFzc30taWNvbnNgfT5cbiAgICAgICAgeyBkYXRhPy5zdmdzLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBiZ0NvbG9yID0gaWNvbkluZGV4ID09PSBpbmRleCA/ICcjMjEyMTIxJyA6ICcnXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ2xpY2tJY29uKGluZGV4KX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsgW2Ake3ByZWZpeENsYXNzfS1pY29uZmBdOiBpc0xpbmVJY29uU3R5bGUsICBbYCR7cHJlZml4Q2xhc3N9LWljb25mLWFjdGl2ZWBdOiBpc0xpbmVJY29uU3R5bGUgJiYgaWNvbkluZGV4ID09PSBpbmRleCB9KX1cbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBjb2xvcjogYmdDb2xvclxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGl0ZW0uY29udGVudCB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhJY29uR2VuZXJhdG9yKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///88528\n");

/***/ }),

/***/ 98292:
/*!************************************************!*\
  !*** ./src/editors/IconPickerEditor/index.tsx ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 1900);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _IconGenerator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./IconGenerator */ 88528);\n/* harmony import */ var _constants_actionName__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../constants/actionName */ 82964);\n\n\n\n\n\n\n\n\n\nvar IconPickerEditor = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.memo)(function (props) {\n  var handleChange = props.handleChange,\n    className = props.className,\n    editor = props.editor,\n    name = props.Name,\n    tips = props.Tips,\n    image = props.value;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_context__WEBPACK_IMPORTED_MODULE_6__.DesignerContext),\n    invokeAction = _useContext.invokeAction,\n    prefixCls = _useContext.prefixCls,\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var editorPrefixCls = \"\".concat(prefixCls, \"-iconPicker-editor\");\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n      iconIndex: undefined\n    }),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    currentIcon = _useState2[0],\n    setCurrentIcon = _useState2[1];\n  var iconComponent = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null); // 图标\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useState)({}),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState3, 2),\n    svgData = _useState4[0],\n    setSvgData = _useState4[1];\n\n  /**\n   * 获取图标\n   */\n  var fetchSvgData = function fetchSvgData() {\n    invokeAction('getSvgLine', []);\n  };\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    fetchSvgData();\n  }, []);\n  var getSvgLine = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (info) {\n    var _info$data, _info$data2;\n    setSvgData(info === null || info === void 0 || (_info$data = info.data) === null || _info$data === void 0 ? void 0 : _info$data.row);\n    setIndex(image, info === null || info === void 0 || (_info$data2 = info.data) === null || _info$data2 === void 0 ? void 0 : _info$data2.row);\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_8__.GET_SVG_LINE, getSvgLine);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_8__.GET_SVG_LINE, getSvgLine);\n    };\n  }, []);\n\n  // 标题属性，关联表单不显示switch切换\n  var titleProps = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\n    return {\n      name: name,\n      className: className,\n      nameHidden: nameHidden,\n      tips: tips,\n      required: required\n    };\n  }, [name, className, nameHidden, tips, required]);\n  var handleSelect = function handleSelect(iconIndex) {\n    var _svgData$svgs, _context;\n    setCurrentIcon({\n      iconIndex: iconIndex\n    });\n    var color = encodeURIComponent('#666666');\n    var icon = svgData === null || svgData === void 0 || (_svgData$svgs = svgData.svgs) === null || _svgData$svgs === void 0 ? void 0 : _svgData$svgs[iconIndex].label;\n    var url = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default()(_context = \"nocode/v2/nocode_sys/common/svgs/create_svg_line?color=\".concat(color, \"&svg=\")).call(_context, icon);\n    handleChange === null || handleChange === void 0 || handleChange(url);\n  };\n  var getQueryString = function getQueryString(name) {\n    var url = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window.location.href;\n    var search = url.split('?')[1];\n    var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');\n    var r = search === null || search === void 0 ? void 0 : search.match(reg);\n    if (r != null) return unescape(r[2]);\n    return null;\n  };\n\n  // 确定当前应用图标位置\n  var setIndex = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (image, datas) {\n    var _datas$svgs;\n    var svg = getQueryString('svg', image); // 图标样式\n    var iconIndex = svg && svg !== 'undefined' ? datas === null || datas === void 0 || (_datas$svgs = datas.svgs) === null || _datas$svgs === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_2___default()(_datas$svgs).call(_datas$svgs, function (item) {\n      return item.label === svg;\n    }) : 0;\n    setCurrentIcon({\n      iconIndex: iconIndex\n    });\n  }, []);\n\n  // SVG图标改成白色\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(function () {\n    var _iconComponent$curren;\n    if (!svgData || !iconComponent.current) return;\n    var svgFill = '#212121';\n    (_iconComponent$curren = iconComponent.current.getElementsByTagName('path')) === null || _iconComponent$curren === void 0 || (_iconComponent$curren = _iconComponent$curren[0]) === null || _iconComponent$curren === void 0 || _iconComponent$curren.setAttribute('style', \"fill:\".concat(svgFill, \" \"));\n  }, [svgData, currentIcon, iconComponent.current]);\n  var tip = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_IconGenerator__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      data: svgData,\n      iconIndex: currentIcon.iconIndex,\n      onSelect: handleSelect,\n      prefixClass: editorPrefixCls,\n      isLineIconStyle: true\n    });\n  }, [svgData, currentIcon]);\n  var handleOnChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (visible) {\n    if (visible) {\n      setIndex(image, svgData);\n    } else {\n      var _svgData$svgs2, _context2;\n      var color = encodeURIComponent('#666666');\n      var icon = svgData === null || svgData === void 0 || (_svgData$svgs2 = svgData.svgs) === null || _svgData$svgs2 === void 0 ? void 0 : _svgData$svgs2[currentIcon.iconIndex].label;\n      var url = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default()(_context2 = \"nocode/v2/nocode_sys/common/svgs/create_svg_line?color=\".concat(color, \"&svg=\")).call(_context2, icon);\n      handleChange === null || handleChange === void 0 || handleChange(url);\n    }\n  }, [svgData, currentIcon, handleChange]);\n\n  // 应用图标组件\n  var triggerElement = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\n    var _svgData$svgs3, _svgData$svgs4;\n    var svg = getQueryString('svg', image); // 图标样式\n    var iconIndex = svg && svg !== 'undefined' ? svgData === null || svgData === void 0 || (_svgData$svgs3 = svgData.svgs) === null || _svgData$svgs3 === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_2___default()(_svgData$svgs3).call(_svgData$svgs3, function (item) {\n      return item.label === svg;\n    }) : 0;\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n      ref: iconComponent,\n      className: \"\".concat(editorPrefixCls, \"-avatar\"),\n      dangerouslySetInnerHTML: {\n        __html: (svgData === null || svgData === void 0 || (_svgData$svgs4 = svgData.svgs) === null || _svgData$svgs4 === void 0 || (_svgData$svgs4 = _svgData$svgs4[iconIndex]) === null || _svgData$svgs4 === void 0 ? void 0 : _svgData$svgs4.content) || ''\n      }\n    });\n  }, [svgData, currentIcon, image]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n    className: editorPrefixCls\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n    className: \"\".concat(editorPrefixCls, \"-nav\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.NameTipWrapper, titleProps)), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__.ConfigProvider, {\n    value: {\n      prefixCls: 'kd'\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__.Tooltip, {\n    placement: \"bottomLeft\",\n    arrow: false,\n    popperClassName: \"\".concat(editorPrefixCls, \"-pop\"),\n    gap: 0,\n    tip: tip,\n    trigger: \"click\",\n    onVisibleChange: handleOnChange\n  }, triggerElement))));\n});\nIconPickerEditor.displayName = 'IconPickerEditor';\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.ErrorBoundaryWrap)(IconPickerEditor, 'IconPickerEditor'));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTgyOTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFFQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2VkaXRvcnMvSWNvblBpY2tlckVkaXRvci9pbmRleC50c3g/ZmE3MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgRkMsIG1lbW8sIHVzZVN0YXRlLCB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgUHJvcGVydHlFZGl0b3JQcm9wcywgRXJyb3JCb3VuZGFyeVdyYXAsIE5hbWVUaXBXcmFwcGVyLCBldmVudEJ1cyB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IENvbmZpZ1Byb3ZpZGVyIGFzIEtVSUNvbmZpZ1Byb3ZpZGVyLCBUb29sdGlwIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dCdcbmltcG9ydCBJY29uR2VuZXJhdG9yIGZyb20gJy4vSWNvbkdlbmVyYXRvcidcbmltcG9ydCB7IEdFVF9TVkdfTElORSB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9hY3Rpb25OYW1lJ1xuXG5jb25zdCBJY29uUGlja2VyRWRpdG9yOiBGQzxQcm9wZXJ0eUVkaXRvclByb3BzPiA9IG1lbW8oKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaGFuZGxlQ2hhbmdlLCBjbGFzc05hbWUsIGVkaXRvciwgTmFtZTogbmFtZSwgVGlwczogdGlwcywgdmFsdWU6IGltYWdlIH0gPSBwcm9wc1xuICBjb25zdCB7IE5hbWVIaWRkZW46IG5hbWVIaWRkZW4sIFJlcXVpcmVkOiByZXF1aXJlZCB9ID0gZWRpdG9yXG4gIGNvbnN0IHsgaW52b2tlQWN0aW9uLCBwcmVmaXhDbHMsIGdldEtkZXNpZ25lckFwaSB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IGVkaXRvclByZWZpeENscyA9IGAke3ByZWZpeENsc30taWNvblBpY2tlci1lZGl0b3JgXG4gIGNvbnN0IFtjdXJyZW50SWNvbiwgc2V0Q3VycmVudEljb25dID0gdXNlU3RhdGUoeyBpY29uSW5kZXg6IHVuZGVmaW5lZCB9KVxuICBjb25zdCBpY29uQ29tcG9uZW50ID0gdXNlUmVmKG51bGwpIC8vIOWbvuagh1xuICBjb25zdCBbc3ZnRGF0YSwgc2V0U3ZnRGF0YV0gPSB1c2VTdGF0ZSh7fSlcblxuICAvKipcbiAgICog6I635Y+W5Zu+5qCHXG4gICAqL1xuICBjb25zdCBmZXRjaFN2Z0RhdGEgPSAoKSA9PiB7XG4gICAgaW52b2tlQWN0aW9uKCdnZXRTdmdMaW5lJywgW10pXG4gIH1cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaFN2Z0RhdGEoKVxuICB9LCBbXSlcblxuICBjb25zdCBnZXRTdmdMaW5lID0gdXNlQ2FsbGJhY2soKGluZm86YW55KSA9PiB7XG4gICAgc2V0U3ZnRGF0YShpbmZvPy5kYXRhPy5yb3cpXG4gICAgc2V0SW5kZXgoaW1hZ2UsIGluZm8/LmRhdGE/LnJvdylcbiAgfSwgW10pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBldmVudEJ1cy5vbihHRVRfU1ZHX0xJTkUsIGdldFN2Z0xpbmUpXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGV2ZW50QnVzLm9mZihHRVRfU1ZHX0xJTkUsIGdldFN2Z0xpbmUpXG4gICAgfVxuICB9LCBbXSlcblxuICAvLyDmoIfpopjlsZ7mgKfvvIzlhbPogZTooajljZXkuI3mmL7npLpzd2l0Y2jliIfmjaJcbiAgY29uc3QgdGl0bGVQcm9wcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB7IG5hbWUsIGNsYXNzTmFtZSwgbmFtZUhpZGRlbiwgdGlwcywgcmVxdWlyZWQgfVxuICB9LCBbbmFtZSwgY2xhc3NOYW1lLCBuYW1lSGlkZGVuLCB0aXBzLCByZXF1aXJlZF0pXG5cbiAgY29uc3QgaGFuZGxlU2VsZWN0ID0gKGljb25JbmRleCkgPT4ge1xuICAgIHNldEN1cnJlbnRJY29uKHsgaWNvbkluZGV4IH0pXG4gICAgY29uc3QgY29sb3IgPSBlbmNvZGVVUklDb21wb25lbnQoJyM2NjY2NjYnKVxuICAgIGNvbnN0IGljb24gPSBzdmdEYXRhPy5zdmdzPy5baWNvbkluZGV4XS5sYWJlbFxuICAgIGNvbnN0IHVybCA9IGBub2NvZGUvdjIvbm9jb2RlX3N5cy9jb21tb24vc3Zncy9jcmVhdGVfc3ZnX2xpbmU/Y29sb3I9JHtjb2xvcn0mc3ZnPSR7aWNvbn1gXG4gICAgaGFuZGxlQ2hhbmdlPy4odXJsKVxuICB9XG5cbiAgY29uc3QgZ2V0UXVlcnlTdHJpbmcgPSAobmFtZTogc3RyaW5nLCB1cmw6IHN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmKSA9PiB7XG4gICAgY29uc3Qgc2VhcmNoID0gdXJsLnNwbGl0KCc/JylbMV1cbiAgICBjb25zdCByZWcgPSBuZXcgUmVnRXhwKCcoXnwmKScgKyBuYW1lICsgJz0oW14mXSopKCZ8JCknLCAnaScpXG4gICAgY29uc3QgciA9IHNlYXJjaD8ubWF0Y2gocmVnKVxuICAgIGlmIChyICE9IG51bGwpIHJldHVybiB1bmVzY2FwZShyWzJdKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvLyDnoa7lrprlvZPliY3lupTnlKjlm77moIfkvY3nva5cbiAgY29uc3Qgc2V0SW5kZXggPSB1c2VDYWxsYmFjaygoaW1hZ2UsIGRhdGFzKSA9PiB7XG4gICAgY29uc3Qgc3ZnID0gZ2V0UXVlcnlTdHJpbmcoJ3N2ZycsIGltYWdlKSAvLyDlm77moIfmoLflvI9cbiAgICBjb25zdCBpY29uSW5kZXggPSBzdmcgJiYgc3ZnICE9PSAndW5kZWZpbmVkJyA/IGRhdGFzPy5zdmdzPy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmxhYmVsID09PSBzdmcpIDogMFxuICAgIHNldEN1cnJlbnRJY29uKHsgaWNvbkluZGV4IH0pXG4gIH0sIFtdKVxuXG4gIC8vIFNWR+Wbvuagh+aUueaIkOeZveiJslxuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc3ZnRGF0YSB8fCAhaWNvbkNvbXBvbmVudC5jdXJyZW50KSByZXR1cm5cbiAgICBjb25zdCBzdmdGaWxsID0gJyMyMTIxMjEnXG4gICAgaWNvbkNvbXBvbmVudC5jdXJyZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYXRoJyk/LlswXT8uc2V0QXR0cmlidXRlKCdzdHlsZScsIGBmaWxsOiR7c3ZnRmlsbH0gYClcbiAgfSwgW3N2Z0RhdGEsIGN1cnJlbnRJY29uLCBpY29uQ29tcG9uZW50LmN1cnJlbnRdKVxuXG4gIGNvbnN0IHRpcCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiA8SWNvbkdlbmVyYXRvciBkYXRhPXtzdmdEYXRhfSBpY29uSW5kZXg9e2N1cnJlbnRJY29uLmljb25JbmRleH0gb25TZWxlY3Q9e2hhbmRsZVNlbGVjdH0gcHJlZml4Q2xhc3M9e2VkaXRvclByZWZpeENsc30gaXNMaW5lSWNvblN0eWxlPXt0cnVlfSAvPlxuICB9LCBbc3ZnRGF0YSwgY3VycmVudEljb25dKVxuXG4gIGNvbnN0IGhhbmRsZU9uQ2hhbmdlID0gdXNlQ2FsbGJhY2soKHZpc2libGUpID0+IHtcbiAgICBpZiAodmlzaWJsZSkge1xuICAgICAgc2V0SW5kZXgoaW1hZ2UsIHN2Z0RhdGEpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNvbG9yID0gZW5jb2RlVVJJQ29tcG9uZW50KCcjNjY2NjY2JylcbiAgICAgIGNvbnN0IGljb24gPSBzdmdEYXRhPy5zdmdzPy5bY3VycmVudEljb24uaWNvbkluZGV4XS5sYWJlbFxuICAgICAgY29uc3QgdXJsID0gYG5vY29kZS92Mi9ub2NvZGVfc3lzL2NvbW1vbi9zdmdzL2NyZWF0ZV9zdmdfbGluZT9jb2xvcj0ke2NvbG9yfSZzdmc9JHtpY29ufWBcbiAgICAgIGhhbmRsZUNoYW5nZT8uKHVybClcbiAgICB9XG4gIH0sIFtzdmdEYXRhLCBjdXJyZW50SWNvbiwgaGFuZGxlQ2hhbmdlXSlcblxuICAvLyDlupTnlKjlm77moIfnu4Tku7ZcbiAgY29uc3QgdHJpZ2dlckVsZW1lbnQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBzdmcgPSBnZXRRdWVyeVN0cmluZygnc3ZnJywgaW1hZ2UpIC8vIOWbvuagh+agt+W8j1xuICAgIGNvbnN0IGljb25JbmRleCA9IHN2ZyAmJiBzdmcgIT09ICd1bmRlZmluZWQnID8gc3ZnRGF0YT8uc3Zncz8uZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5sYWJlbCA9PT0gc3ZnKSA6IDBcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICByZWY9e2ljb25Db21wb25lbnR9XG4gICAgICAgIGNsYXNzTmFtZT17YCR7ZWRpdG9yUHJlZml4Q2xzfS1hdmF0YXJgfVxuICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IHN2Z0RhdGE/LnN2Z3M/LltpY29uSW5kZXhdPy5jb250ZW50IHx8ICcnIH19XG4gICAgICAvPlxuICAgIClcbiAgfSwgW3N2Z0RhdGEsIGN1cnJlbnRJY29uLCBpbWFnZV0pXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17ZWRpdG9yUHJlZml4Q2xzfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtlZGl0b3JQcmVmaXhDbHN9LW5hdmB9PjxOYW1lVGlwV3JhcHBlciB7Li4udGl0bGVQcm9wc30gLz48L2Rpdj5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxLVUlDb25maWdQcm92aWRlciB2YWx1ZT17eyBwcmVmaXhDbHM6ICdrZCcgfX0+XG4gICAgICAgICAgPFRvb2x0aXAgcGxhY2VtZW50PSdib3R0b21MZWZ0JyBhcnJvdz17ZmFsc2V9IHBvcHBlckNsYXNzTmFtZT17YCR7ZWRpdG9yUHJlZml4Q2xzfS1wb3BgfSBnYXA9ezB9IHRpcD17dGlwfSB0cmlnZ2VyPSdjbGljaycgb25WaXNpYmxlQ2hhbmdlPXtoYW5kbGVPbkNoYW5nZX0+XG4gICAgICAgICAgICB7dHJpZ2dlckVsZW1lbnR9XG4gICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICA8L0tVSUNvbmZpZ1Byb3ZpZGVyPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn0pXG5cbkljb25QaWNrZXJFZGl0b3IuZGlzcGxheU5hbWUgPSAnSWNvblBpY2tlckVkaXRvcidcblxuZXhwb3J0IGRlZmF1bHQgRXJyb3JCb3VuZGFyeVdyYXAoSWNvblBpY2tlckVkaXRvciwgJ0ljb25QaWNrZXJFZGl0b3InKSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///98292\n");

/***/ }),

/***/ 49668:
/*!**************************************************************!*\
  !*** ./src/editors/InputContentEditor/InputContentModal.tsx ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/values */ 72400);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 24496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/ends-with */ 68456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 1900);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/starts-with */ 11908);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 61260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _utils_treeUtils__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../utils/treeUtils */ 31340);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../utils/control */ 3700);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../utils */ 41232);\n/* harmony import */ var _hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../hooks/useQueryEventData */ 23312);\n/* harmony import */ var _hooks_useListTreeConfigParser__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../hooks/useListTreeConfigParser */ 13276);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_30__);\n/* harmony import */ var _components_BillQuickFinderModal__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../components/BillQuickFinderModal */ 30488);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_32__);\n\n\n\n\n\n\n\n\n\nvar _excluded = [\"compareTypes\", \"compareType\", \"compareTypeCaption\", \"fieldName\", \"fieldCaption\", \"items\", \"value\"];\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_9___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _Condition$constants = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.Condition.constants,\n  allFieldRegExp = _Condition$constants.allFieldRegExp,\n  allExpRegExp = _Condition$constants.allExpRegExp;\nvar exludeTreeNodeByCallback = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.treeUtils.exludeTreeNodeByCallback,\n  transformTreeToListConfig = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.treeUtils.transformTreeToListConfig;\nvar decodeValue = function decodeValue(value) {\n  try {\n    return decodeURIComponent(value);\n  } catch (error) {\n    return value;\n  }\n};\nvar getOptionValueDecoded = function getOptionValueDecoded(options) {\n  return options === null || options === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(options).call(options, function (op) {\n    return _objectSpread(_objectSpread({}, op), {}, {\n      value: decodeValue(op.value)\n    });\n  });\n};\nvar editType = [{\n  id: 'edit',\n  name: {\n    zh_CN: '编辑'\n  }\n}, {\n  id: 'mustinput',\n  name: {\n    zh_CN: '必填'\n  }\n}, {\n  id: 'readonly',\n  name: {\n    zh_CN: '只读'\n  }\n}, {\n  id: 'disabled',\n  name: {\n    zh_CN: '禁用'\n  }\n}];\n// 将树数据转换为treeSelect的options\nvar transformToTreeSelectOptions = function transformToTreeSelectOptions(treeData, refBillPrefixMap, metaApi, refBillNameMap) {\n  return treeData.reduce(function (newTree, item) {\n    var _item$CustomContent$o;\n    var controlType = item._Type_,\n      controlKey = item.Key,\n      controlName = item.Name,\n      formatType = item.FormatType,\n      SelectItemType = item.SelectItemType,\n      Multi = item.Multi,\n      children = item.children;\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isSysControl)(controlType) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isRichTextField)(controlType) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isGraphicDisplayField)(controlType)) {\n      return newTree;\n    }\n    var fieldType = (0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isRefBill)(controlType) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isRefBillTable)(controlType) ? 'NoCodeMulRefBillField' : controlType;\n    var fieldTypeLowerCase = fieldType === null || fieldType === void 0 ? void 0 : fieldType.toLowerCase();\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isDateRange)(controlType)) {\n      // 日期范围需要拆分成‘开始日期’和‘结束日期’两个字段\n      var ops = [{\n        title: \"\".concat(controlName, \".\\u5F00\\u59CB\"),\n        titlePrefix: '[日期]',\n        key: \"\".concat(controlKey, \"_startdate\"),\n        formatType: formatType,\n        type: 'nocodedatefield',\n        compareTypes: editType,\n        checkable: true,\n        selectable: false\n      }, {\n        title: \"\".concat(controlName, \".\\u7ED3\\u675F\"),\n        titlePrefix: '[日期]',\n        key: \"\".concat(controlKey, \"_enddate\"),\n        formatType: formatType,\n        type: 'nocodedatefield',\n        compareTypes: editType,\n        checkable: true,\n        selectable: false\n      }];\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(newTree).call(newTree, ops);\n    }\n    var other = {};\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isRefBill)(controlType) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isSysRefBill)(controlType) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isRefBillTable)(controlType)) {\n      // 适配选项，如果是新添加的字段，选项的items得自己根据元数据构造\n      other = (0,_utils__WEBPACK_IMPORTED_MODULE_26__.transformRefBillMeta)(item, metaApi);\n    } else if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isImageField)(controlType)) {\n      var _context;\n      var pictureType = metaApi.getControlMetaEditor(controlType, 'ImageFileType').Enum; // 图片类型列表\n      var pictureDefaultSize = metaApi.getControlPropertyDefaultValue(controlType, 'FileMaxSize'); // 默认图片大小\n      var pictureDefaultType = metaApi.getControlPropertyDefaultValue(controlType, 'ImageFileType'); // 默认图片类型\n      var type = (item === null || item === void 0 ? void 0 : item.ImageFileType) || pictureDefaultType; // 类型，优先使用用户选择的类型\n      var typeArr = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(_context = type.split(',')).call(_context, function (item) {\n        return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default()(pictureType).call(pictureType, function (i) {\n          return i.Id === item;\n        })[0].Name;\n      });\n      other = {\n        UploadNum: (item === null || item === void 0 ? void 0 : item.UploadNum) || {\n          max: 9,\n          min: 0\n        },\n        FileMaxSize: item.FileMaxSize || pictureDefaultSize,\n        typeArr: typeArr\n      };\n    } else if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isAttachmentField)(controlType)) {\n      var attachmentDefaultType = metaApi.getControlPropertyDefaultValue(controlType, 'AttachmentFileType'); // 默认图片类型\n      var fileMaxSizeDef = metaApi.getControlPropertyDefaultValue(controlType, 'FileMaxSize'); // 默认图片大小\n      var fileType = (item === null || item === void 0 ? void 0 : item.AttachmentFileType) || attachmentDefaultType; // 支持的文件类型,需要判空\n      other = {\n        UploadNum: (item === null || item === void 0 ? void 0 : item.UploadNum) || {\n          max: 9,\n          min: 0\n        },\n        maxSize: item.FileMaxSize || fileMaxSizeDef,\n        fileType: fileType\n      };\n    }\n    var items = item.CustomContent ? (_item$CustomContent$o = item.CustomContent.ops) === null || _item$CustomContent$o === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(_item$CustomContent$o).call(_item$CustomContent$o, function (op) {\n      var Label = op.Label,\n        Value = op.Value,\n        Bgc = op.Bgc;\n      return {\n        name: {\n          zh_CN: Label\n        },\n        value: Value,\n        bgc: Bgc\n      };\n    }) : undefined;\n    var titlePrefix = (0,_utils__WEBPACK_IMPORTED_MODULE_26__.getFieldNamePrefix)(item, refBillPrefixMap, metaApi, refBillNameMap);\n    var node = _objectSpread({\n      title: controlName,\n      titlePrefix: titlePrefix,\n      key: controlKey,\n      type: fieldTypeLowerCase,\n      isMulti: (0,_utils__WEBPACK_IMPORTED_MODULE_26__.isMultiSelect)(SelectItemType) || (0,_utils__WEBPACK_IMPORTED_MODULE_26__.isMultiSelect)(Multi),\n      items: items,\n      formatType: formatType,\n      compareTypes: editType,\n      checkable: true,\n      selectable: false\n    }, other);\n    if ((0,_utils__WEBPACK_IMPORTED_MODULE_26__.isGroupContainer)(controlType) && children) {\n      if (children) {\n        node.children = transformToTreeSelectOptions(children, refBillPrefixMap, metaApi, refBillNameMap);\n      }\n      node.checkable = false;\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(newTree).call(newTree, node);\n  }, []);\n};\nvar transformFieldOptions = function transformFieldOptions(data, metaApi) {\n  var limitDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  return (data || []).reduce(function (treeData, item) {\n    var _id$split;\n    var caption = item.caption,\n      type = item.type,\n      id = item.id,\n      _item$option = item.option,\n      option = _item$option === void 0 ? {} : _item$option,\n      typeCaption = item.typeCaption;\n    var sourceForm = option.sourceForm;\n\n    // 根据后端拼接的'.'分割出数组，以此为依据判断层级\n    var depth = (id === null || id === void 0 || (_id$split = id.split('.')) === null || _id$split === void 0 ? void 0 : _id$split.length) || 0;\n    if (type !== 'group' && depth > limitDepth) return treeData;\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isSysControl)(type) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isRichTextField)(type) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isGraphicDisplayField)(type)) {\n      return treeData;\n    }\n    var fieldTypeLowerCase = type === null || type === void 0 ? void 0 : type.toLowerCase();\n    if (fieldTypeLowerCase === 'nocodedaterangefield') {\n      fieldTypeLowerCase = 'nocodedatefield';\n    } else if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isRefBill)(type) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isSysRefBill)(type) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isRefBillTable)(type)) {\n      fieldTypeLowerCase = 'nocodemulrefbillfield';\n    }\n    var children = option.children,\n      valueItems = option.valueItems,\n      billEntityId = option.billEntityId,\n      displayProp = option.displayProp,\n      isMulti = option.isMulti,\n      formatType = option.formatType;\n    var res = {\n      title: caption,\n      titlePrefix: typeCaption,\n      key: id,\n      compareTypes: editType,\n      type: fieldTypeLowerCase,\n      formatType: formatType,\n      selectable: false,\n      checkable: true\n    };\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isRefBill)(type) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isSysRefBill)(type) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isRefBillTable)(type)) {\n      if (!billEntityId) {\n        return treeData;\n      }\n      res = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(res, {\n        displayProp: displayProp,\n        entityId: billEntityId,\n        isMulti: isMulti\n      });\n    } else if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isSelectField)(type)) {\n      res = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(res, {\n        isMulti: isMulti\n      });\n    } else if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isImageField)(type)) {\n      var _context2;\n      var ImageFileType = option.ImageFileType,\n        FileMaxSize = option.FileMaxSize,\n        UploadNum = option.UploadNum;\n      var pictureType = metaApi.getControlMetaEditor(type, 'ImageFileType').Enum; // 图片类型列表\n      var pictureDefaultSize = metaApi.getControlPropertyDefaultValue(type, 'FileMaxSize'); // 默认图片大小\n      var pictureDefaultType = metaApi.getControlPropertyDefaultValue(type, 'ImageFileType'); // 默认图片类型\n      var defaultUploadNum = metaApi.getControlPropertyDefaultValue(type, 'UploadNum');\n      var types = ImageFileType || pictureDefaultType; // 类型，优先使用用户选择的类型\n      var typeArr = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(_context2 = types.split(',')).call(_context2, function (item) {\n        return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default()(pictureType).call(pictureType, function (i) {\n          return i.Id === item;\n        })[0].Name;\n      });\n      res = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(res, {\n        UploadNum: UploadNum || defaultUploadNum,\n        FileMaxSize: FileMaxSize || pictureDefaultSize,\n        typeArr: typeArr\n      });\n    } else if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isAttachmentField)(type)) {\n      var AttachmentFileType = option.AttachmentFileType,\n        _FileMaxSize = option.FileMaxSize,\n        _UploadNum = option.UploadNum;\n      var attachmentDefaultType = metaApi.getControlPropertyDefaultValue(type, 'AttachmentFileType'); // 默认图片类型\n      var fileMaxSizeDef = metaApi.getControlPropertyDefaultValue(type, 'FileMaxSize'); // 默认图片大小\n      var fileType = AttachmentFileType || attachmentDefaultType; // 支持的文件类型,需要判空\n      var _defaultUploadNum = metaApi.getControlPropertyDefaultValue(type, 'UploadNum');\n      res = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(res, {\n        UploadNum: _UploadNum || _defaultUploadNum,\n        maxSize: _FileMaxSize || fileMaxSizeDef,\n        fileType: fileType\n      });\n    }\n    if (valueItems) {\n      res.items = valueItems;\n    }\n    if (children) {\n      res.children = transformFieldOptions(children, metaApi, limitDepth);\n    }\n    if (type === 'group') {\n      var _res;\n      res.checkable = false;\n      if (!((_res = res) !== null && _res !== void 0 && (_res = _res.children) !== null && _res !== void 0 && _res.length)) {\n        // 如果分组下没有字段，也不返回分组节点\n        return treeData;\n      }\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(treeData).call(treeData, res);\n  }, []);\n};\nvar ChildrenItem = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.memo)(function (_ref) {\n  var item = _ref.item,\n    index = _ref.index,\n    filterOptions = _ref.filterOptions,\n    fieldTree = _ref.fieldTree,\n    prefixCls = _ref.prefixCls,\n    handleCompareTypeChange = _ref.handleCompareTypeChange,\n    refBillProps = _ref.refBillProps,\n    fieldRecords = _ref.fieldRecords,\n    handleValChange = _ref.handleValChange,\n    handleVarSelect = _ref.handleVarSelect,\n    handleDelete = _ref.handleDelete,\n    verifyData = _ref.verifyData,\n    formId = _ref.formId;\n  var propCompareTypes = item.compareTypes,\n    compareType = item.compareType,\n    compareTypeCaption = item.compareTypeCaption,\n    fieldName = item.fieldName,\n    fieldCaption = item.fieldCaption,\n    items = item.items,\n    value = item.value,\n    controlMeta = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(item, _excluded);\n  var getCompareTypeOptions = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.ListFilterUtil.getCompareTypeOptions,\n    getVarSelectedKeysInfo = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.ListFilterUtil.getVarSelectedKeysInfo,\n    getValueTypeByType = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.ListFilterUtil.getValueTypeByType,\n    getNewValue = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.ListFilterUtil.getNewValue,\n    transform2Options = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.ListFilterUtil.transform2Options,\n    VALUE_EMPTY_COMPARE_TYPE = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.ListFilterUtil.VALUE_EMPTY_COMPARE_TYPE;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useContext)(_context__WEBPACK_IMPORTED_MODULE_23__.DesignerContext),\n    getBaseHooks = _useContext.getBaseHooks,\n    invokeAction = _useContext.invokeAction,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    getExpressionData = _useContext.getExpressionData,\n    getRefBillData = _useContext.getRefBillData,\n    getCompareTypes = _useContext.getCompareTypes,\n    batchInvoke = _useContext.batchInvoke,\n    baseUrl = _useContext.baseUrl;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data;\n  var useKDRefBill = getBaseHooks('useKDRefBill');\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState, 2),\n    visible = _useState2[0],\n    setVisible = _useState2[1];\n  var _ref2 = controlMeta || {},\n    entityId = _ref2.entityId,\n    formatType = _ref2.formatType,\n    type = _ref2.type,\n    displayProp = _ref2.displayProp;\n  var valueInputType = getValueTypeByType(controlMeta);\n  var refBillType = refBillProps ? valueInputType : 'text'; // 兼容未支持refbill的筛选\n  var fieldType = valueInputType === 'refbill' ? refBillType : valueInputType === 'select' && item.isMulti === true ? 'multiSelect' : valueInputType;\n  var dataValue = getNewValue(fieldType, value, fieldRecords === null || fieldRecords === void 0 ? void 0 : fieldRecords[fieldName]);\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useState)(false),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState3, 2),\n    formulaVisible = _useState4[0],\n    setFormulaVisible = _useState4[1];\n  var _useState5 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useState)(false),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState5, 2),\n    billFinderVisible = _useState6[0],\n    setBillFinderVisible = _useState6[1];\n  var _useState7 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useState)(false),\n    _useState8 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState7, 2),\n    varSelectActive = _useState8[0],\n    setVarSelectActive = _useState8[1];\n  var compareTypesMap = getCompareTypes();\n  var rootId = dataContext.getRootId();\n  var curfieldData = {\n    name: 'field',\n    value: fieldName,\n    options: filterOptions,\n    fieldType: 'treeSelect',\n    disabled: true,\n    borderType: 'bordered',\n    className: \"\".concat(prefixCls, \"-modal-body-fielddata\")\n    // placeholder: '',\n  };\n  var curcompareTypeData = {\n    name: 'compareType',\n    value: compareType,\n    options: getCompareTypeOptions(propCompareTypes) || [],\n    className: \"\".concat(prefixCls, \"-modal-body-infoType\"),\n    fieldType: 'select',\n    onChange: function onChange(v) {\n      return handleCompareTypeChange(v, index, fieldType);\n    },\n    borderType: 'bordered'\n  };\n  var varSelectedKeysInfo = getVarSelectedKeysInfo(value);\n  var expressionData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useMemo)(function () {\n    return getExpressionData();\n  }, [getExpressionData]);\n  var defaultInputValue = {\n    valueType: 0,\n    fieldValue: ''\n  };\n  var batchInvokeQuery = function batchInvokeQuery(entityId, args) {\n    var _args$filter = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default()(args),\n      filter = _args$filter === void 0 ? '' : _args$filter,\n      _args$search = args.search,\n      search = _args$search === void 0 ? '' : _args$search,\n      _args$order_by = args.order_by,\n      order_by = _args$order_by === void 0 ? '' : _args$order_by,\n      _args$select = args.select,\n      select = _args$select === void 0 ? '' : _args$select,\n      _args$page_size = args.page_size,\n      page_size = _args$page_size === void 0 ? 10 : _args$page_size,\n      _args$page_no = args.page_no,\n      page_no = _args$page_no === void 0 ? 1 : _args$page_no,\n      _args$ids = args.ids,\n      ids = _args$ids === void 0 ? [] : _args$ids;\n    valueInputType === 'refbill' && entityId && batchInvoke('query', 'nocodeformdesigner', [entityId, {\n      filter: filter,\n      // 数据过滤\n      search: search,\n      // 搜索内容\n      order_by: order_by,\n      // 排序\n      select: select,\n      // 字段\n      page_size: page_size,\n      // 每页行数\n      page_no: page_no,\n      ids: ids // 选中的ids\n    }]);\n  };\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useEffect)(function () {\n    batchInvokeQuery(entityId, {\n      page_size: 10,\n      page_no: 1,\n      search: '',\n      // \"select\": \"name,number\",\n      select: displayProp,\n      ids: dataValue || []\n    });\n  }, [value, entityId]);\n\n  // 0 默认值, 1 查找表单, 2 公式计算\n  var defValueDefine = {\n    nocodetextfield: [0, 1, 2],\n    // 单行文本\n    nocodetextareafield: [0, 1, 2],\n    // 多行文本\n    nocodedecimalfield: [0, 1, 2],\n    // 数字\n    nocoderichtextfield: [0, 1],\n    // 富文本\n    nocodegeofield: [0, 1],\n    // 地理位置（地图+坐标）, 地址\n    nocodeaddressfield: [0, 1],\n    nocodeselectitemfield: [0, 1, 2],\n    // 选项\n    nocodemulrefbillfield: [0, 1, 2],\n    // 关联表单\n    nocodedaterangefield: [0, 1],\n    // 日期范围\n    nocodedatefield: [0, 1, 2],\n    // 日期\n    nocodeimageuploadfield: [0, 1],\n    // 图片\n    nocodeattachmentuploadfield: [0, 1],\n    // 附件\n    nocodegroupcontainerfield: [],\n    // 分组\n    nocodeentryentityfield: [],\n    // 表格\n    nocodegraphicdisplayfield: [0, 1],\n    nocodebillnofield: [0, 1, 2]\n  };\n  var options = [{\n    label: '查找表单记录',\n    key: 'search',\n    id: 1,\n    icon: 'chazhaobiaodanjilu-xian'\n  }, {\n    label: '运算公式',\n    key: 'formula',\n    id: 2,\n    icon: 'yunsuangongshi'\n  }];\n  var defaultQueryFormData = {\n    valueType: 2,\n    value: {\n      relationFormId: '',\n      filterInfos: [],\n      // [{ fieldName: \"def\", compareType: \"=\", value: [\"456\"] }]\n      sortInfos: [],\n      // [{ number: 'number', name: \"abc\", isAsc: true }]\n      result: [] // [{ sourceField: \"field1\", targetField: \"field2\" }]\n    }\n  };\n  var getOptions = function getOptions() {\n    var ids = defValueDefine[type];\n    return options === null || options === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default()(options).call(options, function (option) {\n      return ids === null || ids === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(ids).call(ids, option.id);\n    });\n  };\n  var selectOptions = getOptions();\n  var billProps = _objectSpread(_objectSpread({}, refBillProps), {}, {\n    batchInvokeListConfig: function batchInvokeListConfig() {\n      return refBillProps.batchInvokeListConfig(entityId);\n    },\n    controlMeta: controlMeta,\n    onChange: function onChange(v) {\n      return handleValChange(Array.isArray(v) ? v : v === '' ? [] : v === null || v === void 0 ? void 0 : v.split(','), index, fieldType);\n    }\n    // baseUrl, getBaseControl, useFieldProps,\n    // batchInvoke: onBatchInvoke, getControlText, addControlAction, onDownLoad,\n    // batchInvokeListConfig, batchInvokeQuery\n  });\n  var refBillParams = useKDRefBill(billProps, true);\n  var refBillFieldProps = fieldType === 'refbill' ? _objectSpread(_objectSpread({\n    className: \"\".concat(prefixCls, \"-modal-body-refbill\")\n  }, refBillParams), {}, {\n    value: controlMeta.multi === 1 ? dataValue : dataValue[0]\n  }) : fieldType === 'picture' ? {\n    UploadNum: item.UploadNum,\n    FileMaxSize: item.FileMaxSize,\n    typeArr: item.typeArr\n  } : fieldType === 'attachment' ? {\n    UploadNum: item.UploadNum,\n    maxSize: item.maxSize,\n    fileType: item.fileType\n  } : {};\n  var getValueType = function getValueType(value) {\n    try {\n      if ((0,_utils__WEBPACK_IMPORTED_MODULE_26__.isJson)(value)) {\n        var valueObject = JSON.parse(value);\n        return (valueObject === null || valueObject === void 0 ? void 0 : valueObject.valueType) || 0;\n      } else if (value && (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(value) === 'object') {\n        var _value$;\n        return ((_value$ = value[0]) === null || _value$ === void 0 ? void 0 : _value$.valueType) || 0;\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  var valueType = getValueType(value);\n  var invokeGetFieldLookSetting = function invokeGetFieldLookSetting() {\n    // invokeAction('getBizRule', [{ formId: formId, fieldKey: item.fieldName }], [])\n  };\n\n  // 根据表单元数据构建变量树（实时）\n  /* const dataItems = useMemo(() => {\n    return dataContext.findControlByCondition((item: any) => {\n      const { _Type_: controlType, ParentId } = item\n      const { _Type_: parentControlType } = ParentId ? (dataContext.findControl(ParentId) || {}) : {}\n      return !isEntryEntity(parentControlType) && !isEntryEntity(controlType)\n    })\n  }, []) */\n\n  var getFormulaValue = function getFormulaValue(value) {\n    var _ref3 = value ? value.split('@@') : ['', '', null],\n      _ref4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_ref3, 3),\n      newValue = _ref4[1],\n      lang = _ref4[2]; // 编辑器值|语言\n    return [newValue, lang];\n  };\n  var getInputValue = function getInputValue(value, valueType) {\n    try {\n      if ((0,_utils__WEBPACK_IMPORTED_MODULE_26__.isJson)(value)) {\n        var valueObject = JSON.parse(value);\n        return (valueObject === null || valueObject === void 0 ? void 0 : valueObject.valueType) === valueType ? valueObject.value : '';\n      } else if (value && (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(value) === 'object') {\n        var _value$3;\n        if (valueType === 2) {\n          var _value$2;\n          return (_value$2 = value[0]) === null || _value$2 === void 0 ? void 0 : _value$2.fieldValue;\n        }\n        return ((_value$3 = value[0]) === null || _value$3 === void 0 ? void 0 : _value$3.valueType) === valueType ? value[0].fieldValue : '';\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  var formulaData = getFormulaValue(getInputValue(value, 1));\n  var handleClear = function handleClear(e) {\n    e.stopPropagation();\n    handleVarSelect(item.fieldName, defaultInputValue, fieldType);\n    setVarSelectActive(false);\n  };\n  var getOperations = function getOperations(functionOperations) {\n    return _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_14___default()(functionOperations);\n  };\n  var operations = getOperations(expressionData.functionOperations);\n  var formulaProps = {\n    fieldType: 'formula',\n    onClick: function onClick() {\n      return handleItemClick('formula');\n    },\n    value: formulaData[0],\n    expressionData: expressionData.functionTypes,\n    fieldData: fieldTree,\n    onClear: handleClear,\n    lang: Number(formulaData[1] || 1),\n    readOnly: true,\n    autofocus: false\n  };\n  var handleInputChange = function handleInputChange(v) {\n    console.log('handleInputChange', v);\n    var value;\n    if (typeof v === 'string') {\n      value = v;\n    } else if (Array.isArray(v)) {\n      value = v.join(',');\n    } else if (v !== null && v !== void 0 && v.target) {\n      value = v.target.value;\n    } else {\n      value = v;\n    }\n    handleVarSelect(item.fieldName, {\n      valueType: 0,\n      fieldValue: value\n    }, fieldType);\n  };\n  var findFormProps = {\n    fieldType: 'findForm',\n    borderType: 'bordered',\n    value: getInputValue(value, 2),\n    onChange: handleInputChange,\n    placeholder: '请输入',\n    onClear: handleClear,\n    onClick: function onClick() {\n      return handleItemClick('search');\n    }\n  };\n  var getProps = function getProps() {\n    var propsMap = {\n      1: formulaProps,\n      2: findFormProps\n    };\n    return propsMap[valueType];\n  };\n  var varSelectOtherProps = getProps();\n  var handleShowFormulaModal = function handleShowFormulaModal() {\n    setFormulaVisible(true);\n  };\n  var handleCloseFormulaModal = function handleCloseFormulaModal() {\n    setFormulaVisible(false);\n    valueType === 0 ? setVarSelectActive(false) : setVarSelectActive(!!(varSelectOtherProps !== null && varSelectOtherProps !== void 0 && varSelectOtherProps.value));\n  };\n  var handleCloseBillFinderModal = function handleCloseBillFinderModal() {\n    setBillFinderVisible(false);\n    valueType === 0 ? setVarSelectActive(false) : setVarSelectActive(!!(varSelectOtherProps !== null && varSelectOtherProps !== void 0 && varSelectOtherProps.value));\n  };\n  var handleShowBillFinderModal = function handleShowBillFinderModal() {\n    invokeGetFieldLookSetting();\n    setBillFinderVisible(true);\n  };\n  var handleItemClick = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useCallback)(function (key) {\n    var _fnMap$key;\n    var fnMap = {\n      search: handleShowBillFinderModal,\n      formula: handleShowFormulaModal\n    };\n    (_fnMap$key = fnMap[key]) === null || _fnMap$key === void 0 || _fnMap$key.call(fnMap);\n  }, [handleShowBillFinderModal, handleShowFormulaModal]);\n  var formatData = function formatData(str, isCN) {\n    var _context3, _context4;\n    if (!str) return ''; // 为空值时\n    // 替换中文字符\n    str = str.replace(/）/g, ')').replace(/（/g, '(').replace(/“/g, '\"').replace(/”/g, '\"').replace(/‘/g, \"'\").replace(/’/g, \"'\");\n    var newStr = str.replace(allFieldRegExp, '$1').replace(allExpRegExp, '$1');\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(_context3 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(_context4 = \"\".concat(newStr, \"@@\")).call(_context4, str, \"@@\")).call(_context3, isCN ? 1 : 0);\n  };\n  var handleFormulaConfirm = function handleFormulaConfirm(result, isCN) {\n    result = formatData(result, isCN);\n    /* invokeActions.invokeSaveBizRule({\n      valueType: 1,\n      value: result\n    }) */\n    setFormulaVisible(false);\n    !result ? handleVarSelect(item.fieldName, defaultInputValue, fieldType) : handleVarSelect(item.fieldName, {\n      valueType: 1,\n      fieldValue: result\n    }, fieldType);\n  };\n  var handleQuickFinderConfirm = function handleQuickFinderConfirm(result) {\n    console.log('handleQuickFinderConfirm', result);\n    setBillFinderVisible(false);\n    var value = getQuickFinderInputValue(refBillData, result.value.relationFormId);\n    !result ? handleVarSelect(item.fieldName, defaultInputValue, fieldType) : handleVarSelect(item.fieldName, {\n      valueType: result.valueType,\n      fieldValue: value,\n      rule: result\n    }, fieldType);\n  };\n  var getQuickFinderInputValue = function getQuickFinderInputValue(refBillData, formId) {\n    var _findTargetFormInfo;\n    var value = ((_findTargetFormInfo = findTargetFormInfo(refBillData, formId)) === null || _findTargetFormInfo === void 0 ? void 0 : _findTargetFormInfo.label) || '';\n    value = value ? \"\\u67E5\\u627E\\uFF1A\".concat(value) : '';\n    return value;\n  };\n  var findTargetFormInfo = function findTargetFormInfo(refBillData, fomId) {\n    var info;\n    refBillData.children.forEach(function (item) {\n      if (item.value === fomId) {\n        info = item;\n      }\n      if (item.children) {\n        var v = findTargetFormInfo(item, fomId);\n        if (v) {\n          info = v;\n        }\n      }\n    });\n    return info;\n  };\n  var queryFormValue = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useMemo)(function () {\n    if (valueType === 2) {\n      var _value$4;\n      return ((_value$4 = value[0]) === null || _value$4 === void 0 || (_value$4 = _value$4.rule) === null || _value$4 === void 0 ? void 0 : _value$4.value) || defaultQueryFormData.value;\n    }\n    return defaultQueryFormData.value;\n  }, [value]);\n  var invokeGetListConfig = function invokeGetListConfig(formId) {\n    if (formId === rootId) {\n      return;\n    }\n    invokeAction('listtreeconfig', [formId]);\n  };\n  var invokeGetFieldRecords = function invokeGetFieldRecords(formId) {\n    var fieldName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    invokeAction('getFilterItemLook', [formId, {\n      getEnumData: 'true',\n      enumField: fieldName,\n      filterrows: []\n    }]);\n  };\n  var invokeSaveBizRule = function invokeSaveBizRule(ruleInfo) {};\n  var invokeActions = {\n    // invokeGetFieldLookSetting,\n    invokeGetListConfig: invokeGetListConfig,\n    invokeGetFieldRecords: invokeGetFieldRecords,\n    invokeSaveBizRule: invokeSaveBizRule\n  };\n  var refBillData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useMemo)(function () {\n    var res = getRefBillData();\n    res.children[0].icon = /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_22__.Icon, {\n      prefix: \"nocodeplatformicon\",\n      type: \"gerenzhongxin\",\n      style: {\n        color: '#3987ED'\n      }\n    });\n    res.children[1].icon = /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_22__.Icon, {\n      prefix: \"nocodeplatformicon\",\n      type: \"zuzhi\",\n      style: {\n        color: '#3987ED'\n      }\n    });\n    return res;\n  }, [getRefBillData]);\n  var curvalueData = _objectSpread(_objectSpread({\n    name: 'value',\n    options: transform2Options(items),\n    className: \"\".concat(prefixCls, \"-modal-body-infoValue\"),\n    fieldType: fieldType,\n    // onVisibleChange: (visible) => handleValuePanelVisibleChange(visible, v),\n    borderType: 'bordered',\n    placeholder: _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(VALUE_EMPTY_COMPARE_TYPE).call(VALUE_EMPTY_COMPARE_TYPE, compareType) ? '' : undefined,\n    colHeadFilter: fieldRecords === null || fieldRecords === void 0 ? void 0 : fieldRecords[fieldName],\n    formatType: formatType,\n    baseUrl: baseUrl,\n    isMulti: item.isMulti,\n    // isDefaultInput: true,\n    varSelectProps: _objectSpread({\n      showSearch: true,\n      defaultExpandAll: true,\n      className: \"\".concat(prefixCls, \"-modal-body-var\"),\n      visible: visible,\n      disabled: valueInputType === 'none' || compareType === '001',\n      value: _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_14___default()(varSelectedKeysInfo).join(),\n      // filterValue: filterData.value, // 树搜索\n      popperClassName: \"\".concat(prefixCls, \"-def-editor-var-select-panel\"),\n      type: 'dropdownSelect',\n      selectedKeys: _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_9___default()(varSelectedKeysInfo),\n      data: selectOptions,\n      varSelectActive: varSelectActive,\n      onVarSelectActive: setVarSelectActive,\n      onVisibleChange: setVisible,\n      // onSelect: (selectedkeys, info) => handleVarSelect(selectedkeys, info, index)\n      onSelect: function onSelect(keys) {\n        return handleItemClick(keys[0]);\n      }\n    }, varSelectOtherProps)\n  }, refBillFieldProps), {}, {\n    onChange: function onChange(v) {\n      return handleValChange(v, index, fieldType);\n    },\n    allowClear: fieldType !== 'number',\n    value: item.isMulti ? dataValue : fieldType === 'refbill' ? refBillFieldProps.value : dataValue\n  });\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().Fragment), {\n    key: fieldName + compareType + index\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_22__.ConfigProvider, {\n    value: {\n      prefixCls: 'kd'\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.ConditionFilterItem, {\n    onDelete: function onDelete() {\n      return handleDelete(index);\n    },\n    data: [curfieldData, curcompareTypeData, curvalueData],\n    customInput: [{\n      type: 'notInput',\n      render: function render(_ref5) {\n        var value = _ref5.value,\n          className = _ref5.className;\n        return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(\"span\", {\n          className: className\n        }, value);\n      }\n    }],\n    valueRequired: true,\n    className: \"\".concat(prefixCls, \"-item\"),\n    verifyData: verifyData\n  }), formulaVisible && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.Condition, {\n    value: formulaData[0] // '{{Field id=\"${model.name}\" text=\"表单提交触发|||[文本]姓名\"}}'\n    ,\n    language: Number(formulaData[1] || 1),\n    modalTitle: \"\\u7F16\\u8F91\\u8FD0\\u7B97\\u516C\\u5F0F\",\n    editorTitle: item.fieldCaption\n    // actionType={}\n    ,\n    visible: formulaVisible\n    // hideFunc={}\n    ,\n    editorPlaceholder: \"\\u8BF7\\u7F16\\u8F91\\u8FD0\\u7B97\\u516C\\u5F0F\",\n    fieldData: fieldTree,\n    fieldTitle: \"\\u8868\\u5355\\u5185\\u5BB9\",\n    expressionData: expressionData.functionTypes,\n    operations: operations,\n    defaultExpandAll: false,\n    onClose: handleCloseFormulaModal,\n    onConfirm: handleFormulaConfirm\n  })), billFinderVisible && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_components_BillQuickFinderModal__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n    visible: billFinderVisible,\n    onClose: handleCloseBillFinderModal,\n    invokeActions: invokeActions,\n    queryFormValue: queryFormValue || defaultQueryFormData.value,\n    refBillData: refBillData,\n    field: item,\n    compareTypesMap: compareTypesMap,\n    formId: formId,\n    onConfirm: handleQuickFinderConfirm\n  }));\n});\nChildrenItem.displayName = 'ChildrenItem';\nvar ModalBody = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.forwardRef)(function (_ref6, ref) {\n  var prefixCls = _ref6.prefixCls,\n    fieldKey = _ref6.fieldKey,\n    formId = _ref6.formId,\n    inputFormId = _ref6.inputFormId,\n    value = _ref6.value,\n    onChange = _ref6.onChange,\n    onConfirm = _ref6.onConfirm;\n  var _useContext2 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useContext)(_context__WEBPACK_IMPORTED_MODULE_23__.DesignerContext),\n    baseUrl = _useContext2.baseUrl,\n    onDownLoad = _useContext2.onDownLoad,\n    getControlText = _useContext2.getControlText,\n    batchInvoke = _useContext2.batchInvoke,\n    getCompareTypes = _useContext2.getCompareTypes,\n    getKdesignerApi = _useContext2.getKdesignerApi,\n    curFormulaTreeApi = _useContext2.curFormulaTreeApi,\n    getRefBillNameMap = _useContext2.getRefBillNameMap;\n  var bodyRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useRef)(null);\n  var mainRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useRef)(null);\n  var oldVal = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useRef)([]);\n  var _getKdesignerApi2 = getKdesignerApi(),\n    dataContext = _getKdesignerApi2.data,\n    metaApi = _getKdesignerApi2.meta;\n  var compareTypesMap = getCompareTypes();\n  var rootId = dataContext.getRootId();\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useImperativeHandle)(ref, function () {\n    return {\n      updateVerifyAndGetMsg: function updateVerifyAndGetMsg() {\n        return mainRef.current.updateVerifyAndGetMsg();\n      }\n    };\n  }, []);\n  var fieldRecords = (0,_hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_27__[\"default\"])({\n    id: fieldKey,\n    formId: formId,\n    eventName: 'filterItemLook'\n  });\n  var preCondition = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useMemo)(function () {\n    if (Array.isArray(value)) {\n      var preConditionItem = [];\n      value.forEach(function (item) {\n        preConditionItem.push(_objectSpread(_objectSpread({}, item), {}, {\n          value: typeof item.value === 'string' ? JSON.parse(item.value) : item.value || []\n        }));\n      });\n      return preConditionItem;\n    }\n    return [];\n  }, [value]);\n  var curListFilterConfig = (0,_hooks_useListTreeConfigParser__WEBPACK_IMPORTED_MODULE_28__[\"default\"])({\n    api: curFormulaTreeApi,\n    parser: function parser(data) {\n      return (0,_utils__WEBPACK_IMPORTED_MODULE_26__.listFilterParser)(data, data, compareTypesMap);\n    }\n  });\n  var relationFormFieldOptions = (0,_hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_27__[\"default\"])({\n    id: fieldKey,\n    formId: inputFormId,\n    eventName: 'setListTreeConfig',\n    parser: function parser(_ref7) {\n      var data = _ref7.data;\n      return transformFieldOptions(data, metaApi);\n    },\n    defaultValue: []\n  });\n  var refBillPrefixMap = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useMemo)(function () {\n    return (0,_utils__WEBPACK_IMPORTED_MODULE_26__.deepGetRefBillCaption)(curListFilterConfig);\n  }, [curListFilterConfig]);\n  var curFieldOptions = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useMemo)(function () {\n    var _context5, _buildTree$;\n    // 当前表单内容的下拉项\n    var dataItems = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(_context5 = dataContext.getData().Items || []).call(_context5, function (item) {\n      var _Type_ = item._Type_;\n      var defaultData = metaApi.getDefaultData(_Type_);\n      return _objectSpread(_objectSpread({}, defaultData), item);\n    });\n    var filterNodeCb = function filterNodeCb(node) {\n      var controlType = node._Type_,\n        BillEntityIdEx = node.BillEntityIdEx,\n        showType = node.showType;\n      // 过滤关联表单表格产生的隐藏控件\n      if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isRefBillTable)(controlType)) {\n        return showType !== '1';\n      }\n      return !(0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isBizButton)(controlType) && !(0,_utils_control__WEBPACK_IMPORTED_MODULE_25__.isCreatorOrModifierControl)(controlType) && !((controlType === 'NoCodeMulRefBillField' || controlType === 'NoCodeRefBillField') && BillEntityIdEx === undefined);\n    };\n    var dataTree = exludeTreeNodeByCallback(((_buildTree$ = (0,_utils_treeUtils__WEBPACK_IMPORTED_MODULE_24__.buildTree)(dataItems)[0]) === null || _buildTree$ === void 0 ? void 0 : _buildTree$.children) || [], filterNodeCb);\n    return transformToTreeSelectOptions(dataTree, refBillPrefixMap, metaApi, getRefBillNameMap());\n  }, [refBillPrefixMap, getRefBillNameMap]);\n  var fieldOptions = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useMemo)(function () {\n    if (!inputFormId) return [];\n    return inputFormId !== rootId ? relationFormFieldOptions : curFieldOptions;\n  }, [curFieldOptions, relationFormFieldOptions, inputFormId, rootId]);\n\n  // 根据设计时元数据组装筛选项的数据\n  var listFilterConfig = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useMemo)(function () {\n    return transformTreeToListConfig(fieldOptions);\n  }, [fieldOptions]);\n  var checkedKeys = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useMemo)(function () {\n    return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(preCondition).call(preCondition, function (item) {\n      return item.fieldName;\n    });\n  }, [preCondition]);\n  var fieldTree = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useMemo)(function () {\n    return (0,_utils_treeUtils__WEBPACK_IMPORTED_MODULE_24__.translateFieldData)({\n      options: curListFilterConfig\n    });\n  }, [curListFilterConfig]);\n  var setScrollBar = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useCallback)(function (v) {\n    // const { offsetHeight: bodyHeight } = bodyRef.current\n    // console.log('setScrollBar', mainHeight, bodyHeight, v)\n    if (oldVal.current.length < v.length && v.length > 7) {\n      setTimeout(function () {\n        return bodyRef.current.scrollTo(0, 10000);\n      }, 100);\n    }\n    oldVal.current = v;\n  }, []);\n  var handleChangeFilter = function handleChangeFilter(v) {\n    var newValue = v;\n    if (Array.isArray(v)) {\n      var newv = [];\n      v.forEach(function (item) {\n        newv.push(_objectSpread(_objectSpread({}, item), {}, {\n          value: (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(item.value) === 'object' ? _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_15___default()(item.value) : item.value || ''\n        }));\n      });\n      newValue = newv;\n    }\n    onChange(newValue);\n    setScrollBar(v);\n  };\n  var batchInvokeQuery = function batchInvokeQuery(id) {\n    var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _args$filter2 = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default()(args),\n      filter = _args$filter2 === void 0 ? '' : _args$filter2,\n      _args$search2 = args.search,\n      search = _args$search2 === void 0 ? '' : _args$search2,\n      _args$order_by2 = args.order_by,\n      order_by = _args$order_by2 === void 0 ? '' : _args$order_by2,\n      _args$select2 = args.select,\n      select = _args$select2 === void 0 ? '' : _args$select2,\n      _args$page_size2 = args.page_size,\n      page_size = _args$page_size2 === void 0 ? 10 : _args$page_size2,\n      _args$page_no2 = args.page_no,\n      page_no = _args$page_no2 === void 0 ? 1 : _args$page_no2,\n      _args$ids2 = args.ids,\n      ids = _args$ids2 === void 0 ? [] : _args$ids2;\n    batchInvoke('query', 'nocodeformdesigner', [id, {\n      filter: filter,\n      // 数据过滤\n      search: search,\n      // 搜索内容\n      order_by: order_by,\n      // 排序\n      select: select,\n      // 字段\n      page_size: page_size,\n      // 每页行数\n      page_no: page_no,\n      ids: ids // 选中的ids\n    }]);\n  };\n  var batchInvokeListConfig = function batchInvokeListConfig(id) {\n    batchInvoke('listconfig', 'nocodeformdesigner', [id]);\n  };\n  var addControlAction = function addControlAction(methodName, listener) {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_30__.eventBus.on(methodName, listener);\n  };\n  var onBatchInvoke = function onBatchInvoke(actionName, args) {\n    var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    batchInvoke(actionName, fieldKey, args, params);\n  };\n  var refBillProps = {\n    baseUrl: baseUrl,\n    batchInvoke: onBatchInvoke,\n    getControlText: getControlText,\n    addControlAction: addControlAction,\n    onDownLoad: onDownLoad,\n    batchInvokeListConfig: batchInvokeListConfig,\n    batchInvokeQuery: batchInvokeQuery\n  };\n  var filterDataTransform = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.ListFilterUtil.filterDataTransform,\n    filterNoValue = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.ListFilterUtil.filterNoValue,\n    getNewDefaultFilterDataExcept = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.ListFilterUtil.getNewDefaultFilterDataExcept,\n    getFilterOptions = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.ListFilterUtil.getFilterOptions,\n    createNewValue = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.ListFilterUtil.createNewValue;\n  var _useState9 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useState)([]),\n    _useState10 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState9, 2),\n    verifyData = _useState10[0],\n    setVerifyData = _useState10[1];\n\n  // 展示的数据\n  var configFilters = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useMemo)(function () {\n    setVerifyData([]); // 每次数据发生改变时都清空检验数据\n    return filterDataTransform(preCondition, listFilterConfig) || [];\n  }, [preCondition, listFilterConfig]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useImperativeHandle)(ref, function () {\n    return {\n      // 结合valueRequired使用\n      // 主动触发筛选项的值做非空校验，并返回错误数据\n      updateVerifyAndGetMsg: function updateVerifyAndGetMsg() {\n        var verifyDataInfo = filterNoValue(configFilters);\n        setVerifyData(verifyDataInfo);\n        return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_10___default()(verifyDataInfo).call(verifyDataInfo, function (item) {\n          return !item.verifyStatus;\n        });\n      }\n    };\n  }, [configFilters]);\n\n  // 创建新的过滤项\n  var createNewFilterItem = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useCallback)(function (data) {\n    return _objectSpread(_objectSpread({}, data), {}, {\n      value: data.value || []\n    });\n  }, []);\n\n  // 筛选条件下拉菜单点击项\n  var handleCheck = function handleCheck(fieldNames, checked) {\n    var p = [];\n    // 存储日期范围字段的compareType\n    var dateRangeCompareTypeMap = preCondition.reduce(function (res, item) {\n      var fieldName = item.fieldName,\n        compareType = item.compareType;\n      if (fieldName !== null && fieldName !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_16___default()(fieldName).call(fieldName, '_startdate') || fieldName !== null && fieldName !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_16___default()(fieldName).call(fieldName, '_enddate')) {\n        var prefix = fieldName.replace(/^(\\S+)(_startdate|_enddate)/g, '$1');\n        res[prefix] = compareType;\n      }\n      return res;\n    }, {});\n    fieldNames.forEach(function (fieldName, i) {\n      var preConditionItem = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17___default()(preCondition).call(preCondition, function (item) {\n        return item.fieldName === fieldName;\n      });\n      if (preConditionItem) {\n        p.push(preConditionItem);\n      } else {\n        var newFilter = getNewDefaultFilterDataExcept(listFilterConfig, fieldName, configFilters);\n        // 不能用格式化之后的preCondition，直接用格式化前的value，这样可以使value是字符串，尚未格式化的\n        if (newFilter) {\n          if (fieldName !== null && fieldName !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_16___default()(fieldName).call(fieldName, '_startdate') || fieldName !== null && fieldName !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_16___default()(fieldName).call(fieldName, '_enddate')) {\n            var prefix = fieldName.replace(/^(\\S+)(_startdate|_enddate)/g, '$1');\n            if (dateRangeCompareTypeMap[prefix]) {\n              newFilter.compareType = dateRangeCompareTypeMap[prefix];\n            }\n          }\n          p = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_12___default()(p).call(p, createNewFilterItem(newFilter));\n        }\n      }\n    });\n    handleChangeFilter(p);\n  };\n\n  // 点击清空值\n  var handleClickClear = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useCallback)(function () {\n    if ((preCondition === null || preCondition === void 0 ? void 0 : preCondition.length) > 0) {\n      handleChangeFilter([]);\n    }\n  }, [preCondition, handleChangeFilter]);\n\n  // 类型改变\n  var handleCompareTypeChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useCallback)(function (value, index, fieldType) {\n    var newItem = [];\n    // let reload = () => {}\n    var fieldName = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_17___default()(preCondition).call(preCondition, function (v, i) {\n      return index === i;\n    }).fieldName;\n    var syncIndex = -1;\n    if (fieldName !== null && fieldName !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_16___default()(fieldName).call(fieldName, '_startdate') || fieldName !== null && fieldName !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_16___default()(fieldName).call(fieldName, '_enddate')) {\n      // 日期范围.开始和日期范围.结束需要同步修改比较符\n      var prefix = fieldName.replace(/^(\\S+)(_startdate|_enddate)/g, '$1');\n      syncIndex = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_18___default()(preCondition).call(preCondition, function (v, i) {\n        var _v$fieldName;\n        return ((_v$fieldName = v.fieldName) === null || _v$fieldName === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_19___default()(_v$fieldName).call(_v$fieldName, prefix)) && index !== i;\n      });\n    }\n    preCondition.forEach(function (v, i) {\n      if (index === i || syncIndex === i) {\n        newItem.push(createNewFilterItem({\n          fieldName: v.fieldName,\n          compareType: value,\n          value: v.value,\n          fieldType: fieldType\n        }));\n      } else {\n        newItem.push(createNewFilterItem({\n          fieldName: v.fieldName,\n          compareType: v.compareType,\n          value: v.value,\n          fieldType: fieldType\n        }));\n      }\n    });\n    // reload(newItem)\n    handleChangeFilter(newItem);\n  }, [preCondition, handleChangeFilter]);\n\n  // 值改变\n  var handleValueChange = function handleValueChange(value, index, fieldType) {\n    // value = Array.isArray(value) ? value : (value ? [value] : [])\n    var newItem = [];\n    preCondition.forEach(function (v, i) {\n      index === i ? newItem.push(createNewFilterItem({\n        fieldName: v.fieldName,\n        compareType: v.compareType,\n        value: value,\n        fieldType: fieldType\n      })) : newItem.push(createNewFilterItem({\n        fieldName: v.fieldName,\n        compareType: v.compareType,\n        value: v.value\n      }));\n    });\n    handleChangeFilter(newItem);\n  };\n\n  // 删除\n  var handleDelete = function handleDelete(index) {\n    // 不能用格式化之后的preCondition\n    var newValue = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(preCondition);\n    _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_20___default()(newValue).call(newValue, index, 1);\n    handleChangeFilter(newValue);\n  };\n\n  // 变量选择\n  var handleVarSelect = function handleVarSelect(selectedkeys, info, index, fieldType) {\n    var newItem = [];\n    preCondition.forEach(function (v, i) {\n      if (v.fieldName === selectedkeys) {\n        var _value = [];\n        _value.push(info);\n        newItem.push(createNewFilterItem({\n          fieldName: v.fieldName,\n          compareType: v.compareType,\n          value: _value,\n          fieldType: fieldType\n        }));\n      } else {\n        newItem.push(createNewFilterItem({\n          fieldName: v.fieldName,\n          compareType: v.compareType,\n          value: v.value,\n          fieldType: fieldType\n        }));\n      }\n    });\n    handleChangeFilter(newItem);\n  };\n  var handleValChange = function handleValChange(v, index, fieldType) {\n    var value = createNewValue(v, fieldType);\n    handleValueChange(value, index, fieldType);\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-modal\"),\n    ref: bodyRef\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-modal-body\"),\n    style: {\n      marginTop: '0px'\n    }\n  }, configFilters.length > 0 && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(\"div\", {\n    style: {\n      width: '100%'\n    }\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(configFilters).call(configFilters, function (item, index) {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(ChildrenItem, {\n      key: (item === null || item === void 0 ? void 0 : item.key) || (item === null || item === void 0 ? void 0 : item.fieldName),\n      item: item,\n      index: index,\n      filterOptions: fieldOptions,\n      fieldTree: fieldTree,\n      prefixCls: prefixCls,\n      handleCompareTypeChange: handleCompareTypeChange,\n      refBillProps: refBillProps,\n      fieldRecords: fieldRecords,\n      handleValChange: handleValChange,\n      handleVarSelect: handleVarSelect,\n      handleDelete: handleDelete,\n      verifyData: verifyData,\n      formId: formId\n    });\n  }))), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-modal-footer\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-modal-footer-left\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_22__.ConfigProvider, {\n    value: {\n      prefixCls: 'kd'\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_29__.AddTreeItem, {\n    treeData: fieldOptions,\n    triggerText: \"\\u6DFB\\u52A0\\u5F55\\u5165\\u5185\\u5BB9\",\n    onCheck: handleCheck,\n    checkedKeys: checkedKeys\n  }))), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-modal-footer-right\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_22__.Button, {\n    size: \"small\",\n    className: \"\".concat(prefixCls, \"-modal-footer-btn\"),\n    onClick: handleClickClear\n  }, \"\\u6E05\\u7A7A\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_22__.Button, {\n    size: \"small\",\n    type: \"primary\",\n    className: \"\".concat(prefixCls, \"-modal-footer-btn\"),\n    onClick: onConfirm\n  }, \"\\u786E\\u5B9A\"))));\n});\nvar InputContentModal = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.memo)(function (_ref8) {\n  var prefixCls = _ref8.prefixCls,\n    title = _ref8.title,\n    value = _ref8.value,\n    formId = _ref8.formId,\n    inputFormId = _ref8.inputFormId,\n    visible = _ref8.visible,\n    setVisible = _ref8.setVisible,\n    fieldKey = _ref8.fieldKey,\n    onChange = _ref8.onChange;\n  var _useState11 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useState)(value),\n    _useState12 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState11, 2),\n    innerValue = _useState12[0],\n    setInnerValue = _useState12[1];\n  var modalBodyRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useRef)();\n\n  // 点击取消\n  var handleCancel = function handleCancel() {\n    setVisible(false);\n  };\n\n  // 点击确认\n  var handleConfirm = function handleConfirm() {\n    onChange === null || onChange === void 0 || onChange(innerValue);\n    handleCancel();\n  };\n  var handleChange = function handleChange(value) {\n    setInnerValue(value);\n  };\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_21__.useEffect)(function () {\n    if (visible) {\n      if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_32__.isEqual)(value, innerValue)) {\n        setInnerValue(value);\n      }\n    }\n  }, [visible]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_22__.Modal, {\n    mask: true,\n    visible: visible,\n    body: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement(ModalBody, {\n      ref: modalBodyRef,\n      prefixCls: prefixCls,\n      fieldKey: fieldKey,\n      formId: formId,\n      inputFormId: inputFormId,\n      value: innerValue,\n      onChange: handleChange,\n      onConfirm: handleConfirm\n    }),\n    titleIcon: null,\n    className: \"\".concat(prefixCls, \"-modal\"),\n    maskClosable: false,\n    footer: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_21___default().Fragment), null),\n    width: 640,\n    height: 520,\n    keyboard: false,\n    bodyStyle: {\n      padding: 0,\n      overflow: 'hidden'\n    },\n    footerStyle: {\n      display: 'none'\n    },\n    title: title,\n    closable: true,\n    draggable: false,\n    destroyOnClose: true,\n    onCancel: handleCancel,\n    onOk: handleCancel\n  });\n});\nInputContentModal.displayName = 'InputContentModal';\n/* harmony default export */ __webpack_exports__[\"default\"] = (InputContentModal);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk2NjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBY0E7QUFaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBRUE7QUFRQTtBQU5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUtBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBRUE7QUFVQTtBQVJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFFQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2VkaXRvcnMvSW5wdXRDb250ZW50RWRpdG9yL0lucHV0Q29udGVudE1vZGFsLnRzeD8wZjdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBtZW1vLCB1c2VFZmZlY3QsIHVzZUNvbnRleHQsIHVzZU1lbW8sIHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VJbXBlcmF0aXZlSGFuZGxlLCBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBDb25maWdQcm92aWRlciBhcyBLVUlDb25maWdQcm92aWRlciwgTW9kYWwsIEJ1dHRvbiwgSWNvbiB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQnXG5pbXBvcnQgeyB0cmFuc2xhdGVGaWVsZERhdGEsIGJ1aWxkVHJlZSB9IGZyb20gJy4uLy4uL3V0aWxzL3RyZWVVdGlscydcbmltcG9ydCB7XG4gIGlzRGF0ZVJhbmdlLCBpc0JpekJ1dHRvbiwgaXNBdHRhY2htZW50RmllbGQsIGlzQ3JlYXRvck9yTW9kaWZpZXJDb250cm9sLCBpc1NlbGVjdEZpZWxkLFxuICBpc1JlZkJpbGwsIGlzU3lzUmVmQmlsbCwgaXNJbWFnZUZpZWxkLCBpc1JlZkJpbGxUYWJsZSwgaXNTeXNDb250cm9sLCBpc1JpY2hUZXh0RmllbGQsIGlzR3JhcGhpY0Rpc3BsYXlGaWVsZFxufSBmcm9tICcuLi8uLi91dGlscy9jb250cm9sJ1xuaW1wb3J0IHsgaXNHcm91cENvbnRhaW5lciwgZ2V0RmllbGROYW1lUHJlZml4LCBkZWVwR2V0UmVmQmlsbENhcHRpb24sIGlzSnNvbiwgbGlzdEZpbHRlclBhcnNlciwgdHJhbnNmb3JtUmVmQmlsbE1ldGEsIGlzTXVsdGlTZWxlY3QgfSBmcm9tICcuLi8uLi91dGlscydcbmltcG9ydCB1c2VRdWVyeUV2ZW50RGF0YSBmcm9tICcuLi8uLi9ob29rcy91c2VRdWVyeUV2ZW50RGF0YSdcbmltcG9ydCB1c2VMaXN0VHJlZUNvbmZpZ1BhcnNlciBmcm9tICcuLi8uLi9ob29rcy91c2VMaXN0VHJlZUNvbmZpZ1BhcnNlcidcbmltcG9ydCB7IENvbmRpdGlvbiwgQWRkVHJlZUl0ZW0sIENvbmRpdGlvbkZpbHRlckl0ZW0sIExpc3RGaWx0ZXJVdGlsLCB0cmVlVXRpbHMgfSBmcm9tICdub2NvZGVfY29tcG9uZW50L1dlYlVJJ1xuaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgQmlsbFF1aWNrRmluZGVyTW9kYWwgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9CaWxsUXVpY2tGaW5kZXJNb2RhbCdcbmltcG9ydCB7IGlzRXF1YWwgfSBmcm9tICdsb2Rhc2gnXG5cbmNvbnN0IHsgY29uc3RhbnRzOiB7IGFsbEZpZWxkUmVnRXhwLCBhbGxFeHBSZWdFeHAgfSB9ID0gQ29uZGl0aW9uXG5jb25zdCB7IGV4bHVkZVRyZWVOb2RlQnlDYWxsYmFjaywgdHJhbnNmb3JtVHJlZVRvTGlzdENvbmZpZyB9ID0gdHJlZVV0aWxzXG5cbmNvbnN0IGRlY29kZVZhbHVlID0gKHZhbHVlKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gdmFsdWVcbiAgfVxufVxuXG5jb25zdCBnZXRPcHRpb25WYWx1ZURlY29kZWQgPSAob3B0aW9ucykgPT4ge1xuICByZXR1cm4gb3B0aW9ucz8ubWFwKG9wID0+IHtcbiAgICByZXR1cm4geyAuLi5vcCwgdmFsdWU6IGRlY29kZVZhbHVlKG9wLnZhbHVlKSB9XG4gIH0pXG59XG5cbmNvbnN0IGVkaXRUeXBlID0gW3tcbiAgaWQ6ICdlZGl0JyxcbiAgbmFtZTogeyB6aF9DTjogJ+e8lui+kScgfVxufSwge1xuICBpZDogJ211c3RpbnB1dCcsXG4gIG5hbWU6IHsgemhfQ046ICflv4XloasnIH1cbn0sIHtcbiAgaWQ6ICdyZWFkb25seScsXG4gIG5hbWU6IHsgemhfQ046ICflj6ror7snIH1cbn0sIHtcbiAgaWQ6ICdkaXNhYmxlZCcsXG4gIG5hbWU6IHsgemhfQ046ICfnpoHnlKgnIH1cbn1dXG5cbmludGVyZmFjZSBBcmdzQXBpIHtcbiAgZmlsdGVyPzogc3RyaW5nLFxuICBzZWFyY2g/OiBzdHJpbmcsXG4gIG9yZGVyX2J5Pzogc3RyaW5nLFxuICBzZWxlY3Q/OiBzdHJpbmcsXG4gIHBhZ2Vfc2l6ZT86IG51bWJlcixcbiAgcGFnZV9ubz86IHN0cmluZyxcbiAgaWRzPzogc3RyaW5nW11cbn1cblxuLy8g5bCG5qCR5pWw5o2u6L2s5o2i5Li6dHJlZVNlbGVjdOeahG9wdGlvbnNcbmNvbnN0IHRyYW5zZm9ybVRvVHJlZVNlbGVjdE9wdGlvbnMgPSAodHJlZURhdGE6IGFueVtdLCByZWZCaWxsUHJlZml4TWFwOiBhbnksIG1ldGFBcGk6IGFueSwgcmVmQmlsbE5hbWVNYXA6IGFueSkgPT4ge1xuICByZXR1cm4gdHJlZURhdGEucmVkdWNlKChuZXdUcmVlOiBhbnlbXSwgaXRlbTogYW55KSA9PiB7XG4gICAgY29uc3QgeyBfVHlwZV86IGNvbnRyb2xUeXBlLCBLZXk6IGNvbnRyb2xLZXksIE5hbWU6IGNvbnRyb2xOYW1lLCBGb3JtYXRUeXBlOiBmb3JtYXRUeXBlLCBTZWxlY3RJdGVtVHlwZSwgTXVsdGksIGNoaWxkcmVuIH0gPSBpdGVtXG5cbiAgICBpZiAoaXNTeXNDb250cm9sKGNvbnRyb2xUeXBlKSB8fCBpc1JpY2hUZXh0RmllbGQoY29udHJvbFR5cGUpIHx8IGlzR3JhcGhpY0Rpc3BsYXlGaWVsZChjb250cm9sVHlwZSkpIHtcbiAgICAgIHJldHVybiBuZXdUcmVlXG4gICAgfVxuICAgIGNvbnN0IGZpZWxkVHlwZSA9IChpc1JlZkJpbGwoY29udHJvbFR5cGUpIHx8IGlzUmVmQmlsbFRhYmxlKGNvbnRyb2xUeXBlKSkgPyAnTm9Db2RlTXVsUmVmQmlsbEZpZWxkJyA6IGNvbnRyb2xUeXBlXG4gICAgY29uc3QgZmllbGRUeXBlTG93ZXJDYXNlID0gZmllbGRUeXBlPy50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGlzRGF0ZVJhbmdlKGNvbnRyb2xUeXBlKSkge1xuICAgICAgLy8g5pel5pyf6IyD5Zu06ZyA6KaB5ouG5YiG5oiQ4oCY5byA5aeL5pel5pyf4oCZ5ZKM4oCY57uT5p2f5pel5pyf4oCZ5Lik5Liq5a2X5q61XG4gICAgICBjb25zdCBvcHMgPSBbXG4gICAgICAgIHsgdGl0bGU6IGAke2NvbnRyb2xOYW1lfS7lvIDlp4tgLCB0aXRsZVByZWZpeDogJ1vml6XmnJ9dJywga2V5OiBgJHtjb250cm9sS2V5fV9zdGFydGRhdGVgLCBmb3JtYXRUeXBlLCB0eXBlOiAnbm9jb2RlZGF0ZWZpZWxkJywgY29tcGFyZVR5cGVzOiBlZGl0VHlwZSwgY2hlY2thYmxlOiB0cnVlLCBzZWxlY3RhYmxlOiBmYWxzZSB9LFxuICAgICAgICB7IHRpdGxlOiBgJHtjb250cm9sTmFtZX0u57uT5p2fYCwgdGl0bGVQcmVmaXg6ICdb5pel5pyfXScsIGtleTogYCR7Y29udHJvbEtleX1fZW5kZGF0ZWAsIGZvcm1hdFR5cGUsIHR5cGU6ICdub2NvZGVkYXRlZmllbGQnLCBjb21wYXJlVHlwZXM6IGVkaXRUeXBlLCBjaGVja2FibGU6IHRydWUsIHNlbGVjdGFibGU6IGZhbHNlIH1cbiAgICAgIF1cbiAgICAgIHJldHVybiBuZXdUcmVlLmNvbmNhdChvcHMpXG4gICAgfVxuICAgIGxldCBvdGhlciA9IHt9XG4gICAgaWYgKGlzUmVmQmlsbChjb250cm9sVHlwZSkgfHwgaXNTeXNSZWZCaWxsKGNvbnRyb2xUeXBlKSB8fCBpc1JlZkJpbGxUYWJsZShjb250cm9sVHlwZSkpIHtcbiAgICAgIC8vIOmAgumFjemAiemhue+8jOWmguaenOaYr+aWsOa3u+WKoOeahOWtl+aute+8jOmAiemhueeahGl0ZW1z5b6X6Ieq5bex5qC55o2u5YWD5pWw5o2u5p6E6YCgXG4gICAgICBvdGhlciA9IHRyYW5zZm9ybVJlZkJpbGxNZXRhKGl0ZW0sIG1ldGFBcGkpXG4gICAgfSBlbHNlIGlmIChpc0ltYWdlRmllbGQoY29udHJvbFR5cGUpKSB7XG4gICAgICBjb25zdCBwaWN0dXJlVHlwZSA9IG1ldGFBcGkuZ2V0Q29udHJvbE1ldGFFZGl0b3IoY29udHJvbFR5cGUsICdJbWFnZUZpbGVUeXBlJykuRW51bSAvLyDlm77niYfnsbvlnovliJfooahcbiAgICAgIGNvbnN0IHBpY3R1cmVEZWZhdWx0U2l6ZSA9IG1ldGFBcGkuZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlKGNvbnRyb2xUeXBlLCAnRmlsZU1heFNpemUnKSAvLyDpu5jorqTlm77niYflpKflsI9cbiAgICAgIGNvbnN0IHBpY3R1cmVEZWZhdWx0VHlwZSA9IG1ldGFBcGkuZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlKGNvbnRyb2xUeXBlLCAnSW1hZ2VGaWxlVHlwZScpIC8vIOm7mOiupOWbvueJh+exu+Wei1xuICAgICAgY29uc3QgdHlwZSA9IGl0ZW0/LkltYWdlRmlsZVR5cGUgfHwgcGljdHVyZURlZmF1bHRUeXBlIC8vIOexu+Wei++8jOS8mOWFiOS9v+eUqOeUqOaIt+mAieaLqeeahOexu+Wei1xuICAgICAgY29uc3QgdHlwZUFyciA9IHR5cGUuc3BsaXQoJywnKS5tYXAoKGl0ZW06IGFueSkgPT4gcGljdHVyZVR5cGUuZmlsdGVyKChpOiBhbnkpID0+IGkuSWQgPT09IGl0ZW0pWzBdLk5hbWUpXG4gICAgICBvdGhlciA9IHsgVXBsb2FkTnVtOiBpdGVtPy5VcGxvYWROdW0gfHwgeyBtYXg6IDksIG1pbjogMCB9LCBGaWxlTWF4U2l6ZTogaXRlbS5GaWxlTWF4U2l6ZSB8fCBwaWN0dXJlRGVmYXVsdFNpemUsIHR5cGVBcnI6IHR5cGVBcnIgfVxuICAgIH0gZWxzZSBpZiAoaXNBdHRhY2htZW50RmllbGQoY29udHJvbFR5cGUpKSB7XG4gICAgICBjb25zdCBhdHRhY2htZW50RGVmYXVsdFR5cGUgPSBtZXRhQXBpLmdldENvbnRyb2xQcm9wZXJ0eURlZmF1bHRWYWx1ZShjb250cm9sVHlwZSwgJ0F0dGFjaG1lbnRGaWxlVHlwZScpIC8vIOm7mOiupOWbvueJh+exu+Wei1xuICAgICAgY29uc3QgZmlsZU1heFNpemVEZWYgPSBtZXRhQXBpLmdldENvbnRyb2xQcm9wZXJ0eURlZmF1bHRWYWx1ZShjb250cm9sVHlwZSwgJ0ZpbGVNYXhTaXplJykgLy8g6buY6K6k5Zu+54mH5aSn5bCPXG4gICAgICBjb25zdCBmaWxlVHlwZSA9IGl0ZW0/LkF0dGFjaG1lbnRGaWxlVHlwZSB8fCBhdHRhY2htZW50RGVmYXVsdFR5cGUgLy8g5pSv5oyB55qE5paH5Lu257G75Z6LLOmcgOimgeWIpOepulxuICAgICAgb3RoZXIgPSB7IFVwbG9hZE51bTogaXRlbT8uVXBsb2FkTnVtIHx8IHsgbWF4OiA5LCBtaW46IDAgfSwgbWF4U2l6ZTogaXRlbS5GaWxlTWF4U2l6ZSB8fCBmaWxlTWF4U2l6ZURlZiwgZmlsZVR5cGU6IGZpbGVUeXBlIH1cbiAgICB9XG5cbiAgICBjb25zdCBpdGVtcyA9IGl0ZW0uQ3VzdG9tQ29udGVudFxuICAgICAgPyBpdGVtLkN1c3RvbUNvbnRlbnQub3BzPy5tYXAoKG9wKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBMYWJlbCwgVmFsdWUsIEJnYyB9ID0gb3BcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogeyB6aF9DTjogTGFiZWwgfSxcbiAgICAgICAgICAgIHZhbHVlOiBWYWx1ZSxcbiAgICAgICAgICAgIGJnYzogQmdjXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgOiB1bmRlZmluZWRcbiAgICBjb25zdCB0aXRsZVByZWZpeCA9IGdldEZpZWxkTmFtZVByZWZpeChpdGVtLCByZWZCaWxsUHJlZml4TWFwLCBtZXRhQXBpLCByZWZCaWxsTmFtZU1hcClcbiAgICBjb25zdCBub2RlOiBhbnkgPSB7IHRpdGxlOiBjb250cm9sTmFtZSwgdGl0bGVQcmVmaXgsIGtleTogY29udHJvbEtleSwgdHlwZTogZmllbGRUeXBlTG93ZXJDYXNlLCBpc011bHRpOiAoaXNNdWx0aVNlbGVjdChTZWxlY3RJdGVtVHlwZSkgfHwgaXNNdWx0aVNlbGVjdChNdWx0aSkpLCBpdGVtcywgZm9ybWF0VHlwZSwgY29tcGFyZVR5cGVzOiBlZGl0VHlwZSwgY2hlY2thYmxlOiB0cnVlLCBzZWxlY3RhYmxlOiBmYWxzZSwgLi4ub3RoZXIgfVxuICAgIGlmIChpc0dyb3VwQ29udGFpbmVyKGNvbnRyb2xUeXBlKSAmJiBjaGlsZHJlbikge1xuICAgICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgIG5vZGUuY2hpbGRyZW4gPSB0cmFuc2Zvcm1Ub1RyZWVTZWxlY3RPcHRpb25zKGNoaWxkcmVuLCByZWZCaWxsUHJlZml4TWFwLCBtZXRhQXBpLCByZWZCaWxsTmFtZU1hcClcbiAgICAgIH1cbiAgICAgIG5vZGUuY2hlY2thYmxlID0gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIG5ld1RyZWUuY29uY2F0KG5vZGUpXG4gIH0sIFtdKVxufVxuXG5jb25zdCB0cmFuc2Zvcm1GaWVsZE9wdGlvbnMgPSAoZGF0YTogYW55W10sIG1ldGFBcGk6IGFueSwgbGltaXREZXB0aDogbnVtYmVyID0gMSkgPT4ge1xuICByZXR1cm4gKGRhdGEgfHwgW10pLnJlZHVjZSgodHJlZURhdGE6IGFueVtdLCBpdGVtOiBhbnkpID0+IHtcbiAgICBjb25zdCB7IGNhcHRpb24sIHR5cGUsIGlkLCBvcHRpb24gPSB7fSwgdHlwZUNhcHRpb24gfSA9IGl0ZW1cbiAgICBjb25zdCB7IHNvdXJjZUZvcm0gfSA9IG9wdGlvblxuXG4gICAgLy8g5qC55o2u5ZCO56uv5ou85o6l55qEJy4n5YiG5Ymy5Ye65pWw57uE77yM5Lul5q2k5Li65L6d5o2u5Yik5pat5bGC57qnXG4gICAgY29uc3QgZGVwdGggPSBpZD8uc3BsaXQoJy4nKT8ubGVuZ3RoIHx8IDBcbiAgICBpZiAodHlwZSAhPT0gJ2dyb3VwJyAmJiBkZXB0aCA+IGxpbWl0RGVwdGgpIHJldHVybiB0cmVlRGF0YVxuICAgIGlmIChpc1N5c0NvbnRyb2wodHlwZSkgfHwgaXNSaWNoVGV4dEZpZWxkKHR5cGUpIHx8IGlzR3JhcGhpY0Rpc3BsYXlGaWVsZCh0eXBlKSkge1xuICAgICAgcmV0dXJuIHRyZWVEYXRhXG4gICAgfVxuXG4gICAgbGV0IGZpZWxkVHlwZUxvd2VyQ2FzZSA9IHR5cGU/LnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZmllbGRUeXBlTG93ZXJDYXNlID09PSAnbm9jb2RlZGF0ZXJhbmdlZmllbGQnKSB7XG4gICAgICBmaWVsZFR5cGVMb3dlckNhc2UgPSAnbm9jb2RlZGF0ZWZpZWxkJ1xuICAgIH0gZWxzZSBpZiAoaXNSZWZCaWxsKHR5cGUpIHx8IGlzU3lzUmVmQmlsbCh0eXBlKSB8fCBpc1JlZkJpbGxUYWJsZSh0eXBlKSkge1xuICAgICAgZmllbGRUeXBlTG93ZXJDYXNlID0gJ25vY29kZW11bHJlZmJpbGxmaWVsZCdcbiAgICB9XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgdmFsdWVJdGVtcywgYmlsbEVudGl0eUlkLCBkaXNwbGF5UHJvcCwgaXNNdWx0aSwgZm9ybWF0VHlwZSB9ID0gb3B0aW9uXG4gICAgbGV0IHJlczogYW55ID0ge1xuICAgICAgdGl0bGU6IGNhcHRpb24sIHRpdGxlUHJlZml4OiB0eXBlQ2FwdGlvbiwga2V5OiBpZCwgY29tcGFyZVR5cGVzOiBlZGl0VHlwZSwgdHlwZTogZmllbGRUeXBlTG93ZXJDYXNlLCBmb3JtYXRUeXBlLCBzZWxlY3RhYmxlOiBmYWxzZSwgY2hlY2thYmxlOiB0cnVlXG4gICAgfVxuICAgIGlmIChpc1JlZkJpbGwodHlwZSkgfHwgaXNTeXNSZWZCaWxsKHR5cGUpIHx8IGlzUmVmQmlsbFRhYmxlKHR5cGUpKSB7XG4gICAgICBpZiAoIWJpbGxFbnRpdHlJZCkge1xuICAgICAgICByZXR1cm4gdHJlZURhdGFcbiAgICAgIH1cbiAgICAgIHJlcyA9IE9iamVjdC5hc3NpZ24ocmVzLCB7IGRpc3BsYXlQcm9wLCBlbnRpdHlJZDogYmlsbEVudGl0eUlkLCBpc011bHRpIH0pXG4gICAgfSBlbHNlIGlmIChpc1NlbGVjdEZpZWxkKHR5cGUpKSB7XG4gICAgICByZXMgPSBPYmplY3QuYXNzaWduKHJlcywgeyBpc011bHRpIH0pXG4gICAgfSBlbHNlIGlmIChpc0ltYWdlRmllbGQodHlwZSkpIHtcbiAgICAgIGNvbnN0IHsgSW1hZ2VGaWxlVHlwZSwgRmlsZU1heFNpemUsIFVwbG9hZE51bSB9ID0gb3B0aW9uXG4gICAgICBjb25zdCBwaWN0dXJlVHlwZSA9IG1ldGFBcGkuZ2V0Q29udHJvbE1ldGFFZGl0b3IodHlwZSwgJ0ltYWdlRmlsZVR5cGUnKS5FbnVtIC8vIOWbvueJh+exu+Wei+WIl+ihqFxuICAgICAgY29uc3QgcGljdHVyZURlZmF1bHRTaXplID0gbWV0YUFwaS5nZXRDb250cm9sUHJvcGVydHlEZWZhdWx0VmFsdWUodHlwZSwgJ0ZpbGVNYXhTaXplJykgLy8g6buY6K6k5Zu+54mH5aSn5bCPXG4gICAgICBjb25zdCBwaWN0dXJlRGVmYXVsdFR5cGUgPSBtZXRhQXBpLmdldENvbnRyb2xQcm9wZXJ0eURlZmF1bHRWYWx1ZSh0eXBlLCAnSW1hZ2VGaWxlVHlwZScpIC8vIOm7mOiupOWbvueJh+exu+Wei1xuICAgICAgY29uc3QgZGVmYXVsdFVwbG9hZE51bSA9IG1ldGFBcGkuZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlKHR5cGUsICdVcGxvYWROdW0nKVxuICAgICAgY29uc3QgdHlwZXMgPSBJbWFnZUZpbGVUeXBlIHx8IHBpY3R1cmVEZWZhdWx0VHlwZSAvLyDnsbvlnovvvIzkvJjlhYjkvb/nlKjnlKjmiLfpgInmi6nnmoTnsbvlnotcbiAgICAgIGNvbnN0IHR5cGVBcnIgPSB0eXBlcy5zcGxpdCgnLCcpLm1hcCgoaXRlbTogYW55KSA9PiBwaWN0dXJlVHlwZS5maWx0ZXIoKGk6IGFueSkgPT4gaS5JZCA9PT0gaXRlbSlbMF0uTmFtZSlcbiAgICAgIHJlcyA9IE9iamVjdC5hc3NpZ24ocmVzLCB7IFVwbG9hZE51bTogVXBsb2FkTnVtIHx8IGRlZmF1bHRVcGxvYWROdW0sIEZpbGVNYXhTaXplOiBGaWxlTWF4U2l6ZSB8fCBwaWN0dXJlRGVmYXVsdFNpemUsIHR5cGVBcnI6IHR5cGVBcnIgfSlcbiAgICB9IGVsc2UgaWYgKGlzQXR0YWNobWVudEZpZWxkKHR5cGUpKSB7XG4gICAgICBjb25zdCB7IEF0dGFjaG1lbnRGaWxlVHlwZSwgRmlsZU1heFNpemUsIFVwbG9hZE51bSB9ID0gb3B0aW9uXG4gICAgICBjb25zdCBhdHRhY2htZW50RGVmYXVsdFR5cGUgPSBtZXRhQXBpLmdldENvbnRyb2xQcm9wZXJ0eURlZmF1bHRWYWx1ZSh0eXBlLCAnQXR0YWNobWVudEZpbGVUeXBlJykgLy8g6buY6K6k5Zu+54mH57G75Z6LXG4gICAgICBjb25zdCBmaWxlTWF4U2l6ZURlZiA9IG1ldGFBcGkuZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlKHR5cGUsICdGaWxlTWF4U2l6ZScpIC8vIOm7mOiupOWbvueJh+Wkp+Wwj1xuICAgICAgY29uc3QgZmlsZVR5cGUgPSBBdHRhY2htZW50RmlsZVR5cGUgfHwgYXR0YWNobWVudERlZmF1bHRUeXBlIC8vIOaUr+aMgeeahOaWh+S7tuexu+WeiyzpnIDopoHliKTnqbpcbiAgICAgIGNvbnN0IGRlZmF1bHRVcGxvYWROdW0gPSBtZXRhQXBpLmdldENvbnRyb2xQcm9wZXJ0eURlZmF1bHRWYWx1ZSh0eXBlLCAnVXBsb2FkTnVtJylcbiAgICAgIHJlcyA9IE9iamVjdC5hc3NpZ24ocmVzLCB7IFVwbG9hZE51bTogVXBsb2FkTnVtIHx8IGRlZmF1bHRVcGxvYWROdW0sIG1heFNpemU6IEZpbGVNYXhTaXplIHx8IGZpbGVNYXhTaXplRGVmLCBmaWxlVHlwZTogZmlsZVR5cGUgfSlcbiAgICB9XG4gICAgaWYgKHZhbHVlSXRlbXMpIHtcbiAgICAgIHJlcy5pdGVtcyA9IHZhbHVlSXRlbXNcbiAgICB9XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICByZXMuY2hpbGRyZW4gPSB0cmFuc2Zvcm1GaWVsZE9wdGlvbnMoY2hpbGRyZW4sIG1ldGFBcGksIGxpbWl0RGVwdGgpXG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnZ3JvdXAnKSB7XG4gICAgICByZXMuY2hlY2thYmxlID0gZmFsc2VcbiAgICAgIGlmICghcmVzPy5jaGlsZHJlbj8ubGVuZ3RoKSB7XG4gICAgICAgIC8vIOWmguaenOWIhue7hOS4i+ayoeacieWtl+aute+8jOS5n+S4jei/lOWbnuWIhue7hOiKgueCuVxuICAgICAgICByZXR1cm4gdHJlZURhdGFcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRyZWVEYXRhLmNvbmNhdChyZXMpXG4gIH0sIFtdKVxufVxuXG5jb25zdCBDaGlsZHJlbkl0ZW0gPSBtZW1vKCh7XG4gIGl0ZW0sXG4gIGluZGV4LFxuICBmaWx0ZXJPcHRpb25zLFxuICBmaWVsZFRyZWUsXG4gIHByZWZpeENscyxcbiAgaGFuZGxlQ29tcGFyZVR5cGVDaGFuZ2UsXG4gIHJlZkJpbGxQcm9wcyxcbiAgZmllbGRSZWNvcmRzLFxuICBoYW5kbGVWYWxDaGFuZ2UsXG4gIGhhbmRsZVZhclNlbGVjdCxcbiAgaGFuZGxlRGVsZXRlLFxuICB2ZXJpZnlEYXRhLFxuICBmb3JtSWRcbn0pID0+IHtcbiAgY29uc3Qge1xuICAgIGNvbXBhcmVUeXBlczogcHJvcENvbXBhcmVUeXBlcyxcbiAgICBjb21wYXJlVHlwZSxcbiAgICBjb21wYXJlVHlwZUNhcHRpb24sXG4gICAgZmllbGROYW1lLFxuICAgIGZpZWxkQ2FwdGlvbixcbiAgICBpdGVtcyxcbiAgICB2YWx1ZSxcbiAgICAuLi5jb250cm9sTWV0YVxuICB9ID0gaXRlbVxuXG4gIGNvbnN0IHtcbiAgICBnZXRDb21wYXJlVHlwZU9wdGlvbnMsXG4gICAgZ2V0VmFyU2VsZWN0ZWRLZXlzSW5mbyxcbiAgICBnZXRWYWx1ZVR5cGVCeVR5cGUsXG4gICAgZ2V0TmV3VmFsdWUsXG4gICAgdHJhbnNmb3JtMk9wdGlvbnMsXG4gICAgVkFMVUVfRU1QVFlfQ09NUEFSRV9UWVBFXG4gIH0gPSBMaXN0RmlsdGVyVXRpbFxuXG4gIGNvbnN0IHsgZ2V0QmFzZUhvb2tzLCBpbnZva2VBY3Rpb24sIGdldEtkZXNpZ25lckFwaSwgZ2V0RXhwcmVzc2lvbkRhdGEsIGdldFJlZkJpbGxEYXRhLCBnZXRDb21wYXJlVHlwZXMsIGJhdGNoSW52b2tlLCBiYXNlVXJsIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCB9ID0gZ2V0S2Rlc2lnbmVyQXBpKClcbiAgY29uc3QgdXNlS0RSZWZCaWxsID0gZ2V0QmFzZUhvb2tzKCd1c2VLRFJlZkJpbGwnKVxuICBjb25zdCBbdmlzaWJsZSwgc2V0VmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgeyBlbnRpdHlJZCwgZm9ybWF0VHlwZSwgdHlwZSwgZGlzcGxheVByb3AgfSA9IGNvbnRyb2xNZXRhIHx8IHt9XG4gIGNvbnN0IHZhbHVlSW5wdXRUeXBlID0gZ2V0VmFsdWVUeXBlQnlUeXBlKGNvbnRyb2xNZXRhKVxuICBjb25zdCByZWZCaWxsVHlwZSA9IHJlZkJpbGxQcm9wcyA/IHZhbHVlSW5wdXRUeXBlIDogJ3RleHQnIC8vIOWFvOWuueacquaUr+aMgXJlZmJpbGznmoTnrZvpgIlcbiAgY29uc3QgZmllbGRUeXBlID0gdmFsdWVJbnB1dFR5cGUgPT09ICdyZWZiaWxsJyA/IHJlZkJpbGxUeXBlIDogKCh2YWx1ZUlucHV0VHlwZSA9PT0gJ3NlbGVjdCcgJiYgaXRlbS5pc011bHRpID09PSB0cnVlKSA/ICdtdWx0aVNlbGVjdCcgOiB2YWx1ZUlucHV0VHlwZSlcbiAgY29uc3QgZGF0YVZhbHVlID0gZ2V0TmV3VmFsdWUoZmllbGRUeXBlLCB2YWx1ZSwgZmllbGRSZWNvcmRzPy5bZmllbGROYW1lXSlcbiAgY29uc3QgW2Zvcm11bGFWaXNpYmxlLCBzZXRGb3JtdWxhVmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2JpbGxGaW5kZXJWaXNpYmxlLCBzZXRCaWxsRmluZGVyVmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3ZhclNlbGVjdEFjdGl2ZSwgc2V0VmFyU2VsZWN0QWN0aXZlXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBjb21wYXJlVHlwZXNNYXA6IGFueSA9IGdldENvbXBhcmVUeXBlcygpXG4gIGNvbnN0IHJvb3RJZCA9IGRhdGFDb250ZXh0LmdldFJvb3RJZCgpXG5cbiAgY29uc3QgY3VyZmllbGREYXRhID0ge1xuICAgIG5hbWU6ICdmaWVsZCcsXG4gICAgdmFsdWU6IGZpZWxkTmFtZSxcbiAgICBvcHRpb25zOiBmaWx0ZXJPcHRpb25zLFxuICAgIGZpZWxkVHlwZTogJ3RyZWVTZWxlY3QnLFxuICAgIGRpc2FibGVkOiB0cnVlLFxuICAgIGJvcmRlclR5cGU6ICdib3JkZXJlZCcsXG4gICAgY2xhc3NOYW1lOiBgJHtwcmVmaXhDbHN9LW1vZGFsLWJvZHktZmllbGRkYXRhYFxuICAgIC8vIHBsYWNlaG9sZGVyOiAnJyxcbiAgfVxuXG4gIGNvbnN0IGN1cmNvbXBhcmVUeXBlRGF0YSA9IHtcbiAgICBuYW1lOiAnY29tcGFyZVR5cGUnLFxuICAgIHZhbHVlOiBjb21wYXJlVHlwZSxcbiAgICBvcHRpb25zOiBnZXRDb21wYXJlVHlwZU9wdGlvbnMocHJvcENvbXBhcmVUeXBlcykgfHwgW10sXG4gICAgY2xhc3NOYW1lOiBgJHtwcmVmaXhDbHN9LW1vZGFsLWJvZHktaW5mb1R5cGVgLFxuICAgIGZpZWxkVHlwZTogJ3NlbGVjdCcsXG4gICAgb25DaGFuZ2U6IHYgPT4gaGFuZGxlQ29tcGFyZVR5cGVDaGFuZ2UodiwgaW5kZXgsIGZpZWxkVHlwZSksXG4gICAgYm9yZGVyVHlwZTogJ2JvcmRlcmVkJ1xuICB9XG5cbiAgY29uc3QgdmFyU2VsZWN0ZWRLZXlzSW5mbyA9IGdldFZhclNlbGVjdGVkS2V5c0luZm8odmFsdWUpXG5cbiAgY29uc3QgZXhwcmVzc2lvbkRhdGEgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gZ2V0RXhwcmVzc2lvbkRhdGEoKVxuICB9LCBbZ2V0RXhwcmVzc2lvbkRhdGFdKVxuXG4gIGNvbnN0IGRlZmF1bHRJbnB1dFZhbHVlID0ge1xuICAgIHZhbHVlVHlwZTogMCxcbiAgICBmaWVsZFZhbHVlOiAnJ1xuICB9XG5cbiAgY29uc3QgYmF0Y2hJbnZva2VRdWVyeSA9IChlbnRpdHlJZCwgYXJncykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGZpbHRlciA9ICcnLCAvLyDmlbDmja7ov4fmu6RcbiAgICAgIHNlYXJjaCA9ICcnLCAvLyDmkJzntKLlhoXlrrlcbiAgICAgIG9yZGVyX2J5ID0gJycsIC8vIOaOkuW6j1xuICAgICAgc2VsZWN0ID0gJycsIC8vIOWtl+autVxuICAgICAgcGFnZV9zaXplID0gMTAsIC8vIOavj+mhteihjOaVsFxuICAgICAgcGFnZV9ubyA9IDEsXG4gICAgICBpZHMgPSBbXS8vIOmAieS4reeahGlkc1xuICAgIH0gPSBhcmdzXG4gICAgdmFsdWVJbnB1dFR5cGUgPT09ICdyZWZiaWxsJyAmJiBlbnRpdHlJZCAmJiBiYXRjaEludm9rZSgncXVlcnknLCAnbm9jb2RlZm9ybWRlc2lnbmVyJywgW2VudGl0eUlkLCB7XG4gICAgICBmaWx0ZXIsIC8vIOaVsOaNrui/h+a7pFxuICAgICAgc2VhcmNoLCAvLyDmkJzntKLlhoXlrrlcbiAgICAgIG9yZGVyX2J5LCAvLyDmjpLluo9cbiAgICAgIHNlbGVjdCwgLy8g5a2X5q61XG4gICAgICBwYWdlX3NpemUsIC8vIOavj+mhteihjOaVsFxuICAgICAgcGFnZV9ubyxcbiAgICAgIGlkcy8vIOmAieS4reeahGlkc1xuICAgIH1dKVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBiYXRjaEludm9rZVF1ZXJ5KGVudGl0eUlkLCB7XG4gICAgICBwYWdlX3NpemU6IDEwLFxuICAgICAgcGFnZV9ubzogMSxcbiAgICAgIHNlYXJjaDogJycsXG4gICAgICAvLyBcInNlbGVjdFwiOiBcIm5hbWUsbnVtYmVyXCIsXG4gICAgICBzZWxlY3Q6IGRpc3BsYXlQcm9wLFxuICAgICAgaWRzOiBkYXRhVmFsdWUgfHwgW11cbiAgICB9KVxuICB9LCBbdmFsdWUsIGVudGl0eUlkXSlcblxuICAvLyAwIOm7mOiupOWAvCwgMSDmn6Xmib7ooajljZUsIDIg5YWs5byP6K6h566XXG4gIGNvbnN0IGRlZlZhbHVlRGVmaW5lID0ge1xuICAgIG5vY29kZXRleHRmaWVsZDogWzAsIDEsIDJdLCAvLyDljZXooYzmlofmnKxcbiAgICBub2NvZGV0ZXh0YXJlYWZpZWxkOiBbMCwgMSwgMl0sIC8vIOWkmuihjOaWh+acrFxuICAgIG5vY29kZWRlY2ltYWxmaWVsZDogWzAsIDEsIDJdLCAvLyDmlbDlrZdcbiAgICBub2NvZGVyaWNodGV4dGZpZWxkOiBbMCwgMV0sIC8vIOWvjOaWh+acrFxuICAgIG5vY29kZWdlb2ZpZWxkOiBbMCwgMV0sIC8vIOWcsOeQhuS9jee9ru+8iOWcsOWbvivlnZDmoIfvvIksIOWcsOWdgFxuICAgIG5vY29kZWFkZHJlc3NmaWVsZDogWzAsIDFdLFxuICAgIG5vY29kZXNlbGVjdGl0ZW1maWVsZDogWzAsIDEsIDJdLCAvLyDpgInpoblcbiAgICBub2NvZGVtdWxyZWZiaWxsZmllbGQ6IFswLCAxLCAyXSwgLy8g5YWz6IGU6KGo5Y2VXG4gICAgbm9jb2RlZGF0ZXJhbmdlZmllbGQ6IFswLCAxXSwgLy8g5pel5pyf6IyD5Zu0XG4gICAgbm9jb2RlZGF0ZWZpZWxkOiBbMCwgMSwgMl0sIC8vIOaXpeacn1xuICAgIG5vY29kZWltYWdldXBsb2FkZmllbGQ6IFswLCAxXSwgLy8g5Zu+54mHXG4gICAgbm9jb2RlYXR0YWNobWVudHVwbG9hZGZpZWxkOiBbMCwgMV0sIC8vIOmZhOS7tlxuICAgIG5vY29kZWdyb3VwY29udGFpbmVyZmllbGQ6IFtdLCAvLyDliIbnu4RcbiAgICBub2NvZGVlbnRyeWVudGl0eWZpZWxkOiBbXSwgLy8g6KGo5qC8XG4gICAgbm9jb2RlZ3JhcGhpY2Rpc3BsYXlmaWVsZDogWzAsIDFdLFxuICAgIG5vY29kZWJpbGxub2ZpZWxkOiBbMCwgMSwgMl1cbiAgfVxuICBjb25zdCBvcHRpb25zID0gW1xuICAgIHsgbGFiZWw6ICfmn6Xmib7ooajljZXorrDlvZUnLCBrZXk6ICdzZWFyY2gnLCBpZDogMSwgaWNvbjogJ2NoYXpoYW9iaWFvZGFuamlsdS14aWFuJyB9LFxuICAgIHsgbGFiZWw6ICfov5DnrpflhazlvI8nLCBrZXk6ICdmb3JtdWxhJywgaWQ6IDIsIGljb246ICd5dW5zdWFuZ29uZ3NoaScgfVxuICBdXG4gIGNvbnN0IGRlZmF1bHRRdWVyeUZvcm1EYXRhID0ge1xuICAgIHZhbHVlVHlwZTogMixcbiAgICB2YWx1ZToge1xuICAgICAgcmVsYXRpb25Gb3JtSWQ6ICcnLFxuICAgICAgZmlsdGVySW5mb3M6IFtdLCAvLyBbeyBmaWVsZE5hbWU6IFwiZGVmXCIsIGNvbXBhcmVUeXBlOiBcIj1cIiwgdmFsdWU6IFtcIjQ1NlwiXSB9XVxuICAgICAgc29ydEluZm9zOiBbXSwgLy8gW3sgbnVtYmVyOiAnbnVtYmVyJywgbmFtZTogXCJhYmNcIiwgaXNBc2M6IHRydWUgfV1cbiAgICAgIHJlc3VsdDogW10gLy8gW3sgc291cmNlRmllbGQ6IFwiZmllbGQxXCIsIHRhcmdldEZpZWxkOiBcImZpZWxkMlwiIH1dXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZ2V0T3B0aW9ucyA9ICgpID0+IHtcbiAgICBjb25zdCBpZHMgPSBkZWZWYWx1ZURlZmluZVt0eXBlXVxuICAgIHJldHVybiBvcHRpb25zPy5maWx0ZXIob3B0aW9uID0+IHtcbiAgICAgIHJldHVybiBpZHM/LmluY2x1ZGVzKG9wdGlvbi5pZClcbiAgICB9KVxuICB9XG5cbiAgY29uc3Qgc2VsZWN0T3B0aW9ucyA9IGdldE9wdGlvbnMoKVxuXG4gIGNvbnN0IGJpbGxQcm9wcyA9IHtcbiAgICAuLi5yZWZCaWxsUHJvcHMsXG4gICAgYmF0Y2hJbnZva2VMaXN0Q29uZmlnOiAoKSA9PiByZWZCaWxsUHJvcHMuYmF0Y2hJbnZva2VMaXN0Q29uZmlnKGVudGl0eUlkKSxcbiAgICBjb250cm9sTWV0YSxcbiAgICBvbkNoYW5nZTogdiA9PiBoYW5kbGVWYWxDaGFuZ2UoQXJyYXkuaXNBcnJheSh2KSA/IHYgOiAodiA9PT0gJycgPyBbXSA6IHY/LnNwbGl0KCcsJykpLCBpbmRleCwgZmllbGRUeXBlKVxuICAgIC8vIGJhc2VVcmwsIGdldEJhc2VDb250cm9sLCB1c2VGaWVsZFByb3BzLFxuICAgIC8vIGJhdGNoSW52b2tlOiBvbkJhdGNoSW52b2tlLCBnZXRDb250cm9sVGV4dCwgYWRkQ29udHJvbEFjdGlvbiwgb25Eb3duTG9hZCxcbiAgICAvLyBiYXRjaEludm9rZUxpc3RDb25maWcsIGJhdGNoSW52b2tlUXVlcnlcbiAgfVxuXG4gIGNvbnN0IHJlZkJpbGxQYXJhbXMgPSB1c2VLRFJlZkJpbGwoYmlsbFByb3BzLCB0cnVlKVxuXG4gIGNvbnN0IHJlZkJpbGxGaWVsZFByb3BzID0gZmllbGRUeXBlID09PSAncmVmYmlsbCcgPyB7XG4gICAgY2xhc3NOYW1lOiBgJHtwcmVmaXhDbHN9LW1vZGFsLWJvZHktcmVmYmlsbGAsXG4gICAgLy8gZmllbGRUeXBlOiAncmVmYmlsbCcsXG4gICAgLi4ucmVmQmlsbFBhcmFtcyxcbiAgICB2YWx1ZTogY29udHJvbE1ldGEubXVsdGkgPT09IDEgPyBkYXRhVmFsdWUgOiBkYXRhVmFsdWVbMF1cbiAgfSA6IChmaWVsZFR5cGUgPT09ICdwaWN0dXJlJ1xuICAgID8ge1xuICAgICAgICBVcGxvYWROdW06IGl0ZW0uVXBsb2FkTnVtLFxuICAgICAgICBGaWxlTWF4U2l6ZTogaXRlbS5GaWxlTWF4U2l6ZSxcbiAgICAgICAgdHlwZUFycjogaXRlbS50eXBlQXJyXG4gICAgICB9XG4gICAgOiAoZmllbGRUeXBlID09PSAnYXR0YWNobWVudCdcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBVcGxvYWROdW06IGl0ZW0uVXBsb2FkTnVtLFxuICAgICAgICAgICAgbWF4U2l6ZTogaXRlbS5tYXhTaXplLFxuICAgICAgICAgICAgZmlsZVR5cGU6IGl0ZW0uZmlsZVR5cGVcbiAgICAgICAgICB9XG4gICAgICAgIDoge30pKVxuXG4gIGNvbnN0IGdldFZhbHVlVHlwZSA9ICh2YWx1ZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoaXNKc29uKHZhbHVlKSkge1xuICAgICAgICBjb25zdCB2YWx1ZU9iamVjdCA9IEpTT04ucGFyc2UodmFsdWUpXG4gICAgICAgIHJldHVybiB2YWx1ZU9iamVjdD8udmFsdWVUeXBlIHx8IDBcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gdmFsdWVbMF0/LnZhbHVlVHlwZSB8fCAwXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHZhbHVlVHlwZSA9IGdldFZhbHVlVHlwZSh2YWx1ZSlcblxuICBjb25zdCBpbnZva2VHZXRGaWVsZExvb2tTZXR0aW5nID0gKCkgPT4ge1xuICAgIC8vIGludm9rZUFjdGlvbignZ2V0Qml6UnVsZScsIFt7IGZvcm1JZDogZm9ybUlkLCBmaWVsZEtleTogaXRlbS5maWVsZE5hbWUgfV0sIFtdKVxuICB9XG5cbiAgLy8g5qC55o2u6KGo5Y2V5YWD5pWw5o2u5p6E5bu65Y+Y6YeP5qCR77yI5a6e5pe277yJXG4gIC8qIGNvbnN0IGRhdGFJdGVtcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBkYXRhQ29udGV4dC5maW5kQ29udHJvbEJ5Q29uZGl0aW9uKChpdGVtOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHsgX1R5cGVfOiBjb250cm9sVHlwZSwgUGFyZW50SWQgfSA9IGl0ZW1cbiAgICAgIGNvbnN0IHsgX1R5cGVfOiBwYXJlbnRDb250cm9sVHlwZSB9ID0gUGFyZW50SWQgPyAoZGF0YUNvbnRleHQuZmluZENvbnRyb2woUGFyZW50SWQpIHx8IHt9KSA6IHt9XG4gICAgICByZXR1cm4gIWlzRW50cnlFbnRpdHkocGFyZW50Q29udHJvbFR5cGUpICYmICFpc0VudHJ5RW50aXR5KGNvbnRyb2xUeXBlKVxuICAgIH0pXG4gIH0sIFtdKSAqL1xuXG4gIGNvbnN0IGdldEZvcm11bGFWYWx1ZSA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IFssIG5ld1ZhbHVlLCBsYW5nXSA9IHZhbHVlID8gdmFsdWUuc3BsaXQoJ0BAJykgOiBbJycsICcnLCBudWxsXSAvLyDnvJbovpHlmajlgLx86K+t6KiAXG4gICAgcmV0dXJuIFtuZXdWYWx1ZSwgbGFuZ11cbiAgfVxuXG4gIGNvbnN0IGdldElucHV0VmFsdWUgPSAodmFsdWUsIHZhbHVlVHlwZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoaXNKc29uKHZhbHVlKSkge1xuICAgICAgICBjb25zdCB2YWx1ZU9iamVjdCA9IEpTT04ucGFyc2UodmFsdWUpXG4gICAgICAgIHJldHVybiB2YWx1ZU9iamVjdD8udmFsdWVUeXBlID09PSB2YWx1ZVR5cGUgPyB2YWx1ZU9iamVjdC52YWx1ZSA6ICcnXG4gICAgICB9IGVsc2UgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKHZhbHVlVHlwZSA9PT0gMikge1xuICAgICAgICAgIHJldHVybiB2YWx1ZVswXT8uZmllbGRWYWx1ZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodmFsdWVbMF0/LnZhbHVlVHlwZSA9PT0gdmFsdWVUeXBlKSA/IHZhbHVlWzBdLmZpZWxkVmFsdWUgOiAnJ1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBmb3JtdWxhRGF0YSA9IGdldEZvcm11bGFWYWx1ZShnZXRJbnB1dFZhbHVlKHZhbHVlLCAxKSlcblxuICBjb25zdCBoYW5kbGVDbGVhciA9IChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGhhbmRsZVZhclNlbGVjdChpdGVtLmZpZWxkTmFtZSwgZGVmYXVsdElucHV0VmFsdWUsIGZpZWxkVHlwZSlcbiAgICBzZXRWYXJTZWxlY3RBY3RpdmUoZmFsc2UpXG4gIH1cblxuICBjb25zdCBnZXRPcGVyYXRpb25zID0gKGZ1bmN0aW9uT3BlcmF0aW9ucykgPT4ge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKGZ1bmN0aW9uT3BlcmF0aW9ucylcbiAgfVxuXG4gIGNvbnN0IG9wZXJhdGlvbnMgPSBnZXRPcGVyYXRpb25zKGV4cHJlc3Npb25EYXRhLmZ1bmN0aW9uT3BlcmF0aW9ucylcblxuICBjb25zdCBmb3JtdWxhUHJvcHMgPSB7XG4gICAgZmllbGRUeXBlOiAnZm9ybXVsYScsXG4gICAgb25DbGljazogKCkgPT4gaGFuZGxlSXRlbUNsaWNrKCdmb3JtdWxhJyksXG4gICAgdmFsdWU6IGZvcm11bGFEYXRhWzBdLFxuICAgIGV4cHJlc3Npb25EYXRhOiBleHByZXNzaW9uRGF0YS5mdW5jdGlvblR5cGVzLFxuICAgIGZpZWxkRGF0YTogZmllbGRUcmVlLFxuICAgIG9uQ2xlYXI6IGhhbmRsZUNsZWFyLFxuICAgIGxhbmc6IE51bWJlcihmb3JtdWxhRGF0YVsxXSB8fCAxKSxcbiAgICByZWFkT25seTogdHJ1ZSxcbiAgICBhdXRvZm9jdXM6IGZhbHNlXG4gIH1cblxuICBjb25zdCBoYW5kbGVJbnB1dENoYW5nZSA9ICh2KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2hhbmRsZUlucHV0Q2hhbmdlJywgdilcbiAgICBsZXQgdmFsdWVcbiAgICBpZiAodHlwZW9mIHYgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IHZcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodikpIHtcbiAgICAgIHZhbHVlID0gdi5qb2luKCcsJylcbiAgICB9IGVsc2UgaWYgKHY/LnRhcmdldCkge1xuICAgICAgdmFsdWUgPSB2LnRhcmdldC52YWx1ZVxuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSA9IHZcbiAgICB9XG4gICAgaGFuZGxlVmFyU2VsZWN0KGl0ZW0uZmllbGROYW1lLCB7XG4gICAgICB2YWx1ZVR5cGU6IDAsXG4gICAgICBmaWVsZFZhbHVlOiB2YWx1ZVxuICAgIH0sIGZpZWxkVHlwZSlcbiAgfVxuXG4gIGNvbnN0IGZpbmRGb3JtUHJvcHMgPSB7XG4gICAgZmllbGRUeXBlOiAnZmluZEZvcm0nLFxuICAgIGJvcmRlclR5cGU6ICdib3JkZXJlZCcsXG4gICAgdmFsdWU6IGdldElucHV0VmFsdWUodmFsdWUsIDIpLFxuICAgIG9uQ2hhbmdlOiBoYW5kbGVJbnB1dENoYW5nZSxcbiAgICBwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpScsXG4gICAgb25DbGVhcjogaGFuZGxlQ2xlYXIsXG4gICAgb25DbGljazogKCkgPT4gaGFuZGxlSXRlbUNsaWNrKCdzZWFyY2gnKVxuICB9XG5cbiAgY29uc3QgZ2V0UHJvcHMgPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvcHNNYXAgPSB7XG4gICAgICAxOiBmb3JtdWxhUHJvcHMsXG4gICAgICAyOiBmaW5kRm9ybVByb3BzXG4gICAgfVxuICAgIHJldHVybiBwcm9wc01hcFt2YWx1ZVR5cGVdXG4gIH1cbiAgY29uc3QgdmFyU2VsZWN0T3RoZXJQcm9wcyA9IGdldFByb3BzKClcblxuICBjb25zdCBoYW5kbGVTaG93Rm9ybXVsYU1vZGFsID0gKCkgPT4ge1xuICAgIHNldEZvcm11bGFWaXNpYmxlKHRydWUpXG4gIH1cbiAgY29uc3QgaGFuZGxlQ2xvc2VGb3JtdWxhTW9kYWwgPSAoKSA9PiB7XG4gICAgc2V0Rm9ybXVsYVZpc2libGUoZmFsc2UpXG4gICAgdmFsdWVUeXBlID09PSAwID8gc2V0VmFyU2VsZWN0QWN0aXZlKGZhbHNlKSA6IHNldFZhclNlbGVjdEFjdGl2ZSghIXZhclNlbGVjdE90aGVyUHJvcHM/LnZhbHVlKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQ2xvc2VCaWxsRmluZGVyTW9kYWwgPSAoKSA9PiB7XG4gICAgc2V0QmlsbEZpbmRlclZpc2libGUoZmFsc2UpXG4gICAgdmFsdWVUeXBlID09PSAwID8gc2V0VmFyU2VsZWN0QWN0aXZlKGZhbHNlKSA6IHNldFZhclNlbGVjdEFjdGl2ZSghIXZhclNlbGVjdE90aGVyUHJvcHM/LnZhbHVlKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlU2hvd0JpbGxGaW5kZXJNb2RhbCA9ICgpID0+IHtcbiAgICBpbnZva2VHZXRGaWVsZExvb2tTZXR0aW5nKClcbiAgICBzZXRCaWxsRmluZGVyVmlzaWJsZSh0cnVlKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlSXRlbUNsaWNrID0gdXNlQ2FsbGJhY2soKGtleSkgPT4ge1xuICAgIGNvbnN0IGZuTWFwID0ge1xuICAgICAgc2VhcmNoOiBoYW5kbGVTaG93QmlsbEZpbmRlck1vZGFsLFxuICAgICAgZm9ybXVsYTogaGFuZGxlU2hvd0Zvcm11bGFNb2RhbFxuICAgIH1cblxuICAgIGZuTWFwW2tleV0/LigpXG4gIH0sIFtoYW5kbGVTaG93QmlsbEZpbmRlck1vZGFsLCBoYW5kbGVTaG93Rm9ybXVsYU1vZGFsXSlcblxuICBjb25zdCBmb3JtYXREYXRhID0gKHN0cjogc3RyaW5nLCBpc0NOOiBib29sZWFuKSA9PiB7XG4gICAgaWYgKCFzdHIpIHJldHVybiAnJyAvLyDkuLrnqbrlgLzml7ZcbiAgICAvLyDmm7/mjaLkuK3mloflrZfnrKZcbiAgICBzdHIgPSBzdHIucmVwbGFjZSgv77yJL2csICcpJykucmVwbGFjZSgv77yIL2csICcoJykucmVwbGFjZSgv4oCcL2csICdcIicpLnJlcGxhY2UoL+KAnS9nLCAnXCInKS5yZXBsYWNlKC/igJgvZywgXCInXCIpLnJlcGxhY2UoL+KAmS9nLCBcIidcIilcbiAgICBjb25zdCBuZXdTdHIgPSBzdHIucmVwbGFjZShhbGxGaWVsZFJlZ0V4cCwgJyQxJykucmVwbGFjZShhbGxFeHBSZWdFeHAsICckMScpXG4gICAgcmV0dXJuIGAke25ld1N0cn1AQCR7c3RyfUBAJHtpc0NOID8gMSA6IDB9YFxuICB9XG5cbiAgY29uc3QgaGFuZGxlRm9ybXVsYUNvbmZpcm0gPSAocmVzdWx0LCBpc0NOKSA9PiB7XG4gICAgcmVzdWx0ID0gZm9ybWF0RGF0YShyZXN1bHQsIGlzQ04pXG4gICAgLyogaW52b2tlQWN0aW9ucy5pbnZva2VTYXZlQml6UnVsZSh7XG4gICAgICB2YWx1ZVR5cGU6IDEsXG4gICAgICB2YWx1ZTogcmVzdWx0XG4gICAgfSkgKi9cbiAgICBzZXRGb3JtdWxhVmlzaWJsZShmYWxzZSlcbiAgICAhcmVzdWx0XG4gICAgICA/IGhhbmRsZVZhclNlbGVjdChpdGVtLmZpZWxkTmFtZSwgZGVmYXVsdElucHV0VmFsdWUsIGZpZWxkVHlwZSlcbiAgICAgIDogaGFuZGxlVmFyU2VsZWN0KGl0ZW0uZmllbGROYW1lLCB7XG4gICAgICAgIHZhbHVlVHlwZTogMSxcbiAgICAgICAgZmllbGRWYWx1ZTogcmVzdWx0XG4gICAgICB9LCBmaWVsZFR5cGUpXG4gIH1cblxuICBjb25zdCBoYW5kbGVRdWlja0ZpbmRlckNvbmZpcm0gPSAocmVzdWx0KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2hhbmRsZVF1aWNrRmluZGVyQ29uZmlybScsIHJlc3VsdClcbiAgICBzZXRCaWxsRmluZGVyVmlzaWJsZShmYWxzZSlcbiAgICBjb25zdCB2YWx1ZSA9IGdldFF1aWNrRmluZGVySW5wdXRWYWx1ZShyZWZCaWxsRGF0YSwgcmVzdWx0LnZhbHVlLnJlbGF0aW9uRm9ybUlkKVxuICAgICFyZXN1bHRcbiAgICAgID8gaGFuZGxlVmFyU2VsZWN0KGl0ZW0uZmllbGROYW1lLCBkZWZhdWx0SW5wdXRWYWx1ZSwgZmllbGRUeXBlKVxuICAgICAgOiBoYW5kbGVWYXJTZWxlY3QoaXRlbS5maWVsZE5hbWUsIHtcbiAgICAgICAgdmFsdWVUeXBlOiByZXN1bHQudmFsdWVUeXBlLFxuICAgICAgICBmaWVsZFZhbHVlOiB2YWx1ZSxcbiAgICAgICAgcnVsZTogcmVzdWx0XG4gICAgICB9LCBmaWVsZFR5cGUpXG4gIH1cblxuICBjb25zdCBnZXRRdWlja0ZpbmRlcklucHV0VmFsdWUgPSAocmVmQmlsbERhdGEsIGZvcm1JZCkgPT4ge1xuICAgIGxldCB2YWx1ZSA9IGZpbmRUYXJnZXRGb3JtSW5mbyhyZWZCaWxsRGF0YSwgZm9ybUlkKT8ubGFiZWwgfHwgJydcbiAgICB2YWx1ZSA9IHZhbHVlID8gYOafpeaJvu+8miR7dmFsdWV9YCA6ICcnXG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICBjb25zdCBmaW5kVGFyZ2V0Rm9ybUluZm8gPSAocmVmQmlsbERhdGEsIGZvbUlkKSA9PiB7XG4gICAgbGV0IGluZm9cbiAgICByZWZCaWxsRGF0YS5jaGlsZHJlbi5mb3JFYWNoKChpdGVtOiB7IHZhbHVlOiBhbnk7IGNoaWxkcmVuOiBhbnkgfSkgPT4ge1xuICAgICAgaWYgKGl0ZW0udmFsdWUgPT09IGZvbUlkKSB7XG4gICAgICAgIGluZm8gPSBpdGVtXG4gICAgICB9XG4gICAgICBpZiAoaXRlbS5jaGlsZHJlbikge1xuICAgICAgICBjb25zdCB2ID0gZmluZFRhcmdldEZvcm1JbmZvKGl0ZW0sIGZvbUlkKVxuICAgICAgICBpZiAodikge1xuICAgICAgICAgIGluZm8gPSB2XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBpbmZvXG4gIH1cblxuICBjb25zdCBxdWVyeUZvcm1WYWx1ZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICh2YWx1ZVR5cGUgPT09IDIpIHtcbiAgICAgIHJldHVybiB2YWx1ZVswXT8ucnVsZT8udmFsdWUgfHwgZGVmYXVsdFF1ZXJ5Rm9ybURhdGEudmFsdWVcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRRdWVyeUZvcm1EYXRhLnZhbHVlXG4gIH0sIFt2YWx1ZV0pXG5cbiAgY29uc3QgaW52b2tlR2V0TGlzdENvbmZpZyA9IChmb3JtSWQpID0+IHtcbiAgICBpZiAoZm9ybUlkID09PSByb290SWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpbnZva2VBY3Rpb24oXG4gICAgICAnbGlzdHRyZWVjb25maWcnLFxuICAgICAgW1xuICAgICAgICBmb3JtSWRcbiAgICAgIF1cbiAgICApXG4gIH1cbiAgY29uc3QgaW52b2tlR2V0RmllbGRSZWNvcmRzID0gKGZvcm1JZDogc3RyaW5nLCBmaWVsZE5hbWU6IHN0cmluZyA9ICcnKSA9PiB7XG4gICAgaW52b2tlQWN0aW9uKFxuICAgICAgJ2dldEZpbHRlckl0ZW1Mb29rJyxcbiAgICAgIFtmb3JtSWQsIHtcbiAgICAgICAgZ2V0RW51bURhdGE6ICd0cnVlJyxcbiAgICAgICAgZW51bUZpZWxkOiBmaWVsZE5hbWUsXG4gICAgICAgIGZpbHRlcnJvd3M6IFtdXG4gICAgICB9XVxuICAgIClcbiAgfVxuXG4gIGNvbnN0IGludm9rZVNhdmVCaXpSdWxlID0gKHJ1bGVJbmZvOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSA9PiB7XG4gIH1cblxuICBjb25zdCBpbnZva2VBY3Rpb25zID0ge1xuICAgIC8vIGludm9rZUdldEZpZWxkTG9va1NldHRpbmcsXG4gICAgaW52b2tlR2V0TGlzdENvbmZpZyxcbiAgICBpbnZva2VHZXRGaWVsZFJlY29yZHMsXG4gICAgaW52b2tlU2F2ZUJpelJ1bGVcbiAgfVxuXG4gIGNvbnN0IHJlZkJpbGxEYXRhID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgcmVzID0gZ2V0UmVmQmlsbERhdGEoKVxuICAgIHJlcy5jaGlsZHJlblswXS5pY29uID0gPEljb24gcHJlZml4PSdub2NvZGVwbGF0Zm9ybWljb24nIHR5cGU9J2dlcmVuemhvbmd4aW4nIHN0eWxlPXt7IGNvbG9yOiAnIzM5ODdFRCcgfX0gLz5cbiAgICByZXMuY2hpbGRyZW5bMV0uaWNvbiA9IDxJY29uIHByZWZpeD0nbm9jb2RlcGxhdGZvcm1pY29uJyB0eXBlPSd6dXpoaScgc3R5bGU9e3sgY29sb3I6ICcjMzk4N0VEJyB9fSAvPlxuICAgIHJldHVybiByZXNcbiAgfSwgW2dldFJlZkJpbGxEYXRhXSlcblxuICBjb25zdCBjdXJ2YWx1ZURhdGEgPSB7XG4gICAgbmFtZTogJ3ZhbHVlJyxcbiAgICBvcHRpb25zOiB0cmFuc2Zvcm0yT3B0aW9ucyhpdGVtcyksXG4gICAgY2xhc3NOYW1lOiBgJHtwcmVmaXhDbHN9LW1vZGFsLWJvZHktaW5mb1ZhbHVlYCxcbiAgICBmaWVsZFR5cGUsXG4gICAgLy8gb25WaXNpYmxlQ2hhbmdlOiAodmlzaWJsZSkgPT4gaGFuZGxlVmFsdWVQYW5lbFZpc2libGVDaGFuZ2UodmlzaWJsZSwgdiksXG4gICAgYm9yZGVyVHlwZTogJ2JvcmRlcmVkJyxcbiAgICBwbGFjZWhvbGRlcjogVkFMVUVfRU1QVFlfQ09NUEFSRV9UWVBFLmluY2x1ZGVzKGNvbXBhcmVUeXBlKSA/ICcnIDogdW5kZWZpbmVkLFxuICAgIGNvbEhlYWRGaWx0ZXI6IGZpZWxkUmVjb3Jkcz8uW2ZpZWxkTmFtZV0sXG4gICAgZm9ybWF0VHlwZSxcbiAgICBiYXNlVXJsLFxuICAgIGlzTXVsdGk6IGl0ZW0uaXNNdWx0aSxcbiAgICAvLyBpc0RlZmF1bHRJbnB1dDogdHJ1ZSxcbiAgICB2YXJTZWxlY3RQcm9wczoge1xuICAgICAgc2hvd1NlYXJjaDogdHJ1ZSxcbiAgICAgIGRlZmF1bHRFeHBhbmRBbGw6IHRydWUsXG4gICAgICBjbGFzc05hbWU6IGAke3ByZWZpeENsc30tbW9kYWwtYm9keS12YXJgLFxuICAgICAgdmlzaWJsZSxcbiAgICAgIGRpc2FibGVkOiB2YWx1ZUlucHV0VHlwZSA9PT0gJ25vbmUnIHx8IGNvbXBhcmVUeXBlID09PSAnMDAxJyxcbiAgICAgIHZhbHVlOiBPYmplY3QudmFsdWVzKHZhclNlbGVjdGVkS2V5c0luZm8pLmpvaW4oKSxcbiAgICAgIC8vIGZpbHRlclZhbHVlOiBmaWx0ZXJEYXRhLnZhbHVlLCAvLyDmoJHmkJzntKJcbiAgICAgIHBvcHBlckNsYXNzTmFtZTogYCR7cHJlZml4Q2xzfS1kZWYtZWRpdG9yLXZhci1zZWxlY3QtcGFuZWxgLFxuICAgICAgdHlwZTogJ2Ryb3Bkb3duU2VsZWN0JyxcbiAgICAgIHNlbGVjdGVkS2V5czogT2JqZWN0LmtleXModmFyU2VsZWN0ZWRLZXlzSW5mbyksXG4gICAgICBkYXRhOiBzZWxlY3RPcHRpb25zLFxuICAgICAgdmFyU2VsZWN0QWN0aXZlOiB2YXJTZWxlY3RBY3RpdmUsXG4gICAgICBvblZhclNlbGVjdEFjdGl2ZTogc2V0VmFyU2VsZWN0QWN0aXZlLFxuICAgICAgb25WaXNpYmxlQ2hhbmdlOiBzZXRWaXNpYmxlLFxuICAgICAgLy8gb25TZWxlY3Q6IChzZWxlY3RlZGtleXMsIGluZm8pID0+IGhhbmRsZVZhclNlbGVjdChzZWxlY3RlZGtleXMsIGluZm8sIGluZGV4KVxuICAgICAgb25TZWxlY3Q6IChrZXlzKSA9PiBoYW5kbGVJdGVtQ2xpY2soa2V5c1swXSksXG4gICAgICAuLi52YXJTZWxlY3RPdGhlclByb3BzXG4gICAgfSxcbiAgICAuLi5yZWZCaWxsRmllbGRQcm9wcyxcbiAgICBvbkNoYW5nZTogdiA9PiBoYW5kbGVWYWxDaGFuZ2UodiwgaW5kZXgsIGZpZWxkVHlwZSksXG4gICAgYWxsb3dDbGVhcjogKGZpZWxkVHlwZSAhPT0gJ251bWJlcicpLFxuICAgIHZhbHVlOiBpdGVtLmlzTXVsdGkgPyBkYXRhVmFsdWUgOiAoZmllbGRUeXBlID09PSAncmVmYmlsbCcgPyByZWZCaWxsRmllbGRQcm9wcy52YWx1ZSA6IGRhdGFWYWx1ZSlcbiAgfVxuICByZXR1cm4gKFxuICAgIDxSZWFjdC5GcmFnbWVudCBrZXk9e2ZpZWxkTmFtZSArIGNvbXBhcmVUeXBlICsgaW5kZXh9PlxuICAgICAgPEtVSUNvbmZpZ1Byb3ZpZGVyIHZhbHVlPXt7IHByZWZpeENsczogJ2tkJyB9fT5cbiAgICAgICAgPENvbmRpdGlvbkZpbHRlckl0ZW1cbiAgICAgICAgICBvbkRlbGV0ZT17KCkgPT4gaGFuZGxlRGVsZXRlKGluZGV4KX1cbiAgICAgICAgICBkYXRhPXtbY3VyZmllbGREYXRhLCBjdXJjb21wYXJlVHlwZURhdGEsIGN1cnZhbHVlRGF0YV19XG4gICAgICAgICAgY3VzdG9tSW5wdXQ9e1tcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogJ25vdElucHV0JyxcbiAgICAgICAgICAgICAgcmVuZGVyOiAoeyB2YWx1ZSwgY2xhc3NOYW1lIH0pID0+IDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT57dmFsdWV9PC9zcGFuPlxuICAgICAgICAgICAgfVxuICAgICAgICAgIF19XG4gICAgICAgICAgdmFsdWVSZXF1aXJlZFxuICAgICAgICAgIGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1pdGVtYH1cbiAgICAgICAgICB2ZXJpZnlEYXRhPXt2ZXJpZnlEYXRhfVxuICAgICAgICAvPlxuXG4gICAgICAgIHtmb3JtdWxhVmlzaWJsZSAmJiA8Q29uZGl0aW9uXG4gICAgICAgICAgdmFsdWU9e2Zvcm11bGFEYXRhWzBdfSAvLyAne3tGaWVsZCBpZD1cIiR7bW9kZWwubmFtZX1cIiB0ZXh0PVwi6KGo5Y2V5o+Q5Lqk6Kem5Y+RfHx8W+aWh+acrF3lp5PlkI1cIn19J1xuICAgICAgICAgIGxhbmd1YWdlPXtOdW1iZXIoZm9ybXVsYURhdGFbMV0gfHwgMSl9XG4gICAgICAgICAgbW9kYWxUaXRsZT0n57yW6L6R6L+Q566X5YWs5byPJ1xuICAgICAgICAgIGVkaXRvclRpdGxlPXtpdGVtLmZpZWxkQ2FwdGlvbn1cbiAgICAgICAgICAvLyBhY3Rpb25UeXBlPXt9XG4gICAgICAgICAgdmlzaWJsZT17Zm9ybXVsYVZpc2libGV9XG4gICAgICAgICAgLy8gaGlkZUZ1bmM9e31cbiAgICAgICAgICBlZGl0b3JQbGFjZWhvbGRlcj0n6K+357yW6L6R6L+Q566X5YWs5byPJ1xuICAgICAgICAgIGZpZWxkRGF0YT17ZmllbGRUcmVlfVxuICAgICAgICAgIGZpZWxkVGl0bGU9J+ihqOWNleWGheWuuSdcbiAgICAgICAgICBleHByZXNzaW9uRGF0YT17ZXhwcmVzc2lvbkRhdGEuZnVuY3Rpb25UeXBlc31cbiAgICAgICAgICBvcGVyYXRpb25zPXtvcGVyYXRpb25zfVxuICAgICAgICAgIGRlZmF1bHRFeHBhbmRBbGw9e2ZhbHNlfVxuICAgICAgICAgIG9uQ2xvc2U9e2hhbmRsZUNsb3NlRm9ybXVsYU1vZGFsfVxuICAgICAgICAgIG9uQ29uZmlybT17aGFuZGxlRm9ybXVsYUNvbmZpcm19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAvPn1cbiAgICAgIDwvS1VJQ29uZmlnUHJvdmlkZXI+XG4gICAgICB7YmlsbEZpbmRlclZpc2libGUgJiZcbiAgICAgICAgPEJpbGxRdWlja0ZpbmRlck1vZGFsXG4gICAgICAgICAgdmlzaWJsZT17YmlsbEZpbmRlclZpc2libGV9XG4gICAgICAgICAgb25DbG9zZT17aGFuZGxlQ2xvc2VCaWxsRmluZGVyTW9kYWx9XG4gICAgICAgICAgaW52b2tlQWN0aW9ucz17aW52b2tlQWN0aW9uc31cbiAgICAgICAgICBxdWVyeUZvcm1WYWx1ZT17cXVlcnlGb3JtVmFsdWUgfHwgZGVmYXVsdFF1ZXJ5Rm9ybURhdGEudmFsdWV9XG4gICAgICAgICAgcmVmQmlsbERhdGE9e3JlZkJpbGxEYXRhfVxuICAgICAgICAgIGZpZWxkPXtpdGVtfVxuICAgICAgICAgIGNvbXBhcmVUeXBlc01hcD17Y29tcGFyZVR5cGVzTWFwfVxuICAgICAgICAgIGZvcm1JZD17Zm9ybUlkfVxuICAgICAgICAgIG9uQ29uZmlybT17aGFuZGxlUXVpY2tGaW5kZXJDb25maXJtfVxuICAgICAgICAvPn1cbiAgICA8L1JlYWN0LkZyYWdtZW50PlxuICApXG59KVxuQ2hpbGRyZW5JdGVtLmRpc3BsYXlOYW1lID0gJ0NoaWxkcmVuSXRlbSdcblxuY29uc3QgTW9kYWxCb2R5ID0gZm9yd2FyZFJlZigoe1xuICBwcmVmaXhDbHMsXG4gIGZpZWxkS2V5LFxuICBmb3JtSWQsXG4gIGlucHV0Rm9ybUlkLFxuICB2YWx1ZSxcbiAgb25DaGFuZ2UsXG4gIG9uQ29uZmlybVxufSwgcmVmKSA9PiB7XG4gIGNvbnN0IHsgYmFzZVVybCwgb25Eb3duTG9hZCwgZ2V0Q29udHJvbFRleHQsIGJhdGNoSW52b2tlLCBnZXRDb21wYXJlVHlwZXMsIGdldEtkZXNpZ25lckFwaSwgY3VyRm9ybXVsYVRyZWVBcGksIGdldFJlZkJpbGxOYW1lTWFwIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3QgYm9keVJlZiA9IHVzZVJlZjxhbnk+KG51bGwpXG4gIGNvbnN0IG1haW5SZWYgPSB1c2VSZWY8YW55PihudWxsKVxuICBjb25zdCBvbGRWYWwgPSB1c2VSZWY8YW55W10+KFtdKVxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0LCBtZXRhOiBtZXRhQXBpIH0gPSBnZXRLZGVzaWduZXJBcGkoKVxuICBjb25zdCBjb21wYXJlVHlwZXNNYXAgPSBnZXRDb21wYXJlVHlwZXMoKVxuICBjb25zdCByb290SWQgPSBkYXRhQ29udGV4dC5nZXRSb290SWQoKVxuXG4gIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZVZlcmlmeUFuZEdldE1zZyAoKSB7XG4gICAgICAgIHJldHVybiBtYWluUmVmLmN1cnJlbnQudXBkYXRlVmVyaWZ5QW5kR2V0TXNnKClcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKVxuXG4gIGNvbnN0IGZpZWxkUmVjb3JkcyA9IHVzZVF1ZXJ5RXZlbnREYXRhKHsgaWQ6IGZpZWxkS2V5LCBmb3JtSWQsIGV2ZW50TmFtZTogJ2ZpbHRlckl0ZW1Mb29rJyB9KVxuXG4gIGNvbnN0IHByZUNvbmRpdGlvbiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgY29uc3QgcHJlQ29uZGl0aW9uSXRlbTogYW55W10gPSBbXVxuICAgICAgdmFsdWUuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgcHJlQ29uZGl0aW9uSXRlbS5wdXNoKHtcbiAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgIHZhbHVlOiB0eXBlb2YgaXRlbS52YWx1ZSA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGl0ZW0udmFsdWUpIDogaXRlbS52YWx1ZSB8fCBbXVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICAgIHJldHVybiBwcmVDb25kaXRpb25JdGVtXG4gICAgfVxuXG4gICAgcmV0dXJuIFtdXG4gIH0sIFt2YWx1ZV0pXG5cbiAgY29uc3QgY3VyTGlzdEZpbHRlckNvbmZpZyA9IHVzZUxpc3RUcmVlQ29uZmlnUGFyc2VyKHtcbiAgICBhcGk6IGN1ckZvcm11bGFUcmVlQXBpLFxuICAgIHBhcnNlcjogKGRhdGEpID0+IGxpc3RGaWx0ZXJQYXJzZXIoZGF0YSwgZGF0YSwgY29tcGFyZVR5cGVzTWFwKVxuICB9KVxuXG4gIGNvbnN0IHJlbGF0aW9uRm9ybUZpZWxkT3B0aW9ucyA9IHVzZVF1ZXJ5RXZlbnREYXRhKHtcbiAgICBpZDogZmllbGRLZXksXG4gICAgZm9ybUlkOiBpbnB1dEZvcm1JZCxcbiAgICBldmVudE5hbWU6ICdzZXRMaXN0VHJlZUNvbmZpZycsXG4gICAgcGFyc2VyOiAoeyBkYXRhIH0pID0+IHRyYW5zZm9ybUZpZWxkT3B0aW9ucyhkYXRhLCBtZXRhQXBpKSxcbiAgICBkZWZhdWx0VmFsdWU6IFtdXG4gIH0pXG5cbiAgY29uc3QgcmVmQmlsbFByZWZpeE1hcCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBkZWVwR2V0UmVmQmlsbENhcHRpb24oY3VyTGlzdEZpbHRlckNvbmZpZylcbiAgfSwgW2N1ckxpc3RGaWx0ZXJDb25maWddKVxuXG4gIGNvbnN0IGN1ckZpZWxkT3B0aW9ucyA9IHVzZU1lbW8oKCkgPT4geyAvLyDlvZPliY3ooajljZXlhoXlrrnnmoTkuIvmi4npoblcbiAgICBjb25zdCBkYXRhSXRlbXMgPSAoZGF0YUNvbnRleHQuZ2V0RGF0YSgpLkl0ZW1zIHx8IFtdKS5tYXAoKGl0ZW06IGFueSkgPT4ge1xuICAgICAgY29uc3QgeyBfVHlwZV8gfSA9IGl0ZW1cbiAgICAgIGNvbnN0IGRlZmF1bHREYXRhID0gbWV0YUFwaS5nZXREZWZhdWx0RGF0YShfVHlwZV8pXG4gICAgICByZXR1cm4geyAuLi5kZWZhdWx0RGF0YSwgLi4uaXRlbSB9XG4gICAgfSlcbiAgICBjb25zdCBmaWx0ZXJOb2RlQ2IgPSAobm9kZTogYW55KSA9PiB7XG4gICAgICBjb25zdCB7IF9UeXBlXzogY29udHJvbFR5cGUsIEJpbGxFbnRpdHlJZEV4LCBzaG93VHlwZSB9ID0gbm9kZVxuICAgICAgLy8g6L+H5ruk5YWz6IGU6KGo5Y2V6KGo5qC85Lqn55Sf55qE6ZqQ6JeP5o6n5Lu2XG4gICAgICBpZiAoaXNSZWZCaWxsVGFibGUoY29udHJvbFR5cGUpKSB7XG4gICAgICAgIHJldHVybiBzaG93VHlwZSAhPT0gJzEnXG4gICAgICB9XG4gICAgICByZXR1cm4gIWlzQml6QnV0dG9uKGNvbnRyb2xUeXBlKSAmJlxuICAgICAgIWlzQ3JlYXRvck9yTW9kaWZpZXJDb250cm9sKGNvbnRyb2xUeXBlKSAmJlxuICAgICAgISgoY29udHJvbFR5cGUgPT09ICdOb0NvZGVNdWxSZWZCaWxsRmllbGQnIHx8IGNvbnRyb2xUeXBlID09PSAnTm9Db2RlUmVmQmlsbEZpZWxkJykgJiYgQmlsbEVudGl0eUlkRXggPT09IHVuZGVmaW5lZClcbiAgICB9XG4gICAgY29uc3QgZGF0YVRyZWUgPSBleGx1ZGVUcmVlTm9kZUJ5Q2FsbGJhY2soYnVpbGRUcmVlKGRhdGFJdGVtcylbMF0/LmNoaWxkcmVuIHx8IFtdLCBmaWx0ZXJOb2RlQ2IpXG4gICAgcmV0dXJuIHRyYW5zZm9ybVRvVHJlZVNlbGVjdE9wdGlvbnMoZGF0YVRyZWUsIHJlZkJpbGxQcmVmaXhNYXAsIG1ldGFBcGksIGdldFJlZkJpbGxOYW1lTWFwKCkpXG4gIH0sIFtyZWZCaWxsUHJlZml4TWFwLCBnZXRSZWZCaWxsTmFtZU1hcF0pXG5cbiAgY29uc3QgZmllbGRPcHRpb25zID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKCFpbnB1dEZvcm1JZCkgcmV0dXJuIFtdXG4gICAgcmV0dXJuIGlucHV0Rm9ybUlkICE9PSByb290SWQgPyByZWxhdGlvbkZvcm1GaWVsZE9wdGlvbnMgOiBjdXJGaWVsZE9wdGlvbnNcbiAgfSwgW2N1ckZpZWxkT3B0aW9ucywgcmVsYXRpb25Gb3JtRmllbGRPcHRpb25zLCBpbnB1dEZvcm1JZCwgcm9vdElkXSlcblxuICAvLyDmoLnmja7orr7orqHml7blhYPmlbDmja7nu4Too4XnrZvpgInpobnnmoTmlbDmja5cbiAgY29uc3QgbGlzdEZpbHRlckNvbmZpZyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB0cmFuc2Zvcm1UcmVlVG9MaXN0Q29uZmlnKGZpZWxkT3B0aW9ucylcbiAgfSwgW2ZpZWxkT3B0aW9uc10pXG5cbiAgY29uc3QgY2hlY2tlZEtleXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gcHJlQ29uZGl0aW9uLm1hcChpdGVtID0+IGl0ZW0uZmllbGROYW1lKVxuICB9LCBbcHJlQ29uZGl0aW9uXSlcblxuICBjb25zdCBmaWVsZFRyZWUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gdHJhbnNsYXRlRmllbGREYXRhKHtcbiAgICAgIG9wdGlvbnM6IGN1ckxpc3RGaWx0ZXJDb25maWdcbiAgICB9KVxuICB9LCBbY3VyTGlzdEZpbHRlckNvbmZpZ10pXG5cbiAgY29uc3Qgc2V0U2Nyb2xsQmFyID0gdXNlQ2FsbGJhY2soKHYpID0+IHtcbiAgICAvLyBjb25zdCB7IG9mZnNldEhlaWdodDogYm9keUhlaWdodCB9ID0gYm9keVJlZi5jdXJyZW50XG4gICAgLy8gY29uc29sZS5sb2coJ3NldFNjcm9sbEJhcicsIG1haW5IZWlnaHQsIGJvZHlIZWlnaHQsIHYpXG4gICAgaWYgKG9sZFZhbC5jdXJyZW50Lmxlbmd0aCA8IHYubGVuZ3RoICYmIHYubGVuZ3RoID4gNykge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBib2R5UmVmLmN1cnJlbnQuc2Nyb2xsVG8oMCwgMTAwMDApLCAxMDApXG4gICAgfVxuICAgIG9sZFZhbC5jdXJyZW50ID0gdlxuICB9LCBbXSlcblxuICBjb25zdCBoYW5kbGVDaGFuZ2VGaWx0ZXIgPSAodikgPT4ge1xuICAgIGxldCBuZXdWYWx1ZSA9IHZcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2KSkge1xuICAgICAgY29uc3QgbmV3djogYW55W10gPSBbXVxuICAgICAgdi5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBuZXd2LnB1c2goe1xuICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgdmFsdWU6IHR5cGVvZiBpdGVtLnZhbHVlID09PSAnb2JqZWN0JyA/IEpTT04uc3RyaW5naWZ5KGl0ZW0udmFsdWUpIDogaXRlbS52YWx1ZSB8fCAnJ1xuICAgICAgICB9KVxuICAgICAgfSlcbiAgICAgIG5ld1ZhbHVlID0gbmV3dlxuICAgIH1cbiAgICBvbkNoYW5nZShuZXdWYWx1ZSlcbiAgICBzZXRTY3JvbGxCYXIodilcbiAgfVxuXG4gIGNvbnN0IGJhdGNoSW52b2tlUXVlcnkgPSAoaWQsIGFyZ3M6IEFyZ3NBcGkgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGZpbHRlciA9ICcnLCAvLyDmlbDmja7ov4fmu6RcbiAgICAgIHNlYXJjaCA9ICcnLCAvLyDmkJzntKLlhoXlrrlcbiAgICAgIG9yZGVyX2J5ID0gJycsIC8vIOaOkuW6j1xuICAgICAgc2VsZWN0ID0gJycsIC8vIOWtl+autVxuICAgICAgcGFnZV9zaXplID0gMTAsIC8vIOavj+mhteihjOaVsFxuICAgICAgcGFnZV9ubyA9IDEsXG4gICAgICBpZHMgPSBbXS8vIOmAieS4reeahGlkc1xuICAgIH0gPSBhcmdzXG4gICAgYmF0Y2hJbnZva2UoJ3F1ZXJ5JywgJ25vY29kZWZvcm1kZXNpZ25lcicsIFtpZCwge1xuICAgICAgZmlsdGVyLCAvLyDmlbDmja7ov4fmu6RcbiAgICAgIHNlYXJjaCwgLy8g5pCc57Si5YaF5a65XG4gICAgICBvcmRlcl9ieSwgLy8g5o6S5bqPXG4gICAgICBzZWxlY3QsIC8vIOWtl+autVxuICAgICAgcGFnZV9zaXplLCAvLyDmr4/pobXooYzmlbBcbiAgICAgIHBhZ2Vfbm8sXG4gICAgICBpZHMvLyDpgInkuK3nmoRpZHNcbiAgICB9XSlcbiAgfVxuXG4gIGNvbnN0IGJhdGNoSW52b2tlTGlzdENvbmZpZyA9IChpZCkgPT4ge1xuICAgIGJhdGNoSW52b2tlKCdsaXN0Y29uZmlnJywgJ25vY29kZWZvcm1kZXNpZ25lcicsIFtpZF0pXG4gIH1cblxuICBjb25zdCBhZGRDb250cm9sQWN0aW9uID0gKG1ldGhvZE5hbWUsIGxpc3RlbmVyKSA9PiB7XG4gICAgZXZlbnRCdXMub24obWV0aG9kTmFtZSwgbGlzdGVuZXIpXG4gIH1cbiAgY29uc3Qgb25CYXRjaEludm9rZSA9IChhY3Rpb25OYW1lLCBhcmdzLCBwYXJhbXMgPSBbXSkgPT4ge1xuICAgIGJhdGNoSW52b2tlKGFjdGlvbk5hbWUsIGZpZWxkS2V5LCBhcmdzLCBwYXJhbXMpXG4gIH1cblxuICBjb25zdCByZWZCaWxsUHJvcHMgPSB7XG4gICAgYmFzZVVybCxcbiAgICBiYXRjaEludm9rZTogb25CYXRjaEludm9rZSxcbiAgICBnZXRDb250cm9sVGV4dCxcbiAgICBhZGRDb250cm9sQWN0aW9uLFxuICAgIG9uRG93bkxvYWQsXG4gICAgYmF0Y2hJbnZva2VMaXN0Q29uZmlnLFxuICAgIGJhdGNoSW52b2tlUXVlcnlcbiAgfVxuICBjb25zdCB7XG4gICAgZmlsdGVyRGF0YVRyYW5zZm9ybSxcbiAgICBmaWx0ZXJOb1ZhbHVlLFxuICAgIGdldE5ld0RlZmF1bHRGaWx0ZXJEYXRhRXhjZXB0LFxuICAgIGdldEZpbHRlck9wdGlvbnMsXG4gICAgY3JlYXRlTmV3VmFsdWVcbiAgfSA9IExpc3RGaWx0ZXJVdGlsXG4gIGNvbnN0IFt2ZXJpZnlEYXRhLCBzZXRWZXJpZnlEYXRhXSA9IHVzZVN0YXRlKFtdKVxuXG4gIC8vIOWxleekuueahOaVsOaNrlxuICBjb25zdCBjb25maWdGaWx0ZXJzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgc2V0VmVyaWZ5RGF0YShbXSkgLy8g5q+P5qyh5pWw5o2u5Y+R55Sf5pS55Y+Y5pe26YO95riF56m65qOA6aqM5pWw5o2uXG4gICAgcmV0dXJuIGZpbHRlckRhdGFUcmFuc2Zvcm0ocHJlQ29uZGl0aW9uLCBsaXN0RmlsdGVyQ29uZmlnKSB8fCBbXVxuICB9LCBbcHJlQ29uZGl0aW9uLCBsaXN0RmlsdGVyQ29uZmlnXSlcblxuICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAvLyDnu5PlkIh2YWx1ZVJlcXVpcmVk5L2/55SoXG4gICAgICAvLyDkuLvliqjop6blj5HnrZvpgInpobnnmoTlgLzlgZrpnZ7nqbrmoKHpqozvvIzlubbov5Tlm57plJnor6/mlbDmja5cbiAgICAgIHVwZGF0ZVZlcmlmeUFuZEdldE1zZyAoKSB7XG4gICAgICAgIGNvbnN0IHZlcmlmeURhdGFJbmZvID0gZmlsdGVyTm9WYWx1ZShjb25maWdGaWx0ZXJzKVxuICAgICAgICBzZXRWZXJpZnlEYXRhKHZlcmlmeURhdGFJbmZvKVxuICAgICAgICByZXR1cm4gdmVyaWZ5RGF0YUluZm8uZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgICAgIHJldHVybiAhaXRlbS52ZXJpZnlTdGF0dXNcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjb25maWdGaWx0ZXJzXSlcblxuICAvLyDliJvlu7rmlrDnmoTov4fmu6TpoblcbiAgY29uc3QgY3JlYXRlTmV3RmlsdGVySXRlbSA9IHVzZUNhbGxiYWNrKChkYXRhKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIF9UeXBlXzogJ0ZpbHRlckl0ZW0nLFxuICAgICAgLi4uZGF0YSxcbiAgICAgIHZhbHVlOiBkYXRhLnZhbHVlIHx8IFtdXG4gICAgfVxuICB9LCBbXSlcblxuICAvLyDnrZvpgInmnaHku7bkuIvmi4noj5zljZXngrnlh7vpoblcbiAgY29uc3QgaGFuZGxlQ2hlY2sgPSAoZmllbGROYW1lczogc3RyaW5nW10sIGNoZWNrZWQ6IGJvb2xlYW4pID0+IHtcbiAgICBsZXQgcCA9IFtdXG4gICAgLy8g5a2Y5YKo5pel5pyf6IyD5Zu05a2X5q6155qEY29tcGFyZVR5cGVcbiAgICBjb25zdCBkYXRlUmFuZ2VDb21wYXJlVHlwZU1hcCA9IHByZUNvbmRpdGlvbi5yZWR1Y2UoKHJlcywgaXRlbSkgPT4ge1xuICAgICAgY29uc3QgeyBmaWVsZE5hbWUsIGNvbXBhcmVUeXBlIH0gPSBpdGVtXG4gICAgICBpZiAoZmllbGROYW1lPy5lbmRzV2l0aCgnX3N0YXJ0ZGF0ZScpIHx8IGZpZWxkTmFtZT8uZW5kc1dpdGgoJ19lbmRkYXRlJykpIHtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gZmllbGROYW1lLnJlcGxhY2UoL14oXFxTKykoX3N0YXJ0ZGF0ZXxfZW5kZGF0ZSkvZywgJyQxJylcbiAgICAgICAgcmVzW3ByZWZpeF0gPSBjb21wYXJlVHlwZVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc1xuICAgIH0sIHt9KVxuICAgIGZpZWxkTmFtZXMuZm9yRWFjaCgoZmllbGROYW1lLCBpKSA9PiB7XG4gICAgICBjb25zdCBwcmVDb25kaXRpb25JdGVtID0gcHJlQ29uZGl0aW9uLmZpbmQoaXRlbSA9PiBpdGVtLmZpZWxkTmFtZSA9PT0gZmllbGROYW1lKVxuICAgICAgaWYgKHByZUNvbmRpdGlvbkl0ZW0pIHtcbiAgICAgICAgcC5wdXNoKHByZUNvbmRpdGlvbkl0ZW0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBuZXdGaWx0ZXIgPSBnZXROZXdEZWZhdWx0RmlsdGVyRGF0YUV4Y2VwdChsaXN0RmlsdGVyQ29uZmlnLCBmaWVsZE5hbWUsIGNvbmZpZ0ZpbHRlcnMpXG4gICAgICAgIC8vIOS4jeiDveeUqOagvOW8j+WMluS5i+WQjueahHByZUNvbmRpdGlvbu+8jOebtOaOpeeUqOagvOW8j+WMluWJjeeahHZhbHVl77yM6L+Z5qC35Y+v5Lul5L2/dmFsdWXmmK/lrZfnrKbkuLLvvIzlsJrmnKrmoLzlvI/ljJbnmoRcbiAgICAgICAgaWYgKG5ld0ZpbHRlcikge1xuICAgICAgICAgIGlmIChmaWVsZE5hbWU/LmVuZHNXaXRoKCdfc3RhcnRkYXRlJykgfHwgZmllbGROYW1lPy5lbmRzV2l0aCgnX2VuZGRhdGUnKSkge1xuICAgICAgICAgICAgY29uc3QgcHJlZml4ID0gZmllbGROYW1lLnJlcGxhY2UoL14oXFxTKykoX3N0YXJ0ZGF0ZXxfZW5kZGF0ZSkvZywgJyQxJylcbiAgICAgICAgICAgIGlmIChkYXRlUmFuZ2VDb21wYXJlVHlwZU1hcFtwcmVmaXhdKSB7XG4gICAgICAgICAgICAgIG5ld0ZpbHRlci5jb21wYXJlVHlwZSA9IGRhdGVSYW5nZUNvbXBhcmVUeXBlTWFwW3ByZWZpeF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcCA9IHAuY29uY2F0KGNyZWF0ZU5ld0ZpbHRlckl0ZW0obmV3RmlsdGVyKSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gICAgaGFuZGxlQ2hhbmdlRmlsdGVyKHApXG4gIH1cblxuICAvLyDngrnlh7vmuIXnqbrlgLxcbiAgY29uc3QgaGFuZGxlQ2xpY2tDbGVhciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAocHJlQ29uZGl0aW9uPy5sZW5ndGggPiAwKSB7XG4gICAgICBoYW5kbGVDaGFuZ2VGaWx0ZXIoW10pXG4gICAgfVxuICB9LCBbcHJlQ29uZGl0aW9uLCBoYW5kbGVDaGFuZ2VGaWx0ZXJdKVxuXG4gIC8vIOexu+Wei+aUueWPmFxuICBjb25zdCBoYW5kbGVDb21wYXJlVHlwZUNoYW5nZSA9IHVzZUNhbGxiYWNrKCh2YWx1ZSwgaW5kZXgsIGZpZWxkVHlwZSkgPT4ge1xuICAgIGNvbnN0IG5ld0l0ZW06IGFueVtdID0gW11cbiAgICAvLyBsZXQgcmVsb2FkID0gKCkgPT4ge31cbiAgICBjb25zdCBmaWVsZE5hbWUgPSBwcmVDb25kaXRpb24uZmluZCgodiwgaSkgPT4gaW5kZXggPT09IGkpLmZpZWxkTmFtZVxuICAgIGxldCBzeW5jSW5kZXggPSAtMVxuICAgIGlmIChmaWVsZE5hbWU/LmVuZHNXaXRoKCdfc3RhcnRkYXRlJykgfHwgZmllbGROYW1lPy5lbmRzV2l0aCgnX2VuZGRhdGUnKSkge1xuICAgICAgLy8g5pel5pyf6IyD5Zu0LuW8gOWni+WSjOaXpeacn+iMg+WbtC7nu5PmnZ/pnIDopoHlkIzmraXkv67mlLnmr5TovoPnrKZcbiAgICAgIGNvbnN0IHByZWZpeCA9IGZpZWxkTmFtZS5yZXBsYWNlKC9eKFxcUyspKF9zdGFydGRhdGV8X2VuZGRhdGUpL2csICckMScpXG4gICAgICBzeW5jSW5kZXggPSBwcmVDb25kaXRpb24uZmluZEluZGV4KCh2LCBpKSA9PiB7XG4gICAgICAgIHJldHVybiB2LmZpZWxkTmFtZT8uc3RhcnRzV2l0aChwcmVmaXgpICYmIGluZGV4ICE9PSBpXG4gICAgICB9KVxuICAgIH1cbiAgICBwcmVDb25kaXRpb24uZm9yRWFjaCgodiwgaSkgPT4ge1xuICAgICAgaWYgKGluZGV4ID09PSBpIHx8IHN5bmNJbmRleCA9PT0gaSkge1xuICAgICAgICBuZXdJdGVtLnB1c2goY3JlYXRlTmV3RmlsdGVySXRlbSh7IGZpZWxkTmFtZTogdi5maWVsZE5hbWUsIGNvbXBhcmVUeXBlOiB2YWx1ZSwgdmFsdWU6IHYudmFsdWUsIGZpZWxkVHlwZTogZmllbGRUeXBlIH0pKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3SXRlbS5wdXNoKGNyZWF0ZU5ld0ZpbHRlckl0ZW0oeyBmaWVsZE5hbWU6IHYuZmllbGROYW1lLCBjb21wYXJlVHlwZTogdi5jb21wYXJlVHlwZSwgdmFsdWU6IHYudmFsdWUsIGZpZWxkVHlwZTogZmllbGRUeXBlIH0pKVxuICAgICAgfVxuICAgIH0pXG4gICAgLy8gcmVsb2FkKG5ld0l0ZW0pXG4gICAgaGFuZGxlQ2hhbmdlRmlsdGVyKG5ld0l0ZW0pXG4gIH0sIFtwcmVDb25kaXRpb24sIGhhbmRsZUNoYW5nZUZpbHRlcl0pXG5cbiAgLy8g5YC85pS55Y+YXG4gIGNvbnN0IGhhbmRsZVZhbHVlQ2hhbmdlID0gKHZhbHVlLCBpbmRleCwgZmllbGRUeXBlKSA9PiB7XG4gICAgLy8gdmFsdWUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogKHZhbHVlID8gW3ZhbHVlXSA6IFtdKVxuICAgIGNvbnN0IG5ld0l0ZW06IGFueVtdID0gW11cbiAgICBwcmVDb25kaXRpb24uZm9yRWFjaCgodiwgaSkgPT4ge1xuICAgICAgaW5kZXggPT09IGkgPyBuZXdJdGVtLnB1c2goY3JlYXRlTmV3RmlsdGVySXRlbSh7IGZpZWxkTmFtZTogdi5maWVsZE5hbWUsIGNvbXBhcmVUeXBlOiB2LmNvbXBhcmVUeXBlLCB2YWx1ZSwgZmllbGRUeXBlOiBmaWVsZFR5cGUgfSkpIDogbmV3SXRlbS5wdXNoKGNyZWF0ZU5ld0ZpbHRlckl0ZW0oeyBmaWVsZE5hbWU6IHYuZmllbGROYW1lLCBjb21wYXJlVHlwZTogdi5jb21wYXJlVHlwZSwgdmFsdWU6IHYudmFsdWUgfSkpXG4gICAgfSlcbiAgICBoYW5kbGVDaGFuZ2VGaWx0ZXIobmV3SXRlbSlcbiAgfVxuXG4gIC8vIOWIoOmZpFxuICBjb25zdCBoYW5kbGVEZWxldGUgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIC8vIOS4jeiDveeUqOagvOW8j+WMluS5i+WQjueahHByZUNvbmRpdGlvblxuICAgIGNvbnN0IG5ld1ZhbHVlID0gWy4uLnByZUNvbmRpdGlvbl1cbiAgICBuZXdWYWx1ZS5zcGxpY2UoaW5kZXgsIDEpXG4gICAgaGFuZGxlQ2hhbmdlRmlsdGVyKG5ld1ZhbHVlKVxuICB9XG5cbiAgLy8g5Y+Y6YeP6YCJ5oupXG4gIGNvbnN0IGhhbmRsZVZhclNlbGVjdCA9IChzZWxlY3RlZGtleXMsIGluZm8sIGluZGV4OiBudW1iZXIsIGZpZWxkVHlwZSkgPT4ge1xuICAgIGNvbnN0IG5ld0l0ZW06IGFueVtdID0gW11cbiAgICBwcmVDb25kaXRpb24uZm9yRWFjaCgodiwgaSkgPT4ge1xuICAgICAgaWYgKHYuZmllbGROYW1lID09PSBzZWxlY3RlZGtleXMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBbXVxuICAgICAgICB2YWx1ZS5wdXNoKGluZm8pXG4gICAgICAgIG5ld0l0ZW0ucHVzaChjcmVhdGVOZXdGaWx0ZXJJdGVtKHsgZmllbGROYW1lOiB2LmZpZWxkTmFtZSwgY29tcGFyZVR5cGU6IHYuY29tcGFyZVR5cGUsIHZhbHVlLCBmaWVsZFR5cGU6IGZpZWxkVHlwZSB9KSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0l0ZW0ucHVzaChjcmVhdGVOZXdGaWx0ZXJJdGVtKHsgZmllbGROYW1lOiB2LmZpZWxkTmFtZSwgY29tcGFyZVR5cGU6IHYuY29tcGFyZVR5cGUsIHZhbHVlOiB2LnZhbHVlLCBmaWVsZFR5cGU6IGZpZWxkVHlwZSB9KSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgaGFuZGxlQ2hhbmdlRmlsdGVyKG5ld0l0ZW0pXG4gIH1cblxuICBjb25zdCBoYW5kbGVWYWxDaGFuZ2UgPSAodiwgaW5kZXgsIGZpZWxkVHlwZSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gY3JlYXRlTmV3VmFsdWUodiwgZmllbGRUeXBlKVxuICAgIGhhbmRsZVZhbHVlQ2hhbmdlKHZhbHVlLCBpbmRleCwgZmllbGRUeXBlKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1tb2RhbGB9IHJlZj17Ym9keVJlZn0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1tb2RhbC1ib2R5YH0gc3R5bGU9e3sgbWFyZ2luVG9wOiAnMHB4JyB9fT5cbiAgICAgICAge2NvbmZpZ0ZpbHRlcnMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjb25maWdGaWx0ZXJzLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPENoaWxkcmVuSXRlbVxuICAgICAgICAgICAgICAgICAgICBrZXk9e2l0ZW0/LmtleSB8fCBpdGVtPy5maWVsZE5hbWV9XG4gICAgICAgICAgICAgICAgICAgIGl0ZW09e2l0ZW19XG4gICAgICAgICAgICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9ucz17ZmllbGRPcHRpb25zfVxuICAgICAgICAgICAgICAgICAgICBmaWVsZFRyZWU9e2ZpZWxkVHJlZX1cbiAgICAgICAgICAgICAgICAgICAgcHJlZml4Q2xzPXtwcmVmaXhDbHN9XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUNvbXBhcmVUeXBlQ2hhbmdlPXtoYW5kbGVDb21wYXJlVHlwZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgcmVmQmlsbFByb3BzPXtyZWZCaWxsUHJvcHN9XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkUmVjb3Jkcz17ZmllbGRSZWNvcmRzfVxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVWYWxDaGFuZ2U9e2hhbmRsZVZhbENoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlVmFyU2VsZWN0PXtoYW5kbGVWYXJTZWxlY3R9XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZURlbGV0ZT17aGFuZGxlRGVsZXRlfVxuICAgICAgICAgICAgICAgICAgICB2ZXJpZnlEYXRhPXt2ZXJpZnlEYXRhfVxuICAgICAgICAgICAgICAgICAgICBmb3JtSWQ9e2Zvcm1JZH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1tb2RhbC1mb290ZXJgfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tbW9kYWwtZm9vdGVyLWxlZnRgfT5cbiAgICAgICAgICA8S1VJQ29uZmlnUHJvdmlkZXIgdmFsdWU9e3sgcHJlZml4Q2xzOiAna2QnIH19PlxuICAgICAgICAgICAgPEFkZFRyZWVJdGVtXG4gICAgICAgICAgICAgIHRyZWVEYXRhPXtmaWVsZE9wdGlvbnN9XG4gICAgICAgICAgICAgIHRyaWdnZXJUZXh0PSfmt7vliqDlvZXlhaXlhoXlrrknXG4gICAgICAgICAgICAgIG9uQ2hlY2s9e2hhbmRsZUNoZWNrfVxuICAgICAgICAgICAgICBjaGVja2VkS2V5cz17Y2hlY2tlZEtleXN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvS1VJQ29uZmlnUHJvdmlkZXI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1tb2RhbC1mb290ZXItcmlnaHRgfT5cbiAgICAgICAgICA8QnV0dG9uIHNpemU9J3NtYWxsJyBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tbW9kYWwtZm9vdGVyLWJ0bmB9IG9uQ2xpY2s9e2hhbmRsZUNsaWNrQ2xlYXJ9Pua4heepujwvQnV0dG9uPlxuICAgICAgICAgIDxCdXR0b24gc2l6ZT0nc21hbGwnIHR5cGU9J3ByaW1hcnknIGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1tb2RhbC1mb290ZXItYnRuYH0gb25DbGljaz17b25Db25maXJtfT7noa7lrpo8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufSlcblxuY29uc3QgSW5wdXRDb250ZW50TW9kYWwgPSBtZW1vKCh7XG4gIHByZWZpeENscyxcbiAgdGl0bGUsXG4gIHZhbHVlLFxuICBmb3JtSWQsXG4gIGlucHV0Rm9ybUlkLFxuICB2aXNpYmxlLFxuICBzZXRWaXNpYmxlLFxuICBmaWVsZEtleSxcbiAgb25DaGFuZ2Vcbn0pID0+IHtcbiAgY29uc3QgW2lubmVyVmFsdWUsIHNldElubmVyVmFsdWVdID0gdXNlU3RhdGUodmFsdWUpXG4gIGNvbnN0IG1vZGFsQm9keVJlZiA9IHVzZVJlZigpXG5cbiAgLy8g54K55Ye75Y+W5raIXG4gIGNvbnN0IGhhbmRsZUNhbmNlbCA9ICgpID0+IHtcbiAgICBzZXRWaXNpYmxlKGZhbHNlKVxuICB9XG5cbiAgLy8g54K55Ye756Gu6K6kXG4gIGNvbnN0IGhhbmRsZUNvbmZpcm0gPSAoKSA9PiB7XG4gICAgb25DaGFuZ2U/Lihpbm5lclZhbHVlKVxuICAgIGhhbmRsZUNhbmNlbCgpXG4gIH1cblxuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAodmFsdWUpID0+IHtcbiAgICBzZXRJbm5lclZhbHVlKHZhbHVlKVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodmlzaWJsZSkge1xuICAgICAgaWYgKCFpc0VxdWFsKHZhbHVlLCBpbm5lclZhbHVlKSkge1xuICAgICAgICBzZXRJbm5lclZhbHVlKHZhbHVlKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW3Zpc2libGVdKVxuXG4gIHJldHVybiAoXG4gICAgPE1vZGFsXG4gICAgICBtYXNrXG4gICAgICB2aXNpYmxlPXt2aXNpYmxlfVxuICAgICAgYm9keT17PE1vZGFsQm9keSByZWY9e21vZGFsQm9keVJlZn0gcHJlZml4Q2xzPXtwcmVmaXhDbHN9IGZpZWxkS2V5PXtmaWVsZEtleX0gZm9ybUlkPXtmb3JtSWR9IGlucHV0Rm9ybUlkPXtpbnB1dEZvcm1JZH0gdmFsdWU9e2lubmVyVmFsdWV9IG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9IG9uQ29uZmlybT17aGFuZGxlQ29uZmlybX0gLz59XG4gICAgICB0aXRsZUljb249e251bGx9XG4gICAgICBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tbW9kYWxgfVxuICAgICAgbWFza0Nsb3NhYmxlPXtmYWxzZX1cbiAgICAgIGZvb3Rlcj17PD48Lz59XG4gICAgICB3aWR0aD17NjQwfVxuICAgICAgaGVpZ2h0PXs1MjB9XG4gICAgICBrZXlib2FyZD17ZmFsc2V9XG4gICAgICBib2R5U3R5bGU9e3sgcGFkZGluZzogMCwgb3ZlcmZsb3c6ICdoaWRkZW4nIH19XG4gICAgICBmb290ZXJTdHlsZT17eyBkaXNwbGF5OiAnbm9uZScgfX1cbiAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgIGNsb3NhYmxlXG4gICAgICBkcmFnZ2FibGU9e2ZhbHNlfVxuICAgICAgZGVzdHJveU9uQ2xvc2VcbiAgICAgIG9uQ2FuY2VsPXtoYW5kbGVDYW5jZWx9XG4gICAgICBvbk9rPXtoYW5kbGVDYW5jZWx9XG4gICAgLz5cbiAgKVxufSlcblxuSW5wdXRDb250ZW50TW9kYWwuZGlzcGxheU5hbWUgPSAnSW5wdXRDb250ZW50TW9kYWwnXG5cbmV4cG9ydCBkZWZhdWx0IElucHV0Q29udGVudE1vZGFsXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///49668\n");

/***/ }),

/***/ 6528:
/*!**************************************************!*\
  !*** ./src/editors/InputContentEditor/index.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 24496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _InputContentModal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./InputContentModal */ 49668);\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\nvar InputContentEditor = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.memo)(function (props) {\n  var _value$value;\n  var handleChange = props.handleChange,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    name = props.Name,\n    tips = props.Tips,\n    field = props.field,\n    rootId = props.rootId;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required,\n    title = editor.Title;\n  var fieldKey = field.Key,\n    type = field._Type_,\n    InputForm = field.InputForm;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState, 2),\n    modalVisible = _useState2[0],\n    setModalVisible = _useState2[1];\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useContext)(_context__WEBPACK_IMPORTED_MODULE_12__.DesignerContext),\n    invokeAction = _useContext.invokeAction,\n    prefixCls = _useContext.prefixCls,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    fetchListTree = _useContext.fetchListTree;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data;\n  var setValues = function setValues(v) {\n    // \"{value=[{fieldName=nc_ko7zdewawm, compareType=edit, value=[{\\\"fieldValue\\\":\\\"555\\\"}]}, {fieldName=nc_hryk4dm6de, compareType=edit, value=[{\\\"fieldValue\\\":\\\"选项一\\\"}]}]}\"\n    if (typeof v === 'string' && v != '') {\n      return JSON.parse(v);\n    } else {\n      return v;\n    }\n  };\n  var value = setValues(props.value);\n  var formId = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    return type.toLocaleLowerCase() === 'nocodemulrefbillfield' ? field.BillEntityIdEx : dataContext.getRootId();\n  }, [type, dataContext, field === null || field === void 0 ? void 0 : field.BillEntityIdEx]);\n  var invokeGetCurFormListConfig = function invokeGetCurFormListConfig() {\n    fetchListTree('formula');\n  };\n  var inputFormId = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    if (InputForm) {\n      var startnum = InputForm.lastIndexOf('.') + 1;\n      var endnum = InputForm.lastIndexOf('[');\n      var targetId = startnum > 0 && endnum > -1 ? InputForm.substring(startnum, endnum) : InputForm;\n      if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default()(targetId).call(targetId, rootId)) return rootId;\n      return targetId;\n    }\n    return '';\n  }, [InputForm]);\n\n  /**\n  * 请求FORM数据\n  */\n  var fetchFormOptions = function fetchFormOptions() {\n    if (inputFormId) {\n      invokeAction('listtreeconfig', [inputFormId, 'formula' // 加此参数，表格字段会返回正确的类型和id，否则返回隐藏的关联表单类型\n      ]);\n    }\n  };\n  var handleClick = function handleClick() {\n    // invokeAction('getFormRules', [{ formId, fieldKey }])\n    setModalVisible(true);\n    invokeGetCurFormListConfig();\n    fetchFormOptions();\n  };\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    var targetFormId = value === null || value === void 0 ? void 0 : value.targetId;\n    if (targetFormId && targetFormId != InputForm) {\n      handleChange('');\n    }\n  }, [InputForm]);\n\n  // 弹窗值发生变更\n  var onChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function (v) {\n    var info = _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9___default()({\n      value: v,\n      targetId: InputForm\n    });\n    handleChange(info);\n  }, [handleChange]);\n  var editorPrefixCls = \"\".concat(prefixCls, \"-inputContnet-editor\");\n  var newEditor = _objectSpread(_objectSpread({}, editor), {}, {\n    NameHidden: true\n  });\n\n  // 标题属性，关联表单不显示switch切换\n  var titleProps = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    return {\n      name: name,\n      className: className,\n      nameHidden: nameHidden,\n      tips: tips,\n      required: required,\n      title: title\n    };\n  }, [name, className, nameHidden, tips, required, title]);\n  var getCount = function getCount(item) {\n    return \"\".concat(item.length, \"\\u4E2A\\u5185\\u5BB9\");\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"div\", {\n    className: editorPrefixCls\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-nav\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.NameTipWrapper, titleProps)), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.CustomInputTrigger, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n    editor: newEditor,\n    disabled: locked,\n    value: (value === null || value === void 0 || (_value$value = value.value) === null || _value$value === void 0 ? void 0 : _value$value.length) > 0 ? getCount(value.value) : '',\n    onClick: handleClick\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(_InputContentModal__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    formId: formId,\n    inputFormId: inputFormId,\n    prefixCls: editorPrefixCls,\n    visible: modalVisible,\n    setVisible: setModalVisible,\n    fieldKey: fieldKey,\n    value: (value === null || value === void 0 ? void 0 : value.value) || [],\n    title: name,\n    onChange: onChange\n  }));\n});\nInputContentEditor.displayName = 'InputContentEditor';\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.ErrorBoundaryWrap)(InputContentEditor, 'InputContentEditor'));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjUyOC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQUE7O0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUVBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9JbnB1dENvbnRlbnRFZGl0b3IvaW5kZXgudHN4PzhmOGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IEZDLCBtZW1vLCB1c2VTdGF0ZSwgdXNlQ29udGV4dCwgdXNlTWVtbywgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQ3VzdG9tSW5wdXRUcmlnZ2VyLCBQcm9wZXJ0eUVkaXRvclByb3BzLCBOYW1lVGlwV3JhcHBlciwgRXJyb3JCb3VuZGFyeVdyYXAgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0J1xuaW1wb3J0IElucHV0Q29udGVudE1vZGFsIGZyb20gJy4vSW5wdXRDb250ZW50TW9kYWwnXG5cbmNvbnN0IElucHV0Q29udGVudEVkaXRvcjogRkM8UHJvcGVydHlFZGl0b3JQcm9wcz4gPSBtZW1vKChwcm9wcykgPT4ge1xuICBjb25zdCB7IGhhbmRsZUNoYW5nZSwgY2xhc3NOYW1lLCBlZGl0b3IsIGxvY2tlZCwgTmFtZTogbmFtZSwgVGlwczogdGlwcywgZmllbGQsIHJvb3RJZCB9ID0gcHJvcHNcbiAgY29uc3QgeyBOYW1lSGlkZGVuOiBuYW1lSGlkZGVuLCBSZXF1aXJlZDogcmVxdWlyZWQsIFRpdGxlOiB0aXRsZSB9ID0gZWRpdG9yXG4gIGNvbnN0IHsgS2V5OiBmaWVsZEtleSwgX1R5cGVfOiB0eXBlLCBJbnB1dEZvcm0gfSA9IGZpZWxkXG4gIGNvbnN0IFttb2RhbFZpc2libGUsIHNldE1vZGFsVmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgeyBpbnZva2VBY3Rpb24sIHByZWZpeENscywgZ2V0S2Rlc2lnbmVyQXBpLCBmZXRjaExpc3RUcmVlIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCB9ID0gZ2V0S2Rlc2lnbmVyQXBpKClcblxuICBjb25zdCBzZXRWYWx1ZXMgPSAodjogYW55KSA9PiB7XG4gICAgLy8gXCJ7dmFsdWU9W3tmaWVsZE5hbWU9bmNfa283emRld2F3bSwgY29tcGFyZVR5cGU9ZWRpdCwgdmFsdWU9W3tcXFwiZmllbGRWYWx1ZVxcXCI6XFxcIjU1NVxcXCJ9XX0sIHtmaWVsZE5hbWU9bmNfaHJ5azRkbTZkZSwgY29tcGFyZVR5cGU9ZWRpdCwgdmFsdWU9W3tcXFwiZmllbGRWYWx1ZVxcXCI6XFxcIumAiemhueS4gFxcXCJ9XX1dfVwiXG4gICAgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJyAmJiB2ICE9ICcnKSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZSh2KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdlxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHZhbHVlID0gc2V0VmFsdWVzKHByb3BzLnZhbHVlKVxuXG4gIGNvbnN0IGZvcm1JZCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB0eXBlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICdub2NvZGVtdWxyZWZiaWxsZmllbGQnID8gZmllbGQuQmlsbEVudGl0eUlkRXggOiBkYXRhQ29udGV4dC5nZXRSb290SWQoKVxuICB9LCBbdHlwZSwgZGF0YUNvbnRleHQsIGZpZWxkPy5CaWxsRW50aXR5SWRFeF0pXG5cbiAgY29uc3QgaW52b2tlR2V0Q3VyRm9ybUxpc3RDb25maWcgPSAoKSA9PiB7XG4gICAgZmV0Y2hMaXN0VHJlZSgnZm9ybXVsYScpXG4gIH1cblxuICBjb25zdCBpbnB1dEZvcm1JZCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChJbnB1dEZvcm0pIHtcbiAgICAgIGNvbnN0IHN0YXJ0bnVtID0gSW5wdXRGb3JtLmxhc3RJbmRleE9mKCcuJykgKyAxXG4gICAgICBjb25zdCBlbmRudW0gPSBJbnB1dEZvcm0ubGFzdEluZGV4T2YoJ1snKVxuICAgICAgY29uc3QgdGFyZ2V0SWQgPSAoc3RhcnRudW0gPiAwICYmIGVuZG51bSA+IC0xKSA/IElucHV0Rm9ybS5zdWJzdHJpbmcoc3RhcnRudW0sIGVuZG51bSkgOiBJbnB1dEZvcm1cbiAgICAgIGlmICh0YXJnZXRJZC5pbmNsdWRlcyhyb290SWQpKSByZXR1cm4gcm9vdElkXG4gICAgICByZXR1cm4gdGFyZ2V0SWRcbiAgICB9XG4gICAgcmV0dXJuICcnXG4gIH0sIFtJbnB1dEZvcm1dKVxuXG4gIC8qKlxuICog6K+35rGCRk9STeaVsOaNrlxuICovXG4gIGNvbnN0IGZldGNoRm9ybU9wdGlvbnMgPSAoKSA9PiB7XG4gICAgaWYgKGlucHV0Rm9ybUlkKSB7XG4gICAgICBpbnZva2VBY3Rpb24oXG4gICAgICAgICdsaXN0dHJlZWNvbmZpZycsXG4gICAgICAgIFtcbiAgICAgICAgICBpbnB1dEZvcm1JZCxcbiAgICAgICAgICAnZm9ybXVsYScgLy8g5Yqg5q2k5Y+C5pWw77yM6KGo5qC85a2X5q615Lya6L+U5Zue5q2j56Gu55qE57G75Z6L5ZKMaWTvvIzlkKbliJnov5Tlm57pmpDol4/nmoTlhbPogZTooajljZXnsbvlnotcbiAgICAgICAgXVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gKCkgPT4ge1xuICAgIC8vIGludm9rZUFjdGlvbignZ2V0Rm9ybVJ1bGVzJywgW3sgZm9ybUlkLCBmaWVsZEtleSB9XSlcbiAgICBzZXRNb2RhbFZpc2libGUodHJ1ZSlcbiAgICBpbnZva2VHZXRDdXJGb3JtTGlzdENvbmZpZygpXG4gICAgZmV0Y2hGb3JtT3B0aW9ucygpXG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHRhcmdldEZvcm1JZCA9IHZhbHVlPy50YXJnZXRJZFxuICAgIGlmICh0YXJnZXRGb3JtSWQgJiYgdGFyZ2V0Rm9ybUlkICE9IElucHV0Rm9ybSkge1xuICAgICAgaGFuZGxlQ2hhbmdlKCcnKVxuICAgIH1cbiAgfSwgW0lucHV0Rm9ybV0pXG5cbiAgLy8g5by556qX5YC85Y+R55Sf5Y+Y5pu0XG4gIGNvbnN0IG9uQ2hhbmdlID0gdXNlQ2FsbGJhY2soKHY6IGFueSkgPT4ge1xuICAgIGNvbnN0IGluZm8gPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB2YWx1ZTogdixcbiAgICAgIHRhcmdldElkOiBJbnB1dEZvcm1cbiAgICB9KVxuICAgIGhhbmRsZUNoYW5nZShpbmZvKVxuICB9LCBbaGFuZGxlQ2hhbmdlXSlcblxuICBjb25zdCBlZGl0b3JQcmVmaXhDbHMgPSBgJHtwcmVmaXhDbHN9LWlucHV0Q29udG5ldC1lZGl0b3JgXG5cbiAgY29uc3QgbmV3RWRpdG9yID0ge1xuICAgIC4uLmVkaXRvcixcbiAgICBOYW1lSGlkZGVuOiB0cnVlXG4gIH1cblxuICAvLyDmoIfpopjlsZ7mgKfvvIzlhbPogZTooajljZXkuI3mmL7npLpzd2l0Y2jliIfmjaJcbiAgY29uc3QgdGl0bGVQcm9wcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB7IG5hbWUsIGNsYXNzTmFtZSwgbmFtZUhpZGRlbiwgdGlwcywgcmVxdWlyZWQsIHRpdGxlIH1cbiAgfSwgW25hbWUsIGNsYXNzTmFtZSwgbmFtZUhpZGRlbiwgdGlwcywgcmVxdWlyZWQsIHRpdGxlXSlcblxuICBjb25zdCBnZXRDb3VudCA9IChpdGVtOiBhbnkpID0+IHtcbiAgICByZXR1cm4gYCR7aXRlbS5sZW5ndGh95Liq5YaF5a65YFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17ZWRpdG9yUHJlZml4Q2xzfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9LW5hdmB9PjxOYW1lVGlwV3JhcHBlciB7Li4udGl0bGVQcm9wc30gLz48L2Rpdj5cbiAgICAgIDxDdXN0b21JbnB1dFRyaWdnZXJcbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgICBlZGl0b3I9e25ld0VkaXRvcn1cbiAgICAgICAgZGlzYWJsZWQ9e2xvY2tlZH1cbiAgICAgICAgdmFsdWU9e3ZhbHVlPy52YWx1ZT8ubGVuZ3RoID4gMCA/IGdldENvdW50KHZhbHVlLnZhbHVlKSA6ICcnfVxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbGlja31cbiAgICAgIC8+XG4gICAgICA8SW5wdXRDb250ZW50TW9kYWxcbiAgICAgICAgZm9ybUlkPXtmb3JtSWR9XG4gICAgICAgIGlucHV0Rm9ybUlkPXtpbnB1dEZvcm1JZH1cbiAgICAgICAgcHJlZml4Q2xzPXtlZGl0b3JQcmVmaXhDbHN9XG4gICAgICAgIHZpc2libGU9e21vZGFsVmlzaWJsZX1cbiAgICAgICAgc2V0VmlzaWJsZT17c2V0TW9kYWxWaXNpYmxlfVxuICAgICAgICBmaWVsZEtleT17ZmllbGRLZXl9XG4gICAgICAgIHZhbHVlPXt2YWx1ZT8udmFsdWUgfHwgW119XG4gICAgICAgIHRpdGxlPXtuYW1lfVxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApXG59KVxuXG5JbnB1dENvbnRlbnRFZGl0b3IuZGlzcGxheU5hbWUgPSAnSW5wdXRDb250ZW50RWRpdG9yJ1xuXG5leHBvcnQgZGVmYXVsdCBFcnJvckJvdW5kYXJ5V3JhcChJbnB1dENvbnRlbnRFZGl0b3IsICdJbnB1dENvbnRlbnRFZGl0b3InKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6528\n");

/***/ }),

/***/ 79752:
/*!*****************************************!*\
  !*** ./src/editors/InputForm/index.tsx ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transformToTree: function() { return /* binding */ transformToTree; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ 28429);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _constants_actionName__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../constants/actionName */ 82964);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_15__);\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n/**\n * 属性编辑器-选择表单\n */\n\n\n\n\n\n\n\nvar transformToTree = function transformToTree(options) {\n  var prop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (!options) return options;\n  return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default()(options).call(options, function (item) {\n    var label = item.label,\n      value = item.value,\n      children = item.children,\n      selectable = item.selectable,\n      icon = item.icon;\n    var itemData = _objectSpread({\n      key: value,\n      title: label\n    }, prop);\n    if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_15__.isUndefined)(selectable)) {\n      itemData.selectable = selectable;\n    }\n    if (icon) {\n      itemData.icon = icon;\n    }\n    if (children) {\n      if (children.length) {\n        itemData.children = transformToTree(children);\n      }\n      // 还有种children为[]空数组的情况，这种情况需要异步请求数据\n      itemData.checkable = false;\n    } else {\n      // isLeaf代表不需要请求异步数据\n      itemData.isLeaf = true;\n    }\n    return itemData;\n  });\n};\nvar InputFormEditor = kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().memo(function (props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    Name = props.Name,\n    tips = props.Tips,\n    field = props.field,\n    id = props.id,\n    propName = props.propName;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required,\n    needPathValue = editor.needPathValue,\n    title = editor.Title;\n  var dataFill = field.DataFill,\n    controlName = field.Name,\n    SelectBillPid = field.SelectBillPid;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useContext)(_context__WEBPACK_IMPORTED_MODULE_12__.DesignerContext),\n    invokeAction = _useContext.invokeAction,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    prefixCls = _useContext.prefixCls,\n    getDataRef = _useContext.getDataRef;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data;\n  var prefixClass = \"\".concat(prefixCls, \"-bill-type\");\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useState)([]),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState, 2),\n    treeData = _useState2[0],\n    setTreeData = _useState2[1];\n  var loadDataResolveFunc = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n  var lazyUpdateAppId = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n\n  /**\n   * 更新关联表单下拉树的数据\n   */\n  var setFormOptions = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function (treeRoot) {\n    var data = null;\n    if (Array.isArray(treeRoot)) {\n      data = treeRoot;\n    } else {\n      data = [treeRoot];\n    }\n    setTreeData(transformToTree(data));\n  }, [needPathValue]);\n\n  /**\n   * 请求FORM数据\n   */\n  var fetchFormOptions = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function () {\n    var args = {\n      showTree: 'true'\n    };\n    var dataRef = getDataRef();\n    var postData = {\n      nocodeformdesigner: dataRef\n    };\n    if (Array.isArray(SelectBillPid)) {\n      args.parentId = SelectBillPid[SelectBillPid.length - 1];\n    }\n    invokeAction('click', [id, 'entitymeta', propName, args], [postData]);\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useEffect)(function () {\n    fetchFormOptions();\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_9__.useEffect)(function () {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_13__.SET_INPUT_FORM, setFormOptions);\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_13__.SET_TREE_NODE_CHILDREN, lazyUpdateAppChildren);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_13__.SET_INPUT_FORM, setFormOptions);\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_13__.SET_TREE_NODE_CHILDREN, lazyUpdateAppChildren);\n    };\n  }, []);\n  var lazyUpdateAppChildren = function lazyUpdateAppChildren(data) {\n    var _loadDataResolveFunc$;\n    setTreeData(function (origin) {\n      return updateTreeData(origin, lazyUpdateAppId.current, transformToTree(data, {\n        isAsyncNode: true\n      }));\n    });\n    (_loadDataResolveFunc$ = loadDataResolveFunc.current) === null || _loadDataResolveFunc$ === void 0 || _loadDataResolveFunc$.call(loadDataResolveFunc);\n    loadDataResolveFunc.current = null;\n  };\n  var updateTreeData = function updateTreeData(list, key, children) {\n    return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default()(list).call(list, function (node) {\n      if (node.key === key) {\n        return children !== null && children !== void 0 && children.length ? _objectSpread(_objectSpread({}, node), {}, {\n          children: children,\n          isLeaf: true\n        }) : _objectSpread(_objectSpread({}, node), {}, {\n          isLeaf: true\n        });\n      }\n      if (node.children) {\n        return _objectSpread(_objectSpread({}, node), {}, {\n          children: updateTreeData(node.children, key, children)\n        });\n      }\n      return node;\n    });\n  };\n  var onLoadData = function onLoadData(_ref) {\n    var key = _ref.key,\n      children = _ref.children,\n      isLeaf = _ref.isLeaf;\n    console.log('onLoadData-----');\n    return new (_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8___default())(function (resolve) {\n      if (children || isLeaf) {\n        resolve();\n        return;\n      }\n      loadDataResolveFunc.current = resolve;\n      lazyUpdateAppId.current = key;\n      invokeAction('queryTreeNodeChildren', [key]);\n    });\n  };\n  var handleSelectForm = function handleSelectForm(newVal, nodes) {\n    if (newVal !== value) {\n      dataContext.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.createUpdateAction)([[id, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, propName, newVal)]]));\n    }\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: Name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-tree-select\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_10__.ConfigProvider, {\n    value: {\n      prefixCls: 'kd'\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_9___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_14__.KDTreeSelect, {\n    allowClear: true,\n    value: value,\n    treeData: treeData,\n    showTreeIcon: true,\n    treeIcon: function treeIcon(props) {\n      return props.icon;\n    },\n    onChange: handleSelectForm,\n    treeLoadData: onLoadData,\n    treeDefaultExpandedKeys: SelectBillPid\n  }))));\n});\nInputFormEditor.displayName = 'InputFormEditor';\n/* harmony default export */ __webpack_exports__[\"default\"] = (InputFormEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzk3NTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBTUE7QUFFQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2VkaXRvcnMvSW5wdXRGb3JtL2luZGV4LnRzeD8yNzU5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog5bGe5oCn57yW6L6R5ZmoLemAieaLqeihqOWNlVxuICovXG5pbXBvcnQgUmVhY3QsIHsgRkMsIHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IENvbmZpZ1Byb3ZpZGVyIGFzIEtVSUNvbmZpZ1Byb3ZpZGVyLCBJY29uIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IHsgTmFtZVRpcFdyYXBwZXIsIFByb3BlcnR5RWRpdG9yUHJvcHMsIGV2ZW50QnVzLCBjcmVhdGVVcGRhdGVBY3Rpb24gfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0J1xuaW1wb3J0IHsgU0VUX1JFRl9CSUxMX1RSRUVfREFUQSwgU0VUX1RSRUVfTk9ERV9DSElMRFJFTiwgU0VUX0lOUFVUX0ZPUk0gfSBmcm9tICcuLi8uLi9jb25zdGFudHMvYWN0aW9uTmFtZSdcbmltcG9ydCB7IEtEVHJlZVNlbGVjdCBhcyBUcmVlU2VsZWN0IH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcbmltcG9ydCB7IGlzVW5kZWZpbmVkIH0gZnJvbSAnbG9kYXNoJ1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtVG9UcmVlID0gKG9wdGlvbnM6IGFueVtdLCBwcm9wPzogYW55ID0ge30pID0+IHtcbiAgaWYgKCFvcHRpb25zKSByZXR1cm4gb3B0aW9uc1xuICByZXR1cm4gb3B0aW9ucy5tYXAoaXRlbSA9PiB7XG4gICAgY29uc3QgeyBsYWJlbCwgdmFsdWUsIGNoaWxkcmVuLCBzZWxlY3RhYmxlLCBpY29uIH0gPSBpdGVtXG4gICAgY29uc3QgaXRlbURhdGE6IGFueSA9IHtcbiAgICAgIGtleTogdmFsdWUsXG4gICAgICB0aXRsZTogbGFiZWwsXG4gICAgICAuLi5wcm9wXG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoc2VsZWN0YWJsZSkpIHtcbiAgICAgIGl0ZW1EYXRhLnNlbGVjdGFibGUgPSBzZWxlY3RhYmxlXG4gICAgfVxuICAgIGlmIChpY29uKSB7XG4gICAgICBpdGVtRGF0YS5pY29uID0gaWNvblxuICAgIH1cbiAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgaXRlbURhdGEuY2hpbGRyZW4gPSB0cmFuc2Zvcm1Ub1RyZWUoY2hpbGRyZW4pXG4gICAgICB9XG4gICAgICAvLyDov5jmnInnp41jaGlsZHJlbuS4ultd56m65pWw57uE55qE5oOF5Ya177yM6L+Z56eN5oOF5Ya16ZyA6KaB5byC5q2l6K+35rGC5pWw5o2uXG4gICAgICBpdGVtRGF0YS5jaGVja2FibGUgPSBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpc0xlYWbku6PooajkuI3pnIDopoHor7fmsYLlvILmraXmlbDmja5cbiAgICAgIGl0ZW1EYXRhLmlzTGVhZiA9IHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW1EYXRhXG4gIH0pXG59XG5cbmNvbnN0IElucHV0Rm9ybUVkaXRvcjpGQzxQcm9wZXJ0eUVkaXRvclByb3BzPiA9IFJlYWN0Lm1lbW8oKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaGFuZGxlQ2hhbmdlLCB2YWx1ZSwgY2xhc3NOYW1lLCBlZGl0b3IsIGxvY2tlZCwgTmFtZSwgVGlwczogdGlwcywgZmllbGQsIGlkLCBwcm9wTmFtZSB9ID0gcHJvcHNcbiAgY29uc3QgeyBOYW1lSGlkZGVuOiBuYW1lSGlkZGVuLCBSZXF1aXJlZDogcmVxdWlyZWQsIG5lZWRQYXRoVmFsdWUsIFRpdGxlOiB0aXRsZSB9ID0gZWRpdG9yXG4gIGNvbnN0IHsgRGF0YUZpbGw6IGRhdGFGaWxsLCBOYW1lOiBjb250cm9sTmFtZSwgU2VsZWN0QmlsbFBpZCB9ID0gZmllbGRcbiAgY29uc3QgeyBpbnZva2VBY3Rpb24sIGdldEtkZXNpZ25lckFwaSwgcHJlZml4Q2xzLCBnZXREYXRhUmVmIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcblxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0IH0gPSBnZXRLZGVzaWduZXJBcGkoKVxuICBjb25zdCBwcmVmaXhDbGFzcyA9IGAke3ByZWZpeENsc30tYmlsbC10eXBlYFxuICBjb25zdCBbdHJlZURhdGEsIHNldFRyZWVEYXRhXSA9IHVzZVN0YXRlKFtdKVxuICBjb25zdCBsb2FkRGF0YVJlc29sdmVGdW5jID0gdXNlUmVmPGFueT4obnVsbClcbiAgY29uc3QgbGF6eVVwZGF0ZUFwcElkID0gdXNlUmVmPGFueT4obnVsbClcblxuICAvKipcbiAgICog5pu05paw5YWz6IGU6KGo5Y2V5LiL5ouJ5qCR55qE5pWw5o2uXG4gICAqL1xuICBjb25zdCBzZXRGb3JtT3B0aW9ucyA9IHVzZUNhbGxiYWNrKHRyZWVSb290ID0+IHtcbiAgICBsZXQgZGF0YSA9IG51bGxcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmVlUm9vdCkpIHtcbiAgICAgIGRhdGEgPSB0cmVlUm9vdFxuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhID0gW3RyZWVSb290XVxuICAgIH1cblxuICAgIHNldFRyZWVEYXRhKHRyYW5zZm9ybVRvVHJlZShkYXRhKSlcbiAgfSwgW25lZWRQYXRoVmFsdWVdKVxuXG4gIC8qKlxuICAgKiDor7fmsYJGT1JN5pWw5o2uXG4gICAqL1xuICBjb25zdCBmZXRjaEZvcm1PcHRpb25zID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IGFyZ3M6IGFueSA9IHsgc2hvd1RyZWU6ICd0cnVlJyB9XG4gICAgY29uc3QgZGF0YVJlZiA9IGdldERhdGFSZWYoKVxuICAgIGNvbnN0IHBvc3REYXRhID0geyBub2NvZGVmb3JtZGVzaWduZXI6IGRhdGFSZWYgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KFNlbGVjdEJpbGxQaWQpKSB7XG4gICAgICBhcmdzLnBhcmVudElkID0gU2VsZWN0QmlsbFBpZFtTZWxlY3RCaWxsUGlkLmxlbmd0aCAtIDFdXG4gICAgfVxuICAgIGludm9rZUFjdGlvbignY2xpY2snLCBbaWQsICdlbnRpdHltZXRhJywgcHJvcE5hbWUsIGFyZ3NdLCBbcG9zdERhdGFdKVxuICB9LCBbXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoRm9ybU9wdGlvbnMoKVxuICB9LCBbXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGV2ZW50QnVzLm9uKFNFVF9JTlBVVF9GT1JNLCBzZXRGb3JtT3B0aW9ucylcbiAgICBldmVudEJ1cy5vbihTRVRfVFJFRV9OT0RFX0NISUxEUkVOLCBsYXp5VXBkYXRlQXBwQ2hpbGRyZW4pXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGV2ZW50QnVzLm9mZihTRVRfSU5QVVRfRk9STSwgc2V0Rm9ybU9wdGlvbnMpXG4gICAgICBldmVudEJ1cy5vZmYoU0VUX1RSRUVfTk9ERV9DSElMRFJFTiwgbGF6eVVwZGF0ZUFwcENoaWxkcmVuKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgY29uc3QgbGF6eVVwZGF0ZUFwcENoaWxkcmVuID0gKGRhdGE6IGFueVtdKSA9PiB7XG4gICAgc2V0VHJlZURhdGEoKG9yaWdpbikgPT4gdXBkYXRlVHJlZURhdGEob3JpZ2luLCBsYXp5VXBkYXRlQXBwSWQuY3VycmVudCwgdHJhbnNmb3JtVG9UcmVlKGRhdGEsIHsgaXNBc3luY05vZGU6IHRydWUgfSkpKVxuICAgIGxvYWREYXRhUmVzb2x2ZUZ1bmMuY3VycmVudD8uKClcbiAgICBsb2FkRGF0YVJlc29sdmVGdW5jLmN1cnJlbnQgPSBudWxsXG4gIH1cblxuICBjb25zdCB1cGRhdGVUcmVlRGF0YSA9IChsaXN0LCBrZXksIGNoaWxkcmVuKSA9PiB7XG4gICAgcmV0dXJuIGxpc3QubWFwKChub2RlKSA9PiB7XG4gICAgICBpZiAobm9kZS5rZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gY2hpbGRyZW4/Lmxlbmd0aCA/IHsgLi4ubm9kZSwgY2hpbGRyZW4sIGlzTGVhZjogdHJ1ZSB9IDogeyAuLi5ub2RlLCBpc0xlYWY6IHRydWUgfVxuICAgICAgfVxuICAgICAgaWYgKG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgcmV0dXJuIHsgLi4ubm9kZSwgY2hpbGRyZW46IHVwZGF0ZVRyZWVEYXRhKG5vZGUuY2hpbGRyZW4sIGtleSwgY2hpbGRyZW4pIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IG9uTG9hZERhdGEgPSAoeyBrZXksIGNoaWxkcmVuLCBpc0xlYWYgfSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdvbkxvYWREYXRhLS0tLS0nKVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgaWYgKGNoaWxkcmVuIHx8IGlzTGVhZikge1xuICAgICAgICByZXNvbHZlKClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBsb2FkRGF0YVJlc29sdmVGdW5jLmN1cnJlbnQgPSByZXNvbHZlXG4gICAgICBsYXp5VXBkYXRlQXBwSWQuY3VycmVudCA9IGtleVxuICAgICAgaW52b2tlQWN0aW9uKCdxdWVyeVRyZWVOb2RlQ2hpbGRyZW4nLCBba2V5XSlcbiAgICB9KVxuICB9XG5cbiAgY29uc3QgaGFuZGxlU2VsZWN0Rm9ybSA9IChuZXdWYWw6IHN0cmluZywgbm9kZXM6IGFueVswXSkgPT4ge1xuICAgIGlmIChuZXdWYWwgIT09IHZhbHVlKSB7XG4gICAgICBkYXRhQ29udGV4dC5iYXRjaFVwZGF0ZUNvbnRyb2xQcm9wZXJ0eVZhbHVlcyhjcmVhdGVVcGRhdGVBY3Rpb24oW1tpZCwgeyBbcHJvcE5hbWVdOiBuZXdWYWwgfV1dKSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8TmFtZVRpcFdyYXBwZXIgbmFtZUhpZGRlbj17bmFtZUhpZGRlbn0gY2xhc3NOYW1lPXtjbGFzc05hbWV9IG5hbWU9e05hbWV9IHRpcHM9e3RpcHN9IHJlcXVpcmVkPXtyZXF1aXJlZH0gdGl0bGU9e3RpdGxlfSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsYXNzfS10cmVlLXNlbGVjdGB9PlxuICAgICAgICA8S1VJQ29uZmlnUHJvdmlkZXIgdmFsdWU9e3sgcHJlZml4Q2xzOiAna2QnIH19PlxuICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgICB0cmVlRGF0YT17dHJlZURhdGF9XG4gICAgICAgICAgICBzaG93VHJlZUljb25cbiAgICAgICAgICAgIHRyZWVJY29uPXsocHJvcHMpID0+IHByb3BzLmljb259XG4gICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlU2VsZWN0Rm9ybX1cbiAgICAgICAgICAgIHRyZWVMb2FkRGF0YT17b25Mb2FkRGF0YX1cbiAgICAgICAgICAgIHRyZWVEZWZhdWx0RXhwYW5kZWRLZXlzPXtTZWxlY3RCaWxsUGlkfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvS1VJQ29uZmlnUHJvdmlkZXI+XG4gICAgICA8L2Rpdj5cbiAgICA8Lz5cbiAgKVxufSlcblxuSW5wdXRGb3JtRWRpdG9yLmRpc3BsYXlOYW1lID0gJ0lucHV0Rm9ybUVkaXRvcidcblxuZXhwb3J0IGRlZmF1bHQgSW5wdXRGb3JtRWRpdG9yXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///79752\n");

/***/ }),

/***/ 57284:
/*!******************************************!*\
  !*** ./src/editors/InputRangeEditor.tsx ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\nvar START = 'start';\nvar END = 'end';\nvar mergeDataReducer = function mergeDataReducer(state, newData) {\n  return _objectSpread(_objectSpread({}, state), newData);\n};\nvar InputRangeEditor = function InputRangeEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    locked = props.locked,\n    Editor = props.Editor,\n    name = props.Name,\n    tips = props.Tips;\n  var nameHidden = Editor.NameHidden,\n    required = Editor.Required,\n    _Editor$minPlaceholde = Editor.minPlaceholder,\n    minPlaceholder = _Editor$minPlaceholde === void 0 ? '请输入' : _Editor$minPlaceholde,\n    _Editor$maxPlaceholde = Editor.maxPlaceholder,\n    maxPlaceholder = _Editor$maxPlaceholde === void 0 ? '请输入' : _Editor$maxPlaceholde,\n    title = Editor.Title;\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useReducer)(mergeDataReducer, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, START, false), END, false)),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useReducer, 2),\n    focusedState = _useReducer2[0],\n    dispatchFocusState = _useReducer2[1];\n  var _useReducer4 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useReducer)(mergeDataReducer, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, START, String((value === null || value === void 0 ? void 0 : value[START]) || '')), END, String((value === null || value === void 0 ? void 0 : value[END]) || ''))),\n    _useReducer5 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useReducer4, 2),\n    innerValue = _useReducer5[0],\n    dispatchInnerValue = _useReducer5[1];\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    var newStart = String((value === null || value === void 0 ? void 0 : value[START]) || '');\n    var newEnd = String((value === null || value === void 0 ? void 0 : value[END]) || '');\n    var startFocused = focusedState[START],\n      endFocused = focusedState[END];\n    if (!startFocused && newStart !== innerValue[START]) {\n      dispatchInnerValue((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, START, newStart));\n    }\n    if (!endFocused && newEnd !== innerValue[END]) {\n      dispatchInnerValue((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, END, newEnd));\n    }\n  }, [value, focusedState]);\n  var updatePropValue = function updatePropValue(val, type) {\n    var newValue = _objectSpread(_objectSpread({}, innerValue), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, type, val));\n    handleChange(newValue);\n  };\n  var delayUpdateValue = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.useDebounce)(updatePropValue, 300);\n\n  // 最小值输入change事件，这里还额外处理了和最大值的联动\n  var onMinChange = function onMinChange(e) {\n    var targetValue = e.target.value || '';\n    dispatchInnerValue((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, START, targetValue));\n    delayUpdateValue(targetValue, START);\n  };\n  var onMaxChange = function onMaxChange(e) {\n    var targetValue = e.target.value || '';\n    dispatchInnerValue((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, END, targetValue));\n    delayUpdateValue(targetValue, END);\n  };\n  var _onFocus = function onFocus(type) {\n    dispatchFocusState((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, type, true));\n  };\n  var _onBlur = function onBlur(type) {\n    dispatchFocusState((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, type, true));\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-datascope-editor\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8__.Input, {\n    borderType: \"bordered\",\n    value: innerValue[START],\n    onChange: onMinChange,\n    onFocus: function onFocus() {\n      return _onFocus(START);\n    },\n    onBlur: function onBlur() {\n      return _onBlur(END);\n    },\n    disabled: locked,\n    placeholder: minPlaceholder\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-seperator\")\n  }, \"-\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_8__.Input, {\n    borderType: \"bordered\",\n    value: innerValue[END],\n    onFocus: function onFocus() {\n      return _onFocus(END);\n    },\n    onBlur: function onBlur() {\n      return _onBlur(END);\n    },\n    onChange: onMaxChange,\n    disabled: locked,\n    placeholder: maxPlaceholder\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (InputRangeEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTcyODQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9lZGl0b3JzL0lucHV0UmFuZ2VFZGl0b3IudHN4P2I0MjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IEZDLCB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlUmVkdWNlciB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcclxuaW1wb3J0IHsgTmFtZVRpcFdyYXBwZXIsIFByb3BlcnR5RWRpdG9yUHJvcHMsIHVzZURlYm91bmNlIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xyXG5cclxuY29uc3QgU1RBUlQgPSAnc3RhcnQnXHJcbmNvbnN0IEVORCA9ICdlbmQnXHJcblxyXG50eXBlIERhdGFUeXBlID0gJ3N0YXJ0JyB8ICdlbmQnXHJcbmludGVyZmFjZSBTdGF0ZTxUPiB7XHJcbiAgc3RhcnQ/OiBUO1xyXG4gIGVuZD86IFQ7XHJcbn1cclxuaW50ZXJmYWNlIE1lcmdlRGF0YVJlZHVjZXI8VD4ge1xyXG4gIChzdGF0ZTogU3RhdGU8VD4sIG5ld0RhdGE6IFN0YXRlPFQ+KTogU3RhdGU8VD47XHJcbn1cclxuXHJcbmNvbnN0IG1lcmdlRGF0YVJlZHVjZXI6IE1lcmdlRGF0YVJlZHVjZXI8Ym9vbGVhbiB8IHN0cmluZz4gPSAoc3RhdGUsIG5ld0RhdGEpID0+IHtcclxuICByZXR1cm4geyAuLi5zdGF0ZSwgLi4ubmV3RGF0YSB9XHJcbn1cclxuXHJcbmNvbnN0IElucHV0UmFuZ2VFZGl0b3I6IEZDPFByb3BlcnR5RWRpdG9yUHJvcHM+ID0gKHByb3BzOiBQcm9wZXJ0eUVkaXRvclByb3BzKSA9PiB7XHJcbiAgY29uc3QgeyBoYW5kbGVDaGFuZ2UsIHZhbHVlLCBjbGFzc05hbWUsIGxvY2tlZCwgRWRpdG9yLCBOYW1lOiBuYW1lLCBUaXBzOiB0aXBzIH0gPSBwcm9wc1xyXG4gIGNvbnN0IHsgTmFtZUhpZGRlbjogbmFtZUhpZGRlbiwgUmVxdWlyZWQ6IHJlcXVpcmVkLCBtaW5QbGFjZWhvbGRlciA9ICfor7fovpPlhaUnLCBtYXhQbGFjZWhvbGRlciA9ICfor7fovpPlhaUnLCBUaXRsZTogdGl0bGUgfSA9IEVkaXRvclxyXG5cclxuICBjb25zdCBbZm9jdXNlZFN0YXRlLCBkaXNwYXRjaEZvY3VzU3RhdGVdID0gdXNlUmVkdWNlcihtZXJnZURhdGFSZWR1Y2VyLCB7IFtTVEFSVF06IGZhbHNlLCBbRU5EXTogZmFsc2UgfSlcclxuICBjb25zdCBbaW5uZXJWYWx1ZSwgZGlzcGF0Y2hJbm5lclZhbHVlXSA9IHVzZVJlZHVjZXIobWVyZ2VEYXRhUmVkdWNlciwgeyBbU1RBUlRdOiBTdHJpbmcodmFsdWU/LltTVEFSVF0gfHwgJycpLCBbRU5EXTogU3RyaW5nKHZhbHVlPy5bRU5EXSB8fCAnJykgfSlcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IG5ld1N0YXJ0ID0gU3RyaW5nKHZhbHVlPy5bU1RBUlRdIHx8ICcnKVxyXG4gICAgY29uc3QgbmV3RW5kID0gU3RyaW5nKHZhbHVlPy5bRU5EXSB8fCAnJylcclxuICAgIGNvbnN0IHsgW1NUQVJUXTogc3RhcnRGb2N1c2VkLCBbRU5EXTogZW5kRm9jdXNlZCB9ID0gZm9jdXNlZFN0YXRlXHJcbiAgICBpZiAoIXN0YXJ0Rm9jdXNlZCAmJiBuZXdTdGFydCAhPT0gaW5uZXJWYWx1ZVtTVEFSVF0pIHtcclxuICAgICAgZGlzcGF0Y2hJbm5lclZhbHVlKHsgW1NUQVJUXTogbmV3U3RhcnQgfSlcclxuICAgIH1cclxuICAgIGlmICghZW5kRm9jdXNlZCAmJiBuZXdFbmQgIT09IGlubmVyVmFsdWVbRU5EXSkge1xyXG4gICAgICBkaXNwYXRjaElubmVyVmFsdWUoeyBbRU5EXTogbmV3RW5kIH0pXHJcbiAgICB9XHJcbiAgfSwgW3ZhbHVlLCBmb2N1c2VkU3RhdGVdKVxyXG5cclxuICBjb25zdCB1cGRhdGVQcm9wVmFsdWUgPSAodmFsOiBhbnksIHR5cGU6IERhdGFUeXBlKSA9PiB7XHJcbiAgICBjb25zdCBuZXdWYWx1ZSA9IHsgLi4uaW5uZXJWYWx1ZSwgW3R5cGVdOiB2YWwgfVxyXG4gICAgaGFuZGxlQ2hhbmdlKG5ld1ZhbHVlKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgZGVsYXlVcGRhdGVWYWx1ZSA9IHVzZURlYm91bmNlKHVwZGF0ZVByb3BWYWx1ZSwgMzAwKVxyXG5cclxuICAvLyDmnIDlsI/lgLzovpPlhaVjaGFuZ2Xkuovku7bvvIzov5nph4zov5jpop3lpJblpITnkIbkuoblkozmnIDlpKflgLznmoTogZTliqhcclxuICBjb25zdCBvbk1pbkNoYW5nZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudCkgPT4ge1xyXG4gICAgY29uc3QgdGFyZ2V0VmFsdWUgPSBlLnRhcmdldC52YWx1ZSB8fCAnJ1xyXG4gICAgZGlzcGF0Y2hJbm5lclZhbHVlKHsgW1NUQVJUXTogdGFyZ2V0VmFsdWUgfSlcclxuICAgIGRlbGF5VXBkYXRlVmFsdWUodGFyZ2V0VmFsdWUsIFNUQVJUKVxyXG4gIH1cclxuXHJcbiAgY29uc3Qgb25NYXhDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldFZhbHVlID0gZS50YXJnZXQudmFsdWUgfHwgJydcclxuICAgIGRpc3BhdGNoSW5uZXJWYWx1ZSh7IFtFTkRdOiB0YXJnZXRWYWx1ZSB9KVxyXG4gICAgZGVsYXlVcGRhdGVWYWx1ZSh0YXJnZXRWYWx1ZSwgRU5EKVxyXG4gIH1cclxuXHJcbiAgY29uc3Qgb25Gb2N1cyA9ICh0eXBlOiBEYXRhVHlwZSkgPT4ge1xyXG4gICAgZGlzcGF0Y2hGb2N1c1N0YXRlKHsgW3R5cGVdOiB0cnVlIH0pXHJcbiAgfVxyXG5cclxuICBjb25zdCBvbkJsdXIgPSAodHlwZTogRGF0YVR5cGUpID0+IHtcclxuICAgIGRpc3BhdGNoRm9jdXNTdGF0ZSh7IFt0eXBlXTogdHJ1ZSB9KVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDw+XHJcbiAgICAgIDxOYW1lVGlwV3JhcHBlciBuYW1lSGlkZGVuPXtuYW1lSGlkZGVufSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gbmFtZT17bmFtZX0gdGlwcz17dGlwc30gcmVxdWlyZWQ9e3JlcXVpcmVkfSB0aXRsZT17dGl0bGV9IC8+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9LWRhdGFzY29wZS1lZGl0b3JgfT5cclxuICAgICAgICA8SW5wdXRcclxuICAgICAgICAgIGJvcmRlclR5cGU9J2JvcmRlcmVkJ1xyXG4gICAgICAgICAgdmFsdWU9e2lubmVyVmFsdWVbU1RBUlRdfVxyXG4gICAgICAgICAgb25DaGFuZ2U9e29uTWluQ2hhbmdlfVxyXG4gICAgICAgICAgb25Gb2N1cz17KCkgPT4gb25Gb2N1cyhTVEFSVCl9XHJcbiAgICAgICAgICBvbkJsdXI9eygpID0+IG9uQmx1cihFTkQpfVxyXG4gICAgICAgICAgZGlzYWJsZWQ9e2xvY2tlZH1cclxuICAgICAgICAgIHBsYWNlaG9sZGVyPXttaW5QbGFjZWhvbGRlcn1cclxuICAgICAgICAvPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9LXNlcGVyYXRvcmB9Pi08L2Rpdj5cclxuICAgICAgICA8SW5wdXRcclxuICAgICAgICAgIGJvcmRlclR5cGU9J2JvcmRlcmVkJ1xyXG4gICAgICAgICAgdmFsdWU9e2lubmVyVmFsdWVbRU5EXX1cclxuICAgICAgICAgIG9uRm9jdXM9eygpID0+IG9uRm9jdXMoRU5EKX1cclxuICAgICAgICAgIG9uQmx1cj17KCkgPT4gb25CbHVyKEVORCl9XHJcbiAgICAgICAgICBvbkNoYW5nZT17b25NYXhDaGFuZ2V9XHJcbiAgICAgICAgICBkaXNhYmxlZD17bG9ja2VkfVxyXG4gICAgICAgICAgcGxhY2Vob2xkZXI9e21heFBsYWNlaG9sZGVyfVxyXG4gICAgICAgIC8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC8+XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbnB1dFJhbmdlRWRpdG9yXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///57284\n");

/***/ }),

/***/ 65872:
/*!********************************************!*\
  !*** ./src/editors/MarginEditor/index.tsx ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 24496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/index */ 41232);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6__);\n\n\n/*\n * @Description:\n * @Author: xiaoman_xie\n * @Date: 2023-05-30 16:22:14\n * @LastEditTime: 2023-06-01 11:31:31\n * @Last Modified by: xiaoman_xie\n */\n\n\n\n\n\nvar options = [{\n  label: '大 (24px)',\n  value: '24'\n}, {\n  label: '中 (16px)',\n  value: '16'\n}, {\n  label: '小 (8px)',\n  value: '8'\n}, {\n  label: '无 (0px)',\n  value: '0'\n}\n// {\n//   label: '自定义',\n//   value: -1\n// }\n];\nvar MarginEditor = function MarginEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    Name = props.Name,\n    tips = props.Tips,\n    field = props.field,\n    id = props.id,\n    propName = props.propName;\n  var _analyzeJSON = (0,_utils_index__WEBPACK_IMPORTED_MODULE_5__.analyzeJSON)(value),\n    _analyzeJSON$margin = _analyzeJSON.margin,\n    marginProps = _analyzeJSON$margin === void 0 ? '0' : _analyzeJSON$margin,\n    topProps = _analyzeJSON.marginTop,\n    rightProps = _analyzeJSON.marginRight,\n    bottomProps = _analyzeJSON.marginBottom,\n    leftProps = _analyzeJSON.marginLeft;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useState)(marginProps),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    margin = _useState2[0],\n    setMargin = _useState2[1];\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useState)(topProps || 0),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState3, 2),\n    marginTop = _useState4[0],\n    setTop = _useState4[1];\n  var _useState5 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useState)(rightProps || 0),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState5, 2),\n    marginRight = _useState6[0],\n    setRight = _useState6[1];\n  var _useState7 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useState)(bottomProps || 0),\n    _useState8 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState7, 2),\n    marginBottom = _useState8[0],\n    setBottom = _useState8[1];\n  var _useState9 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useState)(leftProps || 0),\n    _useState10 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState9, 2),\n    marginLeft = _useState10[0],\n    setLeft = _useState10[1];\n  var prefixClass = \"\".concat(className, \"-margin\");\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    var otherMargin = {\n      marginTop: marginTop,\n      marginRight: marginRight,\n      marginBottom: marginBottom,\n      marginLeft: marginLeft\n    };\n    var marginValue = margin === -1 ? otherMargin : {\n      margin: margin\n    };\n    handleChange(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_1___default()(marginValue));\n  }, [margin, marginTop, marginRight, marginBottom, marginLeft]);\n  var handleMarginChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (value) {\n    setMargin(value);\n  }, []);\n  var handleTopChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (value) {\n    setTop(value);\n  }, []);\n  var handleRightChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (value) {\n    setRight(value);\n  }, []);\n  var handleBottomChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (value) {\n    setBottom(value);\n  }, []);\n  var handleLeftChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (value) {\n    setLeft(value);\n  }, []);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: prefixClass\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(\"\".concat(prefixClass, \"-item\"), \"\".concat(prefixClass, \"-select\"))\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.EditorPropertySelect, {\n    options: options,\n    editor: editor,\n    value: margin,\n    handleChange: handleMarginChange,\n    className: prefixClass,\n    Name: Name,\n    locked: locked,\n    tips: tips\n  })), margin === '-1' && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-item\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.NameTipWrapper, {\n    className: className,\n    name: \"\\u4E0A\\u95F4\\u8DDD\"\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6__.Number, {\n    value: marginTop,\n    onChange: handleTopChange,\n    showStepper: false,\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-item\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.NameTipWrapper, {\n    className: className,\n    name: \"\\u4E0B\\u95F4\\u8DDD\"\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6__.Number, {\n    value: marginBottom,\n    onChange: handleBottomChange,\n    showStepper: false,\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-item\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.NameTipWrapper, {\n    className: className,\n    name: \"\\u5DE6\\u95F4\\u8DDD\"\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6__.Number, {\n    value: marginLeft,\n    onChange: handleLeftChange,\n    showStepper: false,\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-item\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_3__.NameTipWrapper, {\n    className: className,\n    name: \"\\u53F3\\u95F4\\u8DDD\"\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6__.Number, {\n    value: marginRight,\n    onChange: handleRightChange,\n    showStepper: false,\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  }))));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (MarginEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjU4NzIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9lZGl0b3JzL01hcmdpbkVkaXRvci9pbmRleC50c3g/ZjA2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogeGlhb21hbl94aWVcbiAqIEBEYXRlOiAyMDIzLTA1LTMwIDE2OjIyOjE0XG4gKiBATGFzdEVkaXRUaW1lOiAyMDIzLTA2LTAxIDExOjMxOjMxXG4gKiBATGFzdCBNb2RpZmllZCBieTogeGlhb21hbl94aWVcbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBOYW1lVGlwV3JhcHBlciwgUHJvcGVydHlFZGl0b3JQcm9wcywgRWRpdG9yUHJvcGVydHlTZWxlY3QgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xuaW1wb3J0IHsgYW5hbHl6ZUpTT04gfSBmcm9tICcuLi8uLi91dGlscy9pbmRleCdcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQnXG5pbXBvcnQgeyBOdW1iZXIgfSBmcm9tICdub2NvZGVfY29tcG9uZW50L1dlYlVJJ1xuXG5jb25zdCBvcHRpb25zID0gW1xuICB7XG4gICAgbGFiZWw6ICflpKcgKDI0cHgpJyxcbiAgICB2YWx1ZTogJzI0J1xuICB9LFxuICB7XG4gICAgbGFiZWw6ICfkuK0gKDE2cHgpJyxcbiAgICB2YWx1ZTogJzE2J1xuICB9LFxuICB7XG4gICAgbGFiZWw6ICflsI8gKDhweCknLFxuICAgIHZhbHVlOiAnOCdcbiAgfSxcbiAge1xuICAgIGxhYmVsOiAn5pegICgwcHgpJyxcbiAgICB2YWx1ZTogJzAnXG4gIH1cbiAgLy8ge1xuICAvLyAgIGxhYmVsOiAn6Ieq5a6a5LmJJyxcbiAgLy8gICB2YWx1ZTogLTFcbiAgLy8gfVxuXVxuXG5jb25zdCBNYXJnaW5FZGl0b3I6UmVhY3QuRkM8UHJvcGVydHlFZGl0b3JQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBoYW5kbGVDaGFuZ2UsIHZhbHVlLCBjbGFzc05hbWUsIGVkaXRvciwgbG9ja2VkLCBOYW1lLCBUaXBzOiB0aXBzLCBmaWVsZCwgaWQsIHByb3BOYW1lIH0gPSBwcm9wc1xuICBjb25zdCB7IG1hcmdpbjogbWFyZ2luUHJvcHMgPSAnMCcsIG1hcmdpblRvcDogdG9wUHJvcHMsIG1hcmdpblJpZ2h0OiByaWdodFByb3BzLCBtYXJnaW5Cb3R0b206IGJvdHRvbVByb3BzLCBtYXJnaW5MZWZ0OiBsZWZ0UHJvcHMgfSA9IGFuYWx5emVKU09OKHZhbHVlKVxuICBjb25zdCBbbWFyZ2luLCBzZXRNYXJnaW5dID0gdXNlU3RhdGUobWFyZ2luUHJvcHMpXG4gIGNvbnN0IFttYXJnaW5Ub3AsIHNldFRvcF0gPSB1c2VTdGF0ZSh0b3BQcm9wcyB8fCAwKVxuICBjb25zdCBbbWFyZ2luUmlnaHQsIHNldFJpZ2h0XSA9IHVzZVN0YXRlKHJpZ2h0UHJvcHMgfHwgMClcbiAgY29uc3QgW21hcmdpbkJvdHRvbSwgc2V0Qm90dG9tXSA9IHVzZVN0YXRlKGJvdHRvbVByb3BzIHx8IDApXG4gIGNvbnN0IFttYXJnaW5MZWZ0LCBzZXRMZWZ0XSA9IHVzZVN0YXRlKGxlZnRQcm9wcyB8fCAwKVxuICBjb25zdCBwcmVmaXhDbGFzcyA9IGAke2NsYXNzTmFtZX0tbWFyZ2luYFxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgb3RoZXJNYXJnaW4gPSB7IG1hcmdpblRvcCwgbWFyZ2luUmlnaHQsIG1hcmdpbkJvdHRvbSwgbWFyZ2luTGVmdCB9XG4gICAgY29uc3QgbWFyZ2luVmFsdWUgPSBtYXJnaW4gPT09IC0xID8gb3RoZXJNYXJnaW4gOiB7IG1hcmdpbiB9XG4gICAgaGFuZGxlQ2hhbmdlKEpTT04uc3RyaW5naWZ5KG1hcmdpblZhbHVlKSlcbiAgfSwgW21hcmdpbiwgbWFyZ2luVG9wLCBtYXJnaW5SaWdodCwgbWFyZ2luQm90dG9tLCBtYXJnaW5MZWZ0XSlcblxuICBjb25zdCBoYW5kbGVNYXJnaW5DaGFuZ2UgPSB1c2VDYWxsYmFjaygodmFsdWUpID0+IHtcbiAgICBzZXRNYXJnaW4odmFsdWUpXG4gIH0sIFtdKVxuICBjb25zdCBoYW5kbGVUb3BDaGFuZ2UgPSB1c2VDYWxsYmFjaygodmFsdWUpID0+IHtcbiAgICBzZXRUb3AodmFsdWUpXG4gIH0sIFtdKVxuICBjb25zdCBoYW5kbGVSaWdodENoYW5nZSA9IHVzZUNhbGxiYWNrKCh2YWx1ZSkgPT4ge1xuICAgIHNldFJpZ2h0KHZhbHVlKVxuICB9LCBbXSlcbiAgY29uc3QgaGFuZGxlQm90dG9tQ2hhbmdlID0gdXNlQ2FsbGJhY2soKHZhbHVlKSA9PiB7XG4gICAgc2V0Qm90dG9tKHZhbHVlKVxuICB9LCBbXSlcbiAgY29uc3QgaGFuZGxlTGVmdENoYW5nZSA9IHVzZUNhbGxiYWNrKCh2YWx1ZSkgPT4ge1xuICAgIHNldExlZnQodmFsdWUpXG4gIH0sIFtdKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3ByZWZpeENsYXNzfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGAke3ByZWZpeENsYXNzfS1pdGVtYCwgYCR7cHJlZml4Q2xhc3N9LXNlbGVjdGApfT5cbiAgICAgICAgPEVkaXRvclByb3BlcnR5U2VsZWN0IG9wdGlvbnM9e29wdGlvbnN9IGVkaXRvcj17ZWRpdG9yfSB2YWx1ZT17bWFyZ2lufSBoYW5kbGVDaGFuZ2U9e2hhbmRsZU1hcmdpbkNoYW5nZX0gY2xhc3NOYW1lPXtwcmVmaXhDbGFzc30gTmFtZT17TmFtZX0gbG9ja2VkPXtsb2NrZWR9IHRpcHM9e3RpcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIHtcbiAgICAgICAgbWFyZ2luID09PSAnLTEnICYmXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsYXNzfS1pdGVtYH0+XG4gICAgICAgICAgICA8TmFtZVRpcFdyYXBwZXIgY2xhc3NOYW1lPXtjbGFzc05hbWV9IG5hbWU9J+S4iumXtOi3nScgLz5cbiAgICAgICAgICAgIDxOdW1iZXIgdmFsdWU9e21hcmdpblRvcH0gb25DaGFuZ2U9e2hhbmRsZVRvcENoYW5nZX0gc2hvd1N0ZXBwZXI9e2ZhbHNlfSBwbGFjZWhvbGRlcj0n6K+36L6T5YWlJyAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xhc3N9LWl0ZW1gfT5cbiAgICAgICAgICAgIDxOYW1lVGlwV3JhcHBlciBjbGFzc05hbWU9e2NsYXNzTmFtZX0gbmFtZT0n5LiL6Ze06LedJyAvPlxuICAgICAgICAgICAgPE51bWJlciB2YWx1ZT17bWFyZ2luQm90dG9tfSBvbkNoYW5nZT17aGFuZGxlQm90dG9tQ2hhbmdlfSBzaG93U3RlcHBlcj17ZmFsc2V9IHBsYWNlaG9sZGVyPSfor7fovpPlhaUnIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbGFzc30taXRlbWB9PlxuICAgICAgICAgICAgPE5hbWVUaXBXcmFwcGVyIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBuYW1lPSflt6bpl7Tot50nIC8+XG4gICAgICAgICAgICA8TnVtYmVyIHZhbHVlPXttYXJnaW5MZWZ0fSBvbkNoYW5nZT17aGFuZGxlTGVmdENoYW5nZX0gc2hvd1N0ZXBwZXI9e2ZhbHNlfSBwbGFjZWhvbGRlcj0n6K+36L6T5YWlJyAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xhc3N9LWl0ZW1gfT5cbiAgICAgICAgICAgIDxOYW1lVGlwV3JhcHBlciBjbGFzc05hbWU9e2NsYXNzTmFtZX0gbmFtZT0n5Y+z6Ze06LedJyAvPlxuICAgICAgICAgICAgPE51bWJlciB2YWx1ZT17bWFyZ2luUmlnaHR9IG9uQ2hhbmdlPXtoYW5kbGVSaWdodENoYW5nZX0gc2hvd1N0ZXBwZXI9e2ZhbHNlfSBwbGFjZWhvbGRlcj0n6K+36L6T5YWlJyAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgPC8+XG4gICAgICB9XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgTWFyZ2luRWRpdG9yXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///65872\n");

/***/ }),

/***/ 17368:
/*!**********************************************!*\
  !*** ./src/editors/NumberDefValueEditor.tsx ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/index */ 41232);\n/* harmony import */ var _BaseDefValueEditor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./BaseDefValueEditor */ 41732);\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-05-18 10:03:34\n * @LastEditTime: 2023-05-19 15:28:22\n * @Last Modified by: jianhang_he\n */\n\n\n\n\nvar DatePropertyEditor = function DatePropertyEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    field = props.field;\n  var Precision = field.Precision,\n    Scale = field.Scale,\n    DataRange = field.DataRange,\n    ThousandsSeparator = field.ThousandsSeparator;\n  var handleValueChange = function handleValueChange(val) {\n    handleChange(val);\n  };\n  var rangeProps = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useMemo)(function () {\n    var range = {};\n    var _ref = DataRange || {},\n      min = _ref.min,\n      max = _ref.max;\n    if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_8__.isUndefined)(min) && min !== '') {\n      range.min = Number(min);\n    }\n    if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_8__.isUndefined)(max) && max !== '') {\n      range.max = Number(max);\n    }\n    return range;\n  }, [DataRange]);\n  var formatter = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (value) {\n    if (ThousandsSeparator) {\n      return (0,_utils_index__WEBPACK_IMPORTED_MODULE_9__.thousandsSeparatorFormat)(\"\".concat(value));\n    } else {\n      return String(value);\n    }\n  }, [ThousandsSeparator]);\n  var inputFieldProps = _objectSpread(_objectSpread({\n    className: \"\".concat(className, \"-number-def-editor\")\n  }, rangeProps), {}, {\n    showStepper: true,\n    decimalLength: Scale,\n    formatter: formatter,\n    maxLength: Precision,\n    fieldType: 'number',\n    placeholder: '请输入'\n  });\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_BaseDefValueEditor__WEBPACK_IMPORTED_MODULE_10__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, props, {\n    editorType: \"decimalDef\",\n    value: \"\".concat(value),\n    onChange: handleValueChange,\n    inputFieldProps: inputFieldProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DatePropertyEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTczNjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2VkaXRvcnMvTnVtYmVyRGVmVmFsdWVFZGl0b3IudHN4P2FjODgiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMy0wNS0xOCAxMDowMzozNFxuICogQExhc3RFZGl0VGltZTogMjAyMy0wNS0xOSAxNToyODoyMlxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCwgeyBGQywgdXNlTWVtbywgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFByb3BlcnR5RWRpdG9yUHJvcHMgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgeyBpc1VuZGVmaW5lZCB9IGZyb20gJ2xvZGFzaCdcbmltcG9ydCB7IHRob3VzYW5kc1NlcGFyYXRvckZvcm1hdCB9IGZyb20gJy4uL3V0aWxzL2luZGV4J1xuaW1wb3J0IEJhc2VEZWZWYWx1ZUVkaXRvciBmcm9tICcuL0Jhc2VEZWZWYWx1ZUVkaXRvcidcblxuY29uc3QgRGF0ZVByb3BlcnR5RWRpdG9yOiBGQzxQcm9wZXJ0eUVkaXRvclByb3BzPiA9IChwcm9wczogUHJvcGVydHlFZGl0b3JQcm9wcykgPT4ge1xuICBjb25zdCB7IGhhbmRsZUNoYW5nZSwgdmFsdWUsIGNsYXNzTmFtZSwgZmllbGQgfSA9IHByb3BzXG4gIGNvbnN0IHsgUHJlY2lzaW9uLCBTY2FsZSwgRGF0YVJhbmdlLCBUaG91c2FuZHNTZXBhcmF0b3IgfSA9IGZpZWxkXG5cbiAgY29uc3QgaGFuZGxlVmFsdWVDaGFuZ2UgPSAodmFsOiBzdHJpbmcpID0+IHtcbiAgICBoYW5kbGVDaGFuZ2UodmFsKVxuICB9XG5cbiAgY29uc3QgcmFuZ2VQcm9wcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHJhbmdlOiBhbnkgPSB7fVxuICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IERhdGFSYW5nZSB8fCB7fVxuICAgIGlmICghaXNVbmRlZmluZWQobWluKSAmJiBtaW4gIT09ICcnKSB7XG4gICAgICByYW5nZS5taW4gPSBOdW1iZXIobWluKVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG1heCkgJiYgbWF4ICE9PSAnJykge1xuICAgICAgcmFuZ2UubWF4ID0gTnVtYmVyKG1heClcbiAgICB9XG4gICAgcmV0dXJuIHJhbmdlXG4gIH0sIFtEYXRhUmFuZ2VdKVxuXG4gIGNvbnN0IGZvcm1hdHRlciA9IHVzZUNhbGxiYWNrKCh2YWx1ZSkgPT4ge1xuICAgIGlmIChUaG91c2FuZHNTZXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiB0aG91c2FuZHNTZXBhcmF0b3JGb3JtYXQoYCR7dmFsdWV9YClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSlcbiAgICB9XG4gIH0sIFtUaG91c2FuZHNTZXBhcmF0b3JdKVxuXG4gIGNvbnN0IGlucHV0RmllbGRQcm9wcyA9IHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzTmFtZX0tbnVtYmVyLWRlZi1lZGl0b3JgLFxuICAgIC4uLnJhbmdlUHJvcHMsXG4gICAgc2hvd1N0ZXBwZXI6IHRydWUsXG4gICAgZGVjaW1hbExlbmd0aDogU2NhbGUsXG4gICAgZm9ybWF0dGVyLFxuICAgIG1heExlbmd0aDogUHJlY2lzaW9uLFxuICAgIGZpZWxkVHlwZTogJ251bWJlcicsXG4gICAgcGxhY2Vob2xkZXI6ICfor7fovpPlhaUnXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxCYXNlRGVmVmFsdWVFZGl0b3JcbiAgICAgIHsuLi5wcm9wc31cbiAgICAgIGVkaXRvclR5cGU9J2RlY2ltYWxEZWYnXG4gICAgICB2YWx1ZT17YCR7dmFsdWV9YH1cbiAgICAgIG9uQ2hhbmdlPXtoYW5kbGVWYWx1ZUNoYW5nZX1cbiAgICAgIGlucHV0RmllbGRQcm9wcz17aW5wdXRGaWVsZFByb3BzfVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0ZVByb3BlcnR5RWRpdG9yXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17368\n");

/***/ }),

/***/ 65796:
/*!*****************************************************!*\
  !*** ./src/editors/PictureDefValueEditor/index.tsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/map */ 52892);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 24496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/values */ 73020);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 1900);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 61260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../utils */ 41232);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! kd_libs/react-dom */ 16428);\n/* harmony import */ var kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__);\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar PictureDefValueEditor = function PictureDefValueEditor(props) {\n  var _context3, _context4, _context5, _context6;\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    Name = props.Name,\n    tips = props.Tips,\n    field = props.field,\n    id = props.id,\n    propName = props.propName;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required,\n    title = editor.Title;\n  var FileMaxSize = field.FileMaxSize,\n    UploadNum = field.UploadNum,\n    ImageFileType = field.ImageFileType,\n    FieldType = field.FieldType,\n    ButtonText = field.ButtonText;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_15__.useContext)(_context__WEBPACK_IMPORTED_MODULE_16__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    baseUrl = _useContext.baseUrl;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_15__.useState)([]),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState, 2),\n    datas = _useState2[0],\n    setDatas = _useState2[1];\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    metaContext = _getKdesignerApi.meta;\n  var getControlPropertyDefaultValue = metaContext.getControlPropertyDefaultValue,\n    getControlMetaEditor = metaContext.getControlMetaEditor;\n  var pictureType = getControlMetaEditor(FieldType, 'ImageFileType').Enum; // 图片类型列表\n  var pictureDefaultSize = getControlPropertyDefaultValue(FieldType, 'FileMaxSize'); // 默认图片大小\n  var pictureDefaultType = getControlPropertyDefaultValue(FieldType, 'ImageFileType'); // 默认图片类型\n\n  var prefixClass = \"\".concat(className, \"-pic\");\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_15__.useState)(''),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState3, 2),\n    selectedForm = _useState4[0],\n    setSelectedForm = _useState4[1];\n  var uploadRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_15__.useRef)(new (_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_8___default())()); // 存储已上传文件\n  // const uploadResult = useRef<any[]>([]) // 上传成功列表\n\n  // console.log('PictureDefValueEditor', pictureDefaultType, pictureType, pictureDefaultSize)\n\n  // 显示错误信息\n  var showErrMsg = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_15__.useCallback)(function (content) {\n    nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.WebMsg.showNotificationMsg({\n      param: [{\n        type: 2,\n        content: content,\n        duration: 2000\n      }]\n    });\n  }, []);\n\n  // 上传前执行,服务器记录当前上传列表\n  var beforeUpload = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_15__.useCallback)(function (file, list) {\n    if (UploadNum !== null && UploadNum !== void 0 && UploadNum.max && list.length > UploadNum.max) {\n      // 是否超过个数\n      showErrMsg(\"\\u6700\\u591A\\u53EA\\u80FD\\u4E0A\\u4F20\".concat(UploadNum.max, \"\\u4E2A\\u56FE\\u7247\\uFF0C\\u8BF7\\u91CD\\u65B0\\u9009\\u62E9\"));\n      return false;\n    }\n    if (FileMaxSize && file.size / 1024 / 1024 > FileMaxSize) {\n      showErrMsg(\"\\u8BF7\\u4E0A\\u4F20\\u5C0F\\u4E8E\".concat(FileMaxSize, \"M\\u7684\\u56FE\\u7247\"));\n      return false;\n    } // 单个文件大小是否超过\n    return true;\n  }, [UploadNum.max, FileMaxSize, uploadRef.current]);\n\n  /**\n   * 变更\n   */\n  var onChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_15__.useCallback)(function (_ref) {\n    var file = _ref.file,\n      fileList = _ref.fileList;\n    console.log('onChange', fileList);\n    if (file.response && file.response.errorCode === '0') {\n      var _context;\n      // 上传成功\n      var uid = file.uid,\n        name = file.name,\n        size = file.size;\n      var data = {\n        url: file.response.data.url,\n        status: 'success',\n        uploadTime: Date.now()\n      };\n      uploadRef.current.set(file.uid, _objectSpread({\n        uid: uid,\n        name: name,\n        size: size\n      }, data)); // 更改设置上传信息\n      handleChange(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9___default()((0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_10___default()(_context = uploadRef.current).call(_context)))); // 后端是一个字符串\n      fileList.forEach(function (item) {\n        if (item.uid === file.uid) item.url = baseUrl.picture + file.response.data.url;\n      });\n    }\n    setDatas((0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(fileList));\n  }, [datas, uploadRef.current, handleChange]);\n  /**\n   * 删除\n   */\n  var onRemove = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_15__.useCallback)(function (file) {\n    var _context2;\n    var fIndex = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_11___default()(datas).call(datas, function (item) {\n      return item.uid === file.uid;\n    });\n    _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_12___default()(datas).call(datas, fIndex, 1);\n    setDatas((0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(datas));\n    if (uploadRef.current.get(file.uid)) {\n      uploadRef.current.delete(file.uid);\n    }\n    var str = uploadRef.current.size > 0 ? _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9___default()((0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_10___default()(_context2 = uploadRef.current).call(_context2))) : '';\n    handleChange(str);\n  }, [datas, uploadRef.current, handleChange]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_15__.useEffect)(function () {\n    if (value && (0,_utils__WEBPACK_IMPORTED_MODULE_19__.isJson)(value)) {\n      var data = JSON.parse(value);\n      if ((0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_20__.isArray)(data)) {\n        uploadRef.current = new (_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_8___default())();\n        data = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13___default()(data).call(data, function (item) {\n          uploadRef.current.set(item.uid, _objectSpread({}, item)); // 保存未变更的URL地址\n          var url = baseUrl.picture + item.url; // 变更URL\n          return _objectSpread(_objectSpread({}, item), {}, {\n            url: url\n          });\n        });\n        setDatas(data);\n      } else {\n        setSelectedForm(data.value);\n      }\n    } else {\n      (0,kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_21__.unstable_batchedUpdates)(function () {\n        setDatas([]);\n        setSelectedForm('');\n      });\n    }\n  }, [value]);\n  var type = ImageFileType || pictureDefaultType; // 类型，优先使用用户选择的类型\n  var typeArr = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13___default()(_context3 = type.split(',')).call(_context3, function (item) {\n    return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(pictureType).call(pictureType, function (i) {\n      return i.Id === item;\n    })[0].Name;\n  });\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    className: prefixClass\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", {\n    style: {\n      marginBottom: '8px'\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_15___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_17__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: Name,\n    tips: tips,\n    required: required,\n    title: title\n  })), !selectedForm && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_15___default().createElement(\"div\", null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_15___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_18__.ConfigProvider, {\n    value: {\n      prefixCls: 'kd'\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_15___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_22__.Picture, {\n    fileList: datas,\n    action: (0,_utils__WEBPACK_IMPORTED_MODULE_19__.getUrlWithDataCenter)(window.__domainurl__ + 'nocode/v2/nocode_sys/image'),\n    data: {\n      action: 'upload',\n      tempstorage: false\n    },\n    accept: _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13___default()(typeArr).call(typeArr, function (item) {\n      return '.' + item;\n    }).join(','),\n    multiple: true,\n    buttonText: ButtonText,\n    onChange: onChange,\n    onRemove: onRemove,\n    beforeUpload: beforeUpload,\n    noticeInfo: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_14___default()(_context4 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_14___default()(_context5 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_14___default()(_context6 = \"\\u8BF7\\u4E0A\\u4F20\\u5C0F\\u4E8E\".concat(FileMaxSize || pictureDefaultSize, \"M\\u7684\")).call(_context6, typeArr.join('、'), \"\\u6587\\u4EF6\\uFF0C\\u6587\\u4EF6\\u4E2A\\u6570\\u4E0D\\u5C11\\u4E8E\")).call(_context5, (UploadNum === null || UploadNum === void 0 ? void 0 : UploadNum.min) || 0, \"\\u4E2A\\uFF0C\\u4E0D\\u591A\\u4E8E\")).call(_context4, (UploadNum === null || UploadNum === void 0 ? void 0 : UploadNum.max) || 1, \"\\u4E2A\\u3002\")\n  }))));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,kd_libs_react__WEBPACK_IMPORTED_MODULE_15__.memo)(PictureDefValueEditor));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjU3OTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVFBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9QaWN0dXJlRGVmVmFsdWVFZGl0b3IvaW5kZXgudHN4P2YwYzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IG1lbW8sIHVzZU1lbW8sIHVzZUNvbnRleHQsIHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVJlZHVjZXIgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQnXG5pbXBvcnQgeyBOYW1lVGlwV3JhcHBlciwgUHJvcGVydHlFZGl0b3JQcm9wcyB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IENvbmZpZ1Byb3ZpZGVyIGFzIEtVSUNvbmZpZ1Byb3ZpZGVyLCBJY29uIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IHsgZ2V0VXJsV2l0aERhdGFDZW50ZXIsIGlzSnNvbiB9IGZyb20gJy4uLy4uL3V0aWxzJ1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJ2xvZGFzaCdcbmltcG9ydCB7IHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzIH0gZnJvbSAncmVhY3QtZG9tJ1xuaW1wb3J0IHsgUGljdHVyZSwgV2ViTXNnIH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcblxuY29uc3QgUGljdHVyZURlZlZhbHVlRWRpdG9yOlJlYWN0LkZDPFByb3BlcnR5RWRpdG9yUHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaGFuZGxlQ2hhbmdlLCB2YWx1ZSwgY2xhc3NOYW1lLCBlZGl0b3IsIGxvY2tlZCwgTmFtZSwgVGlwczogdGlwcywgZmllbGQsIGlkLCBwcm9wTmFtZSB9ID0gcHJvcHNcbiAgY29uc3QgeyBOYW1lSGlkZGVuOiBuYW1lSGlkZGVuLCBSZXF1aXJlZDogcmVxdWlyZWQsIFRpdGxlOiB0aXRsZSB9ID0gZWRpdG9yXG4gIGNvbnN0IHsgRmlsZU1heFNpemUsIFVwbG9hZE51bSwgSW1hZ2VGaWxlVHlwZSwgRmllbGRUeXBlLCBCdXR0b25UZXh0IH0gPSBmaWVsZFxuICBjb25zdCB7IGdldEtkZXNpZ25lckFwaSwgYmFzZVVybCB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IFtkYXRhcywgc2V0RGF0YXNdID0gdXNlU3RhdGU8YW55W10+KFtdKVxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0LCBtZXRhOiBtZXRhQ29udGV4dCB9ID0gZ2V0S2Rlc2lnbmVyQXBpKClcbiAgY29uc3QgeyBnZXRDb250cm9sUHJvcGVydHlEZWZhdWx0VmFsdWUsIGdldENvbnRyb2xNZXRhRWRpdG9yIH0gPSBtZXRhQ29udGV4dFxuICBjb25zdCBwaWN0dXJlVHlwZSA9IGdldENvbnRyb2xNZXRhRWRpdG9yKEZpZWxkVHlwZSwgJ0ltYWdlRmlsZVR5cGUnKS5FbnVtIC8vIOWbvueJh+exu+Wei+WIl+ihqFxuICBjb25zdCBwaWN0dXJlRGVmYXVsdFNpemUgPSBnZXRDb250cm9sUHJvcGVydHlEZWZhdWx0VmFsdWUoRmllbGRUeXBlLCAnRmlsZU1heFNpemUnKSAvLyDpu5jorqTlm77niYflpKflsI9cbiAgY29uc3QgcGljdHVyZURlZmF1bHRUeXBlID0gZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlKEZpZWxkVHlwZSwgJ0ltYWdlRmlsZVR5cGUnKSAvLyDpu5jorqTlm77niYfnsbvlnotcblxuICBjb25zdCBwcmVmaXhDbGFzcyA9IGAke2NsYXNzTmFtZX0tcGljYFxuICBjb25zdCBbc2VsZWN0ZWRGb3JtLCBzZXRTZWxlY3RlZEZvcm1dID0gdXNlU3RhdGUoJycpXG5cbiAgY29uc3QgdXBsb2FkUmVmID0gdXNlUmVmKG5ldyBNYXAoKSkgLy8g5a2Y5YKo5bey5LiK5Lyg5paH5Lu2XG4gIC8vIGNvbnN0IHVwbG9hZFJlc3VsdCA9IHVzZVJlZjxhbnlbXT4oW10pIC8vIOS4iuS8oOaIkOWKn+WIl+ihqFxuXG4gIC8vIGNvbnNvbGUubG9nKCdQaWN0dXJlRGVmVmFsdWVFZGl0b3InLCBwaWN0dXJlRGVmYXVsdFR5cGUsIHBpY3R1cmVUeXBlLCBwaWN0dXJlRGVmYXVsdFNpemUpXG5cbiAgLy8g5pi+56S66ZSZ6K+v5L+h5oGvXG4gIGNvbnN0IHNob3dFcnJNc2cgPSB1c2VDYWxsYmFjaygoY29udGVudCkgPT4ge1xuICAgIFdlYk1zZy5zaG93Tm90aWZpY2F0aW9uTXNnKHsgcGFyYW06IFt7IHR5cGU6IDIsIGNvbnRlbnQsIGR1cmF0aW9uOiAyMDAwIH1dIH0pXG4gIH0sIFtdKVxuXG4gIC8vIOS4iuS8oOWJjeaJp+ihjCzmnI3liqHlmajorrDlvZXlvZPliY3kuIrkvKDliJfooahcbiAgY29uc3QgYmVmb3JlVXBsb2FkID0gdXNlQ2FsbGJhY2soKGZpbGUsIGxpc3QpID0+IHtcbiAgICBpZiAoVXBsb2FkTnVtPy5tYXggJiYgbGlzdC5sZW5ndGggPiBVcGxvYWROdW0ubWF4KSB7IC8vIOaYr+WQpui2hei/h+S4quaVsFxuICAgICAgc2hvd0Vyck1zZyhg5pyA5aSa5Y+q6IO95LiK5LygJHtVcGxvYWROdW0ubWF4feS4quWbvueJh++8jOivt+mHjeaWsOmAieaLqWApXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKEZpbGVNYXhTaXplICYmIChmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCkgPiBGaWxlTWF4U2l6ZSkge1xuICAgICAgc2hvd0Vyck1zZyhg6K+35LiK5Lyg5bCP5LqOJHtGaWxlTWF4U2l6ZX1N55qE5Zu+54mHYClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gLy8g5Y2V5Liq5paH5Lu25aSn5bCP5piv5ZCm6LaF6L+HXG4gICAgcmV0dXJuIHRydWVcbiAgfSwgW1VwbG9hZE51bS5tYXgsIEZpbGVNYXhTaXplLCB1cGxvYWRSZWYuY3VycmVudF0pXG5cbiAgLyoqXG4gICAqIOWPmOabtFxuICAgKi9cbiAgY29uc3Qgb25DaGFuZ2UgPSB1c2VDYWxsYmFjaygoeyBmaWxlLCBmaWxlTGlzdCB9OntmaWxlOmFueSwgZmlsZUxpc3Q6YW55W119KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ29uQ2hhbmdlJywgZmlsZUxpc3QpXG4gICAgaWYgKGZpbGUucmVzcG9uc2UgJiYgZmlsZS5yZXNwb25zZS5lcnJvckNvZGUgPT09ICcwJykgeyAvLyDkuIrkvKDmiJDlip9cbiAgICAgIGNvbnN0IHsgdWlkLCBuYW1lLCBzaXplIH0gPSBmaWxlXG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICB1cmw6IGZpbGUucmVzcG9uc2UuZGF0YS51cmwsXG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICB1cGxvYWRUaW1lOiBEYXRlLm5vdygpXG4gICAgICB9XG4gICAgICB1cGxvYWRSZWYuY3VycmVudC5zZXQoZmlsZS51aWQsIHsgdWlkLCBuYW1lLCBzaXplLCAuLi5kYXRhIH0pIC8vIOabtOaUueiuvue9ruS4iuS8oOS/oeaBr1xuICAgICAgaGFuZGxlQ2hhbmdlKEpTT04uc3RyaW5naWZ5KFsuLi51cGxvYWRSZWYuY3VycmVudC52YWx1ZXMoKV0pKSAvLyDlkI7nq6/mmK/kuIDkuKrlrZfnrKbkuLJcbiAgICAgIGZpbGVMaXN0LmZvckVhY2goKGl0ZW06YW55KSA9PiB7XG4gICAgICAgIGlmIChpdGVtLnVpZCA9PT0gZmlsZS51aWQpIGl0ZW0udXJsID0gYmFzZVVybC5waWN0dXJlICsgZmlsZS5yZXNwb25zZS5kYXRhLnVybFxuICAgICAgfSlcbiAgICB9XG4gICAgc2V0RGF0YXMoWy4uLmZpbGVMaXN0XSlcbiAgfSwgW2RhdGFzLCB1cGxvYWRSZWYuY3VycmVudCwgaGFuZGxlQ2hhbmdlXSlcbiAgLyoqXG4gICAqIOWIoOmZpFxuICAgKi9cbiAgY29uc3Qgb25SZW1vdmUgPSB1c2VDYWxsYmFjaygoZmlsZSkgPT4ge1xuICAgIGNvbnN0IGZJbmRleCA9IGRhdGFzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udWlkID09PSBmaWxlLnVpZClcbiAgICBkYXRhcy5zcGxpY2UoZkluZGV4LCAxKVxuICAgIHNldERhdGFzKFsuLi5kYXRhc10pXG4gICAgaWYgKHVwbG9hZFJlZi5jdXJyZW50LmdldChmaWxlLnVpZCkpIHtcbiAgICAgIHVwbG9hZFJlZi5jdXJyZW50LmRlbGV0ZShmaWxlLnVpZClcbiAgICB9XG4gICAgY29uc3Qgc3RyID0gdXBsb2FkUmVmLmN1cnJlbnQuc2l6ZSA+IDAgPyBKU09OLnN0cmluZ2lmeShbLi4udXBsb2FkUmVmLmN1cnJlbnQudmFsdWVzKCldKSA6ICcnXG4gICAgaGFuZGxlQ2hhbmdlKHN0cilcbiAgfSwgW2RhdGFzLCB1cGxvYWRSZWYuY3VycmVudCwgaGFuZGxlQ2hhbmdlXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh2YWx1ZSAmJiBpc0pzb24odmFsdWUpKSB7XG4gICAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UodmFsdWUpXG4gICAgICBpZiAoaXNBcnJheShkYXRhKSkge1xuICAgICAgICB1cGxvYWRSZWYuY3VycmVudCA9IG5ldyBNYXAoKVxuICAgICAgICBkYXRhID0gZGF0YS5tYXAoKGl0ZW06YW55KSA9PiB7XG4gICAgICAgICAgdXBsb2FkUmVmLmN1cnJlbnQuc2V0KGl0ZW0udWlkLCB7IC4uLml0ZW0gfSkgLy8g5L+d5a2Y5pyq5Y+Y5pu055qEVVJM5Zyw5Z2AXG4gICAgICAgICAgY29uc3QgdXJsID0gYmFzZVVybC5waWN0dXJlICsgaXRlbS51cmwgLy8g5Y+Y5pu0VVJMXG4gICAgICAgICAgcmV0dXJuIHsgLi4uaXRlbSwgdXJsIH1cbiAgICAgICAgfSlcbiAgICAgICAgc2V0RGF0YXMoZGF0YSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFNlbGVjdGVkRm9ybShkYXRhLnZhbHVlKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcygoKSA9PiB7XG4gICAgICAgIHNldERhdGFzKFtdKVxuICAgICAgICBzZXRTZWxlY3RlZEZvcm0oJycpXG4gICAgICB9KVxuICAgIH1cbiAgfSwgW3ZhbHVlXSlcblxuICBjb25zdCB0eXBlID0gSW1hZ2VGaWxlVHlwZSB8fCBwaWN0dXJlRGVmYXVsdFR5cGUgLy8g57G75Z6L77yM5LyY5YWI5L2/55So55So5oi36YCJ5oup55qE57G75Z6LXG4gIGNvbnN0IHR5cGVBcnIgPSB0eXBlLnNwbGl0KCcsJykubWFwKChpdGVtOmFueSkgPT4gcGljdHVyZVR5cGUuZmlsdGVyKChpOmFueSkgPT4gaS5JZCA9PT0gaXRlbSlbMF0uTmFtZSlcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcmVmaXhDbGFzc30+XG4gICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJzhweCcgfX0+XG4gICAgICAgIDxOYW1lVGlwV3JhcHBlciBuYW1lSGlkZGVuPXtuYW1lSGlkZGVufSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gbmFtZT17TmFtZX0gdGlwcz17dGlwc30gcmVxdWlyZWQ9e3JlcXVpcmVkfSB0aXRsZT17dGl0bGV9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIHtcbiAgICAgICAgIXNlbGVjdGVkRm9ybSAmJiAoXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxLVUlDb25maWdQcm92aWRlciB2YWx1ZT17eyBwcmVmaXhDbHM6ICdrZCcgfX0+XG4gICAgICAgICAgICAgIDxQaWN0dXJlXG4gICAgICAgICAgICAgICAgZmlsZUxpc3Q9e2RhdGFzfVxuICAgICAgICAgICAgICAgIGFjdGlvbj17Z2V0VXJsV2l0aERhdGFDZW50ZXIod2luZG93Ll9fZG9tYWludXJsX18gKyAnbm9jb2RlL3YyL25vY29kZV9zeXMvaW1hZ2UnKX1cbiAgICAgICAgICAgICAgICBkYXRhPXt7IGFjdGlvbjogJ3VwbG9hZCcsIHRlbXBzdG9yYWdlOiBmYWxzZSB9fVxuICAgICAgICAgICAgICAgIGFjY2VwdD17dHlwZUFyci5tYXAoKGl0ZW06c3RyaW5nKSA9PiAnLicgKyBpdGVtKS5qb2luKCcsJyl9XG4gICAgICAgICAgICAgICAgbXVsdGlwbGVcbiAgICAgICAgICAgICAgICBidXR0b25UZXh0PXtCdXR0b25UZXh0fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICAgICAgICBvblJlbW92ZT17b25SZW1vdmV9XG4gICAgICAgICAgICAgICAgYmVmb3JlVXBsb2FkPXtiZWZvcmVVcGxvYWR9XG4gICAgICAgICAgICAgICAgbm90aWNlSW5mbz17YOivt+S4iuS8oOWwj+S6jiR7RmlsZU1heFNpemUgfHwgcGljdHVyZURlZmF1bHRTaXplfU3nmoQke3R5cGVBcnIuam9pbign44CBJyl95paH5Lu277yM5paH5Lu25Liq5pWw5LiN5bCR5LqOJHtVcGxvYWROdW0/Lm1pbiB8fCAwfeS4qu+8jOS4jeWkmuS6jiR7VXBsb2FkTnVtPy5tYXggfHwgMX3kuKrjgIJgfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9LVUlDb25maWdQcm92aWRlcj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgfVxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1lbW8oUGljdHVyZURlZlZhbHVlRWRpdG9yKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///65796\n");

/***/ }),

/***/ 90952:
/*!*****************************************************!*\
  !*** ./src/editors/RefBillDefValueEditor/index.tsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 24496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _BaseDefValueEditor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../BaseDefValueEditor */ 41732);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils */ 41232);\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\nvar RefBillDefValueEditor = function RefBillDefValueEditor(props) {\n  var value = props.value,\n    className = props.className,\n    handleChange = props.handleChange,\n    field = props.field,\n    rootId = props.rootId;\n  // const {} = field\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useContext)(_context__WEBPACK_IMPORTED_MODULE_11__.DesignerContext),\n    baseUrl = _useContext.baseUrl,\n    onDownLoad = _useContext.onDownLoad,\n    prefixCls = _useContext.prefixCls,\n    getControlText = _useContext.getControlText,\n    batchInvoke = _useContext.batchInvoke,\n    getBaseHooks = _useContext.getBaseHooks,\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var SelectScope = field.SelectScope;\n  var rawFilterProp = SelectScope ? {\n    rawFilter: SelectScope.value\n  } : {};\n  var kdesignerApi = getKdesignerApi();\n  var metaApi = kdesignerApi.meta;\n  var useKDRefBill = getBaseHooks('useKDRefBill');\n  var addControlAction = function addControlAction(methodName, listener) {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.eventBus.on(methodName, listener);\n  };\n  var onBatchInvoke = function onBatchInvoke(actionName, args) {\n    var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    batchInvoke(actionName, field.Key, args, params);\n  };\n  var entityId = field.BillEntityIdEx || metaApi.getControlPropertyDefaultValue(field.FieldType, 'BillEntityIdEx');\n  var getInputValue = function getInputValue(value, valueType) {\n    try {\n      if (value && typeof value === 'string') {\n        var valueObject = JSON.parse(value);\n        return valueObject.valueType === valueType ? valueObject.value : '';\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  var newValue = getInputValue(value, 0);\n  var batchInvokeQuery = function batchInvokeQuery(entityId, args) {\n    var _args$filter = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(args),\n      filter = _args$filter === void 0 ? '' : _args$filter,\n      _args$search = args.search,\n      search = _args$search === void 0 ? '' : _args$search,\n      _args$order_by = args.order_by,\n      order_by = _args$order_by === void 0 ? '' : _args$order_by,\n      _args$page_size = args.page_size,\n      page_size = _args$page_size === void 0 ? 10 : _args$page_size,\n      _args$page_no = args.page_no,\n      page_no = _args$page_no === void 0 ? 1 : _args$page_no,\n      _args$ids = args.ids,\n      ids = _args$ids === void 0 ? [] : _args$ids;\n    entityId && batchInvoke('query', 'nocodeformdesigner', [entityId, _objectSpread({\n      filter: filter,\n      // 数据过滤\n      search: search,\n      // 搜索内容\n      order_by: order_by,\n      // 排序\n      select: '',\n      // 字段\n      page_size: page_size,\n      // 每页行数\n      page_no: page_no,\n      ids: ids\n    }, rawFilterProp)]);\n  };\n  var batchInvokeListConfig = function batchInvokeListConfig() {\n    entityId && batchInvoke('listconfig', 'nocodeformdesigner', [entityId]);\n  };\n  var handleInputChange = function handleInputChange(v) {\n    var value;\n    if (typeof v === 'string') {\n      value = v;\n    } else if (Array.isArray(v)) {\n      value = v.join(',');\n    }\n    handleChange(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_7___default()({\n      valueType: 0,\n      value: value\n    }));\n  };\n  var isMulti = parseInt(field.Multi) === 1;\n  var controlMeta = (0,_utils__WEBPACK_IMPORTED_MODULE_12__.transformRefBillMeta)(field, metaApi);\n  var billProps = {\n    controlMeta: controlMeta,\n    onChange: handleInputChange,\n    baseUrl: baseUrl,\n    batchInvoke: onBatchInvoke,\n    getControlText: getControlText,\n    addControlAction: addControlAction,\n    onDownLoad: onDownLoad,\n    batchInvokeListConfig: batchInvokeListConfig,\n    batchInvokeQuery: batchInvokeQuery,\n    value: newValue\n  };\n  var refBillParams = useKDRefBill(billProps, true);\n  var searchKeywords = refBillParams.searchKeywords;\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(function () {\n    batchInvokeQuery(entityId, {\n      page_size: 10,\n      page_no: 1,\n      search: searchKeywords,\n      // \"select\": \"name,number\",\n      select: field.PropsDisplay,\n      ids: newValue ? newValue.split(',') : []\n    });\n  }, [value, field.PropsDisplay, entityId]);\n\n  // refbil的props参数\n  var inputFieldProps = _objectSpread(_objectSpread({\n    className: \"\".concat(prefixCls, \"-refbill-def-editor-input\"),\n    fieldType: 'refbill'\n  }, refBillParams), {}, {\n    value: isMulti ? newValue ? newValue.split(',') : [] : newValue || '',\n    placeholder: '请选择',\n    showSelected: false\n  });\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_BaseDefValueEditor__WEBPACK_IMPORTED_MODULE_10__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({}, props, {\n    editorType: \"refBillDef\",\n    inputFieldProps: inputFieldProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (RefBillDefValueEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTA5NTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUdBO0FBQ0E7QUFBQTtBQUdBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9SZWZCaWxsRGVmVmFsdWVFZGl0b3IvaW5kZXgudHN4P2VlNzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IEZDLCB1c2VDb250ZXh0LCB1c2VSZWR1Y2VyLCB1c2VNZW1vLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBQcm9wZXJ0eUVkaXRvclByb3BzLCBldmVudEJ1cyB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCBCYXNlRGVmVmFsdWVFZGl0b3IgZnJvbSAnLi4vQmFzZURlZlZhbHVlRWRpdG9yJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dCdcbmltcG9ydCB7IHRyYW5zZm9ybVJlZkJpbGxNZXRhIH0gZnJvbSAnLi4vLi4vdXRpbHMnXG5cbmNvbnN0IFJlZkJpbGxEZWZWYWx1ZUVkaXRvcjogRkM8UHJvcGVydHlFZGl0b3JQcm9wcz4gPSAocHJvcHM6IFByb3BlcnR5RWRpdG9yUHJvcHMpID0+IHtcbiAgY29uc3QgeyB2YWx1ZSwgY2xhc3NOYW1lLCBoYW5kbGVDaGFuZ2UsIGZpZWxkLCByb290SWQgfSA9IHByb3BzXG4gIC8vIGNvbnN0IHt9ID0gZmllbGRcbiAgY29uc3Qge1xuICAgIGJhc2VVcmwsIG9uRG93bkxvYWQsIHByZWZpeENscywgZ2V0Q29udHJvbFRleHQsIGJhdGNoSW52b2tlLCBnZXRCYXNlSG9va3MsXG4gICAgZ2V0S2Rlc2lnbmVyQXBpXG4gIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3QgeyBTZWxlY3RTY29wZSB9ID0gZmllbGRcbiAgY29uc3QgcmF3RmlsdGVyUHJvcCA9IFNlbGVjdFNjb3BlID8geyByYXdGaWx0ZXI6IFNlbGVjdFNjb3BlLnZhbHVlIH0gOiB7fVxuICBjb25zdCBrZGVzaWduZXJBcGkgPSBnZXRLZGVzaWduZXJBcGkoKVxuICBjb25zdCB7IG1ldGE6IG1ldGFBcGkgfSA9IGtkZXNpZ25lckFwaVxuICBjb25zdCB1c2VLRFJlZkJpbGwgPSBnZXRCYXNlSG9va3MoJ3VzZUtEUmVmQmlsbCcpXG4gIGNvbnN0IGFkZENvbnRyb2xBY3Rpb24gPSAobWV0aG9kTmFtZSwgbGlzdGVuZXIpID0+IHtcbiAgICBldmVudEJ1cy5vbihtZXRob2ROYW1lLCBsaXN0ZW5lcilcbiAgfVxuICBjb25zdCBvbkJhdGNoSW52b2tlID0gKGFjdGlvbk5hbWUsIGFyZ3MsIHBhcmFtcyA9IFtdKSA9PiB7XG4gICAgYmF0Y2hJbnZva2UoYWN0aW9uTmFtZSwgZmllbGQuS2V5LCBhcmdzLCBwYXJhbXMpXG4gIH1cblxuICBjb25zdCBlbnRpdHlJZCA9IGZpZWxkLkJpbGxFbnRpdHlJZEV4IHx8IG1ldGFBcGkuZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlKGZpZWxkLkZpZWxkVHlwZSwgJ0JpbGxFbnRpdHlJZEV4JylcblxuICBjb25zdCBnZXRJbnB1dFZhbHVlID0gKHZhbHVlLCB2YWx1ZVR5cGUpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgdmFsdWVPYmplY3QgPSBKU09OLnBhcnNlKHZhbHVlKVxuICAgICAgICByZXR1cm4gdmFsdWVPYmplY3QudmFsdWVUeXBlID09PSB2YWx1ZVR5cGUgPyB2YWx1ZU9iamVjdC52YWx1ZSA6ICcnXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKVxuICAgIH1cbiAgfVxuICBjb25zdCBuZXdWYWx1ZSA9IGdldElucHV0VmFsdWUodmFsdWUsIDApXG5cbiAgY29uc3QgYmF0Y2hJbnZva2VRdWVyeSA9IChlbnRpdHlJZCwgYXJncykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGZpbHRlciA9ICcnLCAvLyDmlbDmja7ov4fmu6RcbiAgICAgIHNlYXJjaCA9ICcnLCAvLyDmkJzntKLlhoXlrrlcbiAgICAgIG9yZGVyX2J5ID0gJycsIC8vIOaOkuW6j1xuICAgICAgLy8gc2VsZWN0ID0gJycsIC8vIOWtl+autVxuICAgICAgcGFnZV9zaXplID0gMTAsIC8vIOavj+mhteihjOaVsFxuICAgICAgcGFnZV9ubyA9IDEsXG4gICAgICBpZHMgPSBbXSAvLyDpgInkuK3nmoRpZHNcbiAgICB9ID0gYXJnc1xuICAgIGVudGl0eUlkICYmIGJhdGNoSW52b2tlKCdxdWVyeScsICdub2NvZGVmb3JtZGVzaWduZXInLCBbZW50aXR5SWQsIHtcbiAgICAgIGZpbHRlciwgLy8g5pWw5o2u6L+H5rukXG4gICAgICBzZWFyY2gsIC8vIOaQnOe0ouWGheWuuVxuICAgICAgb3JkZXJfYnksIC8vIOaOkuW6j1xuICAgICAgc2VsZWN0OiAnJywgLy8g5a2X5q61XG4gICAgICBwYWdlX3NpemUsIC8vIOavj+mhteihjOaVsFxuICAgICAgcGFnZV9ubyxcbiAgICAgIGlkcywgLy8g6YCJ5Lit55qEaWRzXG4gICAgICAuLi5yYXdGaWx0ZXJQcm9wXG4gICAgfV0pXG4gIH1cbiAgY29uc3QgYmF0Y2hJbnZva2VMaXN0Q29uZmlnID0gKCkgPT4ge1xuICAgIGVudGl0eUlkICYmIGJhdGNoSW52b2tlKCdsaXN0Y29uZmlnJywgJ25vY29kZWZvcm1kZXNpZ25lcicsIFtlbnRpdHlJZF0pXG4gIH1cblxuICBjb25zdCBoYW5kbGVJbnB1dENoYW5nZSA9ICh2KSA9PiB7XG4gICAgbGV0IHZhbHVlXG4gICAgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSB2XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHYpKSB7XG4gICAgICB2YWx1ZSA9IHYuam9pbignLCcpXG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB2YWx1ZVR5cGU6IDAsXG4gICAgICB2YWx1ZVxuICAgIH0pKVxuICB9XG5cbiAgY29uc3QgaXNNdWx0aSA9IHBhcnNlSW50KGZpZWxkLk11bHRpKSA9PT0gMVxuICBjb25zdCBjb250cm9sTWV0YSA9IHRyYW5zZm9ybVJlZkJpbGxNZXRhKGZpZWxkLCBtZXRhQXBpKVxuICBjb25zdCBiaWxsUHJvcHMgPSB7XG4gICAgY29udHJvbE1ldGEsXG4gICAgb25DaGFuZ2U6IGhhbmRsZUlucHV0Q2hhbmdlLFxuICAgIGJhc2VVcmwsXG4gICAgYmF0Y2hJbnZva2U6IG9uQmF0Y2hJbnZva2UsXG4gICAgZ2V0Q29udHJvbFRleHQsXG4gICAgYWRkQ29udHJvbEFjdGlvbixcbiAgICBvbkRvd25Mb2FkLFxuICAgIGJhdGNoSW52b2tlTGlzdENvbmZpZyxcbiAgICBiYXRjaEludm9rZVF1ZXJ5LFxuICAgIHZhbHVlOiBuZXdWYWx1ZVxuICB9XG4gIGNvbnN0IHJlZkJpbGxQYXJhbXMgPSB1c2VLRFJlZkJpbGwoYmlsbFByb3BzLCB0cnVlKVxuICBjb25zdCB7IHNlYXJjaEtleXdvcmRzIH0gPSByZWZCaWxsUGFyYW1zXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBiYXRjaEludm9rZVF1ZXJ5KGVudGl0eUlkLCB7XG4gICAgICBwYWdlX3NpemU6IDEwLFxuICAgICAgcGFnZV9ubzogMSxcbiAgICAgIHNlYXJjaDogc2VhcmNoS2V5d29yZHMsXG4gICAgICAvLyBcInNlbGVjdFwiOiBcIm5hbWUsbnVtYmVyXCIsXG4gICAgICBzZWxlY3Q6IGZpZWxkLlByb3BzRGlzcGxheSxcbiAgICAgIGlkczogbmV3VmFsdWUgPyBuZXdWYWx1ZS5zcGxpdCgnLCcpIDogW11cbiAgICB9KVxuICB9LCBbdmFsdWUsIGZpZWxkLlByb3BzRGlzcGxheSwgZW50aXR5SWRdKVxuXG4gIC8vIHJlZmJpbOeahHByb3Bz5Y+C5pWwXG4gIGNvbnN0IGlucHV0RmllbGRQcm9wcyA9IHtcbiAgICBjbGFzc05hbWU6IGAke3ByZWZpeENsc30tcmVmYmlsbC1kZWYtZWRpdG9yLWlucHV0YCxcbiAgICBmaWVsZFR5cGU6ICdyZWZiaWxsJyxcbiAgICAuLi5yZWZCaWxsUGFyYW1zLFxuICAgIHZhbHVlOiBpc011bHRpID8gKG5ld1ZhbHVlID8gbmV3VmFsdWUuc3BsaXQoJywnKSA6IFtdKSA6IChuZXdWYWx1ZSB8fCAnJyksXG4gICAgcGxhY2Vob2xkZXI6ICfor7fpgInmi6knLFxuICAgIHNob3dTZWxlY3RlZDogZmFsc2VcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPEJhc2VEZWZWYWx1ZUVkaXRvclxuICAgICAgey4uLnByb3BzfVxuICAgICAgZWRpdG9yVHlwZT0ncmVmQmlsbERlZidcbiAgICAgIGlucHV0RmllbGRQcm9wcz17aW5wdXRGaWVsZFByb3BzfVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVmQmlsbERlZlZhbHVlRWRpdG9yXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///90952\n");

/***/ }),

/***/ 42752:
/*!*************************************************!*\
  !*** ./src/editors/RefBillTypeEditor/index.tsx ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ 28429);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _constants_actionName__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../constants/actionName */ 82964);\n/* harmony import */ var _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../reducer/reduceConstants */ 10788);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../utils/refBillEditorUtils */ 82048);\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n/**\n * 属性编辑器-关联其他表单\n */\n\n\n\n\n\n\n\n// import { isRefBillTable, isRefBill } from '../../utils/control'\n\nvar dfs = nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_16__.treeUtils.dfs;\nvar RefBillTypeEditor = function RefBillTypeEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    Name = props.Name,\n    tips = props.Tips,\n    field = props.field,\n    id = props.id,\n    propName = props.propName;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required,\n    title = editor.Title;\n  var _ref = field || {},\n    dataFill = _ref.DataFill,\n    controlName = _ref.Name,\n    SelectBillPid = _ref.SelectBillPid,\n    RefTableId = _ref.RefTableId,\n    RefBillId = _ref.RefBillId,\n    ShowType = _ref.ShowType,\n    SourceForm = _ref.SourceForm,\n    inner2Outer = _ref.inner2Outer,\n    controlKey = _ref.Key;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useContext)(_context__WEBPACK_IMPORTED_MODULE_13__.DesignerContext),\n    invokeAction = _useContext.invokeAction,\n    getKdesignerApi = _useContext.getKdesignerApi,\n    prefixCls = _useContext.prefixCls,\n    billPropsData = _useContext.billPropsData,\n    dispatchBillData = _useContext.dispatchBillData;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    controlCacheApi = _getKdesignerApi.controlCacheApi;\n  var prefixClass = \"\".concat(className, \"-bill-type\");\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useState)((0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((billPropsData === null || billPropsData === void 0 ? void 0 : billPropsData.appFormList) || [])),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState, 2),\n    treeData = _useState2[0],\n    setTreeData = _useState2[1];\n  var loadDataResolveFunc = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useRef)(null);\n  var lazyUpdateAppId = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useRef)(null);\n  var isNewCtrl = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useRef)(controlCacheApi.hasCache('controlId', id)); // 是否是新控件\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useState)(true),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState3, 2),\n    isDisabled = _useState4[0],\n    setDisabled = _useState4[1]; // 默认为不可切换的，防止校验接口网络抖动致使用户切换接口\n\n  // const pid = useRef((isRefBill(fieldType) && RefTableId) ? RefTableId : id)\n\n  /**\n   * 更新关联表单下拉树的数据\n   */\n  var setFormOptions = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function (treeRoot) {\n    var _treeRoot$children = treeRoot.children,\n      children = _treeRoot$children === void 0 ? [] : _treeRoot$children;\n    children[0].icon = /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__.Icon, {\n      prefix: \"nocodeplatformicon\",\n      type: \"gerenzhongxin\",\n      style: {\n        color: '#3987ED'\n      }\n    });\n    children[1].icon = /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__.Icon, {\n      prefix: \"nocodeplatformicon\",\n      type: \"zuzhi\",\n      style: {\n        color: '#3987ED'\n      }\n    });\n    var _transformToTree = (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_17__.transformToTree)(children),\n      _transformToTree2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_transformToTree, 2),\n      data = _transformToTree2[0],\n      innerForm = _transformToTree2[1];\n    console.log('setFormOptions', data, innerForm);\n    dispatchBillData({\n      key: _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_15__.UPDATE_APP_FORM_LIST,\n      payload: {\n        data: data,\n        innerForm: innerForm\n      }\n    });\n    setTreeData(data);\n  }, []);\n\n  /**\n   * 请求FORM数据\n   */\n  var fetchFormOptions = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function () {\n    var args = {\n      showTree: 'true',\n      ignoreCosmicForm: 'true'\n    };\n    if (Array.isArray(SelectBillPid)) {\n      args.parentId = SelectBillPid[SelectBillPid.length - 1];\n    }\n    SourceForm === '2' && invokeAction('click', [id, 'entitymeta', propName, args]);\n  }, [SourceForm]);\n  var setFormDisabled = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function (data) {\n    // if ((isRefBillTable(fieldType) || (isRefBill(fieldType) && RefTableId)) && SourceForm === '1') setDisabled(true)\n    var switchFieldTypes = data[field.Key] || [];\n    if (switchFieldTypes.length === 0 || SourceForm === '1') {\n      setDisabled(true);\n    } else if ((switchFieldTypes === null || switchFieldTypes === void 0 ? void 0 : switchFieldTypes.length) > 0) {\n      setDisabled(false);\n    }\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    SourceForm !== '1' && fetchFormOptions();\n    // 新添加的控件，且不是内部表单，可以切换\n    if (isNewCtrl.current && SourceForm !== '1') setDisabled(false);\n    if (!isNewCtrl.current) {\n      // 这个请求可以不用发起（标题栏会发一个CAN_SWITCH_FLELDTYPES同样的指令）\n      // invokeAction(CAN_SWITCH_FLELDTYPES, [[field.Key, field.FieldType]], [])\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_14__.SET_SWITCH_FIELD_TYPES, setFormDisabled);\n    }\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_14__.SET_REF_BILL_TREE_DATA, setFormOptions);\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_14__.SET_TREE_NODE_CHILDREN, lazyUpdateAppChildren);\n    return function () {\n      if (!isNewCtrl.current) {\n        designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_14__.SET_SWITCH_FIELD_TYPES, setFormDisabled);\n      }\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_14__.SET_REF_BILL_TREE_DATA, setFormOptions);\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_14__.SET_TREE_NODE_CHILDREN, lazyUpdateAppChildren);\n    };\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    var _dfs;\n    var formName = value ? ((_dfs = dfs(treeData, function (node) {\n      return node.key === value;\n    })) === null || _dfs === void 0 ? void 0 : _dfs.title) || '关联表单' : '关联表单';\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.eventBus.emit(\"\".concat(controlKey, \"_refbill\"), {\n      formName: formName\n    });\n  }, [value, treeData]);\n  var lazyUpdateAppChildren = function lazyUpdateAppChildren(data) {\n    var _loadDataResolveFunc$;\n    setTreeData(function (origin) {\n      return updateTreeData(origin, lazyUpdateAppId.current, (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_17__.transformToTree)(data, {\n        isAsyncNode: true\n      })[0]);\n    });\n    (_loadDataResolveFunc$ = loadDataResolveFunc.current) === null || _loadDataResolveFunc$ === void 0 || _loadDataResolveFunc$.call(loadDataResolveFunc);\n    loadDataResolveFunc.current = null;\n  };\n  var updateTreeData = function updateTreeData(list, key, children) {\n    return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(list).call(list, function (node) {\n      if (node.key === key) {\n        return children !== null && children !== void 0 && children.length ? _objectSpread(_objectSpread({}, node), {}, {\n          children: children,\n          isLeaf: true\n        }) : _objectSpread(_objectSpread({}, node), {}, {\n          isLeaf: true\n        });\n      }\n      if (node.children) {\n        return _objectSpread(_objectSpread({}, node), {}, {\n          children: updateTreeData(node.children, key, children)\n        });\n      }\n      return node;\n    });\n  };\n  var onLoadData = function onLoadData(_ref2) {\n    var key = _ref2.key,\n      children = _ref2.children,\n      isLeaf = _ref2.isLeaf;\n    console.log('onLoadData-----');\n    return new (_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_9___default())(function (resolve) {\n      if (children || isLeaf) {\n        resolve();\n        return;\n      }\n      loadDataResolveFunc.current = resolve;\n      lazyUpdateAppId.current = key;\n      invokeAction('queryTreeNodeChildren', [key]);\n    });\n  };\n\n  /**\n   * 更新设计器属性\n   * 包括BillEntityIdEx PropsDisplay\n   * 如果是表格，同时清除表格同控件\n   */\n  var updateBillProps = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function (newVal, otherChanges) {\n    var props = _objectSpread((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({}, propName, newVal), \"PropsDisplay\", ''), otherChanges);\n    var actions = [[id, props]];\n    if (ShowType === '2') {\n      var _context;\n      var ids = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(_context = dataContext.getAllSubControlIds(id)).call(_context, function (fieldId) {\n        return fieldId !== id;\n      });\n      dataContext.deleteControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createDeleteAction)(ids));\n    }\n    dataContext.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUpdateAction)(actions));\n  }, [propName, RefTableId, RefBillId, id, ShowType]);\n\n  /**\n   * 树选择器选择之后回调\n   * @param newVal\n   * @param nodes\n   */\n  var handleSelectForm = function handleSelectForm(newVal, nodes) {\n    if (newVal !== value) {\n      var _dfs2;\n      var formName = value ? (_dfs2 = dfs(treeData, function (node) {\n        return node.key === value;\n      })) === null || _dfs2 === void 0 ? void 0 : _dfs2.title : '关联表单';\n      var otherChanges = {};\n      if (formName === controlName) {\n        if (newVal) {\n          var _ref3 = nodes[0] || {},\n            _ref3$title = _ref3.title,\n            newName = _ref3$title === void 0 ? '' : _ref3$title,\n            parentKeys = _ref3.parentKeys,\n            isAsyncNode = _ref3.isAsyncNode;\n          otherChanges.Name = newName;\n          if (isAsyncNode) {\n            otherChanges.SelectBillPid = parentKeys;\n          } else {\n            otherChanges.SelectBillPid = undefined;\n          }\n        } else if (!newVal) {\n          // 如果清空了，则要恢复初始名称“关联表单”\n          otherChanges.Name = '关联表单';\n          otherChanges.SelectBillPid = undefined;\n        }\n      } else {\n        var _ref4 = nodes[0] || {},\n          _title = _ref4.title,\n          _parentKeys = _ref4.parentKeys,\n          _isAsyncNode = _ref4.isAsyncNode;\n        otherChanges.Name = _title;\n        otherChanges.SelectBillPid = _isAsyncNode ? _parentKeys : undefined;\n      }\n      updateBillProps(newVal, otherChanges);\n    }\n  };\n\n  /**\n   * 将内部表单转成外部表单\n   */\n  var change2OuterForm = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function () {\n    var actions = [[id, {\n      inner2Outer: true\n    }]];\n    dataContext.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUpdateAction)(actions));\n  }, [id, value, controlName]);\n\n  // 监听名称及inner2Outer属性的变化，实时更新标题\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    inner2Outer && setTreeData([{\n      key: value,\n      title: controlName,\n      isLeaf: true\n    }]);\n  }, [controlName, inner2Outer]);\n\n  // 初始化数据\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    if (SourceForm === '1') {\n      setTreeData([{\n        key: value || '',\n        title: inner2Outer ? controlName : '内部表单',\n        isLeaf: true\n      }]);\n    }\n  }, []);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"div\", {\n    className: prefixClass\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: Name,\n    tips: tips,\n    required: required,\n    title: title\n  }), SourceForm === '1' && !inner2Outer && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-title-btn\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_16__.BtnField, {\n    type: \"text\",\n    major: true,\n    onClick: change2OuterForm\n  }, \"\\u8F6C\\u5316\\u4E3A\\u5916\\u90E8\\u8868\\u5355\")), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-tree-select\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_11__.ConfigProvider, {\n    value: {\n      prefixCls: 'kd'\n    }\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_16__.KDTreeSelect, {\n    allowClear: true,\n    value: value,\n    treeData: treeData,\n    showTreeIcon: true,\n    disabled: isDisabled,\n    treeIcon: function treeIcon(props) {\n      return props.icon;\n    },\n    onChange: handleSelectForm,\n    treeLoadData: onLoadData,\n    treeDefaultExpandedKeys: SelectBillPid,\n    dropdownStyle: {\n      width: '320px'\n    }\n  }))));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().memo(RefBillTypeEditor));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDI3NTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBTUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9lZGl0b3JzL1JlZkJpbGxUeXBlRWRpdG9yL2luZGV4LnRzeD8yZmM2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog5bGe5oCn57yW6L6R5ZmoLeWFs+iBlOWFtuS7luihqOWNlVxuICovXG5pbXBvcnQgUmVhY3QsIHsgRkMsIHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IENvbmZpZ1Byb3ZpZGVyIGFzIEtVSUNvbmZpZ1Byb3ZpZGVyLCBJY29uIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IHsgTmFtZVRpcFdyYXBwZXIsIFByb3BlcnR5RWRpdG9yUHJvcHMsIGV2ZW50QnVzLCBjcmVhdGVVcGRhdGVBY3Rpb24sIGNyZWF0ZURlbGV0ZUFjdGlvbiB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQnXG5pbXBvcnQgeyBTRVRfUkVGX0JJTExfVFJFRV9EQVRBLCBTRVRfU1dJVENIX0ZJRUxEX1RZUEVTLCBTRVRfVFJFRV9OT0RFX0NISUxEUkVOIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL2FjdGlvbk5hbWUnXG5pbXBvcnQgeyBDQU5fU1dJVENIX0ZMRUxEVFlQRVMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMnXG5pbXBvcnQgeyBVUERBVEVfQVBQX0ZPUk1fTElTVCB9IGZyb20gJy4uLy4uL3JlZHVjZXIvcmVkdWNlQ29uc3RhbnRzJ1xuaW1wb3J0IHsgS0RUcmVlU2VsZWN0IGFzIFRyZWVTZWxlY3QsIEJ0bkZpZWxkIGFzIEJ1dHRvbiwgdHJlZVV0aWxzIH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcbi8vIGltcG9ydCB7IGlzUmVmQmlsbFRhYmxlLCBpc1JlZkJpbGwgfSBmcm9tICcuLi8uLi91dGlscy9jb250cm9sJ1xuaW1wb3J0IHsgdHJhbnNmb3JtVG9UcmVlIH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVmQmlsbEVkaXRvclV0aWxzJ1xuXG5jb25zdCB7IGRmcyB9ID0gdHJlZVV0aWxzXG5cbmNvbnN0IFJlZkJpbGxUeXBlRWRpdG9yOkZDPFByb3BlcnR5RWRpdG9yUHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaGFuZGxlQ2hhbmdlLCB2YWx1ZSwgY2xhc3NOYW1lLCBlZGl0b3IsIGxvY2tlZCwgTmFtZSwgVGlwczogdGlwcywgZmllbGQsIGlkLCBwcm9wTmFtZSB9ID0gcHJvcHNcbiAgY29uc3QgeyBOYW1lSGlkZGVuOiBuYW1lSGlkZGVuLCBSZXF1aXJlZDogcmVxdWlyZWQsIFRpdGxlOiB0aXRsZSB9ID0gZWRpdG9yXG4gIGNvbnN0IHsgRGF0YUZpbGw6IGRhdGFGaWxsLCBOYW1lOiBjb250cm9sTmFtZSwgU2VsZWN0QmlsbFBpZCwgUmVmVGFibGVJZCwgUmVmQmlsbElkLCBTaG93VHlwZSwgU291cmNlRm9ybSwgaW5uZXIyT3V0ZXIsIEtleTogY29udHJvbEtleSB9ID0gZmllbGQgfHwge31cbiAgY29uc3QgeyBpbnZva2VBY3Rpb24sIGdldEtkZXNpZ25lckFwaSwgcHJlZml4Q2xzLCBiaWxsUHJvcHNEYXRhLCBkaXNwYXRjaEJpbGxEYXRhIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcblxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0LCBjb250cm9sQ2FjaGVBcGkgfSA9IGdldEtkZXNpZ25lckFwaSgpXG4gIGNvbnN0IHByZWZpeENsYXNzID0gYCR7Y2xhc3NOYW1lfS1iaWxsLXR5cGVgXG4gIGNvbnN0IFt0cmVlRGF0YSwgc2V0VHJlZURhdGFdID0gdXNlU3RhdGUoWy4uLihiaWxsUHJvcHNEYXRhPy5hcHBGb3JtTGlzdCB8fCBbXSldKVxuICBjb25zdCBsb2FkRGF0YVJlc29sdmVGdW5jID0gdXNlUmVmPGFueT4obnVsbClcbiAgY29uc3QgbGF6eVVwZGF0ZUFwcElkID0gdXNlUmVmPGFueT4obnVsbClcbiAgY29uc3QgaXNOZXdDdHJsID0gdXNlUmVmKGNvbnRyb2xDYWNoZUFwaS5oYXNDYWNoZSgnY29udHJvbElkJywgaWQpKSAvLyDmmK/lkKbmmK/mlrDmjqfku7ZcbiAgY29uc3QgW2lzRGlzYWJsZWQsIHNldERpc2FibGVkXSA9IHVzZVN0YXRlKHRydWUpIC8vIOm7mOiupOS4uuS4jeWPr+WIh+aNoueahO+8jOmYsuatouagoemqjOaOpeWPo+e9kee7nOaKluWKqOiHtOS9v+eUqOaIt+WIh+aNouaOpeWPo1xuXG4gIC8vIGNvbnN0IHBpZCA9IHVzZVJlZigoaXNSZWZCaWxsKGZpZWxkVHlwZSkgJiYgUmVmVGFibGVJZCkgPyBSZWZUYWJsZUlkIDogaWQpXG5cbiAgLyoqXG4gICAqIOabtOaWsOWFs+iBlOihqOWNleS4i+aLieagkeeahOaVsOaNrlxuICAgKi9cbiAgY29uc3Qgc2V0Rm9ybU9wdGlvbnMgPSB1c2VDYWxsYmFjayh0cmVlUm9vdCA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiA9IFtdIH0gPSB0cmVlUm9vdFxuICAgIGNoaWxkcmVuWzBdLmljb24gPSA8SWNvbiBwcmVmaXg9J25vY29kZXBsYXRmb3JtaWNvbicgdHlwZT0nZ2VyZW56aG9uZ3hpbicgc3R5bGU9e3sgY29sb3I6ICcjMzk4N0VEJyB9fSAvPlxuICAgIGNoaWxkcmVuWzFdLmljb24gPSA8SWNvbiBwcmVmaXg9J25vY29kZXBsYXRmb3JtaWNvbicgdHlwZT0nenV6aGknIHN0eWxlPXt7IGNvbG9yOiAnIzM5ODdFRCcgfX0gLz5cbiAgICBjb25zdCBbZGF0YSwgaW5uZXJGb3JtXSA9IHRyYW5zZm9ybVRvVHJlZShjaGlsZHJlbilcbiAgICBjb25zb2xlLmxvZygnc2V0Rm9ybU9wdGlvbnMnLCBkYXRhLCBpbm5lckZvcm0pXG4gICAgZGlzcGF0Y2hCaWxsRGF0YSh7IGtleTogVVBEQVRFX0FQUF9GT1JNX0xJU1QsIHBheWxvYWQ6IHsgZGF0YSwgaW5uZXJGb3JtIH0gfSlcbiAgICBzZXRUcmVlRGF0YShkYXRhKVxuICB9LCBbXSlcblxuICAvKipcbiAgICog6K+35rGCRk9STeaVsOaNrlxuICAgKi9cbiAgY29uc3QgZmV0Y2hGb3JtT3B0aW9ucyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBhcmdzOiBhbnkgPSB7IHNob3dUcmVlOiAndHJ1ZScsIGlnbm9yZUNvc21pY0Zvcm06ICd0cnVlJyB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoU2VsZWN0QmlsbFBpZCkpIHtcbiAgICAgIGFyZ3MucGFyZW50SWQgPSBTZWxlY3RCaWxsUGlkW1NlbGVjdEJpbGxQaWQubGVuZ3RoIC0gMV1cbiAgICB9XG4gICAgU291cmNlRm9ybSA9PT0gJzInICYmIGludm9rZUFjdGlvbignY2xpY2snLCBbaWQsICdlbnRpdHltZXRhJywgcHJvcE5hbWUsIGFyZ3NdKVxuICB9LCBbU291cmNlRm9ybV0pXG5cbiAgY29uc3Qgc2V0Rm9ybURpc2FibGVkID0gdXNlQ2FsbGJhY2soKGRhdGEpID0+IHtcbiAgICAvLyBpZiAoKGlzUmVmQmlsbFRhYmxlKGZpZWxkVHlwZSkgfHwgKGlzUmVmQmlsbChmaWVsZFR5cGUpICYmIFJlZlRhYmxlSWQpKSAmJiBTb3VyY2VGb3JtID09PSAnMScpIHNldERpc2FibGVkKHRydWUpXG4gICAgY29uc3Qgc3dpdGNoRmllbGRUeXBlcyA9IGRhdGFbZmllbGQuS2V5XSB8fCBbXVxuICAgIGlmIChzd2l0Y2hGaWVsZFR5cGVzLmxlbmd0aCA9PT0gMCB8fCBTb3VyY2VGb3JtID09PSAnMScpIHtcbiAgICAgIHNldERpc2FibGVkKHRydWUpXG4gICAgfSBlbHNlIGlmIChzd2l0Y2hGaWVsZFR5cGVzPy5sZW5ndGggPiAwKSB7XG4gICAgICBzZXREaXNhYmxlZChmYWxzZSlcbiAgICB9XG4gIH0sIFtdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgU291cmNlRm9ybSAhPT0gJzEnICYmIGZldGNoRm9ybU9wdGlvbnMoKVxuICAgIC8vIOaWsOa3u+WKoOeahOaOp+S7tu+8jOS4lOS4jeaYr+WGhemDqOihqOWNle+8jOWPr+S7peWIh+aNolxuICAgIGlmIChpc05ld0N0cmwuY3VycmVudCAmJiBTb3VyY2VGb3JtICE9PSAnMScpIHNldERpc2FibGVkKGZhbHNlKVxuICAgIGlmICghaXNOZXdDdHJsLmN1cnJlbnQpIHtcbiAgICAgIC8vIOi/meS4quivt+axguWPr+S7peS4jeeUqOWPkei1t++8iOagh+mimOagj+S8muWPkeS4gOS4qkNBTl9TV0lUQ0hfRkxFTERUWVBFU+WQjOagt+eahOaMh+S7pO+8iVxuICAgICAgLy8gaW52b2tlQWN0aW9uKENBTl9TV0lUQ0hfRkxFTERUWVBFUywgW1tmaWVsZC5LZXksIGZpZWxkLkZpZWxkVHlwZV1dLCBbXSlcbiAgICAgIGV2ZW50QnVzLm9uKFNFVF9TV0lUQ0hfRklFTERfVFlQRVMsIHNldEZvcm1EaXNhYmxlZClcbiAgICB9XG4gICAgZXZlbnRCdXMub24oU0VUX1JFRl9CSUxMX1RSRUVfREFUQSwgc2V0Rm9ybU9wdGlvbnMpXG4gICAgZXZlbnRCdXMub24oU0VUX1RSRUVfTk9ERV9DSElMRFJFTiwgbGF6eVVwZGF0ZUFwcENoaWxkcmVuKVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoIWlzTmV3Q3RybC5jdXJyZW50KSB7XG4gICAgICAgIGV2ZW50QnVzLm9mZihTRVRfU1dJVENIX0ZJRUxEX1RZUEVTLCBzZXRGb3JtRGlzYWJsZWQpXG4gICAgICB9XG4gICAgICBldmVudEJ1cy5vZmYoU0VUX1JFRl9CSUxMX1RSRUVfREFUQSwgc2V0Rm9ybU9wdGlvbnMpXG4gICAgICBldmVudEJ1cy5vZmYoU0VUX1RSRUVfTk9ERV9DSElMRFJFTiwgbGF6eVVwZGF0ZUFwcENoaWxkcmVuKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmb3JtTmFtZSA9IHZhbHVlID8gKGRmcyh0cmVlRGF0YSwgKG5vZGU6IGFueSkgPT4gbm9kZS5rZXkgPT09IHZhbHVlKT8udGl0bGUgfHwgJ+WFs+iBlOihqOWNlScpIDogJ+WFs+iBlOihqOWNlSdcbiAgICBldmVudEJ1cy5lbWl0KGAke2NvbnRyb2xLZXl9X3JlZmJpbGxgLCB7IGZvcm1OYW1lIH0pXG4gIH0sIFt2YWx1ZSwgdHJlZURhdGFdKVxuXG4gIGNvbnN0IGxhenlVcGRhdGVBcHBDaGlsZHJlbiA9IChkYXRhOiBhbnlbXSkgPT4ge1xuICAgIHNldFRyZWVEYXRhKChvcmlnaW4pID0+IHVwZGF0ZVRyZWVEYXRhKG9yaWdpbiwgbGF6eVVwZGF0ZUFwcElkLmN1cnJlbnQsIHRyYW5zZm9ybVRvVHJlZShkYXRhLCB7IGlzQXN5bmNOb2RlOiB0cnVlIH0pWzBdKSlcbiAgICBsb2FkRGF0YVJlc29sdmVGdW5jLmN1cnJlbnQ/LigpXG4gICAgbG9hZERhdGFSZXNvbHZlRnVuYy5jdXJyZW50ID0gbnVsbFxuICB9XG5cbiAgY29uc3QgdXBkYXRlVHJlZURhdGEgPSAobGlzdCwga2V5LCBjaGlsZHJlbikgPT4ge1xuICAgIHJldHVybiBsaXN0Lm1hcCgobm9kZSkgPT4ge1xuICAgICAgaWYgKG5vZGUua2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuPy5sZW5ndGggPyB7IC4uLm5vZGUsIGNoaWxkcmVuLCBpc0xlYWY6IHRydWUgfSA6IHsgLi4ubm9kZSwgaXNMZWFmOiB0cnVlIH1cbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybiB7IC4uLm5vZGUsIGNoaWxkcmVuOiB1cGRhdGVUcmVlRGF0YShub2RlLmNoaWxkcmVuLCBrZXksIGNoaWxkcmVuKSB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9kZVxuICAgIH0pXG4gIH1cblxuICBjb25zdCBvbkxvYWREYXRhID0gKHsga2V5LCBjaGlsZHJlbiwgaXNMZWFmIH0pID0+IHtcbiAgICBjb25zb2xlLmxvZygnb25Mb2FkRGF0YS0tLS0tJylcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGlmIChjaGlsZHJlbiB8fCBpc0xlYWYpIHtcbiAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgbG9hZERhdGFSZXNvbHZlRnVuYy5jdXJyZW50ID0gcmVzb2x2ZVxuICAgICAgbGF6eVVwZGF0ZUFwcElkLmN1cnJlbnQgPSBrZXlcbiAgICAgIGludm9rZUFjdGlvbigncXVlcnlUcmVlTm9kZUNoaWxkcmVuJywgW2tleV0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiDmm7TmlrDorr7orqHlmajlsZ7mgKdcbiAgICog5YyF5ousQmlsbEVudGl0eUlkRXggUHJvcHNEaXNwbGF5XG4gICAqIOWmguaenOaYr+ihqOagvO+8jOWQjOaXtua4hemZpOihqOagvOWQjOaOp+S7tlxuICAgKi9cbiAgY29uc3QgdXBkYXRlQmlsbFByb3BzID0gdXNlQ2FsbGJhY2soKG5ld1ZhbCwgb3RoZXJDaGFuZ2VzKSA9PiB7XG4gICAgY29uc3QgcHJvcHMgPSB7IFtwcm9wTmFtZV06IG5ld1ZhbCwgUHJvcHNEaXNwbGF5OiAnJywgLi4ub3RoZXJDaGFuZ2VzIH1cbiAgICBjb25zdCBhY3Rpb25zID0gW1tpZCwgcHJvcHNdXVxuICAgIGlmIChTaG93VHlwZSA9PT0gJzInKSB7XG4gICAgICBjb25zdCBpZHMgPSBkYXRhQ29udGV4dC5nZXRBbGxTdWJDb250cm9sSWRzKGlkKS5maWx0ZXIoKGZpZWxkSWQ6c3RyaW5nKSA9PiBmaWVsZElkICE9PSBpZClcbiAgICAgIGRhdGFDb250ZXh0LmRlbGV0ZUNvbnRyb2woY3JlYXRlRGVsZXRlQWN0aW9uKGlkcykpXG4gICAgfVxuICAgIGRhdGFDb250ZXh0LmJhdGNoVXBkYXRlQ29udHJvbFByb3BlcnR5VmFsdWVzKGNyZWF0ZVVwZGF0ZUFjdGlvbihhY3Rpb25zKSlcbiAgfSwgW3Byb3BOYW1lLCBSZWZUYWJsZUlkLCBSZWZCaWxsSWQsIGlkLCBTaG93VHlwZV0pXG5cbiAgLyoqXG4gICAqIOagkemAieaLqeWZqOmAieaLqeS5i+WQjuWbnuiwg1xuICAgKiBAcGFyYW0gbmV3VmFsXG4gICAqIEBwYXJhbSBub2Rlc1xuICAgKi9cbiAgY29uc3QgaGFuZGxlU2VsZWN0Rm9ybSA9IChuZXdWYWw6IHN0cmluZywgbm9kZXM6IGFueVswXSkgPT4ge1xuICAgIGlmIChuZXdWYWwgIT09IHZhbHVlKSB7XG4gICAgICBjb25zdCBmb3JtTmFtZSA9IHZhbHVlID8gZGZzKHRyZWVEYXRhLCAobm9kZTogYW55KSA9PiBub2RlLmtleSA9PT0gdmFsdWUpPy50aXRsZSA6ICflhbPogZTooajljZUnXG4gICAgICBjb25zdCBvdGhlckNoYW5nZXM6IGFueSA9IHt9XG4gICAgICBpZiAoZm9ybU5hbWUgPT09IGNvbnRyb2xOYW1lKSB7XG4gICAgICAgIGlmIChuZXdWYWwpIHtcbiAgICAgICAgICBjb25zdCB7IHRpdGxlOiBuZXdOYW1lID0gJycsIHBhcmVudEtleXMsIGlzQXN5bmNOb2RlIH0gPSBub2Rlc1swXSB8fCB7fVxuICAgICAgICAgIG90aGVyQ2hhbmdlcy5OYW1lID0gbmV3TmFtZVxuICAgICAgICAgIGlmIChpc0FzeW5jTm9kZSkge1xuICAgICAgICAgICAgb3RoZXJDaGFuZ2VzLlNlbGVjdEJpbGxQaWQgPSBwYXJlbnRLZXlzXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG90aGVyQ2hhbmdlcy5TZWxlY3RCaWxsUGlkID0gdW5kZWZpbmVkXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFuZXdWYWwpIHtcbiAgICAgICAgICAvLyDlpoLmnpzmuIXnqbrkuobvvIzliJnopoHmgaLlpI3liJ3lp4vlkI3np7DigJzlhbPogZTooajljZXigJ1cbiAgICAgICAgICBvdGhlckNoYW5nZXMuTmFtZSA9ICflhbPogZTooajljZUnXG4gICAgICAgICAgb3RoZXJDaGFuZ2VzLlNlbGVjdEJpbGxQaWQgPSB1bmRlZmluZWRcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgeyB0aXRsZSwgcGFyZW50S2V5cywgaXNBc3luY05vZGUgfSA9IG5vZGVzWzBdIHx8IHt9XG4gICAgICAgIG90aGVyQ2hhbmdlcy5OYW1lID0gdGl0bGVcbiAgICAgICAgb3RoZXJDaGFuZ2VzLlNlbGVjdEJpbGxQaWQgPSBpc0FzeW5jTm9kZSA/IHBhcmVudEtleXMgOiB1bmRlZmluZWRcbiAgICAgIH1cbiAgICAgIHVwZGF0ZUJpbGxQcm9wcyhuZXdWYWwsIG90aGVyQ2hhbmdlcylcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5bCG5YaF6YOo6KGo5Y2V6L2s5oiQ5aSW6YOo6KGo5Y2VXG4gICAqL1xuICBjb25zdCBjaGFuZ2UyT3V0ZXJGb3JtID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IGFjdGlvbnMgPSBbW2lkLCB7IGlubmVyMk91dGVyOiB0cnVlIH1dXVxuICAgIGRhdGFDb250ZXh0LmJhdGNoVXBkYXRlQ29udHJvbFByb3BlcnR5VmFsdWVzKGNyZWF0ZVVwZGF0ZUFjdGlvbihhY3Rpb25zKSlcbiAgfSwgW2lkLCB2YWx1ZSwgY29udHJvbE5hbWVdKVxuXG4gIC8vIOebkeWQrOWQjeensOWPimlubmVyMk91dGVy5bGe5oCn55qE5Y+Y5YyW77yM5a6e5pe25pu05paw5qCH6aKYXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaW5uZXIyT3V0ZXIgJiYgc2V0VHJlZURhdGEoW3sga2V5OiB2YWx1ZSwgdGl0bGU6IGNvbnRyb2xOYW1lLCBpc0xlYWY6IHRydWUgfV0pXG4gIH0sIFtjb250cm9sTmFtZSwgaW5uZXIyT3V0ZXJdKVxuXG4gIC8vIOWIneWni+WMluaVsOaNrlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChTb3VyY2VGb3JtID09PSAnMScpIHtcbiAgICAgIHNldFRyZWVEYXRhKFt7IGtleTogdmFsdWUgfHwgJycsIHRpdGxlOiBpbm5lcjJPdXRlciA/IGNvbnRyb2xOYW1lIDogJ+WGhemDqOihqOWNlScsIGlzTGVhZjogdHJ1ZSB9XSlcbiAgICB9XG4gIH0sIFtdKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3ByZWZpeENsYXNzfT5cbiAgICAgIDxOYW1lVGlwV3JhcHBlciBuYW1lSGlkZGVuPXtuYW1lSGlkZGVufSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gbmFtZT17TmFtZX0gdGlwcz17dGlwc30gcmVxdWlyZWQ9e3JlcXVpcmVkfSB0aXRsZT17dGl0bGV9IC8+XG4gICAgICB7U291cmNlRm9ybSA9PT0gJzEnICYmICFpbm5lcjJPdXRlciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbGFzc30tdGl0bGUtYnRuYH0+XG4gICAgICAgICAgPEJ1dHRvbiB0eXBlPSd0ZXh0JyBtYWpvciBvbkNsaWNrPXtjaGFuZ2UyT3V0ZXJGb3JtfT7ovazljJbkuLrlpJbpg6jooajljZU8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsYXNzfS10cmVlLXNlbGVjdGB9PlxuICAgICAgICA8S1VJQ29uZmlnUHJvdmlkZXIgdmFsdWU9e3sgcHJlZml4Q2xzOiAna2QnIH19PlxuICAgICAgICAgIDxUcmVlU2VsZWN0XG4gICAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgICB0cmVlRGF0YT17dHJlZURhdGF9XG4gICAgICAgICAgICBzaG93VHJlZUljb25cbiAgICAgICAgICAgIGRpc2FibGVkPXtpc0Rpc2FibGVkfVxuICAgICAgICAgICAgdHJlZUljb249eyhwcm9wcykgPT4gcHJvcHMuaWNvbn1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVTZWxlY3RGb3JtfVxuICAgICAgICAgICAgdHJlZUxvYWREYXRhPXtvbkxvYWREYXRhfVxuICAgICAgICAgICAgdHJlZURlZmF1bHRFeHBhbmRlZEtleXM9e1NlbGVjdEJpbGxQaWR9XG4gICAgICAgICAgICBkcm9wZG93blN0eWxlPXt7XG4gICAgICAgICAgICAgIHdpZHRoOiAnMzIwcHgnXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvS1VJQ29uZmlnUHJvdmlkZXI+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBSZWFjdC5tZW1vKFJlZkJpbGxUeXBlRWRpdG9yKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///42752\n");

/***/ }),

/***/ 35868:
/*!******************************************************!*\
  !*** ./src/editors/RichTextDefValueEditor/index.tsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 24496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils */ 41232);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/control */ 3700);\n\n\n/*\n * @Description:\n * @Author: xiaoman_xie\n * @Date: 2023-05-25 16:13:39\n * @LastEditTime: 2023-09-08 15:18:45\n * @Last Modified by: xiaoman_xie\n */\n\n\n\n\n\n\n\nvar SRC_URL = window.__kd_cdnPath__ || window.__domainurl__;\nvar UPLOAD_URL = (0,_utils__WEBPACK_IMPORTED_MODULE_7__.getUrlWithDataCenter)(window.__domainurl__ + 'nocode/v2/nocode_sys/image');\nvar RichTextDefValueEditor = function RichTextDefValueEditor(props) {\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    Name = props.Name,\n    tips = props.Tips,\n    field = props.field;\n  var nameHidden = editor.NameHidden,\n    required = editor.Required,\n    title = editor.Title;\n  var type = field.FieldType;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context__WEBPACK_IMPORTED_MODULE_3__.DesignerContext),\n    _useContext$baseUrl = _useContext.baseUrl,\n    baseUrl = _useContext$baseUrl === void 0 ? {} : _useContext$baseUrl;\n  var contentRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useRef)('');\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    defVisible = _useState2[0],\n    setDefVisible = _useState2[1];\n  var prefixClass = \"\".concat(className, \"-richtext-def-editor\");\n  var isRichTextField = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n    return (0,_utils_control__WEBPACK_IMPORTED_MODULE_8__.isRichTextField)(type);\n  }, [type]);\n  var initValue = isRichTextField && (0,_utils__WEBPACK_IMPORTED_MODULE_7__.isJson)(value) ? (0,_utils__WEBPACK_IMPORTED_MODULE_7__.getDefValue)(value) : value;\n\n  /**\n   * 变更\n   */\n  var onChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (v) {\n    contentRef.current = v;\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    contentRef.current = initValue;\n  }, [initValue]);\n  var handleOpenModal = function handleOpenModal() {\n    setDefVisible(true);\n  };\n  var handleCloseModal = function handleCloseModal() {\n    setDefVisible(false);\n  };\n  var modalBody = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6__.RichText, {\n      width: 780\n      // height={386}\n      ,\n      toobarMode: \"scrolling\",\n      content: initValue,\n      srcUrl: SRC_URL,\n      imageUrlPrefix: window.origin,\n      imagesUploadUrl: UPLOAD_URL,\n      pictureServer: baseUrl.picture,\n      onChange: onChange,\n      resize: false,\n      hasFullScreen: false\n    }));\n  }, [initValue, baseUrl.picture, onChange]);\n  var handleSave = function handleSave() {\n    var content = contentRef.current;\n    var formatValue = _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_1___default()({\n      value: content,\n      valueType: 0\n    });\n    if (content !== formatValue) {\n      handleChange(isRichTextField ? formatValue : content);\n    }\n    setDefVisible(false);\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: prefixClass\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"\".concat(prefixClass, \"-name-tip\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: Name,\n    tips: tips,\n    required: required,\n    title: title\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6__.BtnField, {\n    className: \"\".concat(prefixClass, \"-edit-btn\"),\n    type: \"primary\",\n    text: \"\\u7F16\\u8F91\\u9ED8\\u8BA4\\u503C\",\n    onClick: handleOpenModal\n  }), defVisible && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_5__.Modal, {\n    width: 780,\n    height: 482,\n    className: \"\".concat(prefixClass, \"-modal\"),\n    visible: defVisible,\n    title: \"\".concat(isRichTextField ? '富文本' : '图文展示', \"-\\u9ED8\\u8BA4\\u503C\"),\n    body: modalBody,\n    onCancel: handleCloseModal,\n    footer: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n      className: \"\".concat(prefixClass, \"-footer\")\n    }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6__.BtnField, {\n      size: \"small\",\n      style: {\n        marginRight: '12px'\n      },\n      onClick: handleCloseModal\n    }, \"\\u53D6\\u6D88\"), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_6__.BtnField, {\n      size: \"small\",\n      type: \"primary\",\n      onClick: handleSave\n    }, \"\\u786E\\u5B9A\"))\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.memo)(RichTextDefValueEditor));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzU4NjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFNQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2VkaXRvcnMvUmljaFRleHREZWZWYWx1ZUVkaXRvci9pbmRleC50c3g/NDBiMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogeGlhb21hbl94aWVcbiAqIEBEYXRlOiAyMDIzLTA1LTI1IDE2OjEzOjM5XG4gKiBATGFzdEVkaXRUaW1lOiAyMDIzLTA5LTA4IDE1OjE4OjQ1XG4gKiBATGFzdCBNb2RpZmllZCBieTogeGlhb21hbl94aWVcbiAqL1xuaW1wb3J0IFJlYWN0LCB7IG1lbW8sIHVzZU1lbW8sIHVzZUNvbnRleHQsIHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQnXG5pbXBvcnQgeyBOYW1lVGlwV3JhcHBlciwgUHJvcGVydHlFZGl0b3JQcm9wcyB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IE1vZGFsIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IHsgUmljaFRleHQsIEJ0bkZpZWxkIGFzIEJ1dHRvbiB9IGZyb20gJ25vY29kZV9jb21wb25lbnQvV2ViVUknXG5pbXBvcnQgeyBnZXREZWZWYWx1ZSwgZ2V0VXJsV2l0aERhdGFDZW50ZXIsIGlzSnNvbiB9IGZyb20gJy4uLy4uL3V0aWxzJ1xuaW1wb3J0IHsgaXNSaWNoVGV4dEZpZWxkIGFzIGp1ZGdlUmljaHRleHQgfSBmcm9tICcuLi8uLi91dGlscy9jb250cm9sJ1xuXG5jb25zdCBTUkNfVVJMID0gd2luZG93Ll9fa2RfY2RuUGF0aF9fIHx8IHdpbmRvdy5fX2RvbWFpbnVybF9fXG5jb25zdCBVUExPQURfVVJMID0gZ2V0VXJsV2l0aERhdGFDZW50ZXIod2luZG93Ll9fZG9tYWludXJsX18gKyAnbm9jb2RlL3YyL25vY29kZV9zeXMvaW1hZ2UnKVxuXG5jb25zdCBSaWNoVGV4dERlZlZhbHVlRWRpdG9yOiBSZWFjdC5GQzxQcm9wZXJ0eUVkaXRvclByb3BzPiA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7IGhhbmRsZUNoYW5nZSwgdmFsdWUsIGNsYXNzTmFtZSwgZWRpdG9yLCBOYW1lLCBUaXBzOiB0aXBzLCBmaWVsZCB9ID0gcHJvcHNcbiAgY29uc3QgeyBOYW1lSGlkZGVuOiBuYW1lSGlkZGVuLCBSZXF1aXJlZDogcmVxdWlyZWQsIFRpdGxlOiB0aXRsZSB9ID0gZWRpdG9yXG4gIGNvbnN0IHsgRmllbGRUeXBlOiB0eXBlIH0gPSBmaWVsZFxuICBjb25zdCB7IGJhc2VVcmwgPSB7fSB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IGNvbnRlbnRSZWYgPSB1c2VSZWYoJycpXG4gIGNvbnN0IFtkZWZWaXNpYmxlLCBzZXREZWZWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBwcmVmaXhDbGFzcyA9IGAke2NsYXNzTmFtZX0tcmljaHRleHQtZGVmLWVkaXRvcmBcblxuICBjb25zdCBpc1JpY2hUZXh0RmllbGQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4ganVkZ2VSaWNodGV4dCh0eXBlKVxuICB9LCBbdHlwZV0pXG5cbiAgY29uc3QgaW5pdFZhbHVlID0gaXNSaWNoVGV4dEZpZWxkICYmIGlzSnNvbih2YWx1ZSkgPyBnZXREZWZWYWx1ZSh2YWx1ZSkgOiB2YWx1ZVxuXG4gIC8qKlxuICAgKiDlj5jmm7RcbiAgICovXG4gIGNvbnN0IG9uQ2hhbmdlID0gdXNlQ2FsbGJhY2soKHY6IHN0cmluZykgPT4ge1xuICAgIGNvbnRlbnRSZWYuY3VycmVudCA9IHZcbiAgfSwgW10pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb250ZW50UmVmLmN1cnJlbnQgPSBpbml0VmFsdWVcbiAgfSwgW2luaXRWYWx1ZV0pXG5cbiAgY29uc3QgaGFuZGxlT3Blbk1vZGFsID0gKCkgPT4ge1xuICAgIHNldERlZlZpc2libGUodHJ1ZSlcbiAgfVxuICBjb25zdCBoYW5kbGVDbG9zZU1vZGFsID0gKCkgPT4ge1xuICAgIHNldERlZlZpc2libGUoZmFsc2UpXG4gIH1cblxuICBjb25zdCBtb2RhbEJvZHkgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPFJpY2hUZXh0XG4gICAgICAgICAgd2lkdGg9ezc4MH1cbiAgICAgICAgICAvLyBoZWlnaHQ9ezM4Nn1cbiAgICAgICAgICB0b29iYXJNb2RlPSdzY3JvbGxpbmcnXG4gICAgICAgICAgY29udGVudD17aW5pdFZhbHVlfVxuICAgICAgICAgIHNyY1VybD17U1JDX1VSTH1cbiAgICAgICAgICBpbWFnZVVybFByZWZpeD17d2luZG93Lm9yaWdpbn1cbiAgICAgICAgICBpbWFnZXNVcGxvYWRVcmw9e1VQTE9BRF9VUkx9XG4gICAgICAgICAgcGljdHVyZVNlcnZlcj17YmFzZVVybC5waWN0dXJlfVxuICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICByZXNpemU9e2ZhbHNlfVxuICAgICAgICAgIGhhc0Z1bGxTY3JlZW49e2ZhbHNlfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9LCBbaW5pdFZhbHVlLCBiYXNlVXJsLnBpY3R1cmUsIG9uQ2hhbmdlXSlcblxuICBjb25zdCBoYW5kbGVTYXZlID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBjb250ZW50UmVmLmN1cnJlbnRcbiAgICBjb25zdCBmb3JtYXRWYWx1ZSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHZhbHVlOiBjb250ZW50LFxuICAgICAgdmFsdWVUeXBlOiAwXG4gICAgfSlcbiAgICBpZiAoY29udGVudCAhPT0gZm9ybWF0VmFsdWUpIHtcbiAgICAgIGhhbmRsZUNoYW5nZShpc1JpY2hUZXh0RmllbGQgPyBmb3JtYXRWYWx1ZSA6IGNvbnRlbnQpXG4gICAgfVxuICAgIHNldERlZlZpc2libGUoZmFsc2UpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcmVmaXhDbGFzc30+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xhc3N9LW5hbWUtdGlwYH0+XG4gICAgICAgIDxOYW1lVGlwV3JhcHBlciBuYW1lSGlkZGVuPXtuYW1lSGlkZGVufSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gbmFtZT17TmFtZX0gdGlwcz17dGlwc30gcmVxdWlyZWQ9e3JlcXVpcmVkfSB0aXRsZT17dGl0bGV9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxCdXR0b24gY2xhc3NOYW1lPXtgJHtwcmVmaXhDbGFzc30tZWRpdC1idG5gfSB0eXBlPSdwcmltYXJ5JyB0ZXh0PSfnvJbovpHpu5jorqTlgLwnIG9uQ2xpY2s9e2hhbmRsZU9wZW5Nb2RhbH0gLz5cbiAgICAgIHtcbiAgICAgICAgZGVmVmlzaWJsZSAmJiAoXG4gICAgICAgICAgPE1vZGFsXG4gICAgICAgICAgICB3aWR0aD17NzgwfVxuICAgICAgICAgICAgaGVpZ2h0PXs0ODJ9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2Ake3ByZWZpeENsYXNzfS1tb2RhbGB9XG4gICAgICAgICAgICB2aXNpYmxlPXtkZWZWaXNpYmxlfVxuICAgICAgICAgICAgdGl0bGU9e2Ake2lzUmljaFRleHRGaWVsZCA/ICflr4zmlofmnKwnIDogJ+WbvuaWh+Wxleekuid9Lem7mOiupOWAvGB9XG4gICAgICAgICAgICBib2R5PXttb2RhbEJvZHl9XG4gICAgICAgICAgICBvbkNhbmNlbD17aGFuZGxlQ2xvc2VNb2RhbH1cbiAgICAgICAgICAgIGZvb3Rlcj17KFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xhc3N9LWZvb3RlcmB9PlxuICAgICAgICAgICAgICAgIDxCdXR0b24gc2l6ZT0nc21hbGwnIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnMTJweCcgfX0gb25DbGljaz17aGFuZGxlQ2xvc2VNb2RhbH0+5Y+W5raIPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBzaXplPSdzbWFsbCcgdHlwZT0ncHJpbWFyeScgb25DbGljaz17aGFuZGxlU2F2ZX0+56Gu5a6aPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWVtbyhSaWNoVGV4dERlZlZhbHVlRWRpdG9yKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///35868\n");

/***/ }),

/***/ 7544:
/*!********************************************!*\
  !*** ./src/editors/SelectOptionEditor.tsx ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 24496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _BaseDefValueEditor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BaseDefValueEditor */ 41732);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-09-08 15:45:37\n * @LastEditTime: 2023-08-25 16:24:07\n * @Last Modified by: jianhang_he\n */\n\n\n\nvar SelectOptionEditor = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.memo)(function (props) {\n  var locked = props.locked,\n    editor = props.editor,\n    field = props.field,\n    handleChange = props.handleChange,\n    value = props.value,\n    className = props.className;\n  var _editor$Relationprope = editor.Relationproperty,\n    Relationproperty = _editor$Relationprope === void 0 ? 'CustomContent' : _editor$Relationprope;\n  var _ref = field || {},\n    customContentData = _ref[Relationproperty],\n    SelectItemType = _ref.SelectItemType,\n    _ref$AllowClear = _ref.AllowClear,\n    allowClear = _ref$AllowClear === void 0 ? true : _ref$AllowClear;\n  var options = Array.isArray(customContentData) ? customContentData : (customContentData === null || customContentData === void 0 ? void 0 : customContentData.ops) || [];\n  var newOptions = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(function () {\n    var _context;\n    return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(_context = (options === null || options === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default()(options).call(options, function (item) {\n      return {\n        label: item.Label,\n        value: item.Value\n      };\n    })) || []).call(_context, function (item) {\n      return item.label;\n    });\n  }, [options]);\n  var isMultiple = SelectItemType == 1;\n  var _handleChange = function _handleChange(value) {\n    if (locked) return;\n    handleChange(value);\n  };\n\n  // 选项被清空的时候，对应的默认值也应该清空\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(function () {\n    if (value && newOptions.length) {\n      var valueObject = JSON.parse(value) || {};\n      var selectedValue = valueObject.value;\n      var newSelectedValueList = (selectedValue === null || selectedValue === void 0 ? void 0 : selectedValue.split(',')) || [];\n      if (newSelectedValueList.length) {\n        // 存在的选项value\n        var exsitOptionValueList = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default()(newOptions).call(newOptions, function (item) {\n          return item.value;\n        });\n        newSelectedValueList = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(newSelectedValueList).call(newSelectedValueList, function (item) {\n          return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default()(exsitOptionValueList).call(exsitOptionValueList, item);\n        });\n        if (newSelectedValueList.length) {\n          var newSelectedValue = newSelectedValueList.join(',');\n          // 有变化的时候才更新\n          if (selectedValue !== newSelectedValue) {\n            valueObject.value = newSelectedValue;\n            _handleChange(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_5___default()(valueObject));\n          }\n        } else {\n          _handleChange('');\n        }\n      }\n    }\n  }, [newOptions]);\n  var getRenderValue = function getRenderValue(value) {\n    if (isMultiple) {\n      if ((0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_8__.isEmpty)(value)) return [];\n      return value === null || value === void 0 ? void 0 : value.split(',');\n    } else {\n      if ((0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_8__.isEmpty)(value)) return '';\n      return value;\n    }\n  };\n  var inputFieldProps = (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    className: \"\".concat(className, \"-select-def-editor\"),\n    scrollHidden: false,\n    disabled: locked,\n    placeholder: '请选择',\n    borderType: 'bordered',\n    allowClear: allowClear,\n    onChange: _handleChange,\n    mode: isMultiple ? 'multiple' : 'single',\n    options: newOptions,\n    fieldType: 'combo'\n  }, \"placeholder\", '请选择');\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_BaseDefValueEditor__WEBPACK_IMPORTED_MODULE_7__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n    handleChange: _handleChange,\n    getRenderValue: getRenderValue,\n    editorType: \"selectDef\",\n    inputFieldProps: inputFieldProps\n  }));\n});\nSelectOptionEditor.displayName = 'SelectOptionEditor';\n/* harmony default export */ __webpack_exports__[\"default\"] = (SelectOptionEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzU0NC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9TZWxlY3RPcHRpb25FZGl0b3IudHN4PzEwMTQiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0wOS0wOCAxNTo0NTozN1xuICogQExhc3RFZGl0VGltZTogMjAyMy0wOC0yNSAxNjoyNDowN1xuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCwgeyBGQywgdXNlTWVtbywgbWVtbywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBQcm9wZXJ0eUVkaXRvclByb3BzIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IEJhc2VEZWZWYWx1ZUVkaXRvciBmcm9tICcuL0Jhc2VEZWZWYWx1ZUVkaXRvcidcbmltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICdsb2Rhc2gnXG5cbmNvbnN0IFNlbGVjdE9wdGlvbkVkaXRvcjogRkM8UHJvcGVydHlFZGl0b3JQcm9wcz4gPSBtZW1vKChwcm9wcykgPT4ge1xuICBjb25zdCB7IGxvY2tlZCwgZWRpdG9yLCBmaWVsZCwgaGFuZGxlQ2hhbmdlLCB2YWx1ZSwgY2xhc3NOYW1lIH0gPSBwcm9wc1xuICBjb25zdCB7IFJlbGF0aW9ucHJvcGVydHkgPSAnQ3VzdG9tQ29udGVudCcgfSA9IGVkaXRvclxuICBjb25zdCB7XG4gICAgW1JlbGF0aW9ucHJvcGVydHldOiBjdXN0b21Db250ZW50RGF0YSwgU2VsZWN0SXRlbVR5cGUsIEFsbG93Q2xlYXI6IGFsbG93Q2xlYXIgPSB0cnVlXG4gIH0gPSBmaWVsZCB8fCB7fVxuXG4gIGNvbnN0IG9wdGlvbnMgPSBBcnJheS5pc0FycmF5KGN1c3RvbUNvbnRlbnREYXRhKSA/IGN1c3RvbUNvbnRlbnREYXRhIDogY3VzdG9tQ29udGVudERhdGE/Lm9wcyB8fCBbXVxuXG4gIGNvbnN0IG5ld09wdGlvbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gKG9wdGlvbnM/Lm1hcChpdGVtID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhYmVsOiBpdGVtLkxhYmVsLFxuICAgICAgICB2YWx1ZTogaXRlbS5WYWx1ZVxuICAgICAgfVxuICAgIH0pIHx8IFtdKS5maWx0ZXIoaXRlbSA9PiBpdGVtLmxhYmVsKVxuICB9LCBbb3B0aW9uc10pXG5cbiAgY29uc3QgaXNNdWx0aXBsZSA9IFNlbGVjdEl0ZW1UeXBlID09IDFcblxuICBjb25zdCBfaGFuZGxlQ2hhbmdlID0gKHZhbHVlOiBhbnkpID0+IHtcbiAgICBpZiAobG9ja2VkKSByZXR1cm5cbiAgICBoYW5kbGVDaGFuZ2UodmFsdWUpXG4gIH1cblxuICAvLyDpgInpobnooqvmuIXnqbrnmoTml7blgJnvvIzlr7nlupTnmoTpu5jorqTlgLzkuZ/lupTor6XmuIXnqbpcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodmFsdWUgJiYgbmV3T3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHZhbHVlT2JqZWN0ID0gSlNPTi5wYXJzZSh2YWx1ZSkgfHwge31cbiAgICAgIGNvbnN0IHsgdmFsdWU6IHNlbGVjdGVkVmFsdWUgfSA9IHZhbHVlT2JqZWN0XG5cbiAgICAgIGxldCBuZXdTZWxlY3RlZFZhbHVlTGlzdCA9IHNlbGVjdGVkVmFsdWU/LnNwbGl0KCcsJykgfHwgW11cbiAgICAgIGlmIChuZXdTZWxlY3RlZFZhbHVlTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgLy8g5a2Y5Zyo55qE6YCJ6aG5dmFsdWVcbiAgICAgICAgY29uc3QgZXhzaXRPcHRpb25WYWx1ZUxpc3QgPSBuZXdPcHRpb25zLm1hcChpdGVtID0+IGl0ZW0udmFsdWUpXG4gICAgICAgIG5ld1NlbGVjdGVkVmFsdWVMaXN0ID0gbmV3U2VsZWN0ZWRWYWx1ZUxpc3QuZmlsdGVyKGl0ZW0gPT4gZXhzaXRPcHRpb25WYWx1ZUxpc3QuaW5jbHVkZXMoaXRlbSkpXG5cbiAgICAgICAgaWYgKG5ld1NlbGVjdGVkVmFsdWVMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IG5ld1NlbGVjdGVkVmFsdWUgPSBuZXdTZWxlY3RlZFZhbHVlTGlzdC5qb2luKCcsJylcbiAgICAgICAgICAvLyDmnInlj5jljJbnmoTml7blgJnmiY3mm7TmlrBcbiAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSAhPT0gbmV3U2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgdmFsdWVPYmplY3QudmFsdWUgPSBuZXdTZWxlY3RlZFZhbHVlXG5cbiAgICAgICAgICAgIF9oYW5kbGVDaGFuZ2UoSlNPTi5zdHJpbmdpZnkodmFsdWVPYmplY3QpKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfaGFuZGxlQ2hhbmdlKCcnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbbmV3T3B0aW9uc10pXG5cbiAgY29uc3QgZ2V0UmVuZGVyVmFsdWUgPSAodmFsdWU6IHN0cmluZykgPT4ge1xuICAgIGlmIChpc011bHRpcGxlKSB7XG4gICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHJldHVybiBbXVxuICAgICAgcmV0dXJuIHZhbHVlPy5zcGxpdCgnLCcpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc0VtcHR5KHZhbHVlKSkgcmV0dXJuICcnXG4gICAgICByZXR1cm4gdmFsdWVcbiAgICB9XG4gIH1cblxuICBjb25zdCBpbnB1dEZpZWxkUHJvcHMgPSB7XG4gICAgY2xhc3NOYW1lOiBgJHtjbGFzc05hbWV9LXNlbGVjdC1kZWYtZWRpdG9yYCxcbiAgICBzY3JvbGxIaWRkZW46IGZhbHNlLFxuICAgIGRpc2FibGVkOiBsb2NrZWQsXG4gICAgcGxhY2Vob2xkZXI6ICfor7fpgInmi6knLFxuICAgIGJvcmRlclR5cGU6ICdib3JkZXJlZCcsXG4gICAgYWxsb3dDbGVhcixcbiAgICBvbkNoYW5nZTogX2hhbmRsZUNoYW5nZSxcbiAgICBtb2RlOiBpc011bHRpcGxlID8gJ211bHRpcGxlJyA6ICdzaW5nbGUnLFxuICAgIG9wdGlvbnM6IG5ld09wdGlvbnMsXG4gICAgZmllbGRUeXBlOiAnY29tYm8nLFxuICAgIHBsYWNlaG9sZGVyOiAn6K+36YCJ5oupJ1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8QmFzZURlZlZhbHVlRWRpdG9yXG4gICAgICB7Li4ucHJvcHN9XG4gICAgICBoYW5kbGVDaGFuZ2U9e19oYW5kbGVDaGFuZ2V9XG4gICAgICBnZXRSZW5kZXJWYWx1ZT17Z2V0UmVuZGVyVmFsdWV9XG4gICAgICBlZGl0b3JUeXBlPSdzZWxlY3REZWYnXG4gICAgICBpbnB1dEZpZWxkUHJvcHM9e2lucHV0RmllbGRQcm9wc31cbiAgICAvPlxuICApXG59KVxuXG5TZWxlY3RPcHRpb25FZGl0b3IuZGlzcGxheU5hbWUgPSAnU2VsZWN0T3B0aW9uRWRpdG9yJ1xuXG5leHBvcnQgZGVmYXVsdCBTZWxlY3RPcHRpb25FZGl0b3JcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7544\n");

/***/ }),

/***/ 63856:
/*!********************************************!*\
  !*** ./src/editors/SwitchSelectEditor.tsx ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\nvar NONE_VALUE = 'none';\nvar SwitchSelectEditor = function SwitchSelectEditor(props) {\n  var _context, _items$;\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    name = props.Name,\n    tips = props.Tips;\n  var _items = editor.Enum,\n    nameHidden = editor.NameHidden,\n    Default = editor.Default,\n    required = editor.Required,\n    title = editor.Title;\n  var items = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(_items).call(_items, function (item) {\n    return item.Id !== NONE_VALUE;\n  })).call(_context, function (item) {\n    return (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, item, {\n      Value: item.Value || item.Id\n    });\n  });\n  var editorValue = (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_6__.isUndefined)(value) ? Default || ((_items$ = items[0]) === null || _items$ === void 0 ? void 0 : _items$.Value) : String(value);\n  var isTabHidden = editorValue === NONE_VALUE;\n  var handleSwitchChange = function handleSwitchChange() {\n    if (locked) return;\n    var checked = editorValue !== NONE_VALUE;\n    var newValue = checked ? NONE_VALUE : items[0].Value || '';\n    handleChange(newValue);\n  };\n  var handleTabChange = function handleTabChange(newVal) {\n    handleChange(newVal);\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-switch-select\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-switch-wrap\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_4__.Switch, {\n    checked: editorValue !== NONE_VALUE,\n    size: \"large\",\n    disabled: locked,\n    onClick: function onClick() {\n      return handleSwitchChange();\n    }\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_7___default()(\"\".concat(className, \"-tab-wrap\"), {\n      'is-hidden': isTabHidden\n    })\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default()(items).call(items, function (item) {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n      key: item.Value,\n      className: classnames__WEBPACK_IMPORTED_MODULE_7___default()([\"\".concat(className, \"-tab-item\"), {\n        'is-active': editorValue === item.Value\n      }]),\n      onClick: function onClick() {\n        return handleTabChange(item.Value);\n      }\n    }, item.Name);\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (SwitchSelectEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjM4NTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFJQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2VkaXRvcnMvU3dpdGNoU2VsZWN0RWRpdG9yLnRzeD85NWUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBGQyB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBTd2l0Y2ggfSBmcm9tICdAa2RjbG91ZGpzL2tkZXNpZ24nXHJcbmltcG9ydCB7IE5hbWVUaXBXcmFwcGVyLCBQcm9wZXJ0eUVkaXRvclByb3BzIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xyXG5pbXBvcnQgeyBpc1VuZGVmaW5lZCB9IGZyb20gJ2xvZGFzaCdcclxuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcydcclxuXHJcbmNvbnN0IE5PTkVfVkFMVUUgPSAnbm9uZSdcclxuXHJcbmNvbnN0IFN3aXRjaFNlbGVjdEVkaXRvcjogRkM8UHJvcGVydHlFZGl0b3JQcm9wcz4gPSAocHJvcHMpID0+IHtcclxuICBjb25zdCB7IGhhbmRsZUNoYW5nZSwgdmFsdWUsIGNsYXNzTmFtZSwgZWRpdG9yLCBsb2NrZWQsIE5hbWU6IG5hbWUsIFRpcHM6IHRpcHMgfSA9IHByb3BzXHJcbiAgY29uc3QgeyBFbnVtOiBfaXRlbXMsIE5hbWVIaWRkZW46IG5hbWVIaWRkZW4sIERlZmF1bHQsIFJlcXVpcmVkOiByZXF1aXJlZCwgVGl0bGU6IHRpdGxlIH0gPSBlZGl0b3JcclxuICBjb25zdCBpdGVtcyA9IF9pdGVtcy5maWx0ZXIoKGl0ZW06IGFueSkgPT4gaXRlbS5JZCAhPT0gTk9ORV9WQUxVRSkubWFwKGl0ZW0gPT4ge1xyXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIHtcclxuICAgICAgVmFsdWU6IGl0ZW0uVmFsdWUgfHwgaXRlbS5JZFxyXG4gICAgfSlcclxuICB9KVxyXG4gIGNvbnN0IGVkaXRvclZhbHVlID0gaXNVbmRlZmluZWQodmFsdWUpID8gKERlZmF1bHQgfHwgaXRlbXNbMF0/LlZhbHVlKSA6IFN0cmluZyh2YWx1ZSlcclxuICBjb25zdCBpc1RhYkhpZGRlbiA9IGVkaXRvclZhbHVlID09PSBOT05FX1ZBTFVFXHJcblxyXG4gIGNvbnN0IGhhbmRsZVN3aXRjaENoYW5nZSA9ICgpID0+IHtcclxuICAgIGlmIChsb2NrZWQpIHJldHVyblxyXG4gICAgY29uc3QgY2hlY2tlZCA9IGVkaXRvclZhbHVlICE9PSBOT05FX1ZBTFVFXHJcbiAgICBjb25zdCBuZXdWYWx1ZSA9IGNoZWNrZWQgPyBOT05FX1ZBTFVFIDogKGl0ZW1zWzBdLlZhbHVlIHx8ICcnKVxyXG4gICAgaGFuZGxlQ2hhbmdlKG5ld1ZhbHVlKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgaGFuZGxlVGFiQ2hhbmdlID0gKG5ld1ZhbDogc3RyaW5nIHwgbnVtYmVyKSA9PiB7XHJcbiAgICBoYW5kbGVDaGFuZ2UobmV3VmFsKVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9LXN3aXRjaC1zZWxlY3RgfT5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake2NsYXNzTmFtZX0tc3dpdGNoLXdyYXBgfT5cclxuICAgICAgICA8TmFtZVRpcFdyYXBwZXIgbmFtZUhpZGRlbj17bmFtZUhpZGRlbn0gY2xhc3NOYW1lPXtjbGFzc05hbWV9IG5hbWU9e25hbWV9IHRpcHM9e3RpcHN9IHJlcXVpcmVkPXtyZXF1aXJlZH0gdGl0bGU9e3RpdGxlfSAvPlxyXG4gICAgICAgIDxTd2l0Y2hcclxuICAgICAgICAgIGNoZWNrZWQ9e2VkaXRvclZhbHVlICE9PSBOT05FX1ZBTFVFfVxyXG4gICAgICAgICAgc2l6ZT0nbGFyZ2UnXHJcbiAgICAgICAgICBkaXNhYmxlZD17bG9ja2VkfVxyXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3dpdGNoQ2hhbmdlKCl9XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGAke2NsYXNzTmFtZX0tdGFiLXdyYXBgLCB7ICdpcy1oaWRkZW4nOiBpc1RhYkhpZGRlbiB9KX0+XHJcbiAgICAgICAge2l0ZW1zLm1hcCgoaXRlbTogYW55KSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAga2V5PXtpdGVtLlZhbHVlfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhbYCR7Y2xhc3NOYW1lfS10YWItaXRlbWAsIHsgJ2lzLWFjdGl2ZSc6IGVkaXRvclZhbHVlID09PSBpdGVtLlZhbHVlIH1dKX1cclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVUYWJDaGFuZ2UoaXRlbS5WYWx1ZSl9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7aXRlbS5OYW1lfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIClcclxuICAgICAgICB9KX1cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN3aXRjaFNlbGVjdEVkaXRvclxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///63856\n");

/***/ }),

/***/ 90292:
/*!*****************************************!*\
  !*** ./src/editors/TabEditor/index.tsx ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ 71252);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _constants_actionName__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../constants/actionName */ 82964);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../context */ 90115);\n\n\n\n/*\n * @Description:\n * @Author: john_xin_gu\n * @Date: 2023-10-17 14:54:26\n * @LastEditTime: 2023-11-08 16:50:38\n * @Last Modified by: john_xin_gu\n */\n\n\n\n\n\n\nvar TabPropertyEditor = function TabPropertyEditor(props) {\n  var _items$;\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    name = props.Name,\n    tips = props.Tips,\n    renderItem = props.renderItem,\n    field = props.field,\n    id = props.id;\n  var _items = editor.Enum,\n    nameHidden = editor.NameHidden,\n    Default = editor.Default,\n    required = editor.Required,\n    title = editor.Title;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_context__WEBPACK_IMPORTED_MODULE_8__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var _getKdesignerApi = getKdesignerApi(),\n    controlCacheApi = _getKdesignerApi.controlCacheApi;\n  var items = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default()(_items).call(_items, function (item) {\n    return (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, item, {\n      Value: item.Value || item.Id\n    });\n  });\n  var activeValue = (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_6__.isUndefined)(value) ? Default || ((_items$ = items[0]) === null || _items$ === void 0 ? void 0 : _items$.Value) : String(value);\n  var isNewAddControl = controlCacheApi.hasCache('controlId', id);\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useState)(!!(props.Id === 'Multi' && !isNewAddControl)),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    isDisabled = _useState2[0],\n    setDisabled = _useState2[1];\n  var setTabDisabled = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (data) {\n    var switchFieldTypes = data[field.Key] || [];\n    if (switchFieldTypes.length === 0) {\n      setDisabled(true);\n      return;\n    }\n    if ((switchFieldTypes === null || switchFieldTypes === void 0 ? void 0 : switchFieldTypes.length) > 0) {\n      setDisabled(false);\n    }\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    if (props.Id === 'Multi' && !isNewAddControl) {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_7__.SET_SWITCH_FIELD_TYPES, setTabDisabled);\n      return function () {\n        designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_7__.SET_SWITCH_FIELD_TYPES, setTabDisabled);\n      };\n    }\n  }, []);\n  var handleTabChange = function handleTabChange(newVal) {\n    if (!isDisabled) {\n      handleChange(newVal);\n    }\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.NameTipWrapper, {\n    nameHidden: nameHidden,\n    className: className,\n    name: name,\n    tips: tips,\n    required: required,\n    title: title\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-tab-editor\")\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default()(items).call(items, function (item) {\n    var iconClassName = item.IconClassName,\n      iconTitle = item.IconTitle;\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n      key: item.Value,\n      disabled: isDisabled,\n      className: classnames__WEBPACK_IMPORTED_MODULE_4___default()([\"\".concat(className, \"-tab-editor-item\"), {\n        'is-active': activeValue === item.Value,\n        'is-disabled': isDisabled === true\n      }]),\n      onClick: function onClick() {\n        return handleTabChange(item.Value);\n      },\n      title: iconClassName && iconTitle\n    }, renderItem ? renderItem(item) : iconClassName ? /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"i\", {\n      className: iconClassName\n    }) : item.Name);\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (TabPropertyEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTAyOTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBR0E7QUFJQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2VkaXRvcnMvVGFiRWRpdG9yL2luZGV4LnRzeD9lNzUyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqb2huX3hpbl9ndVxuICogQERhdGU6IDIwMjMtMTAtMTcgMTQ6NTQ6MjZcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMTEtMDggMTY6NTA6MzhcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqb2huX3hpbl9ndVxuICovXG5pbXBvcnQgUmVhY3QsIHsgRkMsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xuaW1wb3J0IHsgTmFtZVRpcFdyYXBwZXIsIFByb3BlcnR5RWRpdG9yUHJvcHMsIGV2ZW50QnVzIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgeyBTRVRfU1dJVENIX0ZJRUxEX1RZUEVTIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL2FjdGlvbk5hbWUnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0J1xuXG5jb25zdCBUYWJQcm9wZXJ0eUVkaXRvcjogRkM8UHJvcGVydHlFZGl0b3JQcm9wcz4gPSAocHJvcHM6IFByb3BlcnR5RWRpdG9yUHJvcHMpID0+IHtcbiAgY29uc3QgeyBoYW5kbGVDaGFuZ2UsIHZhbHVlLCBjbGFzc05hbWUsIGVkaXRvciwgTmFtZTogbmFtZSwgVGlwczogdGlwcywgcmVuZGVySXRlbSwgZmllbGQsIGlkIH0gPSBwcm9wc1xuICBjb25zdCB7IEVudW06IF9pdGVtcywgTmFtZUhpZGRlbjogbmFtZUhpZGRlbiwgRGVmYXVsdCwgUmVxdWlyZWQ6IHJlcXVpcmVkLCBUaXRsZTogdGl0bGUgfSA9IGVkaXRvclxuICBjb25zdCB7IGdldEtkZXNpZ25lckFwaSB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IHsgY29udHJvbENhY2hlQXBpIH0gPSBnZXRLZGVzaWduZXJBcGkoKVxuICBjb25zdCBpdGVtcyA9IF9pdGVtcy5tYXAoaXRlbSA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIHtcbiAgICAgIFZhbHVlOiBpdGVtLlZhbHVlIHx8IGl0ZW0uSWRcbiAgICB9KVxuICB9KVxuICBjb25zdCBhY3RpdmVWYWx1ZSA9IGlzVW5kZWZpbmVkKHZhbHVlKSA/IChEZWZhdWx0IHx8IGl0ZW1zWzBdPy5WYWx1ZSkgOiBTdHJpbmcodmFsdWUpXG4gIGNvbnN0IGlzTmV3QWRkQ29udHJvbCA9IGNvbnRyb2xDYWNoZUFwaS5oYXNDYWNoZSgnY29udHJvbElkJywgaWQpXG4gIGNvbnN0IFtpc0Rpc2FibGVkLCBzZXREaXNhYmxlZF0gPSB1c2VTdGF0ZSghISgocHJvcHMuSWQgPT09ICdNdWx0aScgJiYgIWlzTmV3QWRkQ29udHJvbCkpKVxuXG4gIGNvbnN0IHNldFRhYkRpc2FibGVkID0gdXNlQ2FsbGJhY2soKGRhdGEpID0+IHtcbiAgICBjb25zdCBzd2l0Y2hGaWVsZFR5cGVzID0gZGF0YVtmaWVsZC5LZXldIHx8IFtdXG4gICAgaWYgKHN3aXRjaEZpZWxkVHlwZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZXREaXNhYmxlZCh0cnVlKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmIChzd2l0Y2hGaWVsZFR5cGVzPy5sZW5ndGggPiAwKSB7XG4gICAgICBzZXREaXNhYmxlZChmYWxzZSlcbiAgICB9XG4gIH0sIFtdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHByb3BzLklkID09PSAnTXVsdGknICYmICFpc05ld0FkZENvbnRyb2wpIHtcbiAgICAgIGV2ZW50QnVzLm9uKFNFVF9TV0lUQ0hfRklFTERfVFlQRVMsIHNldFRhYkRpc2FibGVkKVxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZXZlbnRCdXMub2ZmKFNFVF9TV0lUQ0hfRklFTERfVFlQRVMsIHNldFRhYkRpc2FibGVkKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW10pXG4gIGNvbnN0IGhhbmRsZVRhYkNoYW5nZSA9IChuZXdWYWw6IHN0cmluZyB8IG51bWJlcikgPT4ge1xuICAgIGlmICghaXNEaXNhYmxlZCkge1xuICAgICAgaGFuZGxlQ2hhbmdlKG5ld1ZhbClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPE5hbWVUaXBXcmFwcGVyIG5hbWVIaWRkZW49e25hbWVIaWRkZW59IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBuYW1lPXtuYW1lfSB0aXBzPXt0aXBzfSByZXF1aXJlZD17cmVxdWlyZWR9IHRpdGxlPXt0aXRsZX0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9LXRhYi1lZGl0b3JgfT5cbiAgICAgICAge2l0ZW1zLm1hcCgoaXRlbTogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBJY29uQ2xhc3NOYW1lOiBpY29uQ2xhc3NOYW1lLCBJY29uVGl0bGU6IGljb25UaXRsZSB9ID0gaXRlbVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGtleT17aXRlbS5WYWx1ZX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzRGlzYWJsZWR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhbYCR7Y2xhc3NOYW1lfS10YWItZWRpdG9yLWl0ZW1gLCB7ICdpcy1hY3RpdmUnOiBhY3RpdmVWYWx1ZSA9PT0gaXRlbS5WYWx1ZSwgJ2lzLWRpc2FibGVkJzogaXNEaXNhYmxlZCA9PT0gdHJ1ZSB9XSl9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVRhYkNoYW5nZShpdGVtLlZhbHVlKX1cbiAgICAgICAgICAgICAgdGl0bGU9e2ljb25DbGFzc05hbWUgJiYgaWNvblRpdGxlfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7cmVuZGVySXRlbSA/IHJlbmRlckl0ZW0oaXRlbSkgOiBpY29uQ2xhc3NOYW1lID8gPGkgY2xhc3NOYW1lPXtpY29uQ2xhc3NOYW1lfSAvPiA6IGl0ZW0uTmFtZX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICA8Lz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBUYWJQcm9wZXJ0eUVkaXRvclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///90292\n");

/***/ }),

/***/ 13384:
/*!**************************************************!*\
  !*** ./src/editors/TextDefValueEditor/index.tsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _BaseDefValueEditor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../BaseDefValueEditor */ 41732);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/control */ 3700);\n\n\n\n\nvar TextDefValueEditor = function TextDefValueEditor(props) {\n  var value = props.value,\n    className = props.className,\n    field = props.field;\n  var _Type_ = field._Type_,\n    DefaultLines = field.DefaultLines,\n    MaxLength = field.MaxLength;\n  var inputFieldProps = {\n    className: \"\".concat(className, \"-text-def-editor\"),\n    fieldType: 'text',\n    placeholder: '请输入',\n    maxLength: MaxLength\n  };\n  if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_3__.isTextareaField)(_Type_)) {\n    inputFieldProps.fieldType = 'textarea';\n    inputFieldProps.autoSize = {\n      minRows: DefaultLines || 1,\n      maxRows: DefaultLines || 1\n    };\n  }\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_BaseDefValueEditor__WEBPACK_IMPORTED_MODULE_2__[\"default\"], (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n    editorType: \"textDef\",\n    value: value,\n    inputFieldProps: inputFieldProps\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (TextDefValueEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMzODQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9lZGl0b3JzL1RleHREZWZWYWx1ZUVkaXRvci9pbmRleC50c3g/ODcwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgRkMgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFByb3BlcnR5RWRpdG9yUHJvcHMgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgQmFzZURlZlZhbHVlRWRpdG9yIGZyb20gJy4uL0Jhc2VEZWZWYWx1ZUVkaXRvcidcbmltcG9ydCB7IGlzVGV4dGFyZWFGaWVsZCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbnRyb2wnXG5cbmNvbnN0IFRleHREZWZWYWx1ZUVkaXRvcjogRkM8UHJvcGVydHlFZGl0b3JQcm9wcz4gPSAocHJvcHM6IFByb3BlcnR5RWRpdG9yUHJvcHMpID0+IHtcbiAgY29uc3QgeyB2YWx1ZSwgY2xhc3NOYW1lLCBmaWVsZCB9ID0gcHJvcHNcbiAgY29uc3QgeyBfVHlwZV8sIERlZmF1bHRMaW5lcywgTWF4TGVuZ3RoIH0gPSBmaWVsZFxuXG4gIGNvbnN0IGlucHV0RmllbGRQcm9wcyA9IHtcbiAgICBjbGFzc05hbWU6IGAke2NsYXNzTmFtZX0tdGV4dC1kZWYtZWRpdG9yYCxcbiAgICBmaWVsZFR5cGU6ICd0ZXh0JyxcbiAgICBwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpScsXG4gICAgbWF4TGVuZ3RoOiBNYXhMZW5ndGhcbiAgfVxuXG4gIGlmIChpc1RleHRhcmVhRmllbGQoX1R5cGVfKSkge1xuICAgIGlucHV0RmllbGRQcm9wcy5maWVsZFR5cGUgPSAndGV4dGFyZWEnXG4gICAgaW5wdXRGaWVsZFByb3BzLmF1dG9TaXplID0geyBtaW5Sb3dzOiBEZWZhdWx0TGluZXMgfHwgMSwgbWF4Um93czogRGVmYXVsdExpbmVzIHx8IDEgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8QmFzZURlZlZhbHVlRWRpdG9yXG4gICAgICB7Li4ucHJvcHN9XG4gICAgICBlZGl0b3JUeXBlPSd0ZXh0RGVmJ1xuICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgaW5wdXRGaWVsZFByb3BzPXtpbnB1dEZpZWxkUHJvcHN9XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0RGVmVmFsdWVFZGl0b3JcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///13384\n");

/***/ }),

/***/ 64520:
/*!****************************************************!*\
  !*** ./src/editors/TriggerProcessEditor/index.tsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 24496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../context */ 90115);\n/* harmony import */ var _hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../hooks/useQueryEventData */ 23312);\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n/*\n * @Description: 触发流程\n * @Author: jianhang_he\n * @Date: 2023-05-11 13:52:25\n * @LastEditTime: 2023-06-26 14:44:21\n * @Last Modified by: jianhang_he\n */\n\n\n\n\nvar processListCache = {};\nvar TriggerProcessEditor = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.memo)(function (props) {\n  var _innerValue, _innerValue2;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useContext)(_context__WEBPACK_IMPORTED_MODULE_12__.DesignerContext),\n    invokeAction = _useContext.invokeAction,\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var handleChange = props.handleChange,\n    value = props.value,\n    className = props.className,\n    editor = props.editor,\n    locked = props.locked,\n    name = props.Name,\n    tips = props.Tips,\n    field = props.field,\n    id = props.id;\n  var _items = editor.Enum,\n    nameHidden = editor.NameHidden,\n    Default = editor.Default,\n    required = editor.Required,\n    hasCheck = editor.HasCheck,\n    title = editor.Title;\n  var kdesignerApi = getKdesignerApi();\n  var dataContext = kdesignerApi.data;\n  var rootId = dataContext.getRootId();\n  var innerValue = value;\n  try {\n    if (hasCheck && (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(JSON.parse(value)) === 'object') {\n      innerValue = JSON.parse(value);\n    }\n  } catch (error) {\n    if (hasCheck) {\n      // 兼容以前的数据格式报错\n      innerValue = {};\n    }\n    console.log('格式不匹配', error);\n  }\n  var switchValue = typeof ((_innerValue = innerValue) === null || _innerValue === void 0 ? void 0 : _innerValue.enable) === 'undefined' ? Default === null || Default === void 0 ? void 0 : Default.enable : innerValue.enable;\n  var parser = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function (data) {\n    if (Array.isArray(data)) {\n      return (data === null || data === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_8___default()(data).call(data, function (item) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          label: item.name,\n          value: item.id\n        });\n      })) || [];\n    }\n    return [];\n  }, []);\n  var processList = (0,_hooks_useQueryEventData__WEBPACK_IMPORTED_MODULE_13__[\"default\"])({\n    id: field.Key,\n    formId: rootId,\n    eventName: 'setTriggerProcess',\n    parser: parser\n  });\n  if (processList !== null && processList !== void 0 && processList.length) {\n    processListCache[rootId] = processList;\n  }\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(function () {\n    if (!processListCache[rootId]) {\n      invokeAction('getTriggerProcess', []);\n    }\n  }, [rootId]);\n\n  // 开关\n  var handleSwitchChange = function handleSwitchChange(enable) {\n    var info = _objectSpread(_objectSpread({}, innerValue), {}, {\n      enable: enable\n    });\n    handleChange(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9___default()(info));\n  };\n  var handleSelectChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useCallback)(function (v) {\n    if (hasCheck) {\n      var info = _objectSpread(_objectSpread({}, innerValue), {}, {\n        value: v\n      });\n      handleChange(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_9___default()(info));\n    } else {\n      handleChange(v);\n    }\n  }, [handleChange, innerValue, hasCheck]);\n\n  // 标题属性，关联表单不显示switch切换\n  var titleProps = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    return {\n      name: name,\n      className: className,\n      nameHidden: nameHidden,\n      tips: tips,\n      required: required,\n      title: title\n    };\n  }, [name, className, nameHidden, tips, required, title]);\n  var editorProps = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_10__.useMemo)(function () {\n    return _objectSpread(_objectSpread({}, props), {}, {\n      editor: _objectSpread(_objectSpread({}, props.Editor), {}, {\n        NameHidden: true\n      })\n    });\n  }, [props]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(\"div\", {\n    className: \"\".concat(className, \"-trigger-process\")\n  }, hasCheck ? /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.NameTipSwitchWrapper, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n    switchValue: switchValue,\n    onSwitchChange: handleSwitchChange\n  }, titleProps)) : /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.NameTipWrapper, titleProps), (!hasCheck || switchValue) && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_10___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.EditorPropertySelect, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, editorProps, {\n    value: hasCheck ? (_innerValue2 = innerValue) === null || _innerValue2 === void 0 ? void 0 : _innerValue2.value : value,\n    options: Array.isArray(processListCache[rootId]) ? processListCache[rootId] : [],\n    scrollHidden: false,\n    onChange: handleSelectChange,\n    handleChange: handleSelectChange\n  })));\n});\nTriggerProcessEditor.displayName = 'TriggerProcessEditor';\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.ErrorBoundaryWrap)(TriggerProcessEditor, 'TriggerProcessEditor'));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQ1MjAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFNQTtBQUVBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9UcmlnZ2VyUHJvY2Vzc0VkaXRvci9pbmRleC50c3g/MDhlMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOiDop6blj5HmtYHnqItcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMy0wNS0xMSAxMzo1MjoyNVxuICogQExhc3RFZGl0VGltZTogMjAyMy0wNi0yNiAxNDo0NDoyMVxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCwgeyBGQywgbWVtbywgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgTmFtZVRpcFdyYXBwZXIsIFByb3BlcnR5RWRpdG9yUHJvcHMsIEVkaXRvclByb3BlcnR5U2VsZWN0LCBOYW1lVGlwU3dpdGNoV3JhcHBlciwgRXJyb3JCb3VuZGFyeVdyYXAgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0J1xuaW1wb3J0IHVzZVF1ZXJ5RXZlbnREYXRhIGZyb20gJy4uLy4uL2hvb2tzL3VzZVF1ZXJ5RXZlbnREYXRhJ1xuXG5jb25zdCBwcm9jZXNzTGlzdENhY2hlID0ge31cblxuY29uc3QgVHJpZ2dlclByb2Nlc3NFZGl0b3I6IEZDPFByb3BlcnR5RWRpdG9yUHJvcHM+ID0gbWVtbygocHJvcHMpID0+IHtcbiAgY29uc3QgeyBpbnZva2VBY3Rpb24sIGdldEtkZXNpZ25lckFwaSB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG5cbiAgY29uc3QgeyBoYW5kbGVDaGFuZ2UsIHZhbHVlLCBjbGFzc05hbWUsIGVkaXRvciwgbG9ja2VkLCBOYW1lOiBuYW1lLCBUaXBzOiB0aXBzLCBmaWVsZCwgaWQgfSA9IHByb3BzXG4gIGNvbnN0IHsgRW51bTogX2l0ZW1zLCBOYW1lSGlkZGVuOiBuYW1lSGlkZGVuLCBEZWZhdWx0LCBSZXF1aXJlZDogcmVxdWlyZWQsIEhhc0NoZWNrOiBoYXNDaGVjaywgVGl0bGU6IHRpdGxlIH0gPSBlZGl0b3JcblxuICBjb25zdCBrZGVzaWduZXJBcGkgPSBnZXRLZGVzaWduZXJBcGkoKVxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0IH0gPSBrZGVzaWduZXJBcGlcbiAgY29uc3Qgcm9vdElkID0gZGF0YUNvbnRleHQuZ2V0Um9vdElkKClcblxuICBsZXQgaW5uZXJWYWx1ZSA9IHZhbHVlXG5cbiAgdHJ5IHtcbiAgICBpZiAoaGFzQ2hlY2sgJiYgdHlwZW9mIEpTT04ucGFyc2UodmFsdWUpID09PSAnb2JqZWN0Jykge1xuICAgICAgaW5uZXJWYWx1ZSA9IEpTT04ucGFyc2UodmFsdWUpXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChoYXNDaGVjaykge1xuICAgICAgLy8g5YW85a655Lul5YmN55qE5pWw5o2u5qC85byP5oql6ZSZXG4gICAgICBpbm5lclZhbHVlID0ge31cbiAgICB9XG4gICAgY29uc29sZS5sb2coJ+agvOW8j+S4jeWMuemFjScsIGVycm9yKVxuICB9XG5cbiAgY29uc3Qgc3dpdGNoVmFsdWUgPSB0eXBlb2YgaW5uZXJWYWx1ZT8uZW5hYmxlID09PSAndW5kZWZpbmVkJyA/IERlZmF1bHQ/LmVuYWJsZSA6IGlubmVyVmFsdWUuZW5hYmxlXG5cbiAgY29uc3QgcGFyc2VyID0gdXNlQ2FsbGJhY2soKGRhdGEpID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGE/Lm1hcChpdGVtID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgIGxhYmVsOiBpdGVtLm5hbWUsXG4gICAgICAgICAgdmFsdWU6IGl0ZW0uaWRcbiAgICAgICAgfVxuICAgICAgfSkgfHwgW11cbiAgICB9XG5cbiAgICByZXR1cm4gW11cbiAgfSwgW10pXG5cbiAgY29uc3QgcHJvY2Vzc0xpc3QgPSB1c2VRdWVyeUV2ZW50RGF0YSh7XG4gICAgaWQ6IGZpZWxkLktleSxcbiAgICBmb3JtSWQ6IHJvb3RJZCxcbiAgICBldmVudE5hbWU6ICdzZXRUcmlnZ2VyUHJvY2VzcycsXG4gICAgcGFyc2VyXG4gIH0pXG5cbiAgaWYgKHByb2Nlc3NMaXN0Py5sZW5ndGgpIHtcbiAgICBwcm9jZXNzTGlzdENhY2hlW3Jvb3RJZF0gPSBwcm9jZXNzTGlzdFxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXByb2Nlc3NMaXN0Q2FjaGVbcm9vdElkXSkge1xuICAgICAgaW52b2tlQWN0aW9uKCdnZXRUcmlnZ2VyUHJvY2VzcycsIFtdKVxuICAgIH1cbiAgfSwgW3Jvb3RJZF0pXG5cbiAgLy8g5byA5YWzXG4gIGNvbnN0IGhhbmRsZVN3aXRjaENoYW5nZSA9IChlbmFibGU6Ym9vbGVhbikgPT4ge1xuICAgIGNvbnN0IGluZm8gPSB7XG4gICAgICAuLi5pbm5lclZhbHVlLFxuICAgICAgZW5hYmxlXG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZShKU09OLnN0cmluZ2lmeShpbmZvKSlcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVNlbGVjdENoYW5nZSA9IHVzZUNhbGxiYWNrKCh2OmFueSkgPT4ge1xuICAgIGlmIChoYXNDaGVjaykge1xuICAgICAgY29uc3QgaW5mbyA9IHtcbiAgICAgICAgLi4uaW5uZXJWYWx1ZSxcbiAgICAgICAgdmFsdWU6IHZcbiAgICAgIH1cbiAgICAgIGhhbmRsZUNoYW5nZShKU09OLnN0cmluZ2lmeShpbmZvKSlcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlQ2hhbmdlKHYpXG4gICAgfVxuICB9LCBbaGFuZGxlQ2hhbmdlLCBpbm5lclZhbHVlLCBoYXNDaGVja10pXG5cbiAgLy8g5qCH6aKY5bGe5oCn77yM5YWz6IGU6KGo5Y2V5LiN5pi+56S6c3dpdGNo5YiH5o2iXG4gIGNvbnN0IHRpdGxlUHJvcHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4geyBuYW1lLCBjbGFzc05hbWUsIG5hbWVIaWRkZW4sIHRpcHMsIHJlcXVpcmVkLCB0aXRsZSB9XG4gIH0sIFtuYW1lLCBjbGFzc05hbWUsIG5hbWVIaWRkZW4sIHRpcHMsIHJlcXVpcmVkLCB0aXRsZV0pXG5cbiAgY29uc3QgZWRpdG9yUHJvcHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ucHJvcHMsXG4gICAgICBlZGl0b3I6IHsgLi4ucHJvcHMuRWRpdG9yLCBOYW1lSGlkZGVuOiB0cnVlIH1cbiAgICB9XG4gIH0sIFtwcm9wc10pXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17YCR7Y2xhc3NOYW1lfS10cmlnZ2VyLXByb2Nlc3NgfT5cbiAgICAgIHtoYXNDaGVja1xuICAgICAgICA/IDxOYW1lVGlwU3dpdGNoV3JhcHBlclxuICAgICAgICAgICAgc3dpdGNoVmFsdWU9e3N3aXRjaFZhbHVlfVxuICAgICAgICAgICAgb25Td2l0Y2hDaGFuZ2U9e2hhbmRsZVN3aXRjaENoYW5nZX1cbiAgICAgICAgICAgIHsuLi50aXRsZVByb3BzfVxuICAgICAgICAgIC8+XG4gICAgICAgIDogPE5hbWVUaXBXcmFwcGVyIHsuLi50aXRsZVByb3BzfSAvPn1cbiAgICAgIHtcbiAgICAgICAgKCFoYXNDaGVjayB8fCBzd2l0Y2hWYWx1ZSkgJiYgKFxuICAgICAgICAgIDxFZGl0b3JQcm9wZXJ0eVNlbGVjdFxuICAgICAgICAgICAgey4uLmVkaXRvclByb3BzfVxuICAgICAgICAgICAgdmFsdWU9e2hhc0NoZWNrID8gaW5uZXJWYWx1ZT8udmFsdWUgOiB2YWx1ZX1cbiAgICAgICAgICAgIG9wdGlvbnM9e0FycmF5LmlzQXJyYXkocHJvY2Vzc0xpc3RDYWNoZVtyb290SWRdKSA/IHByb2Nlc3NMaXN0Q2FjaGVbcm9vdElkXSA6IFtdfVxuICAgICAgICAgICAgc2Nyb2xsSGlkZGVuPXtmYWxzZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVTZWxlY3RDaGFuZ2V9XG4gICAgICAgICAgICBoYW5kbGVDaGFuZ2U9e2hhbmRsZVNlbGVjdENoYW5nZX1cbiAgICAgICAgICAvPilcbiAgICAgIH1cblxuICAgIDwvZGl2PlxuICApXG59KVxuXG5UcmlnZ2VyUHJvY2Vzc0VkaXRvci5kaXNwbGF5TmFtZSA9ICdUcmlnZ2VyUHJvY2Vzc0VkaXRvcidcblxuZXhwb3J0IGRlZmF1bHQgRXJyb3JCb3VuZGFyeVdyYXAoVHJpZ2dlclByb2Nlc3NFZGl0b3IsICdUcmlnZ2VyUHJvY2Vzc0VkaXRvcicpXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///64520\n");

/***/ }),

/***/ 58036:
/*!******************************!*\
  !*** ./src/editors/index.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _SwitchSelectEditor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SwitchSelectEditor */ 63856);\n/* harmony import */ var _CustomOptionEditor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CustomOptionEditor */ 66900);\n/* harmony import */ var _SelectOptionEditor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SelectOptionEditor */ 7544);\n/* harmony import */ var _DataScopeEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DataScopeEditor */ 52456);\n/* harmony import */ var _BillPropsFieldEditor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./BillPropsFieldEditor */ 88672);\n/* harmony import */ var _PictureDefValueEditor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PictureDefValueEditor */ 65796);\n/* harmony import */ var _DataFillEditor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DataFillEditor */ 45896);\n/* harmony import */ var _InputRangeEditor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./InputRangeEditor */ 57284);\n/* harmony import */ var _DateRangeEditor__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DateRangeEditor */ 55560);\n/* harmony import */ var _DateEditor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./DateEditor */ 18640);\n/* harmony import */ var _AttachmentDefValueEditor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./AttachmentDefValueEditor */ 47900);\n/* harmony import */ var _NumberDefValueEditor__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./NumberDefValueEditor */ 17368);\n/* harmony import */ var _ColorPickerEditor__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ColorPickerEditor */ 38572);\n/* harmony import */ var _BackgroundImageEditor__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./BackgroundImageEditor */ 53712);\n/* harmony import */ var _DisplayRules__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./DisplayRules */ 82772);\n/* harmony import */ var _TextDefValueEditor__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./TextDefValueEditor */ 13384);\n/* harmony import */ var _TriggerProcessEditor__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./TriggerProcessEditor */ 64520);\n/* harmony import */ var _EnableFilterEditor__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./EnableFilterEditor */ 20572);\n/* harmony import */ var _RichTextDefValueEditor__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./RichTextDefValueEditor */ 35868);\n/* harmony import */ var _RefBillTypeEditor__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./RefBillTypeEditor */ 42752);\n/* harmony import */ var _MarginEditor__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./MarginEditor */ 65872);\n/* harmony import */ var _InputForm__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./InputForm */ 79752);\n/* harmony import */ var _RefBillDefValueEditor__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./RefBillDefValueEditor */ 90952);\n/* harmony import */ var _TabEditor__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./TabEditor */ 90292);\n/* harmony import */ var _InputContentEditor__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./InputContentEditor */ 6528);\n/* harmony import */ var _BizRules__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./BizRules */ 91748);\n/* harmony import */ var _ConditionEditor__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./ConditionEditor */ 96680);\n/* harmony import */ var _IconPickerEditor__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./IconPickerEditor */ 98292);\n/* harmony import */ var _AssociationEditor__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./AssociationEditor */ 2392);\n/* harmony import */ var _ExpressionEditor__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./ExpressionEditor */ 65927);\n\n/*\n * @Description: 无代码属性编辑器\n * @Author: jianhang_he\n * @Date: 2022-08-10 15:22:54\n * @LastEditTime: 2024-09-19 15:31:31\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar getPropertyEditors = function getPropertyEditors() {\n  var list = [];\n  var editorMapList = [[_SwitchSelectEditor__WEBPACK_IMPORTED_MODULE_1__[\"default\"], 'switchtabsel', ''],\n  // 移动端扫码录入\n  [_CustomOptionEditor__WEBPACK_IMPORTED_MODULE_2__[\"default\"], 'customoption', ''],\n  // 自定义选项内容\n  [_SelectOptionEditor__WEBPACK_IMPORTED_MODULE_3__[\"default\"], 'selectoption', ''],\n  // 选项默认值选择\n  [_DataScopeEditor__WEBPACK_IMPORTED_MODULE_4__[\"default\"], 'datascope', ''],\n  // 数值范围编辑器\n  [_TabEditor__WEBPACK_IMPORTED_MODULE_24__[\"default\"], 'Tab', ''], [_PictureDefValueEditor__WEBPACK_IMPORTED_MODULE_6__[\"default\"], 'picturedef', ''],\n  // 关联表单-选择表单控件\n  [_RefBillTypeEditor__WEBPACK_IMPORTED_MODULE_20__[\"default\"], 'refbilltype', ''],\n  // 关联表单-选择表单控件\n  [_BillPropsFieldEditor__WEBPACK_IMPORTED_MODULE_5__[\"default\"], 'refbillprops', ''],\n  // 关联表单-选择展示属性控件\n  [_DataFillEditor__WEBPACK_IMPORTED_MODULE_7__[\"default\"], 'dataFill', ''],\n  // 关联表单-关联属性\n  [_InputRangeEditor__WEBPACK_IMPORTED_MODULE_8__[\"default\"], 'inputrange', ''],\n  // 日期范围-占位提示\n  [_DateRangeEditor__WEBPACK_IMPORTED_MODULE_9__[\"default\"], 'DateRange', ''],\n  // 日期范围-默认值\n  [_DateEditor__WEBPACK_IMPORTED_MODULE_10__[\"default\"], 'date', ''],\n  // 日期-默认值\n  [_NumberDefValueEditor__WEBPACK_IMPORTED_MODULE_12__[\"default\"], 'decimaldef', ''],\n  // 数字-默认值\n  [_AttachmentDefValueEditor__WEBPACK_IMPORTED_MODULE_11__[\"default\"], 'attachdef', ''], [_ColorPickerEditor__WEBPACK_IMPORTED_MODULE_13__[\"default\"], 'backcolor'],\n  // 背景颜色\n  [_BackgroundImageEditor__WEBPACK_IMPORTED_MODULE_14__[\"default\"], 'backimage'],\n  // 背景图片\n  [_DisplayRules__WEBPACK_IMPORTED_MODULE_15__[\"default\"], 'displayrule'],\n  // 显示规则\n  [_BizRules__WEBPACK_IMPORTED_MODULE_26__[\"default\"], 'bizrule'],\n  // 查找值写入\n  [_ConditionEditor__WEBPACK_IMPORTED_MODULE_27__[\"default\"], 'formularule'],\n  // 公式运算\n  [_ExpressionEditor__WEBPACK_IMPORTED_MODULE_30__[\"default\"], 'expression'],\n  // 公式运算-目标链接\n  [_TextDefValueEditor__WEBPACK_IMPORTED_MODULE_16__[\"default\"], 'textdef', ''],\n  // 文本-默认值\n  [_TriggerProcessEditor__WEBPACK_IMPORTED_MODULE_17__[\"default\"], 'triggerprocess'],\n  // 触发流程\n  [_EnableFilterEditor__WEBPACK_IMPORTED_MODULE_18__[\"default\"], 'enablefilter'],\n  // 限制条件\n  [_InputContentEditor__WEBPACK_IMPORTED_MODULE_25__[\"default\"], 'inputContent'],\n  // 配置录入内容\n  [_RichTextDefValueEditor__WEBPACK_IMPORTED_MODULE_19__[\"default\"], 'richtextdef'],\n  // 富文本编辑器\n  [_MarginEditor__WEBPACK_IMPORTED_MODULE_21__[\"default\"], 'margin'],\n  // 外边距\n  [_InputForm__WEBPACK_IMPORTED_MODULE_22__[\"default\"], 'inputForm'],\n  // 录入表单\n  [_RefBillDefValueEditor__WEBPACK_IMPORTED_MODULE_23__[\"default\"], 'mulrefbilldef'], [_IconPickerEditor__WEBPACK_IMPORTED_MODULE_28__[\"default\"], 'iconPicker', ''], [_AssociationEditor__WEBPACK_IMPORTED_MODULE_29__[\"default\"], 'association']];\n  editorMapList.forEach(function (_ref) {\n    var _ref2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref, 3),\n      editor = _ref2[0],\n      editorType = _ref2[1],\n      controlType = _ref2[2];\n    list.push([editorType, editor, controlType]);\n  });\n  return list;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (getPropertyEditors);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTgwMzYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvZWRpdG9ycy9pbmRleC50cz81YjBmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246IOaXoOS7o+eggeWxnuaAp+e8lui+keWZqFxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIyLTA4LTEwIDE1OjIyOjU0XG4gKiBATGFzdEVkaXRUaW1lOiAyMDI0LTA5LTE5IDE1OjMxOjMxXG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuaW1wb3J0IFN3aXRjaFNlbGVjdEVkaXRvciBmcm9tICcuL1N3aXRjaFNlbGVjdEVkaXRvcidcbmltcG9ydCBDdXN0b21PcHRpb25FZGl0b3IgZnJvbSAnLi9DdXN0b21PcHRpb25FZGl0b3InXG5pbXBvcnQgU2VsZWN0T3B0aW9uRWRpdG9yIGZyb20gJy4vU2VsZWN0T3B0aW9uRWRpdG9yJ1xuaW1wb3J0IERhdGFTY29wZUVkaXRvciBmcm9tICcuL0RhdGFTY29wZUVkaXRvcidcbmltcG9ydCBCaWxsUHJvcHNGaWVsZEVkaXRvciBmcm9tICcuL0JpbGxQcm9wc0ZpZWxkRWRpdG9yJ1xuaW1wb3J0IFBpY3R1cmVEZWZWYWx1ZUVkaXRvciBmcm9tICcuL1BpY3R1cmVEZWZWYWx1ZUVkaXRvcidcbmltcG9ydCBEYXRhRmlsbEVkaXRvciBmcm9tICcuL0RhdGFGaWxsRWRpdG9yJ1xuaW1wb3J0IElucHV0UmFuZ2VFZGl0b3IgZnJvbSAnLi9JbnB1dFJhbmdlRWRpdG9yJ1xuaW1wb3J0IERhdGVSYW5nZUVkaXRvciBmcm9tICcuL0RhdGVSYW5nZUVkaXRvcidcbmltcG9ydCBEYXRlRWRpdG9yIGZyb20gJy4vRGF0ZUVkaXRvcidcbmltcG9ydCBBdHRhY2htZW50RGVmVmFsdWVFZGl0b3IgZnJvbSAnLi9BdHRhY2htZW50RGVmVmFsdWVFZGl0b3InXG5pbXBvcnQgTnVtYmVyRGVmVmFsdWVFZGl0b3IgZnJvbSAnLi9OdW1iZXJEZWZWYWx1ZUVkaXRvcidcbmltcG9ydCBDb2xvclBpY2tlckVkaXRvciBmcm9tICcuL0NvbG9yUGlja2VyRWRpdG9yJ1xuaW1wb3J0IEJhY2tncm91bmRJbWFnZUVkaXRvciBmcm9tICcuL0JhY2tncm91bmRJbWFnZUVkaXRvcidcbmltcG9ydCBEaXNwbGF5UnVsZXNFZGl0b3IgZnJvbSAnLi9EaXNwbGF5UnVsZXMnXG5pbXBvcnQgVGV4dERlZlZhbHVlRWRpdG9yIGZyb20gJy4vVGV4dERlZlZhbHVlRWRpdG9yJ1xuaW1wb3J0IFRyaWdnZXJQcm9jZXNzRWRpdG9yIGZyb20gJy4vVHJpZ2dlclByb2Nlc3NFZGl0b3InXG5pbXBvcnQgRW5hYmxlRmlsdGVyRWRpdG9yIGZyb20gJy4vRW5hYmxlRmlsdGVyRWRpdG9yJ1xuaW1wb3J0IFJpY2hUZXh0RGVmVmFsdWVFZGl0b3IgZnJvbSAnLi9SaWNoVGV4dERlZlZhbHVlRWRpdG9yJ1xuaW1wb3J0IFJlZkJpbGxUeXBlRWRpdG9yIGZyb20gJy4vUmVmQmlsbFR5cGVFZGl0b3InXG5pbXBvcnQgTWFyZ2luRWRpdG9yIGZyb20gJy4vTWFyZ2luRWRpdG9yJ1xuaW1wb3J0IElucHV0Rm9ybSBmcm9tICcuL0lucHV0Rm9ybSdcbmltcG9ydCBSZWZCaWxsRGVmVmFsdWVFZGl0b3IgZnJvbSAnLi9SZWZCaWxsRGVmVmFsdWVFZGl0b3InXG5pbXBvcnQgVGFiRWRpdG9yIGZyb20gJy4vVGFiRWRpdG9yJ1xuaW1wb3J0IElucHV0Q29udGVudEVkaXRvciBmcm9tICcuL0lucHV0Q29udGVudEVkaXRvcidcbmltcG9ydCBCaXpSdWxlc0VkaXRvciBmcm9tICcuL0JpelJ1bGVzJ1xuaW1wb3J0IENvbmRpdGlvbkVkaXRvciBmcm9tICcuL0NvbmRpdGlvbkVkaXRvcidcbmltcG9ydCBJY29uUGlja2VyRWRpdG9yIGZyb20gJy4vSWNvblBpY2tlckVkaXRvcidcbmltcG9ydCBBc3NvY2lhdGlvbkVkaXRvciBmcm9tICcuL0Fzc29jaWF0aW9uRWRpdG9yJ1xuaW1wb3J0IEV4cHJlc3Npb25FZGl0b3IgZnJvbSAnLi9FeHByZXNzaW9uRWRpdG9yJ1xuXG5jb25zdCBnZXRQcm9wZXJ0eUVkaXRvcnMgPSAoKSA9PiB7XG4gIGNvbnN0IGxpc3QgPSBbXVxuICBjb25zdCBlZGl0b3JNYXBMaXN0ID0gW1xuICAgIFtTd2l0Y2hTZWxlY3RFZGl0b3IsICdzd2l0Y2h0YWJzZWwnLCAnJ10sIC8vIOenu+WKqOerr+aJq+eggeW9leWFpVxuICAgIFtDdXN0b21PcHRpb25FZGl0b3IsICdjdXN0b21vcHRpb24nLCAnJ10sIC8vIOiHquWumuS5iemAiemhueWGheWuuVxuICAgIFtTZWxlY3RPcHRpb25FZGl0b3IsICdzZWxlY3RvcHRpb24nLCAnJ10sIC8vIOmAiemhuem7mOiupOWAvOmAieaLqVxuICAgIFtEYXRhU2NvcGVFZGl0b3IsICdkYXRhc2NvcGUnLCAnJ10sIC8vIOaVsOWAvOiMg+WbtOe8lui+keWZqFxuICAgIFtUYWJFZGl0b3IsICdUYWInLCAnJ10sXG4gICAgW1BpY3R1cmVEZWZWYWx1ZUVkaXRvciwgJ3BpY3R1cmVkZWYnLCAnJ10sIC8vIOWFs+iBlOihqOWNlS3pgInmi6nooajljZXmjqfku7ZcbiAgICBbUmVmQmlsbFR5cGVFZGl0b3IsICdyZWZiaWxsdHlwZScsICcnXSwgLy8g5YWz6IGU6KGo5Y2VLemAieaLqeihqOWNleaOp+S7tlxuICAgIFtCaWxsUHJvcHNGaWVsZEVkaXRvciwgJ3JlZmJpbGxwcm9wcycsICcnXSwgLy8g5YWz6IGU6KGo5Y2VLemAieaLqeWxleekuuWxnuaAp+aOp+S7tlxuICAgIFtEYXRhRmlsbEVkaXRvciwgJ2RhdGFGaWxsJywgJyddLCAvLyDlhbPogZTooajljZUt5YWz6IGU5bGe5oCnXG4gICAgW0lucHV0UmFuZ2VFZGl0b3IsICdpbnB1dHJhbmdlJywgJyddLCAvLyDml6XmnJ/ojIPlm7Qt5Y2g5L2N5o+Q56S6XG4gICAgW0RhdGVSYW5nZUVkaXRvciwgJ0RhdGVSYW5nZScsICcnXSwgLy8g5pel5pyf6IyD5Zu0Lem7mOiupOWAvFxuICAgIFtEYXRlRWRpdG9yLCAnZGF0ZScsICcnXSwgLy8g5pel5pyfLem7mOiupOWAvFxuICAgIFtOdW1iZXJEZWZWYWx1ZUVkaXRvciwgJ2RlY2ltYWxkZWYnLCAnJ10sIC8vIOaVsOWtly3pu5jorqTlgLxcbiAgICBbQXR0YWNobWVudERlZlZhbHVlRWRpdG9yLCAnYXR0YWNoZGVmJywgJyddLFxuICAgIFtDb2xvclBpY2tlckVkaXRvciwgJ2JhY2tjb2xvciddLCAvLyDog4zmma/popzoibJcbiAgICBbQmFja2dyb3VuZEltYWdlRWRpdG9yLCAnYmFja2ltYWdlJ10sIC8vIOiDjOaZr+WbvueJh1xuICAgIFtEaXNwbGF5UnVsZXNFZGl0b3IsICdkaXNwbGF5cnVsZSddLCAvLyDmmL7npLrop4TliJlcbiAgICBbQml6UnVsZXNFZGl0b3IsICdiaXpydWxlJ10sIC8vIOafpeaJvuWAvOWGmeWFpVxuICAgIFtDb25kaXRpb25FZGl0b3IsICdmb3JtdWxhcnVsZSddLCAvLyDlhazlvI/ov5DnrpdcbiAgICBbRXhwcmVzc2lvbkVkaXRvciwgJ2V4cHJlc3Npb24nXSwgLy8g5YWs5byP6L+Q566XLeebruagh+mTvuaOpVxuICAgIFtUZXh0RGVmVmFsdWVFZGl0b3IsICd0ZXh0ZGVmJywgJyddLCAvLyDmlofmnKwt6buY6K6k5YC8XG4gICAgW1RyaWdnZXJQcm9jZXNzRWRpdG9yLCAndHJpZ2dlcnByb2Nlc3MnXSwgLy8g6Kem5Y+R5rWB56iLXG4gICAgW0VuYWJsZUZpbHRlckVkaXRvciwgJ2VuYWJsZWZpbHRlciddLCAvLyDpmZDliLbmnaHku7ZcbiAgICBbSW5wdXRDb250ZW50RWRpdG9yLCAnaW5wdXRDb250ZW50J10sIC8vIOmFjee9ruW9leWFpeWGheWuuVxuICAgIFtSaWNoVGV4dERlZlZhbHVlRWRpdG9yLCAncmljaHRleHRkZWYnXSwgLy8g5a+M5paH5pys57yW6L6R5ZmoXG4gICAgW01hcmdpbkVkaXRvciwgJ21hcmdpbiddLCAvLyDlpJbovrnot51cbiAgICBbSW5wdXRGb3JtLCAnaW5wdXRGb3JtJ10sIC8vIOW9leWFpeihqOWNlVxuICAgIFtSZWZCaWxsRGVmVmFsdWVFZGl0b3IsICdtdWxyZWZiaWxsZGVmJ10sXG4gICAgW0ljb25QaWNrZXJFZGl0b3IsICdpY29uUGlja2VyJywgJyddLFxuICAgIFtBc3NvY2lhdGlvbkVkaXRvciwgJ2Fzc29jaWF0aW9uJ11cbiAgXVxuICBlZGl0b3JNYXBMaXN0LmZvckVhY2goKFtlZGl0b3IsIGVkaXRvclR5cGUsIGNvbnRyb2xUeXBlXSkgPT4ge1xuICAgIGxpc3QucHVzaChbZWRpdG9yVHlwZSwgZWRpdG9yLCBjb250cm9sVHlwZV0pXG4gIH0pXG4gIHJldHVybiBsaXN0XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldFByb3BlcnR5RWRpdG9yc1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///58036\n");

/***/ }),

/***/ 49116:
/*!*******************************!*\
  !*** ./src/hooks/useClick.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 61260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _utils_keyCodeUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/keyCodeUtil */ 43268);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils */ 41232);\n\n\n\n\n\n\n\n// 设计器中的控件点击事件\nvar useClick = function useClick() {\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context__WEBPACK_IMPORTED_MODULE_3__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    fieldStatusSettingMode = _useContext.fieldStatusSettingMode;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data;\n  var selectionContext = kdesignerApi.selection;\n  var setSelect = selectionContext.setSelect,\n    appendSelect = selectionContext.appendSelect,\n    getSelection = selectionContext.getSelection;\n  var onMouseDown = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (event) {\n    event.stopPropagation();\n    var rootId = dataContext.getRootId();\n    var selection = getSelection();\n    var _getEventDom$dataset = (0,_utils__WEBPACK_IMPORTED_MODULE_5__.getEventDom)(event.target).dataset,\n      controlId = _getEventDom$dataset.controlId,\n      enableClick = _getEventDom$dataset.enableClick;\n    if (fieldStatusSettingMode) {\n      if (rootId === controlId || enableClick === 'false') {\n        return;\n      }\n    }\n    var isSibling = true;\n    if (selection.length > 0) {\n      isSibling = dataContext.isSiblings(selection[0], controlId);\n    }\n    // 如果是非同级节点，禁止多选操作\n    if (!isSibling && (0,_utils_keyCodeUtil__WEBPACK_IMPORTED_MODULE_4__.isCtrlKey)(event)) return;\n    // 如果按住了Ctrl键，表示多选\n    if ((0,_utils_keyCodeUtil__WEBPACK_IMPORTED_MODULE_4__.isCtrlKey)(event)) {\n      var index = selection.indexOf(controlId);\n      if (index >= 0) {\n        var tempSelection = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(selection);\n        _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_1___default()(tempSelection).call(tempSelection, index, 1);\n        if (tempSelection.length > 0) {\n          setSelect(tempSelection);\n        }\n      } else {\n        appendSelect([controlId]);\n      }\n    } else {\n      setSelect([controlId]);\n    }\n  }, [fieldStatusSettingMode]);\n  return onMouseDown;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useClick);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkxMTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2hvb2tzL3VzZUNsaWNrLnRzPzUwNzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IElEYXRhQXBpLCBJU2VsZWN0aW9uLCBjcmVhdGVVcGRhdGVBY3Rpb24sIGV2ZW50QnVzIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dCdcbmltcG9ydCB7IGlzQ3RybEtleSB9IGZyb20gJy4uL3V0aWxzL2tleUNvZGVVdGlsJ1xuaW1wb3J0IHsgZGF0YUNvbnRyb2xJZCB9IGZyb20gJy4uL2NvbnN0YW50cy9kYXRhQXR0cmlidXRlJ1xuaW1wb3J0IHsgZ2V0RXZlbnREb20gfSBmcm9tICcuLi91dGlscydcblxuLy8g6K6+6K6h5Zmo5Lit55qE5o6n5Lu254K55Ye75LqL5Lu2XG5jb25zdCB1c2VDbGljayA9ICgpID0+IHtcbiAgY29uc3QgeyBnZXRLZGVzaWduZXJBcGksIGZpZWxkU3RhdHVzU2V0dGluZ01vZGUgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCBrZGVzaWduZXJBcGkgPSB1c2VNZW1vKCgpID0+IGdldEtkZXNpZ25lckFwaSgpLCBbXSlcbiAgY29uc3QgZGF0YUNvbnRleHQ6IElEYXRhQXBpID0ga2Rlc2lnbmVyQXBpLmRhdGFcbiAgY29uc3Qgc2VsZWN0aW9uQ29udGV4dDogSVNlbGVjdGlvbiA9IGtkZXNpZ25lckFwaS5zZWxlY3Rpb25cbiAgY29uc3QgeyBzZXRTZWxlY3QsIGFwcGVuZFNlbGVjdCwgZ2V0U2VsZWN0aW9uIH0gPSBzZWxlY3Rpb25Db250ZXh0XG4gIGNvbnN0IG9uTW91c2VEb3duID0gdXNlQ2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBjb25zdCByb290SWQgPSBkYXRhQ29udGV4dC5nZXRSb290SWQoKVxuICAgIGNvbnN0IHNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbigpXG4gICAgY29uc3QgeyBjb250cm9sSWQsIGVuYWJsZUNsaWNrIH0gPSBnZXRFdmVudERvbShldmVudC50YXJnZXQpLmRhdGFzZXRcblxuICAgIGlmIChmaWVsZFN0YXR1c1NldHRpbmdNb2RlKSB7XG4gICAgICBpZiAocm9vdElkID09PSBjb250cm9sSWQgfHwgZW5hYmxlQ2xpY2sgPT09ICdmYWxzZScpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpc1NpYmxpbmcgPSB0cnVlXG4gICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICBpc1NpYmxpbmcgPSBkYXRhQ29udGV4dC5pc1NpYmxpbmdzKHNlbGVjdGlvblswXSwgY29udHJvbElkKVxuICAgIH1cbiAgICAvLyDlpoLmnpzmmK/pnZ7lkIznuqfoioLngrnvvIznpoHmraLlpJrpgInmk43kvZxcbiAgICBpZiAoIWlzU2libGluZyAmJiBpc0N0cmxLZXkoZXZlbnQpKSByZXR1cm5cbiAgICAvLyDlpoLmnpzmjInkvY/kuoZDdHJs6ZSu77yM6KGo56S65aSa6YCJXG4gICAgaWYgKGlzQ3RybEtleShldmVudCkpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gc2VsZWN0aW9uLmluZGV4T2YoY29udHJvbElkKVxuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgY29uc3QgdGVtcFNlbGVjdGlvbiA9IFsuLi5zZWxlY3Rpb25dXG4gICAgICAgIHRlbXBTZWxlY3Rpb24uc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICBpZiAodGVtcFNlbGVjdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc2V0U2VsZWN0KHRlbXBTZWxlY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcGVuZFNlbGVjdChbY29udHJvbElkXSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U2VsZWN0KFtjb250cm9sSWRdKVxuICAgIH1cbiAgfSwgW2ZpZWxkU3RhdHVzU2V0dGluZ01vZGVdKVxuICByZXR1cm4gb25Nb3VzZURvd25cbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlQ2xpY2tcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///49116\n");

/***/ }),

/***/ 8184:
/*!**************************************!*\
  !*** ./src/hooks/useCopyAndPaste.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/json/stringify */ 24496);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants/dataAttribute */ 64536);\n\n\n\n\n\nvar COPY_CONTENT_KEY = 'nocodedesigner.CopyContent';\nvar COPY_IDS_KEY = 'nocodedesigner.CopyIds';\nvar setCopyContent = function setCopyContent(copyContent) {\n  window.sessionStorage.setItem(COPY_CONTENT_KEY, _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_0___default()(copyContent));\n};\nvar getCopyContent = function getCopyContent() {\n  var copyContent = window.sessionStorage.getItem(COPY_CONTENT_KEY);\n  if (copyContent) {\n    copyContent = JSON.parse(copyContent);\n  }\n  return copyContent;\n};\nvar setCopyIds = function setCopyIds(ids) {\n  window.sessionStorage.setItem(COPY_IDS_KEY, _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_0___default()(ids));\n};\nvar getCopyIds = function getCopyIds() {\n  var copyContent = window.sessionStorage.getItem(COPY_IDS_KEY);\n  if (copyContent) {\n    copyContent = JSON.parse(copyContent);\n  }\n  return copyContent;\n};\nvar clearCopyContent = function clearCopyContent() {\n  window.sessionStorage.removeItem(COPY_CONTENT_KEY);\n  window.sessionStorage.removeItem(COPY_IDS_KEY);\n};\nvar useCopyAndPaste = function useCopyAndPaste() {\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context__WEBPACK_IMPORTED_MODULE_3__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var selectionContext = kdesignerApi.selection;\n  var getSelection = selectionContext.getSelection;\n\n  // 给每个做剪切操作的控件，都加上自定义属性\n  var setDatasetCutControl = function setDatasetCutControl() {\n    var selection = getSelection();\n    selection.forEach(function (controlId) {\n      var _context;\n      var selectedDom = document.querySelectorAll(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default()(_context = \"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_4__.dataControlId, \"=\\\"\")).call(_context, controlId, \"\\\"]\"));\n      selectedDom.forEach(function (dom) {\n        dom.setAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_4__.dataCutControl, 'true');\n      });\n    });\n  };\n\n  // 移除剪切属性\n  var removeDatasetCutControl = function removeDatasetCutControl() {\n    var selectedDom = document.querySelectorAll(\"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_4__.dataCutControl, \"]\"));\n    selectedDom.length && selectedDom.forEach(function (dom) {\n      dom.removeAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_4__.dataCutControl);\n    });\n    return selectedDom.length;\n  };\n  return {\n    setCopyContent: setCopyContent,\n    getCopyContent: getCopyContent,\n    setCopyIds: setCopyIds,\n    getCopyIds: getCopyIds,\n    setDatasetCutControl: setDatasetCutControl,\n    removeDatasetCutControl: removeDatasetCutControl,\n    clearCopyContent: clearCopyContent\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useCopyAndPaste);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODE4NC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvaG9va3MvdXNlQ29weUFuZFBhc3RlLnRzPzJiNmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgSUNvbnRyb2xJdGVtcywgSVNlbGVjdGlvblxufSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0J1xuaW1wb3J0IHsgZGF0YUNvbnRyb2xJZCwgZGF0YUN1dENvbnRyb2wgfSBmcm9tICcuLi9jb25zdGFudHMvZGF0YUF0dHJpYnV0ZSdcblxuY29uc3QgQ09QWV9DT05URU5UX0tFWSA9ICdub2NvZGVkZXNpZ25lci5Db3B5Q29udGVudCdcbmNvbnN0IENPUFlfSURTX0tFWSA9ICdub2NvZGVkZXNpZ25lci5Db3B5SWRzJ1xuXG5jb25zdCBzZXRDb3B5Q29udGVudCA9IChjb3B5Q29udGVudDogQXJyYXk8SUNvbnRyb2xJdGVtcz4pID0+IHtcbiAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oQ09QWV9DT05URU5UX0tFWSwgSlNPTi5zdHJpbmdpZnkoY29weUNvbnRlbnQpKVxufVxuXG5jb25zdCBnZXRDb3B5Q29udGVudCA9ICgpID0+IHtcbiAgbGV0IGNvcHlDb250ZW50ID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oQ09QWV9DT05URU5UX0tFWSlcbiAgaWYgKGNvcHlDb250ZW50KSB7XG4gICAgY29weUNvbnRlbnQgPSBKU09OLnBhcnNlKGNvcHlDb250ZW50KVxuICB9XG4gIHJldHVybiBjb3B5Q29udGVudFxufVxuXG5jb25zdCBzZXRDb3B5SWRzID0gKGlkczogQXJyYXk8c3RyaW5nPikgPT4ge1xuICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShDT1BZX0lEU19LRVksIEpTT04uc3RyaW5naWZ5KGlkcykpXG59XG5cbmNvbnN0IGdldENvcHlJZHMgPSAoKSA9PiB7XG4gIGxldCBjb3B5Q29udGVudCA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKENPUFlfSURTX0tFWSlcbiAgaWYgKGNvcHlDb250ZW50KSB7XG4gICAgY29weUNvbnRlbnQgPSBKU09OLnBhcnNlKGNvcHlDb250ZW50KVxuICB9XG4gIHJldHVybiBjb3B5Q29udGVudFxufVxuXG5jb25zdCBjbGVhckNvcHlDb250ZW50ID0gKCkgPT4ge1xuICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShDT1BZX0NPTlRFTlRfS0VZKVxuICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShDT1BZX0lEU19LRVkpXG59XG5cbmNvbnN0IHVzZUNvcHlBbmRQYXN0ZSA9ICgpID0+IHtcbiAgY29uc3QgeyBnZXRLZGVzaWduZXJBcGkgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCBrZGVzaWduZXJBcGkgPSB1c2VNZW1vKCgpID0+IGdldEtkZXNpZ25lckFwaSgpLCBbXSlcbiAgY29uc3Qgc2VsZWN0aW9uQ29udGV4dDogSVNlbGVjdGlvbiA9IGtkZXNpZ25lckFwaS5zZWxlY3Rpb25cbiAgY29uc3QgeyBnZXRTZWxlY3Rpb24gfSA9IHNlbGVjdGlvbkNvbnRleHRcblxuICAvLyDnu5nmr4/kuKrlgZrliarliIfmk43kvZznmoTmjqfku7bvvIzpg73liqDkuIroh6rlrprkuYnlsZ7mgKdcbiAgY29uc3Qgc2V0RGF0YXNldEN1dENvbnRyb2wgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKClcbiAgICBzZWxlY3Rpb24uZm9yRWFjaCgoY29udHJvbElkOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkRG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgWyR7ZGF0YUNvbnRyb2xJZH09XCIke2NvbnRyb2xJZH1cIl1gKVxuICAgICAgc2VsZWN0ZWREb20uZm9yRWFjaCgoZG9tOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBkb20uc2V0QXR0cmlidXRlKGRhdGFDdXRDb250cm9sLCAndHJ1ZScpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvLyDnp7vpmaTliarliIflsZ7mgKdcbiAgY29uc3QgcmVtb3ZlRGF0YXNldEN1dENvbnRyb2wgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0ZWREb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbJHtkYXRhQ3V0Q29udHJvbH1dYClcbiAgICBzZWxlY3RlZERvbS5sZW5ndGggJiYgc2VsZWN0ZWREb20uZm9yRWFjaCgoZG9tOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZShkYXRhQ3V0Q29udHJvbClcbiAgICB9KVxuICAgIHJldHVybiBzZWxlY3RlZERvbS5sZW5ndGhcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc2V0Q29weUNvbnRlbnQsXG4gICAgZ2V0Q29weUNvbnRlbnQsXG4gICAgc2V0Q29weUlkcyxcbiAgICBnZXRDb3B5SWRzLFxuICAgIHNldERhdGFzZXRDdXRDb250cm9sLFxuICAgIHJlbW92ZURhdGFzZXRDdXRDb250cm9sLFxuICAgIGNsZWFyQ29weUNvbnRlbnRcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VDb3B5QW5kUGFzdGVcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8184\n");

/***/ }),

/***/ 32860:
/*!***************************************!*\
  !*** ./src/hooks/useDataControlId.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants/dataAttribute */ 64536);\n\n\n\n\n// 控件一旦被载入，就需要赋予该属性：为后续选中查询控件做铺垫\nvar useDataControlId = function useDataControlId(field) {\n  if (!field) return {};\n  return (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_2__.dataControlId, field === null || field === void 0 ? void 0 : field[_constants_propnames__WEBPACK_IMPORTED_MODULE_1__.ID]);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useDataControlId);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI4NjAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9ob29rcy91c2VEYXRhQ29udHJvbElkLnRzPzc5NTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5IH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgSUQgfSBmcm9tICcuLi9jb25zdGFudHMvcHJvcG5hbWVzJ1xuaW1wb3J0IHsgZGF0YUNvbnRyb2xJZCB9IGZyb20gJy4uL2NvbnN0YW50cy9kYXRhQXR0cmlidXRlJ1xuXG4vLyDmjqfku7bkuIDml6booqvovb3lhaXvvIzlsLHpnIDopoHotYvkuojor6XlsZ7mgKfvvJrkuLrlkI7nu63pgInkuK3mn6Xor6Lmjqfku7blgZrpk7rlnqtcbmNvbnN0IHVzZURhdGFDb250cm9sSWQgPSAoZmllbGQ6IElDb250cm9sSXRlbVVwcGVyY2FzZUtleSkgPT4ge1xuICBpZiAoIWZpZWxkKSByZXR1cm4ge31cblxuICByZXR1cm4ge1xuICAgIFtkYXRhQ29udHJvbElkXTogZmllbGQ/LltJRF1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VEYXRhQ29udHJvbElkXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///32860\n");

/***/ }),

/***/ 57920:
/*!*************************************!*\
  !*** ./src/hooks/useDragControl.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getContainerDom: function() { return /* binding */ getContainerDom; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../constants/dataAttribute */ 64536);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var _utils_setDragImage__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/setDragImage */ 54739);\n/* harmony import */ var _useDragDrop__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./useDragDrop */ 52708);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils */ 41232);\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\nvar getContainerDom = function getContainerDom(dom) {\n  var targetDom = null;\n  while (true) {\n    var _dom, _dom2;\n    if ((_dom = dom) !== null && _dom !== void 0 && (_dom = _dom.dataset) !== null && _dom !== void 0 && _dom.dragId && !((_dom2 = dom) !== null && _dom2 !== void 0 && (_dom2 = _dom2.dataset) !== null && _dom2 !== void 0 && _dom2.groupBarItemId)) {\n      targetDom = dom;\n      break;\n    } else if (dom.id === 'ui-designer-root') {\n      break;\n    } else {\n      dom = dom.parentNode;\n    }\n  }\n  return targetDom;\n};\nvar useDragControl = function useDragControl(field) {\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useContext)(_context__WEBPACK_IMPORTED_MODULE_8__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    fieldStatusSettingMode = _useContext.fieldStatusSettingMode;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data,\n    metaApi = kdesignerApi.meta;\n  var rootId = dataContext.getRootId();\n  var isRootPanel = rootId === field[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__.ID];\n  var controlData = dataContext.findControl(field[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__.ID]);\n  var controlType = controlData === null || controlData === void 0 ? void 0 : controlData._Type_;\n  var _ref = metaApi.getControlMeta(controlType) || {},\n    _ref$IsContainer = _ref.IsContainer,\n    IsContainer = _ref$IsContainer === void 0 ? false : _ref$IsContainer;\n\n  // 开始拖拽\n  var onDragStart = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (event) {\n    var _dom3;\n    event.stopPropagation();\n    var dom = event.currentTarget;\n    dom = (0,_useDragDrop__WEBPACK_IMPORTED_MODULE_12__.getDragDom)(dom);\n    var controlId = dom.dataset.dragId || null;\n    var dragControlIds = [controlId];\n    var _dataContext$findCont = dataContext.findControl(controlId),\n      _Type_ = _dataContext$findCont._Type_,\n      GroupParentId = _dataContext$findCont.GroupParentId;\n    if ((0,_utils__WEBPACK_IMPORTED_MODULE_13__.isGroupContainer)(_Type_) && !((_dom3 = dom) !== null && _dom3 !== void 0 && (_dom3 = _dom3.dataset) !== null && _dom3 !== void 0 && _dom3.groupBarItemId)) {\n      var _context;\n      // 如果拖拽的不是页签标题区域，则认为是拖拽分组整体\n      dragControlIds = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default()(_context = dataContext.findControlByCondition(function (item) {\n        return item.GroupParentId === GroupParentId;\n      })).call(_context, function (item) {\n        return item.Id;\n      });\n    }\n    (0,_useDragDrop__WEBPACK_IMPORTED_MODULE_12__.setGlobalDraggingIds)(dragControlIds);\n    var _dataContext$findCont2 = dataContext.findControl(controlId),\n      controlType = _dataContext$findCont2._Type_,\n      name = _dataContext$findCont2.Name;\n    (0,_utils_setDragImage__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(event, controlType, name);\n  }, [rootId]);\n  var onDragEnter = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (event) {\n    var _containerDom$dataset;\n    var containerDom = getContainerDom(event.currentTarget);\n    if (containerDom && !(containerDom !== null && containerDom !== void 0 && (_containerDom$dataset = containerDom.dataset) !== null && _containerDom$dataset !== void 0 && _containerDom$dataset.dragOver)) {\n      containerDom.setAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_9__.dataDragOverStyle, 'true');\n    }\n  }, []);\n  var onDragLeave = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (event) {\n    var containerDom = getContainerDom(event.currentTarget);\n    if (containerDom !== null && containerDom !== void 0 && containerDom.contains(event.relatedTarget)) {\n      var dom = (0,_useDragDrop__WEBPACK_IMPORTED_MODULE_12__.getDragDom)(event.currentTarget);\n      if (dom !== null && dom !== void 0 && dom.dataset.groupBarItemId && dom !== null && dom !== void 0 && dom.dataset.dragDirection) {\n        (0,_useDragDrop__WEBPACK_IMPORTED_MODULE_12__.removeAllDragDatasetStyle)(dom);\n      }\n      return;\n    }\n    if (containerDom !== null && containerDom !== void 0 && containerDom.dataset.dragOver) {\n      containerDom.removeAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_9__.dataDragOverStyle);\n    }\n  }, []);\n  var dragOverProps = IsContainer ? {\n    onDragEnter: onDragEnter,\n    onDragLeave: onDragLeave\n  } : {};\n  return _objectSpread(_objectSpread((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_9__.dataDragId, field[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__.ID]), dragOverProps), {}, {\n    onDragStart: onDragStart,\n    draggable: !isRootPanel && !fieldStatusSettingMode\n  });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useDragControl);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTc5MjAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7O0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBR0E7QUFDQTtBQUFBO0FBRUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9ob29rcy91c2VEcmFnQ29udHJvbC50cz8wYmM5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7XG4gIElEYXRhQXBpLCBJU2VsZWN0aW9uLCBJQ29udHJvbEl0ZW1VcHBlcmNhc2VLZXksXG59IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQnXG5pbXBvcnQge1xuICBkYXRhRHJhZ0lkLCBkYXRhQ29udHJvbElkLCBkYXRhSXNEcmFnZ2luZywgZGF0YUlzQ29udGFpbmVyLCBkYXRhRHJhZ092ZXJTdHlsZVxufSBmcm9tICcuLi9jb25zdGFudHMvZGF0YUF0dHJpYnV0ZSdcbmltcG9ydCB7IElELCBfVFlQRV8gfSBmcm9tICcuLi9jb25zdGFudHMvcHJvcG5hbWVzJ1xuaW1wb3J0IHNldERyYWdJbWFnZSBmcm9tICcuLi91dGlscy9zZXREcmFnSW1hZ2UnXG5pbXBvcnQgeyBzZXRHbG9iYWxEcmFnZ2luZ0lkcywgZ2V0RHJhZ0RvbSwgcmVtb3ZlQWxsRHJhZ0RhdGFzZXRTdHlsZSB9IGZyb20gJy4vdXNlRHJhZ0Ryb3AnXG5pbXBvcnQgeyBpc0dyb3VwQ29udGFpbmVyIH0gZnJvbSAnLi4vdXRpbHMnXG5cbmV4cG9ydCBjb25zdCBnZXRDb250YWluZXJEb20gPSAoZG9tOiBnbG9iYWxUaGlzLkhUTUxFbGVtZW50KSA9PiB7XG4gIGxldCB0YXJnZXREb20gPSBudWxsXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKGRvbT8uZGF0YXNldD8uZHJhZ0lkICYmICFkb20/LmRhdGFzZXQ/Lmdyb3VwQmFySXRlbUlkKSB7XG4gICAgICB0YXJnZXREb20gPSBkb21cbiAgICAgIGJyZWFrXG4gICAgfSBlbHNlIGlmIChkb20uaWQgPT09ICd1aS1kZXNpZ25lci1yb290Jykge1xuICAgICAgYnJlYWtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9tID0gZG9tLnBhcmVudE5vZGVcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldERvbVxufVxuXG5cbmNvbnN0IHVzZURyYWdDb250cm9sID0gKGZpZWxkOiBJQ29udHJvbEl0ZW1VcHBlcmNhc2VLZXkpID0+IHtcbiAgY29uc3QgeyBnZXRLZGVzaWduZXJBcGksIGZpZWxkU3RhdHVzU2V0dGluZ01vZGUgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCBrZGVzaWduZXJBcGkgPSB1c2VNZW1vKCgpID0+IGdldEtkZXNpZ25lckFwaSgpLCBbXSlcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCwgbWV0YTogbWV0YUFwaSB9ID0ga2Rlc2lnbmVyQXBpXG4gIGNvbnN0IHJvb3RJZCA9IGRhdGFDb250ZXh0LmdldFJvb3RJZCgpXG4gIGNvbnN0IGlzUm9vdFBhbmVsID0gcm9vdElkID09PSBmaWVsZFtJRF1cbiAgY29uc3QgY29udHJvbERhdGEgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChmaWVsZFtJRF0pXG4gIGNvbnN0IGNvbnRyb2xUeXBlID0gY29udHJvbERhdGE/Ll9UeXBlX1xuICBjb25zdCB7IElzQ29udGFpbmVyID0gZmFsc2UgfSA9IG1ldGFBcGkuZ2V0Q29udHJvbE1ldGEoY29udHJvbFR5cGUpIHx8IHt9XG5cblxuICAvLyDlvIDlp4vmi5bmi71cbiAgY29uc3Qgb25EcmFnU3RhcnQgPSB1c2VDYWxsYmFjaygoZXZlbnQ6IERyYWdFdmVudCkgPT4ge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICBsZXQgZG9tOiBIVE1MRWxlbWVudCB8IG51bGwgPSBldmVudC5jdXJyZW50VGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgZG9tID0gZ2V0RHJhZ0RvbShkb20pXG4gICAgY29uc3QgY29udHJvbElkOiBzdHJpbmcgfCBudWxsID0gZG9tLmRhdGFzZXQuZHJhZ0lkIHx8IG51bGxcbiAgICBsZXQgZHJhZ0NvbnRyb2xJZHM6IEFycmF5PHN0cmluZyB8IG51bGw+ID0gW2NvbnRyb2xJZF1cbiAgICBjb25zdCB7IF9UeXBlXywgR3JvdXBQYXJlbnRJZCB9ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woY29udHJvbElkKVxuICAgIGlmIChpc0dyb3VwQ29udGFpbmVyKF9UeXBlXykgJiYgIWRvbT8uZGF0YXNldD8uZ3JvdXBCYXJJdGVtSWQpIHtcbiAgICAgIC8vIOWmguaenOaLluaLveeahOS4jeaYr+mhteetvuagh+mimOWMuuWfn++8jOWImeiupOS4uuaYr+aLluaLveWIhue7hOaVtOS9k1xuICAgICAgZHJhZ0NvbnRyb2xJZHMgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbEJ5Q29uZGl0aW9uKGl0ZW0gPT4gaXRlbS5Hcm91cFBhcmVudElkID09PSBHcm91cFBhcmVudElkKS5tYXAoaXRlbSA9PiBpdGVtLklkKVxuICAgIH1cbiAgICBzZXRHbG9iYWxEcmFnZ2luZ0lkcyhkcmFnQ29udHJvbElkcylcblxuICAgIGNvbnN0IHsgX1R5cGVfOiBjb250cm9sVHlwZSxOYW1lOiBuYW1lIH0gPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChjb250cm9sSWQpXG4gICAgc2V0RHJhZ0ltYWdlKGV2ZW50LCBjb250cm9sVHlwZSwgbmFtZSlcbiAgfSwgW3Jvb3RJZF0pXG5cbiAgY29uc3Qgb25EcmFnRW50ZXIgPSB1c2VDYWxsYmFjaygoZXZlbnQ6IERyYWdFdmVudCkgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lckRvbSA9IGdldENvbnRhaW5lckRvbShldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgIGlmIChjb250YWluZXJEb20gJiYgIWNvbnRhaW5lckRvbT8uZGF0YXNldD8uZHJhZ092ZXIpIHtcbiAgICAgIGNvbnRhaW5lckRvbS5zZXRBdHRyaWJ1dGUoZGF0YURyYWdPdmVyU3R5bGUsICd0cnVlJylcbiAgICB9XG4gIH0sIFtdKVxuXG4gIGNvbnN0IG9uRHJhZ0xlYXZlID0gdXNlQ2FsbGJhY2soKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcbiAgICBjb25zdCBjb250YWluZXJEb20gPSBnZXRDb250YWluZXJEb20oZXZlbnQuY3VycmVudFRhcmdldClcbiAgICBpZiAoY29udGFpbmVyRG9tPy5jb250YWlucyhldmVudC5yZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgY29uc3QgZG9tID0gZ2V0RHJhZ0RvbShldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgICAgaWYgKGRvbT8uZGF0YXNldC5ncm91cEJhckl0ZW1JZCAmJiBkb20/LmRhdGFzZXQuZHJhZ0RpcmVjdGlvbikge1xuICAgICAgICByZW1vdmVBbGxEcmFnRGF0YXNldFN0eWxlKGRvbSlcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoY29udGFpbmVyRG9tPy5kYXRhc2V0LmRyYWdPdmVyKSB7XG4gICAgICBjb250YWluZXJEb20ucmVtb3ZlQXR0cmlidXRlKGRhdGFEcmFnT3ZlclN0eWxlKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgY29uc3QgZHJhZ092ZXJQcm9wcyA9IElzQ29udGFpbmVyID8geyBvbkRyYWdFbnRlciwgb25EcmFnTGVhdmUgfSA6IHt9XG5cbiAgcmV0dXJuIHtcbiAgICBbZGF0YURyYWdJZF06IGZpZWxkW0lEXSxcbiAgICAuLi5kcmFnT3ZlclByb3BzLFxuICAgIG9uRHJhZ1N0YXJ0LFxuICAgIGRyYWdnYWJsZTogIWlzUm9vdFBhbmVsICYmICFmaWVsZFN0YXR1c1NldHRpbmdNb2RlXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlRHJhZ0NvbnRyb2xcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///57920\n");

/***/ }),

/***/ 52708:
/*!**********************************!*\
  !*** ./src/hooks/useDragDrop.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDragDirection: function() { return /* binding */ getDragDirection; },\n/* harmony export */   getDragDom: function() { return /* binding */ getDragDom; },\n/* harmony export */   getDragGroupContainerBar: function() { return /* binding */ getDragGroupContainerBar; },\n/* harmony export */   getDragOverId: function() { return /* binding */ getDragOverId; },\n/* harmony export */   getGlobalDraggingIds: function() { return /* binding */ getGlobalDraggingIds; },\n/* harmony export */   globalDraggingIds: function() { return /* binding */ globalDraggingIds; },\n/* harmony export */   removeAllDragDatasetStyle: function() { return /* binding */ removeAllDragDatasetStyle; },\n/* harmony export */   rmDragStyleOfDom: function() { return /* binding */ rmDragStyleOfDom; },\n/* harmony export */   setDragOverId: function() { return /* binding */ setDragOverId; },\n/* harmony export */   setGlobalDraggingIds: function() { return /* binding */ setGlobalDraggingIds; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set */ 99308);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/sort */ 24244);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 61260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../constants/dataAttribute */ 64536);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils */ 41232);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/control */ 3700);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar getDragDom = function getDragDom(dom) {\n  var targetDom = null;\n  while (true) {\n    var _dom;\n    if (dom.dataset.dragId) {\n      targetDom = dom;\n      break;\n    } else if (dom.className === 'kd-nc-grid-panel' && !((_dom = dom) !== null && _dom !== void 0 && (_dom = _dom.dataset) !== null && _dom !== void 0 && _dom.groupContainerItem)) {\n      // 这里break原因是，拖拽到根节点的kd-row间隙区域，会向上冒泡到根节点\n      break;\n    } else {\n      dom = dom.parentNode;\n    }\n  }\n  return targetDom;\n};\nvar getDragGroupContainerBar = function getDragGroupContainerBar(dom) {\n  while (!dom.dataset.groupBarItemId && dom.id !== 'ui-designer-root') {\n    dom = dom.parentNode;\n  }\n  return dom;\n};\n\n// 拖拽样式的自定义属性\nvar dragDatasetProps = [_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataLeftDragStyle, _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataRightDragStyle, _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataTopDragStyle, _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataBottomDragStyle, _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataDirection];\n// 移除相应属性\nvar removeAllDragDatasetStyle = function removeAllDragDatasetStyle(dom) {\n  dragDatasetProps.forEach(function (datasetProp) {\n    return dom.removeAttribute(datasetProp);\n  });\n};\n// 移除所有属性\nvar rmDragStyleOfDom = function rmDragStyleOfDom() {\n  // if (browserType.isFireFox) {\n  setTimeout(function () {\n    var _context;\n    var allDoms = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_2___default())(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context = []).call(_context, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(document.querySelectorAll(\"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataDirection, \"]\"))), (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(document.querySelectorAll(\"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataDragOverStyle, \"]\"))))));\n    if (allDoms.length) {\n      allDoms.forEach(function (item) {\n        removeAllDragDatasetStyle(item);\n        item.removeAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataDragOverStyle);\n      });\n    }\n  }, 200);\n  // }\n};\nvar globalDraggingIds = null;\nvar currentDragEnterControlId = '';\nvar isDragInGroupHeader = false; // 是否拖拽至分组标题栏区域\n\nvar getDragOverId = function getDragOverId() {\n  return currentDragEnterControlId;\n};\nvar setDragOverId = function setDragOverId(id) {\n  currentDragEnterControlId = id;\n};\nvar getGlobalDraggingIds = function getGlobalDraggingIds() {\n  return globalDraggingIds;\n};\nvar setGlobalDraggingIds = function setGlobalDraggingIds(ids) {\n  globalDraggingIds = ids;\n};\n\n// 上下边线的高度\nvar TBBorderAreaWidth = 8;\nvar getDragDirection = function getDragDirection(dom, eventX, eventY) {\n  var domRect = dom.getBoundingClientRect();\n  var x = domRect.x,\n    y = domRect.y,\n    width = domRect.width,\n    height = domRect.height;\n  var x2 = x + width;\n  var y2 = y + height;\n  var midX = (x + x2) / 2;\n  var direction = '';\n  if (x < eventX && eventX < x2 && y <= eventY && eventY <= y + TBBorderAreaWidth) {\n    // 上边线\n    direction = 'left';\n  } else if (x < eventX && eventX < x2 && y2 - TBBorderAreaWidth <= eventY && eventY < y2) {\n    // 下边线\n    direction = 'right';\n  } else if (x <= eventX && eventX <= midX && y < eventY && eventY < y2) {\n    // 左边线\n    direction = 'left';\n  } else if (midX < eventX && eventX < x2 && y < eventY && eventY < y2) {\n    // 右边线\n    direction = 'right';\n  }\n  return direction;\n};\nvar useDragDrop = function useDragDrop() {\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useContext)(_context__WEBPACK_IMPORTED_MODULE_9__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    pubUIAction = _useContext.pubUIAction;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    selectionContext = _getKdesignerApi.selection,\n    metaApi = _getKdesignerApi.meta,\n    dataFactory = _getKdesignerApi.dataFactory;\n  var _useContext2 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.GlobalConfigContext),\n    env = _useContext2.env,\n    showMessage = _useContext2.showMessage;\n  var rootId = dataContext.getRootId();\n  var rootGridPanel = document.querySelector('.kd-row');\n  var isDragParentToChild = function isDragParentToChild(sourceId, targeId) {\n    var sourceIds = Array.isArray(sourceId) ? sourceId : [sourceId];\n    var parentControlIds = dataContext.getAllParentControlIds(targeId);\n    return parentControlIds.some(function (id) {\n      return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default()(sourceIds).call(sourceIds, id);\n    });\n  };\n\n  // 画布内控件拖拽至分组容器\n  var dragToGroupContainer = function dragToGroupContainer(_ref, targetDom) {\n    var dropControl = _ref.dropControl,\n      dragControlIds = _ref.dragControlIds,\n      dataContext = _ref.dataContext;\n    var parentId = dropControl.ParentId,\n      controlId = dropControl.Id,\n      dropControlType = dropControl._Type_;\n    var dragGroupContainerBarId = getDragGroupContainerBar(targetDom).getAttribute('data-group-bar-item-id');\n    var targetId = controlId;\n    var otherFieldUpdateActions = [];\n    var groupContainerUpdateActions = [];\n    var dragGroupItemControlIds = [];\n\n    // 批量拖拽\n    var _loop = function _loop() {\n        var dragControlId = dragControlIds[index];\n        var targetCtrl = dataContext.findControl(dragControlId);\n        var parentCtrl = dataContext.findControl(targetCtrl.ParentId);\n        if (parentCtrl && (0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBillTable)(parentCtrl._Type_)) {\n          showMessage('表格的内容无法移动到表格之外');\n          return {\n            v: void 0\n          };\n        }\n\n        // 当拖拽父元素到子元素的时候\n        if (isDragParentToChild(dragControlId, controlId)) {\n          console.warn('不能拖拽父元素到子元素');\n          return {\n            v: void 0\n          };\n        }\n        var dragControl = dataContext.findControl(dragControlId);\n        var dragControlType = dragControl._Type_,\n          dragControlParentId = dragControl.ParentId,\n          GroupIndex = dragControl.GroupIndex,\n          GroupParentId = dragControl.GroupParentId;\n        var canAdd = metaApi.canAdd(dragControlType, dropControlType);\n        if ((0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(canAdd) === 'object' && !canAdd.success) {\n          return {\n            v: showMessage(canAdd.message)\n          };\n        }\n        if ((0,_utils__WEBPACK_IMPORTED_MODULE_13__.isGroupContainer)(dragControlType)) {\n          if (dragGroupContainerBarId) {\n            if (dragControl.GroupParentId !== dropControl.GroupParentId) {\n              var _context2, _context3;\n              // 其他分组拖拽到当前分组\n              var dragControlUpdateData = {\n                GroupParentId: dropControl.GroupParentId,\n                GroupIndex: Number(dropControl.GroupIndex) + 1,\n                ParentId: dropControl.ParentId\n              };\n              groupContainerUpdateActions.push([dragControl.Id, dragControlUpdateData]);\n\n              // 放置的分组\n              var dropControls = _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_5___default()(_context2 = dataContext.findControlByCondition(function (control) {\n                return control.GroupParentId === dropControl.GroupParentId;\n              })).call(_context2, function (groupA, groupB) {\n                return Number(groupA.GroupIndex) - Number(groupB.GroupIndex);\n              });\n              _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_6___default()(dropControls).call(dropControls, Number(dropControl.GroupIndex) + 1, 0, dragControl);\n              dropControls === null || dropControls === void 0 || dropControls.forEach(function (control, index) {\n                if (Number(control.GroupIndex) !== index) {\n                  groupContainerUpdateActions.push([control.Id, {\n                    GroupIndex: index\n                  }]);\n                }\n              });\n\n              // 原拖拽的分组\n              var dragControls = _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_5___default()(_context3 = dataContext.findControlByCondition(function (control) {\n                return control.GroupParentId === dragControl.GroupParentId && control.Id !== dragControl.Id;\n              })).call(_context3, function (groupA, groupB) {\n                return Number(groupA.GroupIndex) - Number(groupB.GroupIndex);\n              });\n              dragControls === null || dragControls === void 0 || dragControls.forEach(function (control, index) {\n                if (Number(control.GroupIndex) !== index) {\n                  groupContainerUpdateActions.push([control.Id, {\n                    GroupIndex: index\n                  }]);\n                }\n              });\n            } else {\n              var _context4;\n              // 分组内部拖拽\n              var controls = _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_5___default()(_context4 = dataContext.findControlByCondition(function (control) {\n                return control.GroupParentId === dropControl.GroupParentId && control.Id !== dragControl.Id;\n              })).call(_context4, function (groupA, groupB) {\n                return Number(groupA.GroupIndex) - Number(groupB.GroupIndex);\n              });\n              if (Number(dropControl.GroupIndex) < Number(dragControl.GroupIndex)) {\n                // 从后往前拖\n                _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_6___default()(controls).call(controls, Number(dropControl.GroupIndex) + 1, 0, dragControl);\n              } else {\n                // 从前往后拖\n                _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_6___default()(controls).call(controls, Number(dropControl.GroupIndex), 0, dragControl);\n              }\n              controls === null || controls === void 0 || controls.forEach(function (control, index) {\n                if (Number(control.GroupIndex) !== index) {\n                  groupContainerUpdateActions.push([control.Id, {\n                    GroupIndex: index\n                  }]);\n                }\n              });\n            }\n            dragGroupItemControlIds.push({\n              Id: dragControlId\n            });\n          } else {\n            dragGroupItemControlIds.push({\n              Id: dragControlId,\n              ParentId: controlId\n            });\n            var _dataContext$findCont = dataContext.findControl(targetId),\n              parentStatus = _dataContext$findCont.Status;\n            if (parentStatus !== undefined) {\n              var allSubControlId = dataContext.getAllSubControlIds(dragControlId);\n              otherFieldUpdateActions.push.apply(otherFieldUpdateActions, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default()(allSubControlId).call(allSubControlId, function (id) {\n                return [id, {\n                  Status: parentStatus\n                }];\n              })));\n            }\n            if (dragControlIds.length === 1 && GroupIndex !== undefined && GroupParentId) {\n              // 如果是分组页签，拖入别的分组内部，需要判断原分组有无并列页签，并更新GroupIndex和GroupParentId\n              var otherGroup = dataContext.findControlByCondition(function (control) {\n                return control.GroupParentId === GroupParentId && control.Id !== dragControlId;\n              });\n              if (otherGroup.length > 0) {\n                // 如果 子分组，拖拽到非分组页签区域\n                otherFieldUpdateActions.push([dragControlId, {\n                  GroupIndex: 0,\n                  GroupParentId: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUUid)()\n                }]);\n                if (Number(GroupIndex) === 0) {\n                  // 如果是第一个页签拖出\n                  var otherGroupUpdates = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default()(otherGroup).call(otherGroup, function (group, index) {\n                    var Id = group.Id;\n                    return [Id, {\n                      GroupIndex: index\n                    }];\n                  });\n                  otherFieldUpdateActions.push.apply(otherFieldUpdateActions, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(otherGroupUpdates));\n                }\n              }\n            }\n          }\n        } else {\n          if (dragGroupContainerBarId) {\n            otherFieldUpdateActions.push([dragControlId, {\n              ParentId: dragGroupContainerBarId\n            }]);\n          } else {\n            // 普通字段拖拽到分组容器\n            otherFieldUpdateActions.push([dragControlId, {\n              ParentId: controlId\n            }]);\n          }\n        }\n      },\n      _ret;\n    for (var index = 0; index < dragControlIds.length; index++) {\n      _ret = _loop();\n      if (_ret) return _ret.v;\n    }\n    if (groupContainerUpdateActions.length > 0) {\n      dataContext.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUpdateAction)(groupContainerUpdateActions), false);\n    }\n    if (dragGroupItemControlIds.length > 0) {\n      dataContext.insertControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createInsertAction)({\n        targetId: targetId,\n        values: dragGroupItemControlIds,\n        isPre: false\n      }));\n    }\n\n    // 拖拽的是其他字段\n    if (otherFieldUpdateActions.length > 0) {\n      dataContext.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUpdateAction)(otherFieldUpdateActions));\n    }\n    rmDragStyleOfDom();\n  };\n\n  // 控件栏拖拽至分组内\n  var dragNewControlToGroupContainer = function dragNewControlToGroupContainer(targetDom, controlData) {\n    var _getDragGroupContaine;\n    var newControlData = env[designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.CONTROL_DRAG_DATA];\n    var _newControlData$data = newControlData.data,\n      data = _newControlData$data === void 0 ? {} : _newControlData$data;\n    var newControlType = data.Id;\n    var controlId = controlData.Id,\n      parentId = controlData.ParentId;\n    var dragGroupContainerBarId = (_getDragGroupContaine = getDragGroupContainerBar(targetDom)) === null || _getDragGroupContaine === void 0 ? void 0 : _getDragGroupContaine.getAttribute('data-group-bar-item-id');\n    var newControlFactory;\n\n    /**\r\n     * 1、新增分组容器到分组容器A\r\n     *    1-1、拖拽到分组容器A的标题栏中（isTab为true）\r\n     *      1-1-1、如果是拖拽到标题栏中右侧空白区域，则直接生成以当前分组容器A为父节点的子页签（isTab为true）\r\n     *      1-1-2、如果是拖拽到标题栏中的某个子项中，则在当前子项的后面插入以当前分组容器A为父节点的子页签（isTab为true）\r\n     *    1-2、拖拽到分组容器的内容区中，则生成以当前分组容器为父节点的子节点（isTab为false或者undefined）\r\n     *      直接生成子节点（这里没有插入交换位置的逻辑）\r\n     * 2、新增普通字段到分组容器\r\n     *    直接加入到当前激活的分组容器页签对应的子节点\r\n     */\n    if ((0,_utils__WEBPACK_IMPORTED_MODULE_13__.isGroupContainer)(newControlType)) {\n      if (dragGroupContainerBarId) {\n        // 标题栏\n        newControlFactory = dataFactory({\n          type: newControlType,\n          parentId: dataContext.getParentControlId(controlId),\n          transferData: {\n            Key: \"nc_\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUUid)().toLowerCase())\n          }\n        });\n        newControlFactory.GroupParentId = controlData.GroupParentId;\n        newControlFactory.GroupIndex = Number(controlData.GroupIndex) + 1;\n        var targetId = dragGroupContainerBarId;\n        if (!targetDom.getAttribute('data-group-bar-item-id')) {\n          var _context5;\n          var controls = _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_5___default()(_context5 = dataContext.findControlByCondition(function (control) {\n            return control.GroupParentId === controlData.GroupParentId;\n          })).call(_context5, function (groupA, groupB) {\n            return Number(groupA.GroupIndex) - Number(groupB.GroupIndex);\n          });\n          targetId = controls[controls.length - 1].Id;\n        } else {\n          targetId = targetDom.getAttribute('data-group-bar-item-id');\n        }\n        // console.log('dragGroupContainerBarId', dragGroupContainerBarId !== targetDom.getAttribute('data-group-bar-item-id'));\n        dataContext.insertControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createInsertAction)({\n          targetId: targetId,\n          values: [newControlFactory],\n          isPre: false\n        }, {\n          isInstrucAdd: true\n        })).then(function (actions) {\n          selectionContext.setSelect(newControlFactory.Id);\n        });\n        return;\n      } else {\n        // 内容区\n        newControlFactory = dataFactory({\n          type: newControlType,\n          parentId: controlId\n        });\n        newControlFactory.GroupParentId = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUUid)();\n        newControlFactory.GroupIndex = 0;\n      }\n    } else {\n      if (dragGroupContainerBarId) {\n        // 头部\n        newControlFactory = dataFactory({\n          type: newControlType,\n          parentId: dragGroupContainerBarId\n        });\n      } else {\n        newControlFactory = dataFactory({\n          type: newControlType,\n          parentId: controlId\n        });\n      }\n    }\n    dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createAddAction)(newControlFactory)).then(function (actions) {\n      selectionContext.setSelect(newControlFactory.Id);\n    });\n    delete env[designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.CONTROL_DRAG_DATA];\n  };\n\n  // 从工具箱往主视图拖拽\n  var dragToView = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useCallback)(function (controlId, targetDom, options) {\n    var _ref2 = options || {},\n      _ref2$isPrev = _ref2.isPrev,\n      isPrev = _ref2$isPrev === void 0 ? false : _ref2$isPrev;\n    var newControlData = env[designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.CONTROL_DRAG_DATA];\n    var _newControlData$data2 = newControlData.data,\n      data = _newControlData$data2 === void 0 ? {} : _newControlData$data2;\n    var newControlType = data.Id;\n    var controlData = dataContext.findControl(controlId);\n    var controlIndex = -1;\n    if (controlId === rootId) {\n      controlIndex = isPrev ? 1 : -1;\n    } else {\n      var insetIndex = dataContext.findControlIndex(controlId);\n      if (!isPrev) {\n        var subControls = dataContext.getSubControls(controlId);\n        var _length = subControls.length;\n        if (_length > 0) {\n          var _subControls;\n          controlIndex = dataContext.findControlIndex((_subControls = subControls[_length - 1]) === null || _subControls === void 0 ? void 0 : _subControls[_constants_propnames__WEBPACK_IMPORTED_MODULE_11__.ID]) + 1;\n        } else {\n          controlIndex = insetIndex + 1;\n        }\n      } else {\n        controlIndex = insetIndex;\n      }\n    }\n    var controlType = controlData[_constants_propnames__WEBPACK_IMPORTED_MODULE_11__._TYPE_];\n    var _metaApi$getControlMe = metaApi.getControlMeta(controlType),\n      _metaApi$getControlMe2 = _metaApi$getControlMe.IsContainer,\n      IsContainer = _metaApi$getControlMe2 === void 0 ? false : _metaApi$getControlMe2;\n    var parentId = IsContainer ? controlId : dataContext.getParentControlId(controlId) || rootId;\n    var parentControlType = dataContext.findControl(parentId)[_constants_propnames__WEBPACK_IMPORTED_MODULE_11__._TYPE_];\n    var canAdd = metaApi.canAdd(newControlType, parentControlType);\n    if (!canAdd || (canAdd === null || canAdd === void 0 ? void 0 : canAdd.success) === false) return;\n    pubUIAction({\n      eventName: 'drag',\n      action: 'fd_add_drag'\n    });\n    // 当前放置的是否分组容器\n    if ((0,_utils__WEBPACK_IMPORTED_MODULE_13__.isGroupContainer)(controlType)) {\n      return dragNewControlToGroupContainer(targetDom, controlData);\n    }\n    var newControl = dataFactory({\n      type: newControlType,\n      parentId: parentId\n    });\n    dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createAddAction)(newControl, {\n      index: controlIndex\n    })).then(function (actions) {\n      var realControl = actions[0].value;\n      selectionContext.setSelect(Array.isArray(realControl) ? [realControl[0][_constants_propnames__WEBPACK_IMPORTED_MODULE_11__.ID]] : [realControl[_constants_propnames__WEBPACK_IMPORTED_MODULE_11__.ID]]);\n    });\n    delete env[designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.CONTROL_DRAG_DATA];\n  }, [env[designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.CONTROL_DRAG_DATA], pubUIAction]);\n  var onDrop = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useCallback)(function (event) {\n    var _context6, _event$target, _newControlData$data3, _dom$dataset, _context7;\n    event.stopPropagation();\n    var rootDom = document.querySelector(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context6 = \"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataControlId, \"='\")).call(_context6, rootId, \"']\"));\n    var newControlData = env[designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.CONTROL_DRAG_DATA];\n    if (!rootDom || !globalDraggingIds && !newControlData) return;\n    var dragControlIds = globalDraggingIds || [];\n    event === null || event === void 0 || event.currentTarget.removeAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataIsDragging);\n    setGlobalDraggingIds(null);\n    setDragOverId('');\n    var target = event.target;\n    var dragControlId = dragControlIds[0];\n    var dragControl = dataContext.findControl(dragControlId);\n    var dom = event.target;\n    if ((_event$target = event.target) !== null && _event$target !== void 0 && (_event$target = _event$target.dataset) !== null && _event$target !== void 0 && _event$target.tabsHeader && (0,_utils__WEBPACK_IMPORTED_MODULE_13__.isGroupContainer)(!dragControlId ? (_newControlData$data3 = newControlData.data) === null || _newControlData$data3 === void 0 ? void 0 : _newControlData$data3.Id : dragControl === null || dragControl === void 0 ? void 0 : dragControl._Type_)) {\n      dom = dom.lastChild;\n    } else {\n      dom = getDragDom(event.target);\n    }\n    var controlId = dom.dataset.dragId || '';\n    // 不允许父元素拖到子元素\n    if (dragControlIds && (dragControlIds === null || dragControlIds === void 0 ? void 0 : dragControlIds.length) > 0) {\n      // 当拖拽父元素到子元素的时候\n      if (isDragParentToChild(dragControlIds, controlId)) {\n        console.warn('不能拖拽父元素到子元素');\n        return;\n      }\n    }\n    var direction = ((_dom$dataset = dom.dataset) === null || _dom$dataset === void 0 ? void 0 : _dom$dataset.dragDirection) || 'right';\n    var isPrev = false;\n    removeAllDragDatasetStyle(dom);\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default()(_context7 = ['top', 'left']).call(_context7, direction)) {\n      isPrev = true;\n    }\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default()(dragControlIds).call(dragControlIds, controlId)) {\n      return;\n    }\n    if (controlId === rootId && rootGridPanel !== null && rootGridPanel !== void 0 && rootGridPanel.contains(target)) return;\n    if (dragControlIds !== null && dragControlIds !== void 0 && dragControlIds.length) {\n      var dropControl = dataContext.findControl(controlId);\n      var _Type_ = dropControl._Type_;\n      if ((0,_utils__WEBPACK_IMPORTED_MODULE_13__.isGroupContainer)(_Type_)) {\n        return dragToGroupContainer({\n          dropControl: dropControl,\n          dragControlIds: dragControlIds,\n          dataContext: dataContext\n        }, dom);\n      }\n      // 主视图拖拽\n      dataContext.swapControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createSwapAction)({\n        origin: dragControlIds,\n        target: controlId,\n        isPrev: isPrev\n      })).then(function (actions) {\n        // selectionContext.setSelect([dragControlIds[0]])\n      });\n    } else {\n      // 从工具箱往主视图拖拽，最终表现是新增行为\n      dragToView(controlId, dom, {\n        isPrev: isPrev\n      });\n    }\n    rmDragStyleOfDom();\n  }, []);\n  var onDragOver = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useCallback)(function (event) {\n    var _dom$dataset2, _dom$dataset3, _event$target3, _newControlData$data4, _newControlData$data5;\n    event.preventDefault();\n    event === null || event === void 0 || event.currentTarget.setAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataIsDragging, \"true\");\n    var newControlData = env[designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.CONTROL_DRAG_DATA];\n    if (!globalDraggingIds && !newControlData) return;\n    var dragControlIds = globalDraggingIds || [];\n    var dom = getDragDom(event.target);\n    var currentDragOverId = (dom === null || dom === void 0 || (_dom$dataset2 = dom.dataset) === null || _dom$dataset2 === void 0 ? void 0 : _dom$dataset2.dragId) || null;\n    if (!currentDragOverId) {\n      setDragOverId('');\n      return;\n    }\n    var oldDragOverId = getDragOverId();\n    if (oldDragOverId && currentDragOverId && oldDragOverId !== currentDragOverId) {\n      var _context8;\n      var oldActiveDoms = document.querySelectorAll(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context8 = \"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataDragId, \"='\")).call(_context8, oldDragOverId, \"']\"));\n      oldActiveDoms && oldActiveDoms.forEach(function (oldDom) {\n        return removeAllDragDatasetStyle(oldDom);\n      });\n      setDragOverId(currentDragOverId);\n    } else if (oldDragOverId === '') {\n      setDragOverId(currentDragOverId);\n    } else if (oldDragOverId && currentDragOverId && oldDragOverId === currentDragOverId) {\n      var _event$target2;\n      if ((_event$target2 = event.target) !== null && _event$target2 !== void 0 && (_event$target2 = _event$target2.dataset) !== null && _event$target2 !== void 0 && _event$target2.tabsHeader) {\n        isDragInGroupHeader = true;\n      } else if (isDragInGroupHeader) {\n        var _context9, _context10;\n        isDragInGroupHeader = false;\n        var _oldActiveDoms = document.querySelectorAll(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context9 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context10 = \"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataDragId, \"='\")).call(_context10, oldDragOverId, \"'] [\")).call(_context9, _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataDirection, \"]\"));\n        _oldActiveDoms && _oldActiveDoms.forEach(function (oldDom) {\n          return removeAllDragDatasetStyle(oldDom);\n        });\n      }\n    }\n    var dragControlId = dragControlIds[0];\n    var dragControl = dataContext.findControl(dragControlId);\n    var isGroupBarItem = dom === null || dom === void 0 || (_dom$dataset3 = dom.dataset) === null || _dom$dataset3 === void 0 ? void 0 : _dom$dataset3.groupBarItemId;\n    if ((_event$target3 = event.target) !== null && _event$target3 !== void 0 && (_event$target3 = _event$target3.dataset) !== null && _event$target3 !== void 0 && _event$target3.tabsHeader && (0,_utils__WEBPACK_IMPORTED_MODULE_13__.isGroupContainer)(!dragControlId ? (_newControlData$data4 = newControlData.data) === null || _newControlData$data4 === void 0 ? void 0 : _newControlData$data4.Id : dragControl === null || dragControl === void 0 ? void 0 : dragControl._Type_)) {\n      // 如果拖拽至页签区域（处于空白区，未在任何一个标题处），则默认行为是新增页签\n      var lastChildDom = event.target.lastChild;\n      lastChildDom === null || lastChildDom === void 0 || lastChildDom.setAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataRightDragStyle, 'true');\n      lastChildDom === null || lastChildDom === void 0 || lastChildDom.setAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataDirection, 'right');\n      setDragOverId(lastChildDom === null || lastChildDom === void 0 ? void 0 : lastChildDom.dataset.dragId);\n    }\n    if (currentDragOverId && dragControlIds !== null && dragControlIds !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_4___default()(dragControlIds).call(dragControlIds, currentDragOverId)) return;\n    if (!isGroupBarItem) {\n      // 不是拖拽到分组的标题栏\n      var _dataContext$findCont2 = dataContext.findControl(currentDragOverId),\n        _Type_ = _dataContext$findCont2._Type_;\n      var _metaApi$getControlMe3 = metaApi.getControlMeta(_Type_),\n        _metaApi$getControlMe4 = _metaApi$getControlMe3.IsContainer,\n        IsContainer = _metaApi$getControlMe4 === void 0 ? false : _metaApi$getControlMe4;\n      if (IsContainer) {\n        return;\n      }\n      var eventClientX = event.clientX;\n      var eventClientY = event.clientY;\n      var direction = getDragDirection(dom, eventClientX, eventClientY);\n      var prevDirection = dom.dataset.dragDirection;\n      if (direction && direction !== prevDirection) {\n        if (prevDirection) {\n          dom.removeAttribute(\"data-\".concat(prevDirection, \"-drag-style\"));\n          dom.removeAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataDirection);\n        }\n        dom === null || dom === void 0 || dom.setAttribute(\"data-\".concat(direction, \"-drag-style\"), 'true');\n        dom === null || dom === void 0 || dom.setAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataDirection, direction);\n      }\n    } else if ((0,_utils__WEBPACK_IMPORTED_MODULE_13__.isGroupContainer)(!dragControlId ? (_newControlData$data5 = newControlData.data) === null || _newControlData$data5 === void 0 ? void 0 : _newControlData$data5.Id : dragControl === null || dragControl === void 0 ? void 0 : dragControl._Type_)) {\n      dom === null || dom === void 0 || dom.setAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataRightDragStyle, 'true');\n      dom === null || dom === void 0 || dom.setAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataDirection, 'right');\n    }\n\n    // 注册当前控件的拖拽\n    // eventBus.emit(`drag-control_${rootId}`, controlId)\n  }, [rootId]);\n  var onDragEnd = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useCallback)(function (event) {\n    event.preventDefault();\n    rmDragStyleOfDom();\n    setGlobalDraggingIds(null);\n    setDragOverId('');\n    event === null || event === void 0 || event.currentTarget.removeAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataIsDragging);\n  }, [rootId]);\n  var onDragLeave = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_8__.useCallback)(function (event) {\n    var _event$currentTarget;\n    if (!((_event$currentTarget = event.currentTarget) !== null && _event$currentTarget !== void 0 && _event$currentTarget.contains(event.relatedTarget))) {\n      rmDragStyleOfDom();\n      event === null || event === void 0 || event.currentTarget.removeAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_10__.dataIsDragging);\n    }\n  }, []);\n  return {\n    onDragOver: onDragOver,\n    onDragEnd: onDragEnd,\n    onDrop: onDrop,\n    onDragLeave: onDragLeave\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useDragDrop);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI3MDguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFEQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBS0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBcElBO0FBQUE7QUFBQTtBQUFBO0FBc0lBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2hvb2tzL3VzZURyYWdEcm9wLnRzPzI1ZTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQnXHJcbmltcG9ydCB7XHJcbiAgZGF0YUNvbnRyb2xJZCAsIGRhdGFEaXJlY3Rpb24sIGRhdGFJc0RyYWdnaW5nLCBkYXRhRHJhZ0lkLFxyXG4gIGRhdGFSaWdodERyYWdTdHlsZSwgZGF0YUxlZnREcmFnU3R5bGUsIGRhdGFUb3BEcmFnU3R5bGUsXHJcbiAgZGF0YUJvdHRvbURyYWdTdHlsZSwgZGF0YURyYWdPdmVyU3R5bGVcclxufSBmcm9tICcuLi9jb25zdGFudHMvZGF0YUF0dHJpYnV0ZSdcclxuaW1wb3J0IHsgSUQsIF9UWVBFXyB9IGZyb20gJy4uL2NvbnN0YW50cy9wcm9wbmFtZXMnXHJcbmltcG9ydCB7XHJcbiAgR2xvYmFsQ29uZmlnQ29udGV4dCwgQ09OVFJPTF9EUkFHX0RBVEEsIGNyZWF0ZVN3YXBBY3Rpb24sXHJcbiAgY3JlYXRlQWRkQWN0aW9uLCBJQ29udHJvbEFjdGlvbiwgY3JlYXRlSW5zZXJ0QWN0aW9uLFxyXG4gIGNyZWF0ZVVwZGF0ZUFjdGlvbiwgY3JlYXRlVVVpZCwgSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5XHJcbn0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xyXG5pbXBvcnQgeyBpc0dyb3VwQ29udGFpbmVyIH0gZnJvbSAnLi4vdXRpbHMnXHJcbmltcG9ydCB7IGlzUmVmQmlsbFRhYmxlIH0gZnJvbSAnLi4vdXRpbHMvY29udHJvbCdcclxuXHJcbmV4cG9ydCBjb25zdCBnZXREcmFnRG9tID0gKGRvbTogZ2xvYmFsVGhpcy5IVE1MRWxlbWVudCkgPT4ge1xyXG4gIGxldCB0YXJnZXREb20gPSBudWxsXHJcblxyXG4gIHdoaWxlICh0cnVlKSB7XHJcbiAgICBpZiAoZG9tLmRhdGFzZXQuZHJhZ0lkKSB7XHJcbiAgICAgIHRhcmdldERvbSA9IGRvbVxyXG4gICAgICBicmVha1xyXG4gICAgfSBlbHNlIGlmIChkb20uY2xhc3NOYW1lID09PSAna2QtbmMtZ3JpZC1wYW5lbCcgJiYgIWRvbT8uZGF0YXNldD8uZ3JvdXBDb250YWluZXJJdGVtKSB7XHJcbiAgICAgIC8vIOi/memHjGJyZWFr5Y6f5Zug5piv77yM5ouW5ou95Yiw5qC56IqC54K555qEa2Qtcm936Ze06ZqZ5Yy65Z+f77yM5Lya5ZCR5LiK5YaS5rOh5Yiw5qC56IqC54K5XHJcbiAgICAgIGJyZWFrXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkb20gPSBkb20ucGFyZW50Tm9kZVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gdGFyZ2V0RG9tXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXREcmFnR3JvdXBDb250YWluZXJCYXIgPSAoZG9tKSA9PiB7XHJcbiAgd2hpbGUgKCFkb20uZGF0YXNldC5ncm91cEJhckl0ZW1JZCAmJiBkb20uaWQgIT09ICd1aS1kZXNpZ25lci1yb290Jykge1xyXG4gICAgZG9tID0gZG9tLnBhcmVudE5vZGVcclxuICB9XHJcbiAgcmV0dXJuIGRvbVxyXG59XHJcblxyXG4vLyDmi5bmi73moLflvI/nmoToh6rlrprkuYnlsZ7mgKdcclxuY29uc3QgZHJhZ0RhdGFzZXRQcm9wcyA9IFtcclxuICBkYXRhTGVmdERyYWdTdHlsZSxcclxuICBkYXRhUmlnaHREcmFnU3R5bGUsXHJcbiAgZGF0YVRvcERyYWdTdHlsZSxcclxuICBkYXRhQm90dG9tRHJhZ1N0eWxlLFxyXG4gIGRhdGFEaXJlY3Rpb24sXHJcbl1cclxuLy8g56e76Zmk55u45bqU5bGe5oCnXHJcbmV4cG9ydCBjb25zdCByZW1vdmVBbGxEcmFnRGF0YXNldFN0eWxlID0gKGRvbTogRWxlbWVudCkgPT4ge1xyXG4gIGRyYWdEYXRhc2V0UHJvcHMuZm9yRWFjaCgoZGF0YXNldFByb3A6IHN0cmluZykgPT4gZG9tLnJlbW92ZUF0dHJpYnV0ZShkYXRhc2V0UHJvcCkpXHJcbn1cclxuLy8g56e76Zmk5omA5pyJ5bGe5oCnXHJcbmV4cG9ydCBjb25zdCBybURyYWdTdHlsZU9mRG9tID0gKCkgPT4ge1xyXG4gIC8vIGlmIChicm93c2VyVHlwZS5pc0ZpcmVGb3gpIHtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBjb25zdCBhbGxEb21zID0gWy4uLm5ldyBTZXQoWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske2RhdGFEaXJlY3Rpb259XWApLCAuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbJHtkYXRhRHJhZ092ZXJTdHlsZX1dYCldKV1cclxuICAgICAgaWYgKGFsbERvbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgYWxsRG9tcy5mb3JFYWNoKChpdGVtOiBFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICByZW1vdmVBbGxEcmFnRGF0YXNldFN0eWxlKGl0ZW0pXHJcbiAgICAgICAgICBpdGVtLnJlbW92ZUF0dHJpYnV0ZShkYXRhRHJhZ092ZXJTdHlsZSlcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9LCAyMDApXHJcbiAgLy8gfVxyXG59XHJcblxyXG5leHBvcnQgbGV0IGdsb2JhbERyYWdnaW5nSWRzOiBhbnkgPSBudWxsXHJcbmxldCBjdXJyZW50RHJhZ0VudGVyQ29udHJvbElkOiBzdHJpbmcgPSAnJ1xyXG5sZXQgaXNEcmFnSW5Hcm91cEhlYWRlciA9IGZhbHNlIC8vIOaYr+WQpuaLluaLveiHs+WIhue7hOagh+mimOagj+WMuuWfn1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldERyYWdPdmVySWQgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIGN1cnJlbnREcmFnRW50ZXJDb250cm9sSWRcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHNldERyYWdPdmVySWQgPSAoaWQ6IHN0cmluZykgPT4ge1xyXG4gIGN1cnJlbnREcmFnRW50ZXJDb250cm9sSWQgPSBpZFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0R2xvYmFsRHJhZ2dpbmdJZHMgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIGdsb2JhbERyYWdnaW5nSWRzXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBzZXRHbG9iYWxEcmFnZ2luZ0lkcyA9IChpZHMpID0+IHtcclxuICBnbG9iYWxEcmFnZ2luZ0lkcyA9IGlkc1xyXG59XHJcblxyXG4vLyDkuIrkuIvovrnnur/nmoTpq5jluqZcclxuY29uc3QgVEJCb3JkZXJBcmVhV2lkdGggPSA4XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0RHJhZ0RpcmVjdGlvbiA9IChkb206IEhUTUxFbGVtZW50LCBldmVudFg6IG51bWJlciwgZXZlbnRZOiBudW1iZXIpID0+IHtcclxuICBjb25zdCBkb21SZWN0OiBET01SZWN0ID0gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcbiAgY29uc3QgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSBkb21SZWN0XHJcbiAgY29uc3QgeDIgPSB4ICsgd2lkdGhcclxuICBjb25zdCB5MiA9IHkgKyBoZWlnaHRcclxuICBjb25zdCBtaWRYID0gKHggKyB4MikgLyAyXHJcbiAgbGV0IGRpcmVjdGlvbjogc3RyaW5nID0gJydcclxuICBpZiAoeCA8IGV2ZW50WCAmJiBldmVudFggPCB4MiAmJiB5IDw9IGV2ZW50WSAmJiBldmVudFkgPD0geSArIFRCQm9yZGVyQXJlYVdpZHRoKSB7XHJcbiAgICAvLyDkuIrovrnnur9cclxuICAgIGRpcmVjdGlvbiA9ICdsZWZ0J1xyXG4gIH0gZWxzZSBpZiAoeCA8IGV2ZW50WCAmJiBldmVudFggPCB4MiAmJiB5MiAtIFRCQm9yZGVyQXJlYVdpZHRoIDw9IGV2ZW50WSAmJiBldmVudFkgPCB5Mikge1xyXG4gICAgLy8g5LiL6L6557q/XHJcbiAgICBkaXJlY3Rpb24gPSAncmlnaHQnXHJcbiAgfSBlbHNlIGlmICh4IDw9IGV2ZW50WCAmJiBldmVudFggPD0gbWlkWCAmJiB5IDwgZXZlbnRZICYmIGV2ZW50WSA8IHkyKSB7XHJcbiAgICAvLyDlt6bovrnnur9cclxuICAgIGRpcmVjdGlvbiA9ICdsZWZ0J1xyXG4gIH0gZWxzZSBpZiAobWlkWCA8IGV2ZW50WCAmJiBldmVudFggPCB4MiAmJiB5IDwgZXZlbnRZICYmIGV2ZW50WSA8IHkyKSB7XHJcbiAgICAvLyDlj7Povrnnur9cclxuICAgIGRpcmVjdGlvbiA9ICdyaWdodCdcclxuICB9XHJcbiAgcmV0dXJuIGRpcmVjdGlvblxyXG59XHJcblxyXG5jb25zdCB1c2VEcmFnRHJvcCA9ICgpID0+IHtcclxuICBjb25zdCB7IGdldEtkZXNpZ25lckFwaSwgcHViVUlBY3Rpb24gfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxyXG4gIGNvbnN0IHsgZGF0YTogZGF0YUNvbnRleHQsIHNlbGVjdGlvbjogc2VsZWN0aW9uQ29udGV4dCwgbWV0YTogbWV0YUFwaSwgZGF0YUZhY3RvcnkgfSA9IGdldEtkZXNpZ25lckFwaSgpXHJcbiAgY29uc3QgeyBlbnYsIHNob3dNZXNzYWdlIH0gPSB1c2VDb250ZXh0KEdsb2JhbENvbmZpZ0NvbnRleHQpXHJcbiAgY29uc3Qgcm9vdElkID0gZGF0YUNvbnRleHQuZ2V0Um9vdElkKClcclxuICBjb25zdCByb290R3JpZFBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmtkLXJvdycpXHJcblxyXG4gIGNvbnN0IGlzRHJhZ1BhcmVudFRvQ2hpbGQgPSAoc291cmNlSWQsIHRhcmdlSWQpID0+IHtcclxuICAgIGNvbnN0IHNvdXJjZUlkcyA9IEFycmF5LmlzQXJyYXkoc291cmNlSWQpID8gc291cmNlSWQgOiBbc291cmNlSWRdXHJcbiAgICBjb25zdCBwYXJlbnRDb250cm9sSWRzID0gZGF0YUNvbnRleHQuZ2V0QWxsUGFyZW50Q29udHJvbElkcyh0YXJnZUlkKVxyXG4gICAgcmV0dXJuIHBhcmVudENvbnRyb2xJZHMuc29tZShpZCA9PiBzb3VyY2VJZHMuaW5jbHVkZXMoaWQpKVxyXG4gIH1cclxuXHJcbiAgLy8g55S75biD5YaF5o6n5Lu25ouW5ou96Iez5YiG57uE5a655ZmoXHJcbiAgY29uc3QgZHJhZ1RvR3JvdXBDb250YWluZXIgPSAoe1xyXG4gICAgZHJvcENvbnRyb2wsIGRyYWdDb250cm9sSWRzLCBkYXRhQ29udGV4dFxyXG4gIH0sIHRhcmdldERvbSkgPT4ge1xyXG4gICAgY29uc3QgeyBQYXJlbnRJZDogcGFyZW50SWQsIElkOiBjb250cm9sSWQsIF9UeXBlXzogZHJvcENvbnRyb2xUeXBlfSA9IGRyb3BDb250cm9sXHJcbiAgICBjb25zdCBkcmFnR3JvdXBDb250YWluZXJCYXJJZCA9IGdldERyYWdHcm91cENvbnRhaW5lckJhcih0YXJnZXREb20pLmdldEF0dHJpYnV0ZSgnZGF0YS1ncm91cC1iYXItaXRlbS1pZCcpXHJcbiAgICBsZXQgdGFyZ2V0SWQgPSBjb250cm9sSWRcclxuXHJcbiAgICBjb25zdCBvdGhlckZpZWxkVXBkYXRlQWN0aW9ucyA9IFtdXHJcbiAgICBjb25zdCBncm91cENvbnRhaW5lclVwZGF0ZUFjdGlvbnMgPSBbXVxyXG4gICAgY29uc3QgZHJhZ0dyb3VwSXRlbUNvbnRyb2xJZHMgPSBbXVxyXG5cclxuICAgIC8vIOaJuemHj+aLluaLvVxyXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGRyYWdDb250cm9sSWRzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICBjb25zdCBkcmFnQ29udHJvbElkID0gZHJhZ0NvbnRyb2xJZHNbaW5kZXhdO1xyXG5cclxuICAgICAgY29uc3QgdGFyZ2V0Q3RybCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGRyYWdDb250cm9sSWQpXHJcbiAgICAgIGNvbnN0IHBhcmVudEN0cmwgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbCh0YXJnZXRDdHJsLlBhcmVudElkKVxyXG4gICAgICBpZiAocGFyZW50Q3RybCAmJiBpc1JlZkJpbGxUYWJsZShwYXJlbnRDdHJsLl9UeXBlXykpe1xyXG4gICAgICAgIHNob3dNZXNzYWdlKCfooajmoLznmoTlhoXlrrnml6Dms5Xnp7vliqjliLDooajmoLzkuYvlpJYnKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDlvZPmi5bmi73niLblhYPntKDliLDlrZDlhYPntKDnmoTml7blgJlcclxuICAgICAgaWYoaXNEcmFnUGFyZW50VG9DaGlsZChkcmFnQ29udHJvbElkLCBjb250cm9sSWQpKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCfkuI3og73mi5bmi73niLblhYPntKDliLDlrZDlhYPntKAnKTtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZHJhZ0NvbnRyb2wgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChkcmFnQ29udHJvbElkKVxyXG4gICAgICBjb25zdCB7IF9UeXBlXzogZHJhZ0NvbnRyb2xUeXBlLCBQYXJlbnRJZDogZHJhZ0NvbnRyb2xQYXJlbnRJZCwgR3JvdXBJbmRleCwgR3JvdXBQYXJlbnRJZCB9ID0gZHJhZ0NvbnRyb2xcclxuXHJcbiAgICAgIGNvbnN0IGNhbkFkZCA9IG1ldGFBcGkuY2FuQWRkKFxyXG4gICAgICAgIGRyYWdDb250cm9sVHlwZSxcclxuICAgICAgICBkcm9wQ29udHJvbFR5cGVcclxuICAgICAgKVxyXG5cclxuICAgICAgaWYgKHR5cGVvZiBjYW5BZGQgPT09ICdvYmplY3QnICYmICFjYW5BZGQuc3VjY2Vzcykge1xyXG4gICAgICAgIHJldHVybiBzaG93TWVzc2FnZShjYW5BZGQubWVzc2FnZSlcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYoaXNHcm91cENvbnRhaW5lcihkcmFnQ29udHJvbFR5cGUpKSB7XHJcbiAgICAgICAgaWYoZHJhZ0dyb3VwQ29udGFpbmVyQmFySWQpIHtcclxuICAgICAgICAgIGlmKGRyYWdDb250cm9sLkdyb3VwUGFyZW50SWQgIT09IGRyb3BDb250cm9sLkdyb3VwUGFyZW50SWQpIHtcclxuICAgICAgICAgICAgLy8g5YW25LuW5YiG57uE5ouW5ou95Yiw5b2T5YmN5YiG57uEXHJcbiAgICAgICAgICAgIGNvbnN0IGRyYWdDb250cm9sVXBkYXRlRGF0YSA9IHtcclxuICAgICAgICAgICAgICBHcm91cFBhcmVudElkOiBkcm9wQ29udHJvbC5Hcm91cFBhcmVudElkLFxyXG4gICAgICAgICAgICAgIEdyb3VwSW5kZXg6IE51bWJlcihkcm9wQ29udHJvbC5Hcm91cEluZGV4KSArIDEsXHJcbiAgICAgICAgICAgICAgUGFyZW50SWQ6IGRyb3BDb250cm9sLlBhcmVudElkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ3JvdXBDb250YWluZXJVcGRhdGVBY3Rpb25zLnB1c2goW2RyYWdDb250cm9sLklkLCBkcmFnQ29udHJvbFVwZGF0ZURhdGFdKVxyXG5cclxuICAgICAgICAgICAgLy8g5pS+572u55qE5YiG57uEXHJcbiAgICAgICAgICAgIGNvbnN0IGRyb3BDb250cm9scyA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sQnlDb25kaXRpb24oKGNvbnRyb2wpID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4gY29udHJvbC5Hcm91cFBhcmVudElkID09PSBkcm9wQ29udHJvbC5Hcm91cFBhcmVudElkXHJcbiAgICAgICAgICAgIH0pLnNvcnQoKGdyb3VwQSwgZ3JvdXBCKSA9PiAoTnVtYmVyKGdyb3VwQS5Hcm91cEluZGV4KSAtIE51bWJlcihncm91cEIuR3JvdXBJbmRleCkpKVxyXG5cclxuICAgICAgICAgICAgZHJvcENvbnRyb2xzLnNwbGljZShOdW1iZXIoZHJvcENvbnRyb2wuR3JvdXBJbmRleCkgKyAxLCAwLCBkcmFnQ29udHJvbClcclxuXHJcbiAgICAgICAgICAgIGRyb3BDb250cm9scz8uZm9yRWFjaCgoY29udHJvbCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICBpZihOdW1iZXIoY29udHJvbC5Hcm91cEluZGV4KSAhPT0gaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGdyb3VwQ29udGFpbmVyVXBkYXRlQWN0aW9ucy5wdXNoKFtjb250cm9sLklkLCB7IEdyb3VwSW5kZXg6IGluZGV4IH1dKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC8vIOWOn+aLluaLveeahOWIhue7hFxyXG4gICAgICAgICAgICBjb25zdCBkcmFnQ29udHJvbHMgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbEJ5Q29uZGl0aW9uKChjb250cm9sKSA9PiB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2wuR3JvdXBQYXJlbnRJZCA9PT0gZHJhZ0NvbnRyb2wuR3JvdXBQYXJlbnRJZCAmJiBjb250cm9sLklkICE9PSBkcmFnQ29udHJvbC5JZFxyXG4gICAgICAgICAgICB9KS5zb3J0KChncm91cEEsIGdyb3VwQikgPT4gKE51bWJlcihncm91cEEuR3JvdXBJbmRleCkgLSBOdW1iZXIoZ3JvdXBCLkdyb3VwSW5kZXgpKSlcclxuXHJcbiAgICAgICAgICAgIGRyYWdDb250cm9scz8uZm9yRWFjaCgoY29udHJvbCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICBpZihOdW1iZXIoY29udHJvbC5Hcm91cEluZGV4KSAhPT0gaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGdyb3VwQ29udGFpbmVyVXBkYXRlQWN0aW9ucy5wdXNoKFtjb250cm9sLklkLCB7IEdyb3VwSW5kZXg6IGluZGV4IH1dKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIOWIhue7hOWGhemDqOaLluaLvVxyXG4gICAgICAgICAgICBjb25zdCBjb250cm9scyA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sQnlDb25kaXRpb24oKGNvbnRyb2wpID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4gY29udHJvbC5Hcm91cFBhcmVudElkID09PSBkcm9wQ29udHJvbC5Hcm91cFBhcmVudElkICYmIGNvbnRyb2wuSWQgIT09IGRyYWdDb250cm9sLklkXHJcbiAgICAgICAgICAgIH0pLnNvcnQoKGdyb3VwQSwgZ3JvdXBCKSA9PiAoTnVtYmVyKGdyb3VwQS5Hcm91cEluZGV4KSAtIE51bWJlcihncm91cEIuR3JvdXBJbmRleCkpKVxyXG5cclxuICAgICAgICAgICAgaWYoTnVtYmVyKGRyb3BDb250cm9sLkdyb3VwSW5kZXgpIDwgTnVtYmVyKGRyYWdDb250cm9sLkdyb3VwSW5kZXgpKSB7XHJcbiAgICAgICAgICAgICAgLy8g5LuO5ZCO5b6A5YmN5ouWXHJcbiAgICAgICAgICAgICAgY29udHJvbHMuc3BsaWNlKE51bWJlcihkcm9wQ29udHJvbC5Hcm91cEluZGV4KSArIDEsIDAsIGRyYWdDb250cm9sKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIC8vIOS7juWJjeW+gOWQjuaLllxyXG4gICAgICAgICAgICAgIGNvbnRyb2xzLnNwbGljZShOdW1iZXIoZHJvcENvbnRyb2wuR3JvdXBJbmRleCksIDAsIGRyYWdDb250cm9sKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb250cm9scz8uZm9yRWFjaCgoY29udHJvbCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICBpZihOdW1iZXIoY29udHJvbC5Hcm91cEluZGV4KSAhPT0gaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGdyb3VwQ29udGFpbmVyVXBkYXRlQWN0aW9ucy5wdXNoKFtjb250cm9sLklkLCB7IEdyb3VwSW5kZXg6IGluZGV4IH1dKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGRyYWdHcm91cEl0ZW1Db250cm9sSWRzLnB1c2goe1xyXG4gICAgICAgICAgICBJZDogZHJhZ0NvbnRyb2xJZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZHJhZ0dyb3VwSXRlbUNvbnRyb2xJZHMucHVzaCh7XHJcbiAgICAgICAgICAgIElkOiBkcmFnQ29udHJvbElkLFxyXG4gICAgICAgICAgICBQYXJlbnRJZDogY29udHJvbElkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgY29uc3QgeyBTdGF0dXM6IHBhcmVudFN0YXR1cyB9ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2wodGFyZ2V0SWQpXHJcbiAgICAgICAgICBpZiAocGFyZW50U3RhdHVzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgYWxsU3ViQ29udHJvbElkID0gZGF0YUNvbnRleHQuZ2V0QWxsU3ViQ29udHJvbElkcyhkcmFnQ29udHJvbElkKVxyXG4gICAgICAgICAgICBvdGhlckZpZWxkVXBkYXRlQWN0aW9ucy5wdXNoKC4uLmFsbFN1YkNvbnRyb2xJZC5tYXAoKGlkOiBzdHJpbmcpID0+IFtpZCwgeyBTdGF0dXM6IHBhcmVudFN0YXR1cyB9XSkpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoZHJhZ0NvbnRyb2xJZHMubGVuZ3RoID09PSAxICYmIEdyb3VwSW5kZXggIT09IHVuZGVmaW5lZCAmJiBHcm91cFBhcmVudElkKSB7XHJcbiAgICAgICAgICAgIC8vIOWmguaenOaYr+WIhue7hOmhteetvu+8jOaLluWFpeWIq+eahOWIhue7hOWGhemDqO+8jOmcgOimgeWIpOaWreWOn+WIhue7hOacieaXoOW5tuWIl+mhteetvu+8jOW5tuabtOaWsEdyb3VwSW5kZXjlkoxHcm91cFBhcmVudElkXHJcbiAgICAgICAgICAgIGNvbnN0IG90aGVyR3JvdXAgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbEJ5Q29uZGl0aW9uKChjb250cm9sKSA9PiB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2wuR3JvdXBQYXJlbnRJZCA9PT0gR3JvdXBQYXJlbnRJZCAmJiBjb250cm9sLklkICE9PSBkcmFnQ29udHJvbElkXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGlmIChvdGhlckdyb3VwLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAvLyDlpoLmnpwg5a2Q5YiG57uE77yM5ouW5ou95Yiw6Z2e5YiG57uE6aG1562+5Yy65Z+fXHJcbiAgICAgICAgICAgICAgb3RoZXJGaWVsZFVwZGF0ZUFjdGlvbnMucHVzaChbZHJhZ0NvbnRyb2xJZCwgeyBHcm91cEluZGV4OiAwLCBHcm91cFBhcmVudElkOiBjcmVhdGVVVWlkKCkgfV0pXHJcbiAgICAgICAgICAgICAgaWYgKE51bWJlcihHcm91cEluZGV4KSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8g5aaC5p6c5piv56ys5LiA5Liq6aG1562+5ouW5Ye6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlckdyb3VwVXBkYXRlcyA9IG90aGVyR3JvdXAubWFwKChncm91cCwgaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCB7IElkIH0gPSBncm91cFxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gW0lkLCB7IEdyb3VwSW5kZXg6IGluZGV4IH1dXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgb3RoZXJGaWVsZFVwZGF0ZUFjdGlvbnMucHVzaCguLi5vdGhlckdyb3VwVXBkYXRlcylcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYoZHJhZ0dyb3VwQ29udGFpbmVyQmFySWQpIHtcclxuICAgICAgICAgIG90aGVyRmllbGRVcGRhdGVBY3Rpb25zLnB1c2goW1xyXG4gICAgICAgICAgICBkcmFnQ29udHJvbElkLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgUGFyZW50SWQ6IGRyYWdHcm91cENvbnRhaW5lckJhcklkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIOaZrumAmuWtl+auteaLluaLveWIsOWIhue7hOWuueWZqFxyXG4gICAgICAgICAgb3RoZXJGaWVsZFVwZGF0ZUFjdGlvbnMucHVzaChbXHJcbiAgICAgICAgICAgIGRyYWdDb250cm9sSWQsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBQYXJlbnRJZDogY29udHJvbElkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYoZ3JvdXBDb250YWluZXJVcGRhdGVBY3Rpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgZGF0YUNvbnRleHQuYmF0Y2hVcGRhdGVDb250cm9sUHJvcGVydHlWYWx1ZXMoY3JlYXRlVXBkYXRlQWN0aW9uKGdyb3VwQ29udGFpbmVyVXBkYXRlQWN0aW9ucyksIGZhbHNlKVxyXG4gICAgfVxyXG5cclxuICAgIGlmKGRyYWdHcm91cEl0ZW1Db250cm9sSWRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgZGF0YUNvbnRleHQuaW5zZXJ0Q29udHJvbChjcmVhdGVJbnNlcnRBY3Rpb24oe1xyXG4gICAgICAgIHRhcmdldElkLFxyXG4gICAgICAgIHZhbHVlczogZHJhZ0dyb3VwSXRlbUNvbnRyb2xJZHMsXHJcbiAgICAgICAgaXNQcmU6IGZhbHNlXHJcbiAgICAgIH0pKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOaLluaLveeahOaYr+WFtuS7luWtl+autVxyXG4gICAgaWYob3RoZXJGaWVsZFVwZGF0ZUFjdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICBkYXRhQ29udGV4dC5iYXRjaFVwZGF0ZUNvbnRyb2xQcm9wZXJ0eVZhbHVlcyhjcmVhdGVVcGRhdGVBY3Rpb24ob3RoZXJGaWVsZFVwZGF0ZUFjdGlvbnMpKVxyXG4gICAgfVxyXG4gICAgcm1EcmFnU3R5bGVPZkRvbSgpXHJcbiAgfVxyXG5cclxuICAvLyDmjqfku7bmoI/mi5bmi73oh7PliIbnu4TlhoVcclxuICBjb25zdCBkcmFnTmV3Q29udHJvbFRvR3JvdXBDb250YWluZXIgPSAodGFyZ2V0RG9tLCBjb250cm9sRGF0YSApID0+IHtcclxuICAgIGNvbnN0IG5ld0NvbnRyb2xEYXRhID0gZW52W0NPTlRST0xfRFJBR19EQVRBXVxyXG4gICAgY29uc3QgeyBkYXRhID0ge30gfSA9IG5ld0NvbnRyb2xEYXRhXHJcbiAgICBjb25zdCB7IElkOiBuZXdDb250cm9sVHlwZSB9ID0gZGF0YVxyXG5cclxuICAgIGNvbnN0IHsgSWQ6IGNvbnRyb2xJZCwgUGFyZW50SWQ6IHBhcmVudElkfSA9IGNvbnRyb2xEYXRhXHJcblxyXG4gICAgY29uc3QgZHJhZ0dyb3VwQ29udGFpbmVyQmFySWQgPSBnZXREcmFnR3JvdXBDb250YWluZXJCYXIodGFyZ2V0RG9tKT8uZ2V0QXR0cmlidXRlKCdkYXRhLWdyb3VwLWJhci1pdGVtLWlkJylcclxuICAgIGxldCBuZXdDb250cm9sRmFjdG9yeVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogMeOAgeaWsOWinuWIhue7hOWuueWZqOWIsOWIhue7hOWuueWZqEFcclxuICAgICAqICAgIDEtMeOAgeaLluaLveWIsOWIhue7hOWuueWZqEHnmoTmoIfpopjmoI/kuK3vvIhpc1RhYuS4unRydWXvvIlcclxuICAgICAqICAgICAgMS0xLTHjgIHlpoLmnpzmmK/mi5bmi73liLDmoIfpopjmoI/kuK3lj7Pkvqfnqbrnmb3ljLrln5/vvIzliJnnm7TmjqXnlJ/miJDku6XlvZPliY3liIbnu4TlrrnlmahB5Li654i26IqC54K555qE5a2Q6aG1562+77yIaXNUYWLkuLp0cnVl77yJXHJcbiAgICAgKiAgICAgIDEtMS0y44CB5aaC5p6c5piv5ouW5ou95Yiw5qCH6aKY5qCP5Lit55qE5p+Q5Liq5a2Q6aG55Lit77yM5YiZ5Zyo5b2T5YmN5a2Q6aG555qE5ZCO6Z2i5o+S5YWl5Lul5b2T5YmN5YiG57uE5a655ZmoQeS4uueItuiKgueCueeahOWtkOmhteetvu+8iGlzVGFi5Li6dHJ1Ze+8iVxyXG4gICAgICogICAgMS0y44CB5ouW5ou95Yiw5YiG57uE5a655Zmo55qE5YaF5a655Yy65Lit77yM5YiZ55Sf5oiQ5Lul5b2T5YmN5YiG57uE5a655Zmo5Li654i26IqC54K555qE5a2Q6IqC54K577yIaXNUYWLkuLpmYWxzZeaIluiAhXVuZGVmaW5lZO+8iVxyXG4gICAgICogICAgICDnm7TmjqXnlJ/miJDlrZDoioLngrnvvIjov5nph4zmsqHmnInmj5LlhaXkuqTmjaLkvY3nva7nmoTpgLvovpHvvIlcclxuICAgICAqIDLjgIHmlrDlop7mma7pgJrlrZfmrrXliLDliIbnu4TlrrnlmahcclxuICAgICAqICAgIOebtOaOpeWKoOWFpeWIsOW9k+WJjea/gOa0u+eahOWIhue7hOWuueWZqOmhteetvuWvueW6lOeahOWtkOiKgueCuVxyXG4gICAgICovXHJcbiAgICBpZihpc0dyb3VwQ29udGFpbmVyKG5ld0NvbnRyb2xUeXBlKSkge1xyXG4gICAgICBpZihkcmFnR3JvdXBDb250YWluZXJCYXJJZCkge1xyXG4gICAgICAgIC8vIOagh+mimOagj1xyXG4gICAgICAgIG5ld0NvbnRyb2xGYWN0b3J5ID0gZGF0YUZhY3Rvcnkoe1xyXG4gICAgICAgICAgdHlwZTogbmV3Q29udHJvbFR5cGUsXHJcbiAgICAgICAgICBwYXJlbnRJZDogZGF0YUNvbnRleHQuZ2V0UGFyZW50Q29udHJvbElkKGNvbnRyb2xJZCksXHJcbiAgICAgICAgICB0cmFuc2ZlckRhdGE6IHtcclxuICAgICAgICAgICAgS2V5OiBgbmNfJHtjcmVhdGVVVWlkKCkudG9Mb3dlckNhc2UoKX1gLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgbmV3Q29udHJvbEZhY3RvcnkuR3JvdXBQYXJlbnRJZCA9IGNvbnRyb2xEYXRhLkdyb3VwUGFyZW50SWRcclxuICAgICAgICBuZXdDb250cm9sRmFjdG9yeS5Hcm91cEluZGV4ID0gTnVtYmVyKGNvbnRyb2xEYXRhLkdyb3VwSW5kZXgpICsgMVxyXG5cclxuICAgICAgICBsZXQgdGFyZ2V0SWQgPSBkcmFnR3JvdXBDb250YWluZXJCYXJJZFxyXG5cclxuICAgICAgICBpZighdGFyZ2V0RG9tLmdldEF0dHJpYnV0ZSgnZGF0YS1ncm91cC1iYXItaXRlbS1pZCcpKSB7XHJcbiAgICAgICAgICBjb25zdCBjb250cm9scyA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sQnlDb25kaXRpb24oKGNvbnRyb2wpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2wuR3JvdXBQYXJlbnRJZCA9PT0gY29udHJvbERhdGEuR3JvdXBQYXJlbnRJZFxyXG4gICAgICAgICAgfSkuc29ydCgoZ3JvdXBBLCBncm91cEIpID0+IChOdW1iZXIoZ3JvdXBBLkdyb3VwSW5kZXgpIC0gTnVtYmVyKGdyb3VwQi5Hcm91cEluZGV4KSkpXHJcblxyXG4gICAgICAgICAgdGFyZ2V0SWQgPSBjb250cm9sc1tjb250cm9scy5sZW5ndGggLSAxXS5JZFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0YXJnZXRJZCA9IHRhcmdldERvbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZ3JvdXAtYmFyLWl0ZW0taWQnKVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZHJhZ0dyb3VwQ29udGFpbmVyQmFySWQnLCBkcmFnR3JvdXBDb250YWluZXJCYXJJZCAhPT0gdGFyZ2V0RG9tLmdldEF0dHJpYnV0ZSgnZGF0YS1ncm91cC1iYXItaXRlbS1pZCcpKTtcclxuICAgICAgICBkYXRhQ29udGV4dC5pbnNlcnRDb250cm9sKGNyZWF0ZUluc2VydEFjdGlvbih7XHJcbiAgICAgICAgICB0YXJnZXRJZCxcclxuICAgICAgICAgIHZhbHVlczogW25ld0NvbnRyb2xGYWN0b3J5XSxcclxuICAgICAgICAgIGlzUHJlOiBmYWxzZSxcclxuICAgICAgICB9LCB7IGlzSW5zdHJ1Y0FkZDogdHJ1ZSB9KSkudGhlbigoYWN0aW9uczogSUNvbnRyb2xBY3Rpb24pID0+IHtcclxuICAgICAgICAgIHNlbGVjdGlvbkNvbnRleHQuc2V0U2VsZWN0KG5ld0NvbnRyb2xGYWN0b3J5LklkKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIOWGheWuueWMulxyXG4gICAgICAgIG5ld0NvbnRyb2xGYWN0b3J5ID0gZGF0YUZhY3Rvcnkoe1xyXG4gICAgICAgICAgdHlwZTogbmV3Q29udHJvbFR5cGUsXHJcbiAgICAgICAgICBwYXJlbnRJZDogY29udHJvbElkLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgbmV3Q29udHJvbEZhY3RvcnkuR3JvdXBQYXJlbnRJZCA9IGNyZWF0ZVVVaWQoKVxyXG4gICAgICAgIG5ld0NvbnRyb2xGYWN0b3J5Lkdyb3VwSW5kZXggPSAwXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmKGRyYWdHcm91cENvbnRhaW5lckJhcklkKSB7XHJcbiAgICAgICAgLy8g5aS06YOoXHJcbiAgICAgICAgbmV3Q29udHJvbEZhY3RvcnkgPSBkYXRhRmFjdG9yeSh7XHJcbiAgICAgICAgICB0eXBlOiBuZXdDb250cm9sVHlwZSxcclxuICAgICAgICAgIHBhcmVudElkOiBkcmFnR3JvdXBDb250YWluZXJCYXJJZCxcclxuICAgICAgICB9KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5ld0NvbnRyb2xGYWN0b3J5ID0gZGF0YUZhY3Rvcnkoe1xyXG4gICAgICAgICAgdHlwZTogbmV3Q29udHJvbFR5cGUsXHJcbiAgICAgICAgICBwYXJlbnRJZDogY29udHJvbElkLFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkYXRhQ29udGV4dC5hZGRDb250cm9sKGNyZWF0ZUFkZEFjdGlvbihuZXdDb250cm9sRmFjdG9yeSkpLnRoZW4oKGFjdGlvbnM6IElDb250cm9sQWN0aW9uKSA9PiB7XHJcbiAgICAgIHNlbGVjdGlvbkNvbnRleHQuc2V0U2VsZWN0KG5ld0NvbnRyb2xGYWN0b3J5LklkKVxyXG4gICAgfSlcclxuICAgIGRlbGV0ZSBlbnZbQ09OVFJPTF9EUkFHX0RBVEFdXHJcbiAgfVxyXG5cclxuICAvLyDku47lt6XlhbfnrrHlvoDkuLvop4blm77mi5bmi71cclxuICBjb25zdCBkcmFnVG9WaWV3ID0gdXNlQ2FsbGJhY2soKGNvbnRyb2xJZCwgdGFyZ2V0RG9tLCBvcHRpb25zKSA9PiB7XHJcbiAgICBjb25zdCB7IGlzUHJldiA9IGZhbHNlIH0gPSBvcHRpb25zIHx8IHt9XHJcbiAgICBjb25zdCBuZXdDb250cm9sRGF0YSA9IGVudltDT05UUk9MX0RSQUdfREFUQV1cclxuICAgIGNvbnN0IHsgZGF0YSA9IHt9IH0gPSBuZXdDb250cm9sRGF0YVxyXG4gICAgY29uc3QgeyBJZDogbmV3Q29udHJvbFR5cGUgfSA9IGRhdGFcclxuICAgIGNvbnN0IGNvbnRyb2xEYXRhID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woY29udHJvbElkKVxyXG4gICAgbGV0IGNvbnRyb2xJbmRleCA9IC0xXHJcbiAgICBpZiAoY29udHJvbElkID09PSByb290SWQpIHtcclxuICAgICAgY29udHJvbEluZGV4ID0gaXNQcmV2ID8gMSA6IC0xXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBpbnNldEluZGV4ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2xJbmRleChjb250cm9sSWQpXHJcbiAgICAgIGlmICghaXNQcmV2KSB7XHJcbiAgICAgICAgY29uc3Qgc3ViQ29udHJvbHM6IElDb250cm9sSXRlbVVwcGVyY2FzZUtleVtdID0gZGF0YUNvbnRleHQuZ2V0U3ViQ29udHJvbHMoY29udHJvbElkKVxyXG4gICAgICAgIGNvbnN0IF9sZW5ndGg6IG51bWJlciA9IHN1YkNvbnRyb2xzLmxlbmd0aFxyXG4gICAgICAgIGlmIChfbGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgY29udHJvbEluZGV4ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2xJbmRleChzdWJDb250cm9sc1tfbGVuZ3RoIC0gMV0/LltJRF0pICsgMVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb250cm9sSW5kZXggPSBpbnNldEluZGV4ICsgMVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb250cm9sSW5kZXggPSBpbnNldEluZGV4XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IHsgW19UWVBFX106IGNvbnRyb2xUeXBlIH0gPSBjb250cm9sRGF0YVxyXG4gICAgY29uc3QgeyBJc0NvbnRhaW5lciA9IGZhbHNlIH0gPSBtZXRhQXBpLmdldENvbnRyb2xNZXRhKGNvbnRyb2xUeXBlKVxyXG4gICAgY29uc3QgcGFyZW50SWQgPSBJc0NvbnRhaW5lciA/IGNvbnRyb2xJZCA6IChkYXRhQ29udGV4dC5nZXRQYXJlbnRDb250cm9sSWQoY29udHJvbElkKSB8fCByb290SWQpXHJcbiAgICBjb25zdCBwYXJlbnRDb250cm9sVHlwZSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKHBhcmVudElkKVtfVFlQRV9dXHJcbiAgICBjb25zdCBjYW5BZGQgPSBtZXRhQXBpLmNhbkFkZChcclxuICAgICAgbmV3Q29udHJvbFR5cGUsXHJcbiAgICAgIHBhcmVudENvbnRyb2xUeXBlXHJcbiAgICApXHJcbiAgICBpZiAoIWNhbkFkZCB8fCBjYW5BZGQ/LnN1Y2Nlc3MgPT09IGZhbHNlKSByZXR1cm5cclxuICAgIHB1YlVJQWN0aW9uKHtcclxuICAgICAgZXZlbnROYW1lOiAnZHJhZycsXHJcbiAgICAgIGFjdGlvbjogJ2ZkX2FkZF9kcmFnJ1xyXG4gICAgfSlcclxuICAgIC8vIOW9k+WJjeaUvue9rueahOaYr+WQpuWIhue7hOWuueWZqFxyXG4gICAgaWYoaXNHcm91cENvbnRhaW5lcihjb250cm9sVHlwZSkpIHtcclxuICAgICAgcmV0dXJuIGRyYWdOZXdDb250cm9sVG9Hcm91cENvbnRhaW5lcih0YXJnZXREb20sIGNvbnRyb2xEYXRhKVxyXG4gICAgfVxyXG4gICAgY29uc3QgbmV3Q29udHJvbCA9IGRhdGFGYWN0b3J5KHtcclxuICAgICAgdHlwZTogbmV3Q29udHJvbFR5cGUsXHJcbiAgICAgIHBhcmVudElkOiBwYXJlbnRJZFxyXG4gICAgfSlcclxuICAgIGRhdGFDb250ZXh0LmFkZENvbnRyb2woY3JlYXRlQWRkQWN0aW9uKG5ld0NvbnRyb2wsIHsgaW5kZXg6IGNvbnRyb2xJbmRleCB9KSkudGhlbigoYWN0aW9uczogSUNvbnRyb2xBY3Rpb24pID0+IHtcclxuICAgICAgY29uc3QgcmVhbENvbnRyb2wgPSBhY3Rpb25zWzBdLnZhbHVlXHJcbiAgICAgIHNlbGVjdGlvbkNvbnRleHQuc2V0U2VsZWN0KEFycmF5LmlzQXJyYXkocmVhbENvbnRyb2wpID8gW3JlYWxDb250cm9sWzBdW0lEXV0gOiBbcmVhbENvbnRyb2xbSURdXSlcclxuICAgIH0pXHJcbiAgICBkZWxldGUgZW52W0NPTlRST0xfRFJBR19EQVRBXVxyXG4gIH0sIFtlbnZbQ09OVFJPTF9EUkFHX0RBVEFdLCBwdWJVSUFjdGlvbl0pXHJcblxyXG4gIGNvbnN0IG9uRHJvcCA9IHVzZUNhbGxiYWNrKChldmVudDogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxyXG5cclxuICAgIGNvbnN0IHJvb3REb206IEhUTUxFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFske2RhdGFDb250cm9sSWR9PScke3Jvb3RJZH0nXWApXHJcbiAgICBjb25zdCBuZXdDb250cm9sRGF0YSA9IGVudltDT05UUk9MX0RSQUdfREFUQV1cclxuICAgIGlmICghcm9vdERvbSB8fCAoIWdsb2JhbERyYWdnaW5nSWRzICYmICFuZXdDb250cm9sRGF0YSkpIHJldHVyblxyXG4gICAgY29uc3QgZHJhZ0NvbnRyb2xJZHMgPSBnbG9iYWxEcmFnZ2luZ0lkcyB8fCBbXVxyXG4gICAgZXZlbnQ/LmN1cnJlbnRUYXJnZXQucmVtb3ZlQXR0cmlidXRlKGRhdGFJc0RyYWdnaW5nKVxyXG4gICAgc2V0R2xvYmFsRHJhZ2dpbmdJZHMobnVsbClcclxuICAgIHNldERyYWdPdmVySWQoJycpXHJcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnRcclxuICAgIGNvbnN0IGRyYWdDb250cm9sSWQgPSBkcmFnQ29udHJvbElkc1swXVxyXG4gICAgY29uc3QgZHJhZ0NvbnRyb2wgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChkcmFnQ29udHJvbElkKVxyXG4gICAgbGV0IGRvbTogSFRNTERpdkVsZW1lbnQgPSBldmVudC50YXJnZXRcclxuICAgIGlmIChldmVudC50YXJnZXQ/LmRhdGFzZXQ/LnRhYnNIZWFkZXIgJiYgaXNHcm91cENvbnRhaW5lcighZHJhZ0NvbnRyb2xJZCA/IG5ld0NvbnRyb2xEYXRhLmRhdGE/LklkIDogZHJhZ0NvbnRyb2w/Ll9UeXBlXykpIHtcclxuICAgICAgZG9tID0gZG9tLmxhc3RDaGlsZFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZG9tID0gZ2V0RHJhZ0RvbShldmVudC50YXJnZXQgYXMgSFRNTERpdkVsZW1lbnQpXHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBjb25zdCBjb250cm9sSWQ6IHN0cmluZyA9IGRvbS5kYXRhc2V0LmRyYWdJZCB8fCAnJ1xyXG4gICAgLy8g5LiN5YWB6K6454i25YWD57Sg5ouW5Yiw5a2Q5YWD57SgXHJcbiAgICBpZihkcmFnQ29udHJvbElkcyAmJiBkcmFnQ29udHJvbElkcz8ubGVuZ3RoID4gMCkge1xyXG4gICAgICAvLyDlvZPmi5bmi73niLblhYPntKDliLDlrZDlhYPntKDnmoTml7blgJlcclxuICAgICAgaWYoaXNEcmFnUGFyZW50VG9DaGlsZChkcmFnQ29udHJvbElkcywgY29udHJvbElkKSkge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign5LiN6IO95ouW5ou954i25YWD57Sg5Yiw5a2Q5YWD57SgJyk7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGRpcmVjdGlvbjogc3RyaW5nID0gZG9tLmRhdGFzZXQ/LmRyYWdEaXJlY3Rpb24gfHwgJ3JpZ2h0J1xyXG4gICAgbGV0IGlzUHJldjogYm9vbGVhbiA9IGZhbHNlXHJcbiAgICByZW1vdmVBbGxEcmFnRGF0YXNldFN0eWxlKGRvbSlcclxuICAgIGlmIChbJ3RvcCcsICdsZWZ0J10uaW5jbHVkZXMoZGlyZWN0aW9uKSkge1xyXG4gICAgICBpc1ByZXYgPSB0cnVlXHJcbiAgICB9XHJcbiAgICBpZiAoZHJhZ0NvbnRyb2xJZHMuaW5jbHVkZXMoY29udHJvbElkKSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGlmIChjb250cm9sSWQgPT09IHJvb3RJZCAmJiByb290R3JpZFBhbmVsPy5jb250YWlucyh0YXJnZXQpKSByZXR1cm5cclxuICAgIGlmIChkcmFnQ29udHJvbElkcz8ubGVuZ3RoKSB7XHJcblxyXG4gICAgICBjb25zdCBkcm9wQ29udHJvbCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGNvbnRyb2xJZClcclxuICAgICAgY29uc3QgeyBfVHlwZV8gfSA9IGRyb3BDb250cm9sXHJcblxyXG4gICAgICBpZiAoaXNHcm91cENvbnRhaW5lcihfVHlwZV8pKSB7XHJcbiAgICAgICAgcmV0dXJuIGRyYWdUb0dyb3VwQ29udGFpbmVyKHtcclxuICAgICAgICAgIGRyb3BDb250cm9sLFxyXG4gICAgICAgICAgZHJhZ0NvbnRyb2xJZHMsXHJcbiAgICAgICAgICBkYXRhQ29udGV4dFxyXG4gICAgICAgIH0sIGRvbSlcclxuICAgICAgfVxyXG4gICAgICAgIC8vIOS4u+inhuWbvuaLluaLvVxyXG4gICAgICAgIGRhdGFDb250ZXh0LnN3YXBDb250cm9sKGNyZWF0ZVN3YXBBY3Rpb24oeyBvcmlnaW46IGRyYWdDb250cm9sSWRzLCB0YXJnZXQ6IGNvbnRyb2xJZCwgaXNQcmV2IH0pKVxyXG4gICAgICAgIC50aGVuKChhY3Rpb25zOiBJQ29udHJvbEFjdGlvbikgPT4ge1xyXG4gICAgICAgICAgLy8gc2VsZWN0aW9uQ29udGV4dC5zZXRTZWxlY3QoW2RyYWdDb250cm9sSWRzWzBdXSlcclxuICAgICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8g5LuO5bel5YW3566x5b6A5Li76KeG5Zu+5ouW5ou977yM5pyA57uI6KGo546w5piv5paw5aKe6KGM5Li6XHJcbiAgICAgIGRyYWdUb1ZpZXcoY29udHJvbElkLCBkb20sIHsgaXNQcmV2IH0pXHJcbiAgICB9XHJcbiAgICBybURyYWdTdHlsZU9mRG9tKClcclxuICB9LCBbXSlcclxuXHJcbiAgY29uc3Qgb25EcmFnT3ZlciA9IHVzZUNhbGxiYWNrKChldmVudDogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICBldmVudD8uY3VycmVudFRhcmdldC5zZXRBdHRyaWJ1dGUoZGF0YUlzRHJhZ2dpbmcsIFwidHJ1ZVwiKVxyXG5cclxuICAgIGNvbnN0IG5ld0NvbnRyb2xEYXRhID0gZW52W0NPTlRST0xfRFJBR19EQVRBXVxyXG4gICAgaWYgKCFnbG9iYWxEcmFnZ2luZ0lkcyAmJiAhbmV3Q29udHJvbERhdGEpIHJldHVyblxyXG4gICAgY29uc3QgZHJhZ0NvbnRyb2xJZHMgPSBnbG9iYWxEcmFnZ2luZ0lkcyB8fCBbXVxyXG4gICAgY29uc3QgZG9tOiBIVE1MRGl2RWxlbWVudCA9IGdldERyYWdEb20oZXZlbnQudGFyZ2V0IGFzIEhUTUxEaXZFbGVtZW50KVxyXG4gICAgbGV0IGN1cnJlbnREcmFnT3ZlcklkOiBzdHJpbmcgfCBudWxsID0gZG9tPy5kYXRhc2V0Py5kcmFnSWQgfHwgbnVsbFxyXG4gICAgaWYgKCFjdXJyZW50RHJhZ092ZXJJZCkge1xyXG4gICAgICBzZXREcmFnT3ZlcklkKCcnKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3Qgb2xkRHJhZ092ZXJJZCA9IGdldERyYWdPdmVySWQoKVxyXG4gICAgaWYgKG9sZERyYWdPdmVySWQgJiYgY3VycmVudERyYWdPdmVySWQgJiYgb2xkRHJhZ092ZXJJZCAhPT0gY3VycmVudERyYWdPdmVySWQpIHtcclxuICAgICAgY29uc3Qgb2xkQWN0aXZlRG9tcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske2RhdGFEcmFnSWR9PScke29sZERyYWdPdmVySWR9J11gKVxyXG4gICAgICBvbGRBY3RpdmVEb21zICYmIG9sZEFjdGl2ZURvbXMuZm9yRWFjaChvbGREb20gPT4gcmVtb3ZlQWxsRHJhZ0RhdGFzZXRTdHlsZShvbGREb20pKVxyXG4gICAgICBzZXREcmFnT3ZlcklkKGN1cnJlbnREcmFnT3ZlcklkKVxyXG4gICAgfSBlbHNlIGlmIChvbGREcmFnT3ZlcklkID09PSAnJykge1xyXG4gICAgICBzZXREcmFnT3ZlcklkKGN1cnJlbnREcmFnT3ZlcklkKVxyXG4gICAgfSBlbHNlIGlmIChvbGREcmFnT3ZlcklkICYmIGN1cnJlbnREcmFnT3ZlcklkICYmIG9sZERyYWdPdmVySWQgPT09IGN1cnJlbnREcmFnT3ZlcklkKSB7XHJcbiAgICAgIGlmIChldmVudC50YXJnZXQ/LmRhdGFzZXQ/LnRhYnNIZWFkZXIpIHtcclxuICAgICAgICBpc0RyYWdJbkdyb3VwSGVhZGVyID0gdHJ1ZVxyXG4gICAgICB9IGVsc2UgaWYgKGlzRHJhZ0luR3JvdXBIZWFkZXIpIHtcclxuICAgICAgICBpc0RyYWdJbkdyb3VwSGVhZGVyID0gZmFsc2VcclxuICAgICAgICBjb25zdCBvbGRBY3RpdmVEb21zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgWyR7ZGF0YURyYWdJZH09JyR7b2xkRHJhZ092ZXJJZH0nXSBbJHtkYXRhRGlyZWN0aW9ufV1gKVxyXG4gICAgICAgIG9sZEFjdGl2ZURvbXMgJiYgb2xkQWN0aXZlRG9tcy5mb3JFYWNoKG9sZERvbSA9PiByZW1vdmVBbGxEcmFnRGF0YXNldFN0eWxlKG9sZERvbSkpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgZHJhZ0NvbnRyb2xJZCA9IGRyYWdDb250cm9sSWRzWzBdXHJcbiAgICBjb25zdCBkcmFnQ29udHJvbCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGRyYWdDb250cm9sSWQpXHJcbiAgICBcclxuICAgIGNvbnN0IGlzR3JvdXBCYXJJdGVtID0gZG9tPy5kYXRhc2V0Py5ncm91cEJhckl0ZW1JZFxyXG4gICAgXHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0Py5kYXRhc2V0Py50YWJzSGVhZGVyICYmIGlzR3JvdXBDb250YWluZXIoIWRyYWdDb250cm9sSWQgPyBuZXdDb250cm9sRGF0YS5kYXRhPy5JZCA6IGRyYWdDb250cm9sPy5fVHlwZV8pKSB7XHJcbiAgICAgIC8vIOWmguaenOaLluaLveiHs+mhteetvuWMuuWfn++8iOWkhOS6juepuueZveWMuu+8jOacquWcqOS7u+S9leS4gOS4quagh+mimOWkhO+8ie+8jOWImem7mOiupOihjOS4uuaYr+aWsOWinumhteetvlxyXG4gICAgICBjb25zdCBsYXN0Q2hpbGREb20gPSBldmVudC50YXJnZXQubGFzdENoaWxkXHJcbiAgICAgIGxhc3RDaGlsZERvbT8uc2V0QXR0cmlidXRlKGRhdGFSaWdodERyYWdTdHlsZSwgJ3RydWUnKVxyXG4gICAgICBsYXN0Q2hpbGREb20/LnNldEF0dHJpYnV0ZShkYXRhRGlyZWN0aW9uLCAncmlnaHQnKVxyXG4gICAgICBzZXREcmFnT3ZlcklkKGxhc3RDaGlsZERvbT8uZGF0YXNldC5kcmFnSWQpXHJcbiAgICB9XHJcbiAgICBpZiAoY3VycmVudERyYWdPdmVySWQgJiYgZHJhZ0NvbnRyb2xJZHM/LmluY2x1ZGVzKGN1cnJlbnREcmFnT3ZlcklkKSkgcmV0dXJuXHJcblxyXG4gICAgaWYgKCFpc0dyb3VwQmFySXRlbSkge1xyXG4gICAgICAvLyDkuI3mmK/mi5bmi73liLDliIbnu4TnmoTmoIfpopjmoI9cclxuICAgICAgY29uc3QgeyBfVHlwZV8gfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGN1cnJlbnREcmFnT3ZlcklkKVxyXG4gICAgICBjb25zdCB7IElzQ29udGFpbmVyID0gZmFsc2UgfSA9IG1ldGFBcGkuZ2V0Q29udHJvbE1ldGEoX1R5cGVfKVxyXG4gICAgICBpZiAoSXNDb250YWluZXIpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgICBjb25zdCBldmVudENsaWVudFg6IG51bWJlciA9IGV2ZW50LmNsaWVudFhcclxuICAgICAgY29uc3QgZXZlbnRDbGllbnRZID0gZXZlbnQuY2xpZW50WVxyXG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSBnZXREcmFnRGlyZWN0aW9uKGRvbSwgZXZlbnRDbGllbnRYLCBldmVudENsaWVudFkpXHJcbiAgICAgIGNvbnN0IHByZXZEaXJlY3Rpb24gPSBkb20uZGF0YXNldC5kcmFnRGlyZWN0aW9uXHJcbiAgICAgIGlmIChkaXJlY3Rpb24gJiYgZGlyZWN0aW9uICE9PSBwcmV2RGlyZWN0aW9uKSB7XHJcbiAgICAgICAgaWYgKHByZXZEaXJlY3Rpb24pIHtcclxuICAgICAgICAgIGRvbS5yZW1vdmVBdHRyaWJ1dGUoYGRhdGEtJHtwcmV2RGlyZWN0aW9ufS1kcmFnLXN0eWxlYClcclxuICAgICAgICAgIGRvbS5yZW1vdmVBdHRyaWJ1dGUoZGF0YURpcmVjdGlvbilcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9tPy5zZXRBdHRyaWJ1dGUoYGRhdGEtJHtkaXJlY3Rpb259LWRyYWctc3R5bGVgLCAndHJ1ZScpXHJcbiAgICAgICAgZG9tPy5zZXRBdHRyaWJ1dGUoZGF0YURpcmVjdGlvbiwgZGlyZWN0aW9uKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGlzR3JvdXBDb250YWluZXIoIWRyYWdDb250cm9sSWQgPyBuZXdDb250cm9sRGF0YS5kYXRhPy5JZCA6IGRyYWdDb250cm9sPy5fVHlwZV8pKSB7XHJcbiAgICAgIGRvbT8uc2V0QXR0cmlidXRlKGRhdGFSaWdodERyYWdTdHlsZSwgJ3RydWUnKVxyXG4gICAgICBkb20/LnNldEF0dHJpYnV0ZShkYXRhRGlyZWN0aW9uLCAncmlnaHQnKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyDms6jlhozlvZPliY3mjqfku7bnmoTmi5bmi71cclxuICAgIC8vIGV2ZW50QnVzLmVtaXQoYGRyYWctY29udHJvbF8ke3Jvb3RJZH1gLCBjb250cm9sSWQpXHJcbiAgfSwgW3Jvb3RJZF0pXHJcblxyXG4gIGNvbnN0IG9uRHJhZ0VuZCA9IHVzZUNhbGxiYWNrKChldmVudDogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcblxyXG4gICAgcm1EcmFnU3R5bGVPZkRvbSgpXHJcbiAgICBzZXRHbG9iYWxEcmFnZ2luZ0lkcyhudWxsKVxyXG4gICAgc2V0RHJhZ092ZXJJZCgnJylcclxuICAgIGV2ZW50Py5jdXJyZW50VGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZShkYXRhSXNEcmFnZ2luZylcclxuICB9LCBbcm9vdElkXSlcclxuXHJcbiAgY29uc3Qgb25EcmFnTGVhdmUgPSB1c2VDYWxsYmFjaygoZXZlbnQ6IFJlYWN0LkRyYWdFdmVudCkgPT4ge1xyXG4gICAgaWYgKCFldmVudC5jdXJyZW50VGFyZ2V0Py5jb250YWlucyhldmVudC5yZWxhdGVkVGFyZ2V0KSkge1xyXG4gICAgICBybURyYWdTdHlsZU9mRG9tKClcclxuICAgICAgZXZlbnQ/LmN1cnJlbnRUYXJnZXQucmVtb3ZlQXR0cmlidXRlKGRhdGFJc0RyYWdnaW5nKVxyXG4gICAgfVxyXG4gIH0sIFtdKVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgb25EcmFnT3ZlcixcclxuICAgIG9uRHJhZ0VuZCxcclxuICAgIG9uRHJvcCxcclxuICAgIG9uRHJhZ0xlYXZlXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VEcmFnRHJvcFxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///52708\n");

/***/ }),

/***/ 87864:
/*!**************************************!*\
  !*** ./src/hooks/useDragTreeNode.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 73980);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../constants/dataAttribute */ 64536);\n/* harmony import */ var _utils_setDragImage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/setDragImage */ 54739);\n/* harmony import */ var _utils_dragTreeNodeCb__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/dragTreeNodeCb */ 63412);\n\n\n\n\n\n\n\n\n\nvar preventDefault = function preventDefault(event) {\n  event.preventDefault();\n};\nvar useDragTreeNode = function useDragTreeNode() {\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context__WEBPACK_IMPORTED_MODULE_5__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data;\n  var views = kdesignerApi.views;\n  var selectionContext = kdesignerApi.selection;\n  var metaApi = kdesignerApi.meta;\n  var rootId = dataContext.getRootId();\n  var _useContext2 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.GlobalConfigContext),\n    showMessage = _useContext2.showMessage;\n  // 监听\n  var shiftTab = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (controlId) {\n    (0,_utils_dragTreeNodeCb__WEBPACK_IMPORTED_MODULE_8__.handleShiftTab)(controlId, views);\n  }, []);\n  var modifyDomCls = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (controlId) {\n    (0,_utils_dragTreeNodeCb__WEBPACK_IMPORTED_MODULE_8__.handleAddDomCls)(controlId);\n  }, []);\n  // 全局拖拽事件\n  var clearDragTreeStatus = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (event) {\n    var _context;\n    preventDefault(event);\n    var rootDom = document.querySelector(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context = \"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_6__.dataControlId, \"='\")).call(_context, rootId, \"']\"));\n    rootDom === null || rootDom === void 0 || rootDom.removeAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_6__.dataOutlineDragTreeNode);\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.eventBus.on('drag-control-tab', shiftTab);\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.eventBus.on(\"drag-control_\".concat(rootId), modifyDomCls);\n    document.body.addEventListener('dragend', clearDragTreeStatus);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.eventBus.off('drag-control-tab', shiftTab);\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.eventBus.off(\"drag-control_\".concat(rootId), modifyDomCls);\n      document.body.removeEventListener('dragend', clearDragTreeStatus);\n    };\n  }, []);\n  // 开始拖拽\n  var onDragStart = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (_ref) {\n    var _context2;\n    var event = _ref.event,\n      node = _ref.node;\n    event.stopPropagation();\n    var nodeKey = node.nodeKey;\n    nodeKey = nodeKey.substr(2);\n    if (nodeKey === rootId) {\n      preventDefault(event);\n    }\n    var rootDom = document.querySelector(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context2 = \"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_6__.dataControlId, \"='\")).call(_context2, rootId, \"']\"));\n    rootDom === null || rootDom === void 0 || rootDom.setAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_6__.dataOutlineDragTreeNode, nodeKey);\n    var _dataContext$findCont = dataContext.findControl(nodeKey),\n      controlType = _dataContext$findCont._Type_,\n      name = _dataContext$findCont.Name;\n    (0,_utils_setDragImage__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(event, controlType, name);\n  }, [rootId]);\n\n  // 当被鼠标拖动的对象进入其容器范围内时触发此事件\n  var onDragEnter = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (_ref2) {\n    var event = _ref2.event,\n      node = _ref2.node;\n  } // preventDefault(event)\n  , []);\n\n  // 当某被拖动的对象在另一对象容器范围内拖动时触发此事件\n  var onDragOver = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_3__.debounce)(function (_ref3) {\n    var event = _ref3.event,\n      node = _ref3.node;\n    // preventDefault(event)\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.eventBus.emit('drag-tree-node', node.key);\n  }, 100), []);\n\n  // 当被鼠标拖动的对象离开其容器范围内时触发此事件\n  var onDragLeave = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (_ref4) {\n    var event = _ref4.event,\n      node = _ref4.node;\n  } // preventDefault(event)\n  , []);\n\n  // 在一个拖动过程中，释放鼠标键时触发此事件\n  var onDrop = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (_ref5) {\n    var _context3;\n    var event = _ref5.event,\n      node = _ref5.node,\n      dropPosition = _ref5.dropPosition;\n    // preventDefault(event)\n    var key = node.key;\n    var rootDom = document.querySelector(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context3 = \"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_6__.dataControlId, \"='\")).call(_context3, rootId, \"']\"));\n    var dragControlId = rootDom.dataset.outlineDragTreeNode;\n    var targetId = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_1___default()(key).call(key, 2);\n    var dragControl = dataContext.findControl(dragControlId);\n    var dropControl = dataContext.findControl(targetId);\n    if (targetId === rootId && dropPosition !== 0) return;\n    if (dragControl.Id === dropControl.ParentId) {\n      // 这种情况会造成死循环，如：一个容器，拖拽到自己的子节点前后\n      showMessage('控件类型不符合，不能添加。');\n      return;\n    }\n    dataContext.swapControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.createSwapAction)({\n      origin: dragControlId,\n      target: _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_1___default()(key).call(key, 2),\n      isPrev: dropPosition === -1 && targetId !== rootId,\n      dropPosition: dropPosition\n    })).then(function (actions) {\n      selectionContext.setSelect([dragControlId]);\n    });\n  }, []);\n\n  // 用户完成元素拖动后触发\n  var onDragEnd = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (_ref6) {\n    var _context4;\n    var event = _ref6.event,\n      node = _ref6.node;\n    // preventDefault(event)\n    var rootDom = document.querySelector(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context4 = \"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_6__.dataControlId, \"='\")).call(_context4, rootId, \"']\"));\n    rootDom === null || rootDom === void 0 || rootDom.removeAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_6__.dataOutlineDragTreeNode);\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.eventBus.emit('drag-tree-node', node.key);\n  }, []);\n  return {\n    onDragStart: onDragStart,\n    onDragEnter: onDragEnter,\n    onDragOver: onDragOver,\n    onDragLeave: onDragLeave,\n    onDrop: onDrop,\n    onDragEnd: onDragEnd\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useDragTreeNode);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODc4NjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9ob29rcy91c2VEcmFnVHJlZU5vZGUudHM/NmFkYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgeyBJQ29udHJvbEFjdGlvbiwgSURhdGFBcGksIGNyZWF0ZVN3YXBBY3Rpb24sIElTZWxlY3Rpb24sIGV2ZW50QnVzLCBHbG9iYWxDb25maWdDb250ZXh0IH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dCdcbmltcG9ydCB7IGRhdGFDb250cm9sSWQsIGRhdGFEcmFnVHJlZUFmZmVjdGVkQ29udHJvbCwgZGF0YU91dGxpbmVEcmFnVHJlZU5vZGUgfSBmcm9tICcuLi9jb25zdGFudHMvZGF0YUF0dHJpYnV0ZSdcbmltcG9ydCBzZXREcmFnSW1hZ2UgZnJvbSAnLi4vdXRpbHMvc2V0RHJhZ0ltYWdlJ1xuaW1wb3J0IHsgaGFuZGxlQWRkRG9tQ2xzLCBoYW5kbGVTaGlmdFRhYiB9IGZyb20gJy4uL3V0aWxzL2RyYWdUcmVlTm9kZUNiJ1xuXG5jb25zdCBwcmV2ZW50RGVmYXVsdCA9IChldmVudDogZ2xvYmFsVGhpcy5EcmFnRXZlbnQpID0+IHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxufVxuXG5jb25zdCB1c2VEcmFnVHJlZU5vZGUgPSAoKSA9PiB7XG4gIGNvbnN0IHsgZ2V0S2Rlc2lnbmVyQXBpIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3Qga2Rlc2lnbmVyQXBpID0gdXNlTWVtbygoKSA9PiBnZXRLZGVzaWduZXJBcGkoKSwgW10pXG4gIGNvbnN0IGRhdGFDb250ZXh0OiBJRGF0YUFwaSA9IGtkZXNpZ25lckFwaS5kYXRhXG4gIGNvbnN0IHZpZXdzID0ga2Rlc2lnbmVyQXBpLnZpZXdzXG4gIGNvbnN0IHNlbGVjdGlvbkNvbnRleHQ6IElTZWxlY3Rpb24gPSBrZGVzaWduZXJBcGkuc2VsZWN0aW9uXG4gIGNvbnN0IG1ldGFBcGkgPSBrZGVzaWduZXJBcGkubWV0YVxuICBjb25zdCByb290SWQ6IHN0cmluZyA9IGRhdGFDb250ZXh0LmdldFJvb3RJZCgpXG4gIGNvbnN0IHsgc2hvd01lc3NhZ2UgfSA9IHVzZUNvbnRleHQoR2xvYmFsQ29uZmlnQ29udGV4dClcbiAgLy8g55uR5ZCsXG4gIGNvbnN0IHNoaWZ0VGFiID0gdXNlQ2FsbGJhY2soKGNvbnRyb2xJZDogc3RyaW5nKSA9PiB7XG4gICAgaGFuZGxlU2hpZnRUYWIoY29udHJvbElkLCB2aWV3cylcbiAgfSwgW10pXG4gIGNvbnN0IG1vZGlmeURvbUNscyA9IHVzZUNhbGxiYWNrKChjb250cm9sSWQ6IHN0cmluZykgPT4ge1xuICAgIGhhbmRsZUFkZERvbUNscyhjb250cm9sSWQpXG4gIH0sIFtdKVxuICAvLyDlhajlsYDmi5bmi73kuovku7ZcbiAgY29uc3QgY2xlYXJEcmFnVHJlZVN0YXR1cyA9IHVzZUNhbGxiYWNrKChldmVudDogZ2xvYmFsVGhpcy5EcmFnRXZlbnQpID0+IHtcbiAgICBwcmV2ZW50RGVmYXVsdChldmVudClcbiAgICBjb25zdCByb290RG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgWyR7ZGF0YUNvbnRyb2xJZH09JyR7cm9vdElkfSddYClcbiAgICByb290RG9tPy5yZW1vdmVBdHRyaWJ1dGUoZGF0YU91dGxpbmVEcmFnVHJlZU5vZGUpXG4gIH0sIFtdKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGV2ZW50QnVzLm9uKCdkcmFnLWNvbnRyb2wtdGFiJywgc2hpZnRUYWIpXG4gICAgZXZlbnRCdXMub24oYGRyYWctY29udHJvbF8ke3Jvb3RJZH1gLCBtb2RpZnlEb21DbHMpXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgY2xlYXJEcmFnVHJlZVN0YXR1cylcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZXZlbnRCdXMub2ZmKCdkcmFnLWNvbnRyb2wtdGFiJywgc2hpZnRUYWIpXG4gICAgICBldmVudEJ1cy5vZmYoYGRyYWctY29udHJvbF8ke3Jvb3RJZH1gLCBtb2RpZnlEb21DbHMpXG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCBjbGVhckRyYWdUcmVlU3RhdHVzKVxuICAgIH1cbiAgfSwgW10pXG4gIC8vIOW8gOWni+aLluaLvVxuICBjb25zdCBvbkRyYWdTdGFydCA9IHVzZUNhbGxiYWNrKCh7IGV2ZW50LCBub2RlIH0pID0+IHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGxldCB7IG5vZGVLZXkgfSA9IG5vZGVcbiAgICBub2RlS2V5ID0gbm9kZUtleS5zdWJzdHIoMilcbiAgICBpZiAobm9kZUtleSA9PT0gcm9vdElkKSB7XG4gICAgICBwcmV2ZW50RGVmYXVsdChldmVudClcbiAgICB9XG4gICAgY29uc3Qgcm9vdERvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFske2RhdGFDb250cm9sSWR9PScke3Jvb3RJZH0nXWApXG4gICAgcm9vdERvbT8uc2V0QXR0cmlidXRlKGRhdGFPdXRsaW5lRHJhZ1RyZWVOb2RlLCBub2RlS2V5KVxuXG4gICAgY29uc3QgeyBfVHlwZV86IGNvbnRyb2xUeXBlLCBOYW1lOiBuYW1lIH0gPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChub2RlS2V5KVxuICAgIHNldERyYWdJbWFnZShldmVudCwgY29udHJvbFR5cGUsIG5hbWUpXG4gIH0sIFtyb290SWRdKVxuXG4gIC8vIOW9k+iiq+m8oOagh+aLluWKqOeahOWvueixoei/m+WFpeWFtuWuueWZqOiMg+WbtOWGheaXtuinpuWPkeatpOS6i+S7tlxuICBjb25zdCBvbkRyYWdFbnRlciA9IHVzZUNhbGxiYWNrKCh7IGV2ZW50LCBub2RlIH0pID0+IHtcbiAgICAvLyBwcmV2ZW50RGVmYXVsdChldmVudClcbiAgfSwgW10pXG5cbiAgLy8g5b2T5p+Q6KKr5ouW5Yqo55qE5a+56LGh5Zyo5Y+m5LiA5a+56LGh5a655Zmo6IyD5Zu05YaF5ouW5Yqo5pe26Kem5Y+R5q2k5LqL5Lu2XG4gIGNvbnN0IG9uRHJhZ092ZXIgPSB1c2VDYWxsYmFjayhkZWJvdW5jZSgoeyBldmVudCwgbm9kZSB9KSA9PiB7XG4gICAgLy8gcHJldmVudERlZmF1bHQoZXZlbnQpXG4gICAgZXZlbnRCdXMuZW1pdCgnZHJhZy10cmVlLW5vZGUnLCBub2RlLmtleSlcbiAgfSwgMTAwKSwgW10pXG5cbiAgLy8g5b2T6KKr6byg5qCH5ouW5Yqo55qE5a+56LGh56a75byA5YW25a655Zmo6IyD5Zu05YaF5pe26Kem5Y+R5q2k5LqL5Lu2XG4gIGNvbnN0IG9uRHJhZ0xlYXZlID0gdXNlQ2FsbGJhY2soKHsgZXZlbnQsIG5vZGUgfSkgPT4ge1xuICAgIC8vIHByZXZlbnREZWZhdWx0KGV2ZW50KVxuICB9LCBbXSlcblxuICAvLyDlnKjkuIDkuKrmi5bliqjov4fnqIvkuK3vvIzph4rmlL7pvKDmoIfplK7ml7bop6blj5HmraTkuovku7ZcbiAgY29uc3Qgb25Ecm9wID0gdXNlQ2FsbGJhY2soKHsgZXZlbnQsIG5vZGUsIGRyb3BQb3NpdGlvbiB9KSA9PiB7XG4gICAgLy8gcHJldmVudERlZmF1bHQoZXZlbnQpXG4gICAgY29uc3QgeyBrZXkgfSA9IG5vZGVcbiAgICBjb25zdCByb290RG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgWyR7ZGF0YUNvbnRyb2xJZH09JyR7cm9vdElkfSddYClcbiAgICBjb25zdCBkcmFnQ29udHJvbElkID0gcm9vdERvbS5kYXRhc2V0Lm91dGxpbmVEcmFnVHJlZU5vZGVcbiAgICBjb25zdCB0YXJnZXRJZCA9IGtleS5zbGljZSgyKVxuICAgIGNvbnN0IGRyYWdDb250cm9sID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woZHJhZ0NvbnRyb2xJZClcbiAgICBjb25zdCBkcm9wQ29udHJvbCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKHRhcmdldElkKVxuICAgIGlmICh0YXJnZXRJZCA9PT0gcm9vdElkICYmIGRyb3BQb3NpdGlvbiAhPT0gMCkgcmV0dXJuXG4gICAgaWYgKGRyYWdDb250cm9sLklkID09PSBkcm9wQ29udHJvbC5QYXJlbnRJZCkge1xuICAgICAgLy8g6L+Z56eN5oOF5Ya15Lya6YCg5oiQ5q275b6q546v77yM5aaC77ya5LiA5Liq5a655Zmo77yM5ouW5ou95Yiw6Ieq5bex55qE5a2Q6IqC54K55YmN5ZCOXG4gICAgICBzaG93TWVzc2FnZSgn5o6n5Lu257G75Z6L5LiN56ym5ZCI77yM5LiN6IO95re75Yqg44CCJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBkYXRhQ29udGV4dC5zd2FwQ29udHJvbChjcmVhdGVTd2FwQWN0aW9uKHsgb3JpZ2luOiBkcmFnQ29udHJvbElkLCB0YXJnZXQ6IGtleS5zbGljZSgyKSwgaXNQcmV2OiBkcm9wUG9zaXRpb24gPT09IC0xICYmIHRhcmdldElkICE9PSByb290SWQsIGRyb3BQb3NpdGlvbiB9KSkudGhlbigoYWN0aW9uczogSUNvbnRyb2xBY3Rpb24pID0+IHtcbiAgICAgIHNlbGVjdGlvbkNvbnRleHQuc2V0U2VsZWN0KFtkcmFnQ29udHJvbElkXSlcbiAgICB9KVxuICB9LCBbXSlcblxuICAvLyDnlKjmiLflrozmiJDlhYPntKDmi5bliqjlkI7op6blj5FcbiAgY29uc3Qgb25EcmFnRW5kID0gdXNlQ2FsbGJhY2soKHsgZXZlbnQsIG5vZGUgfSkgPT4ge1xuICAgIC8vIHByZXZlbnREZWZhdWx0KGV2ZW50KVxuICAgIGNvbnN0IHJvb3REb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbJHtkYXRhQ29udHJvbElkfT0nJHtyb290SWR9J11gKVxuICAgIHJvb3REb20/LnJlbW92ZUF0dHJpYnV0ZShkYXRhT3V0bGluZURyYWdUcmVlTm9kZSlcbiAgICBldmVudEJ1cy5lbWl0KCdkcmFnLXRyZWUtbm9kZScsIG5vZGUua2V5KVxuICB9LCBbXSlcblxuICByZXR1cm4ge1xuICAgIG9uRHJhZ1N0YXJ0LFxuICAgIG9uRHJhZ0VudGVyLFxuICAgIG9uRHJhZ092ZXIsXG4gICAgb25EcmFnTGVhdmUsXG4gICAgb25Ecm9wLFxuICAgIG9uRHJhZ0VuZFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZURyYWdUcmVlTm9kZVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///87864\n");

/***/ }),

/***/ 17592:
/*!******************************************!*\
  !*** ./src/hooks/useEditControlName.tsx ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! kd_libs/react-dom */ 16428);\n/* harmony import */ var kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../constants */ 98092);\n/* harmony import */ var _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../constants/dataAttribute */ 64536);\n\n\n\n/**\n * hook用途：修改控件名称（全局）\n * 设计思路：\n * 1.hook输出一个onDoubleClick方法，供外部使用。同时可配置初始化时显示输入框（initialEdit，基于eventBus订阅控件添加时发布的事件）\n * 2.双击时，获取双击的元素的位置信息（宽、高、位置等），动态创建一个input（并用ref存dom的引用），让input盖在该元素上\n * 3.input失去焦点时，更新对应控件的名称，并销毁input的dom\n */\n\n\n\n\n\n\nvar EditBox = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function (_ref, inputRef) {\n  var prefixCls = _ref.prefixCls,\n    value = _ref.value,\n    maxLength = _ref.maxLength,\n    style = _ref.style,\n    onBlur = _ref.onBlur;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useState)(value),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    innerValue = _useState2[0],\n    setInnerValue = _useState2[1];\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    var _inputRef$current;\n    inputRef === null || inputRef === void 0 || (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 || _inputRef$current.select();\n  }, []);\n  var handleChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (e) {\n    var value = e.target.value;\n    setInnerValue(value);\n  }, [setInnerValue]);\n  var blurInput = function blurInput() {\n    var _inputRef$current2;\n    var mainViewRoot = document.getElementById(_constants__WEBPACK_IMPORTED_MODULE_7__.MAINVIEW_ROOT_ID);\n    inputRef === null || inputRef === void 0 || (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 || _inputRef$current2.blur();\n    setTimeout(function () {\n      mainViewRoot === null || mainViewRoot === void 0 || mainViewRoot.focus();\n    }, 0);\n  };\n  var onKeyDown = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (e) {\n    e.stopPropagation();\n    if (e.ctrlKey) {\n      e.preventDefault();\n      blurInput();\n    }\n    var keyCode = e.keyCode;\n    if (keyCode === designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.keyCode.ENTER) {\n      // 按enter键，失焦处理\n      blurInput();\n    }\n  }, []);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"input\", {\n    ref: inputRef,\n    style: style,\n    type: \"text\",\n    value: innerValue,\n    maxLength: maxLength,\n    className: \"\".concat(prefixCls, \"-global-edit-control-name\"),\n    onBlur: onBlur,\n    onChange: handleChange,\n    onKeyDown: onKeyDown\n  });\n});\n\n// 双击修改名称(initialEdit：是否初始化的时候就显示编辑框)\nvar useEditControlName = function useEditControlName(field) {\n  var initialEdit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_context__WEBPACK_IMPORTED_MODULE_6__.DesignerContext),\n    prefixCls = _useContext.prefixCls,\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var _useContext2 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.GlobalConfigContext),\n    showMessage = _useContext2.showMessage;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    metaApi = _getKdesignerApi.meta;\n  var Id = field.Id;\n  var editBoxRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n  var targetRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n  var requestAnimationFrameId = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n  var inputRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n\n  // 滚动时，\n  var traceTargetPosition = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function () {\n    var _inputRef$current3;\n    if (!targetRef.current || !editBoxRef.current) return;\n    // 先blur处理\n    inputRef === null || inputRef === void 0 || (_inputRef$current3 = inputRef.current) === null || _inputRef$current3 === void 0 || _inputRef$current3.blur();\n  }, []);\n  var scrollCb = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function () {\n    requestAnimationFrameId.current = window.requestAnimationFrame(traceTargetPosition);\n  }, []);\n  var unmountInputNode = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function () {\n    kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_4___default().unmountComponentAtNode(editBoxRef.current);\n    document.body.removeChild(editBoxRef.current);\n    editBoxRef.current = null;\n    targetRef.current = null;\n\n    // 移除监听器\n    var rootDom = document.getElementById('ui-designer-root');\n    rootDom === null || rootDom === void 0 || rootDom.removeEventListener('scroll', scrollCb, true);\n    if (requestAnimationFrameId.current) {\n      window.cancelAnimationFrame(requestAnimationFrameId.current);\n    }\n  }, []);\n  var onBlur = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (e) {\n    var _ref2 = dataContext.findControl(Id) || {},\n      name = _ref2.Name;\n    if (!e.target.value) showMessage('控件名称不能为空');\n    var newName = e.target.value || name;\n    if (newName !== name) {\n      dataContext.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.createUpdateAction)([[Id, {\n        Name: newName\n      }]]));\n    }\n    unmountInputNode();\n  }, []);\n\n  // 动态渲染个input，盖在目标元素上\n  var renderInputToTarget = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (target) {\n    targetRef.current = target;\n    var _ref3 = (target === null || target === void 0 ? void 0 : target.getBoundingClientRect()) || {},\n      left = _ref3.left,\n      top = _ref3.top,\n      width = _ref3.width,\n      height = _ref3.height;\n    var _dataContext$findCont = dataContext.findControl(Id),\n      Name = _dataContext$findCont.Name,\n      _Type_ = _dataContext$findCont._Type_;\n    var _metaApi$getControlMe = metaApi.getControlMetaEditor(_Type_, 'Name'),\n      maxLength = _metaApi$getControlMe.MaxLength;\n    // const editBoxStyle: React.CSSProperties = {\n    //   position: 'fixed',\n    //   zIndex: 0,\n    //   left: left + 1,\n    //   top: top,\n    //   width: width - 2,\n    //   height: height,\n    //   lineHeight: height\n    // }\n    if (!editBoxRef.current) {\n      var _context, _context2, _context3;\n      editBoxRef.current = document.createElement('div');\n      editBoxRef.current.style.cssText = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default()(_context2 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default()(_context3 = \"position: fixed;z-index: 0;left: \".concat(left + 1, \"px;top: \")).call(_context3, top, \"px;width: \")).call(_context2, width - 2, \"px;height: \")).call(_context, height, \"px;background: transparent;\");\n    }\n    kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_4___default().render( /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(EditBox, {\n      ref: inputRef,\n      prefixCls: prefixCls,\n      value: Name,\n      maxLength: maxLength,\n      style: {\n        width: '100%',\n        height: \"\".concat(height - 1, \"px\")\n      },\n      onBlur: onBlur\n    }), editBoxRef.current);\n    document.body.appendChild(editBoxRef.current);\n\n    // 注册滚动监听\n    var rootDom = document.getElementById('ui-designer-root');\n    rootDom === null || rootDom === void 0 || rootDom.addEventListener('scroll', scrollCb, true);\n  }, []);\n\n  // 双击事件处理\n  var onDoubleClick = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (e) {\n    var target = e.currentTarget;\n    renderInputToTarget(target);\n  }, []);\n\n  // 控件被添加进入画布的时候显示编辑框\n  var initEditState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (activeId) {\n    if (editBoxRef.current && activeId !== Id) {\n      unmountInputNode();\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.eventBus.off('add-control-id', initEditState);\n    } else if (initialEdit && activeId === Id) {\n      var _context4, _context5;\n      var target = document.querySelector(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default()(_context4 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default()(_context5 = \"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_8__.dataControlId, \"=\\\"\")).call(_context5, Id, \"\\\"] [\")).call(_context4, _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_8__.dataChangeName, \"=\\\"true\\\"]\"));\n      if (!target) return;\n      renderInputToTarget(target);\n    }\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.eventBus.on('add-control-id', initEditState);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.eventBus.off('add-control-id', initEditState);\n    };\n  }, []);\n  return (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    onDoubleClick: onDoubleClick\n  }, _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_8__.dataChangeName, true);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useEditControlName);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTc1OTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBTUE7QUFKQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUdBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvaG9va3MvdXNlRWRpdENvbnRyb2xOYW1lLnRzeD9jZTczIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogaG9va+eUqOmAlO+8muS/ruaUueaOp+S7tuWQjeensO+8iOWFqOWxgO+8iVxuICog6K6+6K6h5oCd6Lev77yaXG4gKiAxLmhvb2vovpPlh7rkuIDkuKpvbkRvdWJsZUNsaWNr5pa55rOV77yM5L6b5aSW6YOo5L2/55So44CC5ZCM5pe25Y+v6YWN572u5Yid5aeL5YyW5pe25pi+56S66L6T5YWl5qGG77yIaW5pdGlhbEVkaXTvvIzln7rkuo5ldmVudEJ1c+iuoumYheaOp+S7tua3u+WKoOaXtuWPkeW4g+eahOS6i+S7tu+8iVxuICogMi7lj4zlh7vml7bvvIzojrflj5blj4zlh7vnmoTlhYPntKDnmoTkvY3nva7kv6Hmga/vvIjlrr3jgIHpq5jjgIHkvY3nva7nrYnvvInvvIzliqjmgIHliJvlu7rkuIDkuKppbnB1dO+8iOW5tueUqHJlZuWtmGRvbeeahOW8leeUqO+8ie+8jOiuqWlucHV055uW5Zyo6K+l5YWD57Sg5LiKXG4gKiAzLmlucHV05aSx5Y6754Sm54K55pe277yM5pu05paw5a+55bqU5o6n5Lu255qE5ZCN56ew77yM5bm26ZSA5q+BaW5wdXTnmoRkb21cbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VSZWYsIEZvY3VzRXZlbnRIYW5kbGVyLCBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgUmVhY3REb20gZnJvbSAncmVhY3QtZG9tJ1xuaW1wb3J0IHsgY3JlYXRlVXBkYXRlQWN0aW9uLCBrZXlDb2RlIGFzIEtFWVMsIGV2ZW50QnVzLCBHbG9iYWxDb25maWdDb250ZXh0IH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dCdcbmltcG9ydCB7IE1BSU5WSUVXX1JPT1RfSUQgfSBmcm9tICcuLi9jb25zdGFudHMnXG5pbXBvcnQgeyBkYXRhQ2hhbmdlTmFtZSwgZGF0YUNvbnRyb2xJZCB9IGZyb20gJy4uL2NvbnN0YW50cy9kYXRhQXR0cmlidXRlJ1xuXG5pbnRlcmZhY2UgRWRpdEJveFByb3BzIHtcbiAgcHJlZml4Q2xzOiBzdHJpbmc7XG4gIHZhbHVlOiBzdHJpbmc7XG4gIHN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xuICBtYXhMZW5ndGg/OiBudW1iZXI7XG4gIG9uQmx1cjogRm9jdXNFdmVudEhhbmRsZXI8Z2xvYmFsVGhpcy5IVE1MRGl2RWxlbWVudD47XG59XG5cbmNvbnN0IEVkaXRCb3g6IFJlYWN0LkZDPEVkaXRCb3hQcm9wcz4gPSBmb3J3YXJkUmVmKCh7XG4gIHByZWZpeENscyxcbiAgdmFsdWUsXG4gIG1heExlbmd0aCxcbiAgc3R5bGUsXG4gIG9uQmx1clxufSwgaW5wdXRSZWYpID0+IHtcbiAgY29uc3QgW2lubmVyVmFsdWUsIHNldElubmVyVmFsdWVdID0gdXNlU3RhdGUodmFsdWUpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpbnB1dFJlZj8uY3VycmVudD8uc2VsZWN0KClcbiAgfSwgW10pXG5cbiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0LkNoYW5nZUV2ZW50KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZVxuICAgIHNldElubmVyVmFsdWUodmFsdWUpXG4gIH0sIFtzZXRJbm5lclZhbHVlXSlcblxuICBjb25zdCBibHVySW5wdXQgPSAoKSA9PiB7XG4gICAgY29uc3QgbWFpblZpZXdSb290ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoTUFJTlZJRVdfUk9PVF9JRClcbiAgICBpbnB1dFJlZj8uY3VycmVudD8uYmx1cigpXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBtYWluVmlld1Jvb3Q/LmZvY3VzKClcbiAgICB9LCAwKVxuICB9XG5cbiAgY29uc3Qgb25LZXlEb3duID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0LktleWJvYXJkRXZlbnQpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgaWYgKGUuY3RybEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBibHVySW5wdXQoKVxuICAgIH1cbiAgICBjb25zdCBrZXlDb2RlID0gZS5rZXlDb2RlXG4gICAgaWYgKGtleUNvZGUgPT09IEtFWVMuRU5URVIpIHtcbiAgICAgIC8vIOaMiWVudGVy6ZSu77yM5aSx54Sm5aSE55CGXG4gICAgICBibHVySW5wdXQoKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgcmV0dXJuIChcbiAgICA8aW5wdXRcbiAgICAgIHJlZj17aW5wdXRSZWZ9XG4gICAgICBzdHlsZT17c3R5bGV9XG4gICAgICB0eXBlPSd0ZXh0J1xuICAgICAgdmFsdWU9e2lubmVyVmFsdWV9XG4gICAgICBtYXhMZW5ndGg9e21heExlbmd0aH1cbiAgICAgIGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1nbG9iYWwtZWRpdC1jb250cm9sLW5hbWVgfVxuICAgICAgb25CbHVyPXtvbkJsdXJ9XG4gICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgb25LZXlEb3duPXtvbktleURvd259XG4gICAgLz5cbiAgKVxufSlcblxuLy8g5Y+M5Ye75L+u5pS55ZCN56ewKGluaXRpYWxFZGl077ya5piv5ZCm5Yid5aeL5YyW55qE5pe25YCZ5bCx5pi+56S657yW6L6R5qGGKVxuY29uc3QgdXNlRWRpdENvbnRyb2xOYW1lID0gKGZpZWxkOiBhbnksIGluaXRpYWxFZGl0OiBCb29sZWFuID0gdHJ1ZSkgPT4ge1xuICBjb25zdCB7IHByZWZpeENscywgZ2V0S2Rlc2lnbmVyQXBpIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3QgeyBzaG93TWVzc2FnZSB9ID0gdXNlQ29udGV4dChHbG9iYWxDb25maWdDb250ZXh0KVxuICBjb25zdCB7IGRhdGE6IGRhdGFDb250ZXh0LCBtZXRhOiBtZXRhQXBpIH0gPSBnZXRLZGVzaWduZXJBcGkoKVxuICBjb25zdCB7IElkIH0gPSBmaWVsZFxuICBjb25zdCBlZGl0Qm94UmVmID0gdXNlUmVmPGFueT4obnVsbClcbiAgY29uc3QgdGFyZ2V0UmVmID0gdXNlUmVmPGFueT4obnVsbClcbiAgY29uc3QgcmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSB1c2VSZWY8YW55PihudWxsKVxuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZjxhbnk+KG51bGwpXG5cbiAgLy8g5rua5Yqo5pe277yMXG4gIGNvbnN0IHRyYWNlVGFyZ2V0UG9zaXRpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCF0YXJnZXRSZWYuY3VycmVudCB8fCAhZWRpdEJveFJlZi5jdXJyZW50KSByZXR1cm5cbiAgICAvLyDlhYhibHVy5aSE55CGXG4gICAgaW5wdXRSZWY/LmN1cnJlbnQ/LmJsdXIoKVxuICB9LCBbXSlcblxuICBjb25zdCBzY3JvbGxDYiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZC5jdXJyZW50ID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0cmFjZVRhcmdldFBvc2l0aW9uKVxuICB9LCBbXSlcblxuICBjb25zdCB1bm1vdW50SW5wdXROb2RlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIFJlYWN0RG9tLnVubW91bnRDb21wb25lbnRBdE5vZGUoZWRpdEJveFJlZi5jdXJyZW50KVxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWRpdEJveFJlZi5jdXJyZW50KVxuICAgIGVkaXRCb3hSZWYuY3VycmVudCA9IG51bGxcbiAgICB0YXJnZXRSZWYuY3VycmVudCA9IG51bGxcblxuICAgIC8vIOenu+mZpOebkeWQrOWZqFxuICAgIGNvbnN0IHJvb3REb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndWktZGVzaWduZXItcm9vdCcpXG4gICAgcm9vdERvbT8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsQ2IsIHRydWUpXG4gICAgaWYgKHJlcXVlc3RBbmltYXRpb25GcmFtZUlkLmN1cnJlbnQpIHtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShyZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZC5jdXJyZW50KVxuICAgIH1cbiAgfSwgW10pXG5cbiAgY29uc3Qgb25CbHVyID0gdXNlQ2FsbGJhY2soKGUpID0+IHtcbiAgICBjb25zdCB7IE5hbWU6IG5hbWUgfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKElkKSB8fCB7fVxuICAgIGlmICghZS50YXJnZXQudmFsdWUpIHNob3dNZXNzYWdlKCfmjqfku7blkI3np7DkuI3og73kuLrnqbonKVxuICAgIGNvbnN0IG5ld05hbWUgPSBlLnRhcmdldC52YWx1ZSB8fCBuYW1lXG4gICAgaWYgKG5ld05hbWUgIT09IG5hbWUpIHtcbiAgICAgIGRhdGFDb250ZXh0LmJhdGNoVXBkYXRlQ29udHJvbFByb3BlcnR5VmFsdWVzKGNyZWF0ZVVwZGF0ZUFjdGlvbihbW0lkLCB7IE5hbWU6IG5ld05hbWUgfV1dKSlcbiAgICB9XG4gICAgdW5tb3VudElucHV0Tm9kZSgpXG4gIH0sIFtdKVxuXG4gIC8vIOWKqOaAgea4suafk+S4qmlucHV077yM55uW5Zyo55uu5qCH5YWD57Sg5LiKXG4gIGNvbnN0IHJlbmRlcklucHV0VG9UYXJnZXQgPSB1c2VDYWxsYmFjaygodGFyZ2V0OiBnbG9iYWxUaGlzLkVsZW1lbnQpID0+IHtcbiAgICB0YXJnZXRSZWYuY3VycmVudCA9IHRhcmdldFxuICAgIGNvbnN0IHsgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0IH0gPSB0YXJnZXQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHx8IHt9XG4gICAgY29uc3QgeyBOYW1lLCBfVHlwZV8gfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKElkKVxuICAgIGNvbnN0IHsgTWF4TGVuZ3RoOiBtYXhMZW5ndGggfSA9IG1ldGFBcGkuZ2V0Q29udHJvbE1ldGFFZGl0b3IoX1R5cGVfLCAnTmFtZScpXG4gICAgLy8gY29uc3QgZWRpdEJveFN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0ge1xuICAgIC8vICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgLy8gICB6SW5kZXg6IDAsXG4gICAgLy8gICBsZWZ0OiBsZWZ0ICsgMSxcbiAgICAvLyAgIHRvcDogdG9wLFxuICAgIC8vICAgd2lkdGg6IHdpZHRoIC0gMixcbiAgICAvLyAgIGhlaWdodDogaGVpZ2h0LFxuICAgIC8vICAgbGluZUhlaWdodDogaGVpZ2h0XG4gICAgLy8gfVxuICAgIGlmICghZWRpdEJveFJlZi5jdXJyZW50KSB7XG4gICAgICBlZGl0Qm94UmVmLmN1cnJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgZWRpdEJveFJlZi5jdXJyZW50LnN0eWxlLmNzc1RleHQgPSBgcG9zaXRpb246IGZpeGVkO3otaW5kZXg6IDA7bGVmdDogJHtsZWZ0ICsgMX1weDt0b3A6ICR7dG9wfXB4O3dpZHRoOiAke3dpZHRoIC0gMn1weDtoZWlnaHQ6ICR7aGVpZ2h0fXB4O2JhY2tncm91bmQ6IHRyYW5zcGFyZW50O2BcbiAgICB9XG4gICAgUmVhY3REb20ucmVuZGVyKFxuICAgICAgPEVkaXRCb3ggcmVmPXtpbnB1dFJlZn0gcHJlZml4Q2xzPXtwcmVmaXhDbHN9IHZhbHVlPXtOYW1lfSBtYXhMZW5ndGg9e21heExlbmd0aH0gc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiBgJHtoZWlnaHQgLSAxfXB4YCB9fSBvbkJsdXI9e29uQmx1cn0gLz4sXG4gICAgICBlZGl0Qm94UmVmLmN1cnJlbnRcbiAgICApXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlZGl0Qm94UmVmLmN1cnJlbnQpXG5cbiAgICAvLyDms6jlhozmu5rliqjnm5HlkKxcbiAgICBjb25zdCByb290RG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VpLWRlc2lnbmVyLXJvb3QnKVxuICAgIHJvb3REb20/LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbENiLCB0cnVlKVxuICB9LCBbXSlcblxuICAvLyDlj4zlh7vkuovku7blpITnkIZcbiAgY29uc3Qgb25Eb3VibGVDbGljayA9IHVzZUNhbGxiYWNrKChlKSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0XG4gICAgcmVuZGVySW5wdXRUb1RhcmdldCh0YXJnZXQpXG4gIH0sIFtdKVxuXG4gIC8vIOaOp+S7tuiiq+a3u+WKoOi/m+WFpeeUu+W4g+eahOaXtuWAmeaYvuekuue8lui+keahhlxuICBjb25zdCBpbml0RWRpdFN0YXRlID0gdXNlQ2FsbGJhY2soKGFjdGl2ZUlkKSA9PiB7XG4gICAgaWYgKGVkaXRCb3hSZWYuY3VycmVudCAmJiBhY3RpdmVJZCAhPT0gSWQpIHtcbiAgICAgIHVubW91bnRJbnB1dE5vZGUoKVxuICAgICAgZXZlbnRCdXMub2ZmKCdhZGQtY29udHJvbC1pZCcsIGluaXRFZGl0U3RhdGUpXG4gICAgfSBlbHNlIGlmIChpbml0aWFsRWRpdCAmJiBhY3RpdmVJZCA9PT0gSWQpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFske2RhdGFDb250cm9sSWR9PVwiJHtJZH1cIl0gWyR7ZGF0YUNoYW5nZU5hbWV9PVwidHJ1ZVwiXWApXG4gICAgICBpZiAoIXRhcmdldCkgcmV0dXJuXG4gICAgICByZW5kZXJJbnB1dFRvVGFyZ2V0KHRhcmdldClcbiAgICB9XG4gIH0sIFtdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZXZlbnRCdXMub24oJ2FkZC1jb250cm9sLWlkJywgaW5pdEVkaXRTdGF0ZSlcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZXZlbnRCdXMub2ZmKCdhZGQtY29udHJvbC1pZCcsIGluaXRFZGl0U3RhdGUpXG4gICAgfVxuICB9LCBbXSlcblxuICByZXR1cm4ge1xuICAgIG9uRG91YmxlQ2xpY2ssXG4gICAgW2RhdGFDaGFuZ2VOYW1lXTogdHJ1ZVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZUVkaXRDb250cm9sTmFtZVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17592\n");

/***/ }),

/***/ 74640:
/*!************************************************!*\
  !*** ./src/hooks/useGetActivedTabDomProps.tsx ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _useMouseEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./useMouseEvent */ 14448);\n/* harmony import */ var _useDataControlId__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useDataControlId */ 32860);\n/* harmony import */ var _useClick__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./useClick */ 49116);\n/* harmony import */ var _useDragControl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./useDragControl */ 57920);\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-07-12 14:38:50\n * @LastEditTime: 2022-11-21 10:17:14\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\nvar useGetActivedTabDomProps = function useGetActivedTabDomProps(id) {\n  if (!id) {\n    return {};\n  }\n  var mouseEvent = (0,_useMouseEvent__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({\n    Id: id\n  });\n  var onMouseDown = (0,_useClick__WEBPACK_IMPORTED_MODULE_8__[\"default\"])();\n  var dataControlId = (0,_useDataControlId__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({\n    Id: id\n  });\n  var dragEvent = (0,_useDragControl__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({\n    Id: id\n  });\n  return _objectSpread(_objectSpread(_objectSpread({}, mouseEvent), {}, {\n    onMouseDown: onMouseDown\n  }, dataControlId), dragEvent);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useGetActivedTabDomProps);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzQ2NDAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBSUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9ob29rcy91c2VHZXRBY3RpdmVkVGFiRG9tUHJvcHMudHN4PzQzYjYiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0wNy0xMiAxNDozODo1MFxuICogQExhc3RFZGl0VGltZTogMjAyMi0xMS0yMSAxMDoxNzoxNFxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB1c2VEcmFnR3JvdXBDb250YWluZXIgZnJvbSAnLi91c2VEcmFnR3JvdXBDb250YWluZXInXG5pbXBvcnQgdXNlTW91c2VFdmVudCBmcm9tICcuL3VzZU1vdXNlRXZlbnQnXG5pbXBvcnQgdXNlRGF0YUNvbnRyb2xJZCBmcm9tICcuL3VzZURhdGFDb250cm9sSWQnXG5pbXBvcnQgdXNlQ2xpY2sgZnJvbSAnLi91c2VDbGljaydcbmltcG9ydCB1c2VEcmFnQ29udHJvbCBmcm9tICcuL3VzZURyYWdDb250cm9sJ1xuXG5jb25zdCB1c2VHZXRBY3RpdmVkVGFiRG9tUHJvcHMgPSAoaWQ6IHN0cmluZykgPT4ge1xuICBpZiAoIWlkKSB7XG4gICAgcmV0dXJuIHt9XG4gIH1cblxuICBjb25zdCBtb3VzZUV2ZW50ID0gdXNlTW91c2VFdmVudCh7IElkOiBpZCB9KVxuICBjb25zdCBvbk1vdXNlRG93biA9IHVzZUNsaWNrKClcbiAgY29uc3QgZGF0YUNvbnRyb2xJZCA9IHVzZURhdGFDb250cm9sSWQoeyBJZDogaWQgfSlcbiAgY29uc3QgZHJhZ0V2ZW50ID0gdXNlRHJhZ0NvbnRyb2woeyBJZDogaWQgfSlcbiAgcmV0dXJuIHtcbiAgICAuLi5tb3VzZUV2ZW50LFxuICAgIG9uTW91c2VEb3duLFxuICAgIC4uLmRhdGFDb250cm9sSWQsXG4gICAgLi4uZHJhZ0V2ZW50XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlR2V0QWN0aXZlZFRhYkRvbVByb3BzXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///74640\n");

/***/ }),

/***/ 51568:
/*!******************************************!*\
  !*** ./src/hooks/useGetControlHidden.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _constants_control__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants/control */ 24788);\n/* harmony import */ var _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants/dataAttribute */ 64536);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/control */ 3700);\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-05-22 10:36:17\n * @LastEditTime: 2024-05-22 11:02:46\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\nvar useGetControlHidden = function useGetControlHidden(field) {\n  if (!field) return {};\n  var Id = field.Id,\n    Status = field.Status,\n    Visibility = field.Visibility,\n    Key = field.Key;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_context__WEBPACK_IMPORTED_MODULE_2__.DesignerContext),\n    fieldStatusSettingMode = _useContext.fieldStatusSettingMode,\n    isPC = _useContext.isPC,\n    fieldStatusMap = _useContext.fieldStatusMap;\n  var fieldStatus = fieldStatusMap === null || fieldStatusMap === void 0 ? void 0 : fieldStatusMap[Key];\n  if (Status === _constants_control__WEBPACK_IMPORTED_MODULE_3__.TEXT_STATUS_ENUM.HIDDEN && (!fieldStatusSettingMode || !fieldStatus) || !(0,_utils_control__WEBPACK_IMPORTED_MODULE_5__.getControlVisible)(isPC, Visibility) || fieldStatus === 'hidden') {\n    return (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_4__.dataHidden, true);\n  }\n  return {};\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useGetControlHidden);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTE1NjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBS0E7QUFHQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9ob29rcy91c2VHZXRDb250cm9sSGlkZGVuLnRzPzIzZmEiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMy0wNS0yMiAxMDozNjoxN1xuICogQExhc3RFZGl0VGltZTogMjAyNC0wNS0yMiAxMTowMjo0NlxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBJQ29udHJvbEl0ZW1VcHBlcmNhc2VLZXkgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0J1xuaW1wb3J0IHsgVEVYVF9TVEFUVVNfRU5VTSB9IGZyb20gJy4uL2NvbnN0YW50cy9jb250cm9sJ1xuaW1wb3J0IHsgZGF0YUhpZGRlbiB9IGZyb20gJy4uL2NvbnN0YW50cy9kYXRhQXR0cmlidXRlJ1xuaW1wb3J0IHsgZ2V0Q29udHJvbFZpc2libGUgfSBmcm9tICcuLi91dGlscy9jb250cm9sJ1xuXG5jb25zdCB1c2VHZXRDb250cm9sSGlkZGVuID0gKGZpZWxkOiBJQ29udHJvbEl0ZW1VcHBlcmNhc2VLZXkpID0+IHtcbiAgaWYgKCFmaWVsZCkgcmV0dXJuIHt9XG4gIGNvbnN0IHsgSWQsIFN0YXR1cywgVmlzaWJpbGl0eSwgS2V5IH0gPSBmaWVsZFxuICBjb25zdCB7IGZpZWxkU3RhdHVzU2V0dGluZ01vZGUsIGlzUEMsIGZpZWxkU3RhdHVzTWFwIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcblxuICBjb25zdCBmaWVsZFN0YXR1cyA9IGZpZWxkU3RhdHVzTWFwPy5bS2V5XVxuXG4gIGlmIChcbiAgICAoU3RhdHVzID09PSBURVhUX1NUQVRVU19FTlVNLkhJRERFTiAmJiAoIWZpZWxkU3RhdHVzU2V0dGluZ01vZGUgfHwgIWZpZWxkU3RhdHVzKSkgfHxcbiAgICAhZ2V0Q29udHJvbFZpc2libGUoaXNQQywgVmlzaWJpbGl0eSkgfHxcbiAgICBmaWVsZFN0YXR1cyA9PT0gJ2hpZGRlbidcbiAgKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFtkYXRhSGlkZGVuXTogdHJ1ZVxuICAgIH1cbiAgfVxuICByZXR1cm4ge31cbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlR2V0Q29udHJvbEhpZGRlblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///51568\n");

/***/ }),

/***/ 7040:
/*!****************************************!*\
  !*** ./src/hooks/useGetControlName.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/control */ 3700);\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-12-05 14:09:23\n * @LastEditTime: 2024-02-01 11:19:53\n * @Last Modified by: jianhang_he\n */\n\n\n\n\nvar useGetControlName = function useGetControlName(_ref) {\n  var controlId = _ref.Id;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_context__WEBPACK_IMPORTED_MODULE_3__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var metaApi = kdesignerApi.meta,\n    dataApi = kdesignerApi.data;\n  var field = dataApi.findControl(controlId) || {};\n  var controlType = field._Type_,\n    conrtrolKey = field.Key,\n    _field$Multi = field.Multi,\n    Multi = _field$Multi === void 0 ? '0' : _field$Multi,\n    SelectItemType = field.SelectItemType;\n  var _ref2 = metaApi.getControlMeta(controlType) || {},\n    Name = _ref2.Name;\n  var formNameRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useState)((0,_utils_control__WEBPACK_IMPORTED_MODULE_4__.getControlName)(Name, field)),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    controlName = _useState2[0],\n    setControlName = _useState2[1];\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_2__.useDataChangeForceUpdateEffect)(kdesignerApi);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    var name = (0,_utils_control__WEBPACK_IMPORTED_MODULE_4__.getControlName)(Name, {\n      SelectItemType: SelectItemType,\n      Multi: Multi,\n      _Type_: controlType\n    });\n    setControlName(name);\n  }, [controlId, controlType, SelectItemType, Multi]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    if (!(0,_utils_control__WEBPACK_IMPORTED_MODULE_4__.isRefBill)(controlType)) return;\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_2__.eventBus.on(\"\".concat(conrtrolKey, \"_refbill\"), function (data) {\n      formNameRef.current = data.formName;\n      setControlName((0,_utils_control__WEBPACK_IMPORTED_MODULE_4__.getControlName)(formNameRef.current, field));\n    });\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_2__.eventBus.off(\"\".concat(conrtrolKey, \"_refbill\"));\n    };\n  }, [conrtrolKey]);\n  return controlName;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useGetControlName);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzA0MC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9ob29rcy91c2VHZXRDb250cm9sTmFtZS50cz8zOWQ0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjMtMTItMDUgMTQ6MDk6MjNcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjQtMDItMDEgMTE6MTk6NTNcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlTWVtbywgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQge1xuICBldmVudEJ1cyxcbiAgdXNlRGF0YUNoYW5nZUZvcmNlVXBkYXRlRWZmZWN0XG59IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQnXG5pbXBvcnQgeyBnZXRDb250cm9sTmFtZSwgaXNSZWZCaWxsIH0gZnJvbSAnLi4vdXRpbHMvY29udHJvbCdcblxuY29uc3QgdXNlR2V0Q29udHJvbE5hbWUgPSAoe1xuICBJZDogY29udHJvbElkXG59KSA9PiB7XG4gIGNvbnN0IHsgZ2V0S2Rlc2lnbmVyQXBpIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3Qga2Rlc2lnbmVyQXBpID0gdXNlTWVtbygoKSA9PiBnZXRLZGVzaWduZXJBcGkoKSwgW10pXG4gIGNvbnN0IHsgbWV0YTogbWV0YUFwaSwgZGF0YTogZGF0YUFwaSB9ID0ga2Rlc2lnbmVyQXBpXG4gIGNvbnN0IGZpZWxkID0gZGF0YUFwaS5maW5kQ29udHJvbChjb250cm9sSWQpIHx8IHt9XG4gIGNvbnN0IHsgX1R5cGVfOiBjb250cm9sVHlwZSwgS2V5OiBjb25ydHJvbEtleSwgTXVsdGkgPSAnMCcsIFNlbGVjdEl0ZW1UeXBlIH0gPSBmaWVsZFxuICBjb25zdCB7IE5hbWUgfSA9IG1ldGFBcGkuZ2V0Q29udHJvbE1ldGEoY29udHJvbFR5cGUpIHx8IHt9XG4gIGNvbnN0IGZvcm1OYW1lUmVmID0gdXNlUmVmKG51bGwpXG4gIGNvbnN0IFtjb250cm9sTmFtZSwgc2V0Q29udHJvbE5hbWVdID0gdXNlU3RhdGUoZ2V0Q29udHJvbE5hbWUoTmFtZSwgZmllbGQpKVxuXG4gIHVzZURhdGFDaGFuZ2VGb3JjZVVwZGF0ZUVmZmVjdChrZGVzaWduZXJBcGkpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBuYW1lID0gZ2V0Q29udHJvbE5hbWUoTmFtZSwgeyBTZWxlY3RJdGVtVHlwZSwgTXVsdGksIF9UeXBlXzogY29udHJvbFR5cGUgfSlcbiAgICBzZXRDb250cm9sTmFtZShuYW1lKVxuICB9LCBbY29udHJvbElkLCBjb250cm9sVHlwZSwgU2VsZWN0SXRlbVR5cGUsIE11bHRpXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNSZWZCaWxsKGNvbnRyb2xUeXBlKSkgcmV0dXJuXG5cbiAgICBldmVudEJ1cy5vbihgJHtjb25ydHJvbEtleX1fcmVmYmlsbGAsIChkYXRhKSA9PiB7XG4gICAgICBmb3JtTmFtZVJlZi5jdXJyZW50ID0gZGF0YS5mb3JtTmFtZVxuICAgICAgc2V0Q29udHJvbE5hbWUoZ2V0Q29udHJvbE5hbWUoZm9ybU5hbWVSZWYuY3VycmVudCwgZmllbGQpKVxuICAgIH0pXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZXZlbnRCdXMub2ZmKGAke2NvbnJ0cm9sS2V5fV9yZWZiaWxsYClcbiAgICB9XG4gIH0sIFtjb25ydHJvbEtleV0pXG5cbiAgcmV0dXJuIGNvbnRyb2xOYW1lXG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZUdldENvbnRyb2xOYW1lXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7040\n");

/***/ }),

/***/ 74984:
/*!*************************************!*\
  !*** ./src/hooks/useGetDomProps.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _useDataControlId__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./useDataControlId */ 32860);\n/* harmony import */ var _useMouseEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useMouseEvent */ 14448);\n/* harmony import */ var _useClick__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./useClick */ 49116);\n/* harmony import */ var _useDragControl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./useDragControl */ 57920);\n/* harmony import */ var _useGetControlHidden__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./useGetControlHidden */ 51568);\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-07-12 14:38:50\n * @LastEditTime: 2022-11-16 22:35:27\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\nvar useGetDomProps = function useGetDomProps(field) {\n  var dragEnabled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var mouseEvent = (0,_useMouseEvent__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(field);\n  var onMouseDown = (0,_useClick__WEBPACK_IMPORTED_MODULE_8__[\"default\"])();\n  if (!field) return _objectSpread({\n    onMouseDown: onMouseDown\n  }, mouseEvent);\n  var dataControlId = (0,_useDataControlId__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(field);\n  var dragEvent = (0,_useDragControl__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(field);\n  var controlHiddenProps = (0,_useGetControlHidden__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(field);\n  if (!dragEnabled) {\n    return _objectSpread(_objectSpread(_objectSpread({}, dataControlId), mouseEvent), {}, {\n      onMouseDown: onMouseDown\n    });\n  }\n  return _objectSpread(_objectSpread(_objectSpread({}, dataControlId), mouseEvent), {}, {\n    onMouseDown: onMouseDown,\n    dragEvent: dragEvent\n  }, controlHiddenProps);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useGetDomProps);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzQ5ODQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUdBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvaG9va3MvdXNlR2V0RG9tUHJvcHMudHM/YmQ2YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIyLTA3LTEyIDE0OjM4OjUwXG4gKiBATGFzdEVkaXRUaW1lOiAyMDIyLTExLTE2IDIyOjM1OjI3XG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5IH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHVzZURhdGFDb250cm9sSWQgZnJvbSAnLi91c2VEYXRhQ29udHJvbElkJ1xuaW1wb3J0IHVzZU1vdXNlRXZlbnQgZnJvbSAnLi91c2VNb3VzZUV2ZW50J1xuaW1wb3J0IHVzZUNsaWNrIGZyb20gJy4vdXNlQ2xpY2snXG5pbXBvcnQgdXNlRHJhZ0NvbnRyb2wgZnJvbSAnLi91c2VEcmFnQ29udHJvbCdcbmltcG9ydCB1c2VHZXRDb250cm9sSGlkZGVuIGZyb20gJy4vdXNlR2V0Q29udHJvbEhpZGRlbidcblxuY29uc3QgdXNlR2V0RG9tUHJvcHMgPSAoZmllbGQ6IElDb250cm9sSXRlbVVwcGVyY2FzZUtleSwgZHJhZ0VuYWJsZWQgPSB0cnVlKSA9PiB7XG4gIGNvbnN0IG1vdXNlRXZlbnQgPSB1c2VNb3VzZUV2ZW50KGZpZWxkKVxuICBjb25zdCBvbk1vdXNlRG93biA9IHVzZUNsaWNrKClcblxuICBpZiAoIWZpZWxkKSByZXR1cm4geyBvbk1vdXNlRG93biwgLi4ubW91c2VFdmVudCB9XG5cbiAgY29uc3QgZGF0YUNvbnRyb2xJZCA9IHVzZURhdGFDb250cm9sSWQoZmllbGQpXG5cbiAgY29uc3QgZHJhZ0V2ZW50ID0gdXNlRHJhZ0NvbnRyb2woZmllbGQpXG4gIGNvbnN0IGNvbnRyb2xIaWRkZW5Qcm9wcyA9IHVzZUdldENvbnRyb2xIaWRkZW4oZmllbGQpXG5cbiAgaWYgKCFkcmFnRW5hYmxlZCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5kYXRhQ29udHJvbElkLFxuICAgICAgLi4ubW91c2VFdmVudCxcbiAgICAgIG9uTW91c2VEb3duXG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgLi4uZGF0YUNvbnRyb2xJZCxcbiAgICAuLi5tb3VzZUV2ZW50LFxuICAgIG9uTW91c2VEb3duLFxuICAgIGRyYWdFdmVudCxcbiAgICAuLi5jb250cm9sSGlkZGVuUHJvcHNcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VHZXREb21Qcm9wc1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///74984\n");

/***/ }),

/***/ 65988:
/*!****************************************!*\
  !*** ./src/hooks/useGetSubControls.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_parseUIControl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/parseUIControl */ 8348);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ 41232);\n/*\n * @Descriptpo'p\n * @Author: jianhang_he\n * @Date: 2022-10-10 14:58:09\n * @LastEditTime: 2024-02-23 15:23:30\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n/**\n * excludeType: 排除某种类型的子控件\n * ctrlType: 创建指定类型的控件pop\n*/\nvar useGetSubControls = function useGetSubControls(field, data) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n    _ref$isPC = _ref.isPC,\n    isPC = _ref$isPC === void 0 ? true : _ref$isPC,\n    _ref$excludeType = _ref.excludeType,\n    excludeType = _ref$excludeType === void 0 ? '' : _ref$excludeType,\n    _ref$ctrlType = _ref.ctrlType,\n    ctrlType = _ref$ctrlType === void 0 ? '' : _ref$ctrlType;\n  var findControl = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n  var fieldId = field[_constants_propnames__WEBPACK_IMPORTED_MODULE_1__.ID];\n  var subControls = [];\n  var len = data[_constants_propnames__WEBPACK_IMPORTED_MODULE_1__.ITEMS].length;\n  for (var i = 0; i < len; i++) {\n    var item = data[_constants_propnames__WEBPACK_IMPORTED_MODULE_1__.ITEMS][i];\n    var type = item[_constants_propnames__WEBPACK_IMPORTED_MODULE_1__._TYPE_];\n    if (item[_constants_propnames__WEBPACK_IMPORTED_MODULE_1__.PARENTID] === fieldId && (!excludeType || excludeType !== type) && (!ctrlType || ctrlType === type)) {\n      // const visible = getControlVisible(isPC, item?.Visibility)\n      // if (visible) {\n      // console.log('useGetSubControls', item)\n      if ((0,_utils__WEBPACK_IMPORTED_MODULE_2__.isGroupContainer)(type) && Number(item.GroupIndex) !== 0) {\n        continue;\n      }\n      var childNode = (0,_utils_parseUIControl__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(item, {\n        isPC: isPC\n      });\n      childNode && subControls.push(childNode);\n      // }\n    }\n  }\n  return subControls;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useGetSubControls);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjU5ODguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvaG9va3MvdXNlR2V0U3ViQ29udHJvbHMudHM/NDI5YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0cG8ncFxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIyLTEwLTEwIDE0OjU4OjA5XG4gKiBATGFzdEVkaXRUaW1lOiAyMDI0LTAyLTIzIDE1OjIzOjMwXG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZU1lbW8sIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IElDb250cm9sSXRlbVVwcGVyY2FzZUtleSB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCBwYXJzZVVJQ29udHJvbCBmcm9tICcuLi91dGlscy9wYXJzZVVJQ29udHJvbCdcbmltcG9ydCB7IElURU1TLCBQQVJFTlRJRCwgSUQsIF9UWVBFXyB9IGZyb20gJy4uL2NvbnN0YW50cy9wcm9wbmFtZXMnXG5pbXBvcnQgeyBpc0dyb3VwQ29udGFpbmVyIH0gZnJvbSAnLi4vdXRpbHMnXG5cbi8qKlxuICogZXhjbHVkZVR5cGU6IOaOkumZpOafkOenjeexu+Wei+eahOWtkOaOp+S7tlxuICogY3RybFR5cGU6IOWIm+W7uuaMh+Wumuexu+Wei+eahOaOp+S7tnBvcFxuKi9cbmNvbnN0IHVzZUdldFN1YkNvbnRyb2xzID0gKGZpZWxkOiBJQ29udHJvbEl0ZW1VcHBlcmNhc2VLZXksIGRhdGE6IE1hcDxzdHJpbmcsIGFueT4sIHsgaXNQQyA9IHRydWUsIGV4Y2x1ZGVUeXBlID0gJycsIGN0cmxUeXBlID0gJycgfSA9IHt9LCBmaW5kQ29udHJvbDogRnVuY3Rpb24gPSAoKSA9PiB7fSkgPT4ge1xuICBjb25zdCBmaWVsZElkID0gZmllbGRbSURdXG4gIGNvbnN0IHN1YkNvbnRyb2xzOiBBcnJheTxSZWFjdC5SZWFjdE5vZGU+ID0gW11cblxuICBjb25zdCBsZW4gPSBkYXRhW0lURU1TXS5sZW5ndGhcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IGl0ZW0gPSBkYXRhW0lURU1TXVtpXVxuXG4gICAgY29uc3QgdHlwZSA9IGl0ZW1bX1RZUEVfXVxuICAgIGlmIChpdGVtW1BBUkVOVElEXSA9PT0gZmllbGRJZCAmJiAoIWV4Y2x1ZGVUeXBlIHx8IGV4Y2x1ZGVUeXBlICE9PSB0eXBlKSAmJiAoIWN0cmxUeXBlIHx8IGN0cmxUeXBlID09PSB0eXBlKSkge1xuICAgICAgLy8gY29uc3QgdmlzaWJsZSA9IGdldENvbnRyb2xWaXNpYmxlKGlzUEMsIGl0ZW0/LlZpc2liaWxpdHkpXG4gICAgICAvLyBpZiAodmlzaWJsZSkge1xuICAgICAgLy8gY29uc29sZS5sb2coJ3VzZUdldFN1YkNvbnRyb2xzJywgaXRlbSlcbiAgICAgIGlmIChpc0dyb3VwQ29udGFpbmVyKHR5cGUpICYmIE51bWJlcihpdGVtLkdyb3VwSW5kZXgpICE9PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICBjb25zdCBjaGlsZE5vZGUgPSBwYXJzZVVJQ29udHJvbChpdGVtLCB7IGlzUEMgfSlcbiAgICAgIGNoaWxkTm9kZSAmJiBzdWJDb250cm9scy5wdXNoKGNoaWxkTm9kZSlcbiAgICAgIC8vIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN1YkNvbnRyb2xzXG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZUdldFN1YkNvbnRyb2xzXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///65988\n");

/***/ }),

/***/ 54964:
/*!*******************************************!*\
  !*** ./src/hooks/useGetTabSubControls.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useGetSubGroupContainer: function() { return /* binding */ useGetSubGroupContainer; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/sort */ 24244);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_parseUIControl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/parseUIControl */ 8348);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../context */ 90115);\n\n\n/*\n * @Descriptpo'p\n * @Author: jianhang_he\n * @Date: 2022-10-10 14:58:09\n * @LastEditTime: 2024-01-24 15:04:03\n * @Last Modified by: jianhang_he\n */\n\n\n\n\nvar useGetTabItems = function useGetTabItems(fieldId) {\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context__WEBPACK_IMPORTED_MODULE_5__.DesignerContext),\n    isPC = _useContext.isPC,\n    getKdesignerApi = _useContext.getKdesignerApi;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data;\n  var data = dataContext.getData();\n\n  // 页签里面的子控件\n  var subTabControls = [];\n  // 页签子项\n  var subTabItems = [];\n\n  // 子控件\n  var subControls = [];\n  // 子项\n  var subItems = [];\n  data[_constants_propnames__WEBPACK_IMPORTED_MODULE_4__.ITEMS].forEach(function (item) {\n    // const visible = getControlVisible(isPC, item?.Visibility)\n    // if (visible) {\n    var childNode = (0,_utils_parseUIControl__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(item, {\n      isPC: isPC\n    });\n    if (item[_constants_propnames__WEBPACK_IMPORTED_MODULE_4__.PARENTID] === fieldId) {\n      if (item.isTab) {\n        subTabControls.push(childNode);\n        subTabItems.push(item);\n      } else {\n        subControls.push(childNode);\n        subItems.push(item);\n      }\n    }\n    // }\n  });\n  return {\n    subTabControls: subTabControls,\n    subTabItems: subTabItems,\n    subControls: subControls,\n    subItems: subItems\n  };\n};\nvar useGetSubGroupContainer = function useGetSubGroupContainer(field) {\n  var _context;\n  var _useContext2 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context__WEBPACK_IMPORTED_MODULE_5__.DesignerContext),\n    isPC = _useContext2.isPC,\n    getKdesignerApi = _useContext2.getKdesignerApi;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data;\n  var data = dataContext.getData();\n  var parentId = field.ParentId,\n    groupParentId = field.GroupParentId;\n  var controls = dataContext.getSubControls(parentId);\n  return _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_0___default()(_context = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default()(controls).call(controls, function (item) {\n    return item.GroupParentId === groupParentId;\n  })).call(_context, function (groupA, groupB) {\n    return Number(groupA.GroupIndex) - Number(groupB.GroupIndex);\n  });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useGetTabItems);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTQ5NjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvaG9va3MvdXNlR2V0VGFiU3ViQ29udHJvbHMudHM/ZTQxZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0cG8ncFxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIyLTEwLTEwIDE0OjU4OjA5XG4gKiBATGFzdEVkaXRUaW1lOiAyMDI0LTAxLTI0IDE1OjA0OjAzXG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZU1lbW8sIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IElDb250cm9sSXRlbVVwcGVyY2FzZUtleSB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCBwYXJzZVVJQ29udHJvbCBmcm9tICcuLi91dGlscy9wYXJzZVVJQ29udHJvbCdcbmltcG9ydCB7IGdldENvbnRyb2xWaXNpYmxlIH0gZnJvbSAnLi4vdXRpbHMvY29udHJvbCdcbmltcG9ydCB7IElURU1TLCBQQVJFTlRJRCwgSUQsIF9UWVBFXyB9IGZyb20gJy4uL2NvbnN0YW50cy9wcm9wbmFtZXMnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0J1xuaW1wb3J0IHsgaXNHcm91cENvbnRhaW5lciB9IGZyb20gJy4uL3V0aWxzJ1xuXG5jb25zdCB1c2VHZXRUYWJJdGVtcyA9IChmaWVsZElkKSA9PiB7XG4gIGNvbnN0IHsgaXNQQywgZ2V0S2Rlc2lnbmVyQXBpIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3Qga2Rlc2lnbmVyQXBpID0gdXNlTWVtbygoKSA9PiBnZXRLZGVzaWduZXJBcGkoKSwgW10pXG4gIGNvbnN0IHsgZGF0YTogZGF0YUNvbnRleHQgfSA9IGtkZXNpZ25lckFwaVxuICBjb25zdCBkYXRhID0gZGF0YUNvbnRleHQuZ2V0RGF0YSgpXG5cbiAgLy8g6aG1562+6YeM6Z2i55qE5a2Q5o6n5Lu2XG4gIGNvbnN0IHN1YlRhYkNvbnRyb2xzOiBBcnJheTxSZWFjdC5SZWFjdE5vZGU+ID0gW11cbiAgLy8g6aG1562+5a2Q6aG5XG4gIGNvbnN0IHN1YlRhYkl0ZW1zOiBhbnlbXSA9IFtdXG5cbiAgLy8g5a2Q5o6n5Lu2XG4gIGNvbnN0IHN1YkNvbnRyb2xzOiBBcnJheTxSZWFjdC5SZWFjdE5vZGU+ID0gW11cbiAgLy8g5a2Q6aG5XG4gIGNvbnN0IHN1Ykl0ZW1zOiBhbnlbXSA9IFtdXG5cbiAgZGF0YVtJVEVNU10uZm9yRWFjaCgoaXRlbTogSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5KSA9PiB7XG4gICAgLy8gY29uc3QgdmlzaWJsZSA9IGdldENvbnRyb2xWaXNpYmxlKGlzUEMsIGl0ZW0/LlZpc2liaWxpdHkpXG4gICAgLy8gaWYgKHZpc2libGUpIHtcbiAgICBjb25zdCBjaGlsZE5vZGUgPSBwYXJzZVVJQ29udHJvbChpdGVtLCB7IGlzUEMgfSlcblxuICAgIGlmIChpdGVtW1BBUkVOVElEXSA9PT0gZmllbGRJZCkge1xuICAgICAgaWYgKGl0ZW0uaXNUYWIpIHtcbiAgICAgICAgc3ViVGFiQ29udHJvbHMucHVzaChjaGlsZE5vZGUpXG4gICAgICAgIHN1YlRhYkl0ZW1zLnB1c2goaXRlbSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN1YkNvbnRyb2xzLnB1c2goY2hpbGROb2RlKVxuICAgICAgICBzdWJJdGVtcy5wdXNoKGl0ZW0pXG4gICAgICB9XG4gICAgfVxuICAgIC8vIH1cbiAgfSlcblxuICByZXR1cm4ge1xuICAgIHN1YlRhYkNvbnRyb2xzLFxuICAgIHN1YlRhYkl0ZW1zLFxuICAgIHN1YkNvbnRyb2xzLFxuICAgIHN1Ykl0ZW1zXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHVzZUdldFN1Ykdyb3VwQ29udGFpbmVyID0gKGZpZWxkKSA9PiB7XG4gIGNvbnN0IHsgaXNQQywgZ2V0S2Rlc2lnbmVyQXBpIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3Qga2Rlc2lnbmVyQXBpID0gdXNlTWVtbygoKSA9PiBnZXRLZGVzaWduZXJBcGkoKSwgW10pXG4gIGNvbnN0IHsgZGF0YTogZGF0YUNvbnRleHQgfSA9IGtkZXNpZ25lckFwaVxuICBjb25zdCBkYXRhID0gZGF0YUNvbnRleHQuZ2V0RGF0YSgpXG5cbiAgY29uc3QgeyBQYXJlbnRJZDogcGFyZW50SWQsIEdyb3VwUGFyZW50SWQ6IGdyb3VwUGFyZW50SWQgfSA9IGZpZWxkXG5cbiAgY29uc3QgY29udHJvbHMgPSBkYXRhQ29udGV4dC5nZXRTdWJDb250cm9scyhwYXJlbnRJZClcblxuICByZXR1cm4gY29udHJvbHMuZmlsdGVyKGl0ZW0gPT4gKGl0ZW0uR3JvdXBQYXJlbnRJZCA9PT0gZ3JvdXBQYXJlbnRJZCkpLnNvcnQoKGdyb3VwQSwgZ3JvdXBCKSA9PiAoTnVtYmVyKGdyb3VwQS5Hcm91cEluZGV4KSAtIE51bWJlcihncm91cEIuR3JvdXBJbmRleCkpKVxufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VHZXRUYWJJdGVtc1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///54964\n");

/***/ }),

/***/ 83560:
/*!************************************!*\
  !*** ./src/hooks/useInitSelect.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../context */ 90115);\n\n\nvar useInitSelect = function useInitSelect(field, kdesignerApi) {\n  var selectionContext = kdesignerApi.selection;\n  var Id = field.Id;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_1__.DesignerContext),\n    fieldStatusSettingMode = _useContext.fieldStatusSettingMode;\n  var setSelect = selectionContext.setSelect;\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (!fieldStatusSettingMode) {\n      setSelect([Id]);\n    }\n  }, []);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useInitSelect);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODM1NjAuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9ob29rcy91c2VJbml0U2VsZWN0LnRzPzA5ZmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0J1xuaW1wb3J0IHsgSUFwaSwgSVNlbGVjdGlvbiwgSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5IH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuXG5jb25zdCB1c2VJbml0U2VsZWN0ID0gKGZpZWxkOiBJQ29udHJvbEl0ZW1VcHBlcmNhc2VLZXksIGtkZXNpZ25lckFwaTogSUFwaSkgPT4ge1xuICBjb25zdCBzZWxlY3Rpb25Db250ZXh0OiBJU2VsZWN0aW9uID0ga2Rlc2lnbmVyQXBpLnNlbGVjdGlvblxuICBjb25zdCB7IElkIH0gPSBmaWVsZFxuICBjb25zdCB7IGZpZWxkU3RhdHVzU2V0dGluZ01vZGUgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCB7IHNldFNlbGVjdCB9ID0gc2VsZWN0aW9uQ29udGV4dFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZmllbGRTdGF0dXNTZXR0aW5nTW9kZSkge1xuICAgICAgc2V0U2VsZWN0KFtJZF0pXG4gICAgfVxuICB9LCBbXSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlSW5pdFNlbGVjdFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///83560\n");

/***/ }),

/***/ 87060:
/*!***************************************!*\
  !*** ./src/hooks/useKeyboardEvent.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   delectControl: function() { return /* binding */ delectControl; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils */ 41232);\n/* harmony import */ var _useCopyAndPaste__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./useCopyAndPaste */ 8184);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../constants */ 98092);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/control */ 3700);\n/* harmony import */ var _utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils/refBillEditorUtils */ 82048);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * 删除控件\n * @param selectionContext 选中上下文\n * @param dataContext 数据上下文\n * @param showMessage 显示消息函数\n * @param rootId 根节点\n * @param dispatchBillData 更新store数据函数\n * @param hideFieldRef 隐藏控件数据\n * @param setHideFieldRef 更新隐藏控件数据\n * @returns\n */\nvar delectControl = function delectControl(selectionContext, dataContext, showMessage, rootId, billPropsData, dispatchBillData, hideFieldRef, setHideFieldRef) {\n  var getSelection = selectionContext.getSelection,\n    setSelect = selectionContext.setSelect,\n    getActiveSelectedId = selectionContext.getActiveSelectedId;\n  var selection = getSelection();\n  if (selection.length > 0) {\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(selection).call(selection, rootId)) {\n      return showMessage('禁止删除根节点');\n    }\n    var deleteIds = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(selection).call(selection, function (id) {\n      return id !== rootId;\n    });\n    var allItems = dataContext.getData().Items;\n    var firstControl = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_4___default()(allItems).call(allItems, function (item) {\n      return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(deleteIds).call(deleteIds, item.Id);\n    });\n    if (!firstControl) return;\n    var firstControlId = firstControl.Id,\n      nextSelectedId = firstControl.ParentId,\n      _Type_ = firstControl._Type_,\n      RefBillId = firstControl.RefBillId,\n      RefTableId = firstControl.RefTableId,\n      GroupIndex = firstControl.GroupIndex;\n    if (deleteIds.length === 1) {\n      var nextId = dataContext.getNextSelectedControlId(firstControlId);\n      var nextField = dataContext.findControl(nextId);\n      // 下个节点存在，不是当前选择的节点，不是隐藏的节点\n      if (nextId === nextSelectedId && (0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isBizButton)(_Type_)) {\n        nextSelectedId = rootId;\n      } else if (nextField && nextId !== firstControlId && !(0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_15__.isHiddenRefField)(nextField) && !((0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isGroupContainer)(_Type_) && Number(GroupIndex) === 0 && Number(nextField.GroupIndex) === 1)) {\n        // 否则选择到父节点\n        nextSelectedId = nextId;\n      }\n    } else {\n      // 暂时屏蔽，临时需求改成关联表单及表格无法复制\n      // const itemMapper = allItems.reduce((result:Map<string,any>, item)=>{\n      //   return result.set(item.Id,item)\n      // }, new Map())\n      // // 删除关联表单或关联表单表格需同时删除隐藏控件（关联表单或表格）\n      // deleteIds.forEach((item:any) => {\n      //   if (isRefBill(itemMapper.get(item)._Type_) && RefTableId) deleteIds.push(RefTableId)\n      //   if (isRefBillTable(itemMapper.get(item)._Type_)) deleteIds.push(RefBillId)\n      // })\n      // 多选的时候不能直接取getNextSelectedControlId，因为取出来的id可能在deleteId中，这时候会中断\n      if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isBizButton)(_Type_)) {\n        // 业务操作按钮需要特殊处理下\n        var siblingButtons = dataContext.findControlByCondition(function (item) {\n          return item.ParentId === nextSelectedId && !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(deleteIds).call(deleteIds, item.Id);\n        });\n        nextSelectedId = siblingButtons.length ? siblingButtons[0].Id : rootId;\n      } else {\n        var _dataContext$getPrevS = dataContext.getPrevSibling(firstControlId),\n          prevControl = _dataContext$getPrevS.control;\n        if (prevControl) {\n          nextSelectedId = prevControl.Id;\n        }\n      }\n    }\n    (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_15__.deleteRefControl)(deleteIds, billPropsData, dispatchBillData, dataContext, hideFieldRef, setHideFieldRef, function () {\n      setSelect([nextSelectedId]);\n    });\n    // setTimeout(() => mainViewNode.focus(), 50)\n  }\n};\nvar useKeyboardEvent = function useKeyboardEvent(ref, isOutline) {\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useContext)(_context__WEBPACK_IMPORTED_MODULE_8__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    invokeSaveAction = _useContext.invokeSaveAction,\n    fieldStatusSettingMode = _useContext.fieldStatusSettingMode,\n    pubUIAction = _useContext.pubUIAction,\n    billPropsData = _useContext.billPropsData,\n    dispatchBillData = _useContext.dispatchBillData,\n    getHideFieldRef = _useContext.getHideFieldRef,\n    setHideFieldRef = _useContext.setHideFieldRef;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data;\n  var selectionContext = kdesignerApi.selection;\n  var metaApi = kdesignerApi.meta;\n  var rootId = dataContext.getRootId();\n  var getSelection = selectionContext.getSelection,\n    setSelect = selectionContext.setSelect,\n    getActiveSelectedId = selectionContext.getActiveSelectedId;\n  var globalConfig = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.GlobalConfigContext);\n  var showMessage = globalConfig.showMessage,\n    keywordMapping = globalConfig.keywordMapping;\n  var _useCopyAndPaste = (0,_useCopyAndPaste__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(),\n    setCopyContent = _useCopyAndPaste.setCopyContent,\n    getCopyContent = _useCopyAndPaste.getCopyContent,\n    setCopyIds = _useCopyAndPaste.setCopyIds,\n    getCopyIds = _useCopyAndPaste.getCopyIds,\n    setDatasetCutControl = _useCopyAndPaste.setDatasetCutControl,\n    removeDatasetCutControl = _useCopyAndPaste.removeDatasetCutControl,\n    clearCopyContent = _useCopyAndPaste.clearCopyContent;\n  // 隐藏控件缓存\n  // const hideFieldRef = getHideFieldRef()\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(function () {\n    var mainViewNode = ref.current;\n    if (mainViewNode && !fieldStatusSettingMode) {\n      var handleKeyBoardEvent = function handleKeyBoardEvent(event) {\n        // event.stopPropagation()\n        var _ref = event.target || {},\n          _ref$className = _ref.className,\n          className = _ref$className === void 0 ? '' : _ref$className;\n        if (className === 'nocode-designer-designer-field-item-edit') return;\n        var selection = getSelection();\n        var activeSelectedId = getActiveSelectedId();\n        // 删除控件\n        var keyCode = event.keyCode;\n        switch (keyCode) {\n          case designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.BACKSPACE:\n          case designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.DELETE:\n            {\n              event.preventDefault();\n              delectControl(selectionContext, dataContext, showMessage, rootId, billPropsData, dispatchBillData, getHideFieldRef(), setHideFieldRef);\n              if (selection.length > 0) {\n                setTimeout(function () {\n                  return mainViewNode.focus();\n                }, 50);\n              }\n              break;\n            }\n          case designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.ESC:\n            {\n              event.preventDefault();\n              var _activeSelectedId = kdesignerApi.selection.getActiveSelectedId();\n              if (_activeSelectedId !== kdesignerApi.data.getRootId()) {\n                var activeSelectedItem = kdesignerApi.data.findControl(_activeSelectedId);\n                var parentItem = kdesignerApi.data.findControlByCondition(function (item) {\n                  return item.Id === activeSelectedItem.ParentId;\n                });\n                var parentControl = parentItem[0];\n                if (parentControl._Root_) return;\n                setSelect(parentControl.Id);\n              }\n              break;\n            }\n          // case (KEYS.S): {\n          //   if (isCtrlActive(event)) {\n          //     invokeSaveAction()\n          //   }\n          //   break\n          // }\n          // case (KEYS.T): {\n          //   if (isCtrlActive(event) && isAltActive(event)) {\n          //     window.console.log(JSON.stringify(convert(kdesignerApi.data.findControl(kdesignerApi.selection.getActiveSelectedId())), undefined, 2))\n          //   }\n          //   break\n          // }\n          case designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.C:\n            {\n              event.preventDefault();\n              // 复制\n              if (event.ctrlKey) {\n                event === null || event === void 0 || event.stopPropagation();\n                var _selection = getSelection();\n                var selectControlsCopy = _selection.reduce(function (controls, id) {\n                  var _context;\n                  var controlData = dataContext.findControl(id);\n                  var _metaApi$getControlMe = metaApi.getControlMeta((controlData === null || controlData === void 0 ? void 0 : controlData.FieldType) || controlData[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__._TYPE_]),\n                    disableDelete = _metaApi$getControlMe.Inside,\n                    CategoryId = _metaApi$getControlMe.CategoryId,\n                    Name = _metaApi$getControlMe.Name;\n                  if (disableDelete) {\n                    console.warn('内置控件不允许添加');\n                    return controls;\n                  }\n                  if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(CategoryId).call(CategoryId, _constants__WEBPACK_IMPORTED_MODULE_13__.SYS_CATEGORY_PREFIX)) {\n                    showMessage(\"\".concat(Name, \"\\u53EA\\u80FD\\u5728\\u753B\\u5E03\\u4E2D\\u6DFB\\u52A0\\u4E00\\u6B21\\uFF0C\\u4E0D\\u80FD\\u590D\\u5236\"));\n                    return controls;\n                  }\n                  // 暂时屏蔽，临时需求改成关联表单及表格无法复制\n                  // if((isRefBill(controlData[_TYPE_]) && controlData.RefTableId) || isRefBillTable(controlData[_TYPE_])){\n                  //   const refField = dataContext.findControl(controlData?.RefTableId || controlData?.RefBillId)\n                  //   return [...controls, controlData, refField]\n                  // }\n                  if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isGroupContainer)(controlData[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__._TYPE_])) {\n                    var _dataContext$getAllSu;\n                    var subs = (_dataContext$getAllSu = dataContext.getAllSubControls(controlData.Id)) === null || _dataContext$getAllSu === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(_dataContext$getAllSu).call(_dataContext$getAllSu, function (ctrl) {\n                      return (0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBill)(ctrl[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__._TYPE_]) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBillTable)(ctrl[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__._TYPE_]) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isSysControl)(ctrl[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__._TYPE_]);\n                    });\n                    if (subs.length > 0) {\n                      showMessage('分组内包含关联表单、表格、或系统字段，不能复制。');\n                      return controls;\n                    }\n                  }\n                  if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBill)(controlData[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__._TYPE_]) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBillTable)(controlData[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__._TYPE_]) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isSysControl)(controlData[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__._TYPE_])) {\n                    showMessage('无法复制关联表单、表格控件、系统字段。');\n                    return controls;\n                  }\n                  return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(_context = []).call(_context, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(controls), [controlData]);\n                }, []);\n                setCopyContent(selectControlsCopy);\n                setCopyIds(selectControlsCopy.reduce(function (ids, control) {\n                  var allSubControlIds = dataContext.getAllSubControlIds(control === null || control === void 0 ? void 0 : control.Id) || [];\n                  return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(ids).call(ids, allSubControlIds);\n                }, []));\n              }\n              break;\n            }\n          case designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.V:\n            {\n              event.preventDefault();\n              // 粘贴\n              if (event.ctrlKey) {\n                var copyContent = getCopyContent();\n                if (Array.isArray(copyContent)) {\n                  var _context3;\n                  var isCut = removeDatasetCutControl() > 0;\n                  var formData = dataContext.getData();\n                  // 剪切\n                  if (isCut) {\n                    var deleteedIds = copyContent.reduce(function (prev, control) {\n                      var _context2;\n                      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(_context2 = [control[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__.ID]]).call(_context2, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(prev));\n                    }, []);\n                    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(deleteedIds).call(deleteedIds, activeSelectedId)) return;\n                    // 如果剪切的控件，被复制进它的子控件内。则死锁了，操作不被允许\n                    var activeSelectedParentIds = dataContext.getAllParentControlIds(activeSelectedId);\n                    if (activeSelectedParentIds.some(function (id) {\n                      return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(deleteedIds).call(deleteedIds, id);\n                    })) {\n                      showMessage('当【源控件】是【目标控件】的父级时，无法剪切/粘贴');\n                      return;\n                    }\n                    dataContext.swapControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.createSwapAction)({\n                      origin: deleteedIds,\n                      target: activeSelectedId\n                    })).then(function (actions) {\n                      selectionContext.setSelect([deleteedIds[0]]);\n                      clearCopyContent();\n                    });\n                    return;\n                  }\n                  var _dataContext$findCont = dataContext.findControl(activeSelectedId),\n                    FieldType = _dataContext$findCont.FieldType,\n                    controlType = _dataContext$findCont[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__._TYPE_];\n                  var parentId = activeSelectedId;\n                  var _metaApi$getControlMe2 = metaApi.getControlMeta(FieldType || controlType),\n                    IsContainer = _metaApi$getControlMe2.IsContainer;\n                  if (!IsContainer || (0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBillTable)(controlType)) {\n                    parentId = dataContext.getParentControlId(activeSelectedId);\n                  }\n                  var copyIds = getCopyIds();\n                  var copyUiData = {\n                    Items: dataContext.findControlByCondition(function (item) {\n                      return copyIds === null || copyIds === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(copyIds).call(copyIds, item.Id);\n                    })\n                  };\n                  // const refControls = new Set()\n                  var tempCopyContent = copyContent.reduce(function (prev, control) {\n                    // 暂时屏蔽，临时需求改成关联表单及表格无法复制\n                    // if (isRefBill(control._Type_) && control.RefTableId){\n                    //   refControls.add([control.Id, control.RefTableId].join())\n                    // }\n                    // if (isRefBillTable(control._Type_)){\n                    //   refControls.add([control.RefBillId, control.Id].join())\n                    // }\n                    var copyedControls = (0,_utils__WEBPACK_IMPORTED_MODULE_11__.copyControlRecurve)(copyUiData, control, parentId);\n                    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(prev).call(prev, (0,_utils__WEBPACK_IMPORTED_MODULE_11__.fixGroupChildrenParentId)(copyedControls, rootId));\n                  }, []);\n                  // 判断控件的存放位置\n                  var index = dataContext.findControlIndex(activeSelectedId);\n                  if (IsContainer) {\n                    var subControls = dataContext.getSubControls(activeSelectedId);\n                    var _length = subControls.length;\n                    if (_length > 0) {\n                      index = dataContext.findControlIndex(subControls[_length - 1][_constants_propnames__WEBPACK_IMPORTED_MODULE_10__.ID]);\n                    }\n                  }\n                  var oldTopIds = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(_context3 = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_6___default()(tempCopyContent).call(tempCopyContent, function (item) {\n                    if (dataContext.findControl(item.ParentId)) {\n                      return item.Id;\n                    }\n                    return null;\n                  })).call(_context3, Boolean);\n\n                  // 默认复制出来的控件这两个属性还是原控件的值，不调整将造成脏数据\n                  // 调整关联表单及表格的RefBillId RefTableId\n                  // 暂时屏蔽，临时需求改成关联表单及表格无法复制\n                  // refControls.forEach((item) => {\n                  //   const [refBillId, refTableId] = item.split(',')\n                  //   const sourceControl = tempCopyContent.find(item => item.RefBillId === refBillId)\n                  //   const refControl = tempCopyContent.find(item => item.RefTableId === refTableId)\n                  //   transformControlRefProps(sourceControl, refControl)\n                  // })\n                  dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.createPasteAction)(tempCopyContent, {\n                    index: index + 1\n                  })).then(function (result) {\n                    var topControlIds = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_3___default()(oldTopIds).call(oldTopIds, function (idstring) {\n                      return dataContext.findControl(idstring);\n                    });\n                    setSelect(topControlIds);\n                  });\n                }\n              }\n              break;\n            }\n          case designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.X:\n            {\n              event.preventDefault();\n              // 剪切\n              if (event.ctrlKey) {\n                event === null || event === void 0 || event.stopPropagation();\n                var _selection2 = getSelection();\n                var selectControls = [];\n                var ids = [];\n                _selection2.forEach(function (id) {\n                  var ctrl = dataContext.findControl(id);\n                  // 暂时屏蔽，临时需求改成关联表单及表格无法复制\n                  // if(isRefBillTable(ctrl._Type_) || (isRefBill(ctrl._Type_) && ctrl.RefTableId)){\n                  //   const refBill = dataContext.findControl(ctrl?.RefBillId || ctrl?.RefTableId)\n                  //   selectControls.push(refBill)\n                  //   selection.push(ctrl?.RefBillId || ctrl?.RefTableId)\n                  // }\n                  // 过滤掉关联表单及表格控件\n                  if (!(0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBillTable)(ctrl[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__._TYPE_]) && !(0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBill)(ctrl[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__._TYPE_])) {\n                    selectControls.push(ctrl);\n                    ids.push(id);\n                  }\n                });\n                // setCopyIds(selection)\n                setCopyIds(ids);\n                setCopyContent(selectControls);\n                setDatasetCutControl();\n              }\n              break;\n            }\n          case designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.ENTER:\n            {\n              var _metaApi$getControlMe3, _parent;\n              event.preventDefault();\n              var activedSelectId = getActiveSelectedId({\n                dataContext: dataContext,\n                selectionContext: selectionContext\n              });\n              var parent = dataContext.findControl(activedSelectId);\n              parent = dataContext.getContainerControl(parent);\n              var ret = metaApi.canAdd('NoCodeTextField', parent[keywordMapping.type]);\n              var isAcceptChild = ret === true || (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(ret) === 'object' && ret.success;\n              if (!isAcceptChild) {\n                return;\n              }\n              pubUIAction({\n                eventName: 'enter',\n                action: 'fd_add_enter'\n              });\n              var parentIsContainer = (_metaApi$getControlMe3 = metaApi.getControlMeta((_parent = parent) === null || _parent === void 0 ? void 0 : _parent[keywordMapping.type])) === null || _metaApi$getControlMe3 === void 0 ? void 0 : _metaApi$getControlMe3.IsContainer;\n              var newControl = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.createControlData)(dataContext.getMeta(), globalConfig)({\n                type: 'NoCodeTextField',\n                parentId: parentIsContainer ? parent[keywordMapping.id] : rootId // 判断选中的父能不能添加，顶层根节点作为兜底\n              });\n              var _index = parent[keywordMapping.id] === activedSelectId ? -1 : dataContext.findControlIndex(activedSelectId) + 1; // 如果选中的不是容器，即加在后面\n              dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.createAddAction)(newControl, {\n                index: _index\n              })).then(function (actions) {\n                if (actions !== null && actions !== void 0 && actions.length) {\n                  var realControl = actions[0].value;\n                  selectionContext.setSelect(Array.isArray(realControl) ? [realControl[0][keywordMapping.id]] : [realControl[keywordMapping.id]]);\n                }\n              });\n              break;\n            }\n          case designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.D:\n            {\n              event.preventDefault();\n              if (keyCode === designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.D && !event.ctrlKey) return;\n              var _formData = dataContext.getData();\n              var _selection3 = selectionContext.getSelection();\n              var isCanRepeatControl = function isCanRepeatControl(control) {\n                var _metaApi$getControlMe4 = metaApi.getControlMeta(control[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__._TYPE_]),\n                  CategoryId = _metaApi$getControlMe4.CategoryId,\n                  Name = _metaApi$getControlMe4.Name;\n                if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(CategoryId).call(CategoryId, _constants__WEBPACK_IMPORTED_MODULE_13__.SYS_CATEGORY_PREFIX)) {\n                  showMessage(t({\n                    key: 'nocode.designer.00040',\n                    variables: {\n                      name: Name\n                    }\n                  }));\n                  return false;\n                }\n                return true;\n              };\n              if (_selection3.length > 1) {\n                var _selectControlsCopy = _selection3.reduce(function (controls, id) {\n                  var controlData = dataContext.findControl(id);\n                  if (!isCanRepeatControl(controlData)) {\n                    return controls;\n                  }\n                  var copyedControls = (0,_utils__WEBPACK_IMPORTED_MODULE_11__.copyControlRecurve)(_formData, controlData, controlData[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__.PARENTID]);\n                  return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_5___default()(controls).call(controls, (0,_utils__WEBPACK_IMPORTED_MODULE_11__.fixGroupChildrenParentId)(copyedControls, rootId));\n                }, []);\n                dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.createPasteAction)(_selectControlsCopy)).then(function () {});\n              } else {\n                var field = dataContext.findControl(activeSelectedId);\n                if (!isCanRepeatControl(field)) {\n                  return;\n                }\n                var copyControls = (0,_utils__WEBPACK_IMPORTED_MODULE_11__.fixGroupChildrenParentId)((0,_utils__WEBPACK_IMPORTED_MODULE_11__.copyControlRecurve)(_formData, field, field[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__.PARENTID]), rootId);\n                var addIndex = dataContext.findControlIndex(field[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__.ID]) + 1;\n                dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.createPasteAction)(copyControls, {\n                  index: addIndex\n                })).then(function () {\n                  selectionContext.setSelect([copyControls[0][_constants_propnames__WEBPACK_IMPORTED_MODULE_10__.ID]]);\n                });\n              }\n              break;\n            }\n          case designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.Z:\n            {\n              event.preventDefault();\n              // 撤销\n              // 因表格的数据移动等操作会触发多次刷新，暂时屏蔽\n              // const canUndo = dataContext.canUndo()\n              // if (event.ctrlKey && canUndo) {\n              //   dataContext.undo()\n              // }\n              break;\n            }\n          case designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.Y:\n            {\n              event.preventDefault();\n              // 反撤销\n              // 因表格的数据移动等操作会触发多次刷新，暂时屏蔽\n              // const canRedo = dataContext.canRedo()\n              // if (event.ctrlKey && canRedo) {\n              //   dataContext.redo()\n              // }\n              break;\n            }\n          case designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.LEFT:\n          case designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.RIGHT:\n          case designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.UP:\n          case designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.DOWN:\n            {\n              event.preventDefault();\n              var nextControl = keyCode === designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.LEFT || keyCode === designer_base_Main__WEBPACK_IMPORTED_MODULE_9__.keyCode.UP ? dataContext.getPrevSibling(activeSelectedId) : dataContext.getNextSibling(activeSelectedId);\n              var _nextControl = nextControl && nextControl.control;\n              if (_nextControl) {\n                setSelect([_nextControl[_constants_propnames__WEBPACK_IMPORTED_MODULE_10__.ID]]);\n              }\n              break;\n            }\n          default:\n            {\n              break;\n            }\n        }\n      };\n      // const debounceHandleKeyBoardEvent = debounce(handleKeyBoardEvent, 100)\n      var debounceHandleKeyBoardEvent = handleKeyBoardEvent;\n      mainViewNode.addEventListener('keydown', debounceHandleKeyBoardEvent, true);\n      return function () {\n        mainViewNode.removeEventListener('keydown', debounceHandleKeyBoardEvent, true);\n      };\n    }\n  }, [billPropsData]);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useKeyboardEvent);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODcwNjAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvaG9va3MvdXNlS2V5Ym9hcmRFdmVudC50cz8wZTliIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQnXG5pbXBvcnQge1xuICBJRGF0YUFwaSwga2V5Q29kZSBhcyBLRVlTLCBpc0N0cmxBY3RpdmUsIEdsb2JhbENvbmZpZ0NvbnRleHQsIGNyZWF0ZURlbGV0ZUFjdGlvbiwgY3JlYXRlUGFzdGVBY3Rpb24sXG4gIGNyZWF0ZUFkZEFjdGlvbiwgY3JlYXRlU3dhcEFjdGlvbiwgSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5LCBJU2VsZWN0aW9uLCBJQ29udHJvbEFjdGlvbiwgY3JlYXRlQ29udHJvbERhdGFcbn0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgZGF0YUNvbnRyb2xJZCB9IGZyb20gJy4uL2NvbnN0YW50cy9kYXRhQXR0cmlidXRlJ1xuaW1wb3J0IHsgX1RZUEVfLCBJRCwgUEFSRU5USUQgfSBmcm9tICcuLi9jb25zdGFudHMvcHJvcG5hbWVzJ1xuaW1wb3J0IHsgY29weUNvbnRyb2xSZWN1cnZlLCBmaXhHcm91cENoaWxkcmVuUGFyZW50SWQgfSBmcm9tICcuLi91dGlscydcbmltcG9ydCB1c2VDb3B5QW5kUGFzdGUgZnJvbSAnLi91c2VDb3B5QW5kUGFzdGUnXG5pbXBvcnQgeyBTWVNfQ0FURUdPUllfUFJFRklYIH0gZnJvbSAnLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHsgaXNCaXpCdXR0b24sIGlzR3JvdXBDb250YWluZXIsIGlzUmVmQmlsbCwgaXNSZWZCaWxsVGFibGUsIGlzU3lzQ29udHJvbCB9IGZyb20gJy4uL3V0aWxzL2NvbnRyb2wnXG5pbXBvcnQgeyB0cmFuc2Zvcm1Db250cm9sUmVmUHJvcHMsIGlzSGlkZGVuUmVmRmllbGQsIGRlbGV0ZVJlZkNvbnRyb2wgfSBmcm9tICcuLi91dGlscy9yZWZCaWxsRWRpdG9yVXRpbHMnXG4vKipcbiAqIOWIoOmZpOaOp+S7tlxuICogQHBhcmFtIHNlbGVjdGlvbkNvbnRleHQg6YCJ5Lit5LiK5LiL5paHXG4gKiBAcGFyYW0gZGF0YUNvbnRleHQg5pWw5o2u5LiK5LiL5paHXG4gKiBAcGFyYW0gc2hvd01lc3NhZ2Ug5pi+56S65raI5oGv5Ye95pWwXG4gKiBAcGFyYW0gcm9vdElkIOagueiKgueCuVxuICogQHBhcmFtIGRpc3BhdGNoQmlsbERhdGEg5pu05pawc3RvcmXmlbDmja7lh73mlbBcbiAqIEBwYXJhbSBoaWRlRmllbGRSZWYg6ZqQ6JeP5o6n5Lu25pWw5o2uXG4gKiBAcGFyYW0gc2V0SGlkZUZpZWxkUmVmIOabtOaWsOmakOiXj+aOp+S7tuaVsOaNrlxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGNvbnN0IGRlbGVjdENvbnRyb2wgPSAoXG4gIHNlbGVjdGlvbkNvbnRleHQ6YW55LCBkYXRhQ29udGV4dDphbnksIHNob3dNZXNzYWdlOiAoc3RyOnN0cmluZykgPT4gdm9pZCwgcm9vdElkOnN0cmluZyxcbiAgYmlsbFByb3BzRGF0YSwgZGlzcGF0Y2hCaWxsRGF0YTooaW5mbzphbnkpID0+IHZvaWQsIGhpZGVGaWVsZFJlZjphbnksIHNldEhpZGVGaWVsZFJlZjogKGluZm86YW55KSA9PiB2b2lkXG4gICkgPT4ge1xuICBjb25zdCB7IGdldFNlbGVjdGlvbiwgc2V0U2VsZWN0LCBnZXRBY3RpdmVTZWxlY3RlZElkIH0gPSBzZWxlY3Rpb25Db250ZXh0XG4gIGNvbnN0IHNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbigpXG4gIGlmIChzZWxlY3Rpb24ubGVuZ3RoID4gMCkge1xuICAgIGlmIChzZWxlY3Rpb24uaW5jbHVkZXMocm9vdElkKSkge1xuICAgICAgcmV0dXJuIHNob3dNZXNzYWdlKCfnpoHmraLliKDpmaTmoLnoioLngrknKVxuICAgIH1cbiAgICBjb25zdCBkZWxldGVJZHMgPSBzZWxlY3Rpb24uZmlsdGVyKGlkID0+IGlkICE9PSByb290SWQpXG4gICAgY29uc3QgYWxsSXRlbXMgPSBkYXRhQ29udGV4dC5nZXREYXRhKCkuSXRlbXNcbiAgICBjb25zdCBmaXJzdENvbnRyb2wgPSBhbGxJdGVtcy5maW5kKGl0ZW0gPT4gZGVsZXRlSWRzLmluY2x1ZGVzKGl0ZW0uSWQpKVxuICAgIGlmICghZmlyc3RDb250cm9sKSByZXR1cm5cbiAgICBsZXQgeyBJZDogZmlyc3RDb250cm9sSWQsIFBhcmVudElkOiBuZXh0U2VsZWN0ZWRJZCwgX1R5cGVfLCBSZWZCaWxsSWQsIFJlZlRhYmxlSWQsIEdyb3VwSW5kZXggfSA9IGZpcnN0Q29udHJvbFxuICAgIGlmIChkZWxldGVJZHMubGVuZ3RoID09PSAxKSB7XG4gICAgICBsZXQgbmV4dElkID0gZGF0YUNvbnRleHQuZ2V0TmV4dFNlbGVjdGVkQ29udHJvbElkKGZpcnN0Q29udHJvbElkKVxuICAgICAgY29uc3QgbmV4dEZpZWxkID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2wobmV4dElkKVxuICAgICAgLy8g5LiL5Liq6IqC54K55a2Y5Zyo77yM5LiN5piv5b2T5YmN6YCJ5oup55qE6IqC54K577yM5LiN5piv6ZqQ6JeP55qE6IqC54K5XG4gICAgICBpZiAobmV4dElkID09PSBuZXh0U2VsZWN0ZWRJZCAmJiBpc0JpekJ1dHRvbihfVHlwZV8pKSB7XG4gICAgICAgIG5leHRTZWxlY3RlZElkID0gcm9vdElkXG4gICAgICB9IGVsc2UgaWYobmV4dEZpZWxkICYmIG5leHRJZCAhPT0gZmlyc3RDb250cm9sSWQgJiYgIWlzSGlkZGVuUmVmRmllbGQobmV4dEZpZWxkKSAmJiAhKGlzR3JvdXBDb250YWluZXIoX1R5cGVfKSAmJiBOdW1iZXIoR3JvdXBJbmRleCkgPT09IDAgICYmIE51bWJlcihuZXh0RmllbGQuR3JvdXBJbmRleCkgPT09IDEpKSB7XG4gICAgICAgIC8vIOWQpuWImemAieaLqeWIsOeItuiKgueCuVxuICAgICAgICBuZXh0U2VsZWN0ZWRJZCA9IG5leHRJZFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyDmmoLml7blsY/olL3vvIzkuLTml7bpnIDmsYLmlLnmiJDlhbPogZTooajljZXlj4rooajmoLzml6Dms5XlpI3liLZcbiAgICAgIC8vIGNvbnN0IGl0ZW1NYXBwZXIgPSBhbGxJdGVtcy5yZWR1Y2UoKHJlc3VsdDpNYXA8c3RyaW5nLGFueT4sIGl0ZW0pPT57XG4gICAgICAvLyAgIHJldHVybiByZXN1bHQuc2V0KGl0ZW0uSWQsaXRlbSlcbiAgICAgIC8vIH0sIG5ldyBNYXAoKSlcbiAgICAgIC8vIC8vIOWIoOmZpOWFs+iBlOihqOWNleaIluWFs+iBlOihqOWNleihqOagvOmcgOWQjOaXtuWIoOmZpOmakOiXj+aOp+S7tu+8iOWFs+iBlOihqOWNleaIluihqOagvO+8iVxuICAgICAgLy8gZGVsZXRlSWRzLmZvckVhY2goKGl0ZW06YW55KSA9PiB7XG4gICAgICAvLyAgIGlmIChpc1JlZkJpbGwoaXRlbU1hcHBlci5nZXQoaXRlbSkuX1R5cGVfKSAmJiBSZWZUYWJsZUlkKSBkZWxldGVJZHMucHVzaChSZWZUYWJsZUlkKVxuICAgICAgLy8gICBpZiAoaXNSZWZCaWxsVGFibGUoaXRlbU1hcHBlci5nZXQoaXRlbSkuX1R5cGVfKSkgZGVsZXRlSWRzLnB1c2goUmVmQmlsbElkKVxuICAgICAgLy8gfSlcbiAgICAgIC8vIOWkmumAieeahOaXtuWAmeS4jeiDveebtOaOpeWPlmdldE5leHRTZWxlY3RlZENvbnRyb2xJZO+8jOWboOS4uuWPluWHuuadpeeahGlk5Y+v6IO95ZyoZGVsZXRlSWTkuK3vvIzov5nml7blgJnkvJrkuK3mlq1cbiAgICAgIGlmIChpc0JpekJ1dHRvbihfVHlwZV8pKSB7XG4gICAgICAgIC8vIOS4muWKoeaTjeS9nOaMiemSrumcgOimgeeJueauiuWkhOeQhuS4i1xuICAgICAgICBjb25zdCBzaWJsaW5nQnV0dG9ucyA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sQnlDb25kaXRpb24oaXRlbSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0uUGFyZW50SWQgPT09IG5leHRTZWxlY3RlZElkICYmICFkZWxldGVJZHMuaW5jbHVkZXMoaXRlbS5JZClcbiAgICAgICAgfSlcbiAgICAgICAgbmV4dFNlbGVjdGVkSWQgPSBzaWJsaW5nQnV0dG9ucy5sZW5ndGggPyBzaWJsaW5nQnV0dG9uc1swXS5JZCA6IHJvb3RJZFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgeyBjb250cm9sOiBwcmV2Q29udHJvbCB9ID0gZGF0YUNvbnRleHQuZ2V0UHJldlNpYmxpbmcoZmlyc3RDb250cm9sSWQpXG4gICAgICAgIGlmIChwcmV2Q29udHJvbCkge1xuICAgICAgICAgIG5leHRTZWxlY3RlZElkID0gcHJldkNvbnRyb2wuSWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBkZWxldGVSZWZDb250cm9sKGRlbGV0ZUlkcywgYmlsbFByb3BzRGF0YSwgZGlzcGF0Y2hCaWxsRGF0YSwgZGF0YUNvbnRleHQsIGhpZGVGaWVsZFJlZiwgc2V0SGlkZUZpZWxkUmVmLCgpID0+IHtcbiAgICAgIHNldFNlbGVjdChbbmV4dFNlbGVjdGVkSWRdKVxuICAgIH0pXG4gICAgLy8gc2V0VGltZW91dCgoKSA9PiBtYWluVmlld05vZGUuZm9jdXMoKSwgNTApXG4gIH1cbn1cblxuY29uc3QgdXNlS2V5Ym9hcmRFdmVudCA9IChyZWY6IFJlYWN0LlJlZk9iamVjdDxnbG9iYWxUaGlzLkhUTUxEaXZFbGVtZW50IHwgbnVsbD4sIGlzT3V0bGluZT86IGJvb2xlYW4pID0+IHtcbiAgY29uc3QgeyBnZXRLZGVzaWduZXJBcGksIGludm9rZVNhdmVBY3Rpb24sIGZpZWxkU3RhdHVzU2V0dGluZ01vZGUsIHB1YlVJQWN0aW9uLCBiaWxsUHJvcHNEYXRhLCBkaXNwYXRjaEJpbGxEYXRhLCBnZXRIaWRlRmllbGRSZWYsIHNldEhpZGVGaWVsZFJlZiB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IGtkZXNpZ25lckFwaSA9IHVzZU1lbW8oKCkgPT4gZ2V0S2Rlc2lnbmVyQXBpKCksIFtdKVxuICBjb25zdCBkYXRhQ29udGV4dDogSURhdGFBcGkgPSBrZGVzaWduZXJBcGkuZGF0YVxuICBjb25zdCBzZWxlY3Rpb25Db250ZXh0OiBJU2VsZWN0aW9uID0ga2Rlc2lnbmVyQXBpLnNlbGVjdGlvblxuICBjb25zdCBtZXRhQXBpID0ga2Rlc2lnbmVyQXBpLm1ldGFcbiAgY29uc3Qgcm9vdElkID0gZGF0YUNvbnRleHQuZ2V0Um9vdElkKClcbiAgY29uc3QgeyBnZXRTZWxlY3Rpb24sIHNldFNlbGVjdCwgZ2V0QWN0aXZlU2VsZWN0ZWRJZCB9ID0gc2VsZWN0aW9uQ29udGV4dFxuICBjb25zdCBnbG9iYWxDb25maWcgPSB1c2VDb250ZXh0KEdsb2JhbENvbmZpZ0NvbnRleHQpXG4gIGNvbnN0IHsgc2hvd01lc3NhZ2UsIGtleXdvcmRNYXBwaW5nIH0gPSBnbG9iYWxDb25maWdcbiAgY29uc3QgeyBzZXRDb3B5Q29udGVudCwgZ2V0Q29weUNvbnRlbnQsIHNldENvcHlJZHMsXG4gICAgZ2V0Q29weUlkcyxzZXREYXRhc2V0Q3V0Q29udHJvbCwgcmVtb3ZlRGF0YXNldEN1dENvbnRyb2wsIGNsZWFyQ29weUNvbnRlbnRcbiAgfSA9IHVzZUNvcHlBbmRQYXN0ZSgpXG4gIC8vIOmakOiXj+aOp+S7tue8k+WtmFxuICAvLyBjb25zdCBoaWRlRmllbGRSZWYgPSBnZXRIaWRlRmllbGRSZWYoKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG1haW5WaWV3Tm9kZSA9IHJlZi5jdXJyZW50XG4gICAgaWYgKG1haW5WaWV3Tm9kZSAmJiAhZmllbGRTdGF0dXNTZXR0aW5nTW9kZSkge1xuICAgICAgY29uc3QgaGFuZGxlS2V5Qm9hcmRFdmVudCA9IChldmVudDogZ2xvYmFsVGhpcy5LZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgIC8vIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgIGNvbnN0IHsgY2xhc3NOYW1lID0gJycgfSA9IGV2ZW50LnRhcmdldCB8fCB7fVxuICAgICAgICBpZiAoY2xhc3NOYW1lID09PSAnbm9jb2RlLWRlc2lnbmVyLWRlc2lnbmVyLWZpZWxkLWl0ZW0tZWRpdCcpIHJldHVyblxuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSBnZXRTZWxlY3Rpb24oKVxuICAgICAgICBjb25zdCBhY3RpdmVTZWxlY3RlZElkID0gZ2V0QWN0aXZlU2VsZWN0ZWRJZCgpXG4gICAgICAgIC8vIOWIoOmZpOaOp+S7tlxuICAgICAgICBjb25zdCBrZXlDb2RlID0gZXZlbnQua2V5Q29kZVxuICAgICAgICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICAgICAgICBjYXNlIChLRVlTLkJBQ0tTUEFDRSk6XG4gICAgICAgICAgY2FzZSAoS0VZUy5ERUxFVEUpOiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBkZWxlY3RDb250cm9sKHNlbGVjdGlvbkNvbnRleHQsIGRhdGFDb250ZXh0LCBzaG93TWVzc2FnZSwgcm9vdElkLCBiaWxsUHJvcHNEYXRhLCBkaXNwYXRjaEJpbGxEYXRhLCBnZXRIaWRlRmllbGRSZWYoKSwgc2V0SGlkZUZpZWxkUmVmKVxuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gbWFpblZpZXdOb2RlLmZvY3VzKCksIDUwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAoS0VZUy5FU0MpOiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBjb25zdCBhY3RpdmVTZWxlY3RlZElkID0ga2Rlc2lnbmVyQXBpLnNlbGVjdGlvbi5nZXRBY3RpdmVTZWxlY3RlZElkKClcbiAgICAgICAgICAgIGlmIChhY3RpdmVTZWxlY3RlZElkICE9PSBrZGVzaWduZXJBcGkuZGF0YS5nZXRSb290SWQoKSkge1xuICAgICAgICAgICAgICBjb25zdCBhY3RpdmVTZWxlY3RlZEl0ZW0gPSBrZGVzaWduZXJBcGkuZGF0YS5maW5kQ29udHJvbChhY3RpdmVTZWxlY3RlZElkKVxuICAgICAgICAgICAgICBjb25zdCBwYXJlbnRJdGVtID0ga2Rlc2lnbmVyQXBpLmRhdGEuZmluZENvbnRyb2xCeUNvbmRpdGlvbigoaXRlbTogSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5KSA9PiBpdGVtLklkID09PSBhY3RpdmVTZWxlY3RlZEl0ZW0uUGFyZW50SWQpXG4gICAgICAgICAgICAgIGNvbnN0IHBhcmVudENvbnRyb2wgPSBwYXJlbnRJdGVtWzBdXG4gICAgICAgICAgICAgIGlmKHBhcmVudENvbnRyb2wuX1Jvb3RfKSByZXR1cm5cbiAgICAgICAgICAgICAgc2V0U2VsZWN0KHBhcmVudENvbnRyb2wuSWQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBjYXNlIChLRVlTLlMpOiB7XG4gICAgICAgICAgLy8gICBpZiAoaXNDdHJsQWN0aXZlKGV2ZW50KSkge1xuICAgICAgICAgIC8vICAgICBpbnZva2VTYXZlQWN0aW9uKClcbiAgICAgICAgICAvLyAgIH1cbiAgICAgICAgICAvLyAgIGJyZWFrXG4gICAgICAgICAgLy8gfVxuICAgICAgICAgIC8vIGNhc2UgKEtFWVMuVCk6IHtcbiAgICAgICAgICAvLyAgIGlmIChpc0N0cmxBY3RpdmUoZXZlbnQpICYmIGlzQWx0QWN0aXZlKGV2ZW50KSkge1xuICAgICAgICAgIC8vICAgICB3aW5kb3cuY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoY29udmVydChrZGVzaWduZXJBcGkuZGF0YS5maW5kQ29udHJvbChrZGVzaWduZXJBcGkuc2VsZWN0aW9uLmdldEFjdGl2ZVNlbGVjdGVkSWQoKSkpLCB1bmRlZmluZWQsIDIpKVxuICAgICAgICAgIC8vICAgfVxuICAgICAgICAgIC8vICAgYnJlYWtcbiAgICAgICAgICAvLyB9XG4gICAgICAgICAgY2FzZSAoS0VZUy5DKToge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgLy8g5aSN5Yi2XG4gICAgICAgICAgICBpZiAoZXZlbnQuY3RybEtleSkge1xuICAgICAgICAgICAgICBldmVudD8uc3RvcFByb3BhZ2F0aW9uKClcblxuICAgICAgICAgICAgICBjb25zdCBzZWxlY3Rpb246IEFycmF5PHN0cmluZz4gPSBnZXRTZWxlY3Rpb24oKVxuICAgICAgICAgICAgICBjb25zdCBzZWxlY3RDb250cm9sc0NvcHkgPSBzZWxlY3Rpb24ucmVkdWNlKChjb250cm9sczogYW55W10sIGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sRGF0YSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGlkKVxuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBJbnNpZGU6IGRpc2FibGVEZWxldGUsIENhdGVnb3J5SWQsIE5hbWUgfSA9IG1ldGFBcGkuZ2V0Q29udHJvbE1ldGEoY29udHJvbERhdGE/LkZpZWxkVHlwZSB8fCBjb250cm9sRGF0YVtfVFlQRV9dKVxuICAgICAgICAgICAgICAgIGlmIChkaXNhYmxlRGVsZXRlKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+WGhee9ruaOp+S7tuS4jeWFgeiuuOa3u+WKoCcpXG4gICAgICAgICAgICAgICAgICByZXR1cm4gY29udHJvbHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKENhdGVnb3J5SWQuaW5jbHVkZXMoU1lTX0NBVEVHT1JZX1BSRUZJWCkpIHtcbiAgICAgICAgICAgICAgICAgIHNob3dNZXNzYWdlKGAke05hbWV95Y+q6IO95Zyo55S75biD5Lit5re75Yqg5LiA5qyh77yM5LiN6IO95aSN5Yi2YClcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjb250cm9sc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyDmmoLml7blsY/olL3vvIzkuLTml7bpnIDmsYLmlLnmiJDlhbPogZTooajljZXlj4rooajmoLzml6Dms5XlpI3liLZcbiAgICAgICAgICAgICAgICAvLyBpZigoaXNSZWZCaWxsKGNvbnRyb2xEYXRhW19UWVBFX10pICYmIGNvbnRyb2xEYXRhLlJlZlRhYmxlSWQpIHx8IGlzUmVmQmlsbFRhYmxlKGNvbnRyb2xEYXRhW19UWVBFX10pKXtcbiAgICAgICAgICAgICAgICAvLyAgIGNvbnN0IHJlZkZpZWxkID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woY29udHJvbERhdGE/LlJlZlRhYmxlSWQgfHwgY29udHJvbERhdGE/LlJlZkJpbGxJZClcbiAgICAgICAgICAgICAgICAvLyAgIHJldHVybiBbLi4uY29udHJvbHMsIGNvbnRyb2xEYXRhLCByZWZGaWVsZF1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKCBpc0dyb3VwQ29udGFpbmVyKGNvbnRyb2xEYXRhW19UWVBFX10pKXtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YnMgPSBkYXRhQ29udGV4dC5nZXRBbGxTdWJDb250cm9scyhjb250cm9sRGF0YS5JZCk/LmZpbHRlcigoY3RybDphbnkpID0+IGlzUmVmQmlsbChjdHJsW19UWVBFX10pfHxpc1JlZkJpbGxUYWJsZShjdHJsW19UWVBFX10pfHxpc1N5c0NvbnRyb2woY3RybFtfVFlQRV9dKSlcbiAgICAgICAgICAgICAgICAgIGlmIChzdWJzLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgICAgICAgICBzaG93TWVzc2FnZSgn5YiG57uE5YaF5YyF5ZCr5YWz6IGU6KGo5Y2V44CB6KGo5qC844CB5oiW57O757uf5a2X5q6177yM5LiN6IO95aSN5Yi244CCJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xzXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKChpc1JlZkJpbGwoY29udHJvbERhdGFbX1RZUEVfXSkpIHx8IGlzUmVmQmlsbFRhYmxlKGNvbnRyb2xEYXRhW19UWVBFX10pIHx8IGlzU3lzQ29udHJvbChjb250cm9sRGF0YVtfVFlQRV9dKSl7XG4gICAgICAgICAgICAgICAgICBzaG93TWVzc2FnZSgn5peg5rOV5aSN5Yi25YWz6IGU6KGo5Y2V44CB6KGo5qC85o6n5Lu244CB57O757uf5a2X5q6144CCJylcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjb250cm9sc1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBbLi4uY29udHJvbHMsIGNvbnRyb2xEYXRhXVxuICAgICAgICAgICAgICB9LCBbXSlcbiAgICAgICAgICAgICAgc2V0Q29weUNvbnRlbnQoc2VsZWN0Q29udHJvbHNDb3B5KVxuICAgICAgICAgICAgICBzZXRDb3B5SWRzKHNlbGVjdENvbnRyb2xzQ29weS5yZWR1Y2UoKGlkczogc3RyaW5nW10sIGNvbnRyb2w6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbFN1YkNvbnRyb2xJZHMgPSBkYXRhQ29udGV4dC5nZXRBbGxTdWJDb250cm9sSWRzKGNvbnRyb2w/LklkKSB8fCBbXVxuICAgICAgICAgICAgICAgIHJldHVybiBpZHMuY29uY2F0KGFsbFN1YkNvbnRyb2xJZHMpXG4gICAgICAgICAgICAgIH0sIFtdKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgKEtFWVMuVik6IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIC8vIOeymOi0tFxuICAgICAgICAgICAgaWYgKGV2ZW50LmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgY29uc3QgY29weUNvbnRlbnQ6IEFycmF5PElDb250cm9sSXRlbVVwcGVyY2FzZUtleT4gfCBzdHJpbmcgfCBudWxsID0gZ2V0Q29weUNvbnRlbnQoKVxuICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb3B5Q29udGVudCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0N1dCA9IHJlbW92ZURhdGFzZXRDdXRDb250cm9sKCkgPiAwXG4gICAgICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBkYXRhQ29udGV4dC5nZXREYXRhKClcbiAgICAgICAgICAgICAgICAvLyDliarliIdcbiAgICAgICAgICAgICAgICBpZiAoaXNDdXQpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWVkSWRzOiBzdHJpbmdbXSA9IGNvcHlDb250ZW50LnJlZHVjZSgocHJldjogc3RyaW5nW10sIGNvbnRyb2w6IElDb250cm9sSXRlbVVwcGVyY2FzZUtleSkgPT4gW2NvbnRyb2xbSURdLCAuLi5wcmV2XSwgW10pXG4gICAgICAgICAgICAgICAgICBpZiAoZGVsZXRlZWRJZHMuaW5jbHVkZXMoYWN0aXZlU2VsZWN0ZWRJZCkpIHJldHVyblxuICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5Ymq5YiH55qE5o6n5Lu277yM6KKr5aSN5Yi26L+b5a6D55qE5a2Q5o6n5Lu25YaF44CC5YiZ5q276ZSB5LqG77yM5pON5L2c5LiN6KKr5YWB6K64XG4gICAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVTZWxlY3RlZFBhcmVudElkczogc3RyaW5nW10gPSBkYXRhQ29udGV4dC5nZXRBbGxQYXJlbnRDb250cm9sSWRzKGFjdGl2ZVNlbGVjdGVkSWQpXG4gICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlU2VsZWN0ZWRQYXJlbnRJZHMuc29tZShpZCA9PiBkZWxldGVlZElkcy5pbmNsdWRlcyhpZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dNZXNzYWdlKCflvZPjgJDmupDmjqfku7bjgJHmmK/jgJDnm67moIfmjqfku7bjgJHnmoTniLbnuqfml7bvvIzml6Dms5XliarliIcv57KY6LS0JylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBkYXRhQ29udGV4dC5zd2FwQ29udHJvbChjcmVhdGVTd2FwQWN0aW9uKHsgb3JpZ2luOiBkZWxldGVlZElkcywgdGFyZ2V0OiBhY3RpdmVTZWxlY3RlZElkIH0pKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoYWN0aW9uczogSUNvbnRyb2xBY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25Db250ZXh0LnNldFNlbGVjdChbZGVsZXRlZWRJZHNbMF1dKVxuICAgICAgICAgICAgICAgICAgICAgIGNsZWFyQ29weUNvbnRlbnQoKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgRmllbGRUeXBlLCBbX1RZUEVfXTogY29udHJvbFR5cGUgfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGFjdGl2ZVNlbGVjdGVkSWQpXG4gICAgICAgICAgICAgICAgbGV0IHBhcmVudElkOiBzdHJpbmcgPSBhY3RpdmVTZWxlY3RlZElkXG4gICAgICAgICAgICAgICAgY29uc3QgeyBJc0NvbnRhaW5lciB9ID0gbWV0YUFwaS5nZXRDb250cm9sTWV0YShGaWVsZFR5cGUgfHwgY29udHJvbFR5cGUpXG4gICAgICAgICAgICAgICAgaWYgKCFJc0NvbnRhaW5lciB8fCBpc1JlZkJpbGxUYWJsZShjb250cm9sVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgIHBhcmVudElkID0gZGF0YUNvbnRleHQuZ2V0UGFyZW50Q29udHJvbElkKGFjdGl2ZVNlbGVjdGVkSWQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNvcHlJZHMgPSBnZXRDb3B5SWRzKClcbiAgICAgICAgICAgICAgICBjb25zdCBjb3B5VWlEYXRhID0geyBJdGVtczogZGF0YUNvbnRleHQuZmluZENvbnRyb2xCeUNvbmRpdGlvbihpdGVtID0+IGNvcHlJZHM/LmluY2x1ZGVzKGl0ZW0uSWQpKX1cbiAgICAgICAgICAgICAgICAvLyBjb25zdCByZWZDb250cm9scyA9IG5ldyBTZXQoKVxuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBDb3B5Q29udGVudCA9IGNvcHlDb250ZW50LnJlZHVjZSgocHJldjogSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5W10sIGNvbnRyb2w6IElDb250cm9sSXRlbVVwcGVyY2FzZUtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8g5pqC5pe25bGP6JS977yM5Li05pe26ZyA5rGC5pS55oiQ5YWz6IGU6KGo5Y2V5Y+K6KGo5qC85peg5rOV5aSN5Yi2XG4gICAgICAgICAgICAgICAgICAvLyBpZiAoaXNSZWZCaWxsKGNvbnRyb2wuX1R5cGVfKSAmJiBjb250cm9sLlJlZlRhYmxlSWQpe1xuICAgICAgICAgICAgICAgICAgLy8gICByZWZDb250cm9scy5hZGQoW2NvbnRyb2wuSWQsIGNvbnRyb2wuUmVmVGFibGVJZF0uam9pbigpKVxuICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgLy8gaWYgKGlzUmVmQmlsbFRhYmxlKGNvbnRyb2wuX1R5cGVfKSl7XG4gICAgICAgICAgICAgICAgICAvLyAgIHJlZkNvbnRyb2xzLmFkZChbY29udHJvbC5SZWZCaWxsSWQsIGNvbnRyb2wuSWRdLmpvaW4oKSlcbiAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNvcHllZENvbnRyb2xzID0gY29weUNvbnRyb2xSZWN1cnZlKGNvcHlVaURhdGEsIGNvbnRyb2wsIHBhcmVudElkKVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXYuY29uY2F0KGZpeEdyb3VwQ2hpbGRyZW5QYXJlbnRJZChjb3B5ZWRDb250cm9scywgcm9vdElkKSlcbiAgICAgICAgICAgICAgICB9LCBbXSlcbiAgICAgICAgICAgICAgICAvLyDliKTmlq3mjqfku7bnmoTlrZjmlL7kvY3nva5cbiAgICAgICAgICAgICAgICBsZXQgaW5kZXg6IG51bWJlciA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sSW5kZXgoYWN0aXZlU2VsZWN0ZWRJZClcbiAgICAgICAgICAgICAgICBpZiAoSXNDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YkNvbnRyb2xzID0gZGF0YUNvbnRleHQuZ2V0U3ViQ29udHJvbHMoYWN0aXZlU2VsZWN0ZWRJZClcbiAgICAgICAgICAgICAgICAgIGNvbnN0IF9sZW5ndGg6IG51bWJlciA9IHN1YkNvbnRyb2xzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgaWYgKF9sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2xJbmRleChzdWJDb250cm9sc1tfbGVuZ3RoIC0gMV1bSURdKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBvbGRUb3BJZHMgPSB0ZW1wQ29weUNvbnRlbnQubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGl0ZW0uUGFyZW50SWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLklkXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgICAgIH0pLmZpbHRlcihCb29sZWFuKVxuXG4gICAgICAgICAgICAgICAgLy8g6buY6K6k5aSN5Yi25Ye65p2l55qE5o6n5Lu26L+Z5Lik5Liq5bGe5oCn6L+Y5piv5Y6f5o6n5Lu255qE5YC877yM5LiN6LCD5pW05bCG6YCg5oiQ6ISP5pWw5o2uXG4gICAgICAgICAgICAgICAgLy8g6LCD5pW05YWz6IGU6KGo5Y2V5Y+K6KGo5qC855qEUmVmQmlsbElkIFJlZlRhYmxlSWRcbiAgICAgICAgICAgICAgICAvLyDmmoLml7blsY/olL3vvIzkuLTml7bpnIDmsYLmlLnmiJDlhbPogZTooajljZXlj4rooajmoLzml6Dms5XlpI3liLZcbiAgICAgICAgICAgICAgICAvLyByZWZDb250cm9scy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gICBjb25zdCBbcmVmQmlsbElkLCByZWZUYWJsZUlkXSA9IGl0ZW0uc3BsaXQoJywnKVxuICAgICAgICAgICAgICAgIC8vICAgY29uc3Qgc291cmNlQ29udHJvbCA9IHRlbXBDb3B5Q29udGVudC5maW5kKGl0ZW0gPT4gaXRlbS5SZWZCaWxsSWQgPT09IHJlZkJpbGxJZClcbiAgICAgICAgICAgICAgICAvLyAgIGNvbnN0IHJlZkNvbnRyb2wgPSB0ZW1wQ29weUNvbnRlbnQuZmluZChpdGVtID0+IGl0ZW0uUmVmVGFibGVJZCA9PT0gcmVmVGFibGVJZClcbiAgICAgICAgICAgICAgICAvLyAgIHRyYW5zZm9ybUNvbnRyb2xSZWZQcm9wcyhzb3VyY2VDb250cm9sLCByZWZDb250cm9sKVxuICAgICAgICAgICAgICAgIC8vIH0pXG4gICAgICAgICAgICAgICAgZGF0YUNvbnRleHQuYWRkQ29udHJvbChjcmVhdGVQYXN0ZUFjdGlvbih0ZW1wQ29weUNvbnRlbnQsIHsgaW5kZXg6IGluZGV4ICsgMSB9KSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCB0b3BDb250cm9sSWRzID0gb2xkVG9wSWRzLmZpbHRlcihpZHN0cmluZyA9PiBkYXRhQ29udGV4dC5maW5kQ29udHJvbChpZHN0cmluZykpXG4gICAgICAgICAgICAgICAgICBzZXRTZWxlY3QodG9wQ29udHJvbElkcylcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIChLRVlTLlgpOiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAvLyDliarliIdcbiAgICAgICAgICAgIGlmIChldmVudC5jdHJsS2V5KSB7XG4gICAgICAgICAgICAgIGV2ZW50Py5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbjogc3RyaW5nW10gPSBnZXRTZWxlY3Rpb24oKVxuICAgICAgICAgICAgICBjb25zdCBzZWxlY3RDb250cm9scyA9IFtdXG4gICAgICAgICAgICAgIGNvbnN0IGlkcyA9IFtdXG4gICAgICAgICAgICAgIHNlbGVjdGlvbi5mb3JFYWNoKChpZDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3RybCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGlkKVxuICAgICAgICAgICAgICAgIC8vIOaaguaXtuWxj+iUve+8jOS4tOaXtumcgOaxguaUueaIkOWFs+iBlOihqOWNleWPiuihqOagvOaXoOazleWkjeWItlxuICAgICAgICAgICAgICAgIC8vIGlmKGlzUmVmQmlsbFRhYmxlKGN0cmwuX1R5cGVfKSB8fCAoaXNSZWZCaWxsKGN0cmwuX1R5cGVfKSAmJiBjdHJsLlJlZlRhYmxlSWQpKXtcbiAgICAgICAgICAgICAgICAvLyAgIGNvbnN0IHJlZkJpbGwgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChjdHJsPy5SZWZCaWxsSWQgfHwgY3RybD8uUmVmVGFibGVJZClcbiAgICAgICAgICAgICAgICAvLyAgIHNlbGVjdENvbnRyb2xzLnB1c2gocmVmQmlsbClcbiAgICAgICAgICAgICAgICAvLyAgIHNlbGVjdGlvbi5wdXNoKGN0cmw/LlJlZkJpbGxJZCB8fCBjdHJsPy5SZWZUYWJsZUlkKVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAvLyDov4fmu6TmjonlhbPogZTooajljZXlj4rooajmoLzmjqfku7ZcbiAgICAgICAgICAgICAgICBpZighaXNSZWZCaWxsVGFibGUoY3RybFtfVFlQRV9dKSYmIWlzUmVmQmlsbChjdHJsW19UWVBFX10pKSB7XG4gICAgICAgICAgICAgICAgICAgc2VsZWN0Q29udHJvbHMucHVzaChjdHJsKVxuICAgICAgICAgICAgICAgICAgIGlkcy5wdXNoKGlkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLy8gc2V0Q29weUlkcyhzZWxlY3Rpb24pXG4gICAgICAgICAgICAgIHNldENvcHlJZHMoaWRzKVxuICAgICAgICAgICAgICBzZXRDb3B5Q29udGVudChzZWxlY3RDb250cm9scylcbiAgICAgICAgICAgICAgc2V0RGF0YXNldEN1dENvbnRyb2woKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAoS0VZUy5FTlRFUik6IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZWRTZWxlY3RJZCA9IGdldEFjdGl2ZVNlbGVjdGVkSWQoe2RhdGFDb250ZXh0LCBzZWxlY3Rpb25Db250ZXh0fSlcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbCgoYWN0aXZlZFNlbGVjdElkIGFzIHN0cmluZykpXG4gICAgICAgICAgICBwYXJlbnQgPSBkYXRhQ29udGV4dC5nZXRDb250YWluZXJDb250cm9sKHBhcmVudClcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IG1ldGFBcGkuY2FuQWRkKFxuICAgICAgICAgICAgICAnTm9Db2RlVGV4dEZpZWxkJyxcbiAgICAgICAgICAgICAgcGFyZW50W2tleXdvcmRNYXBwaW5nLnR5cGVdXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBjb25zdCBpc0FjY2VwdENoaWxkID0gcmV0ID09PSB0cnVlIHx8ICh0eXBlb2YgcmV0ID09PSAnb2JqZWN0JyAmJiByZXQuc3VjY2VzcylcbiAgICAgICAgICAgIGlmICghaXNBY2NlcHRDaGlsZCkge1xuICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHB1YlVJQWN0aW9uKHtcbiAgICAgICAgICAgICAgZXZlbnROYW1lOiAnZW50ZXInLFxuICAgICAgICAgICAgICBhY3Rpb246ICdmZF9hZGRfZW50ZXInXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgY29uc3QgcGFyZW50SXNDb250YWluZXIgPSBtZXRhQXBpLmdldENvbnRyb2xNZXRhKFxuICAgICAgICAgICAgICBwYXJlbnQ/LltrZXl3b3JkTWFwcGluZy50eXBlXVxuICAgICAgICAgICAgKT8uSXNDb250YWluZXJcbiAgICAgICAgICAgIGxldCBuZXdDb250cm9sID0gY3JlYXRlQ29udHJvbERhdGEoZGF0YUNvbnRleHQuZ2V0TWV0YSgpLCBnbG9iYWxDb25maWcpKHtcbiAgICAgICAgICAgICAgdHlwZTogJ05vQ29kZVRleHRGaWVsZCcsXG4gICAgICAgICAgICAgIHBhcmVudElkOiBwYXJlbnRJc0NvbnRhaW5lciA/IHBhcmVudFtrZXl3b3JkTWFwcGluZy5pZF0gOiByb290SWQgLy8g5Yik5pat6YCJ5Lit55qE54i26IO95LiN6IO95re75Yqg77yM6aG25bGC5qC56IqC54K55L2c5Li65YWc5bqVXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnRba2V5d29yZE1hcHBpbmcuaWRdID09PSBhY3RpdmVkU2VsZWN0SWQgPyAtMSA6IGRhdGFDb250ZXh0LmZpbmRDb250cm9sSW5kZXgoYWN0aXZlZFNlbGVjdElkKSArIDEgLy8g5aaC5p6c6YCJ5Lit55qE5LiN5piv5a655Zmo77yM5Y2z5Yqg5Zyo5ZCO6Z2iXG4gICAgICAgICAgICBkYXRhQ29udGV4dC5hZGRDb250cm9sKGNyZWF0ZUFkZEFjdGlvbihuZXdDb250cm9sLCB7aW5kZXh9KSkudGhlbigoYWN0aW9ucykgPT4ge1xuICAgICAgICAgICAgICBpZiAoYWN0aW9ucz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhbENvbnRyb2wgPSBhY3Rpb25zWzBdLnZhbHVlXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uQ29udGV4dC5zZXRTZWxlY3QoQXJyYXkuaXNBcnJheShyZWFsQ29udHJvbCkgPyBbcmVhbENvbnRyb2xbMF1ba2V5d29yZE1hcHBpbmcuaWRdXSA6IFtyZWFsQ29udHJvbFtrZXl3b3JkTWFwcGluZy5pZF1dKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAoS0VZUy5EKToge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgaWYgKGtleUNvZGUgPT09IEtFWVMuRCAmJiAhZXZlbnQuY3RybEtleSkgcmV0dXJuXG4gICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IGRhdGFDb250ZXh0LmdldERhdGEoKVxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gc2VsZWN0aW9uQ29udGV4dC5nZXRTZWxlY3Rpb24oKVxuICAgICAgICAgICAgY29uc3QgaXNDYW5SZXBlYXRDb250cm9sID0gKGNvbnRyb2wpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgeyBDYXRlZ29yeUlkLCBOYW1lIH0gPSBtZXRhQXBpLmdldENvbnRyb2xNZXRhKGNvbnRyb2xbX1RZUEVfXSlcbiAgICAgICAgICAgICAgaWYgKENhdGVnb3J5SWQuaW5jbHVkZXMoU1lTX0NBVEVHT1JZX1BSRUZJWCkpIHtcbiAgICAgICAgICAgICAgICBzaG93TWVzc2FnZSh0KHsga2V5OiAnbm9jb2RlLmRlc2lnbmVyLjAwMDQwJywgdmFyaWFibGVzOiB7IG5hbWU6IE5hbWUgfSB9KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHNlbGVjdENvbnRyb2xzQ29weSA9IHNlbGVjdGlvbi5yZWR1Y2UoKGNvbnRyb2xzOiBhbnlbXSwgaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xEYXRhID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woaWQpXG4gICAgICAgICAgICAgICAgaWYgKCFpc0NhblJlcGVhdENvbnRyb2woY29udHJvbERhdGEpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY29udHJvbHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY29weWVkQ29udHJvbHMgPSBjb3B5Q29udHJvbFJlY3VydmUoZm9ybURhdGEsIGNvbnRyb2xEYXRhLCBjb250cm9sRGF0YVtQQVJFTlRJRF0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xzLmNvbmNhdChmaXhHcm91cENoaWxkcmVuUGFyZW50SWQoY29weWVkQ29udHJvbHMsIHJvb3RJZCkpXG4gICAgICAgICAgICAgIH0sIFtdKVxuICAgICAgICAgICAgICBkYXRhQ29udGV4dC5hZGRDb250cm9sKGNyZWF0ZVBhc3RlQWN0aW9uKHNlbGVjdENvbnRyb2xzQ29weSkpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChhY3RpdmVTZWxlY3RlZElkKVxuICAgICAgICAgICAgICBpZiAoIWlzQ2FuUmVwZWF0Q29udHJvbChmaWVsZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBjb3B5Q29udHJvbHMgPSBmaXhHcm91cENoaWxkcmVuUGFyZW50SWQoY29weUNvbnRyb2xSZWN1cnZlKGZvcm1EYXRhLCBmaWVsZCwgZmllbGRbUEFSRU5USURdKSwgcm9vdElkKVxuICAgICAgICAgICAgICBjb25zdCBhZGRJbmRleCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sSW5kZXgoZmllbGRbSURdKSArIDFcbiAgICAgICAgICAgICAgZGF0YUNvbnRleHQuYWRkQ29udHJvbChjcmVhdGVQYXN0ZUFjdGlvbihjb3B5Q29udHJvbHMsIHsgaW5kZXg6IGFkZEluZGV4IH0pKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25Db250ZXh0LnNldFNlbGVjdChbY29weUNvbnRyb2xzWzBdW0lEXV0pXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIChLRVlTLlopOiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAvLyDmkqTplIBcbiAgICAgICAgICAgIC8vIOWboOihqOagvOeahOaVsOaNruenu+WKqOetieaTjeS9nOS8muinpuWPkeWkmuasoeWIt+aWsO+8jOaaguaXtuWxj+iUvVxuICAgICAgICAgICAgLy8gY29uc3QgY2FuVW5kbyA9IGRhdGFDb250ZXh0LmNhblVuZG8oKVxuICAgICAgICAgICAgLy8gaWYgKGV2ZW50LmN0cmxLZXkgJiYgY2FuVW5kbykge1xuICAgICAgICAgICAgLy8gICBkYXRhQ29udGV4dC51bmRvKClcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgKEtFWVMuWSk6IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIC8vIOWPjeaSpOmUgFxuICAgICAgICAgICAgLy8g5Zug6KGo5qC855qE5pWw5o2u56e75Yqo562J5pON5L2c5Lya6Kem5Y+R5aSa5qyh5Yi35paw77yM5pqC5pe25bGP6JS9XG4gICAgICAgICAgICAvLyBjb25zdCBjYW5SZWRvID0gZGF0YUNvbnRleHQuY2FuUmVkbygpXG4gICAgICAgICAgICAvLyBpZiAoZXZlbnQuY3RybEtleSAmJiBjYW5SZWRvKSB7XG4gICAgICAgICAgICAvLyAgIGRhdGFDb250ZXh0LnJlZG8oKVxuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAoS0VZUy5MRUZUKTpcbiAgICAgICAgICBjYXNlIChLRVlTLlJJR0hUKTpcbiAgICAgICAgICBjYXNlIChLRVlTLlVQKTpcbiAgICAgICAgICBjYXNlIChLRVlTLkRPV04pOiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBjb25zdCBuZXh0Q29udHJvbCA9XG4gICAgICAgICAgICBrZXlDb2RlID09PSBLRVlTLkxFRlQgfHwga2V5Q29kZSA9PT0gS0VZUy5VUFxuICAgICAgICAgICAgICA/IGRhdGFDb250ZXh0LmdldFByZXZTaWJsaW5nKGFjdGl2ZVNlbGVjdGVkSWQpXG4gICAgICAgICAgICAgIDogZGF0YUNvbnRleHQuZ2V0TmV4dFNpYmxpbmcoYWN0aXZlU2VsZWN0ZWRJZClcbiAgICAgICAgICAgIGNvbnN0IF9uZXh0Q29udHJvbCA9IG5leHRDb250cm9sICYmIG5leHRDb250cm9sLmNvbnRyb2xcbiAgICAgICAgICAgIGlmIChfbmV4dENvbnRyb2wpIHtcbiAgICAgICAgICAgICAgc2V0U2VsZWN0KFtfbmV4dENvbnRyb2xbSURdXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBjb25zdCBkZWJvdW5jZUhhbmRsZUtleUJvYXJkRXZlbnQgPSBkZWJvdW5jZShoYW5kbGVLZXlCb2FyZEV2ZW50LCAxMDApXG4gICAgICBjb25zdCBkZWJvdW5jZUhhbmRsZUtleUJvYXJkRXZlbnQgPSBoYW5kbGVLZXlCb2FyZEV2ZW50XG4gICAgICBtYWluVmlld05vZGUuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlYm91bmNlSGFuZGxlS2V5Qm9hcmRFdmVudCwgdHJ1ZSlcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIG1haW5WaWV3Tm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVib3VuY2VIYW5kbGVLZXlCb2FyZEV2ZW50LCB0cnVlKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2JpbGxQcm9wc0RhdGFdKVxufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VLZXlib2FyZEV2ZW50XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///87060\n");

/***/ }),

/***/ 13276:
/*!**********************************************!*\
  !*** ./src/hooks/useListTreeConfigParser.ts ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar useDataParser = function useDataParser(_ref) {\n  var api = _ref.api,\n    parser = _ref.parser;\n  var isVersionEqual = api.isVersionEqual,\n    getInitialData = api.getData;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () {\n      if (isVersionEqual()) {\n        return parser(getInitialData());\n      }\n      return [];\n    }),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var updateData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (_ref2) {\n    var value = _ref2.value;\n    var newValue = parser(value);\n    setData(newValue);\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    var removeDataChangeListener = api.addDataChangeListener(updateData);\n    return function () {\n      removeDataChangeListener();\n    };\n  }, []);\n  return data;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useDataParser);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMyNzYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUVBO0FBR0E7QUFEQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUxBO0FBQUE7QUFPQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2hvb2tzL3VzZUxpc3RUcmVlQ29uZmlnUGFyc2VyLnRzPzhmMGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcclxuXHJcbmNvbnN0IHVzZURhdGFQYXJzZXIgPSAoe1xyXG4gIGFwaSxcclxuICBwYXJzZXJcclxufSkgPT4ge1xyXG4gIGNvbnN0IHsgaXNWZXJzaW9uRXF1YWwsIGdldERhdGE6IGdldEluaXRpYWxEYXRhIH0gPSBhcGlcclxuICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSB1c2VTdGF0ZSgoKSA9PiB7XHJcbiAgICBpZiAoaXNWZXJzaW9uRXF1YWwoKSkge1xyXG4gICAgICByZXR1cm4gcGFyc2VyKGdldEluaXRpYWxEYXRhKCkpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gW11cclxuICB9KVxyXG5cclxuICBjb25zdCB1cGRhdGVEYXRhID0gdXNlQ2FsbGJhY2soKHsgdmFsdWUgfSkgPT4ge1xyXG4gICAgY29uc3QgbmV3VmFsdWUgPSBwYXJzZXIodmFsdWUpXHJcbiAgICBzZXREYXRhKG5ld1ZhbHVlKVxyXG4gIH0sIFtdKVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgcmVtb3ZlRGF0YUNoYW5nZUxpc3RlbmVyID0gYXBpLmFkZERhdGFDaGFuZ2VMaXN0ZW5lcih1cGRhdGVEYXRhKVxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgcmVtb3ZlRGF0YUNoYW5nZUxpc3RlbmVyKClcclxuICAgIH1cclxuICB9LCBbXSlcclxuXHJcbiAgcmV0dXJuIGRhdGFcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlRGF0YVBhcnNlclxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///13276\n");

/***/ }),

/***/ 47064:
/*!**************************************!*\
  !*** ./src/hooks/useListenError.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _constants_actionName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants/actionName */ 82964);\n/* harmony import */ var _utils_controlCache__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/controlCache */ 8292);\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-04-24 18:39:54\n * @LastEditTime: 2023-07-04 16:44:02\n * @Last Modified by: jianhang_he\n */\n\n\n\n\nvar useListenError = function useListenError(kdesignerApi) {\n  var dataContext = kdesignerApi.data,\n    selectionContext = kdesignerApi.selection,\n    errorContext = kdesignerApi.error;\n  var error = errorContext.getError();\n  (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.useErrorChangeForceUpdateEffect)(kdesignerApi);\n  var listenShowErrorCallback = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (args) {\n    var _Object$keys2;\n    if (!errorContext) return;\n    var newError = args;\n\n    // 保存成功的时候这个错误信息是没有的\n    if (!_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_1___default()(newError || {}).length) {\n      (0,_utils_controlCache__WEBPACK_IMPORTED_MODULE_6__.clearCache)('controlId');\n    }\n    var formatError = {};\n    _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_1___default()(newError).forEach(function (key) {\n      if (newError[key]) {\n        var _newError$key;\n        formatError[key] = {};\n        (_newError$key = newError[key]) === null || _newError$key === void 0 || _newError$key.forEach(function (errorData) {\n          var propertyName = errorData.propertyName,\n            msg = errorData.error;\n          if (formatError[key][propertyName]) {\n            var _context;\n            formatError[key][propertyName] = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default()(_context = []).call(_context, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(formatError[key][propertyName]), [{\n              msg: msg\n            }]);\n          } else {\n            formatError[key][propertyName] = {\n              msg: [msg]\n            };\n          }\n        });\n      }\n    });\n\n    // 没有报错的时候，后端是直接返回来了一个空的，但是前端不知道是哪个字段没有报错了，需要把样式移除\n    if (((_Object$keys2 = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_1___default()(error)) === null || _Object$keys2 === void 0 ? void 0 : _Object$keys2.length) > 0) {\n      _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_1___default()(error).forEach(function (id) {\n        if (!formatError[id]) {\n          var errorNodeDom = document.querySelector(\"[data-control-error=\\\"\".concat(id, \"\\\"]\"));\n          if (errorNodeDom) {\n            errorNodeDom.removeAttribute('data-control-error');\n          }\n        }\n      });\n    }\n    errorContext.replaceError(formatError);\n  }, [errorContext, error]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_5__.SHOW_DESIGNER_ERROR, listenShowErrorCallback);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_4__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_5__.SHOW_DESIGNER_ERROR, listenShowErrorCallback);\n    };\n  }, [listenShowErrorCallback, error]);\n  var dataChangeListenerCallback = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (_ref) {\n    var type = _ref.type,\n      value = _ref.value,\n      actions = _ref.actions;\n    if ((actions === null || actions === void 0 ? void 0 : actions.length) > 0) {\n      var deleteIds = [];\n      for (var index = 0; index < actions.length; index++) {\n        var _ref2 = actions[index] || {},\n          _type = _ref2.type,\n          id = _ref2.value;\n        // 如果删除的是报错控件里面的话，需要同步一下error的报错\n        if (_type === 'DELETE' && error[id]) {\n          deleteIds.push(id);\n        }\n      }\n      if (deleteIds.length > 0) {\n        errorContext.deleteError(deleteIds);\n      }\n    }\n  }, [error]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    var removeDataChangeListener = dataContext.addDataChangeListener(dataChangeListenerCallback);\n    return function () {\n      removeDataChangeListener();\n    };\n  }, [error]);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useListenError);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDcwNjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvaG9va3MvdXNlTGlzdGVuRXJyb3IudHN4PzkzOTAiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMy0wNC0yNCAxODozOTo1NFxuICogQExhc3RFZGl0VGltZTogMjAyMy0wNy0wNCAxNjo0NDowMlxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGV2ZW50QnVzLCBEYXRhQ2hhbmdlRXZlbnQsIHVzZUVycm9yQ2hhbmdlRm9yY2VVcGRhdGVFZmZlY3QgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgeyBTSE9XX0RFU0lHTkVSX0VSUk9SIH0gZnJvbSAnLi4vY29uc3RhbnRzL2FjdGlvbk5hbWUnXG5pbXBvcnQgeyBjbGVhckNhY2hlIH0gZnJvbSAnLi4vdXRpbHMvY29udHJvbENhY2hlJ1xuXG5jb25zdCB1c2VMaXN0ZW5FcnJvciA9IChrZGVzaWduZXJBcGkpID0+IHtcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCwgc2VsZWN0aW9uOiBzZWxlY3Rpb25Db250ZXh0LCBlcnJvcjogZXJyb3JDb250ZXh0IH0gPSBrZGVzaWduZXJBcGlcbiAgY29uc3QgZXJyb3IgPSBlcnJvckNvbnRleHQuZ2V0RXJyb3IoKVxuXG4gIHVzZUVycm9yQ2hhbmdlRm9yY2VVcGRhdGVFZmZlY3Qoa2Rlc2lnbmVyQXBpKVxuXG4gIGNvbnN0IGxpc3RlblNob3dFcnJvckNhbGxiYWNrID0gdXNlQ2FsbGJhY2soKGFyZ3MpID0+IHtcbiAgICBpZiAoIWVycm9yQ29udGV4dCkgcmV0dXJuXG4gICAgY29uc3QgbmV3RXJyb3IgPSBhcmdzXG5cbiAgICAvLyDkv53lrZjmiJDlip/nmoTml7blgJnov5nkuKrplJnor6/kv6Hmga/mmK/msqHmnInnmoRcbiAgICBpZiAoIU9iamVjdC5rZXlzKG5ld0Vycm9yIHx8IHt9KS5sZW5ndGgpIHtcbiAgICAgIGNsZWFyQ2FjaGUoJ2NvbnRyb2xJZCcpXG4gICAgfVxuXG4gICAgY29uc3QgZm9ybWF0RXJyb3IgPSB7fVxuICAgIE9iamVjdC5rZXlzKG5ld0Vycm9yKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBpZiAobmV3RXJyb3Jba2V5XSkge1xuICAgICAgICBmb3JtYXRFcnJvcltrZXldID0ge31cbiAgICAgICAgbmV3RXJyb3Jba2V5XT8uZm9yRWFjaChlcnJvckRhdGEgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgcHJvcGVydHlOYW1lLCBlcnJvcjogbXNnIH0gPSBlcnJvckRhdGFcbiAgICAgICAgICBpZiAoZm9ybWF0RXJyb3Jba2V5XVtwcm9wZXJ0eU5hbWVdKSB7XG4gICAgICAgICAgICBmb3JtYXRFcnJvcltrZXldW3Byb3BlcnR5TmFtZV0gPSBbLi4uZm9ybWF0RXJyb3Jba2V5XVtwcm9wZXJ0eU5hbWVdLCB7IG1zZyB9XVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3JtYXRFcnJvcltrZXldW3Byb3BlcnR5TmFtZV0gPSB7IG1zZzogW21zZ10gfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8g5rKh5pyJ5oql6ZSZ55qE5pe25YCZ77yM5ZCO56uv5piv55u05o6l6L+U5Zue5p2l5LqG5LiA5Liq56m655qE77yM5L2G5piv5YmN56uv5LiN55+l6YGT5piv5ZOq5Liq5a2X5q615rKh5pyJ5oql6ZSZ5LqG77yM6ZyA6KaB5oqK5qC35byP56e76ZmkXG4gICAgaWYgKE9iamVjdC5rZXlzKGVycm9yKT8ubGVuZ3RoID4gMCkge1xuICAgICAgT2JqZWN0LmtleXMoZXJyb3IpLmZvckVhY2goaWQgPT4ge1xuICAgICAgICBpZiAoIWZvcm1hdEVycm9yW2lkXSkge1xuICAgICAgICAgIGNvbnN0IGVycm9yTm9kZURvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNvbnRyb2wtZXJyb3I9XCIke2lkfVwiXWApXG4gICAgICAgICAgaWYgKGVycm9yTm9kZURvbSkge1xuICAgICAgICAgICAgZXJyb3JOb2RlRG9tLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1jb250cm9sLWVycm9yJylcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZXJyb3JDb250ZXh0LnJlcGxhY2VFcnJvcihmb3JtYXRFcnJvcilcbiAgfSwgW2Vycm9yQ29udGV4dCwgZXJyb3JdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZXZlbnRCdXMub24oU0hPV19ERVNJR05FUl9FUlJPUiwgbGlzdGVuU2hvd0Vycm9yQ2FsbGJhY2spXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGV2ZW50QnVzLm9mZihTSE9XX0RFU0lHTkVSX0VSUk9SLCBsaXN0ZW5TaG93RXJyb3JDYWxsYmFjaylcbiAgICB9XG4gIH0sIFtsaXN0ZW5TaG93RXJyb3JDYWxsYmFjaywgZXJyb3JdKVxuXG4gIGNvbnN0IGRhdGFDaGFuZ2VMaXN0ZW5lckNhbGxiYWNrID0gdXNlQ2FsbGJhY2soKHsgdHlwZSwgdmFsdWUsIGFjdGlvbnMgfTogRGF0YUNoYW5nZUV2ZW50KSA9PiB7XG4gICAgaWYgKGFjdGlvbnM/Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGRlbGV0ZUlkcyA9IFtdXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYWN0aW9ucy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgY29uc3QgeyB0eXBlLCB2YWx1ZTogaWQgfSA9IGFjdGlvbnNbaW5kZXhdIHx8IHt9XG4gICAgICAgIC8vIOWmguaenOWIoOmZpOeahOaYr+aKpemUmeaOp+S7tumHjOmdoueahOivne+8jOmcgOimgeWQjOatpeS4gOS4i2Vycm9y55qE5oql6ZSZXG4gICAgICAgIGlmICh0eXBlID09PSAnREVMRVRFJyAmJiBlcnJvcltpZF0pIHtcbiAgICAgICAgICBkZWxldGVJZHMucHVzaChpZClcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZGVsZXRlSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZXJyb3JDb250ZXh0LmRlbGV0ZUVycm9yKGRlbGV0ZUlkcylcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtlcnJvcl0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCByZW1vdmVEYXRhQ2hhbmdlTGlzdGVuZXIgPSBkYXRhQ29udGV4dC5hZGREYXRhQ2hhbmdlTGlzdGVuZXIoZGF0YUNoYW5nZUxpc3RlbmVyQ2FsbGJhY2spXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJlbW92ZURhdGFDaGFuZ2VMaXN0ZW5lcigpXG4gICAgfVxuICB9LCBbZXJyb3JdKVxufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VMaXN0ZW5FcnJvclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///47064\n");

/***/ }),

/***/ 14448:
/*!*************************************!*\
  !*** ./src/hooks/useMouseEvent.tsx ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kd_libs/react-dom */ 16428);\n/* harmony import */ var kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants/dataAttribute */ 64536);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_5__);\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-07-15 14:35:53\n * @LastEditTime: 2023-12-08 16:10:50\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\nvar useMouseEvent = function useMouseEvent(field) {\n  var designerContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_context__WEBPACK_IMPORTED_MODULE_4__.DesignerContext);\n  var prefixCls = designerContext.prefixCls,\n    getKdesignerApi = designerContext.getKdesignerApi,\n    invokeAction = designerContext.invokeAction,\n    fieldStatusSettingMode = designerContext.fieldStatusSettingMode;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var selectionContext = kdesignerApi.selection;\n  var dataContext = kdesignerApi.data;\n  var setSelect = selectionContext.setSelect;\n  var rootId = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return dataContext.getRootId();\n  }, []);\n\n  // 右键切换组件菜单\n  var contextMenuRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  // 面板\n  var panelRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n\n  // 鼠标移入，添加属性\n  var onMouseOver = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (event) {\n    var _context;\n    event.stopPropagation();\n    var _event$currentTarget$ = event.currentTarget.dataset,\n      controlId = _event$currentTarget$.controlId,\n      enableClick = _event$currentTarget$.enableClick;\n    if (fieldStatusSettingMode) {\n      if (rootId === controlId || enableClick === 'false') {\n        return;\n      }\n    }\n    var controlDom = document.querySelectorAll(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context = \"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_3__.dataControlId, \"=\\\"\")).call(_context, controlId, \"\\\"]\"))[0];\n    controlDom === null || controlDom === void 0 || controlDom.setAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_3__.dataMouseOver, 'true');\n  }, [fieldStatusSettingMode]);\n\n  // 鼠标移出，属性置空\n  var onMouseOut = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (event) {\n    var _context2;\n    event.stopPropagation();\n    var controlId = event.currentTarget.dataset.controlId;\n    var controlDom = document.querySelectorAll(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context2 = \"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_3__.dataControlId, \"=\\\"\")).call(_context2, controlId, \"\\\"]\"))[0];\n    controlDom.removeAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_3__.dataMouseOver);\n  }, []);\n  var closeContextMenuPanel = function closeContextMenuPanel() {\n    if (contextMenuRef.current) {\n      kd_libs_react_dom__WEBPACK_IMPORTED_MODULE_2___default().unmountComponentAtNode(contextMenuRef.current);\n      document.body.removeChild(contextMenuRef.current);\n      contextMenuRef.current = null;\n    }\n  };\n  var onContextMenu = function onContextMenu(event) {\n    event.stopPropagation();\n    var _event$currentTarget$2 = event.currentTarget.dataset,\n      controlId = _event$currentTarget$2.controlId,\n      selection = _event$currentTarget$2.selection;\n    var rootId = dataContext.getRootId();\n    // 右键根页面不应该\n    if (rootId === controlId) return;\n    var controlData = dataContext.findControl(controlId);\n    if (fieldStatusSettingMode) return;\n    event.preventDefault();\n\n    // 非选中的时候，右键选中\n    if (!selection) setSelect([controlId]);\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_5__.eventBus.emit('contextmenu', {\n      event: event,\n      field: controlData\n    });\n\n    // if (!contextMenuRef.current) {\n    //   const contextMenuWrapperDom = document.createElement('div')\n    //   contextMenuWrapperDom.classList.add(`${prefixCls}_contextmenu`)\n    //   contextMenuRef.current = contextMenuWrapperDom\n    //   document.body.appendChild(contextMenuRef.current)\n    // }\n\n    // contextMenuRef.current.style.cssText += `;left: ${event.pageX}px;top: ${event.pageY}px;`\n\n    // ReactDom.render(\n    //   <ContextMenuPanel\n    //     // ref={panelRef}\n    //     field={controlData}\n    //     designerContext={designerContext}\n    //     prefixCls={prefixCls}\n    //     trigger={event.currentTarget}\n    //     closePanel={closeContextMenuPanel}\n    //   />,\n    //   contextMenuRef.current\n    // )\n  };\n  var mouseEvent = {\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    onContextMenu: onContextMenu\n  };\n  return mouseEvent;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useMouseEvent);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ0NDguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9ob29rcy91c2VNb3VzZUV2ZW50LnRzeD8xZDBkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDctMTUgMTQ6MzU6NTNcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMTItMDggMTY6MTA6NTBcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZVJlZiwgdXNlTWVtbywgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFJlYWN0RG9tIGZyb20gJ3JlYWN0LWRvbSdcbmltcG9ydCB7IGRhdGFDb250cm9sSWQsIGRhdGFNb3VzZU92ZXIgfSBmcm9tICcuLi9jb25zdGFudHMvZGF0YUF0dHJpYnV0ZSdcbmltcG9ydCB7IEZPUkJJRF9DSEFOR0VfQ09OVFJJTF9UWVBFUyB9IGZyb20gJy4uL2NvbnN0YW50cydcbmltcG9ydCBDb250ZXh0TWVudVBhbmVsIGZyb20gJy4uL2NvbXBvbmVudHMvQ29udGV4dE1lbnVQYW5lbCdcbmltcG9ydCBQZXJtaXNzaW9uU2V0dGluZ1BhbmVsIGZyb20gJy4uL2NvbXBvbmVudHMvUGVybWlzc2lvblNldHRpbmdQYW5lbCdcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQnXG5pbXBvcnQgeyBJU2VsZWN0aW9uLCBJRGF0YUFwaSwgSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5LCBldmVudEJ1cyB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcblxuY29uc3QgdXNlTW91c2VFdmVudCA9IChmaWVsZDogSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5KSA9PiB7XG4gIGNvbnN0IGRlc2lnbmVyQ29udGV4dCA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCB7IHByZWZpeENscywgZ2V0S2Rlc2lnbmVyQXBpLCBpbnZva2VBY3Rpb24sIGZpZWxkU3RhdHVzU2V0dGluZ01vZGUgfSA9IGRlc2lnbmVyQ29udGV4dFxuICBjb25zdCBrZGVzaWduZXJBcGkgPSB1c2VNZW1vKCgpID0+IGdldEtkZXNpZ25lckFwaSgpLCBbXSlcbiAgY29uc3Qgc2VsZWN0aW9uQ29udGV4dDogSVNlbGVjdGlvbiA9IGtkZXNpZ25lckFwaS5zZWxlY3Rpb25cbiAgY29uc3QgZGF0YUNvbnRleHQ6IElEYXRhQXBpID0ga2Rlc2lnbmVyQXBpLmRhdGFcbiAgY29uc3QgeyBzZXRTZWxlY3QgfSA9IHNlbGVjdGlvbkNvbnRleHRcbiAgY29uc3Qgcm9vdElkID0gdXNlTWVtbygoKSA9PiBkYXRhQ29udGV4dC5nZXRSb290SWQoKSwgW10pXG5cbiAgLy8g5Y+z6ZSu5YiH5o2i57uE5Lu26I+c5Y2VXG4gIGNvbnN0IGNvbnRleHRNZW51UmVmID0gdXNlUmVmPGdsb2JhbFRoaXMuSFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKVxuICAvLyDpnaLmnb9cbiAgY29uc3QgcGFuZWxSZWYgPSB1c2VSZWY8Z2xvYmFsVGhpcy5IVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpXG5cbiAgLy8g6byg5qCH56e75YWl77yM5re75Yqg5bGe5oCnXG4gIGNvbnN0IG9uTW91c2VPdmVyID0gdXNlQ2FsbGJhY2soKGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgIGNvbnN0IHsgY29udHJvbElkLCBlbmFibGVDbGljayB9ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0XG5cbiAgICBpZiAoZmllbGRTdGF0dXNTZXR0aW5nTW9kZSkge1xuICAgICAgaWYgKHJvb3RJZCA9PT0gY29udHJvbElkIHx8IGVuYWJsZUNsaWNrID09PSAnZmFsc2UnKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjb250cm9sRG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgWyR7ZGF0YUNvbnRyb2xJZH09XCIke2NvbnRyb2xJZH1cIl1gKVswXVxuICAgIGNvbnRyb2xEb20/LnNldEF0dHJpYnV0ZShkYXRhTW91c2VPdmVyLCAndHJ1ZScpXG4gIH0sIFtmaWVsZFN0YXR1c1NldHRpbmdNb2RlXSlcblxuICAvLyDpvKDmoIfnp7vlh7rvvIzlsZ7mgKfnva7nqbpcbiAgY29uc3Qgb25Nb3VzZU91dCA9IHVzZUNhbGxiYWNrKChldmVudDogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgY29uc3QgeyBjb250cm9sSWQgfSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldFxuICAgIGNvbnN0IGNvbnRyb2xEb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbJHtkYXRhQ29udHJvbElkfT1cIiR7Y29udHJvbElkfVwiXWApWzBdXG4gICAgY29udHJvbERvbS5yZW1vdmVBdHRyaWJ1dGUoZGF0YU1vdXNlT3ZlcilcbiAgfSwgW10pXG5cbiAgY29uc3QgY2xvc2VDb250ZXh0TWVudVBhbmVsID0gKCkgPT4ge1xuICAgIGlmIChjb250ZXh0TWVudVJlZi5jdXJyZW50KSB7XG4gICAgICBSZWFjdERvbS51bm1vdW50Q29tcG9uZW50QXROb2RlKGNvbnRleHRNZW51UmVmLmN1cnJlbnQpXG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGNvbnRleHRNZW51UmVmLmN1cnJlbnQpXG4gICAgICBjb250ZXh0TWVudVJlZi5jdXJyZW50ID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IG9uQ29udGV4dE1lbnUgPSAoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgY29uc3QgeyBjb250cm9sSWQsIHNlbGVjdGlvbiB9ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0XG5cbiAgICBjb25zdCByb290SWQgPSBkYXRhQ29udGV4dC5nZXRSb290SWQoKVxuICAgIC8vIOWPs+mUruaguemhtemdouS4jeW6lOivpVxuICAgIGlmIChyb290SWQgPT09IGNvbnRyb2xJZCkgcmV0dXJuXG5cbiAgICBjb25zdCBjb250cm9sRGF0YSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGNvbnRyb2xJZClcblxuICAgIGlmIChmaWVsZFN0YXR1c1NldHRpbmdNb2RlKSByZXR1cm5cblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIC8vIOmdnumAieS4reeahOaXtuWAme+8jOWPs+mUrumAieS4rVxuICAgIGlmICghc2VsZWN0aW9uKSBzZXRTZWxlY3QoW2NvbnRyb2xJZF0pXG5cbiAgICBldmVudEJ1cy5lbWl0KCdjb250ZXh0bWVudScsIHsgZXZlbnQsIGZpZWxkOiBjb250cm9sRGF0YSB9KVxuXG4gICAgLy8gaWYgKCFjb250ZXh0TWVudVJlZi5jdXJyZW50KSB7XG4gICAgLy8gICBjb25zdCBjb250ZXh0TWVudVdyYXBwZXJEb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIC8vICAgY29udGV4dE1lbnVXcmFwcGVyRG9tLmNsYXNzTGlzdC5hZGQoYCR7cHJlZml4Q2xzfV9jb250ZXh0bWVudWApXG4gICAgLy8gICBjb250ZXh0TWVudVJlZi5jdXJyZW50ID0gY29udGV4dE1lbnVXcmFwcGVyRG9tXG4gICAgLy8gICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRleHRNZW51UmVmLmN1cnJlbnQpXG4gICAgLy8gfVxuXG4gICAgLy8gY29udGV4dE1lbnVSZWYuY3VycmVudC5zdHlsZS5jc3NUZXh0ICs9IGA7bGVmdDogJHtldmVudC5wYWdlWH1weDt0b3A6ICR7ZXZlbnQucGFnZVl9cHg7YFxuXG4gICAgLy8gUmVhY3REb20ucmVuZGVyKFxuICAgIC8vICAgPENvbnRleHRNZW51UGFuZWxcbiAgICAvLyAgICAgLy8gcmVmPXtwYW5lbFJlZn1cbiAgICAvLyAgICAgZmllbGQ9e2NvbnRyb2xEYXRhfVxuICAgIC8vICAgICBkZXNpZ25lckNvbnRleHQ9e2Rlc2lnbmVyQ29udGV4dH1cbiAgICAvLyAgICAgcHJlZml4Q2xzPXtwcmVmaXhDbHN9XG4gICAgLy8gICAgIHRyaWdnZXI9e2V2ZW50LmN1cnJlbnRUYXJnZXR9XG4gICAgLy8gICAgIGNsb3NlUGFuZWw9e2Nsb3NlQ29udGV4dE1lbnVQYW5lbH1cbiAgICAvLyAgIC8+LFxuICAgIC8vICAgY29udGV4dE1lbnVSZWYuY3VycmVudFxuICAgIC8vIClcbiAgfVxuXG4gIGNvbnN0IG1vdXNlRXZlbnQgPSB7XG4gICAgb25Nb3VzZU92ZXIsXG4gICAgb25Nb3VzZU91dCxcbiAgICBvbkNvbnRleHRNZW51XG4gIH1cbiAgcmV0dXJuIG1vdXNlRXZlbnRcbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlTW91c2VFdmVudFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14448\n");

/***/ }),

/***/ 23312:
/*!****************************************!*\
  !*** ./src/hooks/useQueryEventData.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_2__);\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-03-28 16:37:57\n * @LastEditTime: 2024-02-20 09:57:38\n * @Last Modified by: jianhang_he\n */\n\n\nvar DEFAULT_ENABLE_LISTENER = function DEFAULT_ENABLE_LISTENER(props, args) {\n  // 需要判断是否存在args\n  if (!args) {\n    return true;\n  }\n  var _ref = args || {},\n    _ref$formId = _ref.formId,\n    formId = _ref$formId === void 0 ? '' : _ref$formId;\n  return props.formId === formId;\n};\nvar defaultParser = function defaultParser(_ref2) {\n  var data = _ref2.data,\n    args = _ref2.args;\n  var config = data.rows;\n  var param = args.param;\n  return {\n    data: config,\n    param: param\n  };\n};\nvar useQueryEventData = function useQueryEventData(props) {\n  var id = props.id,\n    formId = props.formId,\n    _props$enableListener = props.enableListener,\n    enableListener = _props$enableListener === void 0 ? DEFAULT_ENABLE_LISTENER : _props$enableListener,\n    eventName = props.eventName,\n    parser = props.parser,\n    _props$defaultValue = props.defaultValue,\n    defaultValue = _props$defaultValue === void 0 ? {} : _props$defaultValue;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useState)(defaultValue),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var listener = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (eventArgs) {\n    var args = eventArgs.args;\n    var enable = enableListener === null || enableListener === void 0 ? void 0 : enableListener({\n      formId: formId\n    }, args);\n    if (!enable) return;\n    var result = typeof parser === 'function' ? parser(eventArgs) : defaultParser(eventArgs);\n    setData(result);\n  }, [setData, parser, formId, enableListener]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_2__.eventBus.on(eventName, listener);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_2__.eventBus.off(eventName, listener);\n    };\n  }, [eventName, formId, listener]);\n  return data;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useQueryEventData);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMzMTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvaG9va3MvdXNlUXVlcnlFdmVudERhdGEudHM/N2MxNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIzLTAzLTI4IDE2OjM3OjU3XG4gKiBATGFzdEVkaXRUaW1lOiAyMDI0LTAyLTIwIDA5OjU3OjM4XG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQge1xuICBldmVudEJ1c1xufSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5cbmludGVyZmFjZSBQYXJzZXIge1xuICAocGFyYW06IGFueSk6IHsgZGF0YTogYW55LCBwYXJhbTogYW55IH0gfCBhbnlbXVxufVxuaW50ZXJmYWNlIERhdGFQYXJhbSB7XG4gIGlkPzogc3RyaW5nO1xuICBmb3JtSWQ/OiBzdHJpbmc7XG4gIGV2ZW50TmFtZTogc3RyaW5nO1xuICBmb3JtSWRSZXF1aXJlZD86IGJvb2xlYW47XG4gIGNvbmRpdGlvbj86IGJvb2xlYW47IC8vIOWklumDqOS8oOi/m+adpeeahOadoeS7tlxuICBwYXJzZXI/OiBQYXJzZXI7XG4gIGRlZmF1bHRWYWx1ZT86IGFueTtcbiAgZW5hYmxlTGlzdGVuZXI/OiAocHJvcHM6IERhdGFQYXJhbSwgZXZlbnRBcmdzOiBhbnkpID0+IGJvb2xlYW47XG59XG5cbmNvbnN0IERFRkFVTFRfRU5BQkxFX0xJU1RFTkVSID0gKHByb3BzOiBhbnksIGFyZ3M6IGFueSkgPT4ge1xuICAvLyDpnIDopoHliKTmlq3mmK/lkKblrZjlnKhhcmdzXG4gIGlmICghYXJncykge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgY29uc3QgeyBmb3JtSWQgPSAnJyB9ID0gYXJncyB8fCB7fVxuICByZXR1cm4gcHJvcHMuZm9ybUlkID09PSBmb3JtSWRcbn1cblxuY29uc3QgZGVmYXVsdFBhcnNlciA9ICh7IGRhdGEsIGFyZ3MgfTogeyBkYXRhOiBhbnksIGFyZ3M6IGFueSB9KSA9PiB7XG4gIGNvbnN0IGNvbmZpZyA9IGRhdGEucm93c1xuICBjb25zdCBwYXJhbSA9IGFyZ3MucGFyYW1cbiAgcmV0dXJuIHtcbiAgICBkYXRhOiBjb25maWcsIHBhcmFtXG4gIH1cbn1cblxuY29uc3QgdXNlUXVlcnlFdmVudERhdGEgPSAocHJvcHM6IERhdGFQYXJhbSk6IHsgZGF0YTogYW55LCBwYXJhbTogYW55IH0gfCBhbnkgPT4ge1xuICBjb25zdCB7XG4gICAgaWQsXG4gICAgZm9ybUlkLFxuICAgIGVuYWJsZUxpc3RlbmVyID0gREVGQVVMVF9FTkFCTEVfTElTVEVORVIsXG4gICAgZXZlbnROYW1lLFxuICAgIHBhcnNlcixcbiAgICBkZWZhdWx0VmFsdWUgPSB7fVxuICB9ID0gcHJvcHNcbiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGUoZGVmYXVsdFZhbHVlKVxuXG4gIGNvbnN0IGxpc3RlbmVyID0gdXNlQ2FsbGJhY2soKGV2ZW50QXJnczogYW55KSA9PiB7XG4gICAgY29uc3QgeyBhcmdzIH0gPSBldmVudEFyZ3NcbiAgICBjb25zdCBlbmFibGUgPSBlbmFibGVMaXN0ZW5lcj8uKHsgZm9ybUlkIH0sIGFyZ3MpXG4gICAgaWYgKCFlbmFibGUpIHJldHVyblxuICAgIGNvbnN0IHJlc3VsdCA9IHR5cGVvZiBwYXJzZXIgPT09ICdmdW5jdGlvbidcbiAgICAgID8gcGFyc2VyKGV2ZW50QXJncylcbiAgICAgIDogZGVmYXVsdFBhcnNlcihldmVudEFyZ3MpXG4gICAgc2V0RGF0YShyZXN1bHQpXG4gIH0sIFtzZXREYXRhLCBwYXJzZXIsIGZvcm1JZCwgZW5hYmxlTGlzdGVuZXJdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZXZlbnRCdXMub24oZXZlbnROYW1lLCBsaXN0ZW5lcilcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZXZlbnRCdXMub2ZmKGV2ZW50TmFtZSwgbGlzdGVuZXIpXG4gICAgfVxuICB9LCBbZXZlbnROYW1lLCBmb3JtSWQsIGxpc3RlbmVyXSlcblxuICByZXR1cm4gZGF0YVxufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VRdWVyeUV2ZW50RGF0YVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///23312\n");

/***/ }),

/***/ 90236:
/*!***********************!*\
  !*** ./src/index.tsx ***!
  \***********************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/starts-with */ 11908);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/entries */ 82581);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/values */ 72400);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _views_MainView__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./views/MainView */ 25996);\n/* harmony import */ var _views_Outline__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./views/Outline */ 48156);\n/* harmony import */ var _views_PropertyView__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./views/PropertyView */ 37796);\n/* harmony import */ var _views_SystemCategories__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./views/SystemCategories */ 3364);\n/* harmony import */ var _utils_controlIcon__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./utils/controlIcon */ 84995);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./context */ 90115);\n/* harmony import */ var _preHandle__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./preHandle */ 35260);\n/* harmony import */ var _editors__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./editors */ 58036);\n/* harmony import */ var _assets_images_control_view_empty_png__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../assets/images/control-view-empty.png */ 16780);\n/* harmony import */ var _adaptor__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./adaptor */ 80564);\n/* harmony import */ var _adaptor_utils__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./adaptor/utils */ 44928);\n/* harmony import */ var _constants_index__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./constants/index */ 98092);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./utils */ 41232);\n/* harmony import */ var _utils_canAddCallback__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./utils/canAddCallback */ 43660);\n/* harmony import */ var _utils_controlCache__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./utils/controlCache */ 8292);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_31___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_31__);\n/* harmony import */ var _components_CustomTab__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./components/CustomTab */ 36900);\n/* harmony import */ var _constants_actionName__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./constants/actionName */ 82964);\n/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! intersection-observer */ 33192);\n/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_34___default = /*#__PURE__*/__webpack_require__.n(intersection_observer__WEBPACK_IMPORTED_MODULE_34__);\n/* harmony import */ var kd_libs_immer__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! kd_libs/immer */ 59480);\n/* harmony import */ var kd_libs_immer__WEBPACK_IMPORTED_MODULE_35___default = /*#__PURE__*/__webpack_require__.n(kd_libs_immer__WEBPACK_IMPORTED_MODULE_35__);\n/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./reducer */ 51088);\n/* harmony import */ var _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./reducer/reduceConstants */ 10788);\n/* harmony import */ var _utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./utils/refBillEditorUtils */ 82048);\n/* harmony import */ var _utils_setDragImage__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./utils/setDragImage */ 54739);\n/* harmony import */ var _utils_createDataCacheApi__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./utils/createDataCacheApi */ 65220);\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_1___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n// import PropertyBusinessView from './views/PropertyBusinessView'\n// import PropertyFormStyleView from './views/PropertyFormStyleView'\n\n// import CombinedContent from './views/CombinedContent'\n\n\n\n\n\n\n\n\n\n// import UndefinedControl from './apControls/common/UndefinedControl'\n\n\n\n\n\n\n\n\n\n\n\n\n(0,kd_libs_immer__WEBPACK_IMPORTED_MODULE_35__.enableES5)();\ndesigner_base_Main__WEBPACK_IMPORTED_MODULE_14__.ControlView.tabName = '内容';\nvar keywordMapping = {\n  // 所有meta和data属性名大小写默认配置\n  id: 'Id',\n  type: '_Type_',\n  name: 'Name',\n  key: 'Key',\n  parentId: 'ParentId',\n  items: 'Items',\n  fieldType: 'FieldType',\n  EntityData: 'EntityData'\n};\nvar fieldStatusReducer = function fieldStatusReducer(state, data) {\n  return _objectSpread(_objectSpread({}, state), data);\n};\nvar deepGetBillName = function deepGetBillName(data) {\n  return data.reduce(function (map, bill) {\n    var selectable = bill.selectable,\n      children = bill.children,\n      value = bill.value,\n      label = bill.label;\n    if (selectable !== false) {\n      map[value] = label;\n    }\n    if (children !== null && children !== void 0 && children.length) {\n      return _objectSpread(_objectSpread({}, map), deepGetBillName(children));\n    }\n    return map;\n  }, {});\n};\nvar NoCodeDesigner = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.memo)((0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.forwardRef)(function (props, forwardedRef) {\n  var _props$data = props.data,\n    data = _props$data === void 0 ? {} : _props$data,\n    _props$meta = props.meta,\n    meta = _props$meta === void 0 ? {} : _props$meta,\n    onData = props.onData,\n    settingData = props.settingData,\n    _props$showMessage = props.showMessage,\n    showMessage = _props$showMessage === void 0 ? function (msg) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'warning';\n      console.log('showMessage-------', msg);\n      kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Message[type]({\n        content: msg,\n        closable: type === 'error',\n        duration: 2000,\n        style: {\n          background: '#fff',\n          borderColor: '#fff',\n          color: '#212121',\n          boxShadow: '0 4px 10px 1px rgba(0,0,0,0.12)'\n        }\n      });\n    } : _props$showMessage,\n    _props$handleCustomIn = props.handleCustomInputEditor,\n    handleCustomInputEditor = _props$handleCustomIn === void 0 ? function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      console.log('handleCustomInputEditor-------', args);\n    } : _props$handleCustomIn,\n    _props$invokeAction = props.invokeAction,\n    invokeAction = _props$invokeAction === void 0 ? function (actionName, args, params) {\n      console.log('invokeAction-------', actionName, params);\n    } : _props$invokeAction,\n    _props$enforceInvokeA = props.enforceInvokeAction,\n    enforceInvokeAction = _props$enforceInvokeA === void 0 ? function (actionName, args, params) {\n      console.log('enforceInvokeAction-------', actionName, params);\n    } : _props$enforceInvokeA,\n    baseHooks = props.baseHooks,\n    baseUrl = props.baseUrl,\n    onDesignerApi = props.onApi,\n    onDownLoad = props.onDownLoad,\n    addControlAction = props.addControlAction,\n    getControlText = props.getControlText,\n    batchInvoke = props.batchInvoke,\n    floatMenu = props.floatMenu,\n    _props$defaultFieldSt = props.defaultFieldStatusMap,\n    defaultFieldStatusMap = _props$defaultFieldSt === void 0 ? {} : _props$defaultFieldSt,\n    _props$fieldStatusSet = props.fieldStatusSettingMode,\n    fieldStatusSettingMode = _props$fieldStatusSet === void 0 ? false : _props$fieldStatusSet,\n    fieldStatusSettingOptions = props.fieldStatusSettingOptions,\n    _props$expression = props.expression,\n    expression = _props$expression === void 0 ? [] : _props$expression,\n    _props$refBillData = props.refBillData,\n    refBillData = _props$refBillData === void 0 ? [] : _props$refBillData,\n    _props$tableMetas = props.tableMetas,\n    tableMetas = _props$tableMetas === void 0 ? [] : _props$tableMetas,\n    _props$compareTypes = props.compareTypes,\n    compareTypes = _props$compareTypes === void 0 ? {} : _props$compareTypes,\n    _props$ncpToolKits = props.ncpToolKits,\n    ncpToolKits = _props$ncpToolKits === void 0 ? {} : _props$ncpToolKits;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)(true),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_useState, 2),\n    isPC = _useState2[0],\n    setIsPC = _useState2[1];\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null);\n  var dataRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)(data);\n  var hideFieldRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)({}); // 隐藏控件集合 key:控件id，value: 控件信息\n  var refBillPropRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)([]);\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useReducer)(_reducer__WEBPACK_IMPORTED_MODULE_36__.reducer, _reducer__WEBPACK_IMPORTED_MODULE_36__.initState),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_useReducer, 2),\n    billPropsData = _useReducer2[0],\n    dispatchBillData = _useReducer2[1];\n  var billPropsDataRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)({});\n  var kdesignerRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null);\n  var sysSettingRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)((0,_utils__WEBPACK_IMPORTED_MODULE_28__.getInitialSysSetting)(data, meta));\n  var billnoSettingRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)((0,_utils__WEBPACK_IMPORTED_MODULE_28__.getInitialbillnoSetting)(data));\n  var displayRulesRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)((0,_utils__WEBPACK_IMPORTED_MODULE_28__.getDataPropertyByKey)(data, 'displayRules') || []);\n  var bizRulesRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)((0,_utils__WEBPACK_IMPORTED_MODULE_28__.getDataPropertyByKey)(data, 'bizRules') || []);\n  var formulaRulesRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)((0,_utils__WEBPACK_IMPORTED_MODULE_28__.getDataPropertyByKey)(data, 'formulaRules') || {});\n  var _useReducer3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useReducer)(fieldStatusReducer, defaultFieldStatusMap || {}),\n    _useReducer4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_useReducer3, 2),\n    fieldStatusMap = _useReducer4[0],\n    dispatchFieldStatus = _useReducer4[1];\n  var curFormulaTreeApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)((0,_utils_createDataCacheApi__WEBPACK_IMPORTED_MODULE_40__[\"default\"])());\n  var curListTreeApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)((0,_utils_createDataCacheApi__WEBPACK_IMPORTED_MODULE_40__[\"default\"])());\n  console.log('nocode designer', props);\n  var processPropertyName = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (value) {\n    return value;\n  }, []);\n  var dealMeta = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    return (0,_adaptor__WEBPACK_IMPORTED_MODULE_25__.adaptorMeta)(meta, data.formmeta);\n  }, []); // meta不会更改\n  var transformedData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    // 将外表的META数据格式转换成对象\n    var foreignMetas = tableMetas.reduce(function (result, item) {\n      // 需要判断外部表单被删除的场景\n      return item !== null && item !== void 0 && item.billEntityIdEx ? _objectSpread(_objectSpread({}, result), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({}, item.billEntityIdEx, item.data)) : result;\n    }, {});\n    var _transformData = (0,_adaptor__WEBPACK_IMPORTED_MODULE_25__.transformData)(data, (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_31__.cloneDeep)(foreignMetas)),\n      _transformData2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_transformData, 3),\n      newData = _transformData2[0],\n      hiddenField = _transformData2[1],\n      dataWithForeignMetas = _transformData2[2];\n    hideFieldRef.current = hiddenField;\n    dataRef.current = dataWithForeignMetas;\n    // 同时更新KD层的数据\n    onData === null || onData === void 0 || onData(dataWithForeignMetas);\n    console.log('updatedata', newData, dataRef.current, hiddenField, foreignMetas);\n    _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5___default()(foreignMetas).length && dispatchBillData({\n      key: _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_37__.INIT_FORM_DATA,\n      payload: foreignMetas\n    });\n    return newData;\n  }, [data, tableMetas]);\n  console.log('dealMeta-------', dealMeta, billPropsData, transformedData);\n\n  // 获取store的关联表单数据\n  // prehandle里billPropsData传进去后不更新\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    billPropsDataRef.current = billPropsData;\n  }, [billPropsData]);\n  // 获取隐藏控件\n  var getHideFieldRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    console.log('getHideFieldRef', hideFieldRef.current);\n    return (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_31__.cloneDeep)(hideFieldRef.current);\n  }, []);\n  // 设置隐藏控件\n  var setHideFieldRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (data) {\n    console.log('setHideFieldRef', data);\n    hideFieldRef.current = data;\n  }, []);\n\n  /**\n   * 返回true的时候，则隐藏整个视图\n   * 返回数组的时候，则隐藏对应的某个子视图\n   */\n  var getHideViewSettings = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (key) {\n    var _ref = (settingData === null || settingData === void 0 ? void 0 : settingData[key]) || {},\n      value = _ref.value,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items;\n    if (!value) return true;\n    return _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5___default()(items).reduce(function (previousValue, currentValue) {\n      if (items[currentValue].value === false) {\n        previousValue.push(currentValue);\n      }\n      return previousValue;\n    }, []);\n  }, [settingData]);\n  var pubUIAction = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (data) {\n    var publishUserEvent = ncpToolKits.publishUserEvent;\n    var appId = transformedData.bizappId,\n      formId = transformedData.id;\n    var action = _objectSpread({\n      appId: appId,\n      formId: formId\n    }, data);\n    publishUserEvent(action);\n  }, [ncpToolKits]);\n  var getViews = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (viewName) {\n    switch (viewName) {\n      case 'main':\n        {\n          return {\n            main: _views_MainView__WEBPACK_IMPORTED_MODULE_16__[\"default\"]\n          };\n        }\n      case 'left':\n        {\n          var leftView = {\n            control: designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.ControlView,\n            systemCategories: _views_SystemCategories__WEBPACK_IMPORTED_MODULE_19__[\"default\"],\n            outline: _views_Outline__WEBPACK_IMPORTED_MODULE_17__[\"default\"]\n            // combinedcontent: CombinedContent,\n          };\n          return leftView;\n        }\n      case 'right':\n        {\n          return {\n            property: _views_PropertyView__WEBPACK_IMPORTED_MODULE_18__[\"default\"]\n            // business: PropertyBusinessView,\n            // formstyle: PropertyFormStyleView\n          };\n        }\n      default:\n        {\n          return {};\n        }\n    }\n  }, []);\n  var globalConfig = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    return {\n      showMessage: showMessage,\n      getViews: getViews,\n      processPropertyName: processPropertyName,\n      keywordMapping: keywordMapping,\n      enableSearch: true,\n      enableError: true,\n      dataPortalIdPrefix: 'nocode-designer-top-view',\n      controlViewSetting: {\n        className: \"\".concat(_constants_index__WEBPACK_IMPORTED_MODULE_27__.NOCODE_DESIGNER_PREFIX_CLS, \"-control-view\"),\n        hideHelpIcon: true,\n        hideAnchorIcon: true,\n        hideTitleTips: true,\n        // 隐藏title属性\n        searchInputPlaceholder: '内容',\n        filterCategories: function filterCategories(categories) {\n          return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(categories).call(categories, function (category) {\n            var _category$Id;\n            return !(category !== null && category !== void 0 && (_category$Id = category.Id) !== null && _category$Id !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_7___default()(_category$Id).call(_category$Id, 'System_'));\n          });\n        },\n        handleItemClick: function handleItemClick() {\n          pubUIAction({\n            eventName: 'click',\n            action: 'fd_add_click'\n          });\n        },\n        getEmptyView: function getEmptyView() {\n          return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"img\", {\n            src: _assets_images_control_view_empty_png__WEBPACK_IMPORTED_MODULE_24__[\"default\"],\n            alt: \"\\u641C\\u7D22\\u65E0\\u7ED3\\u679C\",\n            className: \"\".concat(_constants_index__WEBPACK_IMPORTED_MODULE_27__.NOCODE_DESIGNER_PREFIX_CLS, \"-control-empty-img\")\n          }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"span\", {\n            className: \"\".concat(_constants_index__WEBPACK_IMPORTED_MODULE_27__.NOCODE_DESIGNER_PREFIX_CLS, \"-control-empty-img\")\n          }, \"\\u6682\\u65E0\\u641C\\u7D22\\u7ED3\\u679C\"));\n        },\n        hideItemView: getHideViewSettings('Categories'),\n        onDragStart: function onDragStart(event, controlType, controlName) {\n          (0,_utils_setDragImage__WEBPACK_IMPORTED_MODULE_39__[\"default\"])(event, controlType, controlName);\n        }\n      },\n      propertyViewSetting: {\n        className: \"\".concat(_constants_index__WEBPACK_IMPORTED_MODULE_27__.NOCODE_DESIGNER_PREFIX_CLS, \"-property-view\"),\n        // collapsable: false,\n        hideItemView: getHideViewSettings('Property')\n      },\n      getOutlineItemIcon: function getOutlineItemIcon(type) {\n        return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n          prefix: \"designericon\",\n          type: (0,_utils_controlIcon__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(type),\n          className: \"nocode-designer-control-icon\"\n        });\n      },\n      canAddCallback: (0,_utils_canAddCallback__WEBPACK_IMPORTED_MODULE_29__[\"default\"])({\n        // 不会错误提醒\n        showMessage: showMessage,\n        kdesignerApi: kdesignerApi,\n        keywordMapping: keywordMapping\n      }),\n      preHandle: function preHandle() {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        return _preHandle__WEBPACK_IMPORTED_MODULE_22__[\"default\"].apply(void 0, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default()(args).call(args, [_objectSpread(_objectSpread({}, kdesignerApi.current || {}), {}, {\n          billPropsData: billPropsDataRef.current,\n          invokeAction: invokeAction,\n          getHideFieldRef: getHideFieldRef,\n          setHideFieldRef: setHideFieldRef,\n          dispatchBillData: dispatchBillData\n        })]));\n      },\n      getPropertyEditors: _editors__WEBPACK_IMPORTED_MODULE_23__[\"default\"],\n      filterProperty: _adaptor_utils__WEBPACK_IMPORTED_MODULE_26__.filterProperty,\n      renderCustomTab: function renderCustomTab(activeTab, tabData) {\n        console.log('tabData', tabData);\n        return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_components_CustomTab__WEBPACK_IMPORTED_MODULE_32__[\"default\"], tabData);\n      }\n    };\n  }, [showMessage, getViews, processPropertyName, _editors__WEBPACK_IMPORTED_MODULE_23__[\"default\"], getHideViewSettings, getHideFieldRef, setHideFieldRef, dispatchBillData]);\n  var kuiConfig = {\n    prefixCls: 'kdesigner'\n  };\n  var getSystemSetting = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    return sysSettingRef.current;\n  }, []);\n  var setSystemSetting = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (data) {\n    sysSettingRef.current = data;\n    dataRef.current.sysSetting = data;\n    var increaseFormulaVer = curFormulaTreeApi.current.increaseVersion;\n    var increaseListTreeVer = curListTreeApi.current.increaseVersion;\n    increaseFormulaVer();\n    increaseListTreeVer();\n  }, []);\n  var getBillnoSetting = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    return billnoSettingRef.current;\n  }, []);\n  var setBillnoSetting = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (data) {\n    billnoSettingRef.current = data;\n    dataRef.current.billNoSetting = data;\n    var increaseFormulaVer = curFormulaTreeApi.current.increaseVersion;\n    var increaseListTreeVer = curListTreeApi.current.increaseVersion;\n    increaseFormulaVer();\n    increaseListTreeVer();\n  }, []);\n  var getDisplayRules = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    return displayRulesRef.current;\n  }, []);\n  var setDisplayRules = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (data) {\n    displayRulesRef.current = data;\n  }, []);\n  var getBizRules = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    return bizRulesRef.current;\n  }, []);\n  var setBizRules = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (data) {\n    bizRulesRef.current = data;\n  }, []);\n  var getFormulaRules = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    return formulaRulesRef.current;\n  }, []);\n  var setFormulaRules = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (data) {\n    formulaRulesRef.current = data;\n  }, []);\n  var getDesignerClientType = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    return isPC ? 'pc' : 'mobile';\n  }, [isPC]);\n  var resetDesignerData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (newData, designerApi) {\n    // transformData 需要传入store里的外部表单的数据\n    var forginMeta = (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_31__.cloneDeep)(billPropsDataRef.current);\n    var metas = _babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_9___default()(forginMeta).reduce(function (prev, item) {\n      var _item$;\n      return (_item$ = item[1]) !== null && _item$ !== void 0 && _item$.data ? _objectSpread(_objectSpread({}, prev), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({}, item[0], item[1].data)) : prev;\n    }, {});\n    var _transformData3 = (0,_adaptor__WEBPACK_IMPORTED_MODULE_25__.transformData)(newData, metas),\n      _transformData4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_transformData3, 3),\n      transformedData = _transformData4[0],\n      hideField = _transformData4[1],\n      dataWithForeignMetas = _transformData4[2];\n    hideFieldRef.current = hideField;\n    dataRef.current = dataWithForeignMetas;\n    designerApi === null || designerApi === void 0 || designerApi.data.resetData(transformedData, false);\n  }, []);\n  var pubEvent = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (key, formData) {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.eventBus.emit(key, formData);\n  }, []);\n  var onApiProxy = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (api) {\n    kdesignerApi.current = _objectSpread(_objectSpread({}, api), {}, {\n      originApi: api,\n      selection: _objectSpread(_objectSpread({}, api.selection), {}, {\n        getActiveSelectedId: function getActiveSelectedId() {\n          return api.selection.getActiveSelectedId() || api.data.getRootId();\n        }\n      }),\n      controlCacheApi: _utils_controlCache__WEBPACK_IMPORTED_MODULE_30__\n    });\n    onDesignerApi({\n      kdesignerApi: kdesignerApi.current,\n      getDesignerClientType: getDesignerClientType,\n      fieldStatusMap: fieldStatusMap,\n      resetDesignerData: resetDesignerData,\n      getSystemSetting: getSystemSetting,\n      getBillnoSetting: getBillnoSetting,\n      getDisplayRules: getDisplayRules,\n      getBizRules: getBizRules,\n      getFormulaRules: getFormulaRules,\n      pubEvent: pubEvent\n    });\n  }, [onDesignerApi, getDesignerClientType, fieldStatusMap]);\n  var onDataProxy = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (data, event) {\n    dataRef.current = (0,_adaptor__WEBPACK_IMPORTED_MODULE_25__.updateDataRef)(dataRef.current, data, kdesignerApi.current, hideFieldRef.current);\n    dataRef.current.sysSetting = getSystemSetting();\n    dataRef.current.billNoSetting = getBillnoSetting();\n    dataRef.current.setting = settingData;\n    console.log('ondata------', data, dataRef.current, hideFieldRef.current);\n    onData && onData(dataRef.current, event);\n    var increaseFormulaVer = curFormulaTreeApi.current.increaseVersion;\n    var increaseListTreeVer = curListTreeApi.current.increaseVersion;\n    increaseFormulaVer();\n    increaseListTreeVer();\n  }, [settingData]);\n\n  // const getPropertyGroupVisible = (activeSelectedId: string, propertyGroupKey: string) => {\n  //   /**\n  //    * 判断选中控件有无业务逻辑属性：从meta里取业务逻辑分组的属性，如果length为0，则无业务逻辑属性\n  //    */\n  //   const { data: dataContext, meta: metaApi } = kdesignerApi.current\n  //   const field = dataContext.findControl(activeSelectedId)\n  //   if (!field) return false\n  //   const { _Type_: controlType } = field\n  //   const data = dataContext.getData()\n  //   const controlMeta = metaApi.getControlMeta(controlType)\n  //   const controlPropertyGroups = getModelData(controlMeta.Properties, { ...data, field })\n  //   const groupProperties = getMetaGroupPropertiesByKeys(controlPropertyGroups, [propertyGroupKey], (node: any) => {\n  //     return !filterProperty(field, node)\n  //   }).sort((propA, propB) => propA.GroupSubSeq - propB.GroupSubSeq)\n  //   return !!groupProperties?.length\n  // }\n\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    onDesignerApi({\n      kdesignerApi: kdesignerApi.current,\n      fieldStatusMap: fieldStatusMap,\n      getDesignerClientType: getDesignerClientType,\n      resetDesignerData: resetDesignerData,\n      getSystemSetting: getSystemSetting,\n      getBillnoSetting: getBillnoSetting,\n      getBizRules: getBizRules,\n      getDisplayRules: getDisplayRules,\n      getFormulaRules: getFormulaRules,\n      pubEvent: pubEvent\n    });\n  }, [getDesignerClientType, fieldStatusMap]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    var rootId = transformedData === null || transformedData === void 0 ? void 0 : transformedData.id;\n    // invokeAction('getFormRules', [{ formId: rootId, fieldKey: '' }])\n    // invokeAction('getBizRules', [{ formId: rootId, fieldKey: '' }])\n    enforceInvokeAction('listtreeconfig', [rootId, 'formula']);\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_33__.SET_FORM_RULES, setDisplayRules);\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_33__.SET_BIZ_RULES, setBizRules);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_33__.SET_FORM_RULES, setDisplayRules);\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_33__.SET_BIZ_RULES, setBizRules);\n    };\n  }, []);\n  var setFormulaTree = function setFormulaTree(eventArgs) {\n    var rootId = transformedData === null || transformedData === void 0 ? void 0 : transformedData.id;\n    var args = eventArgs.args,\n      data = eventArgs.data;\n    var _ref2 = args || {},\n      formId = _ref2.formId,\n      _ref2$param = _ref2.param,\n      param = _ref2$param === void 0 ? {} : _ref2$param;\n    var sourceType = param.sourceType;\n    if (formId === '' || formId === rootId) {\n      // 运算公式和非运算公式，调用不同的api\n      var api = sourceType === 'formula' ? curFormulaTreeApi.current : curListTreeApi.current;\n      var setData = api.setData,\n        setDataVersion = api.setDataVersion,\n        getVersion = api.getVersion;\n      setData(data);\n      setDataVersion(getVersion());\n    }\n  };\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_33__.SET_LIST_TREE_CONFIG, setFormulaTree);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_33__.SET_LIST_TREE_CONFIG, setFormulaTree);\n    };\n  }, []);\n  var fetchListTree = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    window.requestAnimationFrame(function () {\n      var _ref3 = type === 'formula' ? curFormulaTreeApi.current : curListTreeApi.current,\n        isVersionEqual = _ref3.isVersionEqual,\n        getVersion = _ref3.getVersion;\n      if (isVersionEqual()) return;\n      var rootId = transformedData === null || transformedData === void 0 ? void 0 : transformedData.id;\n      if (getVersion() !== 1) {\n        var args = type === 'formula' ? ['', 'formula'] : [''];\n        var postData = [{\n          nocodeformdesigner: dataRef.current\n        }];\n        invokeAction('listtreeconfig', args, postData);\n      } else {\n        var _args = type === 'formula' ? [rootId, 'formula'] : [rootId];\n        invokeAction('listtreeconfig', _args);\n      }\n    });\n  }, []);\n\n  // 初始化其它表单树数据\n  // 关联表单其它表单需要这些数据\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    console.log('refBillData', refBillData);\n    if (refBillData !== null && refBillData !== void 0 && refBillData.children) {\n      var _refBillData$children = refBillData.children,\n        children = _refBillData$children === void 0 ? [] : _refBillData$children;\n      children[0].icon = /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n        prefix: \"nocodeplatformicon\",\n        type: \"gerenzhongxin\",\n        style: {\n          color: '#3987ED'\n        }\n      });\n      children[1].icon = /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n        prefix: \"nocodeplatformicon\",\n        type: \"zuzhi\",\n        style: {\n          color: '#3987ED'\n        }\n      });\n      var _transformToTree = (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_38__.transformToTree)(children),\n        _transformToTree2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_transformToTree, 2),\n        _data = _transformToTree2[0],\n        innerForm = _transformToTree2[1];\n      dispatchBillData({\n        key: _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_37__.UPDATE_APP_FORM_LIST,\n        payload: {\n          data: _data,\n          innerForm: innerForm\n        }\n      });\n    }\n  }, [refBillData]);\n  var refBillNameMap = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    return deepGetBillName((refBillData === null || refBillData === void 0 ? void 0 : refBillData.children) || []);\n  }, [refBillData]);\n  var designerRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)({\n    getKdesignerApi: function getKdesignerApi() {\n      return kdesignerApi.current;\n    },\n    getExpressionData: function getExpressionData() {\n      return expression;\n    },\n    getRefBillData: function getRefBillData() {\n      return refBillData;\n    },\n    getRefBillNameMap: function getRefBillNameMap() {\n      return refBillNameMap;\n    },\n    getCompareTypes: function getCompareTypes() {\n      return compareTypes;\n    },\n    getDataRef: function getDataRef() {\n      return dataRef.current;\n    },\n    getCurrentRefBillPropsData: function getCurrentRefBillPropsData() {\n      return refBillPropRef.current;\n    },\n    getDisplayRules: getDisplayRules,\n    getBizRules: getBizRules,\n    getFormulaRules: getFormulaRules,\n    setCurrentRefBillPropsData: function setCurrentRefBillPropsData(form, data) {\n      refBillPropRef.current[form] = data;\n    },\n    fetchListTree: fetchListTree,\n    curFormulaTreeApi: curFormulaTreeApi.current,\n    curListTreeApi: curListTreeApi.current,\n    getSystemSetting: getSystemSetting,\n    setSystemSetting: setSystemSetting,\n    getBillnoSetting: getBillnoSetting,\n    setBillnoSetting: setBillnoSetting,\n    setDisplayRules: setDisplayRules,\n    setBizRules: setBizRules,\n    setFormulaRules: setFormulaRules,\n    getHideFieldRef: getHideFieldRef,\n    setHideFieldRef: setHideFieldRef,\n    showMessage: showMessage,\n    invokeAction: invokeAction,\n    baseUrl: baseUrl,\n    // 图片、附件的baseurl\n    prefixCls: _constants_index__WEBPACK_IMPORTED_MODULE_27__.NOCODE_DESIGNER_PREFIX_CLS,\n    getPrefixCls: function getPrefixCls(configPrefixCls, suffixCls, customizePrefixCls) {\n      var _context;\n      // 获取样式前缀方法\n      if (customizePrefixCls) return customizePrefixCls;\n      configPrefixCls = configPrefixCls || _constants_index__WEBPACK_IMPORTED_MODULE_27__.NOCODE_DESIGNER_PREFIX_CLS;\n      return suffixCls ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_8___default()(_context = \"\".concat(configPrefixCls, \"-\")).call(_context, suffixCls) : configPrefixCls;\n    },\n    getBaseHooks: function getBaseHooks(type) {\n      return (baseHooks === null || baseHooks === void 0 ? void 0 : baseHooks[type]) || function () {};\n    },\n    onDownLoad: onDownLoad,\n    addControlAction: addControlAction,\n    getControlText: getControlText,\n    batchInvoke: batchInvoke\n  });\n  var designerContextValue = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    return _objectSpread({\n      isPC: isPC,\n      setIsPC: setIsPC,\n      floatMenu: floatMenu,\n      fieldStatusSettingMode: fieldStatusSettingMode,\n      fieldStatusSettingOptions: fieldStatusSettingOptions,\n      fieldStatusMap: fieldStatusMap,\n      billPropsData: billPropsData,\n      pubUIAction: pubUIAction,\n      dispatchFieldStatus: dispatchFieldStatus,\n      dispatchBillData: dispatchBillData\n    }, designerRef.current);\n  }, [isPC, fieldStatusSettingMode, floatMenu, fieldStatusSettingOptions, fieldStatusMap, billPropsData, pubUIAction, dispatchBillData]);\n  var getRightViewVisibleKeys = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    var _context2;\n    var keys = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default()(_context2 = _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11___default()(getViews('right'))).call(_context2, function (view) {\n      return (view === null || view === void 0 ? void 0 : view.tabKey) || '';\n    });\n    var rightViewHideInfo = getHideViewSettings('Property');\n    if (!kdesignerApi.current || rightViewHideInfo === true) return keys;\n    // const { selection: selectionApi } = kdesignerApi.current\n    // const activedSelectId = selectionApi.getActiveSelectedId()\n    var newKeys = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(keys).call(keys, function (key) {\n      // if (key === 'business' && (!getPropertyGroupVisible(activedSelectId, PROPERTY_GROUP_BUSINESS_KEY) || rightViewHideInfo.includes(PROPERTY_GROUP_BUSINESS_KEY))) return false\n      // if (key === 'formstyle' && (!getPropertyGroupVisible(activedSelectId, PROPERTY_GROUP_FORMSTYLE_KEY) || rightViewHideInfo.includes(PROPERTY_GROUP_FORMSTYLE_KEY))) return false\n      return true;\n    });\n    return newKeys;\n  }, [getHideViewSettings]);\n  var getLeftViewVisibleKeys = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    var _context3;\n    var keys = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default()(_context3 = _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11___default()(getViews('left'))).call(_context3, function (view) {\n      return (view === null || view === void 0 ? void 0 : view.tabKey) || '';\n    });\n    var leftViewHideInfo = getHideViewSettings('Categories');\n    if (leftViewHideInfo === true) return keys;\n    var newKeys = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(keys).call(keys, function (key) {\n      if (leftViewHideInfo !== null && leftViewHideInfo !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_12___default()(leftViewHideInfo).call(leftViewHideInfo, key)) return false;\n      return true;\n    });\n    return newKeys;\n  }, [getHideViewSettings]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    var selectionApi = kdesignerApi.current.selection;\n    var cb = function cb() {\n      var viewsApi = kdesignerApi.current.views;\n      var leftViewVisibleKeys = viewsApi.getViewVisibleKeys('left');\n      var rightViewVisibleKeys = viewsApi.getViewVisibleKeys('right');\n      var newLeftViewKeys = getLeftViewVisibleKeys();\n      var newRightViewKeys = getRightViewVisibleKeys();\n      if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_31__.isEqual)(newLeftViewKeys, leftViewVisibleKeys)) {\n        viewsApi.setViewsVisibleSetting('left')(newLeftViewKeys);\n      }\n      if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_31__.isEqual)(newRightViewKeys, rightViewVisibleKeys)) {\n        viewsApi.setViewsVisibleSetting('right')(newRightViewKeys);\n      }\n    };\n    var subscribe = selectionApi.addSelectChangeListener(cb);\n    cb();\n    return function () {\n      subscribe && subscribe();\n    };\n  }, [settingData]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.ConfigProvider, {\n    value: kuiConfig\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_context__WEBPACK_IMPORTED_MODULE_21__.DesignerContext.Provider, {\n    value: designerContextValue\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(MemoDesigner, {\n    className: \"\".concat(_constants_index__WEBPACK_IMPORTED_MODULE_27__.NOCODE_DESIGNER_PREFIX_CLS, \"-root\"),\n    ref: kdesignerRef,\n    globalConfig: globalConfig,\n    onData: onDataProxy,\n    meta: dealMeta,\n    data: transformedData,\n    onApi: onApiProxy\n  }))));\n}));\n\n// 先暂时去掉memo\nvar MemoDesigner = (designer_base_Main__WEBPACK_IMPORTED_MODULE_14___default());\nNoCodeDesigner.displayName = 'NoCodeDesigner';\n/* harmony default export */ __webpack_exports__[\"default\"] = (NoCodeDesigner);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTAyMzYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQU1BOztBQUdBO0FBQ0E7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL2luZGV4LnRzeD9kOTg2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBGdW5jdGlvbkNvbXBvbmVudEVsZW1lbnQsIHVzZVN0YXRlLCB1c2VSZWYsIHVzZVJlZHVjZXIsIHVzZUVmZmVjdCwgbWVtbywgZm9yd2FyZFJlZiwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCBLZGVzaWduZXIsIHsgSUtEZXNpZ25lclByb3BzLCBJQXBpLCBldmVudEJ1cywgQ29udHJvbFZpZXcsIGdldE1vZGVsRGF0YSB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IENvbmZpZ1Byb3ZpZGVyIGFzIEtVSUNvbmZpZ1Byb3ZpZGVyLCBJY29uLCBNZXNzYWdlIH0gZnJvbSAnQGtkY2xvdWRqcy9rZGVzaWduJ1xuaW1wb3J0IE1haW5WaWV3IGZyb20gJy4vdmlld3MvTWFpblZpZXcnXG5pbXBvcnQgT3V0bGluZSBmcm9tICcuL3ZpZXdzL091dGxpbmUnXG5pbXBvcnQgUHJvcGVydHlWaWV3IGZyb20gJy4vdmlld3MvUHJvcGVydHlWaWV3J1xuLy8gaW1wb3J0IFByb3BlcnR5QnVzaW5lc3NWaWV3IGZyb20gJy4vdmlld3MvUHJvcGVydHlCdXNpbmVzc1ZpZXcnXG4vLyBpbXBvcnQgUHJvcGVydHlGb3JtU3R5bGVWaWV3IGZyb20gJy4vdmlld3MvUHJvcGVydHlGb3JtU3R5bGVWaWV3J1xuaW1wb3J0IFN5c3RlbUNhdGVnb3JpZXMgZnJvbSAnLi92aWV3cy9TeXN0ZW1DYXRlZ29yaWVzJ1xuLy8gaW1wb3J0IENvbWJpbmVkQ29udGVudCBmcm9tICcuL3ZpZXdzL0NvbWJpbmVkQ29udGVudCdcbmltcG9ydCBnZXRDb250cm9sSWNvbk1hcCBmcm9tICcuL3V0aWxzL2NvbnRyb2xJY29uJ1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi9jb250ZXh0J1xuaW1wb3J0IHByZUhhbmRsZSBmcm9tICcuL3ByZUhhbmRsZSdcbmltcG9ydCBnZXRQcm9wZXJ0eUVkaXRvcnMgZnJvbSAnLi9lZGl0b3JzJ1xuaW1wb3J0IGNvbnRyb2xWaWV3RW1wdHlJbWcgZnJvbSAnLi4vYXNzZXRzL2ltYWdlcy9jb250cm9sLXZpZXctZW1wdHkucG5nJ1xuaW1wb3J0IHsgYWRhcHRvck1ldGEsIHRyYW5zZm9ybURhdGEsIHVwZGF0ZURhdGFSZWYgfSBmcm9tICcuL2FkYXB0b3InXG5pbXBvcnQgeyBmaWx0ZXJQcm9wZXJ0eSB9IGZyb20gJy4vYWRhcHRvci91dGlscydcbmltcG9ydCB7IE5PQ09ERV9ERVNJR05FUl9QUkVGSVhfQ0xTIH0gZnJvbSAnLi9jb25zdGFudHMvaW5kZXgnXG5pbXBvcnQgeyBnZXRNZXRhR3JvdXBQcm9wZXJ0aWVzQnlLZXlzLCBnZXRJbml0aWFsU3lzU2V0dGluZywgZ2V0SW5pdGlhbGJpbGxub1NldHRpbmcsIGdldERhdGFQcm9wZXJ0eUJ5S2V5IH0gZnJvbSAnLi91dGlscydcbi8vIGltcG9ydCBVbmRlZmluZWRDb250cm9sIGZyb20gJy4vYXBDb250cm9scy9jb21tb24vVW5kZWZpbmVkQ29udHJvbCdcbmltcG9ydCBjYW5BZGRDYWxsYmFjayBmcm9tICcuL3V0aWxzL2NhbkFkZENhbGxiYWNrJ1xuaW1wb3J0ICogYXMgY29udHJvbENhY2hlQXBpIGZyb20gJy4vdXRpbHMvY29udHJvbENhY2hlJ1xuaW1wb3J0IHsgaXNFcXVhbCwgY2xvbmVEZWVwIH0gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IEN1c3RvbVRhYiBmcm9tICcuL2NvbXBvbmVudHMvQ3VzdG9tVGFiJ1xuaW1wb3J0IHsgU0VUX0ZPUk1fUlVMRVMsIFNFVF9CSVpfUlVMRVMsIFNFVF9MSVNUX1RSRUVfQ09ORklHIH0gZnJvbSAnLi9jb25zdGFudHMvYWN0aW9uTmFtZSdcbmltcG9ydCAnaW50ZXJzZWN0aW9uLW9ic2VydmVyJ1xuaW1wb3J0IHsgZW5hYmxlRVM1IH0gZnJvbSAnaW1tZXInXG5pbXBvcnQgeyBpbml0U3RhdGUsIHJlZHVjZXIgfSBmcm9tICcuL3JlZHVjZXInXG5pbXBvcnQgeyBJTklUX0ZPUk1fREFUQSwgVVBEQVRFX0FQUF9GT1JNX0xJU1QgfSBmcm9tICcuL3JlZHVjZXIvcmVkdWNlQ29uc3RhbnRzJ1xuaW1wb3J0IHsgdHJhbnNmb3JtVG9UcmVlIH0gZnJvbSAnLi91dGlscy9yZWZCaWxsRWRpdG9yVXRpbHMnXG5cbmltcG9ydCBzZXREcmFnSW1hZ2UgZnJvbSAnLi91dGlscy9zZXREcmFnSW1hZ2UnXG5pbXBvcnQgY3JlYXRlRGF0YUNhY2hlQXBpIGZyb20gJy4vdXRpbHMvY3JlYXRlRGF0YUNhY2hlQXBpJ1xuXG5lbmFibGVFUzUoKVxuXG5Db250cm9sVmlldy50YWJOYW1lID0gJ+WGheWuuSdcbmNvbnN0IGtleXdvcmRNYXBwaW5nID0geyAvLyDmiYDmnIltZXRh5ZKMZGF0YeWxnuaAp+WQjeWkp+Wwj+WGmem7mOiupOmFjee9rlxuICBpZDogJ0lkJyxcbiAgdHlwZTogJ19UeXBlXycsXG4gIG5hbWU6ICdOYW1lJyxcbiAga2V5OiAnS2V5JyxcbiAgcGFyZW50SWQ6ICdQYXJlbnRJZCcsXG4gIGl0ZW1zOiAnSXRlbXMnLFxuICBmaWVsZFR5cGU6ICdGaWVsZFR5cGUnLFxuICBFbnRpdHlEYXRhOiAnRW50aXR5RGF0YSdcbn1cblxuY29uc3QgZmllbGRTdGF0dXNSZWR1Y2VyID0gKHN0YXRlLCBkYXRhKSA9PiB7XG4gIHJldHVybiB7IC4uLnN0YXRlLCAuLi5kYXRhIH1cbn1cblxuY29uc3QgZGVlcEdldEJpbGxOYW1lID0gKGRhdGE6IGFueVtdKSA9PiB7XG4gIHJldHVybiBkYXRhLnJlZHVjZSgobWFwOiBhbnksIGJpbGw6IGFueSkgPT4ge1xuICAgIGNvbnN0IHsgc2VsZWN0YWJsZSwgY2hpbGRyZW4sIHZhbHVlLCBsYWJlbCB9ID0gYmlsbFxuICAgIGlmIChzZWxlY3RhYmxlICE9PSBmYWxzZSkge1xuICAgICAgbWFwW3ZhbHVlXSA9IGxhYmVsXG4gICAgfVxuICAgIGlmIChjaGlsZHJlbj8ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4geyAuLi5tYXAsIC4uLmRlZXBHZXRCaWxsTmFtZShjaGlsZHJlbikgfVxuICAgIH1cbiAgICByZXR1cm4gbWFwXG4gIH0sIHt9KVxufVxuXG5jb25zdCBOb0NvZGVEZXNpZ25lciA9IG1lbW8oXG4gIGZvcndhcmRSZWYoKHByb3BzOiBJS0Rlc2lnbmVyUHJvcHMsIGZvcndhcmRlZFJlZik6IEZ1bmN0aW9uQ29tcG9uZW50RWxlbWVudDxhbnk+ID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBkYXRhID0ge30sXG4gICAgICBtZXRhID0ge30sXG4gICAgICBvbkRhdGEsXG4gICAgICBzZXR0aW5nRGF0YSxcbiAgICAgIHNob3dNZXNzYWdlID0gKG1zZzogc3RyaW5nLCB0eXBlID0gJ3dhcm5pbmcnKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzaG93TWVzc2FnZS0tLS0tLS0nLCBtc2cpXG4gICAgICAgIE1lc3NhZ2VbdHlwZV0oe1xuICAgICAgICAgIGNvbnRlbnQ6IG1zZyxcbiAgICAgICAgICBjbG9zYWJsZTogdHlwZSA9PT0gJ2Vycm9yJyxcbiAgICAgICAgICBkdXJhdGlvbjogMjAwMCxcbiAgICAgICAgICBzdHlsZTogeyBiYWNrZ3JvdW5kOiAnI2ZmZicsIGJvcmRlckNvbG9yOiAnI2ZmZicsIGNvbG9yOiAnIzIxMjEyMScsIGJveFNoYWRvdzogJzAgNHB4IDEwcHggMXB4IHJnYmEoMCwwLDAsMC4xMiknIH1cbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICAvLyBUT0RPOiDmlL7lnKhnbG9iYWxDb25maWfph4wsIOiAjOS4jeaYr+ebtOaOpeWbnuiwgz8g5Y+vQ2xpY2vlsLHop6blj5F2YWx1ZUNoYW5nZT8g5Lmf5LiN5ZCI55CGXG4gICAgICBoYW5kbGVDdXN0b21JbnB1dEVkaXRvciA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdoYW5kbGVDdXN0b21JbnB1dEVkaXRvci0tLS0tLS0nLCBhcmdzKVxuICAgICAgfSxcbiAgICAgIGludm9rZUFjdGlvbiA9IChhY3Rpb25OYW1lOiBzdHJpbmcsIGFyZ3M6YW55LCBwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnaW52b2tlQWN0aW9uLS0tLS0tLScsIGFjdGlvbk5hbWUsIHBhcmFtcylcbiAgICAgIH0sXG4gICAgICBlbmZvcmNlSW52b2tlQWN0aW9uID0gKGFjdGlvbk5hbWU6IHN0cmluZywgYXJnczphbnksIHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlbmZvcmNlSW52b2tlQWN0aW9uLS0tLS0tLScsIGFjdGlvbk5hbWUsIHBhcmFtcylcbiAgICAgIH0sXG4gICAgICBiYXNlSG9va3MsXG4gICAgICBiYXNlVXJsLCAvLyDlm77niYfjgIHpmYTku7bnmoRiYXNldXJsXG4gICAgICBvbkFwaTogb25EZXNpZ25lckFwaSxcbiAgICAgIG9uRG93bkxvYWQsXG4gICAgICBhZGRDb250cm9sQWN0aW9uLFxuICAgICAgZ2V0Q29udHJvbFRleHQsXG4gICAgICBiYXRjaEludm9rZSxcbiAgICAgIGZsb2F0TWVudSxcbiAgICAgIGRlZmF1bHRGaWVsZFN0YXR1c01hcCA9IHt9LFxuICAgICAgZmllbGRTdGF0dXNTZXR0aW5nTW9kZSA9IGZhbHNlLCAvLyDmnYPpmZDnrqHnkIbmqKHlvI/vvIjnlKjkuo7phY3nva7lrZfmrrXnmoTmnYPpmZDvvIlcbiAgICAgIGZpZWxkU3RhdHVzU2V0dGluZ09wdGlvbnMsXG4gICAgICBleHByZXNzaW9uID0gW10sXG4gICAgICByZWZCaWxsRGF0YSA9IFtdLFxuICAgICAgdGFibGVNZXRhcyA9IFtdLFxuICAgICAgY29tcGFyZVR5cGVzID0ge30sXG4gICAgICBuY3BUb29sS2l0cyA9IHt9IC8vIOaXoOS7o+eggeW5s+WPsOebuOWFs2FwaVxuICAgIH0gPSBwcm9wc1xuICAgIGNvbnN0IFtpc1BDLCBzZXRJc1BDXSA9IHVzZVN0YXRlKHRydWUpXG4gICAgY29uc3Qga2Rlc2lnbmVyQXBpID0gdXNlUmVmPElBcGk+KG51bGwpXG4gICAgY29uc3QgZGF0YVJlZiA9IHVzZVJlZihkYXRhKVxuICAgIGNvbnN0IGhpZGVGaWVsZFJlZiA9IHVzZVJlZih7fSkgLy8g6ZqQ6JeP5o6n5Lu26ZuG5ZCIIGtleTrmjqfku7ZpZO+8jHZhbHVlOiDmjqfku7bkv6Hmga9cbiAgICBjb25zdCByZWZCaWxsUHJvcFJlZiA9IHVzZVJlZihbXSlcbiAgICBjb25zdCBbYmlsbFByb3BzRGF0YSwgZGlzcGF0Y2hCaWxsRGF0YV0gPSB1c2VSZWR1Y2VyKHJlZHVjZXIsIGluaXRTdGF0ZSlcbiAgICBjb25zdCBiaWxsUHJvcHNEYXRhUmVmID0gdXNlUmVmKHt9KVxuICAgIGNvbnN0IGtkZXNpZ25lclJlZiA9IHVzZVJlZihudWxsKVxuICAgIGNvbnN0IHN5c1NldHRpbmdSZWYgPSB1c2VSZWYoZ2V0SW5pdGlhbFN5c1NldHRpbmcoZGF0YSwgbWV0YSkpXG4gICAgY29uc3QgYmlsbG5vU2V0dGluZ1JlZiA9IHVzZVJlZihnZXRJbml0aWFsYmlsbG5vU2V0dGluZyhkYXRhKSlcbiAgICBjb25zdCBkaXNwbGF5UnVsZXNSZWYgPSB1c2VSZWY8YW55W10+KGdldERhdGFQcm9wZXJ0eUJ5S2V5KGRhdGEsICdkaXNwbGF5UnVsZXMnKSB8fCBbXSlcbiAgICBjb25zdCBiaXpSdWxlc1JlZiA9IHVzZVJlZjxhbnlbXT4oZ2V0RGF0YVByb3BlcnR5QnlLZXkoZGF0YSwgJ2JpelJ1bGVzJykgfHwgW10pXG4gICAgY29uc3QgZm9ybXVsYVJ1bGVzUmVmID0gdXNlUmVmPGFueT4oZ2V0RGF0YVByb3BlcnR5QnlLZXkoZGF0YSwgJ2Zvcm11bGFSdWxlcycpIHx8IHt9KVxuICAgIGNvbnN0IFtmaWVsZFN0YXR1c01hcCwgZGlzcGF0Y2hGaWVsZFN0YXR1c10gPSB1c2VSZWR1Y2VyKGZpZWxkU3RhdHVzUmVkdWNlciwgZGVmYXVsdEZpZWxkU3RhdHVzTWFwIHx8IHt9KVxuICAgIGNvbnN0IGN1ckZvcm11bGFUcmVlQXBpID0gdXNlUmVmKGNyZWF0ZURhdGFDYWNoZUFwaSgpKVxuICAgIGNvbnN0IGN1ckxpc3RUcmVlQXBpID0gdXNlUmVmKGNyZWF0ZURhdGFDYWNoZUFwaSgpKVxuXG4gICAgY29uc29sZS5sb2coJ25vY29kZSBkZXNpZ25lcicsIHByb3BzKVxuICAgIGNvbnN0IHByb2Nlc3NQcm9wZXJ0eU5hbWUgPSB1c2VDYWxsYmFjaygodmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgfSwgW10pXG5cbiAgICBjb25zdCBkZWFsTWV0YSA9IHVzZU1lbW8oKCkgPT4gYWRhcHRvck1ldGEobWV0YSwgZGF0YS5mb3JtbWV0YSksIFtdKSAvLyBtZXRh5LiN5Lya5pu05pS5XG4gICAgY29uc3QgdHJhbnNmb3JtZWREYXRhID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAvLyDlsIblpJbooajnmoRNRVRB5pWw5o2u5qC85byP6L2s5o2i5oiQ5a+56LGhXG4gICAgICBjb25zdCBmb3JlaWduTWV0YXMgPSB0YWJsZU1ldGFzLnJlZHVjZSgocmVzdWx0OmFueSwgaXRlbTphbnkpID0+IHtcbiAgICAgICAgLy8g6ZyA6KaB5Yik5pat5aSW6YOo6KGo5Y2V6KKr5Yig6Zmk55qE5Zy65pmvXG4gICAgICAgIHJldHVybiBpdGVtPy5iaWxsRW50aXR5SWRFeCA/IHsgLi4ucmVzdWx0LCBbaXRlbS5iaWxsRW50aXR5SWRFeF06IGl0ZW0uZGF0YSB9IDogcmVzdWx0XG4gICAgICB9LCB7fSlcbiAgICAgIGNvbnN0IFtuZXdEYXRhLCBoaWRkZW5GaWVsZCwgZGF0YVdpdGhGb3JlaWduTWV0YXNdID0gdHJhbnNmb3JtRGF0YShkYXRhLCBjbG9uZURlZXAoZm9yZWlnbk1ldGFzKSlcbiAgICAgIGhpZGVGaWVsZFJlZi5jdXJyZW50ID0gaGlkZGVuRmllbGRcbiAgICAgIGRhdGFSZWYuY3VycmVudCA9IGRhdGFXaXRoRm9yZWlnbk1ldGFzXG4gICAgICAvLyDlkIzml7bmm7TmlrBLROWxgueahOaVsOaNrlxuICAgICAgb25EYXRhPy4oZGF0YVdpdGhGb3JlaWduTWV0YXMpXG4gICAgICBjb25zb2xlLmxvZygndXBkYXRlZGF0YScsIG5ld0RhdGEsIGRhdGFSZWYuY3VycmVudCwgaGlkZGVuRmllbGQsIGZvcmVpZ25NZXRhcylcbiAgICAgIE9iamVjdC5rZXlzKGZvcmVpZ25NZXRhcykubGVuZ3RoICYmIGRpc3BhdGNoQmlsbERhdGEoeyBrZXk6IElOSVRfRk9STV9EQVRBLCBwYXlsb2FkOiBmb3JlaWduTWV0YXMgfSlcbiAgICAgIHJldHVybiBuZXdEYXRhXG4gICAgfSwgW2RhdGEsIHRhYmxlTWV0YXNdKVxuXG4gICAgY29uc29sZS5sb2coJ2RlYWxNZXRhLS0tLS0tLScsIGRlYWxNZXRhLCBiaWxsUHJvcHNEYXRhLCB0cmFuc2Zvcm1lZERhdGEpXG5cbiAgICAvLyDojrflj5ZzdG9yZeeahOWFs+iBlOihqOWNleaVsOaNrlxuICAgIC8vIHByZWhhbmRsZemHjGJpbGxQcm9wc0RhdGHkvKDov5vljrvlkI7kuI3mm7TmlrBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgYmlsbFByb3BzRGF0YVJlZi5jdXJyZW50ID0gYmlsbFByb3BzRGF0YVxuICAgIH0sIFtiaWxsUHJvcHNEYXRhXSlcbiAgICAvLyDojrflj5bpmpDol4/mjqfku7ZcbiAgICBjb25zdCBnZXRIaWRlRmllbGRSZWYgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnZ2V0SGlkZUZpZWxkUmVmJywgaGlkZUZpZWxkUmVmLmN1cnJlbnQpXG4gICAgICByZXR1cm4gY2xvbmVEZWVwKGhpZGVGaWVsZFJlZi5jdXJyZW50KVxuICAgIH0sIFtdKVxuICAgIC8vIOiuvue9rumakOiXj+aOp+S7tlxuICAgIGNvbnN0IHNldEhpZGVGaWVsZFJlZiA9IHVzZUNhbGxiYWNrKChkYXRhOmFueSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3NldEhpZGVGaWVsZFJlZicsIGRhdGEpXG4gICAgICBoaWRlRmllbGRSZWYuY3VycmVudCA9IGRhdGFcbiAgICB9LCBbXSlcblxuICAgIC8qKlxuICAgICAqIOi/lOWbnnRydWXnmoTml7blgJnvvIzliJnpmpDol4/mlbTkuKrop4blm75cbiAgICAgKiDov5Tlm57mlbDnu4TnmoTml7blgJnvvIzliJnpmpDol4/lr7nlupTnmoTmn5DkuKrlrZDop4blm75cbiAgICAgKi9cbiAgICBjb25zdCBnZXRIaWRlVmlld1NldHRpbmdzID0gdXNlQ2FsbGJhY2soKGtleTogc3RyaW5nKTogYm9vbGVhbiB8IHN0cmluZ1tdID0+IHtcbiAgICAgIGNvbnN0IHsgdmFsdWUsIGl0ZW1zID0gW10gfSA9IHNldHRpbmdEYXRhPy5ba2V5XSB8fCB7fVxuXG4gICAgICBpZiAoIXZhbHVlKSByZXR1cm4gdHJ1ZVxuXG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMoaXRlbXMpLnJlZHVjZSgocHJldmlvdXNWYWx1ZSwgY3VycmVudFZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChpdGVtc1tjdXJyZW50VmFsdWVdLnZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgIHByZXZpb3VzVmFsdWUucHVzaChjdXJyZW50VmFsdWUpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByZXZpb3VzVmFsdWVcbiAgICAgIH0sIFtdKVxuICAgIH0sIFtzZXR0aW5nRGF0YV0pXG5cbiAgICBjb25zdCBwdWJVSUFjdGlvbiA9IHVzZUNhbGxiYWNrKChkYXRhOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHsgcHVibGlzaFVzZXJFdmVudCB9ID0gbmNwVG9vbEtpdHNcbiAgICAgIGNvbnN0IHsgYml6YXBwSWQ6IGFwcElkLCBpZDogZm9ybUlkIH0gPSB0cmFuc2Zvcm1lZERhdGFcbiAgICAgIGNvbnN0IGFjdGlvbiA9IHtcbiAgICAgICAgYXBwSWQsXG4gICAgICAgIGZvcm1JZCxcbiAgICAgICAgLi4uZGF0YVxuICAgICAgfVxuICAgICAgcHVibGlzaFVzZXJFdmVudChhY3Rpb24pXG4gICAgfSwgW25jcFRvb2xLaXRzXSlcblxuICAgIGNvbnN0IGdldFZpZXdzID0gdXNlQ2FsbGJhY2soKHZpZXdOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgIHN3aXRjaCAodmlld05hbWUpIHtcbiAgICAgICAgY2FzZSAnbWFpbic6IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWFpbjogTWFpblZpZXdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnbGVmdCc6IHtcbiAgICAgICAgICBjb25zdCBsZWZ0VmlldyA9IHtcbiAgICAgICAgICAgIGNvbnRyb2w6IENvbnRyb2xWaWV3LFxuICAgICAgICAgICAgc3lzdGVtQ2F0ZWdvcmllczogU3lzdGVtQ2F0ZWdvcmllcyxcbiAgICAgICAgICAgIG91dGxpbmU6IE91dGxpbmVcbiAgICAgICAgICAgIC8vIGNvbWJpbmVkY29udGVudDogQ29tYmluZWRDb250ZW50LFxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBsZWZ0Vmlld1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3JpZ2h0Jzoge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm9wZXJ0eTogUHJvcGVydHlWaWV3XG4gICAgICAgICAgICAvLyBidXNpbmVzczogUHJvcGVydHlCdXNpbmVzc1ZpZXcsXG4gICAgICAgICAgICAvLyBmb3Jtc3R5bGU6IFByb3BlcnR5Rm9ybVN0eWxlVmlld1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgcmV0dXJuIHt9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbXSlcbiAgICBjb25zdCBnbG9iYWxDb25maWcgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgICBzaG93TWVzc2FnZSxcbiAgICAgIGdldFZpZXdzLFxuICAgICAgcHJvY2Vzc1Byb3BlcnR5TmFtZSxcbiAgICAgIGtleXdvcmRNYXBwaW5nLFxuICAgICAgZW5hYmxlU2VhcmNoOiB0cnVlLFxuICAgICAgZW5hYmxlRXJyb3I6IHRydWUsXG4gICAgICBkYXRhUG9ydGFsSWRQcmVmaXg6ICdub2NvZGUtZGVzaWduZXItdG9wLXZpZXcnLFxuICAgICAgY29udHJvbFZpZXdTZXR0aW5nOiB7XG4gICAgICAgIGNsYXNzTmFtZTogYCR7Tk9DT0RFX0RFU0lHTkVSX1BSRUZJWF9DTFN9LWNvbnRyb2wtdmlld2AsXG4gICAgICAgIGhpZGVIZWxwSWNvbjogdHJ1ZSxcbiAgICAgICAgaGlkZUFuY2hvckljb246IHRydWUsXG4gICAgICAgIGhpZGVUaXRsZVRpcHM6IHRydWUsIC8vIOmakOiXj3RpdGxl5bGe5oCnXG4gICAgICAgIHNlYXJjaElucHV0UGxhY2Vob2xkZXI6ICflhoXlrrknLFxuICAgICAgICBmaWx0ZXJDYXRlZ29yaWVzOiAoY2F0ZWdvcmllczogYW55W10pID0+IHtcbiAgICAgICAgICByZXR1cm4gY2F0ZWdvcmllcy5maWx0ZXIoY2F0ZWdvcnkgPT4gIWNhdGVnb3J5Py5JZD8uc3RhcnRzV2l0aCgnU3lzdGVtXycpKVxuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVJdGVtQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICBwdWJVSUFjdGlvbih7XG4gICAgICAgICAgICBldmVudE5hbWU6ICdjbGljaycsXG4gICAgICAgICAgICBhY3Rpb246ICdmZF9hZGRfY2xpY2snXG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0RW1wdHlWaWV3OiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxpbWcgc3JjPXtjb250cm9sVmlld0VtcHR5SW1nfSBhbHQ9J+aQnOe0ouaXoOe7k+aenCcgY2xhc3NOYW1lPXtgJHtOT0NPREVfREVTSUdORVJfUFJFRklYX0NMU30tY29udHJvbC1lbXB0eS1pbWdgfSAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Ake05PQ09ERV9ERVNJR05FUl9QUkVGSVhfQ0xTfS1jb250cm9sLWVtcHR5LWltZ2B9PlxuICAgICAgICAgICAgICAgIOaaguaXoOaQnOe0oue7k+aenFxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApXG4gICAgICAgIH0sXG4gICAgICAgIGhpZGVJdGVtVmlldzogZ2V0SGlkZVZpZXdTZXR0aW5ncygnQ2F0ZWdvcmllcycpLFxuICAgICAgICBvbkRyYWdTdGFydDogKGV2ZW50OiBnbG9iYWxUaGlzLkRyYWdFdmVudCwgY29udHJvbFR5cGU6IHN0cmluZywgY29udHJvbE5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICAgIHNldERyYWdJbWFnZShldmVudCwgY29udHJvbFR5cGUsIGNvbnRyb2xOYW1lKVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcHJvcGVydHlWaWV3U2V0dGluZzoge1xuICAgICAgICBjbGFzc05hbWU6IGAke05PQ09ERV9ERVNJR05FUl9QUkVGSVhfQ0xTfS1wcm9wZXJ0eS12aWV3YCxcbiAgICAgICAgLy8gY29sbGFwc2FibGU6IGZhbHNlLFxuICAgICAgICBoaWRlSXRlbVZpZXc6IGdldEhpZGVWaWV3U2V0dGluZ3MoJ1Byb3BlcnR5JylcbiAgICAgIH0sXG4gICAgICBnZXRPdXRsaW5lSXRlbUljb24gKHR5cGU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gPEljb24gcHJlZml4PSdkZXNpZ25lcmljb24nIHR5cGU9e2dldENvbnRyb2xJY29uTWFwKHR5cGUpfSBjbGFzc05hbWU9J25vY29kZS1kZXNpZ25lci1jb250cm9sLWljb24nIC8+XG4gICAgICB9LFxuICAgICAgY2FuQWRkQ2FsbGJhY2s6IGNhbkFkZENhbGxiYWNrKHsgLy8g5LiN5Lya6ZSZ6K+v5o+Q6YaSXG4gICAgICAgIHNob3dNZXNzYWdlLFxuICAgICAgICBrZGVzaWduZXJBcGksXG4gICAgICAgIGtleXdvcmRNYXBwaW5nXG4gICAgICB9KSxcbiAgICAgIHByZUhhbmRsZTogKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgcmV0dXJuIHByZUhhbmRsZSguLi5hcmdzLCB7XG4gICAgICAgICAgLi4uKGtkZXNpZ25lckFwaS5jdXJyZW50IHx8IHt9KSxcbiAgICAgICAgICBiaWxsUHJvcHNEYXRhOiBiaWxsUHJvcHNEYXRhUmVmLmN1cnJlbnQsXG4gICAgICAgICAgaW52b2tlQWN0aW9uLFxuICAgICAgICAgIGdldEhpZGVGaWVsZFJlZixcbiAgICAgICAgICBzZXRIaWRlRmllbGRSZWYsXG4gICAgICAgICAgZGlzcGF0Y2hCaWxsRGF0YVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIGdldFByb3BlcnR5RWRpdG9ycyxcbiAgICAgIGZpbHRlclByb3BlcnR5LFxuICAgICAgcmVuZGVyQ3VzdG9tVGFiIChhY3RpdmVUYWIsIHRhYkRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3RhYkRhdGEnLCB0YWJEYXRhKVxuICAgICAgICByZXR1cm4gPEN1c3RvbVRhYiB7Li4udGFiRGF0YX0gLz5cbiAgICAgIH1cbiAgICB9KSwgW1xuICAgICAgc2hvd01lc3NhZ2UsXG4gICAgICBnZXRWaWV3cyxcbiAgICAgIHByb2Nlc3NQcm9wZXJ0eU5hbWUsXG4gICAgICBnZXRQcm9wZXJ0eUVkaXRvcnMsXG4gICAgICBnZXRIaWRlVmlld1NldHRpbmdzLFxuICAgICAgZ2V0SGlkZUZpZWxkUmVmLFxuICAgICAgc2V0SGlkZUZpZWxkUmVmLFxuICAgICAgZGlzcGF0Y2hCaWxsRGF0YVxuICAgIF0pXG5cbiAgICBjb25zdCBrdWlDb25maWcgPSB7XG4gICAgICBwcmVmaXhDbHM6ICdrZGVzaWduZXInXG4gICAgfVxuXG4gICAgY29uc3QgZ2V0U3lzdGVtU2V0dGluZyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIHJldHVybiBzeXNTZXR0aW5nUmVmLmN1cnJlbnRcbiAgICB9LCBbXSlcblxuICAgIGNvbnN0IHNldFN5c3RlbVNldHRpbmcgPSB1c2VDYWxsYmFjaygoZGF0YTogYW55KSA9PiB7XG4gICAgICBzeXNTZXR0aW5nUmVmLmN1cnJlbnQgPSBkYXRhXG4gICAgICBkYXRhUmVmLmN1cnJlbnQuc3lzU2V0dGluZyA9IGRhdGFcbiAgICAgIGNvbnN0IHsgaW5jcmVhc2VWZXJzaW9uOiBpbmNyZWFzZUZvcm11bGFWZXIgfSA9IGN1ckZvcm11bGFUcmVlQXBpLmN1cnJlbnRcbiAgICAgIGNvbnN0IHsgaW5jcmVhc2VWZXJzaW9uOiBpbmNyZWFzZUxpc3RUcmVlVmVyIH0gPSBjdXJMaXN0VHJlZUFwaS5jdXJyZW50XG4gICAgICBpbmNyZWFzZUZvcm11bGFWZXIoKVxuICAgICAgaW5jcmVhc2VMaXN0VHJlZVZlcigpXG4gICAgfSwgW10pXG5cbiAgICBjb25zdCBnZXRCaWxsbm9TZXR0aW5nID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgcmV0dXJuIGJpbGxub1NldHRpbmdSZWYuY3VycmVudFxuICAgIH0sIFtdKVxuXG4gICAgY29uc3Qgc2V0QmlsbG5vU2V0dGluZyA9IHVzZUNhbGxiYWNrKChkYXRhOiBhbnkpID0+IHtcbiAgICAgIGJpbGxub1NldHRpbmdSZWYuY3VycmVudCA9IGRhdGFcbiAgICAgIGRhdGFSZWYuY3VycmVudC5iaWxsTm9TZXR0aW5nID0gZGF0YVxuICAgICAgY29uc3QgeyBpbmNyZWFzZVZlcnNpb246IGluY3JlYXNlRm9ybXVsYVZlciB9ID0gY3VyRm9ybXVsYVRyZWVBcGkuY3VycmVudFxuICAgICAgY29uc3QgeyBpbmNyZWFzZVZlcnNpb246IGluY3JlYXNlTGlzdFRyZWVWZXIgfSA9IGN1ckxpc3RUcmVlQXBpLmN1cnJlbnRcbiAgICAgIGluY3JlYXNlRm9ybXVsYVZlcigpXG4gICAgICBpbmNyZWFzZUxpc3RUcmVlVmVyKClcbiAgICB9LCBbXSlcblxuICAgIGNvbnN0IGdldERpc3BsYXlSdWxlcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIHJldHVybiBkaXNwbGF5UnVsZXNSZWYuY3VycmVudFxuICAgIH0sIFtdKVxuXG4gICAgY29uc3Qgc2V0RGlzcGxheVJ1bGVzID0gdXNlQ2FsbGJhY2soKGRhdGE6IGFueVtdKSA9PiB7XG4gICAgICBkaXNwbGF5UnVsZXNSZWYuY3VycmVudCA9IGRhdGFcbiAgICB9LCBbXSlcblxuICAgIGNvbnN0IGdldEJpelJ1bGVzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgcmV0dXJuIGJpelJ1bGVzUmVmLmN1cnJlbnRcbiAgICB9LCBbXSlcblxuICAgIGNvbnN0IHNldEJpelJ1bGVzID0gdXNlQ2FsbGJhY2soKGRhdGE6IGFueVtdKSA9PiB7XG4gICAgICBiaXpSdWxlc1JlZi5jdXJyZW50ID0gZGF0YVxuICAgIH0sIFtdKVxuXG4gICAgY29uc3QgZ2V0Rm9ybXVsYVJ1bGVzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgcmV0dXJuIGZvcm11bGFSdWxlc1JlZi5jdXJyZW50XG4gICAgfSwgW10pXG5cbiAgICBjb25zdCBzZXRGb3JtdWxhUnVsZXMgPSB1c2VDYWxsYmFjaygoZGF0YTogYW55W10pID0+IHtcbiAgICAgIGZvcm11bGFSdWxlc1JlZi5jdXJyZW50ID0gZGF0YVxuICAgIH0sIFtdKVxuXG4gICAgY29uc3QgZ2V0RGVzaWduZXJDbGllbnRUeXBlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgcmV0dXJuIGlzUEMgPyAncGMnIDogJ21vYmlsZSdcbiAgICB9LCBbaXNQQ10pXG5cbiAgICBjb25zdCByZXNldERlc2lnbmVyRGF0YSA9IHVzZUNhbGxiYWNrKChuZXdEYXRhOiBhbnksIGRlc2lnbmVyQXBpOiBJQXBpKSA9PiB7XG4gICAgICAvLyB0cmFuc2Zvcm1EYXRhIOmcgOimgeS8oOWFpXN0b3Jl6YeM55qE5aSW6YOo6KGo5Y2V55qE5pWw5o2uXG4gICAgICBjb25zdCBmb3JnaW5NZXRhOmFueSA9IGNsb25lRGVlcChiaWxsUHJvcHNEYXRhUmVmLmN1cnJlbnQpXG4gICAgICBjb25zdCBtZXRhcyA9IE9iamVjdC5lbnRyaWVzKGZvcmdpbk1ldGEpLnJlZHVjZSgocHJldjphbnksIGl0ZW06YW55KSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtWzFdPy5kYXRhID8geyAuLi5wcmV2LCBbaXRlbVswXV06IGl0ZW1bMV0uZGF0YSB9IDogcHJldlxuICAgICAgfSwge30pXG4gICAgICBjb25zdCBbdHJhbnNmb3JtZWREYXRhLCBoaWRlRmllbGQsIGRhdGFXaXRoRm9yZWlnbk1ldGFzXSA9IHRyYW5zZm9ybURhdGEobmV3RGF0YSwgbWV0YXMpXG4gICAgICBoaWRlRmllbGRSZWYuY3VycmVudCA9IGhpZGVGaWVsZFxuICAgICAgZGF0YVJlZi5jdXJyZW50ID0gZGF0YVdpdGhGb3JlaWduTWV0YXNcbiAgICAgIGRlc2lnbmVyQXBpPy5kYXRhLnJlc2V0RGF0YSh0cmFuc2Zvcm1lZERhdGEsIGZhbHNlKVxuICAgIH0sIFtdKVxuXG4gICAgY29uc3QgcHViRXZlbnQgPSB1c2VDYWxsYmFjaygoa2V5OnN5bWJvbCwgZm9ybURhdGE6IGFueSkgPT4ge1xuICAgICAgZXZlbnRCdXMuZW1pdChrZXksIGZvcm1EYXRhKVxuICAgIH0sIFtdKVxuXG4gICAgY29uc3Qgb25BcGlQcm94eSA9IHVzZUNhbGxiYWNrKChhcGk6IElBcGkpID0+IHtcbiAgICAgIGtkZXNpZ25lckFwaS5jdXJyZW50ID0ge1xuICAgICAgICAuLi5hcGksXG4gICAgICAgIG9yaWdpbkFwaTogYXBpLFxuICAgICAgICBzZWxlY3Rpb246IHtcbiAgICAgICAgICAuLi5hcGkuc2VsZWN0aW9uLFxuICAgICAgICAgIGdldEFjdGl2ZVNlbGVjdGVkSWQ6ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhcGkuc2VsZWN0aW9uLmdldEFjdGl2ZVNlbGVjdGVkSWQoKSB8fCBhcGkuZGF0YS5nZXRSb290SWQoKVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY29udHJvbENhY2hlQXBpXG4gICAgICB9XG4gICAgICBvbkRlc2lnbmVyQXBpKHtcbiAgICAgICAga2Rlc2lnbmVyQXBpOiBrZGVzaWduZXJBcGkuY3VycmVudCxcbiAgICAgICAgZ2V0RGVzaWduZXJDbGllbnRUeXBlLFxuICAgICAgICBmaWVsZFN0YXR1c01hcCxcbiAgICAgICAgcmVzZXREZXNpZ25lckRhdGEsXG4gICAgICAgIGdldFN5c3RlbVNldHRpbmcsXG4gICAgICAgIGdldEJpbGxub1NldHRpbmcsXG4gICAgICAgIGdldERpc3BsYXlSdWxlcyxcbiAgICAgICAgZ2V0Qml6UnVsZXMsXG4gICAgICAgIGdldEZvcm11bGFSdWxlcyxcbiAgICAgICAgcHViRXZlbnRcbiAgICAgIH0pXG4gICAgfSwgW29uRGVzaWduZXJBcGksIGdldERlc2lnbmVyQ2xpZW50VHlwZSwgZmllbGRTdGF0dXNNYXBdKVxuXG4gICAgY29uc3Qgb25EYXRhUHJveHkgPSB1c2VDYWxsYmFjaygoZGF0YSwgZXZlbnQpID0+IHtcbiAgICAgIGRhdGFSZWYuY3VycmVudCA9IHVwZGF0ZURhdGFSZWYoZGF0YVJlZi5jdXJyZW50LCBkYXRhLCBrZGVzaWduZXJBcGkuY3VycmVudCwgaGlkZUZpZWxkUmVmLmN1cnJlbnQpXG4gICAgICBkYXRhUmVmLmN1cnJlbnQuc3lzU2V0dGluZyA9IGdldFN5c3RlbVNldHRpbmcoKVxuICAgICAgZGF0YVJlZi5jdXJyZW50LmJpbGxOb1NldHRpbmcgPSBnZXRCaWxsbm9TZXR0aW5nKClcbiAgICAgIGRhdGFSZWYuY3VycmVudC5zZXR0aW5nID0gc2V0dGluZ0RhdGFcbiAgICAgIGNvbnNvbGUubG9nKCdvbmRhdGEtLS0tLS0nLCBkYXRhLCBkYXRhUmVmLmN1cnJlbnQsIGhpZGVGaWVsZFJlZi5jdXJyZW50KVxuICAgICAgb25EYXRhICYmIG9uRGF0YShkYXRhUmVmLmN1cnJlbnQsIGV2ZW50KVxuICAgICAgY29uc3QgeyBpbmNyZWFzZVZlcnNpb246IGluY3JlYXNlRm9ybXVsYVZlciB9ID0gY3VyRm9ybXVsYVRyZWVBcGkuY3VycmVudFxuICAgICAgY29uc3QgeyBpbmNyZWFzZVZlcnNpb246IGluY3JlYXNlTGlzdFRyZWVWZXIgfSA9IGN1ckxpc3RUcmVlQXBpLmN1cnJlbnRcbiAgICAgIGluY3JlYXNlRm9ybXVsYVZlcigpXG4gICAgICBpbmNyZWFzZUxpc3RUcmVlVmVyKClcbiAgICB9LCBbc2V0dGluZ0RhdGFdKVxuXG4gICAgLy8gY29uc3QgZ2V0UHJvcGVydHlHcm91cFZpc2libGUgPSAoYWN0aXZlU2VsZWN0ZWRJZDogc3RyaW5nLCBwcm9wZXJ0eUdyb3VwS2V5OiBzdHJpbmcpID0+IHtcbiAgICAvLyAgIC8qKlxuICAgIC8vICAgICog5Yik5pat6YCJ5Lit5o6n5Lu25pyJ5peg5Lia5Yqh6YC76L6R5bGe5oCn77ya5LuObWV0YemHjOWPluS4muWKoemAu+i+keWIhue7hOeahOWxnuaAp++8jOWmguaenGxlbmd0aOS4ujDvvIzliJnml6DkuJrliqHpgLvovpHlsZ7mgKdcbiAgICAvLyAgICAqL1xuICAgIC8vICAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCwgbWV0YTogbWV0YUFwaSB9ID0ga2Rlc2lnbmVyQXBpLmN1cnJlbnRcbiAgICAvLyAgIGNvbnN0IGZpZWxkID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woYWN0aXZlU2VsZWN0ZWRJZClcbiAgICAvLyAgIGlmICghZmllbGQpIHJldHVybiBmYWxzZVxuICAgIC8vICAgY29uc3QgeyBfVHlwZV86IGNvbnRyb2xUeXBlIH0gPSBmaWVsZFxuICAgIC8vICAgY29uc3QgZGF0YSA9IGRhdGFDb250ZXh0LmdldERhdGEoKVxuICAgIC8vICAgY29uc3QgY29udHJvbE1ldGEgPSBtZXRhQXBpLmdldENvbnRyb2xNZXRhKGNvbnRyb2xUeXBlKVxuICAgIC8vICAgY29uc3QgY29udHJvbFByb3BlcnR5R3JvdXBzID0gZ2V0TW9kZWxEYXRhKGNvbnRyb2xNZXRhLlByb3BlcnRpZXMsIHsgLi4uZGF0YSwgZmllbGQgfSlcbiAgICAvLyAgIGNvbnN0IGdyb3VwUHJvcGVydGllcyA9IGdldE1ldGFHcm91cFByb3BlcnRpZXNCeUtleXMoY29udHJvbFByb3BlcnR5R3JvdXBzLCBbcHJvcGVydHlHcm91cEtleV0sIChub2RlOiBhbnkpID0+IHtcbiAgICAvLyAgICAgcmV0dXJuICFmaWx0ZXJQcm9wZXJ0eShmaWVsZCwgbm9kZSlcbiAgICAvLyAgIH0pLnNvcnQoKHByb3BBLCBwcm9wQikgPT4gcHJvcEEuR3JvdXBTdWJTZXEgLSBwcm9wQi5Hcm91cFN1YlNlcSlcbiAgICAvLyAgIHJldHVybiAhIWdyb3VwUHJvcGVydGllcz8ubGVuZ3RoXG4gICAgLy8gfVxuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIG9uRGVzaWduZXJBcGkoe1xuICAgICAgICBrZGVzaWduZXJBcGk6IGtkZXNpZ25lckFwaS5jdXJyZW50LFxuICAgICAgICBmaWVsZFN0YXR1c01hcCxcbiAgICAgICAgZ2V0RGVzaWduZXJDbGllbnRUeXBlLFxuICAgICAgICByZXNldERlc2lnbmVyRGF0YSxcbiAgICAgICAgZ2V0U3lzdGVtU2V0dGluZyxcbiAgICAgICAgZ2V0QmlsbG5vU2V0dGluZyxcbiAgICAgICAgZ2V0Qml6UnVsZXMsXG4gICAgICAgIGdldERpc3BsYXlSdWxlcyxcbiAgICAgICAgZ2V0Rm9ybXVsYVJ1bGVzLFxuICAgICAgICBwdWJFdmVudFxuICAgICAgfSlcbiAgICB9LCBbZ2V0RGVzaWduZXJDbGllbnRUeXBlLCBmaWVsZFN0YXR1c01hcF0pXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3Qgcm9vdElkID0gdHJhbnNmb3JtZWREYXRhPy5pZFxuICAgICAgLy8gaW52b2tlQWN0aW9uKCdnZXRGb3JtUnVsZXMnLCBbeyBmb3JtSWQ6IHJvb3RJZCwgZmllbGRLZXk6ICcnIH1dKVxuICAgICAgLy8gaW52b2tlQWN0aW9uKCdnZXRCaXpSdWxlcycsIFt7IGZvcm1JZDogcm9vdElkLCBmaWVsZEtleTogJycgfV0pXG4gICAgICBlbmZvcmNlSW52b2tlQWN0aW9uKFxuICAgICAgICAnbGlzdHRyZWVjb25maWcnLFxuICAgICAgICBbcm9vdElkLCAnZm9ybXVsYSddXG4gICAgICApXG4gICAgfSwgW10pXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgZXZlbnRCdXMub24oU0VUX0ZPUk1fUlVMRVMsIHNldERpc3BsYXlSdWxlcylcbiAgICAgIGV2ZW50QnVzLm9uKFNFVF9CSVpfUlVMRVMsIHNldEJpelJ1bGVzKVxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZXZlbnRCdXMub2ZmKFNFVF9GT1JNX1JVTEVTLCBzZXREaXNwbGF5UnVsZXMpXG4gICAgICAgIGV2ZW50QnVzLm9mZihTRVRfQklaX1JVTEVTLCBzZXRCaXpSdWxlcylcbiAgICAgIH1cbiAgICB9LCBbXSlcblxuICAgIGNvbnN0IHNldEZvcm11bGFUcmVlID0gKGV2ZW50QXJncykgPT4ge1xuICAgICAgY29uc3Qgcm9vdElkID0gdHJhbnNmb3JtZWREYXRhPy5pZFxuICAgICAgY29uc3QgeyBhcmdzLCBkYXRhIH0gPSBldmVudEFyZ3NcbiAgICAgIGNvbnN0IHsgZm9ybUlkLCBwYXJhbSA9IHt9IH0gPSBhcmdzIHx8IHt9XG4gICAgICBjb25zdCB7IHNvdXJjZVR5cGUgfSA9IHBhcmFtXG4gICAgICBpZiAoZm9ybUlkID09PSAnJyB8fCBmb3JtSWQgPT09IHJvb3RJZCkge1xuICAgICAgICAvLyDov5DnrpflhazlvI/lkozpnZ7ov5DnrpflhazlvI/vvIzosIPnlKjkuI3lkIznmoRhcGlcbiAgICAgICAgY29uc3QgYXBpID0gc291cmNlVHlwZSA9PT0gJ2Zvcm11bGEnID8gY3VyRm9ybXVsYVRyZWVBcGkuY3VycmVudCA6IGN1ckxpc3RUcmVlQXBpLmN1cnJlbnRcbiAgICAgICAgY29uc3QgeyBzZXREYXRhLCBzZXREYXRhVmVyc2lvbiwgZ2V0VmVyc2lvbiB9ID0gYXBpXG4gICAgICAgIHNldERhdGEoZGF0YSlcbiAgICAgICAgc2V0RGF0YVZlcnNpb24oZ2V0VmVyc2lvbigpKVxuICAgICAgfVxuICAgIH1cblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBldmVudEJ1cy5vbihTRVRfTElTVF9UUkVFX0NPTkZJRywgc2V0Rm9ybXVsYVRyZWUpXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBldmVudEJ1cy5vZmYoU0VUX0xJU1RfVFJFRV9DT05GSUcsIHNldEZvcm11bGFUcmVlKVxuICAgICAgfVxuICAgIH0sIFtdKVxuXG4gICAgY29uc3QgZmV0Y2hMaXN0VHJlZSA9IHVzZUNhbGxiYWNrKCh0eXBlOiAnZm9ybXVsYScgfCAnJyB8IHVuZGVmaW5lZCA9ICcnKSA9PiB7XG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgY29uc3QgeyBpc1ZlcnNpb25FcXVhbCwgZ2V0VmVyc2lvbiB9ID0gdHlwZSA9PT0gJ2Zvcm11bGEnID8gY3VyRm9ybXVsYVRyZWVBcGkuY3VycmVudCA6IGN1ckxpc3RUcmVlQXBpLmN1cnJlbnRcbiAgICAgICAgaWYgKGlzVmVyc2lvbkVxdWFsKCkpIHJldHVyblxuICAgICAgICBjb25zdCByb290SWQgPSB0cmFuc2Zvcm1lZERhdGE/LmlkXG4gICAgICAgIGlmIChnZXRWZXJzaW9uKCkgIT09IDEpIHtcbiAgICAgICAgICBjb25zdCBhcmdzID0gdHlwZSA9PT0gJ2Zvcm11bGEnID8gWycnLCAnZm9ybXVsYSddIDogWycnXVxuICAgICAgICAgIGNvbnN0IHBvc3REYXRhID0gW3sgbm9jb2RlZm9ybWRlc2lnbmVyOiBkYXRhUmVmLmN1cnJlbnQgfV1cbiAgICAgICAgICBpbnZva2VBY3Rpb24oXG4gICAgICAgICAgICAnbGlzdHRyZWVjb25maWcnLFxuICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgIHBvc3REYXRhXG4gICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGFyZ3MgPSB0eXBlID09PSAnZm9ybXVsYScgPyBbcm9vdElkLCAnZm9ybXVsYSddIDogW3Jvb3RJZF1cbiAgICAgICAgICBpbnZva2VBY3Rpb24oXG4gICAgICAgICAgICAnbGlzdHRyZWVjb25maWcnLFxuICAgICAgICAgICAgYXJnc1xuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9LCBbXSlcblxuICAgIC8vIOWIneWni+WMluWFtuWug+ihqOWNleagkeaVsOaNrlxuICAgIC8vIOWFs+iBlOihqOWNleWFtuWug+ihqOWNlemcgOimgei/meS6m+aVsOaNrlxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygncmVmQmlsbERhdGEnLCByZWZCaWxsRGF0YSlcbiAgICAgIGlmIChyZWZCaWxsRGF0YT8uY2hpbGRyZW4pIHtcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiA9IFtdIH0gPSByZWZCaWxsRGF0YVxuICAgICAgICBjaGlsZHJlblswXS5pY29uID0gPEljb24gcHJlZml4PSdub2NvZGVwbGF0Zm9ybWljb24nIHR5cGU9J2dlcmVuemhvbmd4aW4nIHN0eWxlPXt7IGNvbG9yOiAnIzM5ODdFRCcgfX0gLz5cbiAgICAgICAgY2hpbGRyZW5bMV0uaWNvbiA9IDxJY29uIHByZWZpeD0nbm9jb2RlcGxhdGZvcm1pY29uJyB0eXBlPSd6dXpoaScgc3R5bGU9e3sgY29sb3I6ICcjMzk4N0VEJyB9fSAvPlxuICAgICAgICBjb25zdCBbZGF0YSwgaW5uZXJGb3JtXSA9IHRyYW5zZm9ybVRvVHJlZShjaGlsZHJlbilcbiAgICAgICAgZGlzcGF0Y2hCaWxsRGF0YSh7IGtleTogVVBEQVRFX0FQUF9GT1JNX0xJU1QsIHBheWxvYWQ6IHsgZGF0YSwgaW5uZXJGb3JtIH0gfSlcbiAgICAgIH1cbiAgICB9LCBbcmVmQmlsbERhdGFdKVxuXG4gICAgY29uc3QgcmVmQmlsbE5hbWVNYXAgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgIHJldHVybiBkZWVwR2V0QmlsbE5hbWUocmVmQmlsbERhdGE/LmNoaWxkcmVuIHx8IFtdKVxuICAgIH0sIFtyZWZCaWxsRGF0YV0pXG5cbiAgICBjb25zdCBkZXNpZ25lclJlZiA9IHVzZVJlZih7XG4gICAgICBnZXRLZGVzaWduZXJBcGkgKCkge1xuICAgICAgICByZXR1cm4ga2Rlc2lnbmVyQXBpLmN1cnJlbnRcbiAgICAgIH0sXG4gICAgICBnZXRFeHByZXNzaW9uRGF0YSAoKSB7XG4gICAgICAgIHJldHVybiBleHByZXNzaW9uXG4gICAgICB9LFxuICAgICAgZ2V0UmVmQmlsbERhdGEgKCkge1xuICAgICAgICByZXR1cm4gcmVmQmlsbERhdGFcbiAgICAgIH0sXG4gICAgICBnZXRSZWZCaWxsTmFtZU1hcCAoKSB7XG4gICAgICAgIHJldHVybiByZWZCaWxsTmFtZU1hcFxuICAgICAgfSxcbiAgICAgIGdldENvbXBhcmVUeXBlcyAoKSB7XG4gICAgICAgIHJldHVybiBjb21wYXJlVHlwZXNcbiAgICAgIH0sXG4gICAgICBnZXREYXRhUmVmICgpIHtcbiAgICAgICAgcmV0dXJuIGRhdGFSZWYuY3VycmVudFxuICAgICAgfSxcbiAgICAgIGdldEN1cnJlbnRSZWZCaWxsUHJvcHNEYXRhICgpIHtcbiAgICAgICAgcmV0dXJuIHJlZkJpbGxQcm9wUmVmLmN1cnJlbnRcbiAgICAgIH0sXG4gICAgICBnZXREaXNwbGF5UnVsZXMsXG4gICAgICBnZXRCaXpSdWxlcyxcbiAgICAgIGdldEZvcm11bGFSdWxlcyxcbiAgICAgIHNldEN1cnJlbnRSZWZCaWxsUHJvcHNEYXRhIChmb3JtOnN0cmluZywgZGF0YTogYW55KSB7XG4gICAgICAgIHJlZkJpbGxQcm9wUmVmLmN1cnJlbnRbZm9ybV0gPSBkYXRhXG4gICAgICB9LFxuICAgICAgZmV0Y2hMaXN0VHJlZSxcbiAgICAgIGN1ckZvcm11bGFUcmVlQXBpOiBjdXJGb3JtdWxhVHJlZUFwaS5jdXJyZW50LFxuICAgICAgY3VyTGlzdFRyZWVBcGk6IGN1ckxpc3RUcmVlQXBpLmN1cnJlbnQsXG4gICAgICBnZXRTeXN0ZW1TZXR0aW5nLFxuICAgICAgc2V0U3lzdGVtU2V0dGluZyxcbiAgICAgIGdldEJpbGxub1NldHRpbmcsXG4gICAgICBzZXRCaWxsbm9TZXR0aW5nLFxuICAgICAgc2V0RGlzcGxheVJ1bGVzLFxuICAgICAgc2V0Qml6UnVsZXMsXG4gICAgICBzZXRGb3JtdWxhUnVsZXMsXG4gICAgICBnZXRIaWRlRmllbGRSZWYsXG4gICAgICBzZXRIaWRlRmllbGRSZWYsXG4gICAgICBzaG93TWVzc2FnZSxcbiAgICAgIGludm9rZUFjdGlvbixcbiAgICAgIGJhc2VVcmwsIC8vIOWbvueJh+OAgemZhOS7tueahGJhc2V1cmxcbiAgICAgIHByZWZpeENsczogTk9DT0RFX0RFU0lHTkVSX1BSRUZJWF9DTFMsXG4gICAgICBnZXRQcmVmaXhDbHM6IChjb25maWdQcmVmaXhDbHM/OiBzdHJpbmcsIHN1ZmZpeENscz86IHN0cmluZywgY3VzdG9taXplUHJlZml4Q2xzPzogc3RyaW5nKSA9PiB7XG4gICAgICAgIC8vIOiOt+WPluagt+W8j+WJjee8gOaWueazlVxuICAgICAgICBpZiAoY3VzdG9taXplUHJlZml4Q2xzKSByZXR1cm4gY3VzdG9taXplUHJlZml4Q2xzXG4gICAgICAgIGNvbmZpZ1ByZWZpeENscyA9IGNvbmZpZ1ByZWZpeENscyB8fCBOT0NPREVfREVTSUdORVJfUFJFRklYX0NMU1xuICAgICAgICByZXR1cm4gc3VmZml4Q2xzID8gYCR7Y29uZmlnUHJlZml4Q2xzfS0ke3N1ZmZpeENsc31gIDogY29uZmlnUHJlZml4Q2xzXG4gICAgICB9LFxuICAgICAgZ2V0QmFzZUhvb2tzOiAodHlwZTogc3RyaW5nKSA9PiBiYXNlSG9va3M/Llt0eXBlXSB8fCAoKCkgPT4ge30pLFxuICAgICAgb25Eb3duTG9hZCxcbiAgICAgIGFkZENvbnRyb2xBY3Rpb24sXG4gICAgICBnZXRDb250cm9sVGV4dCxcbiAgICAgIGJhdGNoSW52b2tlXG4gICAgfSlcbiAgICBjb25zdCBkZXNpZ25lckNvbnRleHRWYWx1ZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNQQyxcbiAgICAgICAgc2V0SXNQQyxcbiAgICAgICAgZmxvYXRNZW51LFxuICAgICAgICBmaWVsZFN0YXR1c1NldHRpbmdNb2RlLFxuICAgICAgICBmaWVsZFN0YXR1c1NldHRpbmdPcHRpb25zLFxuICAgICAgICBmaWVsZFN0YXR1c01hcCxcbiAgICAgICAgYmlsbFByb3BzRGF0YSxcbiAgICAgICAgcHViVUlBY3Rpb24sXG4gICAgICAgIGRpc3BhdGNoRmllbGRTdGF0dXMsXG4gICAgICAgIGRpc3BhdGNoQmlsbERhdGEsXG4gICAgICAgIC4uLmRlc2lnbmVyUmVmLmN1cnJlbnRcbiAgICAgIH1cbiAgICB9LCBbaXNQQywgZmllbGRTdGF0dXNTZXR0aW5nTW9kZSwgZmxvYXRNZW51LCBmaWVsZFN0YXR1c1NldHRpbmdPcHRpb25zLCBmaWVsZFN0YXR1c01hcCwgYmlsbFByb3BzRGF0YSwgcHViVUlBY3Rpb24sIGRpc3BhdGNoQmlsbERhdGFdKVxuXG4gICAgY29uc3QgZ2V0UmlnaHRWaWV3VmlzaWJsZUtleXMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LnZhbHVlcyhnZXRWaWV3cygncmlnaHQnKSkubWFwKHZpZXcgPT4gdmlldz8udGFiS2V5IHx8ICcnKVxuICAgICAgY29uc3QgcmlnaHRWaWV3SGlkZUluZm8gPSBnZXRIaWRlVmlld1NldHRpbmdzKCdQcm9wZXJ0eScpXG4gICAgICBpZiAoIWtkZXNpZ25lckFwaS5jdXJyZW50IHx8IHJpZ2h0Vmlld0hpZGVJbmZvID09PSB0cnVlKSByZXR1cm4ga2V5c1xuICAgICAgLy8gY29uc3QgeyBzZWxlY3Rpb246IHNlbGVjdGlvbkFwaSB9ID0ga2Rlc2lnbmVyQXBpLmN1cnJlbnRcbiAgICAgIC8vIGNvbnN0IGFjdGl2ZWRTZWxlY3RJZCA9IHNlbGVjdGlvbkFwaS5nZXRBY3RpdmVTZWxlY3RlZElkKClcbiAgICAgIGNvbnN0IG5ld0tleXMgPSBrZXlzLmZpbHRlcihrZXkgPT4ge1xuICAgICAgICAvLyBpZiAoa2V5ID09PSAnYnVzaW5lc3MnICYmICghZ2V0UHJvcGVydHlHcm91cFZpc2libGUoYWN0aXZlZFNlbGVjdElkLCBQUk9QRVJUWV9HUk9VUF9CVVNJTkVTU19LRVkpIHx8IHJpZ2h0Vmlld0hpZGVJbmZvLmluY2x1ZGVzKFBST1BFUlRZX0dST1VQX0JVU0lORVNTX0tFWSkpKSByZXR1cm4gZmFsc2VcbiAgICAgICAgLy8gaWYgKGtleSA9PT0gJ2Zvcm1zdHlsZScgJiYgKCFnZXRQcm9wZXJ0eUdyb3VwVmlzaWJsZShhY3RpdmVkU2VsZWN0SWQsIFBST1BFUlRZX0dST1VQX0ZPUk1TVFlMRV9LRVkpIHx8IHJpZ2h0Vmlld0hpZGVJbmZvLmluY2x1ZGVzKFBST1BFUlRZX0dST1VQX0ZPUk1TVFlMRV9LRVkpKSkgcmV0dXJuIGZhbHNlXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9KVxuICAgICAgcmV0dXJuIG5ld0tleXNcbiAgICB9LCBbZ2V0SGlkZVZpZXdTZXR0aW5nc10pXG5cbiAgICBjb25zdCBnZXRMZWZ0Vmlld1Zpc2libGVLZXlzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC52YWx1ZXMoZ2V0Vmlld3MoJ2xlZnQnKSkubWFwKHZpZXcgPT4gdmlldz8udGFiS2V5IHx8ICcnKVxuICAgICAgY29uc3QgbGVmdFZpZXdIaWRlSW5mbyA9IGdldEhpZGVWaWV3U2V0dGluZ3MoJ0NhdGVnb3JpZXMnKVxuICAgICAgaWYgKGxlZnRWaWV3SGlkZUluZm8gPT09IHRydWUpIHJldHVybiBrZXlzXG5cbiAgICAgIGNvbnN0IG5ld0tleXMgPSBrZXlzLmZpbHRlcihrZXkgPT4ge1xuICAgICAgICBpZiAobGVmdFZpZXdIaWRlSW5mbz8uaW5jbHVkZXMoa2V5KSkgcmV0dXJuIGZhbHNlXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9KVxuICAgICAgcmV0dXJuIG5ld0tleXNcbiAgICB9LCBbZ2V0SGlkZVZpZXdTZXR0aW5nc10pXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgeyBzZWxlY3Rpb246IHNlbGVjdGlvbkFwaSB9ID0ga2Rlc2lnbmVyQXBpLmN1cnJlbnRcbiAgICAgIGNvbnN0IGNiID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB7IHZpZXdzOiB2aWV3c0FwaSB9ID0ga2Rlc2lnbmVyQXBpLmN1cnJlbnRcbiAgICAgICAgY29uc3QgbGVmdFZpZXdWaXNpYmxlS2V5cyA9IHZpZXdzQXBpLmdldFZpZXdWaXNpYmxlS2V5cygnbGVmdCcpXG4gICAgICAgIGNvbnN0IHJpZ2h0Vmlld1Zpc2libGVLZXlzID0gdmlld3NBcGkuZ2V0Vmlld1Zpc2libGVLZXlzKCdyaWdodCcpXG5cbiAgICAgICAgY29uc3QgbmV3TGVmdFZpZXdLZXlzID0gZ2V0TGVmdFZpZXdWaXNpYmxlS2V5cygpXG4gICAgICAgIGNvbnN0IG5ld1JpZ2h0Vmlld0tleXMgPSBnZXRSaWdodFZpZXdWaXNpYmxlS2V5cygpXG4gICAgICAgIGlmICghaXNFcXVhbChuZXdMZWZ0Vmlld0tleXMsIGxlZnRWaWV3VmlzaWJsZUtleXMpKSB7XG4gICAgICAgICAgdmlld3NBcGkuc2V0Vmlld3NWaXNpYmxlU2V0dGluZygnbGVmdCcpKG5ld0xlZnRWaWV3S2V5cylcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwobmV3UmlnaHRWaWV3S2V5cywgcmlnaHRWaWV3VmlzaWJsZUtleXMpKSB7XG4gICAgICAgICAgdmlld3NBcGkuc2V0Vmlld3NWaXNpYmxlU2V0dGluZygncmlnaHQnKShuZXdSaWdodFZpZXdLZXlzKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBzdWJzY3JpYmUgPSBzZWxlY3Rpb25BcGkuYWRkU2VsZWN0Q2hhbmdlTGlzdGVuZXIoY2IpXG4gICAgICBjYigpXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBzdWJzY3JpYmUgJiYgc3Vic2NyaWJlKClcbiAgICAgIH1cbiAgICB9LCBbc2V0dGluZ0RhdGFdKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIDxLVUlDb25maWdQcm92aWRlciB2YWx1ZT17a3VpQ29uZmlnfT5cbiAgICAgICAgICA8RGVzaWduZXJDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtkZXNpZ25lckNvbnRleHRWYWx1ZX0+XG4gICAgICAgICAgICA8TWVtb0Rlc2lnbmVyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7Tk9DT0RFX0RFU0lHTkVSX1BSRUZJWF9DTFN9LXJvb3RgfVxuICAgICAgICAgICAgICByZWY9e2tkZXNpZ25lclJlZn0gZ2xvYmFsQ29uZmlnPXtnbG9iYWxDb25maWd9IG9uRGF0YT17b25EYXRhUHJveHl9XG4gICAgICAgICAgICAgIG1ldGE9e2RlYWxNZXRhfSBkYXRhPXt0cmFuc2Zvcm1lZERhdGF9IG9uQXBpPXtvbkFwaVByb3h5fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Rlc2lnbmVyQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgICAgPC9LVUlDb25maWdQcm92aWRlcj5cbiAgICAgIDwvPlxuICAgIClcbiAgfSlcbilcblxuLy8g5YWI5pqC5pe25Y675o6JbWVtb1xuY29uc3QgTWVtb0Rlc2lnbmVyID0gS2Rlc2lnbmVyXG5cbk5vQ29kZURlc2lnbmVyLmRpc3BsYXlOYW1lID0gJ05vQ29kZURlc2lnbmVyJ1xuZXhwb3J0IGRlZmF1bHQgTm9Db2RlRGVzaWduZXJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///90236\n");

/***/ }),

/***/ 35260:
/*!********************************!*\
  !*** ./src/preHandle/index.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ 28429);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _preUpdateHandle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./preUpdateHandle */ 70084);\n/* harmony import */ var _preAddHandle__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./preAddHandle */ 95968);\n/* harmony import */ var _preDeleteHandle__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./preDeleteHandle */ 3040);\n/* harmony import */ var _preDragHandle__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./preDragHandle */ 63328);\n/* harmony import */ var _prePasteHandle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./prePasteHandle */ 49164);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils */ 41232);\n\n\n\nvar _excluded = [\"type\", \"value\"];\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-09-07 16:18:53\n * @LastEditTime: 2023-05-15 13:40:41\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\nvar preHandleFnMap = (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.ActionType.ADD, _preAddHandle__WEBPACK_IMPORTED_MODULE_9__[\"default\"]), designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.ActionType.UPDATE, _preUpdateHandle__WEBPACK_IMPORTED_MODULE_8__[\"default\"]), designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.ActionType.DELETE, _preDeleteHandle__WEBPACK_IMPORTED_MODULE_10__[\"default\"]), designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.ActionType.DRAG, _preDragHandle__WEBPACK_IMPORTED_MODULE_11__[\"default\"]), designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.ActionType.PASTE, _prePasteHandle__WEBPACK_IMPORTED_MODULE_12__[\"default\"]);\nvar sysControlKeyMap = {\n  NoCodeCreatorField: 'nocodecreatorfield',\n  NoCodeCreateDateField: 'nocodecreatedatefield',\n  NoCodeModifierField: 'nocodemodifierfield',\n  NoCodeModifyDateField: 'nocodemodifydatefield',\n  NoCodeBillNoField: 'nocodebillnofield'\n};\nvar preHandle = function preHandle(_ref, handleConfig) {\n  var action = _ref.action,\n    dataContext = _ref.dataContext,\n    selectionContext = _ref.selectionContext,\n    globalConfig = _ref.globalConfig,\n    dataFactory = _ref.dataFactory,\n    modelFactory = _ref.modelFactory,\n    metaReader = _ref.metaReader,\n    success = _ref.success,\n    fail = _ref.fail;\n  var dataRef = globalConfig.dataRef,\n    keywordMapping = globalConfig.keywordMapping;\n  var preHandleResults = [];\n  var succesProxy = function succesProxy(actions) {\n    var appendActions = [];\n    var controlCacheApi = handleConfig.controlCacheApi;\n    return _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_3___default().all(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(actions).call(actions, function (action) {\n      var type = action.type,\n        value = action.value,\n        rest = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(action, _excluded);\n      // 判断是否需要预处理\n      if (type === designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.ActionType.ADD || type === designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.ActionType.PASTE) {\n        var values = (0,_utils__WEBPACK_IMPORTED_MODULE_13__.convertToArray)(value);\n        var valuePromise = _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_3___default().all(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(values).call(values, function (item) {\n          var sysControlKey = sysControlKeyMap[item[keywordMapping.type]];\n          if (sysControlKey) {\n            var _item$Key;\n            // const parent = dataContext.findControl(item.ParentId) // 这里有问题，关联表单转表格时，还未创建，无法找到父节点\n            // 表格系统字段的KEY会带父节点ID，表格系统KEY不能被篡改\n            if (!(item !== null && item !== void 0 && (_item$Key = item.Key) !== null && _item$Key !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_5___default()(_item$Key).call(_item$Key, item.ParentId.toLowerCase()))) {\n              // 不是关联表单表格时key固定唯一\n              // 系统字段的key是固定的\n              item[keywordMapping.key] = sysControlKey;\n            }\n          } else {\n            item[keywordMapping.key] = item[keywordMapping.key] || \"nc_\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_7__.createUUid)().toLowerCase());\n          }\n\n          // 缓存新ID\n          controlCacheApi.addCache('controlId', item.Id);\n          return item;\n        }));\n        return valuePromise.then(function (_value) {\n          action.value = _value;\n          return action;\n        });\n      } else {\n        return _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_3___default().resolve(action);\n      }\n    })).then(function (newActions) {\n      return success(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_6___default()(newActions).call(newActions, appendActions));\n    });\n  };\n  var type = action.type;\n  var preHandleFn = preHandleFnMap[type];\n  if (preHandleFn) {\n    var allActions = preHandleFn({\n      globalConfig: globalConfig,\n      dataContext: dataContext,\n      selectionContext: selectionContext,\n      action: action,\n      dataFactory: dataFactory,\n      modelFactory: modelFactory,\n      metaReader: metaReader\n    }, succesProxy, fail, handleConfig);\n    if (allActions) {\n      preHandleResults.push.apply(preHandleResults, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(allActions));\n    }\n  } else {\n    preHandleResults.push(action);\n  }\n  if (preHandleResults.length) {\n    succesProxy(preHandleResults);\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (preHandle);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzUyNjAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnQkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvcHJlSGFuZGxlL2luZGV4LnRzPzc2YjMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0wOS0wNyAxNjoxODo1M1xuICogQExhc3RFZGl0VGltZTogMjAyMy0wNS0xNSAxMzo0MDo0MVxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCB7IEFjdGlvblR5cGUsIElNZXRhQXBpLCBJQ29udHJvbEFjdGlvbiwgSURhdGFSZWFkZXIsIElHbG9iYWxDb25maWcsIElTZWxlY3Rpb24sIGNyZWF0ZVVVaWQgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgcHJlVXBkYXRlSGFuZGxlIGZyb20gJy4vcHJlVXBkYXRlSGFuZGxlJ1xuaW1wb3J0IHByZUFkZEhhbmRsZSBmcm9tICcuL3ByZUFkZEhhbmRsZSdcbmltcG9ydCBwcmVEZWxldGVIYW5kbGUgZnJvbSAnLi9wcmVEZWxldGVIYW5kbGUnXG5pbXBvcnQgcHJlRHJhZ0hhbmRsZSBmcm9tICcuL3ByZURyYWdIYW5kbGUnXG5pbXBvcnQgcHJlUGFzdGVIYW5kbGUgZnJvbSAnLi9wcmVQYXN0ZUhhbmRsZSdcbmltcG9ydCB7IGNvbnZlcnRUb0FycmF5IH0gZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgeyBOT0NPREVfQklaQlVUVE9OX0FQIH0gZnJvbSAnLi8uLi9jb25zdGFudHMvaW5kZXgnXG5pbXBvcnQgeyBpc1JlZkJpbGxUYWJsZSB9IGZyb20gJy4uL3V0aWxzL2NvbnRyb2wnXG5cbmludGVyZmFjZSBQcmVIYW5kbGVQYXJhbSB7XG4gIGFjdGlvbjogSUNvbnRyb2xBY3Rpb247XG4gIGRhdGFDb250ZXh0OiBJRGF0YVJlYWRlcjtcbiAgc2VsZWN0aW9uQ29udGV4dDogSVNlbGVjdGlvbjtcbiAgZ2xvYmFsQ29uZmlnOiBJR2xvYmFsQ29uZmlnO1xuICBkYXRhRmFjdG9yeTogRnVuY3Rpb247XG4gIG1vZGVsRmFjdG9yeTogRnVuY3Rpb247XG4gIG1ldGFSZWFkZXI6IElNZXRhQXBpO1xuICBzdWNjZXNzOiBGdW5jdGlvbjtcbiAgZmFpbDogRnVuY3Rpb247XG59XG5cbmNvbnN0IHByZUhhbmRsZUZuTWFwID0ge1xuICBbQWN0aW9uVHlwZS5BRERdOiBwcmVBZGRIYW5kbGUsXG4gIFtBY3Rpb25UeXBlLlVQREFURV06IHByZVVwZGF0ZUhhbmRsZSxcbiAgW0FjdGlvblR5cGUuREVMRVRFXTogcHJlRGVsZXRlSGFuZGxlLFxuICBbQWN0aW9uVHlwZS5EUkFHXTogcHJlRHJhZ0hhbmRsZSxcbiAgW0FjdGlvblR5cGUuUEFTVEVdOiBwcmVQYXN0ZUhhbmRsZVxufVxuXG5jb25zdCBzeXNDb250cm9sS2V5TWFwID0ge1xuICBOb0NvZGVDcmVhdG9yRmllbGQ6ICdub2NvZGVjcmVhdG9yZmllbGQnLFxuICBOb0NvZGVDcmVhdGVEYXRlRmllbGQ6ICdub2NvZGVjcmVhdGVkYXRlZmllbGQnLFxuICBOb0NvZGVNb2RpZmllckZpZWxkOiAnbm9jb2RlbW9kaWZpZXJmaWVsZCcsXG4gIE5vQ29kZU1vZGlmeURhdGVGaWVsZDogJ25vY29kZW1vZGlmeWRhdGVmaWVsZCcsXG4gIE5vQ29kZUJpbGxOb0ZpZWxkOiAnbm9jb2RlYmlsbG5vZmllbGQnXG59XG5cbmNvbnN0IHByZUhhbmRsZSA9ICh7XG4gIGFjdGlvbixcbiAgZGF0YUNvbnRleHQsXG4gIHNlbGVjdGlvbkNvbnRleHQsXG4gIGdsb2JhbENvbmZpZyxcbiAgZGF0YUZhY3RvcnksXG4gIG1vZGVsRmFjdG9yeSxcbiAgbWV0YVJlYWRlcixcbiAgc3VjY2VzcyxcbiAgZmFpbFxufTogUHJlSGFuZGxlUGFyYW0sIGhhbmRsZUNvbmZpZzogYW55KSA9PiB7XG4gIGNvbnN0IHsgZGF0YVJlZiwga2V5d29yZE1hcHBpbmcgfSA9IGdsb2JhbENvbmZpZ1xuICBjb25zdCBwcmVIYW5kbGVSZXN1bHRzID0gW11cbiAgY29uc3Qgc3VjY2VzUHJveHkgPSAoYWN0aW9uczogSUNvbnRyb2xBY3Rpb25bXSkgPT4ge1xuICAgIGNvbnN0IGFwcGVuZEFjdGlvbnM6IEFycmF5PGFueT4gPSBbXVxuICAgIGNvbnN0IHsgY29udHJvbENhY2hlQXBpIH0gPSBoYW5kbGVDb25maWdcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoYWN0aW9ucy5tYXAoYWN0aW9uID0+IHtcbiAgICAgIGNvbnN0IHsgdHlwZSwgdmFsdWUsIC4uLnJlc3QgfSA9IGFjdGlvblxuICAgICAgLy8g5Yik5pat5piv5ZCm6ZyA6KaB6aKE5aSE55CGXG4gICAgICBpZiAodHlwZSA9PT0gQWN0aW9uVHlwZS5BREQgfHwgdHlwZSA9PT0gQWN0aW9uVHlwZS5QQVNURSkge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb252ZXJ0VG9BcnJheSh2YWx1ZSlcbiAgICAgICAgY29uc3QgdmFsdWVQcm9taXNlID0gUHJvbWlzZS5hbGwodmFsdWVzLm1hcChpdGVtID0+IHtcbiAgICAgICAgICBjb25zdCBzeXNDb250cm9sS2V5ID0gc3lzQ29udHJvbEtleU1hcFtpdGVtW2tleXdvcmRNYXBwaW5nLnR5cGVdXVxuICAgICAgICAgIGlmIChzeXNDb250cm9sS2V5KSB7XG4gICAgICAgICAgICAvLyBjb25zdCBwYXJlbnQgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChpdGVtLlBhcmVudElkKSAvLyDov5nph4zmnInpl67popjvvIzlhbPogZTooajljZXovazooajmoLzml7bvvIzov5jmnKrliJvlu7rvvIzml6Dms5Xmib7liLDniLboioLngrlcbiAgICAgICAgICAgIC8vIOihqOagvOezu+e7n+Wtl+auteeahEtFWeS8muW4pueItuiKgueCuUlE77yM6KGo5qC857O757ufS0VZ5LiN6IO96KKr56+h5pS5XG4gICAgICAgICAgICBpZiAoIWl0ZW0/LktleT8uaW5jbHVkZXMoaXRlbS5QYXJlbnRJZC50b0xvd2VyQ2FzZSgpKSkgeyAvLyDkuI3mmK/lhbPogZTooajljZXooajmoLzml7ZrZXnlm7rlrprllK/kuIBcbiAgICAgICAgICAgICAgLy8g57O757uf5a2X5q6155qEa2V55piv5Zu65a6a55qEXG4gICAgICAgICAgICAgIGl0ZW1ba2V5d29yZE1hcHBpbmcua2V5XSA9IHN5c0NvbnRyb2xLZXlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlbVtrZXl3b3JkTWFwcGluZy5rZXldID0gaXRlbVtrZXl3b3JkTWFwcGluZy5rZXldIHx8IGBuY18ke2NyZWF0ZVVVaWQoKS50b0xvd2VyQ2FzZSgpfWBcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyDnvJPlrZjmlrBJRFxuICAgICAgICAgIGNvbnRyb2xDYWNoZUFwaS5hZGRDYWNoZSgnY29udHJvbElkJywgaXRlbS5JZClcblxuICAgICAgICAgIHJldHVybiBpdGVtXG4gICAgICAgIH0pKVxuICAgICAgICByZXR1cm4gdmFsdWVQcm9taXNlLnRoZW4oX3ZhbHVlID0+IHtcbiAgICAgICAgICBhY3Rpb24udmFsdWUgPSBfdmFsdWVcbiAgICAgICAgICByZXR1cm4gYWN0aW9uXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGFjdGlvbilcbiAgICAgIH1cbiAgICB9KSkudGhlbihuZXdBY3Rpb25zID0+IHN1Y2Nlc3MobmV3QWN0aW9ucy5jb25jYXQoYXBwZW5kQWN0aW9ucykpKVxuICB9XG4gIGNvbnN0IHsgdHlwZSB9ID0gYWN0aW9uXG4gIGNvbnN0IHByZUhhbmRsZUZuID0gcHJlSGFuZGxlRm5NYXBbdHlwZV1cbiAgaWYgKHByZUhhbmRsZUZuKSB7XG4gICAgY29uc3QgYWxsQWN0aW9ucyA9IHByZUhhbmRsZUZuKFxuICAgICAge1xuICAgICAgICBnbG9iYWxDb25maWcsXG4gICAgICAgIGRhdGFDb250ZXh0LFxuICAgICAgICBzZWxlY3Rpb25Db250ZXh0LFxuICAgICAgICBhY3Rpb24sXG4gICAgICAgIGRhdGFGYWN0b3J5LFxuICAgICAgICBtb2RlbEZhY3RvcnksXG4gICAgICAgIG1ldGFSZWFkZXJcbiAgICAgIH0sXG4gICAgICBzdWNjZXNQcm94eSxcbiAgICAgIGZhaWwsXG4gICAgICBoYW5kbGVDb25maWdcbiAgICApXG4gICAgaWYgKGFsbEFjdGlvbnMpIHtcbiAgICAgIHByZUhhbmRsZVJlc3VsdHMucHVzaCguLi5hbGxBY3Rpb25zKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBwcmVIYW5kbGVSZXN1bHRzLnB1c2goYWN0aW9uKVxuICB9XG4gIGlmIChwcmVIYW5kbGVSZXN1bHRzLmxlbmd0aCkge1xuICAgIHN1Y2Nlc1Byb3h5KHByZUhhbmRsZVJlc3VsdHMpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgcHJlSGFuZGxlXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///35260\n");

/***/ }),

/***/ 95968:
/*!***************************************!*\
  !*** ./src/preHandle/preAddHandle.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./../utils/index */ 41232);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/control */ 3700);\n/* harmony import */ var _utils_preHandleUtils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/preHandleUtils */ 99888);\n/* harmony import */ var _constants_index__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../constants/index */ 98092);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var _apControls_web_list_showRefBillTableModal__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../apControls/web/list/showRefBillTableModal */ 85176);\n/* harmony import */ var _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../reducer/reduceConstants */ 10788);\n/* harmony import */ var _utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../utils/refBillEditorUtils */ 82048);\n\n\n\n\n\n\n\nvar _excluded = [\"type\", \"value\"];\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-09-08 20:05:33\n * @LastEditTime: 2024-01-24 14:13:31\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\n\n\n\nvar preAddHandle = function preAddHandle(_ref, resolve, reject, handleConfig) {\n  var globalConfig = _ref.globalConfig,\n    dataContext = _ref.dataContext,\n    selectionContext = _ref.selectionContext,\n    action = _ref.action,\n    dataFactory = _ref.dataFactory,\n    modelFactory = _ref.modelFactory,\n    metaReader = _ref.metaReader;\n  var rootId = dataContext.getRootId();\n  var type = action.type,\n    actionValue = action.value,\n    rest = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(action, _excluded);\n  var showMessage = globalConfig.showMessage;\n  var valueToArr = (0,_utils__WEBPACK_IMPORTED_MODULE_12__.convertToArray)(actionValue);\n  var dispatchBillData = handleConfig.dispatchBillData,\n    billPropsData = handleConfig.billPropsData,\n    getHideFieldRef = handleConfig.getHideFieldRef,\n    setHideFieldRef = handleConfig.setHideFieldRef;\n  var selectId = selectionContext.getSelection();\n  var attachAction = [];\n  var otherAction = [];\n  var hideCache = getHideFieldRef();\n\n  // 添加关联表单表格，打开弹窗\n  if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_13__.isRefBillTable)(actionValue._Type_)) {\n    (0,_apControls_web_list_showRefBillTableModal__WEBPACK_IMPORTED_MODULE_17__[\"default\"])({\n      dataContext: dataContext,\n      dataFactory: dataFactory,\n      action: action,\n      metaReader: metaReader,\n      handleConfig: handleConfig\n    });\n    reject('自定义插入关联表单表格事件');\n    return false;\n  }\n\n  // 设置焦点\n  var timer = setTimeout(function () {\n    if (valueToArr.length === 1) {\n      var parentCtrl = dataContext.getParentControl(valueToArr[0].Id);\n      var selectCtrl = dataContext.findControl(selectId[0]);\n      if (!(0,_utils_control__WEBPACK_IMPORTED_MODULE_13__.isRefBillTable)(parentCtrl === null || parentCtrl === void 0 ? void 0 : parentCtrl[_constants_propnames__WEBPACK_IMPORTED_MODULE_16__._TYPE_]) || !(0,_utils_control__WEBPACK_IMPORTED_MODULE_13__.isRefBillTable)(selectCtrl === null || selectCtrl === void 0 ? void 0 : selectCtrl[_constants_propnames__WEBPACK_IMPORTED_MODULE_16__._TYPE_])) {\n        designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.eventBus.emit('add-control-id', valueToArr[0].Id);\n      }\n    }\n    clearTimeout(timer);\n    timer = null;\n  }, 0);\n  var data = dataContext.getData();\n  var handledValues = valueToArr.reduce(function (prev, value) {\n    var _value2, _value3, _context2;\n    var _value = value,\n      ctrlRealType = _value._Type_,\n      fieldId = _value.Id,\n      ParentId = _value.ParentId;\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_13__.isBizButton)(ctrlRealType) && ParentId === rootId) {\n      var _context;\n      var bizButtonPanelControl = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_8___default()(_context = data[_constants_propnames__WEBPACK_IMPORTED_MODULE_16__.ITEMS]).call(_context, function (item) {\n        return item[_constants_propnames__WEBPACK_IMPORTED_MODULE_16__._TYPE_] === _constants_index__WEBPACK_IMPORTED_MODULE_15__.NOCODE_BIZBUTTON_PANEL_AP;\n      });\n      if (!bizButtonPanelControl) {\n        var bziButtonParentControlId = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.createUUid)();\n        var _controlMeta = metaReader.getControlMeta(_constants_index__WEBPACK_IMPORTED_MODULE_15__.NOCODE_BIZBUTTON_PANEL_AP);\n        attachAction.push((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({}, _constants_propnames__WEBPACK_IMPORTED_MODULE_16__.PARENTID, rootId), _constants_propnames__WEBPACK_IMPORTED_MODULE_16__._TYPE_, _constants_index__WEBPACK_IMPORTED_MODULE_15__.NOCODE_BIZBUTTON_PANEL_AP), _constants_propnames__WEBPACK_IMPORTED_MODULE_16__.ID, bziButtonParentControlId), _constants_propnames__WEBPACK_IMPORTED_MODULE_16__._ROOT_, true), \"Name\", _controlMeta === null || _controlMeta === void 0 ? void 0 : _controlMeta.Name));\n        value[_constants_propnames__WEBPACK_IMPORTED_MODULE_16__.PARENTID] = bziButtonParentControlId;\n      } else {\n        value[_constants_propnames__WEBPACK_IMPORTED_MODULE_16__.PARENTID] = bizButtonPanelControl[_constants_propnames__WEBPACK_IMPORTED_MODULE_16__.ID];\n      }\n    }\n    var controlMeta = metaReader.getControlMeta(ctrlRealType);\n    var ControlMetaName = controlMeta.Name;\n    var parentControl = dataContext.findControl(value[_constants_propnames__WEBPACK_IMPORTED_MODULE_16__.PARENTID]);\n    var _ref2 = parentControl || {},\n      parentType = _ref2._Type_,\n      parentStatus = _ref2.Status;\n\n    // 系统字段不允许重复添加，关联表单外部表单除外\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_13__.isSysControl)(ctrlRealType) && !(0,_utils_control__WEBPACK_IMPORTED_MODULE_13__.isRefBillTable)(parentType)) {\n      var controls = dataContext.findControlByCondition(function (item) {\n        return item._Type_ === ctrlRealType;\n      });\n      var sameTypeControls = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(controls).call(controls, function (ctrl) {\n        // 剔除表格内的系统字段\n        var parent = dataContext.findControl(ctrl.ParentId);\n        return !(0,_utils_control__WEBPACK_IMPORTED_MODULE_13__.isRefBillTable)(parent._Type_);\n      });\n      if (sameTypeControls.length > 0) {\n        showMessage(\"\".concat(ControlMetaName, \"\\u53EA\\u80FD\\u5728\\u753B\\u5E03\\u4E2D\\u6DFB\\u52A0\\u4E00\\u6B21\"));\n        reject(\"\".concat(ControlMetaName, \"\\u53EA\\u80FD\\u5728\\u753B\\u5E03\\u4E2D\\u6DFB\\u52A0\\u4E00\\u6B21\"));\n      }\n    }\n\n    // 新添加的控件需要补齐属性\n    // 日期控件判断StartDateFieldName\n    if (value && !((_value2 = value) !== null && _value2 !== void 0 && _value2.FieldName) && !((_value3 = value) !== null && _value3 !== void 0 && _value3.StartDateFieldName)) {\n      value = (0,_utils_preHandleUtils__WEBPACK_IMPORTED_MODULE_14__.addControlProperty)(value, {\n        dataContext: dataContext,\n        metaReader: metaReader\n      });\n    }\n\n    // 向关联表单表格里添加子控件\n    // 需要篡改Id和Key，带上父节点Id的后缀\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_13__.isRefBillTable)(parentType)) {\n      var _value4, _value5;\n      var defaultFieldData = metaReader.getDefaultData(parentType);\n      var fullData = _objectSpread(_objectSpread({}, defaultFieldData), parentControl);\n      var _ref3 = fullData || {},\n        BillEntityIdEx = _ref3.BillEntityIdEx,\n        SourceForm = _ref3.SourceForm,\n        PropsDisplay = _ref3.PropsDisplay,\n        parentRefBillId = _ref3.RefBillId,\n        EntityData = _ref3.EntityData;\n      // 还未选择表单之前不可以添加字段\n      if (!BillEntityIdEx && SourceForm === '2') {\n        reject('请先选择需要关联的表单');\n        return false;\n      }\n      if (BillEntityIdEx && !(billPropsData !== null && billPropsData !== void 0 && billPropsData[BillEntityIdEx])) {\n        showMessage('数据加载中，请稍后');\n        reject('数据加载中，请稍后');\n        return false;\n      }\n      var prevKey; // 上一个KEY，用于调整显示内容属性\n      // KEY全部转小写\n      value.Key = (_value4 = value) !== null && _value4 !== void 0 && _value4.Key ? value.Key.toLowerCase() : \"nc_\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.createUUid)().toLowerCase());\n      if (!((_value5 = value) !== null && _value5 !== void 0 && (_value5 = _value5.Key) !== null && _value5 !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(_value5).call(_value5, ParentId.toLowerCase()))) {\n        // 从控件列表新增\n        // 外部表单不允许编辑\n        if (!(0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_19__.isAppInnerForm)(parentControl, (billPropsData === null || billPropsData === void 0 ? void 0 : billPropsData.innerForm) || [])) {\n          showMessage('应用外表单无法编辑');\n          reject('应用外表单无法编辑');\n          return false;\n        }\n        // 表格关联自己时，不允许再添加控件\n        if ((parentControl === null || parentControl === void 0 ? void 0 : parentControl.BillEntityIdEx) === rootId) {\n          showMessage('表格为当前表单时无法编辑');\n          reject('表格为当前表单时无法编辑');\n          return false;\n        }\n        value.EntityData = _objectSpread(_objectSpread({}, value.EntityData), {}, {\n          Key: value.Key\n        });\n        var form = !BillEntityIdEx && SourceForm === '1' ? ParentId + '_table' : BillEntityIdEx;\n\n        // dispatchBillData({ key: ADD_CONTROL, payload: { form, data: { ...value } } })\n        // reject('关联表单表格不从控件列表添加,由store数据更新触发添加')\n        // return false\n        var currentId = selectId[selectId.length - 1];\n        var isParentFocus = value[_constants_propnames__WEBPACK_IMPORTED_MODULE_16__.PARENTID] === currentId;\n        var payload = {\n          form: form,\n          data: _objectSpread({}, value)\n        };\n        dispatchBillData({\n          key: _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_18__.ADD_CONTROL,\n          payload: payload\n        });\n        if (!isParentFocus) {\n          // 焦点在表格内控件\n          payload.prevId = currentId.replace(\"_\".concat(ParentId), '');\n          // 查找上一个节点\n          var _ref4 = dataContext.findControl(currentId) || {},\n            selectKey = _ref4.Key;\n          prevKey = selectKey.toLowerCase().replace(\"_\".concat(ParentId.toLowerCase()), '');\n        }\n        // 如果从控件页面拖拽添加时，需要获取到上一个控件的KEY\n        if (action.index > 0) {\n          var items = dataContext.getData().Items;\n          if (items[action.index - 1]) {\n            prevKey = items[action.index - 1].Key.toLowerCase().replace(\"_\".concat(ParentId.toLowerCase()), '');\n          }\n        }\n        // 需要将ID和KEY添加parentId后缀\n        value = (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_19__.createTableControl)(value, ParentId);\n\n        // 添加控件，不从store添加，减少刷新\n        // if (isParentFocus) {\n        //   // reject('关联表单表格不从控件列表添加,由store数据更新触发添加')\n        //   return prev\n        // }\n      }\n      // 与父节点状态保持一致\n      if (parentStatus) value.Status = parentStatus;\n\n      // 更新显示内容\n      var newKey = value.Key.toLowerCase().replace(\"_\".concat(ParentId.toLowerCase()), '');\n      // 日期需要拆成2个控件\n      var showKey = (0,_utils_control__WEBPACK_IMPORTED_MODULE_13__.isDateRange)(value._Type_) ? [\"\".concat(newKey, \"_startdate\"), \"\".concat(newKey, \"_enddate\")] : newKey;\n      var str = (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_19__.getCtrlPropsDisplay)(PropsDisplay, showKey, prevKey);\n      // 更新隐藏控件缓存\n      hideCache[parentRefBillId].PropsDisplay = str;\n      hideCache[parentRefBillId].EntityData.PropsDisplay = str;\n      // 更新显示内容属性\n      otherAction.push((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.createUpdateAction)([[ParentId, {\n        PropsDisplay: str\n      }], [ParentId, {\n        EntityData: _objectSpread(_objectSpread({}, EntityData), {}, {\n          PropsDisplay: str\n        })\n      }]]));\n    }\n    if ((0,_utils__WEBPACK_IMPORTED_MODULE_12__.isGroupContainer)(ctrlRealType) && !value.GroupParentId) {\n      value.GroupParentId = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.createUUid)();\n      value.GroupIndex = 0;\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context2 = []).call(_context2, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(prev), [value]);\n  }, []);\n  var preHandleResults = [_objectSpread({\n    type: type,\n    value: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(handledValues).call(handledValues, attachAction)\n  }, rest)];\n  setHideFieldRef(hideCache);\n  return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(preHandleResults).call(preHandleResults, otherAction);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (preAddHandle);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTU5NjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFhQTtBQVZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9wcmVIYW5kbGUvcHJlQWRkSGFuZGxlLnRzPzAyYmUiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0wOS0wOCAyMDowNTozM1xuICogQExhc3RFZGl0VGltZTogMjAyNC0wMS0yNCAxNDoxMzozMVxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCB7IElDb250cm9sSXRlbSwgZXZlbnRCdXMsIGNyZWF0ZVVVaWQsIGNyZWF0ZVVwZGF0ZUFjdGlvbiB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IGNvbnZlcnRUb0FycmF5IH0gZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgeyBpc1N5c0NvbnRyb2wsIGlzQml6QnV0dG9uLCBpc1JlZkJpbGxUYWJsZSwgaXNJbWFnZUZpZWxkLCBpc0RhdGVSYW5nZSwgaXNBdHRhY2htZW50RmllbGQgfSBmcm9tICcuLi91dGlscy9jb250cm9sJ1xuaW1wb3J0IHsgYWRkQ29udHJvbFByb3BlcnR5IH0gZnJvbSAnLi4vdXRpbHMvcHJlSGFuZGxlVXRpbHMnXG5pbXBvcnQgeyBOT0NPREVfQklaQlVUVE9OX1BBTkVMX0FQLCBOT0NPREVfTVVMX1JFRl9CSUxMX0ZJRUxEIH0gZnJvbSAnLi4vY29uc3RhbnRzL2luZGV4J1xuaW1wb3J0IHsgUEFSRU5USUQsIElELCBfVFlQRV8sIElURU1TLCBfUk9PVF8gfSBmcm9tICcuLi9jb25zdGFudHMvcHJvcG5hbWVzJ1xuaW1wb3J0IHNob3dSZWZCaWxsVGFibGVNb2RhbCBmcm9tICcuLi9hcENvbnRyb2xzL3dlYi9saXN0L3Nob3dSZWZCaWxsVGFibGVNb2RhbCdcbmltcG9ydCB7IEFERF9DT05UUk9MIH0gZnJvbSAnLi4vcmVkdWNlci9yZWR1Y2VDb25zdGFudHMnXG5pbXBvcnQgeyBjcmVhdGVUYWJsZUNvbnRyb2wsIGlzQXBwSW5uZXJGb3JtLCBnZXRDdHJsUHJvcHNEaXNwbGF5IH0gZnJvbSAnLi4vdXRpbHMvcmVmQmlsbEVkaXRvclV0aWxzJ1xuaW1wb3J0IHsgaXNHcm91cENvbnRhaW5lciB9IGZyb20gJy4vLi4vdXRpbHMvaW5kZXgnXG5cbmNvbnN0IHByZUFkZEhhbmRsZSA9IChcbiAge1xuICAgIGdsb2JhbENvbmZpZyxcbiAgICBkYXRhQ29udGV4dCxcbiAgICBzZWxlY3Rpb25Db250ZXh0LFxuICAgIGFjdGlvbixcbiAgICBkYXRhRmFjdG9yeSxcbiAgICBtb2RlbEZhY3RvcnksXG4gICAgbWV0YVJlYWRlclxuICB9LFxuICByZXNvbHZlLFxuICByZWplY3QsXG4gIGhhbmRsZUNvbmZpZ1xuKSA9PiB7XG4gIGNvbnN0IHJvb3RJZCA9IGRhdGFDb250ZXh0LmdldFJvb3RJZCgpXG4gIGNvbnN0IHsgdHlwZSwgdmFsdWU6IGFjdGlvblZhbHVlLCAuLi5yZXN0IH0gPSBhY3Rpb25cbiAgY29uc3QgeyBzaG93TWVzc2FnZSB9ID0gZ2xvYmFsQ29uZmlnXG4gIGNvbnN0IHZhbHVlVG9BcnIgPSBjb252ZXJ0VG9BcnJheShhY3Rpb25WYWx1ZSlcbiAgY29uc3QgeyBkaXNwYXRjaEJpbGxEYXRhLCBiaWxsUHJvcHNEYXRhLCBnZXRIaWRlRmllbGRSZWYsIHNldEhpZGVGaWVsZFJlZiB9ID0gaGFuZGxlQ29uZmlnXG4gIGNvbnN0IHNlbGVjdElkID0gc2VsZWN0aW9uQ29udGV4dC5nZXRTZWxlY3Rpb24oKVxuICBjb25zdCBhdHRhY2hBY3Rpb246YW55W10gPSBbXVxuICBjb25zdCBvdGhlckFjdGlvbjphbnlbXSA9IFtdXG4gIGNvbnN0IGhpZGVDYWNoZSA9IGdldEhpZGVGaWVsZFJlZigpXG5cbiAgLy8g5re75Yqg5YWz6IGU6KGo5Y2V6KGo5qC877yM5omT5byA5by556qXXG4gIGlmIChpc1JlZkJpbGxUYWJsZShhY3Rpb25WYWx1ZS5fVHlwZV8pKSB7XG4gICAgc2hvd1JlZkJpbGxUYWJsZU1vZGFsKHsgZGF0YUNvbnRleHQsIGRhdGFGYWN0b3J5LCBhY3Rpb24sIG1ldGFSZWFkZXIsIGhhbmRsZUNvbmZpZyB9KVxuICAgIHJlamVjdCgn6Ieq5a6a5LmJ5o+S5YWl5YWz6IGU6KGo5Y2V6KGo5qC85LqL5Lu2JylcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIOiuvue9rueEpueCuVxuICBsZXQgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpZiAodmFsdWVUb0Fyci5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNvbnN0IHBhcmVudEN0cmwgPSBkYXRhQ29udGV4dC5nZXRQYXJlbnRDb250cm9sKHZhbHVlVG9BcnJbMF0uSWQpXG4gICAgICBjb25zdCBzZWxlY3RDdHJsID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woc2VsZWN0SWRbMF0pXG4gICAgICBpZiAoIWlzUmVmQmlsbFRhYmxlKHBhcmVudEN0cmw/LltfVFlQRV9dKSB8fCAhaXNSZWZCaWxsVGFibGUoc2VsZWN0Q3RybD8uW19UWVBFX10pKSB7XG4gICAgICAgIGV2ZW50QnVzLmVtaXQoJ2FkZC1jb250cm9sLWlkJywgdmFsdWVUb0FyclswXS5JZClcbiAgICAgIH1cbiAgICB9XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKVxuICAgIHRpbWVyID0gbnVsbFxuICB9LCAwKVxuXG4gIGNvbnN0IGRhdGEgPSBkYXRhQ29udGV4dC5nZXREYXRhKClcblxuICBjb25zdCBoYW5kbGVkVmFsdWVzID0gdmFsdWVUb0Fyci5yZWR1Y2UoKHByZXYsIHZhbHVlOiBJQ29udHJvbEl0ZW0pID0+IHtcbiAgICBjb25zdCB7IF9UeXBlXzogY3RybFJlYWxUeXBlLCBJZDogZmllbGRJZCwgUGFyZW50SWQgfSA9IHZhbHVlXG5cbiAgICBpZiAoaXNCaXpCdXR0b24oY3RybFJlYWxUeXBlKSAmJiBQYXJlbnRJZCA9PT0gcm9vdElkKSB7XG4gICAgICBjb25zdCBiaXpCdXR0b25QYW5lbENvbnRyb2wgPSBkYXRhW0lURU1TXS5maW5kKGl0ZW0gPT4gaXRlbVtfVFlQRV9dID09PSBOT0NPREVfQklaQlVUVE9OX1BBTkVMX0FQKVxuXG4gICAgICBpZiAoIWJpekJ1dHRvblBhbmVsQ29udHJvbCkge1xuICAgICAgICBjb25zdCBiemlCdXR0b25QYXJlbnRDb250cm9sSWQgPSBjcmVhdGVVVWlkKClcbiAgICAgICAgY29uc3QgY29udHJvbE1ldGEgPSBtZXRhUmVhZGVyLmdldENvbnRyb2xNZXRhKE5PQ09ERV9CSVpCVVRUT05fUEFORUxfQVApXG5cbiAgICAgICAgYXR0YWNoQWN0aW9uLnB1c2goe1xuICAgICAgICAgIFtQQVJFTlRJRF06IHJvb3RJZCxcbiAgICAgICAgICBbX1RZUEVfXTogTk9DT0RFX0JJWkJVVFRPTl9QQU5FTF9BUCxcbiAgICAgICAgICBbSURdOiBiemlCdXR0b25QYXJlbnRDb250cm9sSWQsXG4gICAgICAgICAgW19ST09UX106IHRydWUsXG4gICAgICAgICAgTmFtZTogY29udHJvbE1ldGE/Lk5hbWVcbiAgICAgICAgfSlcbiAgICAgICAgdmFsdWVbUEFSRU5USURdID0gYnppQnV0dG9uUGFyZW50Q29udHJvbElkXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZVtQQVJFTlRJRF0gPSBiaXpCdXR0b25QYW5lbENvbnRyb2xbSURdXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY29udHJvbE1ldGEgPSBtZXRhUmVhZGVyLmdldENvbnRyb2xNZXRhKGN0cmxSZWFsVHlwZSlcbiAgICBjb25zdCB7IE5hbWU6IENvbnRyb2xNZXRhTmFtZSB9ID0gY29udHJvbE1ldGFcblxuICAgIGNvbnN0IHBhcmVudENvbnRyb2wgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbCh2YWx1ZVtQQVJFTlRJRF0pXG4gICAgY29uc3QgeyBfVHlwZV86IHBhcmVudFR5cGUsIFN0YXR1czogcGFyZW50U3RhdHVzIH0gPSBwYXJlbnRDb250cm9sIHx8IHt9XG5cbiAgICAvLyDns7vnu5/lrZfmrrXkuI3lhYHorrjph43lpI3mt7vliqDvvIzlhbPogZTooajljZXlpJbpg6jooajljZXpmaTlpJZcbiAgICBpZiAoaXNTeXNDb250cm9sKGN0cmxSZWFsVHlwZSkgJiYgIWlzUmVmQmlsbFRhYmxlKHBhcmVudFR5cGUpKSB7XG4gICAgICBjb25zdCBjb250cm9scyA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sQnlDb25kaXRpb24oKGl0ZW06IGFueSkgPT4gaXRlbS5fVHlwZV8gPT09IGN0cmxSZWFsVHlwZSlcbiAgICAgIGNvbnN0IHNhbWVUeXBlQ29udHJvbHMgPSBjb250cm9scy5maWx0ZXIoKGN0cmw6YW55KSA9PiB7XG4gICAgICAgIC8vIOWJlOmZpOihqOagvOWGheeahOezu+e7n+Wtl+autVxuICAgICAgICBjb25zdCBwYXJlbnQgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChjdHJsLlBhcmVudElkKVxuICAgICAgICByZXR1cm4gIWlzUmVmQmlsbFRhYmxlKHBhcmVudC5fVHlwZV8pXG4gICAgICB9KVxuICAgICAgaWYgKHNhbWVUeXBlQ29udHJvbHMubGVuZ3RoID4gMCkge1xuICAgICAgICBzaG93TWVzc2FnZShgJHtDb250cm9sTWV0YU5hbWV95Y+q6IO95Zyo55S75biD5Lit5re75Yqg5LiA5qyhYClcbiAgICAgICAgcmVqZWN0KGAke0NvbnRyb2xNZXRhTmFtZX3lj6rog73lnKjnlLvluIPkuK3mt7vliqDkuIDmrKFgKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIOaWsOa3u+WKoOeahOaOp+S7tumcgOimgeihpem9kOWxnuaAp1xuICAgIC8vIOaXpeacn+aOp+S7tuWIpOaWrVN0YXJ0RGF0ZUZpZWxkTmFtZVxuICAgIGlmICh2YWx1ZSAmJiAhdmFsdWU/LkZpZWxkTmFtZSAmJiAhdmFsdWU/LlN0YXJ0RGF0ZUZpZWxkTmFtZSkge1xuICAgICAgdmFsdWUgPSBhZGRDb250cm9sUHJvcGVydHkodmFsdWUsIHtcbiAgICAgICAgZGF0YUNvbnRleHQsXG4gICAgICAgIG1ldGFSZWFkZXJcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8g5ZCR5YWz6IGU6KGo5Y2V6KGo5qC86YeM5re75Yqg5a2Q5o6n5Lu2XG4gICAgLy8g6ZyA6KaB56+h5pS5SWTlkoxLZXnvvIzluKbkuIrniLboioLngrlJZOeahOWQjue8gFxuICAgIGlmIChpc1JlZkJpbGxUYWJsZShwYXJlbnRUeXBlKSkge1xuICAgICAgY29uc3QgZGVmYXVsdEZpZWxkRGF0YSA9IG1ldGFSZWFkZXIuZ2V0RGVmYXVsdERhdGEocGFyZW50VHlwZSlcbiAgICAgIGNvbnN0IGZ1bGxEYXRhID0geyAuLi5kZWZhdWx0RmllbGREYXRhLCAuLi5wYXJlbnRDb250cm9sIH1cbiAgICAgIGNvbnN0IHsgQmlsbEVudGl0eUlkRXgsIFNvdXJjZUZvcm0sIFByb3BzRGlzcGxheSwgUmVmQmlsbElkOiBwYXJlbnRSZWZCaWxsSWQsIEVudGl0eURhdGEgfSA9IGZ1bGxEYXRhIHx8IHt9XG4gICAgICAvLyDov5jmnKrpgInmi6nooajljZXkuYvliY3kuI3lj6/ku6Xmt7vliqDlrZfmrrVcbiAgICAgIGlmICghQmlsbEVudGl0eUlkRXggJiYgU291cmNlRm9ybSA9PT0gJzInKSB7XG4gICAgICAgIHJlamVjdCgn6K+35YWI6YCJ5oup6ZyA6KaB5YWz6IGU55qE6KGo5Y2VJylcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICBpZiAoQmlsbEVudGl0eUlkRXggJiYgIWJpbGxQcm9wc0RhdGE/LltCaWxsRW50aXR5SWRFeF0pIHtcbiAgICAgICAgc2hvd01lc3NhZ2UoJ+aVsOaNruWKoOi9veS4re+8jOivt+eojeWQjicpXG4gICAgICAgIHJlamVjdCgn5pWw5o2u5Yqg6L295Lit77yM6K+356iN5ZCOJylcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIGxldCBwcmV2S2V5IC8vIOS4iuS4gOS4qktFWe+8jOeUqOS6juiwg+aVtOaYvuekuuWGheWuueWxnuaAp1xuICAgICAgLy8gS0VZ5YWo6YOo6L2s5bCP5YaZXG4gICAgICB2YWx1ZS5LZXkgPSB2YWx1ZT8uS2V5ID8gdmFsdWUuS2V5LnRvTG93ZXJDYXNlKCkgOiBgbmNfJHtjcmVhdGVVVWlkKCkudG9Mb3dlckNhc2UoKX1gXG4gICAgICBpZiAoIXZhbHVlPy5LZXk/LmluY2x1ZGVzKFBhcmVudElkLnRvTG93ZXJDYXNlKCkpKSB7IC8vIOS7juaOp+S7tuWIl+ihqOaWsOWinlxuICAgICAgICAvLyDlpJbpg6jooajljZXkuI3lhYHorrjnvJbovpFcbiAgICAgICAgaWYgKCFpc0FwcElubmVyRm9ybShwYXJlbnRDb250cm9sLCBiaWxsUHJvcHNEYXRhPy5pbm5lckZvcm0gfHwgW10pKSB7XG4gICAgICAgICAgc2hvd01lc3NhZ2UoJ+W6lOeUqOWkluihqOWNleaXoOazlee8lui+kScpXG4gICAgICAgICAgcmVqZWN0KCflupTnlKjlpJbooajljZXml6Dms5XnvJbovpEnKVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIC8vIOihqOagvOWFs+iBlOiHquW3seaXtu+8jOS4jeWFgeiuuOWGjea3u+WKoOaOp+S7tlxuICAgICAgICBpZiAocGFyZW50Q29udHJvbD8uQmlsbEVudGl0eUlkRXggPT09IHJvb3RJZCkge1xuICAgICAgICAgIHNob3dNZXNzYWdlKCfooajmoLzkuLrlvZPliY3ooajljZXml7bml6Dms5XnvJbovpEnKVxuICAgICAgICAgIHJlamVjdCgn6KGo5qC85Li65b2T5YmN6KGo5Y2V5pe25peg5rOV57yW6L6RJylcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZS5FbnRpdHlEYXRhID0geyAuLi52YWx1ZS5FbnRpdHlEYXRhLCBLZXk6IHZhbHVlLktleSB9XG4gICAgICAgIGNvbnN0IGZvcm0gPSAhQmlsbEVudGl0eUlkRXggJiYgU291cmNlRm9ybSA9PT0gJzEnID8gKFBhcmVudElkICsgJ190YWJsZScpIDogQmlsbEVudGl0eUlkRXhcblxuICAgICAgICAvLyBkaXNwYXRjaEJpbGxEYXRhKHsga2V5OiBBRERfQ09OVFJPTCwgcGF5bG9hZDogeyBmb3JtLCBkYXRhOiB7IC4uLnZhbHVlIH0gfSB9KVxuICAgICAgICAvLyByZWplY3QoJ+WFs+iBlOihqOWNleihqOagvOS4jeS7juaOp+S7tuWIl+ihqOa3u+WKoCznlLFzdG9yZeaVsOaNruabtOaWsOinpuWPkea3u+WKoCcpXG4gICAgICAgIC8vIHJldHVybiBmYWxzZVxuICAgICAgICBjb25zdCBjdXJyZW50SWQgPSBzZWxlY3RJZFtzZWxlY3RJZC5sZW5ndGggLSAxXVxuICAgICAgICBjb25zdCBpc1BhcmVudEZvY3VzID0gdmFsdWVbUEFSRU5USURdID09PSBjdXJyZW50SWRcbiAgICAgICAgY29uc3QgcGF5bG9hZDphbnkgPSB7IGZvcm0sIGRhdGE6IHsgLi4udmFsdWUgfSB9XG4gICAgICAgIGRpc3BhdGNoQmlsbERhdGEoeyBrZXk6IEFERF9DT05UUk9MLCBwYXlsb2FkIH0pXG5cbiAgICAgICAgaWYgKCFpc1BhcmVudEZvY3VzKSB7IC8vIOeEpueCueWcqOihqOagvOWGheaOp+S7tlxuICAgICAgICAgIHBheWxvYWQucHJldklkID0gY3VycmVudElkLnJlcGxhY2UoYF8ke1BhcmVudElkfWAsICcnKVxuICAgICAgICAgIC8vIOafpeaJvuS4iuS4gOS4quiKgueCuVxuICAgICAgICAgIGNvbnN0IHsgS2V5OiBzZWxlY3RLZXkgfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGN1cnJlbnRJZCkgfHwge31cbiAgICAgICAgICBwcmV2S2V5ID0gc2VsZWN0S2V5LnRvTG93ZXJDYXNlKCkucmVwbGFjZShgXyR7UGFyZW50SWQudG9Mb3dlckNhc2UoKX1gLCAnJylcbiAgICAgICAgfVxuICAgICAgICAvLyDlpoLmnpzku47mjqfku7bpobXpnaLmi5bmi73mt7vliqDml7bvvIzpnIDopoHojrflj5bliLDkuIrkuIDkuKrmjqfku7bnmoRLRVlcbiAgICAgICAgaWYgKGFjdGlvbi5pbmRleCA+IDApIHtcbiAgICAgICAgICBjb25zdCBpdGVtcyA9IGRhdGFDb250ZXh0LmdldERhdGEoKS5JdGVtc1xuICAgICAgICAgIGlmIChpdGVtc1thY3Rpb24uaW5kZXggLSAxXSkge1xuICAgICAgICAgICAgcHJldktleSA9IGl0ZW1zW2FjdGlvbi5pbmRleCAtIDFdLktleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoYF8ke1BhcmVudElkLnRvTG93ZXJDYXNlKCl9YCwgJycpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIOmcgOimgeWwhklE5ZKMS0VZ5re75YqgcGFyZW50SWTlkI7nvIBcbiAgICAgICAgdmFsdWUgPSBjcmVhdGVUYWJsZUNvbnRyb2wodmFsdWUsIFBhcmVudElkKVxuXG4gICAgICAgIC8vIOa3u+WKoOaOp+S7tu+8jOS4jeS7jnN0b3Jl5re75Yqg77yM5YeP5bCR5Yi35pawXG4gICAgICAgIC8vIGlmIChpc1BhcmVudEZvY3VzKSB7XG4gICAgICAgIC8vICAgLy8gcmVqZWN0KCflhbPogZTooajljZXooajmoLzkuI3ku47mjqfku7bliJfooajmt7vliqAs55Sxc3RvcmXmlbDmja7mm7TmlrDop6blj5Hmt7vliqAnKVxuICAgICAgICAvLyAgIHJldHVybiBwcmV2XG4gICAgICAgIC8vIH1cbiAgICAgIH1cbiAgICAgIC8vIOS4jueItuiKgueCueeKtuaAgeS/neaMgeS4gOiHtFxuICAgICAgaWYgKHBhcmVudFN0YXR1cykgdmFsdWUuU3RhdHVzID0gcGFyZW50U3RhdHVzXG5cbiAgICAgIC8vIOabtOaWsOaYvuekuuWGheWuuVxuICAgICAgY29uc3QgbmV3S2V5ID0gdmFsdWUuS2V5LnRvTG93ZXJDYXNlKCkucmVwbGFjZShgXyR7UGFyZW50SWQudG9Mb3dlckNhc2UoKX1gLCAnJylcbiAgICAgIC8vIOaXpeacn+mcgOimgeaLhuaIkDLkuKrmjqfku7ZcbiAgICAgIGNvbnN0IHNob3dLZXkgPSBpc0RhdGVSYW5nZSh2YWx1ZS5fVHlwZV8pID8gW2Ake25ld0tleX1fc3RhcnRkYXRlYCwgYCR7bmV3S2V5fV9lbmRkYXRlYF0gOiBuZXdLZXlcbiAgICAgIGNvbnN0IHN0ciA9IGdldEN0cmxQcm9wc0Rpc3BsYXkoUHJvcHNEaXNwbGF5LCBzaG93S2V5LCBwcmV2S2V5KVxuICAgICAgLy8g5pu05paw6ZqQ6JeP5o6n5Lu257yT5a2YXG4gICAgICBoaWRlQ2FjaGVbcGFyZW50UmVmQmlsbElkXS5Qcm9wc0Rpc3BsYXkgPSBzdHJcbiAgICAgIGhpZGVDYWNoZVtwYXJlbnRSZWZCaWxsSWRdLkVudGl0eURhdGEuUHJvcHNEaXNwbGF5ID0gc3RyXG4gICAgICAvLyDmm7TmlrDmmL7npLrlhoXlrrnlsZ7mgKdcbiAgICAgIG90aGVyQWN0aW9uLnB1c2goY3JlYXRlVXBkYXRlQWN0aW9uKFtcbiAgICAgICAgW1BhcmVudElkLCB7IFByb3BzRGlzcGxheTogc3RyIH1dLFxuICAgICAgICBbUGFyZW50SWQsIHsgRW50aXR5RGF0YTogeyAuLi5FbnRpdHlEYXRhLCBQcm9wc0Rpc3BsYXk6IHN0ciB9IH1dXG4gICAgICBdKSlcbiAgICB9XG5cbiAgICBpZiAoaXNHcm91cENvbnRhaW5lcihjdHJsUmVhbFR5cGUpICYmICF2YWx1ZS5Hcm91cFBhcmVudElkKSB7XG4gICAgICB2YWx1ZS5Hcm91cFBhcmVudElkID0gY3JlYXRlVVVpZCgpXG4gICAgICB2YWx1ZS5Hcm91cEluZGV4ID0gMFxuICAgIH1cblxuICAgIHJldHVybiBbLi4ucHJldiwgdmFsdWVdXG4gIH0sIFtdKVxuXG4gIGNvbnN0IHByZUhhbmRsZVJlc3VsdHMgPSBbeyB0eXBlLCB2YWx1ZTogaGFuZGxlZFZhbHVlcy5jb25jYXQoYXR0YWNoQWN0aW9uKSwgLi4ucmVzdCB9XVxuXG4gIHNldEhpZGVGaWVsZFJlZihoaWRlQ2FjaGUpXG5cbiAgcmV0dXJuIHByZUhhbmRsZVJlc3VsdHMuY29uY2F0KG90aGVyQWN0aW9uKVxufVxuXG5leHBvcnQgZGVmYXVsdCBwcmVBZGRIYW5kbGVcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///95968\n");

/***/ }),

/***/ 3040:
/*!******************************************!*\
  !*** ./src/preHandle/preDeleteHandle.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ 41232);\n\n\n// import { DEL_CONTROL } from '../reducer/reduceConstants'\n// import { isRefBill, isRefBillTable } from '../utils/control'\n\n// import { NOCODE_MUL_REF_BILL_FIELD } from '../constants'\n\nvar preDeleteHandle = function preDeleteHandle(_ref, resolve, reject, handleConfig) {\n  var globalConfig = _ref.globalConfig,\n    dataContext = _ref.dataContext,\n    selectionContext = _ref.selectionContext,\n    action = _ref.action,\n    dataFactory = _ref.dataFactory,\n    modelFactory = _ref.modelFactory,\n    metaReader = _ref.metaReader;\n  var preHandleResults = [action];\n  console.log('predeletehandle', action);\n  // const { value } = action\n  // const { dispatchBillData } = handleConfig\n  // const selectId = selectionContext.getSelection()\n  var otherAction = [];\n  var value = action.value;\n  var deleteIds = Array.isArray(value) ? value : [value];\n  deleteIds.forEach(function (id) {\n    var controlData = dataContext.findControl(id) || {};\n    var _Type_ = controlData._Type_;\n    if ((0,_utils__WEBPACK_IMPORTED_MODULE_3__.isGroupContainer)(_Type_)) {\n      var GroupIndex = controlData.GroupIndex,\n        GroupParentId = controlData.GroupParentId;\n      if (Number(GroupIndex) === 0) {\n        // 删除第一个页签，需要把并列的其它页签也删了\n        var otherGroups = dataContext.findControlByCondition(function (item) {\n          return (0,_utils__WEBPACK_IMPORTED_MODULE_3__.isGroupContainer)(item._Type_) && item.GroupParentId === GroupParentId && item.GroupIndex !== undefined && Number(item.GroupIndex) !== 0;\n        });\n        if (otherGroups.length) {\n          otherAction.push((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_2__.createDeleteAction)(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0___default()(otherGroups).call(otherGroups, function (item) {\n            return item.Id;\n          })));\n        }\n      }\n    }\n  });\n  // const { ParentId, _Type_: fieldType, Key: fieldKey, RefTableId, RefBillId } = dataContext.findControl(value) || {}\n  // const { _Type_: parentType, Id, SourceForm, BillEntityIdEx, PropsDisplay, RefBillId: parentRefBillId, EntityData } = dataContext.findControl(ParentId) || {}\n  // if (ParentId && isRefBillTable(parentType)) {\n  //   const form = SourceForm === '1' && !BillEntityIdEx ? `${Id}_table` : BillEntityIdEx\n  //   const fieldId = value.replace(`_${ParentId}`, '')\n  //   if (SourceForm === '1') { // 内部表格时，直接更新\n  //     dispatchBillData({ key: DEL_CONTROL, payload: { form, id: fieldId } })\n  //     if (selectId[0] === ParentId) {\n  //       reject('内部表格时，直接更新store，以删除控件')\n  //       return false\n  //     }\n  //   }\n  //   if (SourceForm === '2') {\n  //     const selected = new Set(PropsDisplay ? PropsDisplay.split(',') : [])\n  //     selected.delete(fieldKey.replace(`_${ParentId.toLowerCase()}`, ''))\n  //     const newSelete = [...selected].join()\n  //     const refBill = dataContext.findControl(parentRefBillId)\n  //     const defaultFieldData = metaReader.getDefaultData(NOCODE_MUL_REF_BILL_FIELD)\n  //     const fullData = { ...defaultFieldData, ...refBill }\n  //     const actions = [\n  //       [ParentId, { PropsDisplay: newSelete }],\n  //       [ParentId, { EntityData: { ...EntityData, PropsDisplay: newSelete } }],\n  //       [parentRefBillId, { PropsDisplay: newSelete }],\n  //       [parentRefBillId, { EntityData: { ...fullData.EntityData, PropsDisplay: newSelete } }]\n  //     ]\n  //     otherAction.push(createUpdateAction(actions))\n  //   }\n  // }\n\n  // // 关联表单表格模式，关联表单及关联的表格两个一起删除\n  // if (isRefBillTable(fieldType)) {\n  //   preHandleResults.push(createDeleteAction(RefBillId))\n  // }\n  // // 关联表单选项模式，关联表单及关联的表格两个一起删除\n  // if (isRefBill(fieldType) && RefTableId) {\n  //   preHandleResults.push(createDeleteAction(RefTableId))\n  // }\n  return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default()(preHandleResults).call(preHandleResults, otherAction);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (preDeleteHandle);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzA0MC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBYUE7QUFWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL3ByZUhhbmRsZS9wcmVEZWxldGVIYW5kbGUudHM/YTgyNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgeyBERUxfQ09OVFJPTCB9IGZyb20gJy4uL3JlZHVjZXIvcmVkdWNlQ29uc3RhbnRzJ1xuLy8gaW1wb3J0IHsgaXNSZWZCaWxsLCBpc1JlZkJpbGxUYWJsZSB9IGZyb20gJy4uL3V0aWxzL2NvbnRyb2wnXG5pbXBvcnQgeyBjcmVhdGVEZWxldGVBY3Rpb24gfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG4vLyBpbXBvcnQgeyBOT0NPREVfTVVMX1JFRl9CSUxMX0ZJRUxEIH0gZnJvbSAnLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHsgaXNHcm91cENvbnRhaW5lciB9IGZyb20gJy4uL3V0aWxzJ1xuXG5jb25zdCBwcmVEZWxldGVIYW5kbGUgPSAoXG4gIHtcbiAgICBnbG9iYWxDb25maWcsXG4gICAgZGF0YUNvbnRleHQsXG4gICAgc2VsZWN0aW9uQ29udGV4dCxcbiAgICBhY3Rpb24sXG4gICAgZGF0YUZhY3RvcnksXG4gICAgbW9kZWxGYWN0b3J5LFxuICAgIG1ldGFSZWFkZXJcbiAgfSxcbiAgcmVzb2x2ZSxcbiAgcmVqZWN0LFxuICBoYW5kbGVDb25maWdcbikgPT4ge1xuICBjb25zdCBwcmVIYW5kbGVSZXN1bHRzID0gW2FjdGlvbl1cbiAgY29uc29sZS5sb2coJ3ByZWRlbGV0ZWhhbmRsZScsIGFjdGlvbilcbiAgLy8gY29uc3QgeyB2YWx1ZSB9ID0gYWN0aW9uXG4gIC8vIGNvbnN0IHsgZGlzcGF0Y2hCaWxsRGF0YSB9ID0gaGFuZGxlQ29uZmlnXG4gIC8vIGNvbnN0IHNlbGVjdElkID0gc2VsZWN0aW9uQ29udGV4dC5nZXRTZWxlY3Rpb24oKVxuICBjb25zdCBvdGhlckFjdGlvbjphbnlbXSA9IFtdXG4gIGNvbnN0IHsgdmFsdWUgfSA9IGFjdGlvblxuICBjb25zdCBkZWxldGVJZHMgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXVxuICBkZWxldGVJZHMuZm9yRWFjaCgoaWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGNvbnRyb2xEYXRhID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woaWQpIHx8IHt9XG4gICAgY29uc3QgeyBfVHlwZV8gfSA9IGNvbnRyb2xEYXRhXG4gICAgaWYgKGlzR3JvdXBDb250YWluZXIoX1R5cGVfKSkge1xuICAgICAgY29uc3QgeyBHcm91cEluZGV4LCBHcm91cFBhcmVudElkIH0gPSBjb250cm9sRGF0YVxuICAgICAgaWYgKE51bWJlcihHcm91cEluZGV4KSA9PT0gMCkge1xuICAgICAgICAvLyDliKDpmaTnrKzkuIDkuKrpobXnrb7vvIzpnIDopoHmiorlubbliJfnmoTlhbblroPpobXnrb7kuZ/liKDkuoZcbiAgICAgICAgY29uc3Qgb3RoZXJHcm91cHMgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbEJ5Q29uZGl0aW9uKGl0ZW0gPT4ge1xuICAgICAgICAgIHJldHVybiBpc0dyb3VwQ29udGFpbmVyKGl0ZW0uX1R5cGVfKSAmJiBpdGVtLkdyb3VwUGFyZW50SWQgPT09IEdyb3VwUGFyZW50SWQgJiYgaXRlbS5Hcm91cEluZGV4ICE9PSB1bmRlZmluZWQgJiYgTnVtYmVyKGl0ZW0uR3JvdXBJbmRleCkgIT09IDBcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKG90aGVyR3JvdXBzLmxlbmd0aCkge1xuICAgICAgICAgIG90aGVyQWN0aW9uLnB1c2goY3JlYXRlRGVsZXRlQWN0aW9uKG90aGVyR3JvdXBzLm1hcChpdGVtID0+IGl0ZW0uSWQpKSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgLy8gY29uc3QgeyBQYXJlbnRJZCwgX1R5cGVfOiBmaWVsZFR5cGUsIEtleTogZmllbGRLZXksIFJlZlRhYmxlSWQsIFJlZkJpbGxJZCB9ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2wodmFsdWUpIHx8IHt9XG4gIC8vIGNvbnN0IHsgX1R5cGVfOiBwYXJlbnRUeXBlLCBJZCwgU291cmNlRm9ybSwgQmlsbEVudGl0eUlkRXgsIFByb3BzRGlzcGxheSwgUmVmQmlsbElkOiBwYXJlbnRSZWZCaWxsSWQsIEVudGl0eURhdGEgfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKFBhcmVudElkKSB8fCB7fVxuICAvLyBpZiAoUGFyZW50SWQgJiYgaXNSZWZCaWxsVGFibGUocGFyZW50VHlwZSkpIHtcbiAgLy8gICBjb25zdCBmb3JtID0gU291cmNlRm9ybSA9PT0gJzEnICYmICFCaWxsRW50aXR5SWRFeCA/IGAke0lkfV90YWJsZWAgOiBCaWxsRW50aXR5SWRFeFxuICAvLyAgIGNvbnN0IGZpZWxkSWQgPSB2YWx1ZS5yZXBsYWNlKGBfJHtQYXJlbnRJZH1gLCAnJylcbiAgLy8gICBpZiAoU291cmNlRm9ybSA9PT0gJzEnKSB7IC8vIOWGhemDqOihqOagvOaXtu+8jOebtOaOpeabtOaWsFxuICAvLyAgICAgZGlzcGF0Y2hCaWxsRGF0YSh7IGtleTogREVMX0NPTlRST0wsIHBheWxvYWQ6IHsgZm9ybSwgaWQ6IGZpZWxkSWQgfSB9KVxuICAvLyAgICAgaWYgKHNlbGVjdElkWzBdID09PSBQYXJlbnRJZCkge1xuICAvLyAgICAgICByZWplY3QoJ+WGhemDqOihqOagvOaXtu+8jOebtOaOpeabtOaWsHN0b3Jl77yM5Lul5Yig6Zmk5o6n5Lu2JylcbiAgLy8gICAgICAgcmV0dXJuIGZhbHNlXG4gIC8vICAgICB9XG4gIC8vICAgfVxuICAvLyAgIGlmIChTb3VyY2VGb3JtID09PSAnMicpIHtcbiAgLy8gICAgIGNvbnN0IHNlbGVjdGVkID0gbmV3IFNldChQcm9wc0Rpc3BsYXkgPyBQcm9wc0Rpc3BsYXkuc3BsaXQoJywnKSA6IFtdKVxuICAvLyAgICAgc2VsZWN0ZWQuZGVsZXRlKGZpZWxkS2V5LnJlcGxhY2UoYF8ke1BhcmVudElkLnRvTG93ZXJDYXNlKCl9YCwgJycpKVxuICAvLyAgICAgY29uc3QgbmV3U2VsZXRlID0gWy4uLnNlbGVjdGVkXS5qb2luKClcbiAgLy8gICAgIGNvbnN0IHJlZkJpbGwgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChwYXJlbnRSZWZCaWxsSWQpXG4gIC8vICAgICBjb25zdCBkZWZhdWx0RmllbGREYXRhID0gbWV0YVJlYWRlci5nZXREZWZhdWx0RGF0YShOT0NPREVfTVVMX1JFRl9CSUxMX0ZJRUxEKVxuICAvLyAgICAgY29uc3QgZnVsbERhdGEgPSB7IC4uLmRlZmF1bHRGaWVsZERhdGEsIC4uLnJlZkJpbGwgfVxuICAvLyAgICAgY29uc3QgYWN0aW9ucyA9IFtcbiAgLy8gICAgICAgW1BhcmVudElkLCB7IFByb3BzRGlzcGxheTogbmV3U2VsZXRlIH1dLFxuICAvLyAgICAgICBbUGFyZW50SWQsIHsgRW50aXR5RGF0YTogeyAuLi5FbnRpdHlEYXRhLCBQcm9wc0Rpc3BsYXk6IG5ld1NlbGV0ZSB9IH1dLFxuICAvLyAgICAgICBbcGFyZW50UmVmQmlsbElkLCB7IFByb3BzRGlzcGxheTogbmV3U2VsZXRlIH1dLFxuICAvLyAgICAgICBbcGFyZW50UmVmQmlsbElkLCB7IEVudGl0eURhdGE6IHsgLi4uZnVsbERhdGEuRW50aXR5RGF0YSwgUHJvcHNEaXNwbGF5OiBuZXdTZWxldGUgfSB9XVxuICAvLyAgICAgXVxuICAvLyAgICAgb3RoZXJBY3Rpb24ucHVzaChjcmVhdGVVcGRhdGVBY3Rpb24oYWN0aW9ucykpXG4gIC8vICAgfVxuICAvLyB9XG5cbiAgLy8gLy8g5YWz6IGU6KGo5Y2V6KGo5qC85qih5byP77yM5YWz6IGU6KGo5Y2V5Y+K5YWz6IGU55qE6KGo5qC85Lik5Liq5LiA6LW35Yig6ZmkXG4gIC8vIGlmIChpc1JlZkJpbGxUYWJsZShmaWVsZFR5cGUpKSB7XG4gIC8vICAgcHJlSGFuZGxlUmVzdWx0cy5wdXNoKGNyZWF0ZURlbGV0ZUFjdGlvbihSZWZCaWxsSWQpKVxuICAvLyB9XG4gIC8vIC8vIOWFs+iBlOihqOWNlemAiemhueaooeW8j++8jOWFs+iBlOihqOWNleWPiuWFs+iBlOeahOihqOagvOS4pOS4quS4gOi1t+WIoOmZpFxuICAvLyBpZiAoaXNSZWZCaWxsKGZpZWxkVHlwZSkgJiYgUmVmVGFibGVJZCkge1xuICAvLyAgIHByZUhhbmRsZVJlc3VsdHMucHVzaChjcmVhdGVEZWxldGVBY3Rpb24oUmVmVGFibGVJZCkpXG4gIC8vIH1cbiAgcmV0dXJuIHByZUhhbmRsZVJlc3VsdHMuY29uY2F0KG90aGVyQWN0aW9uKVxufVxuXG5leHBvcnQgZGVmYXVsdCBwcmVEZWxldGVIYW5kbGVcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3040\n");

/***/ }),

/***/ 63328:
/*!****************************************!*\
  !*** ./src/preHandle/preDragHandle.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 1900);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/control */ 3700);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../constants */ 98092);\n/* harmony import */ var _utils_preHandleUtils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../utils/preHandleUtils */ 99888);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../utils */ 41232);\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n// import { isAppInnerForm } from '../utils/refBillEditorUtils'\n\n\n// billFormNotAllowType\nvar billFormNotAllowType = [_constants__WEBPACK_IMPORTED_MODULE_15__.NOCODE_BIZBUTTON_AP];\n\n/**\n * 这里的拖拽有分大纲树拖拽和视图里面的拖拽\n * @param param0\n * @param resolve\n * @param reject\n * @param handleConfig\n * @returns\n */\nvar preDragHandle = function preDragHandle(_ref, resolve, reject, handleConfig) {\n  var _context5;\n  var globalConfig = _ref.globalConfig,\n    dataContext = _ref.dataContext,\n    selectionContext = _ref.selectionContext,\n    action = _ref.action,\n    dataFactory = _ref.dataFactory,\n    modelFactory = _ref.modelFactory,\n    metaReader = _ref.metaReader;\n  var billPropsData = handleConfig.billPropsData,\n    getHideFieldRef = handleConfig.getHideFieldRef,\n    setHideFieldRef = handleConfig.setHideFieldRef;\n  var showMessage = globalConfig.showMessage;\n  var type = action.type,\n    value = action.value;\n  var valueAfterHandle = value;\n  // dropPosition是大纲树拖拽特有的位置标识，其他拖拽是没有的\n  var origin = value.origin,\n    _target = value.target,\n    isPrev = value.isPrev,\n    dropPosition = value.dropPosition;\n  var target = _target;\n  var originIds = Array.isArray(origin) ? origin : [origin];\n  var uiData = dataContext.getData();\n  var items = uiData.Items;\n  var rootId = dataContext.getRootId();\n  var dragId = originIds[0];\n  var targetParentId = rootId;\n  var otherActions = [];\n  var targetControlInfo = {};\n  var isFirst = false;\n  var itemsLength = items.length;\n\n  // 大纲树拖拽的时候，拖拽到节点上有分情况。0是拖到节点里面。\n  var isNotDragInside = dropPosition && dropPosition !== 0;\n\n  // 拖拽校验：不允许表格内部拖拽\n  var targetField = dataContext.findControl(target);\n  // target有可能是根页面，没有parent\n  var targetParent = dataContext.getParentControl(target) || {};\n  var originParent = dataContext.getParentControl(dragId);\n  if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBillTable)(targetParent._Type_) && (0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBillTable)(originParent._Type_) && targetField._isEntryField_) {\n    if (originParent.Id === targetParent.Id) {\n      // return showMessage('表格内容请在右侧显示内容调整顺序')\n      var _ref2 = targetParent || {},\n        parentEntity = _ref2.EntityData,\n        parentRefBillId = _ref2.RefBillId;\n      var originField = dataContext.findControl(Array.isArray(origin) ? origin : [origin]);\n      // 获取新的列表\n      var newList = dataContext.getAllSiblings(target).reduce(function (result, ctrl) {\n        var _context3;\n        if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default()(origin).call(origin, ctrl.Id)) return result;\n        if (ctrl.Id === target) {\n          var _context, _context2;\n          return isPrev ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9___default()(_context = []).call(_context, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(result), (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(originField), [ctrl]) : _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9___default()(_context2 = []).call(_context2, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(result), [ctrl], (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(originField));\n        }\n        return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9___default()(_context3 = []).call(_context3, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(result), [ctrl]);\n      }, []);\n      // 获取新的显示属性\n      var newDisplay = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default()(newList).call(newList, function (ctrl) {\n        var _context4;\n        var str = \"\".concat(ctrl.Key.toLowerCase().replace(\"_\".concat(ctrl.ParentId.toLowerCase()), ''));\n        return (0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isDateRange)(ctrl._Type_) ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9___default()(_context4 = \"\".concat(str, \"_startdate,\")).call(_context4, str, \"_enddate\") : str;\n      }, []).join();\n      // 添加属性更新指令\n      otherActions.push((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUpdateAction)([[targetField.ParentId, {\n        PropsDisplay: newDisplay\n      }], [targetField.ParentId, {\n        EntityData: _objectSpread(_objectSpread({}, parentEntity), {}, {\n          PropsDisplay: newDisplay\n        })\n      }]]));\n      var hideField = getHideFieldRef();\n      var refField = (hideField === null || hideField === void 0 ? void 0 : hideField[parentRefBillId]) || {};\n      var newEntity = _objectSpread(_objectSpread({}, refField === null || refField === void 0 ? void 0 : refField.EntityData), {}, {\n        PropsDisplay: newDisplay\n      });\n      hideField[parentRefBillId] = _objectSpread(_objectSpread({}, refField), {}, {\n        PropsDisplay: newDisplay,\n        EntityData: newEntity\n      });\n      setHideFieldRef(hideField);\n    } else {\n      return showMessage('表格内容无法移动到其它表格');\n    }\n  }\n\n  // 下面的逻辑是大纲树拖拽的逻辑\n  if (isPrev) {\n    var _dataContext$findCont = dataContext.findControl(target),\n      _targetType = _dataContext$findCont[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_],\n      parentId = _dataContext$findCont[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__.PARENTID];\n    var _metaReader$getContro = metaReader.getControlMeta(_targetType),\n      IsContainer = _metaReader$getContro.IsContainer;\n    if (!IsContainer || isNotDragInside) {\n      var prevSiblingInfo = dataContext.getPrevSibling(target) || {};\n      var prevSiblingControl = prevSiblingInfo.control || {};\n      var prevControlId = prevSiblingControl[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__.ID];\n      if (prevControlId) {\n        //   target = prevControlId\n      } else {\n        isFirst = true;\n        // target = parentId\n      }\n    }\n  }\n\n  // 找到parentId\n  var _index = 0;\n  var targetIndex = -1;\n  var _loop = function _loop() {\n    var control = items[_index];\n    var ctrlId = control[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__.ID];\n    if (ctrlId === target) {\n      targetControlInfo = control;\n      targetIndex = _index;\n      var ctrlType = control[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_],\n        _parentId = control[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__.PARENTID];\n      var _metaReader$getContro3 = metaReader.getControlMeta(ctrlType),\n        _IsContainer = _metaReader$getContro3.IsContainer;\n      if (isPrev) {\n        // targetIndex不能有负数的情况（会导致从分组里面的字段拖拽到外面容器的时候，顺序错乱，导致异常）\n        targetIndex = targetIndex <= 0 ? 0 : targetIndex - 1;\n        targetParentId = _parentId;\n        if (_IsContainer) {\n          targetParentId = ctrlId;\n        }\n        if (isNotDragInside) {\n          targetParentId = _parentId;\n        }\n        if (isFirst) {\n          var _subControls = dataContext.getSubControls(targetParentId);\n          targetIndex = dataContext.findControlIndex(_subControls[0][_constants_propnames__WEBPACK_IMPORTED_MODULE_13__.ID]) - 1;\n          targetIndex = targetIndex < 0 ? _index : targetIndex;\n        }\n        _index = itemsLength;\n        return 1; // break\n      }\n      if (_parentId && !_IsContainer || isNotDragInside) {\n        targetParentId = _parentId;\n      } else if (_IsContainer) {\n        targetParentId = control[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__.ID];\n        var subControls = dataContext.getSubControls(ctrlId);\n        var _length = subControls.length;\n        if (_length > 0) {\n          targetIndex = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_11___default()(items).call(items, function (item) {\n            var _subControls2;\n            return item[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__.ID] === ((_subControls2 = subControls[_length - 1]) === null || _subControls2 === void 0 ? void 0 : _subControls2[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__.ID]);\n          });\n        }\n      }\n      _index = itemsLength;\n    } else {\n      _index++;\n    }\n  };\n  while (_index < itemsLength) {\n    if (_loop()) break;\n  }\n  var targetType = targetControlInfo[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_];\n  // 父控件数据（有可能这个targetParentId不存在）\n  var targetParentInfo = dataContext.findControl(targetParentId) || {};\n  // 源控件数据\n  var sourceControlInfo = dataContext.findControl(dragId);\n  var ApType = sourceControlInfo.ApType;\n\n  // 父控件类型\n  var parentType = targetParentInfo[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_];\n  // 源控件类型\n  var sourceType = sourceControlInfo[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__.FieldType] || sourceControlInfo[_constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_];\n  var sourceParentId = sourceControlInfo.ParentId,\n    EntityData = sourceControlInfo.EntityData,\n    _isEntryField_ = sourceControlInfo._isEntryField_,\n    GroupIndex = sourceControlInfo.GroupIndex,\n    GroupParentId = sourceControlInfo.GroupParentId;\n  var sourceParentField = dataContext.findControl(sourceParentId);\n  var _ref3 = sourceParentField || {},\n    sourceParentType = _ref3._Type_;\n\n  // 不允许拖到表单面板里面\n  if (parentType === _constants__WEBPACK_IMPORTED_MODULE_15__.NOCODE_BILLFORM_AP && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default()(billFormNotAllowType).call(billFormNotAllowType, sourceType)) {\n    return showMessage('控件类型不符合，不能添加。');\n  }\n  var canAdd = metaReader.canAdd(sourceType, parentType);\n  if ((0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(canAdd) === 'object' && !canAdd.success) {\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBillTable)(parentType) && (0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isSysControl)(sourceType)) {\n      // 父节点为关联表单表格的编号控件, 拖拽时不走校验流程\n    } else {\n      return showMessage(canAdd.message);\n    }\n  }\n  if (originIds.length === 1 && (0,_utils__WEBPACK_IMPORTED_MODULE_17__.isGroupContainer)(sourceType) && GroupIndex !== undefined && GroupParentId) {\n    var otherGroup = dataContext.findControlByCondition(function (control) {\n      return control.GroupParentId === GroupParentId && control.Id !== dragId;\n    });\n    if (otherGroup.length > 0) {\n      // 如果 子分组，拖拽到非分组页签区域\n      otherActions.push((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUpdateAction)([[dragId, {\n        GroupIndex: 0,\n        GroupParentId: (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUUid)()\n      }]]));\n      if (Number(GroupIndex) === 0) {\n        // 如果是第一个页签拖出\n        var otherGroupUpdates = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default()(otherGroup).call(otherGroup, function (group, index) {\n          var Id = group.Id;\n          return [Id, {\n            GroupIndex: index\n          }];\n        });\n        otherActions.push((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUpdateAction)(otherGroupUpdates));\n      }\n    }\n  }\n\n  // 业务按钮\n  if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isBizButton)(sourceType)) {\n    // 因为底部的页面按钮是从右到左的，所以针对方向重新整理一下插入顺序\n    if (isPrev) {\n      targetIndex = targetIndex + 1;\n    } else {\n      targetIndex = targetIndex - 1;\n    }\n  }\n  valueAfterHandle = _objectSpread(_objectSpread({}, valueAfterHandle), {}, {\n    origin: originIds,\n    targetIndex: targetIndex,\n    targetParentId: targetParentId\n  });\n\n  // 拖拽校验：1.单据体字段不允许拖到单头 2.单头字段不允许拖到到单体\n  if (((0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isEntryEntity)(parentType) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBillTable)(parentType)) && !_isEntryField_) {\n    return showMessage('表格之外的内容无法移动到表格内');\n  }\n  if ((!(0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isEntryEntity)(parentType) || !(0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isRefBillTable)(parentType) || !(0,_utils__WEBPACK_IMPORTED_MODULE_17__.isGroupContainer)(parentType)) && _isEntryField_ && sourceParentField.Id !== targetParentInfo.Id) {\n    return showMessage('表格的内容无法移动到表格之外');\n  }\n  // // 关联表单表格内的内容不可拖到单头或分组\n  // if (isRefBillTable(sourceParentType) && (isGroupContainer(parentType) || isBillForm(parentType))) {\n  //   return showMessage('表格的内容无法移动到表格之外')\n  // }\n  // // 单头或分组的内容不可以移动到表格内\n  // if ((isGroupContainer(sourceParentType) || isBillForm(sourceParentType)) && isRefBillTable(parentType)) {\n  //   return showMessage('表格之外的内容无法移动到表格内')\n  // }\n\n  // ApType重新赋值\n  if (ApType) {\n    var controlMeta = metaReader.getControlMeta(sourceType);\n    var MetaApType = controlMeta.ApType;\n    var _metaReader$getContro2 = metaReader.getControlMeta(parentType),\n      ParentBaseType = _metaReader$getContro2.BaseType;\n    var newApType = (0,_utils_preHandleUtils__WEBPACK_IMPORTED_MODULE_16__.getCurrentApType)(MetaApType, ParentBaseType);\n    if (ApType !== newApType) {\n      otherActions.push((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUpdateAction)([[dragId, {\n        ApType: newApType\n      }]]));\n    }\n  }\n\n  // 拖拽完后，同步修改entitydata父子关系\n  if (sourceParentId !== targetParentId && EntityData) {\n    otherActions.push((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createUpdateAction)([[dragId, {\n      EntityData: _objectSpread(_objectSpread({}, EntityData), {}, {\n        ParentId: targetParentId\n      })\n    }]]));\n  }\n  return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9___default()(_context5 = [{\n    type: type,\n    value: valueAfterHandle\n  }]).call(_context5, otherActions);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (preDragHandle);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjMzMjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYUE7QUFBQTtBQVZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeENBO0FBQUE7QUF3QkE7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL3ByZUhhbmRsZS9wcmVEcmFnSGFuZGxlLnRzPzAxOGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5LCBjcmVhdGVVcGRhdGVBY3Rpb24sIGNyZWF0ZVVVaWQgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgeyBQQVJFTlRJRCwgX1RZUEVfLCBJRCwgRmllbGRUeXBlIH0gZnJvbSAnLi4vY29uc3RhbnRzL3Byb3BuYW1lcydcbmltcG9ydCB7IGlzQml6QnV0dG9uLCBpc0VudHJ5RW50aXR5LCBpc1JlZkJpbGxUYWJsZSwgaXNEYXRlUmFuZ2UsIGlzU3lzQ29udHJvbCB9IGZyb20gJy4uL3V0aWxzL2NvbnRyb2wnXG5pbXBvcnQgeyBOT0NPREVfQklaQlVUVE9OX0FQLCBOT0NPREVfQklMTEZPUk1fQVAgfSBmcm9tICcuLi9jb25zdGFudHMnXG5cbmltcG9ydCB7IGdldEN1cnJlbnRBcFR5cGUgfSBmcm9tICcuLi91dGlscy9wcmVIYW5kbGVVdGlscydcbi8vIGltcG9ydCB7IGlzQXBwSW5uZXJGb3JtIH0gZnJvbSAnLi4vdXRpbHMvcmVmQmlsbEVkaXRvclV0aWxzJ1xuaW1wb3J0IHsgaXNHcm91cENvbnRhaW5lciB9IGZyb20gJy4uL3V0aWxzJ1xuXG4vLyBiaWxsRm9ybU5vdEFsbG93VHlwZVxuY29uc3QgYmlsbEZvcm1Ob3RBbGxvd1R5cGU6IHN0cmluZ1tdID0gW1xuICBOT0NPREVfQklaQlVUVE9OX0FQXG5dXG5cbi8qKlxuICog6L+Z6YeM55qE5ouW5ou95pyJ5YiG5aSn57qy5qCR5ouW5ou95ZKM6KeG5Zu+6YeM6Z2i55qE5ouW5ou9XG4gKiBAcGFyYW0gcGFyYW0wXG4gKiBAcGFyYW0gcmVzb2x2ZVxuICogQHBhcmFtIHJlamVjdFxuICogQHBhcmFtIGhhbmRsZUNvbmZpZ1xuICogQHJldHVybnNcbiAqL1xuY29uc3QgcHJlRHJhZ0hhbmRsZSA9IChcbiAge1xuICAgIGdsb2JhbENvbmZpZyxcbiAgICBkYXRhQ29udGV4dCxcbiAgICBzZWxlY3Rpb25Db250ZXh0LFxuICAgIGFjdGlvbixcbiAgICBkYXRhRmFjdG9yeSxcbiAgICBtb2RlbEZhY3RvcnksXG4gICAgbWV0YVJlYWRlclxuICB9LFxuICByZXNvbHZlLFxuICByZWplY3QsXG4gIGhhbmRsZUNvbmZpZzogYW55XG4pID0+IHtcbiAgY29uc3QgeyBiaWxsUHJvcHNEYXRhLCBnZXRIaWRlRmllbGRSZWYsIHNldEhpZGVGaWVsZFJlZiB9ID0gaGFuZGxlQ29uZmlnXG4gIGNvbnN0IHsgc2hvd01lc3NhZ2UgfSA9IGdsb2JhbENvbmZpZ1xuICBjb25zdCB7IHR5cGUsIHZhbHVlIH0gPSBhY3Rpb25cbiAgbGV0IHZhbHVlQWZ0ZXJIYW5kbGUgPSB2YWx1ZVxuICAvLyBkcm9wUG9zaXRpb27mmK/lpKfnurLmoJHmi5bmi73nibnmnInnmoTkvY3nva7moIfor4bvvIzlhbbku5bmi5bmi73mmK/msqHmnInnmoRcbiAgY29uc3QgeyBvcmlnaW4sIHRhcmdldDogX3RhcmdldCwgaXNQcmV2LCBkcm9wUG9zaXRpb24gfSA9IHZhbHVlXG4gIGNvbnN0IHRhcmdldDogc3RyaW5nID0gX3RhcmdldFxuICBjb25zdCBvcmlnaW5JZHM6IEFycmF5PHN0cmluZz4gPSBBcnJheS5pc0FycmF5KG9yaWdpbikgPyBvcmlnaW4gOiBbb3JpZ2luXVxuXG4gIGNvbnN0IHVpRGF0YSA9IGRhdGFDb250ZXh0LmdldERhdGEoKVxuICBjb25zdCBpdGVtczogSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5W10gPSB1aURhdGEuSXRlbXNcbiAgY29uc3Qgcm9vdElkOiBzdHJpbmcgPSBkYXRhQ29udGV4dC5nZXRSb290SWQoKVxuICBjb25zdCBkcmFnSWQ6IHN0cmluZyA9IG9yaWdpbklkc1swXVxuICBsZXQgdGFyZ2V0UGFyZW50SWQ6IHN0cmluZyA9IHJvb3RJZFxuICBjb25zdCBvdGhlckFjdGlvbnMgPSBbXVxuICBsZXQgdGFyZ2V0Q29udHJvbEluZm86IElDb250cm9sSXRlbVVwcGVyY2FzZUtleSA9IHt9XG4gIGxldCBpc0ZpcnN0OiBib29sZWFuID0gZmFsc2VcblxuICBjb25zdCBpdGVtc0xlbmd0aDogbnVtYmVyID0gaXRlbXMubGVuZ3RoXG5cbiAgLy8g5aSn57qy5qCR5ouW5ou955qE5pe25YCZ77yM5ouW5ou95Yiw6IqC54K55LiK5pyJ5YiG5oOF5Ya144CCMOaYr+aLluWIsOiKgueCuemHjOmdouOAglxuICBjb25zdCBpc05vdERyYWdJbnNpZGUgPSAoZHJvcFBvc2l0aW9uICYmIGRyb3BQb3NpdGlvbiAhPT0gMClcblxuICAvLyDmi5bmi73moKHpqozvvJrkuI3lhYHorrjooajmoLzlhoXpg6jmi5bmi71cbiAgY29uc3QgdGFyZ2V0RmllbGQgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbCh0YXJnZXQpXG4gIC8vIHRhcmdldOacieWPr+iDveaYr+aguemhtemdou+8jOayoeaciXBhcmVudFxuICBjb25zdCB0YXJnZXRQYXJlbnQgPSBkYXRhQ29udGV4dC5nZXRQYXJlbnRDb250cm9sKHRhcmdldCkgfHwge31cbiAgY29uc3Qgb3JpZ2luUGFyZW50ID0gZGF0YUNvbnRleHQuZ2V0UGFyZW50Q29udHJvbChkcmFnSWQpXG4gIGlmIChpc1JlZkJpbGxUYWJsZSh0YXJnZXRQYXJlbnQuX1R5cGVfKSAmJiBpc1JlZkJpbGxUYWJsZShvcmlnaW5QYXJlbnQuX1R5cGVfKSAmJiB0YXJnZXRGaWVsZC5faXNFbnRyeUZpZWxkXykge1xuICAgIGlmIChvcmlnaW5QYXJlbnQuSWQgPT09IHRhcmdldFBhcmVudC5JZCkge1xuICAgIC8vIHJldHVybiBzaG93TWVzc2FnZSgn6KGo5qC85YaF5a656K+35Zyo5Y+z5L6n5pi+56S65YaF5a656LCD5pW06aG65bqPJylcbiAgICAgIGNvbnN0IHsgRW50aXR5RGF0YTogcGFyZW50RW50aXR5LCBSZWZCaWxsSWQ6IHBhcmVudFJlZkJpbGxJZCB9ID0gdGFyZ2V0UGFyZW50IHx8IHt9XG4gICAgICBjb25zdCBvcmlnaW5GaWVsZCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKEFycmF5LmlzQXJyYXkob3JpZ2luKSA/IG9yaWdpbiA6IFtvcmlnaW5dKVxuICAgICAgLy8g6I635Y+W5paw55qE5YiX6KGoXG4gICAgICBjb25zdCBuZXdMaXN0ID0gZGF0YUNvbnRleHQuZ2V0QWxsU2libGluZ3ModGFyZ2V0KS5yZWR1Y2UoKHJlc3VsdDpzdHJpbmdbXSwgY3RybDphbnkpID0+IHtcbiAgICAgICAgaWYgKG9yaWdpbi5pbmNsdWRlcyhjdHJsLklkKSkgcmV0dXJuIHJlc3VsdFxuICAgICAgICBpZiAoY3RybC5JZCA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgcmV0dXJuIGlzUHJldiA/IFsuLi5yZXN1bHQsIC4uLm9yaWdpbkZpZWxkLCBjdHJsXSA6IFsuLi5yZXN1bHQsIGN0cmwsIC4uLm9yaWdpbkZpZWxkXVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbLi4ucmVzdWx0LCBjdHJsXVxuICAgICAgfSwgW10pXG4gICAgICAvLyDojrflj5bmlrDnmoTmmL7npLrlsZ7mgKdcbiAgICAgIGNvbnN0IG5ld0Rpc3BsYXkgPSBuZXdMaXN0Lm1hcCgoY3RybDphbnkpID0+IHtcbiAgICAgICAgY29uc3Qgc3RyID0gYCR7Y3RybC5LZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKGBfJHtjdHJsLlBhcmVudElkLnRvTG93ZXJDYXNlKCl9YCwgJycpfWBcbiAgICAgICAgcmV0dXJuIGlzRGF0ZVJhbmdlKGN0cmwuX1R5cGVfKSA/IGAke3N0cn1fc3RhcnRkYXRlLCR7c3RyfV9lbmRkYXRlYCA6IHN0clxuICAgICAgfSwgW10pLmpvaW4oKVxuICAgICAgLy8g5re75Yqg5bGe5oCn5pu05paw5oyH5LukXG4gICAgICBvdGhlckFjdGlvbnMucHVzaChjcmVhdGVVcGRhdGVBY3Rpb24oW1xuICAgICAgICBbdGFyZ2V0RmllbGQuUGFyZW50SWQsIHsgUHJvcHNEaXNwbGF5OiBuZXdEaXNwbGF5IH1dLFxuICAgICAgICBbdGFyZ2V0RmllbGQuUGFyZW50SWQsIHsgRW50aXR5RGF0YTogeyAuLi5wYXJlbnRFbnRpdHksIFByb3BzRGlzcGxheTogbmV3RGlzcGxheSB9IH1dXG4gICAgICBdKSlcbiAgICAgIGNvbnN0IGhpZGVGaWVsZCA9IGdldEhpZGVGaWVsZFJlZigpXG4gICAgICBjb25zdCByZWZGaWVsZCA9IGhpZGVGaWVsZD8uW3BhcmVudFJlZkJpbGxJZF0gfHwge31cbiAgICAgIGNvbnN0IG5ld0VudGl0eSA9IHsgLi4ucmVmRmllbGQ/LkVudGl0eURhdGEsIFByb3BzRGlzcGxheTogbmV3RGlzcGxheSB9XG4gICAgICBoaWRlRmllbGRbcGFyZW50UmVmQmlsbElkXSA9IHsgLi4ucmVmRmllbGQsIFByb3BzRGlzcGxheTogbmV3RGlzcGxheSwgRW50aXR5RGF0YTogbmV3RW50aXR5IH1cbiAgICAgIHNldEhpZGVGaWVsZFJlZihoaWRlRmllbGQpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzaG93TWVzc2FnZSgn6KGo5qC85YaF5a655peg5rOV56e75Yqo5Yiw5YW25a6D6KGo5qC8JylcbiAgICB9XG4gIH1cblxuICAvLyDkuIvpnaLnmoTpgLvovpHmmK/lpKfnurLmoJHmi5bmi73nmoTpgLvovpFcbiAgaWYgKGlzUHJldikge1xuICAgIGNvbnN0IHsgW19UWVBFX106IF90YXJnZXRUeXBlLCBbUEFSRU5USURdOiBwYXJlbnRJZCB9ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2wodGFyZ2V0KVxuICAgIGNvbnN0IHsgSXNDb250YWluZXIgfSA9IG1ldGFSZWFkZXIuZ2V0Q29udHJvbE1ldGEoX3RhcmdldFR5cGUpXG4gICAgaWYgKCFJc0NvbnRhaW5lciB8fCBpc05vdERyYWdJbnNpZGUpIHtcbiAgICAgIGNvbnN0IHByZXZTaWJsaW5nSW5mbyA9IGRhdGFDb250ZXh0LmdldFByZXZTaWJsaW5nKHRhcmdldCkgfHwge31cbiAgICAgIGNvbnN0IHByZXZTaWJsaW5nQ29udHJvbCA9IHByZXZTaWJsaW5nSW5mby5jb250cm9sIHx8IHt9XG4gICAgICBjb25zdCBwcmV2Q29udHJvbElkID0gcHJldlNpYmxpbmdDb250cm9sW0lEXVxuXG4gICAgICBpZiAocHJldkNvbnRyb2xJZCkge1xuICAgICAgICAvLyAgIHRhcmdldCA9IHByZXZDb250cm9sSWRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlzRmlyc3QgPSB0cnVlXG4gICAgICAgIC8vIHRhcmdldCA9IHBhcmVudElkXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8g5om+5YiwcGFyZW50SWRcbiAgbGV0IF9pbmRleDogbnVtYmVyID0gMFxuICBsZXQgdGFyZ2V0SW5kZXg6IG51bWJlciA9IC0xXG4gIHdoaWxlIChfaW5kZXggPCBpdGVtc0xlbmd0aCkge1xuICAgIGNvbnN0IGNvbnRyb2w6IElDb250cm9sSXRlbVVwcGVyY2FzZUtleSA9IGl0ZW1zW19pbmRleF1cbiAgICBjb25zdCBjdHJsSWQ6IHN0cmluZyA9IGNvbnRyb2xbSURdXG4gICAgaWYgKGN0cmxJZCA9PT0gdGFyZ2V0KSB7XG4gICAgICB0YXJnZXRDb250cm9sSW5mbyA9IGNvbnRyb2xcbiAgICAgIHRhcmdldEluZGV4ID0gX2luZGV4XG4gICAgICBjb25zdCB7IFtfVFlQRV9dOiBjdHJsVHlwZSwgW1BBUkVOVElEXTogcGFyZW50SWQgfSA9IGNvbnRyb2xcbiAgICAgIGNvbnN0IHsgSXNDb250YWluZXIgfSA9IG1ldGFSZWFkZXIuZ2V0Q29udHJvbE1ldGEoY3RybFR5cGUpXG4gICAgICBpZiAoaXNQcmV2KSB7XG4gICAgICAgIC8vIHRhcmdldEluZGV45LiN6IO95pyJ6LSf5pWw55qE5oOF5Ya177yI5Lya5a+86Ie05LuO5YiG57uE6YeM6Z2i55qE5a2X5q615ouW5ou95Yiw5aSW6Z2i5a655Zmo55qE5pe25YCZ77yM6aG65bqP6ZSZ5Lmx77yM5a+86Ie05byC5bi477yJXG4gICAgICAgIHRhcmdldEluZGV4ID0gKHRhcmdldEluZGV4IDw9IDAgPyAwIDogKHRhcmdldEluZGV4IC0gMSkpXG4gICAgICAgIHRhcmdldFBhcmVudElkID0gcGFyZW50SWRcbiAgICAgICAgaWYgKElzQ29udGFpbmVyKSB7XG4gICAgICAgICAgdGFyZ2V0UGFyZW50SWQgPSBjdHJsSWRcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOb3REcmFnSW5zaWRlKSB7XG4gICAgICAgICAgdGFyZ2V0UGFyZW50SWQgPSBwYXJlbnRJZFxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0ZpcnN0KSB7XG4gICAgICAgICAgY29uc3QgX3N1YkNvbnRyb2xzID0gZGF0YUNvbnRleHQuZ2V0U3ViQ29udHJvbHModGFyZ2V0UGFyZW50SWQpXG4gICAgICAgICAgdGFyZ2V0SW5kZXggPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbEluZGV4KF9zdWJDb250cm9sc1swXVtJRF0pIC0gMVxuICAgICAgICAgIHRhcmdldEluZGV4ID0gdGFyZ2V0SW5kZXggPCAwID8gX2luZGV4IDogdGFyZ2V0SW5kZXhcbiAgICAgICAgfVxuICAgICAgICBfaW5kZXggPSBpdGVtc0xlbmd0aFxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgaWYgKChwYXJlbnRJZCAmJiAhSXNDb250YWluZXIpIHx8IChpc05vdERyYWdJbnNpZGUpKSB7XG4gICAgICAgIHRhcmdldFBhcmVudElkID0gcGFyZW50SWRcbiAgICAgIH0gZWxzZSBpZiAoSXNDb250YWluZXIpIHtcbiAgICAgICAgdGFyZ2V0UGFyZW50SWQgPSBjb250cm9sW0lEXVxuICAgICAgICBjb25zdCBzdWJDb250cm9sczogSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5W10gPSBkYXRhQ29udGV4dC5nZXRTdWJDb250cm9scyhjdHJsSWQpXG4gICAgICAgIGNvbnN0IF9sZW5ndGg6IG51bWJlciA9IHN1YkNvbnRyb2xzLmxlbmd0aFxuICAgICAgICBpZiAoX2xlbmd0aCA+IDApIHtcbiAgICAgICAgICB0YXJnZXRJbmRleCA9IGl0ZW1zLmZpbmRJbmRleCgoaXRlbTogSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5KSA9PiBpdGVtW0lEXSA9PT0gc3ViQ29udHJvbHNbX2xlbmd0aCAtIDFdPy5bSURdKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBfaW5kZXggPSBpdGVtc0xlbmd0aFxuICAgIH0gZWxzZSB7XG4gICAgICBfaW5kZXgrK1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHRhcmdldFR5cGU6IHN0cmluZyA9IHRhcmdldENvbnRyb2xJbmZvW19UWVBFX11cbiAgLy8g54i25o6n5Lu25pWw5o2u77yI5pyJ5Y+v6IO96L+Z5LiqdGFyZ2V0UGFyZW50SWTkuI3lrZjlnKjvvIlcbiAgY29uc3QgdGFyZ2V0UGFyZW50SW5mbzogSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2wodGFyZ2V0UGFyZW50SWQpIHx8IHt9XG4gIC8vIOa6kOaOp+S7tuaVsOaNrlxuICBjb25zdCBzb3VyY2VDb250cm9sSW5mbzogSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woZHJhZ0lkKVxuXG4gIGNvbnN0IHsgQXBUeXBlIH0gPSBzb3VyY2VDb250cm9sSW5mb1xuXG4gIC8vIOeItuaOp+S7tuexu+Wei1xuICBjb25zdCBwYXJlbnRUeXBlOiBzdHJpbmcgPSB0YXJnZXRQYXJlbnRJbmZvW19UWVBFX11cbiAgLy8g5rqQ5o6n5Lu257G75Z6LXG4gIGNvbnN0IHNvdXJjZVR5cGU6IHN0cmluZyA9IHNvdXJjZUNvbnRyb2xJbmZvW0ZpZWxkVHlwZV0gfHwgc291cmNlQ29udHJvbEluZm9bX1RZUEVfXVxuXG4gIGNvbnN0IHsgUGFyZW50SWQ6IHNvdXJjZVBhcmVudElkLCBFbnRpdHlEYXRhLCBfaXNFbnRyeUZpZWxkXywgR3JvdXBJbmRleCwgR3JvdXBQYXJlbnRJZCB9ID0gc291cmNlQ29udHJvbEluZm9cbiAgY29uc3Qgc291cmNlUGFyZW50RmllbGQgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChzb3VyY2VQYXJlbnRJZClcbiAgY29uc3QgeyBfVHlwZV86IHNvdXJjZVBhcmVudFR5cGUgfSA9IHNvdXJjZVBhcmVudEZpZWxkIHx8IHt9XG5cbiAgLy8g5LiN5YWB6K645ouW5Yiw6KGo5Y2V6Z2i5p2/6YeM6Z2iXG4gIGlmIChwYXJlbnRUeXBlID09PSBOT0NPREVfQklMTEZPUk1fQVAgJiYgYmlsbEZvcm1Ob3RBbGxvd1R5cGUuaW5jbHVkZXMoc291cmNlVHlwZSkpIHtcbiAgICByZXR1cm4gc2hvd01lc3NhZ2UoJ+aOp+S7tuexu+Wei+S4jeespuWQiO+8jOS4jeiDvea3u+WKoOOAgicpXG4gIH1cbiAgY29uc3QgY2FuQWRkID0gbWV0YVJlYWRlci5jYW5BZGQoXG4gICAgc291cmNlVHlwZSxcbiAgICBwYXJlbnRUeXBlXG4gIClcbiAgaWYgKHR5cGVvZiBjYW5BZGQgPT09ICdvYmplY3QnICYmICFjYW5BZGQuc3VjY2Vzcykge1xuICAgIGlmIChpc1JlZkJpbGxUYWJsZShwYXJlbnRUeXBlKSAmJiBpc1N5c0NvbnRyb2woc291cmNlVHlwZSkpIHtcbiAgICAgIC8vIOeItuiKgueCueS4uuWFs+iBlOihqOWNleihqOagvOeahOe8luWPt+aOp+S7tiwg5ouW5ou95pe25LiN6LWw5qCh6aqM5rWB56iLXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzaG93TWVzc2FnZShjYW5BZGQubWVzc2FnZSlcbiAgICB9XG4gIH1cblxuICBpZiAob3JpZ2luSWRzLmxlbmd0aCA9PT0gMSAmJiBpc0dyb3VwQ29udGFpbmVyKHNvdXJjZVR5cGUpICYmIEdyb3VwSW5kZXggIT09IHVuZGVmaW5lZCAmJiBHcm91cFBhcmVudElkKSB7XG4gICAgY29uc3Qgb3RoZXJHcm91cCA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sQnlDb25kaXRpb24oKGNvbnRyb2wpID0+IHtcbiAgICAgIHJldHVybiBjb250cm9sLkdyb3VwUGFyZW50SWQgPT09IEdyb3VwUGFyZW50SWQgJiYgY29udHJvbC5JZCAhPT0gZHJhZ0lkXG4gICAgfSlcbiAgICBpZiAob3RoZXJHcm91cC5sZW5ndGggPiAwKSB7XG4gICAgICAvLyDlpoLmnpwg5a2Q5YiG57uE77yM5ouW5ou95Yiw6Z2e5YiG57uE6aG1562+5Yy65Z+fXG4gICAgICBvdGhlckFjdGlvbnMucHVzaChjcmVhdGVVcGRhdGVBY3Rpb24oW1tkcmFnSWQsIHsgR3JvdXBJbmRleDogMCwgR3JvdXBQYXJlbnRJZDogY3JlYXRlVVVpZCgpIH1dXSkpXG4gICAgICBpZiAoTnVtYmVyKEdyb3VwSW5kZXgpID09PSAwKSB7XG4gICAgICAgIC8vIOWmguaenOaYr+esrOS4gOS4qumhteetvuaLluWHulxuICAgICAgICBjb25zdCBvdGhlckdyb3VwVXBkYXRlcyA9IG90aGVyR3JvdXAubWFwKChncm91cCwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgSWQgfSA9IGdyb3VwXG4gICAgICAgICAgcmV0dXJuIFtJZCwgeyBHcm91cEluZGV4OiBpbmRleCB9XVxuICAgICAgICB9KVxuICAgICAgICBvdGhlckFjdGlvbnMucHVzaChjcmVhdGVVcGRhdGVBY3Rpb24ob3RoZXJHcm91cFVwZGF0ZXMpKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIOS4muWKoeaMiemSrlxuICBpZiAoaXNCaXpCdXR0b24oc291cmNlVHlwZSkpIHtcbiAgICAvLyDlm6DkuLrlupXpg6jnmoTpobXpnaLmjInpkq7mmK/ku47lj7PliLDlt6bnmoTvvIzmiYDku6Xpkojlr7nmlrnlkJHph43mlrDmlbTnkIbkuIDkuIvmj5LlhaXpobrluo9cbiAgICBpZiAoaXNQcmV2KSB7XG4gICAgICB0YXJnZXRJbmRleCA9IHRhcmdldEluZGV4ICsgMVxuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRJbmRleCA9IHRhcmdldEluZGV4IC0gMVxuICAgIH1cbiAgfVxuXG4gIHZhbHVlQWZ0ZXJIYW5kbGUgPSB7XG4gICAgLi4udmFsdWVBZnRlckhhbmRsZSxcbiAgICBvcmlnaW46IG9yaWdpbklkcyxcbiAgICB0YXJnZXRJbmRleCxcbiAgICB0YXJnZXRQYXJlbnRJZFxuICB9XG5cbiAgLy8g5ouW5ou95qCh6aqM77yaMS7ljZXmja7kvZPlrZfmrrXkuI3lhYHorrjmi5bliLDljZXlpLQgMi7ljZXlpLTlrZfmrrXkuI3lhYHorrjmi5bliLDliLDljZXkvZNcbiAgaWYgKChpc0VudHJ5RW50aXR5KHBhcmVudFR5cGUpIHx8IGlzUmVmQmlsbFRhYmxlKHBhcmVudFR5cGUpKSAmJiAhX2lzRW50cnlGaWVsZF8pIHtcbiAgICByZXR1cm4gc2hvd01lc3NhZ2UoJ+ihqOagvOS5i+WklueahOWGheWuueaXoOazleenu+WKqOWIsOihqOagvOWGhScpXG4gIH1cbiAgaWYgKCghaXNFbnRyeUVudGl0eShwYXJlbnRUeXBlKSB8fCAhaXNSZWZCaWxsVGFibGUocGFyZW50VHlwZSkgfHwgIWlzR3JvdXBDb250YWluZXIocGFyZW50VHlwZSkpICYmIF9pc0VudHJ5RmllbGRfICYmIHNvdXJjZVBhcmVudEZpZWxkLklkICE9PSB0YXJnZXRQYXJlbnRJbmZvLklkKSB7XG4gICAgcmV0dXJuIHNob3dNZXNzYWdlKCfooajmoLznmoTlhoXlrrnml6Dms5Xnp7vliqjliLDooajmoLzkuYvlpJYnKVxuICB9XG4gIC8vIC8vIOWFs+iBlOihqOWNleihqOagvOWGheeahOWGheWuueS4jeWPr+aLluWIsOWNleWktOaIluWIhue7hFxuICAvLyBpZiAoaXNSZWZCaWxsVGFibGUoc291cmNlUGFyZW50VHlwZSkgJiYgKGlzR3JvdXBDb250YWluZXIocGFyZW50VHlwZSkgfHwgaXNCaWxsRm9ybShwYXJlbnRUeXBlKSkpIHtcbiAgLy8gICByZXR1cm4gc2hvd01lc3NhZ2UoJ+ihqOagvOeahOWGheWuueaXoOazleenu+WKqOWIsOihqOagvOS5i+WklicpXG4gIC8vIH1cbiAgLy8gLy8g5Y2V5aS05oiW5YiG57uE55qE5YaF5a655LiN5Y+v5Lul56e75Yqo5Yiw6KGo5qC85YaFXG4gIC8vIGlmICgoaXNHcm91cENvbnRhaW5lcihzb3VyY2VQYXJlbnRUeXBlKSB8fCBpc0JpbGxGb3JtKHNvdXJjZVBhcmVudFR5cGUpKSAmJiBpc1JlZkJpbGxUYWJsZShwYXJlbnRUeXBlKSkge1xuICAvLyAgIHJldHVybiBzaG93TWVzc2FnZSgn6KGo5qC85LmL5aSW55qE5YaF5a655peg5rOV56e75Yqo5Yiw6KGo5qC85YaFJylcbiAgLy8gfVxuXG4gIC8vIEFwVHlwZemHjeaWsOi1i+WAvFxuICBpZiAoQXBUeXBlKSB7XG4gICAgY29uc3QgY29udHJvbE1ldGEgPSBtZXRhUmVhZGVyLmdldENvbnRyb2xNZXRhKHNvdXJjZVR5cGUpXG4gICAgY29uc3QgeyBBcFR5cGU6IE1ldGFBcFR5cGUgfSA9IGNvbnRyb2xNZXRhXG4gICAgY29uc3QgeyBCYXNlVHlwZTogUGFyZW50QmFzZVR5cGUgfSA9IG1ldGFSZWFkZXIuZ2V0Q29udHJvbE1ldGEocGFyZW50VHlwZSlcbiAgICBjb25zdCBuZXdBcFR5cGUgPSBnZXRDdXJyZW50QXBUeXBlKE1ldGFBcFR5cGUsIFBhcmVudEJhc2VUeXBlKVxuICAgIGlmIChBcFR5cGUgIT09IG5ld0FwVHlwZSkge1xuICAgICAgb3RoZXJBY3Rpb25zLnB1c2goY3JlYXRlVXBkYXRlQWN0aW9uKFtbZHJhZ0lkLCB7IEFwVHlwZTogbmV3QXBUeXBlIH1dXSkpXG4gICAgfVxuICB9XG5cbiAgLy8g5ouW5ou95a6M5ZCO77yM5ZCM5q2l5L+u5pS5ZW50aXR5ZGF0YeeItuWtkOWFs+ezu1xuICBpZiAoc291cmNlUGFyZW50SWQgIT09IHRhcmdldFBhcmVudElkICYmIEVudGl0eURhdGEpIHtcbiAgICBvdGhlckFjdGlvbnMucHVzaChjcmVhdGVVcGRhdGVBY3Rpb24oW1tkcmFnSWQsIHsgRW50aXR5RGF0YTogeyAuLi5FbnRpdHlEYXRhLCBQYXJlbnRJZDogdGFyZ2V0UGFyZW50SWQgfSB9XV0pKVxuICB9XG5cbiAgcmV0dXJuIFt7IHR5cGUsIHZhbHVlOiB2YWx1ZUFmdGVySGFuZGxlIH1dLmNvbmNhdChvdGhlckFjdGlvbnMpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHByZURyYWdIYW5kbGVcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///63328\n");

/***/ }),

/***/ 49164:
/*!*****************************************!*\
  !*** ./src/preHandle/prePasteHandle.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils */ 41232);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/control */ 3700);\n/* harmony import */ var _utils_preHandleUtils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils/preHandleUtils */ 99888);\n\n\n\n\n\n\n\n\nvar _excluded = [\"globalConfig\", \"dataContext\", \"selectionContext\", \"action\", \"dataFactory\", \"modelFactory\", \"metaReader\"],\n  _excluded2 = [\"type\", \"value\"];\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-04-26 09:43:11\n * @LastEditTime: 2023-04-27 13:46:15\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\nvar preAddHandle = function preAddHandle(_ref, resolve, reject, handleConfig) {\n  var globalConfig = _ref.globalConfig,\n    dataContext = _ref.dataContext,\n    selectionContext = _ref.selectionContext,\n    action = _ref.action,\n    dataFactory = _ref.dataFactory,\n    modelFactory = _ref.modelFactory,\n    metaReader = _ref.metaReader,\n    others = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_ref, _excluded);\n  var type = action.type,\n    _value = action.value,\n    rest = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(action, _excluded2);\n  var valueToArr = (0,_utils__WEBPACK_IMPORTED_MODULE_12__.convertToArray)(_value);\n  var showMessage = globalConfig.showMessage;\n  var controlCacheApi = handleConfig.controlCacheApi;\n\n  // 取出顶层黏贴的控件（eg：复制一个单据体或分组容器，此时顶层就为单据体分组容器本身）\n  var topControls = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(valueToArr).call(valueToArr, function (item) {\n    var controlType = item._Type_,\n      _isEntryField_ = item._isEntryField_;\n    var pasteParent = dataContext.findControl(item.ParentId);\n    if (pasteParent) {\n      var pasteParentType = pasteParent._Type_;\n      // 判断顶层控件能否复制进去\n      var canAddResult = metaReader.canAdd(controlType, pasteParent);\n      if ((0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(canAddResult) === 'object' && !canAddResult.success) {\n        showMessage(canAddResult.message);\n        return false;\n      }\n      if (!(0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isEntryEntity)(pasteParentType) && _isEntryField_) {\n        showMessage('父容器控件类型不符合，不能添加。');\n        return false;\n      }\n      if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_14__.isEntryEntity)(pasteParentType) && !_isEntryField_) {\n        showMessage('父容器控件类型不符合，不能添加。');\n        return false;\n      }\n      return true;\n    }\n    return false;\n  });\n  var topControlIds = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(topControls).call(topControls, function (item) {\n    return item.Id;\n  });\n  valueToArr = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(valueToArr).call(valueToArr, function (item) {\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(topControlIds).call(topControlIds, item.Id)) {\n      var _Type_ = item._Type_,\n        ApType = item.ApType,\n        NoCodeDefValue = item.NoCodeDefValue,\n        DateRangeDefValue = item.DateRangeDefValue;\n      var newItem = _objectSpread({}, item);\n      var _dataContext$findCont = dataContext.findControl(item.ParentId),\n        parentType = _dataContext$findCont._Type_;\n      // ApType重新赋值\n      if (ApType) {\n        var controlMeta = metaReader.getControlMeta(_Type_);\n        var MetaApType = controlMeta.ApType;\n        var _metaReader$getContro = metaReader.getControlMeta(parentType),\n          ParentBaseType = _metaReader$getContro.BaseType;\n        newItem.ApType = (0,_utils_preHandleUtils__WEBPACK_IMPORTED_MODULE_15__.getCurrentApType)(MetaApType, ParentBaseType);\n      }\n      return newItem;\n    } else {\n      return item;\n    }\n  });\n  var getAllPasteControls = function getAllPasteControls(controlIds) {\n    var _controls;\n    // 根据最外层topControlIds递归遍历出所有复制的控件\n    var controls = [];\n    (_controls = controls).push.apply(_controls, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(valueToArr).call(valueToArr, function (item) {\n      return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(controlIds).call(controlIds, item.Id);\n    })));\n    var subControls = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(valueToArr).call(valueToArr, function (item) {\n      return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(controlIds).call(controlIds, item.ParentId);\n    });\n    if (subControls.length > 0) {\n      var subControlIds = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(subControls).call(subControls, function (item) {\n        return item.Id;\n      });\n      controls = subControlIds.reduce(function (prev, subControlId) {\n        var _context;\n        return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_11___default()(_context = []).call(_context, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(prev), (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(getAllPasteControls([subControlId])));\n      }, controls);\n    }\n    return controls;\n  };\n  var allPasteControls = getAllPasteControls(topControlIds);\n  setTimeout(function () {\n    if (topControlIds.length === 1) {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_13__.eventBus.emit('add-control-id', topControlIds[0]);\n    }\n  }, 0);\n  controlCacheApi.addCache('controlId', topControlIds[0]);\n  var preHandleResults = [_objectSpread({\n    type: type,\n    value: allPasteControls\n  }, rest)];\n  return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_8___default()(preHandleResults).call(preHandleResults, function (action) {\n    var _action$value;\n    return ((_action$value = action.value) === null || _action$value === void 0 ? void 0 : _action$value.length) !== 0;\n  });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (preAddHandle);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkxNjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQWNBO0FBWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvcHJlSGFuZGxlL3ByZVBhc3RlSGFuZGxlLnRzPzE3OWUiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMy0wNC0yNiAwOTo0MzoxMVxuICogQExhc3RFZGl0VGltZTogMjAyMy0wNC0yNyAxMzo0NjoxNVxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCB7IElELCBfVFlQRV8sIElURU1TIH0gZnJvbSAnLi4vY29uc3RhbnRzL3Byb3BuYW1lcydcbmltcG9ydCB7IGNvbnZlcnRUb0FycmF5IH0gZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgeyBldmVudEJ1cyB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IGlzRW50cnlFbnRpdHkgfSBmcm9tICcuLi91dGlscy9jb250cm9sJ1xuaW1wb3J0IHsgZ2V0Q3VycmVudEFwVHlwZSwgdW5FeGlzdEVudGl0eUNvbnRyb2xUeXBlIH0gZnJvbSAnLi4vdXRpbHMvcHJlSGFuZGxlVXRpbHMnXG5cbmNvbnN0IHByZUFkZEhhbmRsZSA9IChcbiAge1xuICAgIGdsb2JhbENvbmZpZyxcbiAgICBkYXRhQ29udGV4dCxcbiAgICBzZWxlY3Rpb25Db250ZXh0LFxuICAgIGFjdGlvbixcbiAgICBkYXRhRmFjdG9yeSxcbiAgICBtb2RlbEZhY3RvcnksXG4gICAgbWV0YVJlYWRlcixcbiAgICAuLi5vdGhlcnNcbiAgfSxcbiAgcmVzb2x2ZSxcbiAgcmVqZWN0LFxuICBoYW5kbGVDb25maWc6IGFueVxuKSA9PiB7XG4gIGNvbnN0IHsgdHlwZSwgdmFsdWU6IF92YWx1ZSwgLi4ucmVzdCB9ID0gYWN0aW9uXG4gIGxldCB2YWx1ZVRvQXJyID0gY29udmVydFRvQXJyYXkoX3ZhbHVlKVxuICBjb25zdCB7IHNob3dNZXNzYWdlIH0gPSBnbG9iYWxDb25maWdcbiAgY29uc3QgeyBjb250cm9sQ2FjaGVBcGkgfSA9IGhhbmRsZUNvbmZpZ1xuXG4gIC8vIOWPluWHuumhtuWxgum7j+i0tOeahOaOp+S7tu+8iGVn77ya5aSN5Yi25LiA5Liq5Y2V5o2u5L2T5oiW5YiG57uE5a655Zmo77yM5q2k5pe26aG25bGC5bCx5Li65Y2V5o2u5L2T5YiG57uE5a655Zmo5pys6Lqr77yJXG4gIGNvbnN0IHRvcENvbnRyb2xzID0gdmFsdWVUb0Fyci5maWx0ZXIoaXRlbSA9PiB7XG4gICAgY29uc3QgeyBfVHlwZV86IGNvbnRyb2xUeXBlLCBfaXNFbnRyeUZpZWxkXyB9ID0gaXRlbVxuICAgIGNvbnN0IHBhc3RlUGFyZW50ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woaXRlbS5QYXJlbnRJZClcbiAgICBpZiAocGFzdGVQYXJlbnQpIHtcbiAgICAgIGNvbnN0IHsgX1R5cGVfOiBwYXN0ZVBhcmVudFR5cGUgfSA9IHBhc3RlUGFyZW50XG4gICAgICAvLyDliKTmlq3pobblsYLmjqfku7bog73lkKblpI3liLbov5vljrtcbiAgICAgIGNvbnN0IGNhbkFkZFJlc3VsdCA9IG1ldGFSZWFkZXIuY2FuQWRkKGNvbnRyb2xUeXBlLCBwYXN0ZVBhcmVudClcbiAgICAgIGlmICh0eXBlb2YgY2FuQWRkUmVzdWx0ID09PSAnb2JqZWN0JyAmJiAhY2FuQWRkUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgc2hvd01lc3NhZ2UoY2FuQWRkUmVzdWx0Lm1lc3NhZ2UpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgaWYgKCFpc0VudHJ5RW50aXR5KHBhc3RlUGFyZW50VHlwZSkgJiYgX2lzRW50cnlGaWVsZF8pIHtcbiAgICAgICAgc2hvd01lc3NhZ2UoJ+eItuWuueWZqOaOp+S7tuexu+Wei+S4jeespuWQiO+8jOS4jeiDvea3u+WKoOOAgicpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgaWYgKGlzRW50cnlFbnRpdHkocGFzdGVQYXJlbnRUeXBlKSAmJiAhX2lzRW50cnlGaWVsZF8pIHtcbiAgICAgICAgc2hvd01lc3NhZ2UoJ+eItuWuueWZqOaOp+S7tuexu+Wei+S4jeespuWQiO+8jOS4jeiDvea3u+WKoOOAgicpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH0pXG4gIGNvbnN0IHRvcENvbnRyb2xJZHMgPSB0b3BDb250cm9scy5tYXAoaXRlbSA9PiBpdGVtLklkKVxuXG4gIHZhbHVlVG9BcnIgPSB2YWx1ZVRvQXJyLm1hcChpdGVtID0+IHtcbiAgICBpZiAodG9wQ29udHJvbElkcy5pbmNsdWRlcyhpdGVtLklkKSkge1xuICAgICAgY29uc3QgeyBfVHlwZV8sIEFwVHlwZSwgTm9Db2RlRGVmVmFsdWUsIERhdGVSYW5nZURlZlZhbHVlIH0gPSBpdGVtXG4gICAgICBjb25zdCBuZXdJdGVtID0geyAuLi5pdGVtIH1cbiAgICAgIGNvbnN0IHsgX1R5cGVfOiBwYXJlbnRUeXBlIH0gPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChpdGVtLlBhcmVudElkKVxuICAgICAgLy8gQXBUeXBl6YeN5paw6LWL5YC8XG4gICAgICBpZiAoQXBUeXBlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xNZXRhID0gbWV0YVJlYWRlci5nZXRDb250cm9sTWV0YShfVHlwZV8pXG4gICAgICAgIGNvbnN0IHsgQXBUeXBlOiBNZXRhQXBUeXBlIH0gPSBjb250cm9sTWV0YVxuICAgICAgICBjb25zdCB7IEJhc2VUeXBlOiBQYXJlbnRCYXNlVHlwZSB9ID0gbWV0YVJlYWRlci5nZXRDb250cm9sTWV0YShwYXJlbnRUeXBlKVxuICAgICAgICBuZXdJdGVtLkFwVHlwZSA9IGdldEN1cnJlbnRBcFR5cGUoTWV0YUFwVHlwZSwgUGFyZW50QmFzZVR5cGUpXG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3SXRlbVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaXRlbVxuICAgIH1cbiAgfSlcbiAgY29uc3QgZ2V0QWxsUGFzdGVDb250cm9scyA9IChjb250cm9sSWRzOiBzdHJpbmdbXSkgPT4ge1xuICAgIC8vIOagueaNruacgOWkluWxgnRvcENvbnRyb2xJZHPpgJLlvZLpgY3ljoblh7rmiYDmnInlpI3liLbnmoTmjqfku7ZcbiAgICBsZXQgY29udHJvbHM6IEFycmF5PGFueT4gPSBbXVxuICAgIGNvbnRyb2xzLnB1c2goLi4udmFsdWVUb0Fyci5maWx0ZXIoaXRlbSA9PiBjb250cm9sSWRzLmluY2x1ZGVzKGl0ZW0uSWQpKSlcbiAgICBjb25zdCBzdWJDb250cm9scyA9IHZhbHVlVG9BcnIuZmlsdGVyKGl0ZW0gPT4gY29udHJvbElkcy5pbmNsdWRlcyhpdGVtLlBhcmVudElkKSlcbiAgICBpZiAoc3ViQ29udHJvbHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qgc3ViQ29udHJvbElkcyA9IHN1YkNvbnRyb2xzLm1hcChpdGVtID0+IGl0ZW0uSWQpXG4gICAgICBjb250cm9scyA9IHN1YkNvbnRyb2xJZHMucmVkdWNlKChwcmV2OiBhbnlbXSwgc3ViQ29udHJvbElkOiBzdHJpbmcpID0+IFsuLi5wcmV2LCAuLi5nZXRBbGxQYXN0ZUNvbnRyb2xzKFtzdWJDb250cm9sSWRdKV0sIGNvbnRyb2xzKVxuICAgIH1cbiAgICByZXR1cm4gY29udHJvbHNcbiAgfVxuICBjb25zdCBhbGxQYXN0ZUNvbnRyb2xzID0gZ2V0QWxsUGFzdGVDb250cm9scyh0b3BDb250cm9sSWRzKVxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpZiAodG9wQ29udHJvbElkcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGV2ZW50QnVzLmVtaXQoJ2FkZC1jb250cm9sLWlkJywgdG9wQ29udHJvbElkc1swXSlcbiAgICB9XG4gIH0sIDApXG4gIGNvbnRyb2xDYWNoZUFwaS5hZGRDYWNoZSgnY29udHJvbElkJywgdG9wQ29udHJvbElkc1swXSlcblxuICBjb25zdCBwcmVIYW5kbGVSZXN1bHRzID0gW3sgdHlwZSwgdmFsdWU6IGFsbFBhc3RlQ29udHJvbHMsIC4uLnJlc3QgfV1cbiAgcmV0dXJuIHByZUhhbmRsZVJlc3VsdHMuZmlsdGVyKGFjdGlvbiA9PiBhY3Rpb24udmFsdWU/Lmxlbmd0aCAhPT0gMClcbn1cblxuZXhwb3J0IGRlZmF1bHQgcHJlQWRkSGFuZGxlXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///49164\n");

/***/ }),

/***/ 70084:
/*!******************************************!*\
  !*** ./src/preHandle/preUpdateHandle.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/values */ 72400);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils/control */ 3700);\n/* harmony import */ var _utils_preHandleUtils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../utils/preHandleUtils */ 99888);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../reducer/reduceConstants */ 10788);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../constants */ 98092);\n/* harmony import */ var _utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../utils/refBillEditorUtils */ 82048);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../utils */ 41232);\n\n\n\n\n\n\n\n\n\nvar _excluded = [\"type\", \"value\"],\n  _excluded2 = [\"Name\", \"_Type_\", \"RefBillId\", \"RefTableId\", \"EntityData\", \"ParentId\", \"Key\"];\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_12___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-09-26 09:42:12\n * @LastEditTime: 2023-07-04 15:12:17\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\n\nvar preUpdateHandle = function preUpdateHandle(_ref, resolve, reject, handleConfig) {\n  var _context6;\n  var globalConfig = _ref.globalConfig,\n    dataContext = _ref.dataContext,\n    selectionContext = _ref.selectionContext,\n    action = _ref.action,\n    dataFactory = _ref.dataFactory,\n    modelFactory = _ref.modelFactory,\n    metaReader = _ref.metaReader;\n  var type = action.type,\n    value = action.value,\n    rest = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(action, _excluded);\n  var controlCacheApi = handleConfig.controlCacheApi,\n    dispatchBillData = handleConfig.dispatchBillData,\n    billPropsData = handleConfig.billPropsData,\n    getHideFieldRef = handleConfig.getHideFieldRef,\n    setHideFieldRef = handleConfig.setHideFieldRef;\n  var appendActions = [];\n  var hideCacheFields = getHideFieldRef(); // 隐藏控件缓存\n  value.forEach(function (item) {\n    var _controlData;\n    var _item = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(item, 2),\n      id = _item[0],\n      change = _item[1];\n    var controlData = dataContext.findControl(id);\n    var fieldIndex = dataContext.findControlIndex(id);\n    var defaultData = controlData ? metaReader.getDefaultData((_controlData = controlData) === null || _controlData === void 0 ? void 0 : _controlData._Type_) : {};\n    controlData = _objectSpread(_objectSpread({}, defaultData), controlData);\n    var _ref2 = controlData || {},\n      oldName = _ref2.Name,\n      controlType = _ref2._Type_,\n      RefBillId = _ref2.RefBillId,\n      RefTableId = _ref2.RefTableId,\n      EntityData = _ref2.EntityData,\n      ParentId = _ref2.ParentId,\n      fieldKey = _ref2.Key,\n      others = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_ref2, _excluded2);\n    var _ref3 = dataContext.findControl(ParentId) || {},\n      parentType = _ref3._Type_,\n      BillEntityIdEx = _ref3.BillEntityIdEx,\n      SourceForm = _ref3.SourceForm;\n\n    // 单行文本切换‘校验类型’，名称也需要进行联动\n    // if ('TextValidType' in change) {\n    //   const validType = change.TextValidType\n    //   const newName = getNameByValidateType(validType)\n    //   if (newName && newName !== oldName) {\n    //     // appendActions.push(createUpdateAction([[id, { Name: newName }]]))\n    //     /**\n    //      * 这里不用appendActions，用appendActions还需要处理额外处理entityData的变化\n    //         直接将变更合并进change，然后在下一步它会自动处理\n    //      */\n    //     Object.assign(change, { Name: newName })\n    //   }\n    // }\n\n    if ('Status' in change) {\n      var statusAction = (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_20__.getUpdateStatusAction)(item, hideCacheFields, dataContext, metaReader);\n      statusAction && appendActions.push(statusAction);\n    }\n\n    // 切换日期格式，如果设置了默认值，则需重置默认值\n    if ('FormatType' in change) {\n      var _controlData2 = controlData,\n        DateRangeDefValue = _controlData2.DateRangeDefValue,\n        NoCodeDefValue = _controlData2.NoCodeDefValue;\n      if (DateRangeDefValue && (0,_utils_control__WEBPACK_IMPORTED_MODULE_15__.isDateRange)(controlType)) {\n        (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(change, {\n          DateRangeDefValue: undefined\n        });\n      }\n      if (NoCodeDefValue && (0,_utils_control__WEBPACK_IMPORTED_MODULE_15__.isDate)(controlType)) {\n        (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(change, {\n          NoCodeDefValue: undefined\n        });\n      }\n    }\n    if ('ParentId' in change) {\n      var _dataContext$findCont = dataContext.findControl(change.ParentId),\n        parentStatus = _dataContext$findCont.Status,\n        pType = _dataContext$findCont._Type_;\n      if ((0,_utils__WEBPACK_IMPORTED_MODULE_21__.isGroupContainer)(pType) && parentStatus !== undefined) {\n        var allSubControlId = dataContext.getAllSubControlIds(id);\n        appendActions.push((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.createUpdateAction)(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(allSubControlId).call(allSubControlId, function (id) {\n          return [id, {\n            Status: parentStatus\n          }];\n        })));\n      }\n    }\n\n    // 关联表单控件\n    // 如果切换成表格模式且之前未创建表格控件，需要创建表格控件\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_15__.isRefBill)(controlType)) {\n      if ('ShowType' in change) {\n        var _value = change.ShowType;\n        controlData = _objectSpread(_objectSpread(_objectSpread({}, controlData), change), {}, {\n          EntityData: _objectSpread(_objectSpread({}, controlData.EntityData), change)\n        });\n        // const updateActions = createUpdateAction([[id, { ColumnSpan: value === '2' ? '4' : '1' }]])\n        // appendActions.push(updateActions)\n        appendActions.push((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.createDeleteAction)([id])); // 删除当前控件\n        hideCacheFields[id] = controlData;\n        if (!RefTableId && _value === '2') {\n          var _billPropsData$others, _context2;\n          var tableId = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.createUUid)(3); // 表格内的字段需要拼上表格ID，系统字段的KEY拼接ID后超出25位的长度会被截掉，为防止被截取故限制长度3\n          delete others.FieldType; // 需要去掉，不然生成后的entitydata里type还是关联表单\n          delete others.FieldId; // 需要去掉，不然生成后的FieldId指向原先的关联表单\n          delete others.EntryId; // 需要去掉，不然生成后的EntryId指向原先的关联表单\n          var newTableControl = (0,_utils_preHandleUtils__WEBPACK_IMPORTED_MODULE_16__.addControlProperty)(dataFactory({\n            // 关联表单表格\n            type: _constants__WEBPACK_IMPORTED_MODULE_19__.NOCODE_REF_BILL_TABLE,\n            parentId: ParentId,\n            transferData: _objectSpread(_objectSpread({}, others), {}, {\n              Name: oldName,\n              RefBillId: id,\n              Id: tableId,\n              ShowType: '2',\n              SourceForm: '2',\n              Key: \"nc_\".concat((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.createUUid)().toLowerCase())\n            })\n          }), {\n            dataContext: dataContext,\n            metaReader: metaReader\n          });\n          controlCacheApi.addCache('controlId', newTableControl.Id);\n          // 添加表格子控件\n          // 获取焦点时会自动创建子控件，临时关闭\n          var tableCtrls = (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_20__.transformEntityData)((billPropsData === null || billPropsData === void 0 || (_billPropsData$others = billPropsData[others === null || others === void 0 ? void 0 : others.BillEntityIdEx]) === null || _billPropsData$others === void 0 ? void 0 : _billPropsData$others.data) || [], newTableControl);\n          // 对数据进行排序\n          tableCtrls = (0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_20__.sortEntityWithSelected)(tableCtrls, newTableControl.PropsDisplay);\n          // 修复字段ID,KEY,FIELDID 属性，表格内的字段需要添加上表格的ID作为后缀\n          tableCtrls = tableCtrls.reduce(function (result, ctrl) {\n            var _context;\n            return ctrl.isShow ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context = []).call(_context, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(result), [(0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_20__.createTableControl)(ctrl, newTableControl.Id)]) : result;\n          }, []);\n          appendActions.push((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.createAddAction)(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context2 = [newTableControl]).call(_context2, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(tableCtrls)), {\n            index: fieldIndex\n          })); // 添加表格控件\n\n          // 更新属性并将当前关联表单控件放入到隐藏控件缓存\n          controlData.RefTableId = tableId;\n          controlData.EntityData.RefTableId = tableId;\n          hideCacheFields[id] = controlData;\n          // setHideFieldRef(hideCacheFields)\n\n          // 设置焦点，同时生成表格内的子控件\n          setTimeout(function () {\n            return selectionContext.setSelect([tableId]);\n          }, 100);\n        } else if (RefTableId && _value === '2') {\n          var hideControls = _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11___default()(hideCacheFields).reduce(function (prev, item) {\n            if (item.Id === RefTableId || item.ParentId === RefTableId) {\n              var _context3;\n              delete hideCacheFields[item.Id];\n              var newItem = item.Id === RefTableId ? _objectSpread(_objectSpread(_objectSpread({}, item), change), {}, {\n                EntityData: _objectSpread(_objectSpread({}, item.EntityData), change)\n              }) : item;\n              return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context3 = []).call(_context3, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(prev), [newItem]);\n            }\n            return prev;\n          }, []);\n          appendActions.push((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.createAddAction)(hideControls, {\n            index: fieldIndex\n          })); // 添加表格控件及子控件\n          setTimeout(function () {\n            return selectionContext.setSelect([RefTableId]);\n          }, 100);\n        }\n      }\n      // 表格内的关联表单表格模式没有隐藏控件，不需要更新\n      if (RefTableId && !(_constants_propnames__WEBPACK_IMPORTED_MODULE_17__.FieldType in change) && !('ShowType' in change) && !(0,_utils_control__WEBPACK_IMPORTED_MODULE_15__.isRefBillTable)(parentType)) {\n        // 如果启用了关联表单表格模式\n        // 需要同时更新表格的相同属性，同时更新实体信息，不再更新\n        // 更新隐藏控件里的关联表单表格属性\n        var cacheRefTable = hideCacheFields[RefTableId];\n        hideCacheFields[RefTableId] = _objectSpread(_objectSpread({}, cacheRefTable), change);\n        hideCacheFields[RefTableId].EntityData = _objectSpread(_objectSpread({}, cacheRefTable.EntityData), change);\n\n        // const hideControls = Object.values(hideCacheFields).reduce((prev:any[], item:any) => {\n        //   if (item.Id === RefTableId || item.ParentId === RefTableId) {\n        //     delete hideCacheFields[item.Id]\n        //     return [...prev, item]\n        //   } else {\n        //     return prev\n        //   }\n        // }, [])\n        // appendActions.push(createAddAction(hideControls, { index: fieldIndex })) // 添加表格控件及子控件\n        // 更新属性并将当前关联表单控件放入到隐藏控件缓存\n        // hideCacheFields[id] = controlData\n\n        // controlData.showType === '2' && setTimeout(() => selectionContext.setSelect([RefTableId]), 100)\n\n        // const tableField = dataContext.findControl(RefTableId)\n        // const refEntityAction = collectEntityChangeActions(RefTableId, change, tableField, { metaReader })\n        // refEntityAction && appendActions.push(refEntityAction)\n        // appendActions.push(createUpdateAction([[RefTableId, change]]))\n      }\n    }\n\n    // 关联表单表格模式,更新了表格模式属性,需要同时更新关联表单属性\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_15__.isRefBillTable)(controlType)) {\n      var cacheRefBill = hideCacheFields[RefBillId];\n      hideCacheFields[RefBillId] = _objectSpread(_objectSpread({}, cacheRefBill), change);\n      hideCacheFields[RefBillId].EntityData = _objectSpread(_objectSpread({}, cacheRefBill.EntityData), change);\n\n      // const refField = dataContext.findControl(RefBillId)\n      // const refEntityAction = collectEntityChangeActions(RefBillId, change, refField, { metaReader })\n      // refEntityAction && appendActions.push(refEntityAction)\n      // appendActions.push(createUpdateAction([[RefBillId, change]]))\n      // inner2Outer 在模型里没有,需要手动添加\n      if ('inner2Outer' in change) {\n        appendActions.push((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.createUpdateAction)([[id, {\n          EntityData: _objectSpread(_objectSpread({}, EntityData), {}, {\n            inner2Outer: true\n          })\n        }]]));\n        // appendActions.push(createUpdateAction([[refField.Id, { EntityData: { ...refField.EntityData, inner2Outer: true } }]]))\n      }\n      if ('ShowType' in change) {\n        // 删除当前控件\n        appendActions.push((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.createDeleteAction)([id]));\n        // 将隐藏的关联表单添加到当前界面\n        appendActions.push((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.createAddAction)([_objectSpread({}, hideCacheFields[RefBillId])], {\n          index: fieldIndex\n        }));\n        // 清除界面里的表格控件及缓存关联表单控件\n        delete hideCacheFields[RefBillId];\n        // 缓存表格数据\n        dataContext.findControlByCondition(function (item) {\n          if (item.Id === id) {\n            controlData = _objectSpread(_objectSpread(_objectSpread({}, controlData), change), {}, {\n              EntityData: _objectSpread(_objectSpread({}, controlData.EntityData), change)\n            });\n            hideCacheFields[item.Id] = controlData;\n          }\n          if (item.ParentId === id) {\n            hideCacheFields[item.Id] = item;\n          }\n        });\n        // 设置焦点\n        setTimeout(function () {\n          return selectionContext.setSelect([RefBillId]);\n        }, 100);\n      }\n    }\n\n    // 修改名称,父节点是关联表格表单,需要同时更新store数据\n    // 如果是外部表单需要将信息更新到根节点\n    if (ParentId && (0,_utils_control__WEBPACK_IMPORTED_MODULE_15__.isRefBillTable)(parentType)) {\n      var form = !BillEntityIdEx && SourceForm === '1' ? ParentId + '_table' : BillEntityIdEx;\n      var fieldId = id.replace(\"_\".concat(ParentId), '');\n      // 需要同步的属性\n      var syncProps = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_12___default()(change).reduce(function (prev, props) {\n        // 可能有多个属性\n        // Status  DisplayRules  FieldRequired NoCodeDefValue QueryFormValue FormulaValue\n        // 这些属性不同步\n        if (!(0,_utils_control__WEBPACK_IMPORTED_MODULE_15__.isNotSyncProps)(props)) {\n          return _objectSpread(_objectSpread({}, prev), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, props, change[props]));\n        }\n        return prev;\n      }, {});\n      // 如果有需要同步的属性，则同时更新store，页面及隐藏缓存数据\n      if (_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_12___default()(syncProps).length) {\n        dispatchBillData({\n          key: _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_18__.UPDATE_CONTROL_PROPS,\n          payload: {\n            form: form,\n            id: fieldId,\n            data: syncProps\n          }\n        });\n        // 查找当前包含当前ID的已添加控件，并更新属性\n        // 一个表单里可以有多个关联表单关联相同表单\n        // 需要同时更新所有\n        dataContext.findControlByCondition(function (ctrl) {\n          var _context4;\n          if (ctrl.Id.split('_').length > 1 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(_context4 = ctrl.Id).call(_context4, fieldId) && ctrl.Id !== id) {\n            appendActions.push((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.createUpdateAction)([[ctrl.Id, _objectSpread(_objectSpread({}, change), {}, {\n              EntityData: _objectSpread(_objectSpread({}, ctrl.EntityData), change)\n            })]]));\n          }\n        });\n        // 更新隐藏缓存数据\n        _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_11___default()(hideCacheFields).forEach(function (ctrl) {\n          var _context5;\n          if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(_context5 = ctrl.Id).call(_context5, fieldId)) {\n            var curField = hideCacheFields[ctrl.Id];\n            hideCacheFields[ctrl.Id] = _objectSpread(_objectSpread({}, curField), change);\n            hideCacheFields[ctrl.Id].EntityData = _objectSpread(_objectSpread({}, curField.EntityData), change);\n          }\n        });\n      }\n      // 可见控件，后端将自动合并属性，不需要添加\n      // if ('Name' in change && SourceForm === '2') { // 更新根节点refFieldEdit属性,以便服务端更新数据库数据\n      //   const sourceKey = fieldKey.toLowerCase().replace(`_${ParentId.toLowerCase()}`, '')\n      //   const rootId = dataContext.getRootId()\n      //   const { refFieldEdit = {} } = dataContext.findControl(rootId) || {}\n      //   const fieldInfo = cloneDeep(refFieldEdit)\n      //   fieldInfo[BillEntityIdEx] = fieldInfo[BillEntityIdEx] || {}\n      //   fieldInfo[BillEntityIdEx][sourceKey] = { title: change.Name, status: 'edit' }\n      //   appendActions.push(createUpdateAction([[rootId, { refFieldEdit: fieldInfo }]]))\n      // }\n    }\n\n    // 处理实体数据（EntityData）的变更\n    var entityChangeAction = (0,_utils_preHandleUtils__WEBPACK_IMPORTED_MODULE_16__.collectEntityChangeActions)(id, change, controlData, {\n      globalConfig: globalConfig,\n      dataContext: dataContext,\n      selectionContext: selectionContext,\n      action: action,\n      dataFactory: dataFactory,\n      modelFactory: modelFactory,\n      metaReader: metaReader\n    });\n    entityChangeAction && appendActions.push(entityChangeAction);\n    if (_constants_propnames__WEBPACK_IMPORTED_MODULE_17__.FieldType in change) {\n      // 这里好像是有一点问题\n      var changeType = change[_constants_propnames__WEBPACK_IMPORTED_MODULE_17__.FieldType];\n      var _metaReader$getContro = metaReader.getControlMeta(changeType),\n        ApType = _metaReader$getContro.ApType;\n      var _metaReader$getContro2 = metaReader.getControlMeta(parentType),\n        ParentBaseType = _metaReader$getContro2.BaseType;\n      var changeApType = (0,_utils_preHandleUtils__WEBPACK_IMPORTED_MODULE_16__.getCurrentApType)(ApType, ParentBaseType);\n\n      // 要更新的部分\n      var updateActions = (0,_utils_preHandleUtils__WEBPACK_IMPORTED_MODULE_16__.getUpdateActionByChangeType)(changeType, changeApType, controlData, change, metaReader);\n      appendActions.push(updateActions);\n\n      // 删除action\n      var removePropNameActions = (0,_utils_preHandleUtils__WEBPACK_IMPORTED_MODULE_16__.getRemovePropActionByChangeType)(changeType, controlData, metaReader);\n      removePropNameActions && appendActions.push(removePropNameActions);\n    }\n  });\n\n  // 更新缓存\n  setHideFieldRef(hideCacheFields);\n  console.log('preUpdateHandle', action, appendActions);\n  var preHandleResults = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context6 = [action]).call(_context6, appendActions);\n  return preHandleResults;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (preUpdateHandle);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzAwODQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFhQTtBQUFBO0FBVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvcHJlSGFuZGxlL3ByZVVwZGF0ZUhhbmRsZS50cz9iNmQ0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDktMjYgMDk6NDI6MTJcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMDctMDQgMTU6MTI6MTdcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgeyBjcmVhdGVVcGRhdGVBY3Rpb24sIGNyZWF0ZUFkZEFjdGlvbiwgY3JlYXRlRGVsZXRlQWN0aW9uLCBjcmVhdGVVVWlkIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgZ2V0TmFtZUJ5VmFsaWRhdGVUeXBlLCBpc0RhdGUsIGlzRGF0ZVJhbmdlLCBpc05vdFN5bmNQcm9wcywgaXNSZWZCaWxsLCBpc1JlZkJpbGxUYWJsZSB9IGZyb20gJy4uL3V0aWxzL2NvbnRyb2wnXG5pbXBvcnQge1xuICBjb2xsZWN0RW50aXR5Q2hhbmdlQWN0aW9ucyxcbiAgZ2V0VXBkYXRlQWN0aW9uQnlDaGFuZ2VUeXBlLFxuICBnZXRSZW1vdmVQcm9wQWN0aW9uQnlDaGFuZ2VUeXBlLFxuICBnZXRDdXJyZW50QXBUeXBlLFxuICBhZGRDb250cm9sUHJvcGVydHlcbn0gZnJvbSAnLi4vdXRpbHMvcHJlSGFuZGxlVXRpbHMnXG5pbXBvcnQgeyBGaWVsZFR5cGUgfSBmcm9tICcuLi9jb25zdGFudHMvcHJvcG5hbWVzJ1xuaW1wb3J0IHsgVVBEQVRFX0NPTlRST0xfUFJPUFMgfSBmcm9tICcuLi9yZWR1Y2VyL3JlZHVjZUNvbnN0YW50cydcbmltcG9ydCB7IGNsb25lRGVlcCB9IGZyb20gJ2xvZGFzaCdcbmltcG9ydCB7IE5PQ09ERV9SRUZfQklMTF9UQUJMRSB9IGZyb20gJy4uL2NvbnN0YW50cydcbmltcG9ydCB7IGNyZWF0ZVRhYmxlQ29udHJvbCwgdHJhbnNmb3JtRW50aXR5RGF0YSwgZ2V0VXBkYXRlU3RhdHVzQWN0aW9uLCBzb3J0RW50aXR5V2l0aFNlbGVjdGVkIH0gZnJvbSAnLi4vdXRpbHMvcmVmQmlsbEVkaXRvclV0aWxzJ1xuaW1wb3J0IHsgaXNHcm91cENvbnRhaW5lciB9IGZyb20gJy4uL3V0aWxzJ1xuXG5jb25zdCBwcmVVcGRhdGVIYW5kbGUgPSAoXG4gIHtcbiAgICBnbG9iYWxDb25maWcsXG4gICAgZGF0YUNvbnRleHQsXG4gICAgc2VsZWN0aW9uQ29udGV4dCxcbiAgICBhY3Rpb24sXG4gICAgZGF0YUZhY3RvcnksXG4gICAgbW9kZWxGYWN0b3J5LFxuICAgIG1ldGFSZWFkZXJcbiAgfSxcbiAgcmVzb2x2ZSxcbiAgcmVqZWN0LFxuICBoYW5kbGVDb25maWdcbikgPT4ge1xuICBjb25zdCB7IHR5cGUsIHZhbHVlLCAuLi5yZXN0IH0gPSBhY3Rpb25cbiAgY29uc3QgeyBjb250cm9sQ2FjaGVBcGksIGRpc3BhdGNoQmlsbERhdGEsIGJpbGxQcm9wc0RhdGEsIGdldEhpZGVGaWVsZFJlZiwgc2V0SGlkZUZpZWxkUmVmIH0gPSBoYW5kbGVDb25maWdcbiAgY29uc3QgYXBwZW5kQWN0aW9uczogYW55W10gPSBbXVxuICBjb25zdCBoaWRlQ2FjaGVGaWVsZHMgPSBnZXRIaWRlRmllbGRSZWYoKSAvLyDpmpDol4/mjqfku7bnvJPlrZhcbiAgdmFsdWUuZm9yRWFjaCgoaXRlbTogYW55KSA9PiB7XG4gICAgY29uc3QgW2lkLCBjaGFuZ2VdID0gaXRlbVxuICAgIGxldCBjb250cm9sRGF0YSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGlkKVxuICAgIGNvbnN0IGZpZWxkSW5kZXggPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbEluZGV4KGlkKVxuICAgIGNvbnN0IGRlZmF1bHREYXRhID0gY29udHJvbERhdGEgPyBtZXRhUmVhZGVyLmdldERlZmF1bHREYXRhKGNvbnRyb2xEYXRhPy5fVHlwZV8pIDoge31cbiAgICBjb250cm9sRGF0YSA9IHsgLi4uZGVmYXVsdERhdGEsIC4uLmNvbnRyb2xEYXRhIH1cbiAgICBjb25zdCB7IE5hbWU6IG9sZE5hbWUsIF9UeXBlXzogY29udHJvbFR5cGUsIFJlZkJpbGxJZCwgUmVmVGFibGVJZCwgRW50aXR5RGF0YSwgUGFyZW50SWQsIEtleTogZmllbGRLZXksIC4uLm90aGVycyB9ID0gY29udHJvbERhdGEgfHwge31cbiAgICBjb25zdCB7IF9UeXBlXzogcGFyZW50VHlwZSwgQmlsbEVudGl0eUlkRXgsIFNvdXJjZUZvcm0gfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKFBhcmVudElkKSB8fCB7fVxuXG4gICAgLy8g5Y2V6KGM5paH5pys5YiH5o2i4oCY5qCh6aqM57G75Z6L4oCZ77yM5ZCN56ew5Lmf6ZyA6KaB6L+b6KGM6IGU5YqoXG4gICAgLy8gaWYgKCdUZXh0VmFsaWRUeXBlJyBpbiBjaGFuZ2UpIHtcbiAgICAvLyAgIGNvbnN0IHZhbGlkVHlwZSA9IGNoYW5nZS5UZXh0VmFsaWRUeXBlXG4gICAgLy8gICBjb25zdCBuZXdOYW1lID0gZ2V0TmFtZUJ5VmFsaWRhdGVUeXBlKHZhbGlkVHlwZSlcbiAgICAvLyAgIGlmIChuZXdOYW1lICYmIG5ld05hbWUgIT09IG9sZE5hbWUpIHtcbiAgICAvLyAgICAgLy8gYXBwZW5kQWN0aW9ucy5wdXNoKGNyZWF0ZVVwZGF0ZUFjdGlvbihbW2lkLCB7IE5hbWU6IG5ld05hbWUgfV1dKSlcbiAgICAvLyAgICAgLyoqXG4gICAgLy8gICAgICAqIOi/memHjOS4jeeUqGFwcGVuZEFjdGlvbnPvvIznlKhhcHBlbmRBY3Rpb25z6L+Y6ZyA6KaB5aSE55CG6aKd5aSW5aSE55CGZW50aXR5RGF0YeeahOWPmOWMllxuICAgIC8vICAgICAgICAg55u05o6l5bCG5Y+Y5pu05ZCI5bm26L+bY2hhbmdl77yM54S25ZCO5Zyo5LiL5LiA5q2l5a6D5Lya6Ieq5Yqo5aSE55CGXG4gICAgLy8gICAgICAqL1xuICAgIC8vICAgICBPYmplY3QuYXNzaWduKGNoYW5nZSwgeyBOYW1lOiBuZXdOYW1lIH0pXG4gICAgLy8gICB9XG4gICAgLy8gfVxuXG4gICAgaWYgKCdTdGF0dXMnIGluIGNoYW5nZSkge1xuICAgICAgY29uc3Qgc3RhdHVzQWN0aW9uID0gZ2V0VXBkYXRlU3RhdHVzQWN0aW9uKGl0ZW0sIGhpZGVDYWNoZUZpZWxkcywgZGF0YUNvbnRleHQsIG1ldGFSZWFkZXIpXG4gICAgICBzdGF0dXNBY3Rpb24gJiYgYXBwZW5kQWN0aW9ucy5wdXNoKHN0YXR1c0FjdGlvbilcbiAgICB9XG5cbiAgICAvLyDliIfmjaLml6XmnJ/moLzlvI/vvIzlpoLmnpzorr7nva7kuobpu5jorqTlgLzvvIzliJnpnIDph43nva7pu5jorqTlgLxcbiAgICBpZiAoJ0Zvcm1hdFR5cGUnIGluIGNoYW5nZSkge1xuICAgICAgY29uc3QgeyBEYXRlUmFuZ2VEZWZWYWx1ZSwgTm9Db2RlRGVmVmFsdWUgfSA9IGNvbnRyb2xEYXRhXG4gICAgICBpZiAoRGF0ZVJhbmdlRGVmVmFsdWUgJiYgaXNEYXRlUmFuZ2UoY29udHJvbFR5cGUpKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oY2hhbmdlLCB7IERhdGVSYW5nZURlZlZhbHVlOiB1bmRlZmluZWQgfSlcbiAgICAgIH1cbiAgICAgIGlmIChOb0NvZGVEZWZWYWx1ZSAmJiBpc0RhdGUoY29udHJvbFR5cGUpKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oY2hhbmdlLCB7IE5vQ29kZURlZlZhbHVlOiB1bmRlZmluZWQgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoJ1BhcmVudElkJyBpbiBjaGFuZ2UpIHtcbiAgICAgIGNvbnN0IHsgU3RhdHVzOiBwYXJlbnRTdGF0dXMsIF9UeXBlXzogcFR5cGUgfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKGNoYW5nZS5QYXJlbnRJZClcbiAgICAgIGlmIChpc0dyb3VwQ29udGFpbmVyKHBUeXBlKSAmJiBwYXJlbnRTdGF0dXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBhbGxTdWJDb250cm9sSWQgPSBkYXRhQ29udGV4dC5nZXRBbGxTdWJDb250cm9sSWRzKGlkKVxuICAgICAgICBhcHBlbmRBY3Rpb25zLnB1c2goY3JlYXRlVXBkYXRlQWN0aW9uKGFsbFN1YkNvbnRyb2xJZC5tYXAoKGlkOiBzdHJpbmcpID0+IFtpZCwgeyBTdGF0dXM6IHBhcmVudFN0YXR1cyB9XSkpKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIOWFs+iBlOihqOWNleaOp+S7tlxuICAgIC8vIOWmguaenOWIh+aNouaIkOihqOagvOaooeW8j+S4lOS5i+WJjeacquWIm+W7uuihqOagvOaOp+S7tu+8jOmcgOimgeWIm+W7uuihqOagvOaOp+S7tlxuICAgIGlmIChpc1JlZkJpbGwoY29udHJvbFR5cGUpKSB7XG4gICAgICBpZiAoJ1Nob3dUeXBlJyBpbiBjaGFuZ2UpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBjaGFuZ2UuU2hvd1R5cGVcbiAgICAgICAgY29udHJvbERhdGEgPSB7IC4uLmNvbnRyb2xEYXRhLCAuLi5jaGFuZ2UsIEVudGl0eURhdGE6IHsgLi4uY29udHJvbERhdGEuRW50aXR5RGF0YSwgLi4uY2hhbmdlIH0gfVxuICAgICAgICAvLyBjb25zdCB1cGRhdGVBY3Rpb25zID0gY3JlYXRlVXBkYXRlQWN0aW9uKFtbaWQsIHsgQ29sdW1uU3BhbjogdmFsdWUgPT09ICcyJyA/ICc0JyA6ICcxJyB9XV0pXG4gICAgICAgIC8vIGFwcGVuZEFjdGlvbnMucHVzaCh1cGRhdGVBY3Rpb25zKVxuICAgICAgICBhcHBlbmRBY3Rpb25zLnB1c2goY3JlYXRlRGVsZXRlQWN0aW9uKFtpZF0pKSAvLyDliKDpmaTlvZPliY3mjqfku7ZcbiAgICAgICAgaGlkZUNhY2hlRmllbGRzW2lkXSA9IGNvbnRyb2xEYXRhXG4gICAgICAgIGlmICghUmVmVGFibGVJZCAmJiB2YWx1ZSA9PT0gJzInKSB7XG4gICAgICAgICAgY29uc3QgdGFibGVJZCA9IGNyZWF0ZVVVaWQoMykvLyDooajmoLzlhoXnmoTlrZfmrrXpnIDopoHmi7zkuIrooajmoLxJRO+8jOezu+e7n+Wtl+auteeahEtFWeaLvOaOpUlE5ZCO6LaF5Ye6MjXkvY3nmoTplb/luqbkvJrooqvmiKrmjonvvIzkuLrpmLLmraLooqvmiKrlj5bmlYXpmZDliLbplb/luqYzXG4gICAgICAgICAgZGVsZXRlIG90aGVycy5GaWVsZFR5cGUgLy8g6ZyA6KaB5Y675o6J77yM5LiN54S255Sf5oiQ5ZCO55qEZW50aXR5ZGF0YemHjHR5cGXov5jmmK/lhbPogZTooajljZVcbiAgICAgICAgICBkZWxldGUgb3RoZXJzLkZpZWxkSWQgLy8g6ZyA6KaB5Y675o6J77yM5LiN54S255Sf5oiQ5ZCO55qERmllbGRJZOaMh+WQkeWOn+WFiOeahOWFs+iBlOihqOWNlVxuICAgICAgICAgIGRlbGV0ZSBvdGhlcnMuRW50cnlJZCAvLyDpnIDopoHljrvmjonvvIzkuI3nhLbnlJ/miJDlkI7nmoRFbnRyeUlk5oyH5ZCR5Y6f5YWI55qE5YWz6IGU6KGo5Y2VXG4gICAgICAgICAgY29uc3QgbmV3VGFibGVDb250cm9sID0gYWRkQ29udHJvbFByb3BlcnR5KGRhdGFGYWN0b3J5KHsgLy8g5YWz6IGU6KGo5Y2V6KGo5qC8XG4gICAgICAgICAgICB0eXBlOiBOT0NPREVfUkVGX0JJTExfVEFCTEUsXG4gICAgICAgICAgICBwYXJlbnRJZDogUGFyZW50SWQsXG4gICAgICAgICAgICB0cmFuc2ZlckRhdGE6IHtcbiAgICAgICAgICAgICAgLi4ub3RoZXJzLFxuICAgICAgICAgICAgICBOYW1lOiBvbGROYW1lLFxuICAgICAgICAgICAgICBSZWZCaWxsSWQ6IGlkLFxuICAgICAgICAgICAgICBJZDogdGFibGVJZCxcbiAgICAgICAgICAgICAgU2hvd1R5cGU6ICcyJyxcbiAgICAgICAgICAgICAgU291cmNlRm9ybTogJzInLFxuICAgICAgICAgICAgICBLZXk6IGBuY18ke2NyZWF0ZVVVaWQoKS50b0xvd2VyQ2FzZSgpfWBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSwgeyBkYXRhQ29udGV4dCwgbWV0YVJlYWRlciB9KVxuICAgICAgICAgIGNvbnRyb2xDYWNoZUFwaS5hZGRDYWNoZSgnY29udHJvbElkJywgbmV3VGFibGVDb250cm9sLklkKVxuICAgICAgICAgIC8vIOa3u+WKoOihqOagvOWtkOaOp+S7tlxuICAgICAgICAgIC8vIOiOt+WPlueEpueCueaXtuS8muiHquWKqOWIm+W7uuWtkOaOp+S7tu+8jOS4tOaXtuWFs+mXrVxuICAgICAgICAgIGxldCB0YWJsZUN0cmxzID0gdHJhbnNmb3JtRW50aXR5RGF0YShiaWxsUHJvcHNEYXRhPy5bb3RoZXJzPy5CaWxsRW50aXR5SWRFeF0/LmRhdGEgfHwgW10sIG5ld1RhYmxlQ29udHJvbClcbiAgICAgICAgICAvLyDlr7nmlbDmja7ov5vooYzmjpLluo9cbiAgICAgICAgICB0YWJsZUN0cmxzID0gc29ydEVudGl0eVdpdGhTZWxlY3RlZCh0YWJsZUN0cmxzLCBuZXdUYWJsZUNvbnRyb2wuUHJvcHNEaXNwbGF5KVxuICAgICAgICAgIC8vIOS/ruWkjeWtl+autUlELEtFWSxGSUVMRElEIOWxnuaAp++8jOihqOagvOWGheeahOWtl+autemcgOimgea3u+WKoOS4iuihqOagvOeahElE5L2c5Li65ZCO57yAXG4gICAgICAgICAgdGFibGVDdHJscyA9IHRhYmxlQ3RybHMucmVkdWNlKChyZXN1bHQ6W10sIGN0cmw6YW55KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY3RybC5pc1Nob3cgPyBbLi4ucmVzdWx0LCBjcmVhdGVUYWJsZUNvbnRyb2woY3RybCwgbmV3VGFibGVDb250cm9sLklkKV0gOiByZXN1bHRcbiAgICAgICAgICB9LCBbXSlcbiAgICAgICAgICBhcHBlbmRBY3Rpb25zLnB1c2goY3JlYXRlQWRkQWN0aW9uKFtuZXdUYWJsZUNvbnRyb2wsIC4uLnRhYmxlQ3RybHNdLCB7IGluZGV4OiBmaWVsZEluZGV4IH0pKSAvLyDmt7vliqDooajmoLzmjqfku7ZcblxuICAgICAgICAgIC8vIOabtOaWsOWxnuaAp+W5tuWwhuW9k+WJjeWFs+iBlOihqOWNleaOp+S7tuaUvuWFpeWIsOmakOiXj+aOp+S7tue8k+WtmFxuICAgICAgICAgIGNvbnRyb2xEYXRhLlJlZlRhYmxlSWQgPSB0YWJsZUlkXG4gICAgICAgICAgY29udHJvbERhdGEuRW50aXR5RGF0YS5SZWZUYWJsZUlkID0gdGFibGVJZFxuICAgICAgICAgIGhpZGVDYWNoZUZpZWxkc1tpZF0gPSBjb250cm9sRGF0YVxuICAgICAgICAgIC8vIHNldEhpZGVGaWVsZFJlZihoaWRlQ2FjaGVGaWVsZHMpXG5cbiAgICAgICAgICAvLyDorr7nva7nhKbngrnvvIzlkIzml7bnlJ/miJDooajmoLzlhoXnmoTlrZDmjqfku7ZcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNlbGVjdGlvbkNvbnRleHQuc2V0U2VsZWN0KFt0YWJsZUlkXSksIDEwMClcbiAgICAgICAgfSBlbHNlIGlmIChSZWZUYWJsZUlkICYmIHZhbHVlID09PSAnMicpIHtcbiAgICAgICAgICBjb25zdCBoaWRlQ29udHJvbHMgPSBPYmplY3QudmFsdWVzKGhpZGVDYWNoZUZpZWxkcykucmVkdWNlKChwcmV2OmFueVtdLCBpdGVtOmFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0uSWQgPT09IFJlZlRhYmxlSWQgfHwgaXRlbS5QYXJlbnRJZCA9PT0gUmVmVGFibGVJZCkge1xuICAgICAgICAgICAgICBkZWxldGUgaGlkZUNhY2hlRmllbGRzW2l0ZW0uSWRdXG4gICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW0gPSBpdGVtLklkID09PSBSZWZUYWJsZUlkID8geyAuLi5pdGVtLCAuLi5jaGFuZ2UsIEVudGl0eURhdGE6IHsgLi4uaXRlbS5FbnRpdHlEYXRhLCAuLi5jaGFuZ2UgfSB9IDogaXRlbVxuICAgICAgICAgICAgICByZXR1cm4gWy4uLnByZXYsIG5ld0l0ZW1dXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJldlxuICAgICAgICAgIH0sIFtdKVxuICAgICAgICAgIGFwcGVuZEFjdGlvbnMucHVzaChjcmVhdGVBZGRBY3Rpb24oaGlkZUNvbnRyb2xzLCB7IGluZGV4OiBmaWVsZEluZGV4IH0pKSAvLyDmt7vliqDooajmoLzmjqfku7blj4rlrZDmjqfku7ZcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNlbGVjdGlvbkNvbnRleHQuc2V0U2VsZWN0KFtSZWZUYWJsZUlkXSksIDEwMClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8g6KGo5qC85YaF55qE5YWz6IGU6KGo5Y2V6KGo5qC85qih5byP5rKh5pyJ6ZqQ6JeP5o6n5Lu277yM5LiN6ZyA6KaB5pu05pawXG4gICAgICBpZiAoUmVmVGFibGVJZCAmJiAhKEZpZWxkVHlwZSBpbiBjaGFuZ2UpICYmICEoJ1Nob3dUeXBlJyBpbiBjaGFuZ2UpICYmICFpc1JlZkJpbGxUYWJsZShwYXJlbnRUeXBlKSkge1xuICAgICAgICAvLyDlpoLmnpzlkK/nlKjkuoblhbPogZTooajljZXooajmoLzmqKHlvI9cbiAgICAgICAgLy8g6ZyA6KaB5ZCM5pe25pu05paw6KGo5qC855qE55u45ZCM5bGe5oCn77yM5ZCM5pe25pu05paw5a6e5L2T5L+h5oGv77yM5LiN5YaN5pu05pawXG4gICAgICAgIC8vIOabtOaWsOmakOiXj+aOp+S7tumHjOeahOWFs+iBlOihqOWNleihqOagvOWxnuaAp1xuICAgICAgICBjb25zdCBjYWNoZVJlZlRhYmxlID0gaGlkZUNhY2hlRmllbGRzW1JlZlRhYmxlSWRdXG4gICAgICAgIGhpZGVDYWNoZUZpZWxkc1tSZWZUYWJsZUlkXSA9IHsgLi4uY2FjaGVSZWZUYWJsZSwgLi4uY2hhbmdlIH1cbiAgICAgICAgaGlkZUNhY2hlRmllbGRzW1JlZlRhYmxlSWRdLkVudGl0eURhdGEgPSB7IC4uLmNhY2hlUmVmVGFibGUuRW50aXR5RGF0YSwgLi4uY2hhbmdlIH1cblxuICAgICAgICAvLyBjb25zdCBoaWRlQ29udHJvbHMgPSBPYmplY3QudmFsdWVzKGhpZGVDYWNoZUZpZWxkcykucmVkdWNlKChwcmV2OmFueVtdLCBpdGVtOmFueSkgPT4ge1xuICAgICAgICAvLyAgIGlmIChpdGVtLklkID09PSBSZWZUYWJsZUlkIHx8IGl0ZW0uUGFyZW50SWQgPT09IFJlZlRhYmxlSWQpIHtcbiAgICAgICAgLy8gICAgIGRlbGV0ZSBoaWRlQ2FjaGVGaWVsZHNbaXRlbS5JZF1cbiAgICAgICAgLy8gICAgIHJldHVybiBbLi4ucHJldiwgaXRlbV1cbiAgICAgICAgLy8gICB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgcmV0dXJuIHByZXZcbiAgICAgICAgLy8gICB9XG4gICAgICAgIC8vIH0sIFtdKVxuICAgICAgICAvLyBhcHBlbmRBY3Rpb25zLnB1c2goY3JlYXRlQWRkQWN0aW9uKGhpZGVDb250cm9scywgeyBpbmRleDogZmllbGRJbmRleCB9KSkgLy8g5re75Yqg6KGo5qC85o6n5Lu25Y+K5a2Q5o6n5Lu2XG4gICAgICAgIC8vIOabtOaWsOWxnuaAp+W5tuWwhuW9k+WJjeWFs+iBlOihqOWNleaOp+S7tuaUvuWFpeWIsOmakOiXj+aOp+S7tue8k+WtmFxuICAgICAgICAvLyBoaWRlQ2FjaGVGaWVsZHNbaWRdID0gY29udHJvbERhdGFcblxuICAgICAgICAvLyBjb250cm9sRGF0YS5zaG93VHlwZSA9PT0gJzInICYmIHNldFRpbWVvdXQoKCkgPT4gc2VsZWN0aW9uQ29udGV4dC5zZXRTZWxlY3QoW1JlZlRhYmxlSWRdKSwgMTAwKVxuXG4gICAgICAgIC8vIGNvbnN0IHRhYmxlRmllbGQgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChSZWZUYWJsZUlkKVxuICAgICAgICAvLyBjb25zdCByZWZFbnRpdHlBY3Rpb24gPSBjb2xsZWN0RW50aXR5Q2hhbmdlQWN0aW9ucyhSZWZUYWJsZUlkLCBjaGFuZ2UsIHRhYmxlRmllbGQsIHsgbWV0YVJlYWRlciB9KVxuICAgICAgICAvLyByZWZFbnRpdHlBY3Rpb24gJiYgYXBwZW5kQWN0aW9ucy5wdXNoKHJlZkVudGl0eUFjdGlvbilcbiAgICAgICAgLy8gYXBwZW5kQWN0aW9ucy5wdXNoKGNyZWF0ZVVwZGF0ZUFjdGlvbihbW1JlZlRhYmxlSWQsIGNoYW5nZV1dKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDlhbPogZTooajljZXooajmoLzmqKHlvI8s5pu05paw5LqG6KGo5qC85qih5byP5bGe5oCnLOmcgOimgeWQjOaXtuabtOaWsOWFs+iBlOihqOWNleWxnuaAp1xuICAgIGlmIChpc1JlZkJpbGxUYWJsZShjb250cm9sVHlwZSkpIHtcbiAgICAgIGNvbnN0IGNhY2hlUmVmQmlsbCA9IGhpZGVDYWNoZUZpZWxkc1tSZWZCaWxsSWRdXG4gICAgICBoaWRlQ2FjaGVGaWVsZHNbUmVmQmlsbElkXSA9IHsgLi4uY2FjaGVSZWZCaWxsLCAuLi5jaGFuZ2UgfVxuICAgICAgaGlkZUNhY2hlRmllbGRzW1JlZkJpbGxJZF0uRW50aXR5RGF0YSA9IHsgLi4uY2FjaGVSZWZCaWxsLkVudGl0eURhdGEsIC4uLmNoYW5nZSB9XG5cbiAgICAgIC8vIGNvbnN0IHJlZkZpZWxkID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woUmVmQmlsbElkKVxuICAgICAgLy8gY29uc3QgcmVmRW50aXR5QWN0aW9uID0gY29sbGVjdEVudGl0eUNoYW5nZUFjdGlvbnMoUmVmQmlsbElkLCBjaGFuZ2UsIHJlZkZpZWxkLCB7IG1ldGFSZWFkZXIgfSlcbiAgICAgIC8vIHJlZkVudGl0eUFjdGlvbiAmJiBhcHBlbmRBY3Rpb25zLnB1c2gocmVmRW50aXR5QWN0aW9uKVxuICAgICAgLy8gYXBwZW5kQWN0aW9ucy5wdXNoKGNyZWF0ZVVwZGF0ZUFjdGlvbihbW1JlZkJpbGxJZCwgY2hhbmdlXV0pKVxuICAgICAgLy8gaW5uZXIyT3V0ZXIg5Zyo5qih5Z6L6YeM5rKh5pyJLOmcgOimgeaJi+WKqOa3u+WKoFxuICAgICAgaWYgKCdpbm5lcjJPdXRlcicgaW4gY2hhbmdlKSB7XG4gICAgICAgIGFwcGVuZEFjdGlvbnMucHVzaChjcmVhdGVVcGRhdGVBY3Rpb24oW1tpZCwgeyBFbnRpdHlEYXRhOiB7IC4uLkVudGl0eURhdGEsIGlubmVyMk91dGVyOiB0cnVlIH0gfV1dKSlcbiAgICAgICAgLy8gYXBwZW5kQWN0aW9ucy5wdXNoKGNyZWF0ZVVwZGF0ZUFjdGlvbihbW3JlZkZpZWxkLklkLCB7IEVudGl0eURhdGE6IHsgLi4ucmVmRmllbGQuRW50aXR5RGF0YSwgaW5uZXIyT3V0ZXI6IHRydWUgfSB9XV0pKVxuICAgICAgfVxuICAgICAgaWYgKCdTaG93VHlwZScgaW4gY2hhbmdlKSB7XG4gICAgICAgIC8vIOWIoOmZpOW9k+WJjeaOp+S7tlxuICAgICAgICBhcHBlbmRBY3Rpb25zLnB1c2goY3JlYXRlRGVsZXRlQWN0aW9uKFtpZF0pKVxuICAgICAgICAvLyDlsIbpmpDol4/nmoTlhbPogZTooajljZXmt7vliqDliLDlvZPliY3nlYzpnaJcbiAgICAgICAgYXBwZW5kQWN0aW9ucy5wdXNoKGNyZWF0ZUFkZEFjdGlvbihbeyAuLi5oaWRlQ2FjaGVGaWVsZHNbUmVmQmlsbElkXSB9XSwgeyBpbmRleDogZmllbGRJbmRleCB9KSlcbiAgICAgICAgLy8g5riF6Zmk55WM6Z2i6YeM55qE6KGo5qC85o6n5Lu25Y+K57yT5a2Y5YWz6IGU6KGo5Y2V5o6n5Lu2XG4gICAgICAgIGRlbGV0ZSBoaWRlQ2FjaGVGaWVsZHNbUmVmQmlsbElkXVxuICAgICAgICAvLyDnvJPlrZjooajmoLzmlbDmja5cbiAgICAgICAgZGF0YUNvbnRleHQuZmluZENvbnRyb2xCeUNvbmRpdGlvbigoaXRlbTphbnkpID0+IHtcbiAgICAgICAgICBpZiAoaXRlbS5JZCA9PT0gaWQpIHtcbiAgICAgICAgICAgIGNvbnRyb2xEYXRhID0geyAuLi5jb250cm9sRGF0YSwgLi4uY2hhbmdlLCBFbnRpdHlEYXRhOiB7IC4uLmNvbnRyb2xEYXRhLkVudGl0eURhdGEsIC4uLmNoYW5nZSB9IH1cbiAgICAgICAgICAgIGhpZGVDYWNoZUZpZWxkc1tpdGVtLklkXSA9IGNvbnRyb2xEYXRhXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVtLlBhcmVudElkID09PSBpZCkge1xuICAgICAgICAgICAgaGlkZUNhY2hlRmllbGRzW2l0ZW0uSWRdID0gaXRlbVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLy8g6K6+572u54Sm54K5XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2VsZWN0aW9uQ29udGV4dC5zZXRTZWxlY3QoW1JlZkJpbGxJZF0pLCAxMDApXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8g5L+u5pS55ZCN56ewLOeItuiKgueCueaYr+WFs+iBlOihqOagvOihqOWNlSzpnIDopoHlkIzml7bmm7TmlrBzdG9yZeaVsOaNrlxuICAgIC8vIOWmguaenOaYr+WklumDqOihqOWNlemcgOimgeWwhuS/oeaBr+abtOaWsOWIsOagueiKgueCuVxuICAgIGlmIChQYXJlbnRJZCAmJiBpc1JlZkJpbGxUYWJsZShwYXJlbnRUeXBlKSkge1xuICAgICAgY29uc3QgZm9ybSA9ICFCaWxsRW50aXR5SWRFeCAmJiBTb3VyY2VGb3JtID09PSAnMScgPyAoUGFyZW50SWQgKyAnX3RhYmxlJykgOiBCaWxsRW50aXR5SWRFeFxuICAgICAgY29uc3QgZmllbGRJZCA9IGlkLnJlcGxhY2UoYF8ke1BhcmVudElkfWAsICcnKVxuICAgICAgLy8g6ZyA6KaB5ZCM5q2l55qE5bGe5oCnXG4gICAgICBjb25zdCBzeW5jUHJvcHMgPSBPYmplY3Qua2V5cyhjaGFuZ2UpLnJlZHVjZSgocHJldiwgcHJvcHMpID0+IHsgLy8g5Y+v6IO95pyJ5aSa5Liq5bGe5oCnXG4gICAgICAgIC8vIFN0YXR1cyAgRGlzcGxheVJ1bGVzICBGaWVsZFJlcXVpcmVkIE5vQ29kZURlZlZhbHVlIFF1ZXJ5Rm9ybVZhbHVlIEZvcm11bGFWYWx1ZVxuICAgICAgICAvLyDov5nkupvlsZ7mgKfkuI3lkIzmraVcbiAgICAgICAgaWYgKCFpc05vdFN5bmNQcm9wcyhwcm9wcykpIHtcbiAgICAgICAgICByZXR1cm4geyAuLi5wcmV2LCBbcHJvcHNdOiBjaGFuZ2VbcHJvcHNdIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJldlxuICAgICAgfSwge30pXG4gICAgICAvLyDlpoLmnpzmnInpnIDopoHlkIzmraXnmoTlsZ7mgKfvvIzliJnlkIzml7bmm7TmlrBzdG9yZe+8jOmhtemdouWPiumakOiXj+e8k+WtmOaVsOaNrlxuICAgICAgaWYgKE9iamVjdC5rZXlzKHN5bmNQcm9wcykubGVuZ3RoKSB7XG4gICAgICAgIGRpc3BhdGNoQmlsbERhdGEoeyBrZXk6IFVQREFURV9DT05UUk9MX1BST1BTLCBwYXlsb2FkOiB7IGZvcm0sIGlkOiBmaWVsZElkLCBkYXRhOiBzeW5jUHJvcHMgfSB9KVxuICAgICAgICAvLyDmn6Xmib7lvZPliY3ljIXlkKvlvZPliY1JROeahOW3sua3u+WKoOaOp+S7tu+8jOW5tuabtOaWsOWxnuaAp1xuICAgICAgICAvLyDkuIDkuKrooajljZXph4zlj6/ku6XmnInlpJrkuKrlhbPogZTooajljZXlhbPogZTnm7jlkIzooajljZVcbiAgICAgICAgLy8g6ZyA6KaB5ZCM5pe25pu05paw5omA5pyJXG4gICAgICAgIGRhdGFDb250ZXh0LmZpbmRDb250cm9sQnlDb25kaXRpb24oKGN0cmw6YW55KSA9PiB7XG4gICAgICAgICAgaWYgKGN0cmwuSWQuc3BsaXQoJ18nKS5sZW5ndGggPiAxICYmIGN0cmwuSWQuaW5jbHVkZXMoZmllbGRJZCkgJiYgY3RybC5JZCAhPT0gaWQpIHtcbiAgICAgICAgICAgIGFwcGVuZEFjdGlvbnMucHVzaChjcmVhdGVVcGRhdGVBY3Rpb24oW1tjdHJsLklkLCB7IC4uLmNoYW5nZSwgRW50aXR5RGF0YTogeyAuLi5jdHJsLkVudGl0eURhdGEsIC4uLmNoYW5nZSB9IH1dXSkpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAvLyDmm7TmlrDpmpDol4/nvJPlrZjmlbDmja5cbiAgICAgICAgT2JqZWN0LnZhbHVlcyhoaWRlQ2FjaGVGaWVsZHMpLmZvckVhY2goKGN0cmw6YW55KSA9PiB7XG4gICAgICAgICAgaWYgKGN0cmwuSWQuaW5jbHVkZXMoZmllbGRJZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1ckZpZWxkID0gaGlkZUNhY2hlRmllbGRzW2N0cmwuSWRdXG4gICAgICAgICAgICBoaWRlQ2FjaGVGaWVsZHNbY3RybC5JZF0gPSB7IC4uLmN1ckZpZWxkLCAuLi5jaGFuZ2UgfVxuICAgICAgICAgICAgaGlkZUNhY2hlRmllbGRzW2N0cmwuSWRdLkVudGl0eURhdGEgPSB7IC4uLmN1ckZpZWxkLkVudGl0eURhdGEsIC4uLmNoYW5nZSB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgLy8g5Y+v6KeB5o6n5Lu277yM5ZCO56uv5bCG6Ieq5Yqo5ZCI5bm25bGe5oCn77yM5LiN6ZyA6KaB5re75YqgXG4gICAgICAvLyBpZiAoJ05hbWUnIGluIGNoYW5nZSAmJiBTb3VyY2VGb3JtID09PSAnMicpIHsgLy8g5pu05paw5qC56IqC54K5cmVmRmllbGRFZGl05bGe5oCnLOS7peS+v+acjeWKoeerr+abtOaWsOaVsOaNruW6k+aVsOaNrlxuICAgICAgLy8gICBjb25zdCBzb3VyY2VLZXkgPSBmaWVsZEtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoYF8ke1BhcmVudElkLnRvTG93ZXJDYXNlKCl9YCwgJycpXG4gICAgICAvLyAgIGNvbnN0IHJvb3RJZCA9IGRhdGFDb250ZXh0LmdldFJvb3RJZCgpXG4gICAgICAvLyAgIGNvbnN0IHsgcmVmRmllbGRFZGl0ID0ge30gfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKHJvb3RJZCkgfHwge31cbiAgICAgIC8vICAgY29uc3QgZmllbGRJbmZvID0gY2xvbmVEZWVwKHJlZkZpZWxkRWRpdClcbiAgICAgIC8vICAgZmllbGRJbmZvW0JpbGxFbnRpdHlJZEV4XSA9IGZpZWxkSW5mb1tCaWxsRW50aXR5SWRFeF0gfHwge31cbiAgICAgIC8vICAgZmllbGRJbmZvW0JpbGxFbnRpdHlJZEV4XVtzb3VyY2VLZXldID0geyB0aXRsZTogY2hhbmdlLk5hbWUsIHN0YXR1czogJ2VkaXQnIH1cbiAgICAgIC8vICAgYXBwZW5kQWN0aW9ucy5wdXNoKGNyZWF0ZVVwZGF0ZUFjdGlvbihbW3Jvb3RJZCwgeyByZWZGaWVsZEVkaXQ6IGZpZWxkSW5mbyB9XV0pKVxuICAgICAgLy8gfVxuICAgIH1cblxuICAgIC8vIOWkhOeQhuWunuS9k+aVsOaNru+8iEVudGl0eURhdGHvvInnmoTlj5jmm7RcbiAgICBjb25zdCBlbnRpdHlDaGFuZ2VBY3Rpb24gPSBjb2xsZWN0RW50aXR5Q2hhbmdlQWN0aW9ucyhpZCwgY2hhbmdlLCBjb250cm9sRGF0YSwge1xuICAgICAgZ2xvYmFsQ29uZmlnLFxuICAgICAgZGF0YUNvbnRleHQsXG4gICAgICBzZWxlY3Rpb25Db250ZXh0LFxuICAgICAgYWN0aW9uLFxuICAgICAgZGF0YUZhY3RvcnksXG4gICAgICBtb2RlbEZhY3RvcnksXG4gICAgICBtZXRhUmVhZGVyXG4gICAgfSlcbiAgICBlbnRpdHlDaGFuZ2VBY3Rpb24gJiYgYXBwZW5kQWN0aW9ucy5wdXNoKGVudGl0eUNoYW5nZUFjdGlvbilcblxuICAgIGlmIChGaWVsZFR5cGUgaW4gY2hhbmdlKSB7IC8vIOi/memHjOWlveWDj+aYr+acieS4gOeCuemXrumimFxuICAgICAgY29uc3QgY2hhbmdlVHlwZSA9IGNoYW5nZVtGaWVsZFR5cGVdXG4gICAgICBjb25zdCB7IEFwVHlwZSB9ID0gbWV0YVJlYWRlci5nZXRDb250cm9sTWV0YShjaGFuZ2VUeXBlKVxuICAgICAgY29uc3QgeyBCYXNlVHlwZTogUGFyZW50QmFzZVR5cGUgfSA9IG1ldGFSZWFkZXIuZ2V0Q29udHJvbE1ldGEocGFyZW50VHlwZSlcblxuICAgICAgY29uc3QgY2hhbmdlQXBUeXBlID0gZ2V0Q3VycmVudEFwVHlwZShBcFR5cGUsIFBhcmVudEJhc2VUeXBlKVxuXG4gICAgICAvLyDopoHmm7TmlrDnmoTpg6jliIZcbiAgICAgIGNvbnN0IHVwZGF0ZUFjdGlvbnMgPSBnZXRVcGRhdGVBY3Rpb25CeUNoYW5nZVR5cGUoY2hhbmdlVHlwZSwgY2hhbmdlQXBUeXBlLCBjb250cm9sRGF0YSwgY2hhbmdlLCBtZXRhUmVhZGVyKVxuICAgICAgYXBwZW5kQWN0aW9ucy5wdXNoKHVwZGF0ZUFjdGlvbnMpXG5cbiAgICAgIC8vIOWIoOmZpGFjdGlvblxuICAgICAgY29uc3QgcmVtb3ZlUHJvcE5hbWVBY3Rpb25zID0gZ2V0UmVtb3ZlUHJvcEFjdGlvbkJ5Q2hhbmdlVHlwZShjaGFuZ2VUeXBlLCBjb250cm9sRGF0YSwgbWV0YVJlYWRlcilcbiAgICAgIHJlbW92ZVByb3BOYW1lQWN0aW9ucyAmJiBhcHBlbmRBY3Rpb25zLnB1c2gocmVtb3ZlUHJvcE5hbWVBY3Rpb25zKVxuICAgIH1cbiAgfSlcblxuICAvLyDmm7TmlrDnvJPlrZhcbiAgc2V0SGlkZUZpZWxkUmVmKGhpZGVDYWNoZUZpZWxkcylcblxuICBjb25zb2xlLmxvZygncHJlVXBkYXRlSGFuZGxlJywgYWN0aW9uLCBhcHBlbmRBY3Rpb25zKVxuICBjb25zdCBwcmVIYW5kbGVSZXN1bHRzID0gW2FjdGlvbl0uY29uY2F0KGFwcGVuZEFjdGlvbnMpXG5cbiAgcmV0dXJuIHByZUhhbmRsZVJlc3VsdHNcbn1cblxuZXhwb3J0IGRlZmF1bHQgcHJlVXBkYXRlSGFuZGxlXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///70084\n");

/***/ }),

/***/ 51088:
/*!******************************!*\
  !*** ./src/reducer/index.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initState: function() { return /* binding */ initState; },\n/* harmony export */   reducer: function() { return /* binding */ reducer; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var kd_libs_immer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! kd_libs/immer */ 59480);\n/* harmony import */ var kd_libs_immer__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(kd_libs_immer__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _reduceConstants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./reduceConstants */ 10788);\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\nvar initState = {\n  appFormList: [],\n  innerForm: []\n};\nvar reducer = (0,kd_libs_immer__WEBPACK_IMPORTED_MODULE_9__.produce)(function (state, action) {\n  var _context4, _context5;\n  var key = action.key,\n    payload = action.payload;\n  var _ref = (state === null || state === void 0 ? void 0 : state[payload === null || payload === void 0 ? void 0 : payload.form]) || {},\n    _ref$data = _ref.data,\n    data = _ref$data === void 0 ? {} : _ref$data,\n    _ref$ids = _ref.ids,\n    ids = _ref$ids === void 0 ? [] : _ref$ids;\n  var _ref2 = data || {},\n    _ref2$entitymeta = _ref2.entitymeta,\n    entitymeta = _ref2$entitymeta === void 0 ? {\n      Items: []\n    } : _ref2$entitymeta,\n    _ref2$formmeta = _ref2.formmeta,\n    formmeta = _ref2$formmeta === void 0 ? {\n      Items: []\n    } : _ref2$formmeta;\n  switch (key) {\n    case _reduceConstants__WEBPACK_IMPORTED_MODULE_10__.INIT_FORM_DATA:\n      for (var k in payload) {\n        if (Object.prototype.hasOwnProperty.call(payload, k)) {\n          var _context;\n          state[k] = {\n            data: payload[k],\n            ids: _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default()(_context = payload[k].entitymeta.Items).call(_context, function (item) {\n              return item.Id;\n            })\n          };\n        }\n      }\n      break;\n    case _reduceConstants__WEBPACK_IMPORTED_MODULE_10__.UPDATE_FORM_DATA:\n      state[payload.form] = payload.info;\n      break;\n    case _reduceConstants__WEBPACK_IMPORTED_MODULE_10__.ADD_CONTROL:\n      if (!(ids !== null && ids !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default()(ids).call(ids, payload.data.Id))) {\n        var _context2, _context3;\n        // 新添加的控件，rootId改为表单ID\n        payload.data.ParentId = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default()(_context2 = payload.form).call(_context2, '_table') ? payload.data.ParentId : payload.form;\n        payload.data.EntityData.ParentId = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_8___default()(_context3 = payload.form).call(_context3, '_table') ? payload.data.EntityData.ParentId : payload.form;\n        var formData = _objectSpread({}, payload.data);\n        delete formData.EntityData;\n        // 新添加的控件一例添加到表单的最后面\n        // if (payload.prevId) {\n        //   // ids.push(payload.data.Id)\n        //   const entityIndex = entitymeta.Items.findIndex((item:any) => item.Id === payload.prevId)\n        //   const formIndex = formmeta.Items.findIndex((item:any) => item.Id === payload.prevId)\n        //   entitymeta.Items.splice(entityIndex, 0, payload.data.EntityData)\n        //   formmeta.Items.splice(formIndex, 0, formData)\n        // } else {\n        if (state !== null && state !== void 0 && state[payload === null || payload === void 0 ? void 0 : payload.form]) {\n          entitymeta.Items.push(payload.data.EntityData);\n          formmeta.Items.push(formData);\n        } else {\n          state[payload.form] = {\n            data: {\n              entitymeta: {\n                Items: [payload.data.EntityData]\n              },\n              formmeta: {\n                Items: [formData]\n              }\n            },\n            ids: []\n          };\n        }\n      }\n      break;\n    case _reduceConstants__WEBPACK_IMPORTED_MODULE_10__.DEL_CONTROL:\n      entitymeta.Items = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(_context4 = entitymeta.Items).call(_context4, function (item) {\n        return item.Id !== payload.id;\n      });\n      formmeta.Items = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(_context5 = formmeta.Items).call(_context5, function (item) {\n        return item.Id !== payload.id;\n      });\n      // ids = ids.filter((id:string) => id !== payload.id)\n      break;\n    case _reduceConstants__WEBPACK_IMPORTED_MODULE_10__.UPDATE_CONTROL_PROPS:\n      entitymeta.Items.some(function (item) {\n        if (item.Id === payload.id) {\n          item = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(item, payload.data);\n          return true;\n        }\n        return false;\n      });\n      formmeta.Items.some(function (item) {\n        if (item.Id === payload.id) {\n          item = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(item, payload.data);\n          return true;\n        }\n        return false;\n      });\n      break;\n    case _reduceConstants__WEBPACK_IMPORTED_MODULE_10__.UPDATE_APP_FORM_LIST:\n      state.appFormList = payload.data;\n      state.innerForm = payload.innerForm;\n      break;\n    case _reduceConstants__WEBPACK_IMPORTED_MODULE_10__.COPY_FORM_DATA:\n      state[payload.form] = _objectSpread({}, state[payload.source]);\n      break;\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTEwODguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy9yZWR1Y2VyL2luZGV4LnRzPzYxZTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJvZHVjZSB9IGZyb20gJ2ltbWVyJ1xuaW1wb3J0IHtcbiAgVVBEQVRFX0ZPUk1fREFUQSwgVVBEQVRFX0NPTlRST0xfUFJPUFMsIEFERF9DT05UUk9MLCBERUxfQ09OVFJPTCwgVVBEQVRFX0FQUF9GT1JNX0xJU1QsXG4gIENPUFlfRk9STV9EQVRBLCBJTklUX0ZPUk1fREFUQVxufSBmcm9tICcuL3JlZHVjZUNvbnN0YW50cydcblxuZXhwb3J0IGNvbnN0IGluaXRTdGF0ZSA9IHtcbiAgYXBwRm9ybUxpc3Q6IFtdLFxuICBpbm5lckZvcm06IFtdXG59XG5cbmV4cG9ydCBjb25zdCByZWR1Y2VyID0gcHJvZHVjZSgoc3RhdGUsIGFjdGlvbikgPT4ge1xuICBjb25zdCB7IGtleSwgcGF5bG9hZCB9ID0gYWN0aW9uXG4gIGNvbnN0IHsgZGF0YSA9IHt9LCBpZHMgPSBbXSB9ID0gc3RhdGU/LltwYXlsb2FkPy5mb3JtXSB8fCB7fVxuICBjb25zdCB7IGVudGl0eW1ldGEgPSB7IEl0ZW1zOiBbXSB9LCBmb3JtbWV0YSA9IHsgSXRlbXM6IFtdIH0gfSA9IGRhdGEgfHwge31cbiAgc3dpdGNoIChrZXkpIHtcbiAgICBjYXNlIElOSVRfRk9STV9EQVRBOlxuICAgICAgZm9yIChjb25zdCBrIGluIHBheWxvYWQpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXlsb2FkLCBrKSkge1xuICAgICAgICAgIHN0YXRlW2tdID0geyBkYXRhOiBwYXlsb2FkW2tdLCBpZHM6IHBheWxvYWRba10uZW50aXR5bWV0YS5JdGVtcy5tYXAoaXRlbSA9PiBpdGVtLklkKSB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrXG4gICAgY2FzZSBVUERBVEVfRk9STV9EQVRBOlxuICAgICAgc3RhdGVbcGF5bG9hZC5mb3JtXSA9IHBheWxvYWQuaW5mb1xuICAgICAgYnJlYWtcbiAgICBjYXNlIEFERF9DT05UUk9MOlxuICAgICAgaWYgKCFpZHM/LmluY2x1ZGVzKHBheWxvYWQuZGF0YS5JZCkpIHtcbiAgICAgICAgLy8g5paw5re75Yqg55qE5o6n5Lu277yMcm9vdElk5pS55Li66KGo5Y2VSURcbiAgICAgICAgcGF5bG9hZC5kYXRhLlBhcmVudElkID0gcGF5bG9hZC5mb3JtLmluY2x1ZGVzKCdfdGFibGUnKSA/IHBheWxvYWQuZGF0YS5QYXJlbnRJZCA6IHBheWxvYWQuZm9ybVxuICAgICAgICBwYXlsb2FkLmRhdGEuRW50aXR5RGF0YS5QYXJlbnRJZCA9IHBheWxvYWQuZm9ybS5pbmNsdWRlcygnX3RhYmxlJykgPyBwYXlsb2FkLmRhdGEuRW50aXR5RGF0YS5QYXJlbnRJZCA6IHBheWxvYWQuZm9ybVxuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IHsgLi4ucGF5bG9hZC5kYXRhIH1cbiAgICAgICAgZGVsZXRlIGZvcm1EYXRhLkVudGl0eURhdGFcbiAgICAgICAgLy8g5paw5re75Yqg55qE5o6n5Lu25LiA5L6L5re75Yqg5Yiw6KGo5Y2V55qE5pyA5ZCO6Z2iXG4gICAgICAgIC8vIGlmIChwYXlsb2FkLnByZXZJZCkge1xuICAgICAgICAvLyAgIC8vIGlkcy5wdXNoKHBheWxvYWQuZGF0YS5JZClcbiAgICAgICAgLy8gICBjb25zdCBlbnRpdHlJbmRleCA9IGVudGl0eW1ldGEuSXRlbXMuZmluZEluZGV4KChpdGVtOmFueSkgPT4gaXRlbS5JZCA9PT0gcGF5bG9hZC5wcmV2SWQpXG4gICAgICAgIC8vICAgY29uc3QgZm9ybUluZGV4ID0gZm9ybW1ldGEuSXRlbXMuZmluZEluZGV4KChpdGVtOmFueSkgPT4gaXRlbS5JZCA9PT0gcGF5bG9hZC5wcmV2SWQpXG4gICAgICAgIC8vICAgZW50aXR5bWV0YS5JdGVtcy5zcGxpY2UoZW50aXR5SW5kZXgsIDAsIHBheWxvYWQuZGF0YS5FbnRpdHlEYXRhKVxuICAgICAgICAvLyAgIGZvcm1tZXRhLkl0ZW1zLnNwbGljZShmb3JtSW5kZXgsIDAsIGZvcm1EYXRhKVxuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICBpZiAoc3RhdGU/LltwYXlsb2FkPy5mb3JtXSkge1xuICAgICAgICAgIGVudGl0eW1ldGEuSXRlbXMucHVzaChwYXlsb2FkLmRhdGEuRW50aXR5RGF0YSlcbiAgICAgICAgICBmb3JtbWV0YS5JdGVtcy5wdXNoKGZvcm1EYXRhKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlW3BheWxvYWQuZm9ybV0gPSB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGVudGl0eW1ldGE6IHsgSXRlbXM6IFtwYXlsb2FkLmRhdGEuRW50aXR5RGF0YV0gfSxcbiAgICAgICAgICAgICAgZm9ybW1ldGE6IHsgSXRlbXM6IFtmb3JtRGF0YV0gfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlkczogW11cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrXG4gICAgY2FzZSBERUxfQ09OVFJPTDpcbiAgICAgIGVudGl0eW1ldGEuSXRlbXMgPSBlbnRpdHltZXRhLkl0ZW1zLmZpbHRlcigoaXRlbTphbnkpID0+IGl0ZW0uSWQgIT09IHBheWxvYWQuaWQpXG4gICAgICBmb3JtbWV0YS5JdGVtcyA9IGZvcm1tZXRhLkl0ZW1zLmZpbHRlcigoaXRlbTphbnkpID0+IGl0ZW0uSWQgIT09IHBheWxvYWQuaWQpXG4gICAgICAvLyBpZHMgPSBpZHMuZmlsdGVyKChpZDpzdHJpbmcpID0+IGlkICE9PSBwYXlsb2FkLmlkKVxuICAgICAgYnJlYWtcbiAgICBjYXNlIFVQREFURV9DT05UUk9MX1BST1BTOlxuICAgICAgZW50aXR5bWV0YS5JdGVtcy5zb21lKChpdGVtOmFueSkgPT4ge1xuICAgICAgICBpZiAoaXRlbS5JZCA9PT0gcGF5bG9hZC5pZCkge1xuICAgICAgICAgIGl0ZW0gPSBPYmplY3QuYXNzaWduKGl0ZW0sIHBheWxvYWQuZGF0YSlcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfSlcbiAgICAgIGZvcm1tZXRhLkl0ZW1zLnNvbWUoKGl0ZW06YW55KSA9PiB7XG4gICAgICAgIGlmIChpdGVtLklkID09PSBwYXlsb2FkLmlkKSB7XG4gICAgICAgICAgaXRlbSA9IE9iamVjdC5hc3NpZ24oaXRlbSwgcGF5bG9hZC5kYXRhKVxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9KVxuICAgICAgYnJlYWtcbiAgICBjYXNlIFVQREFURV9BUFBfRk9STV9MSVNUOlxuICAgICAgc3RhdGUuYXBwRm9ybUxpc3QgPSBwYXlsb2FkLmRhdGFcbiAgICAgIHN0YXRlLmlubmVyRm9ybSA9IHBheWxvYWQuaW5uZXJGb3JtXG4gICAgICBicmVha1xuICAgIGNhc2UgQ09QWV9GT1JNX0RBVEE6XG4gICAgICBzdGF0ZVtwYXlsb2FkLmZvcm1dID0geyAuLi5zdGF0ZVtwYXlsb2FkLnNvdXJjZV0gfVxuICAgICAgYnJlYWtcbiAgfVxufSlcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///51088\n");

/***/ }),

/***/ 10788:
/*!****************************************!*\
  !*** ./src/reducer/reduceConstants.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ADD_CONTROL: function() { return /* binding */ ADD_CONTROL; },\n/* harmony export */   COPY_FORM_DATA: function() { return /* binding */ COPY_FORM_DATA; },\n/* harmony export */   DEL_ALL_CONTROLS: function() { return /* binding */ DEL_ALL_CONTROLS; },\n/* harmony export */   DEL_CONTROL: function() { return /* binding */ DEL_CONTROL; },\n/* harmony export */   INIT_FORM_DATA: function() { return /* binding */ INIT_FORM_DATA; },\n/* harmony export */   REDO: function() { return /* binding */ REDO; },\n/* harmony export */   UNDO: function() { return /* binding */ UNDO; },\n/* harmony export */   UPDATE_APP_FORM_LIST: function() { return /* binding */ UPDATE_APP_FORM_LIST; },\n/* harmony export */   UPDATE_CONTROL_PROPS: function() { return /* binding */ UPDATE_CONTROL_PROPS; },\n/* harmony export */   UPDATE_FORM_DATA: function() { return /* binding */ UPDATE_FORM_DATA; }\n/* harmony export */ });\nvar INIT_FORM_DATA = 'INIT_FORM_DATA'; // 初始化表单数据\nvar UPDATE_FORM_DATA = 'UPDATE_FORM_DATA'; // 更新表单数据\nvar UPDATE_CONTROL_PROPS = 'UPDATE_CONTROL_PROPS'; // 更新表单数据标题\nvar ADD_CONTROL = 'ADD_CONTROL'; // 添加表单控件\nvar DEL_CONTROL = 'DEL_CONTROL'; // 删除表单控件\nvar DEL_ALL_CONTROLS = 'DEL_ALL_CONTROLS'; // 删除所有表单控件，内部表单时使用\nvar UPDATE_APP_FORM_LIST = 'UPDATE_APP_FORM_LIST'; // 删除所有表单控件，内部表单时使用\nvar COPY_FORM_DATA = 'COPY_FORM_DATA'; // 复制表单数据\nvar UNDO = 'UNDO'; // 撤消\nvar REDO = 'REDO'; // 重做//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA3ODguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL3JlZHVjZXIvcmVkdWNlQ29uc3RhbnRzLnRzP2FkODYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IElOSVRfRk9STV9EQVRBID0gJ0lOSVRfRk9STV9EQVRBJyAvLyDliJ3lp4vljJbooajljZXmlbDmja5cbmV4cG9ydCBjb25zdCBVUERBVEVfRk9STV9EQVRBID0gJ1VQREFURV9GT1JNX0RBVEEnIC8vIOabtOaWsOihqOWNleaVsOaNrlxuZXhwb3J0IGNvbnN0IFVQREFURV9DT05UUk9MX1BST1BTID0gJ1VQREFURV9DT05UUk9MX1BST1BTJyAvLyDmm7TmlrDooajljZXmlbDmja7moIfpophcbmV4cG9ydCBjb25zdCBBRERfQ09OVFJPTCA9ICdBRERfQ09OVFJPTCcgLy8g5re75Yqg6KGo5Y2V5o6n5Lu2XG5leHBvcnQgY29uc3QgREVMX0NPTlRST0wgPSAnREVMX0NPTlRST0wnIC8vIOWIoOmZpOihqOWNleaOp+S7tlxuZXhwb3J0IGNvbnN0IERFTF9BTExfQ09OVFJPTFMgPSAnREVMX0FMTF9DT05UUk9MUycgLy8g5Yig6Zmk5omA5pyJ6KGo5Y2V5o6n5Lu277yM5YaF6YOo6KGo5Y2V5pe25L2/55SoXG5leHBvcnQgY29uc3QgVVBEQVRFX0FQUF9GT1JNX0xJU1QgPSAnVVBEQVRFX0FQUF9GT1JNX0xJU1QnIC8vIOWIoOmZpOaJgOacieihqOWNleaOp+S7tu+8jOWGhemDqOihqOWNleaXtuS9v+eUqFxuZXhwb3J0IGNvbnN0IENPUFlfRk9STV9EQVRBID0gJ0NPUFlfRk9STV9EQVRBJyAvLyDlpI3liLbooajljZXmlbDmja5cbmV4cG9ydCBjb25zdCBVTkRPID0gJ1VORE8nIC8vIOaSpOa2iFxuZXhwb3J0IGNvbnN0IFJFRE8gPSAnUkVETycgLy8g6YeN5YGaXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10788\n");

/***/ }),

/***/ 18492:
/*!***************************!*\
  !*** ./src/type/index.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TEXT_STATUS_ENUM: function() { return /* binding */ TEXT_STATUS_ENUM; }\n/* harmony export */ });\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-07-13 15:43:48\n * @LastEditTime: 2022-12-07 16:40:19\n * @Last Modified by: jianhang_he\n */\n\n// 1普通 2禁用 3只读 4隐藏\nvar TEXT_STATUS_ENUM = /*#__PURE__*/function (TEXT_STATUS_ENUM) {\n  TEXT_STATUS_ENUM[\"DEFAULT\"] = \"1\";\n  TEXT_STATUS_ENUM[\"DISABLED\"] = \"2\";\n  TEXT_STATUS_ENUM[\"READONLY\"] = \"3\";\n  TEXT_STATUS_ENUM[\"HIDDEN\"] = \"4\";\n  return TEXT_STATUS_ENUM;\n}({});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTg0OTIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQVFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvdHlwZS9pbmRleC50cz8zNzFkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDctMTMgMTU6NDM6NDhcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjItMTItMDcgMTY6NDA6MTlcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgeyBJQ29udHJvbEl0ZW1VcHBlcmNhc2VLZXkgfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5cbmV4cG9ydCBpbnRlcmZhY2UgQXBDb250cm9sUHJvcHMge1xuICBmaWVsZDogSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5O1xuICBjb2x1bW5TcGFuPzogbnVtYmVyIHwgc3RyaW5nXG59XG5cbi8vIDHmma7pgJogMuemgeeUqCAz5Y+q6K+7IDTpmpDol49cbmV4cG9ydCBlbnVtIFRFWFRfU1RBVFVTX0VOVU0ge1xuICBERUZBVUxUID0gJzEnLFxuICBESVNBQkxFRCA9ICcyJyxcbiAgUkVBRE9OTFkgPSAnMycsXG4gIEhJRERFTiA9ICc0J1xufVxuXG5leHBvcnQgdHlwZSBEYXRlVHlwZSA9IERhdGUgfCBudWxsXG5cbmV4cG9ydCB0eXBlIERhdGVSYW5nZU9iaiA9IHtcbiAgc3RhcnQ/OiBzdHJpbmc7XG4gIGVuZD86IHN0cmluZztcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18492\n");

/***/ }),

/***/ 43660:
/*!*************************************!*\
  !*** ./src/utils/canAddCallback.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0__);\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-05-30 10:01:14\n * @LastEditTime: 2023-06-25 16:19:56\n * @Last Modified by: jianhang_he\n */\nvar canAddCallback = function canAddCallback(_ref) {\n  var kdesignerApi = _ref.kdesignerApi,\n    keywordMapping = _ref.keywordMapping;\n  return function (childField, parentField, childMeta, parentMeta) {\n    var metaApi = kdesignerApi.current.meta;\n    var parentType = typeof parentField === 'string' ? parentField : parentField[keywordMapping.type];\n    var _ref2 = metaApi.getControlMeta(parentType) || {},\n      parentBaseType = _ref2.BaseType,\n      parentApTypeMap = _ref2.ApType;\n    var parentApType = parentApTypeMap === null || parentApTypeMap === void 0 ? void 0 : parentApTypeMap.Default;\n    var childType = typeof childField === 'string' ? childField : childField[keywordMapping.type];\n    var _ref3 = metaApi.getControlMeta(childType) || {},\n      childBaseType = _ref3.BaseType,\n      childApTypeMap = _ref3.ApType,\n      Id = _ref3.Id;\n    // 没有ApType就取Id\n    var childApType = childApTypeMap ? (childApTypeMap === null || childApTypeMap === void 0 ? void 0 : childApTypeMap[parentBaseType]) || (childApTypeMap === null || childApTypeMap === void 0 ? void 0 : childApTypeMap.Default) : Id;\n    var parentIsContainer = parentMeta.IsContainer;\n    if (!parentIsContainer) return false;\n    var checkNotAccept = function checkNotAccept(pType) {\n      var _metaApi$getControlMe = metaApi.getControlMeta(pType),\n        notAccept = _metaApi$getControlMe.NotAccept;\n      if (notAccept) {\n        var notAcceptIds = notAccept.Ids;\n        return notAcceptIds === null || notAcceptIds === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(notAcceptIds).call(notAcceptIds, childApType);\n      }\n    };\n    var ret = checkNotAccept(parentType);\n    if (ret) {\n      // showMessage('控件类型不符合,不能添加。')\n      return {\n        message: '控件类型不符合，不能添加。',\n        success: false\n      };\n    }\n    var checkAccept = function checkAccept(pType) {\n      var _metaApi$getControlMe2 = metaApi.getControlMeta(pType),\n        accept = _metaApi$getControlMe2.Accept;\n      if (!accept) return true;\n      if (accept) {\n        var acceptBasetypes = accept.Basetypes,\n          acceptIds = accept.Ids;\n        // if (BaseType === 'Entry') return childType === 'NoCodeTextField' // 暂时只开放单行文本，后面删掉\n\n        // 存在控件没有ApType的情况。例如分组控件的Id本身就是一个ApType\n        return (acceptIds === null || acceptIds === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(acceptIds).call(acceptIds, childApType)) && (acceptBasetypes === null || acceptBasetypes === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(acceptBasetypes).call(acceptBasetypes, childBaseType));\n      }\n    };\n    ret = checkAccept(parentType);\n    if (!ret) {\n      // showMessage('控件类型不符合,不能添加。')\n      return {\n        message: '控件类型不符合，不能添加。',\n        success: false\n      };\n    }\n    var checkParentAccept = function checkParentAccept(cType) {\n      var parentMeta = metaApi.getControlMeta(cType);\n      var acceptParent = parentMeta.AcceptParent;\n      if (!acceptParent) return true;\n      if (acceptParent) {\n        var acceptParentBasetypes = acceptParent.Basetypes,\n          acceptParentIds = acceptParent.Ids;\n        return (acceptParentIds === null || acceptParentIds === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(acceptParentIds).call(acceptParentIds, parentApType)) || (acceptParentBasetypes === null || acceptParentBasetypes === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(acceptParentBasetypes).call(acceptParentBasetypes, parentBaseType));\n      }\n    };\n    ret = checkParentAccept(childType);\n    if (!ret) {\n      // showMessage('父容器类型不符合,不能添加。')\n      return {\n        message: '父容器类型不符合,不能添加。',\n        success: false\n      };\n    }\n    return true;\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (canAddCallback);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDM2NjAuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvdXRpbHMvY2FuQWRkQ2FsbGJhY2sudHM/MmU4MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIzLTA1LTMwIDEwOjAxOjE0XG4gKiBATGFzdEVkaXRUaW1lOiAyMDIzLTA2LTI1IDE2OjE5OjU2XG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuY29uc3QgY2FuQWRkQ2FsbGJhY2sgPSAoe1xuICBrZGVzaWduZXJBcGksXG4gIGtleXdvcmRNYXBwaW5nXG59OiBhbnkpID0+IChjaGlsZEZpZWxkLCBwYXJlbnRGaWVsZCwgY2hpbGRNZXRhLCBwYXJlbnRNZXRhKSA9PiB7XG4gIGNvbnN0IHsgbWV0YTogbWV0YUFwaSB9ID0ga2Rlc2lnbmVyQXBpLmN1cnJlbnRcbiAgY29uc3QgcGFyZW50VHlwZSA9IHR5cGVvZiBwYXJlbnRGaWVsZCA9PT0gJ3N0cmluZycgPyBwYXJlbnRGaWVsZCA6IHBhcmVudEZpZWxkW2tleXdvcmRNYXBwaW5nLnR5cGVdXG4gIGNvbnN0IHsgQmFzZVR5cGU6IHBhcmVudEJhc2VUeXBlLCBBcFR5cGU6IHBhcmVudEFwVHlwZU1hcCB9ID0gbWV0YUFwaS5nZXRDb250cm9sTWV0YShwYXJlbnRUeXBlKSB8fCB7fVxuICBjb25zdCBwYXJlbnRBcFR5cGUgPSBwYXJlbnRBcFR5cGVNYXA/LkRlZmF1bHRcbiAgY29uc3QgY2hpbGRUeXBlID0gdHlwZW9mIGNoaWxkRmllbGQgPT09ICdzdHJpbmcnID8gY2hpbGRGaWVsZCA6IGNoaWxkRmllbGRba2V5d29yZE1hcHBpbmcudHlwZV1cbiAgY29uc3QgeyBCYXNlVHlwZTogY2hpbGRCYXNlVHlwZSwgQXBUeXBlOiBjaGlsZEFwVHlwZU1hcCwgSWQgfSA9IG1ldGFBcGkuZ2V0Q29udHJvbE1ldGEoY2hpbGRUeXBlKSB8fCB7fVxuICAvLyDmsqHmnIlBcFR5cGXlsLHlj5ZJZFxuICBjb25zdCBjaGlsZEFwVHlwZSA9IGNoaWxkQXBUeXBlTWFwID8gKGNoaWxkQXBUeXBlTWFwPy5bcGFyZW50QmFzZVR5cGVdIHx8IGNoaWxkQXBUeXBlTWFwPy5EZWZhdWx0KSA6IElkXG5cbiAgY29uc3QgeyBJc0NvbnRhaW5lcjogcGFyZW50SXNDb250YWluZXIgfSA9IHBhcmVudE1ldGFcbiAgaWYgKCFwYXJlbnRJc0NvbnRhaW5lcikgcmV0dXJuIGZhbHNlXG5cbiAgY29uc3QgY2hlY2tOb3RBY2NlcHQgPSAocFR5cGU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHsgTm90QWNjZXB0OiBub3RBY2NlcHQgfSA9IG1ldGFBcGkuZ2V0Q29udHJvbE1ldGEocFR5cGUpXG4gICAgaWYgKG5vdEFjY2VwdCkge1xuICAgICAgY29uc3QgeyBJZHM6IG5vdEFjY2VwdElkcyB9ID0gbm90QWNjZXB0XG4gICAgICByZXR1cm4gbm90QWNjZXB0SWRzPy5pbmNsdWRlcyhjaGlsZEFwVHlwZSlcbiAgICB9XG4gIH1cbiAgbGV0IHJldCA9IGNoZWNrTm90QWNjZXB0KHBhcmVudFR5cGUpXG4gIGlmIChyZXQpIHtcbiAgICAvLyBzaG93TWVzc2FnZSgn5o6n5Lu257G75Z6L5LiN56ym5ZCILOS4jeiDvea3u+WKoOOAgicpXG4gICAgcmV0dXJuIHsgbWVzc2FnZTogJ+aOp+S7tuexu+Wei+S4jeespuWQiO+8jOS4jeiDvea3u+WKoOOAgicsIHN1Y2Nlc3M6IGZhbHNlIH1cbiAgfVxuXG4gIGNvbnN0IGNoZWNrQWNjZXB0ID0gKHBUeXBlOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCB7IEFjY2VwdDogYWNjZXB0IH0gPSBtZXRhQXBpLmdldENvbnRyb2xNZXRhKHBUeXBlKVxuICAgIGlmICghYWNjZXB0KSByZXR1cm4gdHJ1ZVxuICAgIGlmIChhY2NlcHQpIHtcbiAgICAgIGNvbnN0IHsgQmFzZXR5cGVzOiBhY2NlcHRCYXNldHlwZXMsIElkczogYWNjZXB0SWRzIH0gPSBhY2NlcHRcbiAgICAgIC8vIGlmIChCYXNlVHlwZSA9PT0gJ0VudHJ5JykgcmV0dXJuIGNoaWxkVHlwZSA9PT0gJ05vQ29kZVRleHRGaWVsZCcgLy8g5pqC5pe25Y+q5byA5pS+5Y2V6KGM5paH5pys77yM5ZCO6Z2i5Yig5o6JXG5cbiAgICAgIC8vIOWtmOWcqOaOp+S7tuayoeaciUFwVHlwZeeahOaDheWGteOAguS+i+WmguWIhue7hOaOp+S7tueahElk5pys6Lqr5bCx5piv5LiA5LiqQXBUeXBlXG4gICAgICByZXR1cm4gYWNjZXB0SWRzPy5pbmNsdWRlcyhjaGlsZEFwVHlwZSkgJiYgYWNjZXB0QmFzZXR5cGVzPy5pbmNsdWRlcyhjaGlsZEJhc2VUeXBlKVxuICAgIH1cbiAgfVxuICByZXQgPSBjaGVja0FjY2VwdChwYXJlbnRUeXBlKVxuICBpZiAoIXJldCkge1xuICAgIC8vIHNob3dNZXNzYWdlKCfmjqfku7bnsbvlnovkuI3nrKblkIgs5LiN6IO95re75Yqg44CCJylcbiAgICByZXR1cm4geyBtZXNzYWdlOiAn5o6n5Lu257G75Z6L5LiN56ym5ZCI77yM5LiN6IO95re75Yqg44CCJywgc3VjY2VzczogZmFsc2UgfVxuICB9XG5cbiAgY29uc3QgY2hlY2tQYXJlbnRBY2NlcHQgPSAoY1R5cGU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHBhcmVudE1ldGEgPSBtZXRhQXBpLmdldENvbnRyb2xNZXRhKGNUeXBlKVxuICAgIGNvbnN0IHsgQWNjZXB0UGFyZW50OiBhY2NlcHRQYXJlbnQgfSA9IHBhcmVudE1ldGFcbiAgICBpZiAoIWFjY2VwdFBhcmVudCkgcmV0dXJuIHRydWVcbiAgICBpZiAoYWNjZXB0UGFyZW50KSB7XG4gICAgICBjb25zdCB7IEJhc2V0eXBlczogYWNjZXB0UGFyZW50QmFzZXR5cGVzLCBJZHM6IGFjY2VwdFBhcmVudElkcyB9ID0gYWNjZXB0UGFyZW50XG4gICAgICByZXR1cm4gYWNjZXB0UGFyZW50SWRzPy5pbmNsdWRlcyhwYXJlbnRBcFR5cGUpIHx8IGFjY2VwdFBhcmVudEJhc2V0eXBlcz8uaW5jbHVkZXMocGFyZW50QmFzZVR5cGUpXG4gICAgfVxuICB9XG5cbiAgcmV0ID0gY2hlY2tQYXJlbnRBY2NlcHQoY2hpbGRUeXBlKVxuICBpZiAoIXJldCkge1xuICAgIC8vIHNob3dNZXNzYWdlKCfniLblrrnlmajnsbvlnovkuI3nrKblkIgs5LiN6IO95re75Yqg44CCJylcbiAgICByZXR1cm4geyBtZXNzYWdlOiAn54i25a655Zmo57G75Z6L5LiN56ym5ZCILOS4jeiDvea3u+WKoOOAgicsIHN1Y2Nlc3M6IGZhbHNlIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNhbkFkZENhbGxiYWNrXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///43660\n");

/***/ }),

/***/ 3700:
/*!******************************!*\
  !*** ./src/utils/control.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatRangeObjToDateTypes: function() { return /* binding */ formatRangeObjToDateTypes; },\n/* harmony export */   formatStrToDateType: function() { return /* binding */ formatStrToDateType; },\n/* harmony export */   getControlName: function() { return /* binding */ getControlName; },\n/* harmony export */   getControlVisible: function() { return /* binding */ getControlVisible; },\n/* harmony export */   getMultiRefBillField: function() { return /* binding */ getMultiRefBillField; },\n/* harmony export */   getNameByValidateType: function() { return /* binding */ getNameByValidateType; },\n/* harmony export */   getRefBillTable: function() { return /* binding */ getRefBillTable; },\n/* harmony export */   getSignleMultiName: function() { return /* binding */ getSignleMultiName; },\n/* harmony export */   isAdminOrgField: function() { return /* binding */ isAdminOrgField; },\n/* harmony export */   isAttachmentField: function() { return /* binding */ isAttachmentField; },\n/* harmony export */   isBillForm: function() { return /* binding */ isBillForm; },\n/* harmony export */   isBizButton: function() { return /* binding */ isBizButton; },\n/* harmony export */   isControlRequired: function() { return /* binding */ isControlRequired; },\n/* harmony export */   isCreateDateField: function() { return /* binding */ isCreateDateField; },\n/* harmony export */   isCreatorOrModifierControl: function() { return /* binding */ isCreatorOrModifierControl; },\n/* harmony export */   isDate: function() { return /* binding */ isDate; },\n/* harmony export */   isDateRange: function() { return /* binding */ isDateRange; },\n/* harmony export */   isEntryEntity: function() { return /* binding */ isEntryEntity; },\n/* harmony export */   isGEOField: function() { return /* binding */ isGEOField; },\n/* harmony export */   isGraphicDisplayField: function() { return /* binding */ isGraphicDisplayField; },\n/* harmony export */   isGroupContainer: function() { return /* binding */ isGroupContainer; },\n/* harmony export */   isHideTitleArea: function() { return /* binding */ isHideTitleArea; },\n/* harmony export */   isImageField: function() { return /* binding */ isImageField; },\n/* harmony export */   isModifyDateField: function() { return /* binding */ isModifyDateField; },\n/* harmony export */   isNotSyncProps: function() { return /* binding */ isNotSyncProps; },\n/* harmony export */   isRefBill: function() { return /* binding */ isRefBill; },\n/* harmony export */   isRefBillTable: function() { return /* binding */ isRefBillTable; },\n/* harmony export */   isRichTextField: function() { return /* binding */ isRichTextField; },\n/* harmony export */   isSelectField: function() { return /* binding */ isSelectField; },\n/* harmony export */   isSysControl: function() { return /* binding */ isSysControl; },\n/* harmony export */   isSysRefBill: function() { return /* binding */ isSysRefBill; },\n/* harmony export */   isTextField: function() { return /* binding */ isTextField; },\n/* harmony export */   isTextareaField: function() { return /* binding */ isTextareaField; },\n/* harmony export */   isUserField: function() { return /* binding */ isUserField; },\n/* harmony export */   transformObjectKeyLowerFirst: function() { return /* binding */ transformObjectKeyLowerFirst; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/map */ 52892);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ 98092);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! . */ 41232);\n/* harmony import */ var _constants_control__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../constants/control */ 24788);\n\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-09-05 09:12:57\n * @LastEditTime: 2023-12-08 15:38:30\n * @Last Modified by: jianhang_he\n */\n\n\n\n\nvar isTextField = function isTextField(type) {\n  return type === 'NoCodeTextField';\n};\nvar isDateRange = function isDateRange(type) {\n  return type === 'NoCodeDateRangeField';\n};\nvar isDate = function isDate(type) {\n  return type === 'NoCodeDateField';\n};\nvar isRefBill = function isRefBill(type) {\n  return (type === null || type === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(type).call(type, 'NoCodeRefBillField')) || (type === null || type === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(type).call(type, 'NoCodeMulRefBillField'));\n};\nvar isSysRefBill = function isSysRefBill(type) {\n  var _context;\n  return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(_context = ['NoCodeCreatorField', 'NoCodeModifierField']).call(_context, type);\n};\nvar isSysControl = function isSysControl(type) {\n  var _context2;\n  return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(_context2 = ['NoCodeCreatorField', 'NoCodeCreateDateField', 'NoCodeModifierField', 'NoCodeModifyDateField', 'NoCodeBillNoField']).call(_context2, type);\n};\nvar isCreatorOrModifierControl = function isCreatorOrModifierControl(type) {\n  var _context3;\n  return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(_context3 = ['NoCodeCreatorField', 'NoCodeCreateDateField', 'NoCodeModifierField', 'NoCodeModifyDateField']).call(_context3, type);\n};\nvar isGEOField = function isGEOField(type) {\n  return type === 'NoCodeGEOField';\n};\nvar isImageField = function isImageField(type) {\n  return type === 'NoCodeImageUploadField';\n};\nvar isAttachmentField = function isAttachmentField(type) {\n  return type === 'NoCodeAttachmentUploadField';\n};\nvar isCreateDateField = function isCreateDateField(type) {\n  return type === 'NoCodeCreateDateField';\n};\nvar isModifyDateField = function isModifyDateField(type) {\n  return type === 'NoCodeModifyDateField';\n};\nvar isEntryEntity = function isEntryEntity(type) {\n  return type === 'NoCodeEntryEntity';\n};\nvar isRefBillTable = function isRefBillTable(type) {\n  return type === 'NoCodeRefBillTable';\n};\nvar isBillForm = function isBillForm(type) {\n  return type === 'NoCodeBillFormAp' || type === 'NoCodeBillEntity';\n};\nvar isBizButton = function isBizButton(type) {\n  return type === _constants__WEBPACK_IMPORTED_MODULE_5__.NOCODE_BIZBUTTON_AP || type === _constants__WEBPACK_IMPORTED_MODULE_5__.NOCODE_BIZBUTTON_PANEL_AP;\n};\nvar isSelectField = function isSelectField(type) {\n  return type === 'NoCodeSelectItemField';\n};\nvar isAdminOrgField = function isAdminOrgField(type) {\n  return type === 'NoCodeMulRefBillField_bos_adminorg';\n};\nvar isUserField = function isUserField(type) {\n  return type === 'NoCodeMulRefBillField_bos_user';\n};\nvar isRichTextField = function isRichTextField(type) {\n  return type === 'NoCodeRichTextField';\n};\nvar isTextareaField = function isTextareaField(type) {\n  return type === 'NoCodeTextAreaField';\n};\n\n// 是否是图文展示控件\nvar isGraphicDisplayField = function isGraphicDisplayField(type) {\n  return type === 'NoCodeGraphicDisplayField';\n};\nvar getNameByValidateType = function getNameByValidateType(type) {\n  var nameMap = new (_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_1___default())([['pwd', '密码'], ['url', '网址'], ['idcard', '身份证号码'], ['email', '邮箱'], ['phone', '手机'], ['none', '单行文本']]);\n  return nameMap.get(type);\n};\n\n// 获取关联表单表格（有效且非隐藏的）\nvar getRefBillTable = function getRefBillTable(node) {\n  var _Type_ = node._Type_,\n    showType = node.showType;\n  return isRefBillTable(_Type_) && showType !== '1';\n};\n\n// 获取多选关联表单（有效且非隐藏的）\nvar getMultiRefBillField = function getMultiRefBillField(node) {\n  var _Type_ = node._Type_,\n    RefTableId = node.RefTableId,\n    ShowType = node.ShowType,\n    BillEntityIdEx = node.BillEntityIdEx,\n    Multi = node.Multi;\n  return isRefBill(_Type_) && BillEntityIdEx !== undefined && !(RefTableId && ShowType === '2') && Multi == 1;\n};\nvar transformObjectKeyLowerFirst = function transformObjectKeyLowerFirst(obj) {\n  if (!obj) return obj;\n  return _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_2___default()(obj).reduce(function (newObj, key) {\n    newObj[(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_4__.lowerFirst)(key)] = obj[key];\n    return newObj;\n  }, {});\n};\nvar formatStrToDateType = function formatStrToDateType(dateString) {\n  return dateString && Date.parse(dateString) ? new Date(dateString) : null;\n};\nvar formatRangeObjToDateTypes = function formatRangeObjToDateTypes(obj) {\n  if (!obj) return null;\n  obj = transformObjectKeyLowerFirst(obj);\n  var _ref = obj || [],\n    _ref$start = _ref.start,\n    start = _ref$start === void 0 ? '' : _ref$start,\n    _ref$end = _ref.end,\n    end = _ref$end === void 0 ? '' : _ref$end;\n  return [formatStrToDateType(start), formatStrToDateType(end)];\n};\n\n/**\n * 获取控件是否可见，需要过滤pc端显示或者是移动端显示的控件\n * @param isPC 是否PC端\n * @param visibility 可见\n * @returns\n */\nvar getControlVisible = function getControlVisible(isPC, visibility) {\n  return isPC && visibility !== 'mob' || !isPC && visibility !== 'pc';\n};\n\n/**\n * 是否隐藏标题区域\n */\nvar isHideTitleArea = function isHideTitleArea(value) {\n  return value === 'hide';\n};\nvar isControlRequired = function isControlRequired(field) {\n  var MustInput = field.MustInput,\n    FieldRequired = field.FieldRequired,\n    Status = field.Status;\n  // 普通状态才有必录（只读、禁用、隐藏态无），再判断必录\n  return Status === _constants_control__WEBPACK_IMPORTED_MODULE_7__.TEXT_STATUS_ENUM.DEFAULT && (MustInput || FieldRequired === '2' || FieldRequired === '3');\n};\nvar getSignleMultiName = function getSignleMultiName(name, isMulti) {\n  var _context4;\n  return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context4 = \"\".concat(name, \"[\")).call(_context4, isMulti ? '多条' : '单条', \"]\");\n};\nvar getControlName = function getControlName(name, controlData) {\n  if (!controlData) return '';\n  var controlType = controlData._Type_;\n  if (isSelectField(controlType)) {\n    var _context5;\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context5 = \"\".concat(name, \"[\")).call(_context5, (0,___WEBPACK_IMPORTED_MODULE_6__.isMultiSelect)(controlData.SelectItemType) ? '多选' : '单选', \"]\");\n  } else if (isRefBill(controlType)) {\n    return getSignleMultiName(name, (0,___WEBPACK_IMPORTED_MODULE_6__.isMultiSelect)(controlData.Multi));\n  }\n  return name;\n};\n\n// 状态，规则，必录，普通默认值，等不同步\n// FieldRequired, Status, NoCodeDefValue, PictureDefValue, UploadDefValue\nvar isNotSyncProps = function isNotSyncProps(type) {\n  var _context6;\n  return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(_context6 = ['Status', 'DisplayRules', 'FieldRequired', 'NoCodeDefValue', 'QueryFormValue', 'FormulaValue', 'UploadDefValue', 'PictureDefValue', 'Visibility']).call(_context6, type);\n};\nvar isGroupContainer = function isGroupContainer(type) {\n  return type === 'NoCodeGroupContainerAp';\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcwMC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL3V0aWxzL2NvbnRyb2wudHM/MjAxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsb3dlckZpcnN0IH0gZnJvbSAnbG9kYXNoJ1xuLypcbiAqIEBEZXNjcmlwdGlvbjpcbiAqIEBBdXRob3I6IGppYW5oYW5nX2hlXG4gKiBARGF0ZTogMjAyMi0wOS0wNSAwOToxMjo1N1xuICogQExhc3RFZGl0VGltZTogMjAyMy0xMi0wOCAxNTozODozMFxuICogQExhc3QgTW9kaWZpZWQgYnk6IGppYW5oYW5nX2hlXG4gKi9cbmltcG9ydCB0eXBlIHsgRGF0ZVR5cGUsIERhdGVSYW5nZU9iaiB9IGZyb20gJy4uL3R5cGUnXG5pbXBvcnQgeyBOT0NPREVfQklaQlVUVE9OX0FQLCBOT0NPREVfQklaQlVUVE9OX1BBTkVMX0FQIH0gZnJvbSAnLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHsgaXNNdWx0aVNlbGVjdCB9IGZyb20gJy4nXG5pbXBvcnQgeyBURVhUX1NUQVRVU19FTlVNIH0gZnJvbSAnLi4vY29uc3RhbnRzL2NvbnRyb2wnXG5cbmV4cG9ydCBjb25zdCBpc1RleHRGaWVsZCA9ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIHR5cGUgPT09ICdOb0NvZGVUZXh0RmllbGQnXG59XG5cbmV4cG9ydCBjb25zdCBpc0RhdGVSYW5nZSA9ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIHR5cGUgPT09ICdOb0NvZGVEYXRlUmFuZ2VGaWVsZCdcbn1cblxuZXhwb3J0IGNvbnN0IGlzRGF0ZSA9ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIHR5cGUgPT09ICdOb0NvZGVEYXRlRmllbGQnXG59XG5cbmV4cG9ydCBjb25zdCBpc1JlZkJpbGwgPSAodHlwZTogc3RyaW5nKSA9PiB7XG4gIHJldHVybiB0eXBlPy5pbmNsdWRlcygnTm9Db2RlUmVmQmlsbEZpZWxkJykgfHwgdHlwZT8uaW5jbHVkZXMoJ05vQ29kZU11bFJlZkJpbGxGaWVsZCcpXG59XG5cbmV4cG9ydCBjb25zdCBpc1N5c1JlZkJpbGwgPSAodHlwZTogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBbJ05vQ29kZUNyZWF0b3JGaWVsZCcsICdOb0NvZGVNb2RpZmllckZpZWxkJ10uaW5jbHVkZXModHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGlzU3lzQ29udHJvbCA9ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIFsnTm9Db2RlQ3JlYXRvckZpZWxkJywgJ05vQ29kZUNyZWF0ZURhdGVGaWVsZCcsICdOb0NvZGVNb2RpZmllckZpZWxkJywgJ05vQ29kZU1vZGlmeURhdGVGaWVsZCcsICdOb0NvZGVCaWxsTm9GaWVsZCddLmluY2x1ZGVzKHR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBpc0NyZWF0b3JPck1vZGlmaWVyQ29udHJvbCA9ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIFsnTm9Db2RlQ3JlYXRvckZpZWxkJywgJ05vQ29kZUNyZWF0ZURhdGVGaWVsZCcsICdOb0NvZGVNb2RpZmllckZpZWxkJywgJ05vQ29kZU1vZGlmeURhdGVGaWVsZCddLmluY2x1ZGVzKHR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBpc0dFT0ZpZWxkID0gKHR5cGU6IHN0cmluZykgPT4ge1xuICByZXR1cm4gdHlwZSA9PT0gJ05vQ29kZUdFT0ZpZWxkJ1xufVxuXG5leHBvcnQgY29uc3QgaXNJbWFnZUZpZWxkID0gKHR5cGU6IHN0cmluZykgPT4ge1xuICByZXR1cm4gdHlwZSA9PT0gJ05vQ29kZUltYWdlVXBsb2FkRmllbGQnXG59XG5cbmV4cG9ydCBjb25zdCBpc0F0dGFjaG1lbnRGaWVsZCA9ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIHR5cGUgPT09ICdOb0NvZGVBdHRhY2htZW50VXBsb2FkRmllbGQnXG59XG5cbmV4cG9ydCBjb25zdCBpc0NyZWF0ZURhdGVGaWVsZCA9ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIHR5cGUgPT09ICdOb0NvZGVDcmVhdGVEYXRlRmllbGQnXG59XG5cbmV4cG9ydCBjb25zdCBpc01vZGlmeURhdGVGaWVsZCA9ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIHR5cGUgPT09ICdOb0NvZGVNb2RpZnlEYXRlRmllbGQnXG59XG5cbmV4cG9ydCBjb25zdCBpc0VudHJ5RW50aXR5ID0gKHR5cGU6IHN0cmluZykgPT4ge1xuICByZXR1cm4gdHlwZSA9PT0gJ05vQ29kZUVudHJ5RW50aXR5J1xufVxuXG5leHBvcnQgY29uc3QgaXNSZWZCaWxsVGFibGUgPSAodHlwZTogc3RyaW5nKSA9PiB7XG4gIHJldHVybiB0eXBlID09PSAnTm9Db2RlUmVmQmlsbFRhYmxlJ1xufVxuZXhwb3J0IGNvbnN0IGlzQmlsbEZvcm0gPSAodHlwZTogc3RyaW5nKSA9PiB7XG4gIHJldHVybiB0eXBlID09PSAnTm9Db2RlQmlsbEZvcm1BcCcgfHwgdHlwZSA9PT0gJ05vQ29kZUJpbGxFbnRpdHknXG59XG5cbmV4cG9ydCBjb25zdCBpc0JpekJ1dHRvbiA9ICh0eXBlOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHR5cGUgPT09IE5PQ09ERV9CSVpCVVRUT05fQVAgfHwgdHlwZSA9PT0gTk9DT0RFX0JJWkJVVFRPTl9QQU5FTF9BUFxufVxuXG5leHBvcnQgY29uc3QgaXNTZWxlY3RGaWVsZCA9ICh0eXBlOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHR5cGUgPT09ICdOb0NvZGVTZWxlY3RJdGVtRmllbGQnXG59XG5cbmV4cG9ydCBjb25zdCBpc0FkbWluT3JnRmllbGQgPSAodHlwZTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiB0eXBlID09PSAnTm9Db2RlTXVsUmVmQmlsbEZpZWxkX2Jvc19hZG1pbm9yZydcbn1cblxuZXhwb3J0IGNvbnN0IGlzVXNlckZpZWxkID0gKHR5cGU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gdHlwZSA9PT0gJ05vQ29kZU11bFJlZkJpbGxGaWVsZF9ib3NfdXNlcidcbn1cblxuZXhwb3J0IGNvbnN0IGlzUmljaFRleHRGaWVsZCA9ICh0eXBlOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHR5cGUgPT09ICdOb0NvZGVSaWNoVGV4dEZpZWxkJ1xufVxuXG5leHBvcnQgY29uc3QgaXNUZXh0YXJlYUZpZWxkID0gKHR5cGU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gdHlwZSA9PT0gJ05vQ29kZVRleHRBcmVhRmllbGQnXG59XG5cbi8vIOaYr+WQpuaYr+WbvuaWh+WxleekuuaOp+S7tlxuZXhwb3J0IGNvbnN0IGlzR3JhcGhpY0Rpc3BsYXlGaWVsZCA9ICh0eXBlOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHR5cGUgPT09ICdOb0NvZGVHcmFwaGljRGlzcGxheUZpZWxkJ1xufVxuXG5leHBvcnQgY29uc3QgZ2V0TmFtZUJ5VmFsaWRhdGVUeXBlID0gKHR5cGU6IHN0cmluZykgPT4ge1xuICBjb25zdCBuYW1lTWFwID0gbmV3IE1hcChbXG4gICAgWydwd2QnLCAn5a+G56CBJ10sXG4gICAgWyd1cmwnLCAn572R5Z2AJ10sXG4gICAgWydpZGNhcmQnLCAn6Lqr5Lu96K+B5Y+356CBJ10sXG4gICAgWydlbWFpbCcsICfpgq7nrrEnXSxcbiAgICBbJ3Bob25lJywgJ+aJi+acuiddLFxuICAgIFsnbm9uZScsICfljZXooYzmlofmnKwnXVxuICBdKVxuICByZXR1cm4gbmFtZU1hcC5nZXQodHlwZSlcbn1cblxuLy8g6I635Y+W5YWz6IGU6KGo5Y2V6KGo5qC877yI5pyJ5pWI5LiU6Z2e6ZqQ6JeP55qE77yJXG5leHBvcnQgY29uc3QgZ2V0UmVmQmlsbFRhYmxlID0gKG5vZGU6IGFueSkgPT4ge1xuICBjb25zdCB7IF9UeXBlXywgc2hvd1R5cGUgfSA9IG5vZGVcbiAgcmV0dXJuIGlzUmVmQmlsbFRhYmxlKF9UeXBlXykgJiYgc2hvd1R5cGUgIT09ICcxJ1xufVxuXG4vLyDojrflj5blpJrpgInlhbPogZTooajljZXvvIjmnInmlYjkuJTpnZ7pmpDol4/nmoTvvIlcbmV4cG9ydCBjb25zdCBnZXRNdWx0aVJlZkJpbGxGaWVsZCA9IChub2RlOiBhbnkpID0+IHtcbiAgY29uc3QgeyBfVHlwZV8sIFJlZlRhYmxlSWQsIFNob3dUeXBlLCBCaWxsRW50aXR5SWRFeCwgTXVsdGkgfSA9IG5vZGVcbiAgcmV0dXJuIGlzUmVmQmlsbChfVHlwZV8pICYmXG4gIEJpbGxFbnRpdHlJZEV4ICE9PSB1bmRlZmluZWQgJiZcbiAgIShSZWZUYWJsZUlkICYmIFNob3dUeXBlID09PSAnMicpICYmXG4gIE11bHRpID09IDFcbn1cblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybU9iamVjdEtleUxvd2VyRmlyc3QgPSAob2JqOiBudWxsIHwgT2JqZWN0KSA9PiB7XG4gIGlmICghb2JqKSByZXR1cm4gb2JqXG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZSgobmV3T2JqOiBhbnksIGtleTogc3RyaW5nKSA9PiB7XG4gICAgbmV3T2JqW2xvd2VyRmlyc3Qoa2V5KV0gPSBvYmpba2V5XVxuICAgIHJldHVybiBuZXdPYmpcbiAgfSwge30pXG59XG5cbmV4cG9ydCBjb25zdCBmb3JtYXRTdHJUb0RhdGVUeXBlID0gKGRhdGVTdHJpbmc6IHN0cmluZyk6IERhdGVUeXBlID0+IHtcbiAgcmV0dXJuIGRhdGVTdHJpbmcgJiYgRGF0ZS5wYXJzZShkYXRlU3RyaW5nKSA/IG5ldyBEYXRlKGRhdGVTdHJpbmcpIDogbnVsbFxufVxuXG5leHBvcnQgY29uc3QgZm9ybWF0UmFuZ2VPYmpUb0RhdGVUeXBlcyA9IChvYmo6IERhdGVSYW5nZU9iaik6IFtEYXRlVHlwZSwgRGF0ZVR5cGVdIHwgbnVsbCA9PiB7XG4gIGlmICghb2JqKSByZXR1cm4gbnVsbFxuICBvYmogPSB0cmFuc2Zvcm1PYmplY3RLZXlMb3dlckZpcnN0KG9iailcbiAgY29uc3QgeyBzdGFydCA9ICcnLCBlbmQgPSAnJyB9ID0gb2JqIHx8IFtdXG4gIHJldHVybiBbZm9ybWF0U3RyVG9EYXRlVHlwZShzdGFydCksIGZvcm1hdFN0clRvRGF0ZVR5cGUoZW5kKV1cbn1cblxuLyoqXG4gKiDojrflj5bmjqfku7bmmK/lkKblj6/op4HvvIzpnIDopoHov4fmu6RwY+err+aYvuekuuaIluiAheaYr+enu+WKqOerr+aYvuekuueahOaOp+S7tlxuICogQHBhcmFtIGlzUEMg5piv5ZCmUEPnq69cbiAqIEBwYXJhbSB2aXNpYmlsaXR5IOWPr+ingVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldENvbnRyb2xWaXNpYmxlID0gKGlzUEMsIHZpc2liaWxpdHkpID0+IHtcbiAgcmV0dXJuIChpc1BDICYmIHZpc2liaWxpdHkgIT09ICdtb2InKSB8fCAoIWlzUEMgJiYgdmlzaWJpbGl0eSAhPT0gJ3BjJylcbn1cblxuLyoqXG4gKiDmmK/lkKbpmpDol4/moIfpopjljLrln59cbiAqL1xuZXhwb3J0IGNvbnN0IGlzSGlkZVRpdGxlQXJlYSA9ICh2YWx1ZTogJ3Nob3cnIHwgJ2hpZGUnIHwgdm9pZCkgPT4ge1xuICByZXR1cm4gdmFsdWUgPT09ICdoaWRlJ1xufVxuXG5leHBvcnQgY29uc3QgaXNDb250cm9sUmVxdWlyZWQgPSAoZmllbGQ6IGFueSkgPT4ge1xuICBjb25zdCB7IE11c3RJbnB1dCwgRmllbGRSZXF1aXJlZCwgU3RhdHVzIH0gPSBmaWVsZFxuICAvLyDmma7pgJrnirbmgIHmiY3mnInlv4XlvZXvvIjlj6ror7vjgIHnpoHnlKjjgIHpmpDol4/mgIHml6DvvInvvIzlho3liKTmlq3lv4XlvZVcbiAgcmV0dXJuIFN0YXR1cyA9PT0gVEVYVF9TVEFUVVNfRU5VTS5ERUZBVUxUICYmIChNdXN0SW5wdXQgfHwgRmllbGRSZXF1aXJlZCA9PT0gJzInIHx8IEZpZWxkUmVxdWlyZWQgPT09ICczJylcbn1cblxuZXhwb3J0IGNvbnN0IGdldFNpZ25sZU11bHRpTmFtZSA9IChuYW1lOiBzdHJpbmcsIGlzTXVsdGk6IGJvb2xlYW4pOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gYCR7bmFtZX1bJHtpc011bHRpID8gJ+WkmuadoScgOiAn5Y2V5p2hJ31dYFxufVxuXG5leHBvcnQgY29uc3QgZ2V0Q29udHJvbE5hbWUgPSAobmFtZSwgY29udHJvbERhdGEpID0+IHtcbiAgaWYgKCFjb250cm9sRGF0YSkgcmV0dXJuICcnXG5cbiAgY29uc3QgeyBfVHlwZV86IGNvbnRyb2xUeXBlIH0gPSBjb250cm9sRGF0YVxuXG4gIGlmIChpc1NlbGVjdEZpZWxkKGNvbnRyb2xUeXBlKSkge1xuICAgIHJldHVybiBgJHtuYW1lfVske2lzTXVsdGlTZWxlY3QoY29udHJvbERhdGEuU2VsZWN0SXRlbVR5cGUpID8gJ+WkmumAiScgOiAn5Y2V6YCJJ31dYFxuICB9IGVsc2UgaWYgKGlzUmVmQmlsbChjb250cm9sVHlwZSkpIHtcbiAgICByZXR1cm4gZ2V0U2lnbmxlTXVsdGlOYW1lKG5hbWUsIGlzTXVsdGlTZWxlY3QoY29udHJvbERhdGEuTXVsdGkpKVxuICB9XG5cbiAgcmV0dXJuIG5hbWVcbn1cblxuLy8g54q25oCB77yM6KeE5YiZ77yM5b+F5b2V77yM5pmu6YCa6buY6K6k5YC877yM562J5LiN5ZCM5q2lXG4vLyBGaWVsZFJlcXVpcmVkLCBTdGF0dXMsIE5vQ29kZURlZlZhbHVlLCBQaWN0dXJlRGVmVmFsdWUsIFVwbG9hZERlZlZhbHVlXG5leHBvcnQgY29uc3QgaXNOb3RTeW5jUHJvcHMgPSAodHlwZTpzdHJpbmcpID0+IHtcbiAgcmV0dXJuIFsnU3RhdHVzJywgJ0Rpc3BsYXlSdWxlcycsICdGaWVsZFJlcXVpcmVkJywgJ05vQ29kZURlZlZhbHVlJywgJ1F1ZXJ5Rm9ybVZhbHVlJywgJ0Zvcm11bGFWYWx1ZScsICdVcGxvYWREZWZWYWx1ZScsICdQaWN0dXJlRGVmVmFsdWUnLCAnVmlzaWJpbGl0eSddLmluY2x1ZGVzKHR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBpc0dyb3VwQ29udGFpbmVyID0gKHR5cGU6c3RyaW5nKSA9PiB7XG4gIHJldHVybiB0eXBlID09PSAnTm9Db2RlR3JvdXBDb250YWluZXJBcCdcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3700\n");

/***/ }),

/***/ 8292:
/*!***********************************!*\
  !*** ./src/utils/controlCache.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addCache: function() { return /* binding */ addCache; },\n/* harmony export */   addControlCache: function() { return /* binding */ addControlCache; },\n/* harmony export */   clearCache: function() { return /* binding */ clearCache; },\n/* harmony export */   deleteControlCache: function() { return /* binding */ deleteControlCache; },\n/* harmony export */   getControlCache: function() { return /* binding */ getControlCache; },\n/* harmony export */   hasCache: function() { return /* binding */ hasCache; },\n/* harmony export */   hasControlCache: function() { return /* binding */ hasControlCache; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/map */ 52892);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_0__);\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-10-11 14:35:13\n * @LastEditTime: 2023-11-20 16:11:46\n * @Last Modified by: jianhang_he\n */\nvar controlCache = new (_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_0___default())();\n// 添加缓存\nvar addCache = function addCache(key, data) {\n  if (!(controlCache !== null && controlCache !== void 0 && controlCache.has(key))) {\n    var dataMap = new (_babel_runtime_corejs3_core_js_stable_map__WEBPACK_IMPORTED_MODULE_0___default())();\n    dataMap.set(data, true);\n    controlCache.set(key, dataMap);\n  } else {\n    var _dataMap = controlCache.get(key);\n    _dataMap.set(data, true);\n    controlCache.set(key, _dataMap);\n  }\n};\n\n// 判断是否存在缓存\nvar hasCache = function hasCache(key, data) {\n  if (!(controlCache !== null && controlCache !== void 0 && controlCache.has(key))) {\n    return false;\n  }\n  var dataMap = controlCache.get(key);\n  return dataMap.has(data);\n};\n\n// 清空缓存\nvar clearCache = function clearCache(key) {\n  if (!key) {\n    return;\n  }\n  var dataMap = controlCache.get(key);\n  if (dataMap) {\n    dataMap.clear();\n    controlCache.set(key, dataMap);\n  }\n};\n\n// 添加缓存\nvar addControlCache = function addControlCache(key, data) {\n  controlCache.set(key, data);\n};\n\n// 获取缓存\nvar getControlCache = function getControlCache(key) {\n  return key ? controlCache.get(key) : controlCache;\n};\n\n// 存在缓存\nvar hasControlCache = function hasControlCache(key) {\n  return controlCache.has(key);\n};\n\n// 删除缓存\nvar deleteControlCache = function deleteControlCache(key) {\n  if (hasControlCache(key)) {\n    return controlCache.delete(key);\n  }\n  console.warn('键值对不存在，无法删除');\n  return false;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODI5Mi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy91dGlscy9jb250cm9sQ2FjaGUudHM/MzVkZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQERlc2NyaXB0aW9uOlxuICogQEF1dGhvcjogamlhbmhhbmdfaGVcbiAqIEBEYXRlOiAyMDIyLTEwLTExIDE0OjM1OjEzXG4gKiBATGFzdEVkaXRUaW1lOiAyMDIzLTExLTIwIDE2OjExOjQ2XG4gKiBATGFzdCBNb2RpZmllZCBieTogamlhbmhhbmdfaGVcbiAqL1xuY29uc3QgY29udHJvbENhY2hlID0gbmV3IE1hcCgpXG4vLyDmt7vliqDnvJPlrZhcbmV4cG9ydCBjb25zdCBhZGRDYWNoZSA9IChrZXk6IHN0cmluZywgZGF0YTogYW55KSA9PiB7XG4gIGlmICghY29udHJvbENhY2hlPy5oYXMoa2V5KSkge1xuICAgIGNvbnN0IGRhdGFNYXAgPSBuZXcgTWFwKClcbiAgICBkYXRhTWFwLnNldChkYXRhLCB0cnVlKVxuICAgIGNvbnRyb2xDYWNoZS5zZXQoa2V5LCBkYXRhTWFwKVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGRhdGFNYXAgPSBjb250cm9sQ2FjaGUuZ2V0KGtleSlcbiAgICBkYXRhTWFwLnNldChkYXRhLCB0cnVlKVxuICAgIGNvbnRyb2xDYWNoZS5zZXQoa2V5LCBkYXRhTWFwKVxuICB9XG59XG5cbi8vIOWIpOaWreaYr+WQpuWtmOWcqOe8k+WtmFxuZXhwb3J0IGNvbnN0IGhhc0NhY2hlID0gKGtleTogc3RyaW5nLCBkYXRhOiBhbnkpID0+IHtcbiAgaWYgKCFjb250cm9sQ2FjaGU/LmhhcyhrZXkpKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBjb25zdCBkYXRhTWFwID0gY29udHJvbENhY2hlLmdldChrZXkpXG4gIHJldHVybiBkYXRhTWFwLmhhcyhkYXRhKVxufVxuXG4vLyDmuIXnqbrnvJPlrZhcbmV4cG9ydCBjb25zdCBjbGVhckNhY2hlID0gKGtleTogc3RyaW5nKSA9PiB7XG4gIGlmICgha2V5KSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBkYXRhTWFwID0gY29udHJvbENhY2hlLmdldChrZXkpXG5cbiAgaWYgKGRhdGFNYXApIHtcbiAgICBkYXRhTWFwLmNsZWFyKClcbiAgICBjb250cm9sQ2FjaGUuc2V0KGtleSwgZGF0YU1hcClcbiAgfVxufVxuXG4vLyDmt7vliqDnvJPlrZhcbmV4cG9ydCBjb25zdCBhZGRDb250cm9sQ2FjaGUgPSAoa2V5OiBzdHJpbmcsIGRhdGE6IGFueSk6IHZvaWQgPT4ge1xuICBjb250cm9sQ2FjaGUuc2V0KGtleSwgZGF0YSlcbn1cblxuLy8g6I635Y+W57yT5a2YXG5leHBvcnQgY29uc3QgZ2V0Q29udHJvbENhY2hlID0gKGtleT86IHN0cmluZyk6IGFueSA9PiB7XG4gIHJldHVybiBrZXkgPyBjb250cm9sQ2FjaGUuZ2V0KGtleSkgOiBjb250cm9sQ2FjaGVcbn1cblxuLy8g5a2Y5Zyo57yT5a2YXG5leHBvcnQgY29uc3QgaGFzQ29udHJvbENhY2hlID0gKGtleTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBjb250cm9sQ2FjaGUuaGFzKGtleSlcbn1cblxuLy8g5Yig6Zmk57yT5a2YXG5leHBvcnQgY29uc3QgZGVsZXRlQ29udHJvbENhY2hlID0gKGtleTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIGlmIChoYXNDb250cm9sQ2FjaGUoa2V5KSkge1xuICAgIHJldHVybiBjb250cm9sQ2FjaGUuZGVsZXRlKGtleSlcbiAgfVxuICBjb25zb2xlLndhcm4oJ+mUruWAvOWvueS4jeWtmOWcqO+8jOaXoOazleWIoOmZpCcpXG4gIHJldHVybiBmYWxzZVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8292\n");

/***/ }),

/***/ 84995:
/*!**********************************!*\
  !*** ./src/utils/controlIcon.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   controlIconMap: function() { return /* binding */ controlIconMap; },\n/* harmony export */   \"default\": function() { return /* binding */ getControlIconMap; }\n/* harmony export */ });\n/* harmony import */ var _control__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./control */ 3700);\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2023-09-18 13:43:01\n * @LastEditTime: 2023-11-30 10:22:11\n * @Last Modified by: jianhang_he\n */\n\nvar DEFAULT_ICON = 'zidingyifuwu';\n\n/**\n *\n  单行文本：designericon-wenben\n  多行文本：designericon-duoxingwenben\n  数字：designericon-shuzhi\n  选项：designericon-xuanxiang\n  关联表单：designericon-duoxuanjichuziliao\n  开关：designericon-kaiguan\n  地址：designericon-dizhi\n  日期：designericon-riqi4\n  表格：designericon-biaoge16\n  富文本：designericon-fuwenbenbianjiqi\n  地理位置：designericon-dizhi\n  附件：designericon-fujian2\n  图片：designericon-tupian3\n  图文：designericon-tuwen\n  图表：designericon-bingtu\n  表单列表：designericon-biaodanliebiao\n  计算结果：designericon-jisuanziduan2\n  倒计时：designericon-daojishi\n  地图：designericon-ditu\n  二维码：designericon-erweima\n  条形码：designericon-tiaoxingma\n  任务提醒：designericon-houtairenwutixing\n  进度条：designericon-jindutiao2\n  锚点：designericon-maodian\n  时间轴：designericon-shijianzhou\n  栅格容器：designericon-zhagerongqi\n  轮播容器：designericon-lunborongqi\n  页签：designericon-yeqian2\n  按钮：designericon-anniu3\n  字体图标：designericon-zititubiao\n  工具栏：designericon-gongjulan\n  业务按钮：designericon-anniu3\n**/\nvar controlIconMap = {\n  NoCodeTextField: 'wenben',\n  NoCodeTextAreaField: 'duoxingwenben',\n  NoCodeDateField: 'riqi4',\n  NoCodeDecimalField: 'shuzhi',\n  NoCodeSelectItemField: 'xuanxiang',\n  NoCodeRefBillField: 'duoxuanjichuziliao',\n  NoCodeMulRefBillField: 'duoxuanjichuziliao',\n  NoCodeAddressFormatField: 'dizhi',\n  NoCodeDateRangeField: 'riqi4',\n  NoCodeEntryEntity: 'biaoge16',\n  NoCodeRefBillTable: 'biaoge16',\n  NoCodeRichTextField: 'fuwenbenbianjiqi',\n  NoCodeGEOField: 'dizhi',\n  NoCodeImageUploadField: 'tupian3',\n  NoCodeAttachmentUploadField: 'fujian2',\n  NoCodeGraphicDisplayAp: 'tuwen',\n  NoCodeBillListAp: 'biaodanliebiao',\n  NoCodeCountDownAp: 'daojishi',\n  NoCodeMapAp: 'ditu',\n  NoCodeCreateDateField: 'chuangjianriqi2',\n  NoCodeCreatorField: 'chuangjianren2',\n  NoCodeModifyDateField: 'xiugairiqi2',\n  NoCodeModifierField: 'xiugairen2',\n  NoCodeBillNoField: 'bianma',\n  EntryEntity: 'biaodanliebiao',\n  GridContainerAp: 'zhagerongqi',\n  MessageCarouselContainerAp: 'lunborongqi',\n  TabPageAp: 'yeqian2',\n  ButtonAp: 'anniu3',\n  VectorAp: 'zititubiao',\n  ToolbarAp: 'gongjulan',\n  NoCodeBizButtonAp: 'anniu3',\n  NoCodeGraphicDisplayField: 'tuwen',\n  NoCodeGroupContainerAp: 'fenzurongqi'\n};\nfunction getControlIconMap(type, customDefaultType) {\n  if ((0,_control__WEBPACK_IMPORTED_MODULE_0__.isRefBill)(type)) return 'duoxuanjichuziliao';\n  return controlIconMap[type] || customDefaultType || DEFAULT_ICON; // 新增控件先走默认图标\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQ5OTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy91dGlscy9jb250cm9sSWNvbi50cz8wYzAzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjMtMDktMTggMTM6NDM6MDFcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMTEtMzAgMTA6MjI6MTFcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgeyBpc1JlZkJpbGwgfSBmcm9tICcuL2NvbnRyb2wnXG5jb25zdCBERUZBVUxUX0lDT04gPSAnemlkaW5neWlmdXd1J1xuXG4vKipcbiAqXG4gIOWNleihjOaWh+acrO+8mmRlc2lnbmVyaWNvbi13ZW5iZW5cbiAg5aSa6KGM5paH5pys77yaZGVzaWduZXJpY29uLWR1b3hpbmd3ZW5iZW5cbiAg5pWw5a2X77yaZGVzaWduZXJpY29uLXNodXpoaVxuICDpgInpobnvvJpkZXNpZ25lcmljb24teHVhbnhpYW5nXG4gIOWFs+iBlOihqOWNle+8mmRlc2lnbmVyaWNvbi1kdW94dWFuamljaHV6aWxpYW9cbiAg5byA5YWz77yaZGVzaWduZXJpY29uLWthaWd1YW5cbiAg5Zyw5Z2A77yaZGVzaWduZXJpY29uLWRpemhpXG4gIOaXpeacn++8mmRlc2lnbmVyaWNvbi1yaXFpNFxuICDooajmoLzvvJpkZXNpZ25lcmljb24tYmlhb2dlMTZcbiAg5a+M5paH5pys77yaZGVzaWduZXJpY29uLWZ1d2VuYmVuYmlhbmppcWlcbiAg5Zyw55CG5L2N572u77yaZGVzaWduZXJpY29uLWRpemhpXG4gIOmZhOS7tu+8mmRlc2lnbmVyaWNvbi1mdWppYW4yXG4gIOWbvueJh++8mmRlc2lnbmVyaWNvbi10dXBpYW4zXG4gIOWbvuaWh++8mmRlc2lnbmVyaWNvbi10dXdlblxuICDlm77ooajvvJpkZXNpZ25lcmljb24tYmluZ3R1XG4gIOihqOWNleWIl+ihqO+8mmRlc2lnbmVyaWNvbi1iaWFvZGFubGllYmlhb1xuICDorqHnrpfnu5PmnpzvvJpkZXNpZ25lcmljb24tamlzdWFuemlkdWFuMlxuICDlgJLorqHml7bvvJpkZXNpZ25lcmljb24tZGFvamlzaGlcbiAg5Zyw5Zu+77yaZGVzaWduZXJpY29uLWRpdHVcbiAg5LqM57u056CB77yaZGVzaWduZXJpY29uLWVyd2VpbWFcbiAg5p2h5b2i56CB77yaZGVzaWduZXJpY29uLXRpYW94aW5nbWFcbiAg5Lu75Yqh5o+Q6YaS77yaZGVzaWduZXJpY29uLWhvdXRhaXJlbnd1dGl4aW5nXG4gIOi/m+W6puadoe+8mmRlc2lnbmVyaWNvbi1qaW5kdXRpYW8yXG4gIOmUmueCue+8mmRlc2lnbmVyaWNvbi1tYW9kaWFuXG4gIOaXtumXtOi9tO+8mmRlc2lnbmVyaWNvbi1zaGlqaWFuemhvdVxuICDmoIXmoLzlrrnlmajvvJpkZXNpZ25lcmljb24temhhZ2Vyb25ncWlcbiAg6L2u5pKt5a655Zmo77yaZGVzaWduZXJpY29uLWx1bmJvcm9uZ3FpXG4gIOmhteetvu+8mmRlc2lnbmVyaWNvbi15ZXFpYW4yXG4gIOaMiemSru+8mmRlc2lnbmVyaWNvbi1hbm5pdTNcbiAg5a2X5L2T5Zu+5qCH77yaZGVzaWduZXJpY29uLXppdGl0dWJpYW9cbiAg5bel5YW35qCP77yaZGVzaWduZXJpY29uLWdvbmdqdWxhblxuICDkuJrliqHmjInpkq7vvJpkZXNpZ25lcmljb24tYW5uaXUzXG4qKi9cbmV4cG9ydCBjb25zdCBjb250cm9sSWNvbk1hcCA9IHtcbiAgTm9Db2RlVGV4dEZpZWxkOiAnd2VuYmVuJyxcbiAgTm9Db2RlVGV4dEFyZWFGaWVsZDogJ2R1b3hpbmd3ZW5iZW4nLFxuICBOb0NvZGVEYXRlRmllbGQ6ICdyaXFpNCcsXG4gIE5vQ29kZURlY2ltYWxGaWVsZDogJ3NodXpoaScsXG4gIE5vQ29kZVNlbGVjdEl0ZW1GaWVsZDogJ3h1YW54aWFuZycsXG4gIE5vQ29kZVJlZkJpbGxGaWVsZDogJ2R1b3h1YW5qaWNodXppbGlhbycsXG4gIE5vQ29kZU11bFJlZkJpbGxGaWVsZDogJ2R1b3h1YW5qaWNodXppbGlhbycsXG4gIE5vQ29kZUFkZHJlc3NGb3JtYXRGaWVsZDogJ2RpemhpJyxcbiAgTm9Db2RlRGF0ZVJhbmdlRmllbGQ6ICdyaXFpNCcsXG4gIE5vQ29kZUVudHJ5RW50aXR5OiAnYmlhb2dlMTYnLFxuICBOb0NvZGVSZWZCaWxsVGFibGU6ICdiaWFvZ2UxNicsXG4gIE5vQ29kZVJpY2hUZXh0RmllbGQ6ICdmdXdlbmJlbmJpYW5qaXFpJyxcbiAgTm9Db2RlR0VPRmllbGQ6ICdkaXpoaScsXG4gIE5vQ29kZUltYWdlVXBsb2FkRmllbGQ6ICd0dXBpYW4zJyxcbiAgTm9Db2RlQXR0YWNobWVudFVwbG9hZEZpZWxkOiAnZnVqaWFuMicsXG4gIE5vQ29kZUdyYXBoaWNEaXNwbGF5QXA6ICd0dXdlbicsXG4gIE5vQ29kZUJpbGxMaXN0QXA6ICdiaWFvZGFubGllYmlhbycsXG4gIE5vQ29kZUNvdW50RG93bkFwOiAnZGFvamlzaGknLFxuICBOb0NvZGVNYXBBcDogJ2RpdHUnLFxuICBOb0NvZGVDcmVhdGVEYXRlRmllbGQ6ICdjaHVhbmdqaWFucmlxaTInLFxuICBOb0NvZGVDcmVhdG9yRmllbGQ6ICdjaHVhbmdqaWFucmVuMicsXG4gIE5vQ29kZU1vZGlmeURhdGVGaWVsZDogJ3hpdWdhaXJpcWkyJyxcbiAgTm9Db2RlTW9kaWZpZXJGaWVsZDogJ3hpdWdhaXJlbjInLFxuICBOb0NvZGVCaWxsTm9GaWVsZDogJ2JpYW5tYScsXG4gIEVudHJ5RW50aXR5OiAnYmlhb2RhbmxpZWJpYW8nLFxuICBHcmlkQ29udGFpbmVyQXA6ICd6aGFnZXJvbmdxaScsXG4gIE1lc3NhZ2VDYXJvdXNlbENvbnRhaW5lckFwOiAnbHVuYm9yb25ncWknLFxuICBUYWJQYWdlQXA6ICd5ZXFpYW4yJyxcbiAgQnV0dG9uQXA6ICdhbm5pdTMnLFxuICBWZWN0b3JBcDogJ3ppdGl0dWJpYW8nLFxuICBUb29sYmFyQXA6ICdnb25nanVsYW4nLFxuICBOb0NvZGVCaXpCdXR0b25BcDogJ2Fubml1MycsXG4gIE5vQ29kZUdyYXBoaWNEaXNwbGF5RmllbGQ6ICd0dXdlbicsXG4gIE5vQ29kZUdyb3VwQ29udGFpbmVyQXA6ICdmZW56dXJvbmdxaSdcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Q29udHJvbEljb25NYXAgKHR5cGU6IHN0cmluZywgY3VzdG9tRGVmYXVsdFR5cGU/OiBzdHJpbmcpIHtcbiAgaWYgKGlzUmVmQmlsbCh0eXBlKSkgcmV0dXJuICdkdW94dWFuamljaHV6aWxpYW8nXG4gIHJldHVybiBjb250cm9sSWNvbk1hcFt0eXBlXSB8fCBjdXN0b21EZWZhdWx0VHlwZSB8fCBERUZBVUxUX0lDT04vLyDmlrDlop7mjqfku7blhYjotbDpu5jorqTlm77moIdcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///84995\n");

/***/ }),

/***/ 51823:
/*!***********************************************!*\
  !*** ./src/utils/controlSelectionCallBack.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants/dataAttribute */ 64536);\n\n\nvar selectionChangeCallBack = function selectionChangeCallBack(selection) {\n  var value = selection.value,\n    oldValue = selection.oldValue;\n  oldValue.forEach(function (id) {\n    var _context;\n    var controls = document.querySelectorAll(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context = \"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_1__.dataControlId, \"=\\\"\")).call(_context, id, \"\\\"]\"));\n    controls.forEach(function (control) {\n      return control === null || control === void 0 ? void 0 : control.removeAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_1__.dataSelection);\n    });\n  });\n  value.forEach(function (id) {\n    var _context2;\n    var controls = document.querySelectorAll(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context2 = \"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_1__.dataControlId, \"=\\\"\")).call(_context2, id, \"\\\"]\"));\n    controls.forEach(function (control) {\n      control === null || control === void 0 || control.setAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_1__.dataSelection, 'true');\n      if (control.scrollIntoViewIfNeeded) {\n        control.scrollIntoViewIfNeeded();\n      } else {\n        control.scrollIntoView({\n          block: 'nearest'\n        });\n      }\n    });\n  });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (selectionChangeCallBack);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTE4MjMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvdXRpbHMvY29udHJvbFNlbGVjdGlvbkNhbGxCYWNrLnRzPzlhNGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSVNlbGVjdGlvbiB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IGRhdGFDb250cm9sSWQsIGRhdGFTZWxlY3Rpb24gfSBmcm9tICcuLi9jb25zdGFudHMvZGF0YUF0dHJpYnV0ZSdcblxuY29uc3Qgc2VsZWN0aW9uQ2hhbmdlQ2FsbEJhY2sgPSAoc2VsZWN0aW9uOiBJU2VsZWN0aW9uKSA9PiB7XG4gIGNvbnN0IHsgdmFsdWUsIG9sZFZhbHVlIH0gPSBzZWxlY3Rpb25cbiAgb2xkVmFsdWUuZm9yRWFjaCgoaWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGNvbnRyb2xzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgWyR7ZGF0YUNvbnRyb2xJZH09XCIke2lkfVwiXWApXG4gICAgY29udHJvbHMuZm9yRWFjaCgoY29udHJvbDogZ2xvYmFsVGhpcy5IVE1MRGl2RWxlbWVudCkgPT4gY29udHJvbD8ucmVtb3ZlQXR0cmlidXRlKGRhdGFTZWxlY3Rpb24pKVxuICB9KVxuICB2YWx1ZS5mb3JFYWNoKChpZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY29udHJvbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbJHtkYXRhQ29udHJvbElkfT1cIiR7aWR9XCJdYClcbiAgICBjb250cm9scy5mb3JFYWNoKChjb250cm9sOiBnbG9iYWxUaGlzLkhUTUxEaXZFbGVtZW50KSA9PiB7XG4gICAgICBjb250cm9sPy5zZXRBdHRyaWJ1dGUoZGF0YVNlbGVjdGlvbiwgJ3RydWUnKVxuICAgICAgaWYgKGNvbnRyb2wuc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCkge1xuICAgICAgICBjb250cm9sLnNjcm9sbEludG9WaWV3SWZOZWVkZWQoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udHJvbC5zY3JvbGxJbnRvVmlldyh7IGJsb2NrOiAnbmVhcmVzdCcgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCBzZWxlY3Rpb25DaGFuZ2VDYWxsQmFja1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///51823\n");

/***/ }),

/***/ 65220:
/*!*****************************************!*\
  !*** ./src/utils/createDataCacheApi.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ createApi; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction createApi() {\n  var listeners = [];\n  var value = [];\n  var version = 1; // 外层实时数据的版本，有变更则+1\n  var dataVer = 0; // 内部数据的版本\n  var self = {\n    // 设置错误信息\n    setData: function setData(data) {\n      if (!data) return;\n      var oldValue = value;\n      value = data;\n      self.fireEvent({\n        value: value,\n        oldValue: oldValue\n      });\n    },\n    getData: function getData() {\n      return value;\n    },\n    getDataVersion: function getDataVersion() {\n      return dataVer;\n    },\n    setDataVersion: function setDataVersion(v) {\n      dataVer = v;\n    },\n    increaseVersion: function increaseVersion() {\n      version++;\n    },\n    getVersion: function getVersion() {\n      return version;\n    },\n    isVersionEqual: function isVersionEqual() {\n      return version === dataVer;\n    },\n    addDataChangeListener: function addDataChangeListener(callback) {\n      listeners.push(callback);\n      return function removeDataChangeListener() {\n        listeners = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_0___default()(listeners).call(listeners, function (cb) {\n          return cb !== callback;\n        });\n      };\n    },\n    fireEvent: function fireEvent(event) {\n      listeners.forEach(function (listener) {\n        try {\n          listener(event);\n        } catch (error) {\n          console.error(error);\n        }\n      });\n    }\n  };\n  return self;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjUyMjAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy91dGlscy9jcmVhdGVEYXRhQ2FjaGVBcGkudHM/NDYyNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVBcGkgKCkge1xyXG4gIGxldCBsaXN0ZW5lcnM6IEFycmF5PChldmVudCkgPT4gdm9pZD4gPSBbXVxyXG4gIGxldCB2YWx1ZTogYW55ID0gW11cclxuICBsZXQgdmVyc2lvbjogbnVtYmVyID0gMSAvLyDlpJblsYLlrp7ml7bmlbDmja7nmoTniYjmnKzvvIzmnInlj5jmm7TliJkrMVxyXG4gIGxldCBkYXRhVmVyOiBudW1iZXIgPSAwIC8vIOWGhemDqOaVsOaNrueahOeJiOacrFxyXG4gIGNvbnN0IHNlbGYgPSB7XHJcbiAgICAvLyDorr7nva7plJnor6/kv6Hmga9cclxuICAgIHNldERhdGEgKGRhdGE6IGFueSkge1xyXG4gICAgICBpZiAoIWRhdGEpIHJldHVyblxyXG4gICAgICBjb25zdCBvbGRWYWx1ZSA9IHZhbHVlXHJcbiAgICAgIHZhbHVlID0gZGF0YVxyXG4gICAgICBzZWxmLmZpcmVFdmVudCh7IHZhbHVlOiB2YWx1ZSwgb2xkVmFsdWU6IG9sZFZhbHVlIH0pXHJcbiAgICB9LFxyXG4gICAgZ2V0RGF0YTogKCkgPT4ge1xyXG4gICAgICByZXR1cm4gdmFsdWVcclxuICAgIH0sXHJcbiAgICBnZXREYXRhVmVyc2lvbjogKCkgPT4ge1xyXG4gICAgICByZXR1cm4gZGF0YVZlclxyXG4gICAgfSxcclxuICAgIHNldERhdGFWZXJzaW9uOiAodjogbnVtYmVyKSA9PiB7XHJcbiAgICAgIGRhdGFWZXIgPSB2XHJcbiAgICB9LFxyXG4gICAgaW5jcmVhc2VWZXJzaW9uOiAoKSA9PiB7XHJcbiAgICAgIHZlcnNpb24rK1xyXG4gICAgfSxcclxuICAgIGdldFZlcnNpb246ICgpID0+IHtcclxuICAgICAgcmV0dXJuIHZlcnNpb25cclxuICAgIH0sXHJcbiAgICBpc1ZlcnNpb25FcXVhbDogKCkgPT4ge1xyXG4gICAgICByZXR1cm4gdmVyc2lvbiA9PT0gZGF0YVZlclxyXG4gICAgfSxcclxuICAgIGFkZERhdGFDaGFuZ2VMaXN0ZW5lcjogKGNhbGxiYWNrOiAoZXZlbnQpID0+IHZvaWQpID0+IHtcclxuICAgICAgbGlzdGVuZXJzLnB1c2goY2FsbGJhY2spXHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiByZW1vdmVEYXRhQ2hhbmdlTGlzdGVuZXIgKCkge1xyXG4gICAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5maWx0ZXIoY2IgPT4gY2IgIT09IGNhbGxiYWNrKVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgZmlyZUV2ZW50OiAoZXZlbnQpID0+IHtcclxuICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyOiBhbnkpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgbGlzdGVuZXIoZXZlbnQpXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gc2VsZlxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///65220\n");

/***/ }),

/***/ 63412:
/*!*************************************!*\
  !*** ./src/utils/dragTreeNodeCb.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleAddDomCls: function() { return /* binding */ handleAddDomCls; },\n/* harmony export */   handleInitTab: function() { return /* binding */ handleInitTab; },\n/* harmony export */   handleRemoveDomCls: function() { return /* binding */ handleRemoveDomCls; },\n/* harmony export */   handleShiftTab: function() { return /* binding */ handleShiftTab; },\n/* harmony export */   removeTreeNodeCls: function() { return /* binding */ removeTreeNodeCls; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nvar DragLineByControl = 'kdesigner-tree-node-drag-line-by-control';\nvar currentLeftTab = 'control';\nvar initLeftTab = '';\n\n// 切换页签\nvar handleShiftTab = function handleShiftTab(controlId, views) {\n  currentLeftTab = views === null || views === void 0 ? void 0 : views.getViewActiveKey('left');\n  if (currentLeftTab !== 'outline' && views) {\n    views.setViewActiveKey('left')('outline');\n  }\n  initLeftTab = initLeftTab || currentLeftTab;\n};\n\n// 将页签重置回初始状态\nvar handleInitTab = function handleInitTab(controlId, views) {\n  currentLeftTab = views === null || views === void 0 ? void 0 : views.getViewActiveKey('left');\n  if (currentLeftTab !== initLeftTab && views) {\n    views.setViewActiveKey('left')(initLeftTab);\n    initLeftTab = '';\n  }\n};\nvar inValidCharactor = ['\\\\'];\nvar handleAddDomCls = function handleAddDomCls(controlId) {\n  var _context;\n  if (inValidCharactor.some(function (_char) {\n    return controlId.indexOf(_char) >= 0;\n  })) return;\n  var tempControlId = controlId.replace('/', '\\\\/').replace('=', '\\\\=');\n  var targetControl = document.querySelector(\".kdesigner-tree-node-item-id\".concat(tempControlId, \" .kdesigner-tree-node-root\"));\n  if (!targetControl) return;\n  var clsName = targetControl === null || targetControl === void 0 ? void 0 : targetControl.className;\n  if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(clsName).call(clsName, DragLineByControl)) return;\n  targetControl.className = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default()(_context = \"\".concat(clsName, \" \")).call(_context, DragLineByControl);\n};\nvar removeTreeNodeCls = function removeTreeNodeCls() {\n  var draglineControl = document.querySelectorAll(\".\".concat(DragLineByControl));\n  if (draglineControl.length === 0 || !draglineControl) return;\n  draglineControl.forEach(function (treeNode) {\n    treeNode.className = treeNode.className.replace(\" \".concat(DragLineByControl), '');\n  });\n};\nvar handleRemoveDomCls = function handleRemoveDomCls(controlId) {\n  if (inValidCharactor.some(function (_char2) {\n    return controlId.indexOf(_char2) >= 0;\n  })) return;\n  var tempControlId = controlId.replace('/', '\\\\/').replace('=', '\\\\=');\n  var targetControl = document.querySelector(\".kdesigner-tree-node-item-id\".concat(tempControlId, \" .kdesigner-tree-node-root\"));\n  if (!targetControl) return;\n  var clsName = targetControl === null || targetControl === void 0 ? void 0 : targetControl.className;\n  var draglineControl = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(document.querySelectorAll(\".\".concat(DragLineByControl)));\n  if (!_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_1___default()(clsName).call(clsName, DragLineByControl) && (draglineControl.length === 0 || !draglineControl)) return;\n  draglineControl.forEach(function (treeNode) {\n    treeNode.className = treeNode.className.replace(\" \".concat(DragLineByControl), '');\n  });\n  // targetControl.className = clsName.replace(DragLineByControl, '')\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjM0MTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL3V0aWxzL2RyYWdUcmVlTm9kZUNiLnRzPzM4NzUiXSwic291cmNlc0NvbnRlbnQiOlsiXG5jb25zdCBEcmFnTGluZUJ5Q29udHJvbCA9ICdrZGVzaWduZXItdHJlZS1ub2RlLWRyYWctbGluZS1ieS1jb250cm9sJ1xuXG5sZXQgY3VycmVudExlZnRUYWI6IHN0cmluZyA9ICdjb250cm9sJ1xubGV0IGluaXRMZWZ0VGFiOiBzdHJpbmcgPSAnJ1xuXG4vLyDliIfmjaLpobXnrb5cbmV4cG9ydCBjb25zdCBoYW5kbGVTaGlmdFRhYiA9IChjb250cm9sSWQ6IHN0cmluZywgdmlld3M6IGFueSkgPT4ge1xuICBjdXJyZW50TGVmdFRhYiA9IHZpZXdzPy5nZXRWaWV3QWN0aXZlS2V5KCdsZWZ0JylcbiAgaWYgKGN1cnJlbnRMZWZ0VGFiICE9PSAnb3V0bGluZScgJiYgdmlld3MpIHtcbiAgICB2aWV3cy5zZXRWaWV3QWN0aXZlS2V5KCdsZWZ0JykoJ291dGxpbmUnKVxuICB9XG4gIGluaXRMZWZ0VGFiID0gaW5pdExlZnRUYWIgfHwgY3VycmVudExlZnRUYWJcbn1cblxuLy8g5bCG6aG1562+6YeN572u5Zue5Yid5aeL54q25oCBXG5leHBvcnQgY29uc3QgaGFuZGxlSW5pdFRhYiA9IChjb250cm9sSWQ6IHN0cmluZywgdmlld3M6IGFueSkgPT4ge1xuICBjdXJyZW50TGVmdFRhYiA9IHZpZXdzPy5nZXRWaWV3QWN0aXZlS2V5KCdsZWZ0JylcbiAgaWYgKGN1cnJlbnRMZWZ0VGFiICE9PSBpbml0TGVmdFRhYiAmJiB2aWV3cykge1xuICAgIHZpZXdzLnNldFZpZXdBY3RpdmVLZXkoJ2xlZnQnKShpbml0TGVmdFRhYilcbiAgICBpbml0TGVmdFRhYiA9ICcnXG4gIH1cbn1cblxuY29uc3QgaW5WYWxpZENoYXJhY3RvciA9IFsnXFxcXCddXG5cbmV4cG9ydCBjb25zdCBoYW5kbGVBZGREb21DbHMgPSAoY29udHJvbElkOiBzdHJpbmcpID0+IHtcbiAgaWYgKGluVmFsaWRDaGFyYWN0b3Iuc29tZSgoY2hhcjogc3RyaW5nKSA9PiBjb250cm9sSWQuaW5kZXhPZihjaGFyKSA+PSAwKSkgcmV0dXJuXG4gIGNvbnN0IHRlbXBDb250cm9sSWQ6IHN0cmluZyA9IGNvbnRyb2xJZC5yZXBsYWNlKCcvJywgJ1xcXFwvJykucmVwbGFjZSgnPScsICdcXFxcPScpXG4gIGNvbnN0IHRhcmdldENvbnRyb2wgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAua2Rlc2lnbmVyLXRyZWUtbm9kZS1pdGVtLWlkJHt0ZW1wQ29udHJvbElkfSAua2Rlc2lnbmVyLXRyZWUtbm9kZS1yb290YClcbiAgaWYgKCF0YXJnZXRDb250cm9sKSByZXR1cm5cbiAgY29uc3QgY2xzTmFtZSA9IHRhcmdldENvbnRyb2w/LmNsYXNzTmFtZVxuICBpZiAoY2xzTmFtZS5pbmNsdWRlcyhEcmFnTGluZUJ5Q29udHJvbCkpIHJldHVyblxuICB0YXJnZXRDb250cm9sLmNsYXNzTmFtZSA9IGAke2Nsc05hbWV9ICR7RHJhZ0xpbmVCeUNvbnRyb2x9YFxufVxuXG5leHBvcnQgY29uc3QgcmVtb3ZlVHJlZU5vZGVDbHMgPSAoKSA9PiB7XG4gIGNvbnN0IGRyYWdsaW5lQ29udHJvbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke0RyYWdMaW5lQnlDb250cm9sfWApXG4gIGlmIChkcmFnbGluZUNvbnRyb2wubGVuZ3RoID09PSAwIHx8ICFkcmFnbGluZUNvbnRyb2wpIHJldHVyblxuICBkcmFnbGluZUNvbnRyb2wuZm9yRWFjaCgodHJlZU5vZGU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgdHJlZU5vZGUuY2xhc3NOYW1lID0gdHJlZU5vZGUuY2xhc3NOYW1lLnJlcGxhY2UoYCAke0RyYWdMaW5lQnlDb250cm9sfWAsICcnKVxuICB9KVxufVxuXG5leHBvcnQgY29uc3QgaGFuZGxlUmVtb3ZlRG9tQ2xzID0gKGNvbnRyb2xJZDogc3RyaW5nKSA9PiB7XG4gIGlmIChpblZhbGlkQ2hhcmFjdG9yLnNvbWUoKGNoYXI6IHN0cmluZykgPT4gY29udHJvbElkLmluZGV4T2YoY2hhcikgPj0gMCkpIHJldHVyblxuICBjb25zdCB0ZW1wQ29udHJvbElkOiBzdHJpbmcgPSBjb250cm9sSWQucmVwbGFjZSgnLycsICdcXFxcLycpLnJlcGxhY2UoJz0nLCAnXFxcXD0nKVxuICBjb25zdCB0YXJnZXRDb250cm9sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmtkZXNpZ25lci10cmVlLW5vZGUtaXRlbS1pZCR7dGVtcENvbnRyb2xJZH0gLmtkZXNpZ25lci10cmVlLW5vZGUtcm9vdGApXG4gIGlmICghdGFyZ2V0Q29udHJvbCkgcmV0dXJuXG4gIGNvbnN0IGNsc05hbWUgPSB0YXJnZXRDb250cm9sPy5jbGFzc05hbWVcbiAgY29uc3QgZHJhZ2xpbmVDb250cm9sID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke0RyYWdMaW5lQnlDb250cm9sfWApXVxuICBpZiAoIWNsc05hbWUuaW5jbHVkZXMoRHJhZ0xpbmVCeUNvbnRyb2wpICYmIChkcmFnbGluZUNvbnRyb2wubGVuZ3RoID09PSAwIHx8ICFkcmFnbGluZUNvbnRyb2wpKSByZXR1cm5cbiAgZHJhZ2xpbmVDb250cm9sLmZvckVhY2goKHRyZWVOb2RlOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIHRyZWVOb2RlLmNsYXNzTmFtZSA9IHRyZWVOb2RlLmNsYXNzTmFtZS5yZXBsYWNlKGAgJHtEcmFnTGluZUJ5Q29udHJvbH1gLCAnJylcbiAgfSlcbiAgLy8gdGFyZ2V0Q29udHJvbC5jbGFzc05hbWUgPSBjbHNOYW1lLnJlcGxhY2UoRHJhZ0xpbmVCeUNvbnRyb2wsICcnKVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///63412\n");

/***/ }),

/***/ 41232:
/*!****************************!*\
  !*** ./src/utils/index.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KD_DATA_CENTER: function() { return /* binding */ KD_DATA_CENTER; },\n/* harmony export */   addResizeObserve: function() { return /* binding */ addResizeObserve; },\n/* harmony export */   analyzeJSON: function() { return /* binding */ analyzeJSON; },\n/* harmony export */   convertToArray: function() { return /* binding */ convertToArray; },\n/* harmony export */   copyControlRecurve: function() { return /* binding */ copyControlRecurve; },\n/* harmony export */   dateFormate: function() { return /* binding */ dateFormate; },\n/* harmony export */   deepGetRefBillCaption: function() { return /* binding */ deepGetRefBillCaption; },\n/* harmony export */   excludeCopyControlProps: function() { return /* binding */ excludeCopyControlProps; },\n/* harmony export */   fixGroupChildrenParentId: function() { return /* binding */ fixGroupChildrenParentId; },\n/* harmony export */   generateLongId: function() { return /* binding */ generateLongId; },\n/* harmony export */   getBackImageUrl: function() { return /* binding */ getBackImageUrl; },\n/* harmony export */   getDataPropertyByKey: function() { return /* binding */ getDataPropertyByKey; },\n/* harmony export */   getDateRangeDefValue: function() { return /* binding */ getDateRangeDefValue; },\n/* harmony export */   getDefValue: function() { return /* binding */ getDefValue; },\n/* harmony export */   getEventDom: function() { return /* binding */ getEventDom; },\n/* harmony export */   getFieldCompareType: function() { return /* binding */ getFieldCompareType; },\n/* harmony export */   getFieldDataList: function() { return /* binding */ getFieldDataList; },\n/* harmony export */   getFieldNamePrefix: function() { return /* binding */ getFieldNamePrefix; },\n/* harmony export */   getFieldProps: function() { return /* binding */ getFieldProps; },\n/* harmony export */   getFieldTreeByMeta: function() { return /* binding */ getFieldTreeByMeta; },\n/* harmony export */   getFullImageUrl: function() { return /* binding */ getFullImageUrl; },\n/* harmony export */   getFullUrl: function() { return /* binding */ getFullUrl; },\n/* harmony export */   getInitialSysSetting: function() { return /* binding */ getInitialSysSetting; },\n/* harmony export */   getInitialbillnoSetting: function() { return /* binding */ getInitialbillnoSetting; },\n/* harmony export */   getMetaGroupPropertiesByKeys: function() { return /* binding */ getMetaGroupPropertiesByKeys; },\n/* harmony export */   getRandomNum: function() { return /* binding */ getRandomNum; },\n/* harmony export */   getSelectFieldControlType: function() { return /* binding */ getSelectFieldControlType; },\n/* harmony export */   getSelectedValue: function() { return /* binding */ getSelectedValue; },\n/* harmony export */   getTransformBgcSwitch: function() { return /* binding */ getTransformBgcSwitch; },\n/* harmony export */   getTransformDefValue: function() { return /* binding */ getTransformDefValue; },\n/* harmony export */   getTransformOptions: function() { return /* binding */ getTransformOptions; },\n/* harmony export */   getUrlWithDataCenter: function() { return /* binding */ getUrlWithDataCenter; },\n/* harmony export */   hasSetFieldStatus: function() { return /* binding */ hasSetFieldStatus; },\n/* harmony export */   isDisabled: function() { return /* binding */ isDisabled; },\n/* harmony export */   isGroupContainer: function() { return /* binding */ isGroupContainer; },\n/* harmony export */   isHidden: function() { return /* binding */ isHidden; },\n/* harmony export */   isJson: function() { return /* binding */ isJson; },\n/* harmony export */   isMultiSelect: function() { return /* binding */ isMultiSelect; },\n/* harmony export */   isOldGroupContainerControl: function() { return /* binding */ isOldGroupContainerControl; },\n/* harmony export */   isOldSubGroupContainerControl: function() { return /* binding */ isOldSubGroupContainerControl; },\n/* harmony export */   isReadonly: function() { return /* binding */ isReadonly; },\n/* harmony export */   isString: function() { return /* binding */ isString; },\n/* harmony export */   isVertical: function() { return /* binding */ isVertical; },\n/* harmony export */   listFilterParser: function() { return /* binding */ listFilterParser; },\n/* harmony export */   moveGroupContainerControl: function() { return /* binding */ moveGroupContainerControl; },\n/* harmony export */   scrollControlIntoView: function() { return /* binding */ scrollControlIntoView; },\n/* harmony export */   setNewDataControlId: function() { return /* binding */ setNewDataControlId; },\n/* harmony export */   thousandsSeparatorFormat: function() { return /* binding */ thousandsSeparatorFormat; },\n/* harmony export */   tranformChildren: function() { return /* binding */ tranformChildren; },\n/* harmony export */   tranformFieldDefValue: function() { return /* binding */ tranformFieldDefValue; },\n/* harmony export */   transformFieldType: function() { return /* binding */ transformFieldType; },\n/* harmony export */   transformRefBillMeta: function() { return /* binding */ transformRefBillMeta; },\n/* harmony export */   transformValueToArray: function() { return /* binding */ transformValueToArray; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/from */ 13440);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/symbol */ 59992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js/get-iterator-method */ 60600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/objectWithoutProperties */ 28220);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_reflect_delete_property__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/reflect/delete-property */ 27348);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_reflect_delete_property__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_reflect_delete_property__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_reflect_set__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/reflect/set */ 62272);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_reflect_set__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_reflect_set__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ 38456);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/starts-with */ 11908);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 73980);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../type */ 18492);\n/* harmony import */ var _control__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./control */ 3700);\n/* harmony import */ var kd_libs_immer__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! kd_libs/immer */ 59480);\n/* harmony import */ var kd_libs_immer__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(kd_libs_immer__WEBPACK_IMPORTED_MODULE_26__);\n/* harmony import */ var resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! resize-observer-polyfill */ 82504);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../constants */ 98092);\n/* harmony import */ var _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../constants/dataAttribute */ 64536);\n\n\n\n\n\n\n\n\n\n\n\nvar _excluded = [\"children\"],\n  _excluded2 = [\"children\", \"valueItems\", \"billEntityId\", \"displayProp\", \"isMulti\", \"compareTypes\", \"refSelf\"];\nvar _window$location$sear;\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_11___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_3___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_3___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_12___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_4___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_5___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_4___default()(t, r)); }); } return e; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof (_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_1___default()) !== \"undefined\" && _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_2___default()(o) || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { var _context18; if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_13___default()(_context18 = Object.prototype.toString.call(o)).call(_context18, 8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_0___default()(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\n\n\n\n\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-06-17 17:24:07\n * @LastEditTime: 2024-11-07 15:04:37\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\n\n\nvar excludeCopyProps = ['FieldName', 'TableName', 'Key'];\nvar getEventDom = function getEventDom(dom) {\n  while (!dom.dataset.controlId && dom.id !== 'ui-designer-root') {\n    dom = dom.parentNode;\n  }\n  return dom;\n};\nvar convertToArray = function convertToArray(param) {\n  if (!param) return [];\n  if (Array.isArray(param)) return param;\n  return [param];\n};\n\n/**\n * @author jianhang_he\n * @description 排除复制控件某些属性（例如fieldName，后端会根据这个校验唯一值）\n * @param controlData 控件信息\n * @param excludeProps 需要排除的属性\n * @returns 排除对应属性后的控件信息\n */\nvar excludeCopyControlProps = function excludeCopyControlProps(controlData) {\n  var excludeProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : excludeCopyProps;\n  // 排除复制某些属性（例如fieldName，后端会根据这个校验唯一值）\n  excludeProps === null || excludeProps === void 0 || excludeProps.forEach(function (key) {\n    if (controlData[key]) {\n      delete controlData[key];\n    }\n    // 实体数据的也要删除\n    if (controlData.EntityData && controlData.EntityData[key]) {\n      _babel_runtime_corejs3_core_js_stable_reflect_delete_property__WEBPACK_IMPORTED_MODULE_14___default()(controlData.EntityData, key);\n    }\n  });\n  return controlData;\n};\nvar copyControl = function copyControl(controlData, parentId) {\n  var newControl = (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__.cloneDeep)(controlData);\n  var _Type_ = newControl._Type_,\n    EntityData = newControl.EntityData;\n  newControl[_constants_propnames__WEBPACK_IMPORTED_MODULE_23__.PARENTID] = parentId;\n  var id = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_22__.createUUid)();\n  newControl[_constants_propnames__WEBPACK_IMPORTED_MODULE_23__.ID] = id;\n  // 对应的实体id也要改变\n  if (EntityData) {\n    newControl.EntityData[_constants_propnames__WEBPACK_IMPORTED_MODULE_23__.ID] = id;\n    newControl.EntityData[_constants_propnames__WEBPACK_IMPORTED_MODULE_23__.PARENTID] = parentId;\n    newControl[_constants_propnames__WEBPACK_IMPORTED_MODULE_23__.FIELD_ID] && (newControl[_constants_propnames__WEBPACK_IMPORTED_MODULE_23__.FIELD_ID] = id);\n    newControl[_constants_propnames__WEBPACK_IMPORTED_MODULE_23__.ENTRY_ID] && (newControl[_constants_propnames__WEBPACK_IMPORTED_MODULE_23__.ENTRY_ID] = id);\n  }\n  if ((0,_control__WEBPACK_IMPORTED_MODULE_25__.isDateRange)(_Type_)) {\n    // 日期范围，复制的时候需要清除这些属性(实体+ ui)\n    _babel_runtime_corejs3_core_js_stable_reflect_delete_property__WEBPACK_IMPORTED_MODULE_14___default()(newControl, 'EndDateFieldKey');\n    _babel_runtime_corejs3_core_js_stable_reflect_delete_property__WEBPACK_IMPORTED_MODULE_14___default()(newControl, 'EndDateFieldName');\n    _babel_runtime_corejs3_core_js_stable_reflect_delete_property__WEBPACK_IMPORTED_MODULE_14___default()(newControl, 'StartDateFieldKey');\n    _babel_runtime_corejs3_core_js_stable_reflect_delete_property__WEBPACK_IMPORTED_MODULE_14___default()(newControl, 'StartDateFieldName');\n    var newEntity = kd_libs_immer__WEBPACK_IMPORTED_MODULE_26___default()(EntityData, function (draft) {\n      _babel_runtime_corejs3_core_js_stable_reflect_delete_property__WEBPACK_IMPORTED_MODULE_14___default()(draft, 'EndDateFieldKey');\n      _babel_runtime_corejs3_core_js_stable_reflect_delete_property__WEBPACK_IMPORTED_MODULE_14___default()(draft, 'EndDateFieldName');\n      _babel_runtime_corejs3_core_js_stable_reflect_delete_property__WEBPACK_IMPORTED_MODULE_14___default()(draft, 'StartDateFieldKey');\n      _babel_runtime_corejs3_core_js_stable_reflect_delete_property__WEBPACK_IMPORTED_MODULE_14___default()(draft, 'StartDateFieldName');\n    });\n    _babel_runtime_corejs3_core_js_stable_reflect_set__WEBPACK_IMPORTED_MODULE_15___default()(newControl, 'EntityData', newEntity);\n  }\n  if ((0,_control__WEBPACK_IMPORTED_MODULE_25__.isEntryEntity)(_Type_)) {\n    // 单据体复制的时候，删除TableName属性\n    _babel_runtime_corejs3_core_js_stable_reflect_delete_property__WEBPACK_IMPORTED_MODULE_14___default()(newControl, 'TableName');\n    var _newEntity = kd_libs_immer__WEBPACK_IMPORTED_MODULE_26___default()(EntityData, function (draft) {\n      _babel_runtime_corejs3_core_js_stable_reflect_delete_property__WEBPACK_IMPORTED_MODULE_14___default()(draft, 'TableName');\n    });\n    _babel_runtime_corejs3_core_js_stable_reflect_set__WEBPACK_IMPORTED_MODULE_15___default()(newControl, 'EntityData', _newEntity);\n  }\n  if (isGroupContainer(_Type_)) {\n    if (Number(newControl.GroupIndex) > 0) {\n      newControl.GroupIndex = Number(newControl.GroupIndex) + 1;\n    } else {\n      newControl.GroupParentId = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_22__.createUUid)();\n      newControl.GroupIndex = 0;\n    }\n  }\n  if (newControl.Inherit) {\n    newControl.Inherit = false;\n  }\n\n  // 排除复制某些属性（例如fieldName，后端会根据这个校验唯一值）\n  return excludeCopyControlProps(newControl);\n};\n\n// 递归拷贝控件及其所有子控件\nvar copyControlRecurve = function copyControlRecurve(uiData, controlData, parentId) {\n  var _context, _context2;\n  var itemId = controlData.Id;\n  var newControl = copyControl(controlData, parentId);\n  var childrens = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_12___default()(_context = uiData[_constants_propnames__WEBPACK_IMPORTED_MODULE_23__.ITEMS]).call(_context, function (item) {\n    return item[_constants_propnames__WEBPACK_IMPORTED_MODULE_23__.PARENTID] === itemId;\n  });\n  return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(_context2 = [newControl]).call(_context2, (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__.flattenDeep)(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_17___default()(childrens).call(childrens, function (item) {\n    return copyControlRecurve(uiData, item, newControl[_constants_propnames__WEBPACK_IMPORTED_MODULE_23__.ID]);\n  })));\n};\n\n// 只读\nvar isReadonly = function isReadonly(status) {\n  return status === _type__WEBPACK_IMPORTED_MODULE_24__.TEXT_STATUS_ENUM.READONLY;\n};\n\n// 隐藏\nvar isHidden = function isHidden(status) {\n  return status === _type__WEBPACK_IMPORTED_MODULE_24__.TEXT_STATUS_ENUM.HIDDEN;\n};\n\n// 禁用\nvar isDisabled = function isDisabled(status) {\n  return status === _type__WEBPACK_IMPORTED_MODULE_24__.TEXT_STATUS_ENUM.DISABLED;\n};\nvar hasSetFieldStatus = function hasSetFieldStatus(fieldStatusKey) {\n  var _context3;\n  return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default()(_context3 = ['default', 'hidden', 'disabled', 'readonly', 'mustInput']).call(_context3, fieldStatusKey);\n};\n\n/**\n * @description 获取字段控件属性\n * @param field 字段信息\n * @returns 属性\n */\nvar getFieldProps = function getFieldProps(field, options) {\n  var fieldStatusMap = options.fieldStatusMap;\n  var EmptyText = field.EmptyText,\n    NoCodeDefValue = field.NoCodeDefValue,\n    ShowClearButton = field.ShowClearButton,\n    Status = field.Status,\n    MaxLength = field.MaxLength,\n    MinLength = field.MinLength,\n    _Type_ = field._Type_,\n    DateRangeEmptyText = field.DateRangeEmptyText,\n    DateRangeDefValue = field.DateRangeDefValue,\n    Key = field.Key;\n  var controlProps = {\n    readOnly: true,\n    disabled: isDisabled(Status) && !hasSetFieldStatus(fieldStatusMap[Key]) || fieldStatusMap[Key] === 'disabled'\n  };\n\n  // 默认值\n  if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__.isUndefined)(NoCodeDefValue) && !(0,_control__WEBPACK_IMPORTED_MODULE_25__.isRefBill)(_Type_)) {\n    if ((0,_control__WEBPACK_IMPORTED_MODULE_25__.isDate)(_Type_)) {\n      controlProps.value = NoCodeDefValue && Date.parse(NoCodeDefValue) ? new Date(NoCodeDefValue) : undefined;\n    } else {\n      controlProps.value = NoCodeDefValue;\n    }\n  }\n  if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__.isUndefined)(DateRangeDefValue)) {\n    controlProps.value = (0,_control__WEBPACK_IMPORTED_MODULE_25__.formatRangeObjToDateTypes)(DateRangeDefValue);\n  }\n\n  // 占位提示\n  if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__.isUndefined)(EmptyText)) {\n    controlProps.placeholder = EmptyText;\n  }\n\n  // 日期范围占位提示（有两部分：start和end）\n  if ((0,_control__WEBPACK_IMPORTED_MODULE_25__.isDateRange)(_Type_) && DateRangeEmptyText) {\n    var _DateRangeEmptyText$s = DateRangeEmptyText.start,\n      startPlaceholder = _DateRangeEmptyText$s === void 0 ? '' : _DateRangeEmptyText$s,\n      _DateRangeEmptyText$e = DateRangeEmptyText.end,\n      endPlaceholder = _DateRangeEmptyText$e === void 0 ? '' : _DateRangeEmptyText$e;\n    controlProps.placeholder = [startPlaceholder, endPlaceholder];\n  }\n\n  // 清除按钮\n  if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__.isUndefined)(ShowClearButton)) {\n    controlProps.allowClear = ShowClearButton;\n  }\n\n  // 最大值\n  if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__.isUndefined)(MaxLength)) {\n    controlProps.maxLength = MaxLength;\n  }\n\n  // 最小值\n  if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__.isUndefined)(MinLength)) {\n    controlProps.mixLength = MinLength;\n  }\n  return controlProps;\n};\n\n/**\n * @description 获取选中值（下拉，单选，多选）\n * @param field 字段信息\n * @returns 选中值\n */\nvar getSelectedValue = function getSelectedValue(field) {\n  var SelectItemType = field.SelectItemType,\n    CustomContent = field.CustomContent,\n    DefValue = field.DefValue;\n  if (!Array.isArray(CustomContent)) return '';\n  if (SelectItemType === '0') {\n    // 单选\n    var curSelectedOption = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_19___default()(CustomContent).call(CustomContent, function (item) {\n      return item.Value === DefValue;\n    });\n    return (curSelectedOption === null || curSelectedOption === void 0 ? void 0 : curSelectedOption.Label) || '';\n  } else if (SelectItemType === '1') {\n    // 多选\n    var curSelectedLabelList = [];\n    var curSelectedValueList = DefValue.split(',');\n    CustomContent.forEach(function (item) {\n      if (curSelectedValueList !== null && curSelectedValueList !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default()(curSelectedValueList).call(curSelectedValueList, item === null || item === void 0 ? void 0 : item.Value)) {\n        curSelectedLabelList.push(item.Label);\n      }\n    });\n    return curSelectedLabelList.join(',');\n  }\n  return '';\n};\n\n/**\n * @description 是否多选\n * @param type 多选值（'1'为多选，'0'为单选）\n * @returns\n */\nvar isMultiSelect = function isMultiSelect(type) {\n  return (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__.toString)(type) === _constants_propnames__WEBPACK_IMPORTED_MODULE_23__.MULTI_SELECT;\n};\n\n/**\n * @description 获取选择类型 'Checkbox' | 'Radio' | 'Select'\n * @param field 控件字段信息\n * @returns 'Checkbox' | 'Radio' | 'Select'\n */\n\nvar getSelectFieldControlType = function getSelectFieldControlType(field) {\n  if (!field) return 'Select';\n  var DropDownOrTilePc = field.DropDownOrTilePc,\n    SelectItemType = field.SelectItemType;\n\n  // 设计器后端返回来数字类型的，因此这里转为字符串再判断\n  if ((0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__.toString)(DropDownOrTilePc) === _constants_propnames__WEBPACK_IMPORTED_MODULE_23__.TILE_SELECT) {\n    if (isMultiSelect(SelectItemType)) {\n      return 'Checkbox';\n    } else {\n      return 'Radio';\n    }\n  }\n  return 'Select';\n};\n/**\n * @description 转换选项内容为小写属性\n * @param field 字段信息\n * @returns 选项内容（各项内容属性转换为小写开头的）\n */\nvar getTransformOptions = function getTransformOptions(field) {\n  var _context4;\n  var CustomContent = field.CustomContent;\n  if (!CustomContent) return [];\n  var options = Array.isArray(CustomContent) ? CustomContent : (CustomContent === null || CustomContent === void 0 ? void 0 : CustomContent.ops) || [];\n  return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_12___default()(_context4 = (options === null || options === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_17___default()(options).call(options, function (item) {\n    return {\n      label: item === null || item === void 0 ? void 0 : item[_constants_propnames__WEBPACK_IMPORTED_MODULE_23__.LABEL],\n      value: item === null || item === void 0 ? void 0 : item[_constants_propnames__WEBPACK_IMPORTED_MODULE_23__.VALUE],\n      color: item === null || item === void 0 ? void 0 : item[_constants_propnames__WEBPACK_IMPORTED_MODULE_23__.BGC]\n    };\n  })) || []).call(_context4, function (item) {\n    return item.label;\n  }) || [];\n};\n\n/**\n * 获取是否展示背景\n * @param field 字段信息\n * @returns boolean\n */\nvar getTransformBgcSwitch = function getTransformBgcSwitch(field) {\n  var CustomContent = field.CustomContent;\n  if (!CustomContent) return false;\n  return Array.isArray(CustomContent) ? false : CustomContent === null || CustomContent === void 0 ? void 0 : CustomContent.bgcSwitch;\n};\n\n/**\n * @description 根据分隔符转换值为数组\n * @param value 值\n * @param separator 分隔符，默认','\n * @returns 选项内容（各项内容属性转换为小写开头的）\n */\nvar transformValueToArray = function transformValueToArray(value) {\n  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ',';\n  if (!value) return [];\n  return value === null || value === void 0 ? void 0 : value.split(separator || ',');\n};\n\n/**\n * @description 获取转换后的默认值\n * @param field 字段信息\n * @returns 默认值\n */\nvar getTransformDefValue = function getTransformDefValue(field) {\n  var SelectItemType = field.SelectItemType,\n    NoCodeDefValue = field.NoCodeDefValue;\n  if (isMultiSelect(SelectItemType)) {\n    // 暂时注掉，默认值改造之后，貌似不需要显示在画布上\n    return transformValueToArray(NoCodeDefValue, ',');\n  }\n  return NoCodeDefValue;\n};\n\n/**\n * @description 是否垂直模式\n * @param type '0' | '1'\n */\nvar isVertical = function isVertical(mode) {\n  if (mode === undefined) return false;\n\n  // mode后端返回来的是数字0，但是前端给后端传过去的时候去字符串0，这里面兼容\n  return +mode === 0;\n};\nvar getMetaGroupPropertiesByKeys = function getMetaGroupPropertiesByKeys(propertyGroups, keys, callback) {\n  var properties = [];\n  var _iterator = _createForOfIteratorHelper(propertyGroups),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var group = _step.value;\n      var _group$Nodes = group.Nodes,\n        nodes = _group$Nodes === void 0 ? [] : _group$Nodes,\n        groupKey = group.Key;\n      if (keys.length === 0 || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default()(keys).call(keys, groupKey)) {\n        var _iterator2 = _createForOfIteratorHelper(nodes),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var _node = _step2.value;\n            if (_node.Visible !== false && callback(_node)) {\n              properties.push(_node);\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return properties;\n};\nvar getDefaultSysSetting = function getDefaultSysSetting(meta) {\n  var _meta$Categories = meta.Categories,\n    Categories = _meta$Categories === void 0 ? [] : _meta$Categories;\n  var systemCategories = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_12___default()(Categories).call(Categories, function (category) {\n    var _category$Id;\n    return category === null || category === void 0 || (_category$Id = category.Id) === null || _category$Id === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_20___default()(_category$Id).call(_category$Id, _constants__WEBPACK_IMPORTED_MODULE_28__.SYS_CATEGORY_PREFIX);\n  });\n  return systemCategories.reduce(function (setting, category) {\n    var Id = category.Id;\n    setting[Id] = false;\n    return setting;\n  }, {});\n};\nvar getInitialSysSetting = function getInitialSysSetting(data, meta) {\n  var _formmeta$Items;\n  var formmeta = data.formmeta;\n  var sysSettingJson = formmeta === null || formmeta === void 0 || (_formmeta$Items = formmeta.Items) === null || _formmeta$Items === void 0 || (_formmeta$Items = _formmeta$Items[0]) === null || _formmeta$Items === void 0 ? void 0 : _formmeta$Items.SysSetting;\n  return sysSettingJson ? JSON.parse(sysSettingJson) : getDefaultSysSetting(meta);\n};\nvar getInitialbillnoSetting = function getInitialbillnoSetting(data) {\n  var _formmeta$Items2;\n  var formmeta = data.formmeta;\n  var billnoSettingJson = formmeta === null || formmeta === void 0 || (_formmeta$Items2 = formmeta.Items) === null || _formmeta$Items2 === void 0 || (_formmeta$Items2 = _formmeta$Items2[0]) === null || _formmeta$Items2 === void 0 ? void 0 : _formmeta$Items2.BillNoSetting;\n  return billnoSettingJson ? JSON.parse(billnoSettingJson) : {};\n};\nvar getDataPropertyByKey = function getDataPropertyByKey(data, key) {\n  return data === null || data === void 0 ? void 0 : data[key];\n};\nvar dateFormate = function dateFormate(date, fmt) {\n  var o = {\n    'M+': date.getMonth() + 1,\n    // 月份\n    'd+': date.getDate(),\n    // 日\n    'h+': date.getHours(),\n    // 小时\n    'm+': date.getMinutes(),\n    // 分\n    's+': date.getSeconds(),\n    // 秒\n    'q+': Math.floor((date.getMonth() + 3) / 3),\n    // 季度\n    S: date.getMilliseconds() // 毫秒\n  };\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n  }\n  for (var k in o) {\n    if (new RegExp('(' + k + ')').test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length));\n  }\n  return fmt;\n};\nvar getRandomNum = function getRandomNum(num) {\n  var randomArr = [];\n  while (randomArr.length < num) {\n    randomArr.push(Math.floor(Math.random() * 10));\n  }\n  return randomArr.join('');\n};\n\n/**\n * 是分组容器\n * @param type 控件类型\n */\nvar isGroupContainer = function isGroupContainer(type) {\n  return type === _constants__WEBPACK_IMPORTED_MODULE_28__.NOCODE_GROUP_CONTAINER_AP;\n};\n\n/**\n * 旧的分组容器\n */\nvar isOldGroupContainerControl = function isOldGroupContainerControl(item) {\n  return item._Type_ === _constants__WEBPACK_IMPORTED_MODULE_28__.NOCODE_GROUP_CONTAINER_AP && !item.GroupParentId && !item.GroupIndex && !item.isTab;\n};\n\n/**\n * 旧的分组容器\n */\nvar isOldSubGroupContainerControl = function isOldSubGroupContainerControl(item) {\n  return item._Type_ === _constants__WEBPACK_IMPORTED_MODULE_28__.NOCODE_GROUP_CONTAINER_AP && !item.GroupParentId && !item.GroupIndex && item.isTab;\n};\n\n/**\n *  分割千分位\n */\nvar thousandsSeparatorFormat = function thousandsSeparatorFormat(numStr) {\n  var arr = numStr.split('.');\n  var reg = /\\B(?=(\\d{3})+(?!\\d))/g;\n  if (arr.length === 2) {\n    var _context5;\n    var _arr = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(arr, 2),\n      v1 = _arr[0],\n      v2 = _arr[1];\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(_context5 = \"\".concat(v1.replace(reg, ','), \".\")).call(_context5, v2);\n  }\n  return arr[0].replace(reg, ',');\n};\nvar KD_DATA_CENTER = (_window$location$sear = window.location.search) === null || _window$location$sear === void 0 || (_window$location$sear = _window$location$sear.match(/(^|&|\\?)kdcdc=([^&]*)(&|$)/i)) === null || _window$location$sear === void 0 ? void 0 : _window$location$sear[2]; // 数据中心\n\n// 给URL拼上数据中心后缀\nvar getUrlWithDataCenter = function getUrlWithDataCenter(url) {\n  if (!url) return '';\n  if (!_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default()(url).call(url, 'kdcdc') && KD_DATA_CENTER) {\n    var str = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default()(url).call(url, '?') ? '&' : '?';\n    return url + str + 'kdcdc=' + KD_DATA_CENTER;\n  }\n  return url;\n};\nvar getFullUrl = function getFullUrl(path) {\n  return window.__domainurl__ + path;\n};\nvar getFullImageUrl = function getFullImageUrl(path) {\n  if (!path) return;\n  return window.__domainurl__ + (path[0] === '/' ? _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_13___default()(path).call(path, 1) : path);\n};\nvar getBackImageUrl = function getBackImageUrl(prefix, path) {\n  if (!path) return path;\n  if (path.indexOf('background') > -1) {\n    return getFullImageUrl(path);\n  } else {\n    return prefix + path;\n  }\n};\nfunction addResizeObserve(element, callback) {\n  var handleResize = function handleResize(entries) {\n    var entry = entries[0];\n    var _entry$contentRect = entry.contentRect,\n      width = _entry$contentRect.width,\n      height = _entry$contentRect.height;\n    var hide = width === 0 && height === 0;\n    var rect = {\n      hide: hide,\n      width: width,\n      height: height\n    };\n    callback && callback(rect);\n  };\n  var watcher = new resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_27__[\"default\"](handleResize);\n  watcher.observe(element);\n  return {\n    removeResizeObserve: function removeResizeObserve() {\n      watcher.disconnect(element);\n      watcher = null;\n    }\n  };\n}\nvar tranformChildren = function tranformChildren(children, getControlName) {\n  return children === null || children === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_17___default()(children).call(children, function (item) {\n    var _context6;\n    return {\n      key: item.Key,\n      title: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(_context6 = \"[\".concat(getControlName(item.Type), \"]\")).call(_context6, item.Name)\n    };\n  });\n};\nvar getFieldTreeByMeta = function getFieldTreeByMeta(meta, getControlName) {\n  var exceptFieldList = ['NoCodeGroupContainerAp'];\n  var rootNode = meta === null || meta === void 0 ? void 0 : meta.entitytree;\n  return [{\n    key: rootNode.Key,\n    title: rootNode.Name,\n    children: tranformChildren(rootNode.Items, getControlName)\n  }];\n};\nvar isString = function isString(obj) {\n  return typeof obj === 'string';\n};\nvar isJson = function isJson(str) {\n  if (typeof str == 'string') {\n    try {\n      var obj = JSON.parse(str);\n      if ((0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(obj) == 'object' && obj) {\n        return true;\n      } else {\n        return false;\n      }\n    } catch (e) {\n      console.log('error：' + str + '!!!' + e);\n      return false;\n    }\n  } else {\n    return false;\n  }\n};\nvar getDefValue = function getDefValue(defValue) {\n  if (defValue && isJson(defValue)) {\n    defValue = JSON.parse(defValue);\n    if (defValue.valueType === 0) {\n      return defValue.value || '';\n    }\n    return '';\n  }\n  return defValue;\n};\nvar getDateRangeDefValue = function getDateRangeDefValue(defValue) {\n  if (!(0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__.isUndefined)(defValue)) {\n    var start = defValue.start,\n      end = defValue.end;\n    return {\n      start: getDefValue(start),\n      end: getDefValue(end)\n    };\n  }\n};\nvar analyzeJSON = function analyzeJSON(value) {\n  return isJson(value) ? JSON.parse(value) : {};\n};\nvar tranformFieldDefValue = function tranformFieldDefValue(orginField) {\n  var _field$EntityData;\n  var DefValueKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'NoCodeDefValue';\n  var field = _objectSpread({}, orginField);\n  if (field[DefValueKey]) {\n    field = _objectSpread(_objectSpread({}, field), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({}, DefValueKey, DefValueKey === 'DateRangeDefValue' ? getDateRangeDefValue(field[DefValueKey]) : getDefValue(field[DefValueKey])));\n  }\n  if ((_field$EntityData = field.EntityData) !== null && _field$EntityData !== void 0 && _field$EntityData[DefValueKey]) {\n    field = _objectSpread(_objectSpread({}, field), {}, {\n      EntityData: _objectSpread(_objectSpread({}, field.EntityData), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({}, DefValueKey, DefValueKey === 'DateRangeDefValue' ? getDateRangeDefValue(field[DefValueKey]) : getDefValue(field[DefValueKey])))\n    });\n  }\n  return field;\n};\nvar transformRefBillMeta = function transformRefBillMeta(refBillMeta, metaApi) {\n  var PropsDisplay = refBillMeta.PropsDisplay,\n    dataRange = refBillMeta.DataRange,\n    BillEntityIdEx = refBillMeta.BillEntityIdEx,\n    Multi = refBillMeta.Multi,\n    _Type_ = refBillMeta._Type_,\n    status = refBillMeta.Status,\n    mustInput = refBillMeta.MustInput,\n    placeholder = refBillMeta.EmptyText,\n    key = refBillMeta.Key,\n    name = refBillMeta.Name,\n    defaultDisplay = refBillMeta.DefaultDisplay,\n    id = refBillMeta.Id,\n    FieldType = refBillMeta.FieldType;\n  var disabled = false;\n  var readonly = false;\n  var hidden = false;\n  var isMulti = parseInt(Multi) === 1;\n  var entityId = (0,_control__WEBPACK_IMPORTED_MODULE_25__.isSysRefBill)(_Type_) ? 'bos_user' : BillEntityIdEx || metaApi.getControlPropertyDefaultValue(FieldType, 'BillEntityIdEx');\n  var displayProp = PropsDisplay || metaApi.getControlPropertyDefaultValue(FieldType, 'PropsDisplay');\n  var fieldType = (0,_control__WEBPACK_IMPORTED_MODULE_25__.isRefBill)(_Type_) || (0,_control__WEBPACK_IMPORTED_MODULE_25__.isRefBillTable)(_Type_) ? 'NoCodeMulRefBillField' : _Type_;\n  return {\n    displayProp: displayProp,\n    dataRange: dataRange,\n    isMulti: isMulti,\n    entityId: entityId,\n    type: fieldType.toLowerCase(),\n    id: id,\n    allowClear: true,\n    mustInput: mustInput,\n    key: key,\n    name: name,\n    defaultDisplay: defaultDisplay,\n    showSelected: true,\n    disabled: disabled,\n    readonly: readonly,\n    hidden: hidden\n  };\n};\nvar getFieldCompareType = function getFieldCompareType(_ref) {\n  var compareTypesMap = _ref.compareTypesMap,\n    type = _ref.type,\n    entityId = _ref.entityId;\n  var compareTypes = compareTypesMap[type] || [];\n  if (entityId === 'bos_user') {\n    // 人员直接取【创建人】的\n    compareTypes = 'nocodecreatorfield';\n  } else if (entityId === 'bos_adminorg') {\n    compareTypes = 'orgfield';\n  }\n  if (typeof compareTypes === 'string') {\n    // 结果如果是字符串(如text：nodetextfield)，再二次转一下\n    compareTypes = compareTypesMap[compareTypes];\n  }\n  return compareTypes;\n};\nvar getFieldDataList = function getFieldDataList(dataApi, metaApi) {\n  var isCanRange = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  if (!dataApi || !metaApi) return [];\n  var options = dataApi.findControlByCondition(function (item) {\n    var controlType = item._Type_,\n      ParentId = item.ParentId,\n      BillEntityId = item.BillEntityId,\n      BillEntityIdEx = item.BillEntityIdEx;\n    var _ref2 = ParentId ? dataApi.findControl(ParentId) || {} : {},\n      parentControlType = _ref2._Type_;\n    return !(0,_control__WEBPACK_IMPORTED_MODULE_25__.isRefBillTable)(parentControlType) && !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default()(_constants__WEBPACK_IMPORTED_MODULE_28__.EXCLUDE_COMPARE_FIELD_LIST).call(_constants__WEBPACK_IMPORTED_MODULE_28__.EXCLUDE_COMPARE_FIELD_LIST, controlType) && !((controlType === 'NoCodeMulRefBillField' || controlType === 'NoCodeRefBillField' || (0,_control__WEBPACK_IMPORTED_MODULE_25__.isRefBillTable)(controlType)) && BillEntityIdEx === undefined);\n  }).reduce(function (allOps, item) {\n    var _item$CustomContent$o;\n    var otherOptions = [];\n    var controlType = item._Type_,\n      controlKey = item.Key,\n      controlName = item.Name,\n      formatType = item.FormatType,\n      SelectItemType = item.SelectItemType,\n      Multi = item.Multi;\n    var fieldType = (0,_control__WEBPACK_IMPORTED_MODULE_25__.isRefBill)(controlType) || (0,_control__WEBPACK_IMPORTED_MODULE_25__.isRefBillTable)(controlType) ? 'NoCodeMulRefBillField' : controlType;\n    var fieldTypeLowerCase = fieldType === null || fieldType === void 0 ? void 0 : fieldType.toLowerCase();\n    // 创建日期修改日期默认显示格式是 '0'\n    if (((0,_control__WEBPACK_IMPORTED_MODULE_25__.isCreateDateField)(controlType) || (0,_control__WEBPACK_IMPORTED_MODULE_25__.isModifyDateField)(controlType)) && !formatType) {\n      formatType = '0';\n    }\n    if ((0,_control__WEBPACK_IMPORTED_MODULE_25__.isDateRange)(controlType) && isCanRange) {\n      // 日期范围需要拆分成‘开始日期’和‘结束日期’两个字段\n      var ops = [{\n        fieldCaption: \"\".concat(controlName, \".\\u5F00\\u59CB\"),\n        fieldName: \"\".concat(controlKey, \"_startdate\"),\n        formatType: formatType,\n        type: 'nocodedatefield'\n      }, {\n        fieldCaption: \"\".concat(controlName, \".\\u7ED3\\u675F\"),\n        fieldName: \"\".concat(controlKey, \"_enddate\"),\n        formatType: formatType,\n        type: 'nocodedatefield'\n      }];\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(allOps).call(allOps, ops);\n    }\n    var other = {};\n    if ((0,_control__WEBPACK_IMPORTED_MODULE_25__.isRefBill)(controlType) || (0,_control__WEBPACK_IMPORTED_MODULE_25__.isSysRefBill)(controlType) || (0,_control__WEBPACK_IMPORTED_MODULE_25__.isRefBillTable)(controlType)) {\n      // 适配选项，如果是新添加的字段，选项的items得自己根据元数据构造\n      other = transformRefBillMeta(item, metaApi);\n    } else if ((0,_control__WEBPACK_IMPORTED_MODULE_25__.isImageField)(controlType)) {\n      var _item$EntityData, _context7, _item$EntityData2;\n      var pictureType = metaApi.getControlMetaEditor(controlType, 'ImageFileType').Enum; // 图片类型列表\n      var pictureDefaultSize = metaApi.getControlPropertyDefaultValue(controlType, 'FileMaxSize'); // 默认图片大小\n      var pictureDefaultType = metaApi.getControlPropertyDefaultValue(controlType, 'ImageFileType'); // 默认图片类型\n      var type = (item === null || item === void 0 || (_item$EntityData = item.EntityData) === null || _item$EntityData === void 0 ? void 0 : _item$EntityData.ImageFileType) || pictureDefaultType; // 类型，优先使用用户选择的类型\n      var typeArr = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_17___default()(_context7 = type.split(',')).call(_context7, function (item) {\n        return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_12___default()(pictureType).call(pictureType, function (i) {\n          return i.Id === item;\n        })[0].Name;\n      });\n      other = {\n        UploadNum: (item === null || item === void 0 || (_item$EntityData2 = item.EntityData) === null || _item$EntityData2 === void 0 ? void 0 : _item$EntityData2.UploadNum) || {\n          max: 9,\n          min: 0\n        },\n        FileMaxSize: item.FileMaxSize || pictureDefaultSize,\n        typeArr: typeArr\n      };\n    } else if ((0,_control__WEBPACK_IMPORTED_MODULE_25__.isAttachmentField)(controlType)) {\n      var _item$EntityData3, _item$EntityData4;\n      var attachmentDefaultType = metaApi.getControlPropertyDefaultValue(controlType, 'AttachmentFileType'); // 默认图片类型\n      var fileMaxSizeDef = metaApi.getControlPropertyDefaultValue(controlType, 'FileMaxSize'); // 默认图片大小\n      var fileType = (item === null || item === void 0 || (_item$EntityData3 = item.EntityData) === null || _item$EntityData3 === void 0 ? void 0 : _item$EntityData3.AttachmentFileType) || attachmentDefaultType; // 支持的文件类型,需要判空\n      other = {\n        UploadNum: (item === null || item === void 0 || (_item$EntityData4 = item.EntityData) === null || _item$EntityData4 === void 0 ? void 0 : _item$EntityData4.UploadNum) || {\n          max: 9,\n          min: 0\n        },\n        maxSize: item.FileMaxSize || fileMaxSizeDef,\n        fileType: fileType\n      };\n    }\n    var items = item.CustomContent ? (_item$CustomContent$o = item.CustomContent.ops) === null || _item$CustomContent$o === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_17___default()(_item$CustomContent$o).call(_item$CustomContent$o, function (op) {\n      var Label = op.Label,\n        Value = op.Value,\n        Bgc = op.Bgc;\n      return {\n        name: {\n          zh_CN: Label\n        },\n        value: Value,\n        bgc: Bgc\n      };\n    }) : undefined;\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(allOps).call(allOps, _objectSpread({\n      fieldCaption: controlName,\n      fieldName: controlKey,\n      type: fieldTypeLowerCase,\n      isMulti: SelectItemType === 1 || Multi === 1,\n      items: items,\n      formatType: formatType\n    }, other));\n  }, []);\n  return options;\n};\nvar transformFieldType = function transformFieldType(type) {\n  return type === null || type === void 0 ? void 0 : type.split('-')[0];\n};\nvar getRefSelfChild = function getRefSelfChild(data, parentKey, limitDepth) {\n  return (data || []).reduce(function (treeData, item) {\n    var _context8, _pureId$split;\n    var id = item.id,\n      _item$option = item.option,\n      option = _item$option === void 0 ? {} : _item$option;\n    var children = option.children,\n      otherOption = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(option, _excluded);\n    var fieldName = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(_context8 = \"\".concat(parentKey, \".\")).call(_context8, id);\n    var pureId = fieldName !== null && fieldName !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default()(fieldName).call(fieldName, 'fbasedataid') ? id.split('.fbasedataid')[0] : fieldName;\n    // 根据后端拼接的'.'分割出数组，以此为依据判断层级\n    var depth = (pureId === null || pureId === void 0 || (_pureId$split = pureId.split('.')) === null || _pureId$split === void 0 ? void 0 : _pureId$split.length) || 0;\n    if (depth > limitDepth) return treeData;\n    var newOption = _objectSpread({}, otherOption);\n    if (children) {\n      newOption.children = getRefSelfChild(children, parentKey, limitDepth);\n    }\n    var res = _objectSpread(_objectSpread({}, item), {}, {\n      id: fieldName,\n      option: newOption || {}\n    });\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(treeData).call(treeData, res);\n  }, []);\n};\n\n/**\n * @param data\n * @param compareTypesMap\n * @param deep 当前层级\n * @param limitDepth 限制层级（默认一级：关联表单.属性）\n * @returns\n */\nvar listFilterParser = function listFilterParser(selfTree, data, compareTypesMap) {\n  var _context9;\n  var limitDepth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 2;\n  return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_12___default()(_context9 = (data || []).reduce(function (treeData, item) {\n    var _pureId$split2, _res;\n    var caption = item.caption,\n      type = item.type,\n      id = item.id,\n      _item$option2 = item.option,\n      option = _item$option2 === void 0 ? {} : _item$option2,\n      typeCaption = item.typeCaption;\n    var pureId = id !== null && id !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default()(id).call(id, 'fbasedataid') ? id.split('.fbasedataid')[0] : id;\n    // 根据后端拼接的'.'分割出数组，以此为依据判断层级\n    var depth = (pureId === null || pureId === void 0 || (_pureId$split2 = pureId.split('.')) === null || _pureId$split2 === void 0 ? void 0 : _pureId$split2.length) || 0;\n    if (type !== 'group' && depth > limitDepth) return treeData;\n    var children = option.children,\n      valueItems = option.valueItems,\n      billEntityId = option.billEntityId,\n      displayProp = option.displayProp,\n      isMulti = option.isMulti,\n      presetCompareTypes = option.compareTypes,\n      refSelf = option.refSelf,\n      others = (0,_babel_runtime_corejs3_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(option, _excluded2);\n    var fieldType = transformFieldType(type).toLowerCase();\n    var compareTypes = getFieldCompareType({\n      compareTypesMap: compareTypesMap,\n      type: fieldType,\n      entityId: billEntityId\n    });\n    var fieldName = id;\n    var res = _objectSpread({\n      title: caption,\n      key: fieldName,\n      compareTypes: compareTypes,\n      type: type,\n      titlePrefix: typeCaption,\n      selectable: type !== 'group'\n    }, others);\n    if ((0,_control__WEBPACK_IMPORTED_MODULE_25__.isRefBill)(type) || (0,_control__WEBPACK_IMPORTED_MODULE_25__.isSysRefBill)(type) || (0,_control__WEBPACK_IMPORTED_MODULE_25__.isRefBillTable)(type)) {\n      res = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(res, {\n        displayProp: displayProp,\n        entityId: billEntityId,\n        isMulti: isMulti\n      });\n    } else if ((0,_control__WEBPACK_IMPORTED_MODULE_25__.isSelectField)(type)) {\n      res = (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(res, {\n        isMulti: isMulti\n      });\n    }\n    if (valueItems) {\n      res.items = valueItems;\n    }\n    if (children) {\n      res.children = listFilterParser(selfTree, children, compareTypesMap, limitDepth);\n    } else if (refSelf === true) {\n      // 关联表单-》关联自身，则取rootTree生成children\n      res.children = listFilterParser(selfTree, getRefSelfChild(selfTree, fieldName, limitDepth), compareTypesMap, limitDepth);\n    }\n    if (type === 'group' && !((_res = res) !== null && _res !== void 0 && (_res = _res.children) !== null && _res !== void 0 && _res.length)) {\n      // 如果分组下没有字段，也不返回分组节点\n      return treeData;\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(treeData).call(treeData, res);\n  }, [])).call(_context9, function (item) {\n    var type = item.type,\n      entityId = item.entityId;\n    if ((0,_control__WEBPACK_IMPORTED_MODULE_25__.isRefBill)(type) || (0,_control__WEBPACK_IMPORTED_MODULE_25__.isSysRefBill)(type)) {\n      return entityId !== null;\n    }\n    return true;\n  });\n};\nvar setNewDataControlId = function setNewDataControlId(oldId, newId, cb) {\n  var _context10;\n  var oldDom = document.querySelector(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(_context10 = \"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_29__.dataControlId, \"=\\\"\")).call(_context10, oldId, \"\\\"]\"));\n  if (oldDom) {\n    oldDom.setAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_29__.dataControlId, newId);\n    cb === null || cb === void 0 || cb(oldDom);\n  }\n};\n\n/**\n * 移动分组容器\n * @param dataContext\n * @param control 移动的组件\n * @param direction 'forward' 向前 'back' 向后\n *@description 分组 移动顶到头的页签就整体移动，没顶到头的就内部移动 - by炎鑫\n * @returns\n */\nvar moveGroupContainerControl = function moveGroupContainerControl(dataContext, moveControl, direction) {\n  if (!moveControl) return;\n  var GroupParentId = moveControl.GroupParentId,\n    GroupIndex = moveControl.GroupIndex,\n    Id = moveControl.Id;\n\n  // 向前移动为-1，向后移动为+1\n  var moveDirectionStep = direction === 'forward' ? -1 : 1;\n  var controls = dataContext.findControlByCondition(function (control) {\n    return control.GroupParentId === GroupParentId;\n  });\n  if (direction === 'forward' && Number(GroupIndex) === 0) {\n    var preControl = dataContext.getPrevSibling(Id).control;\n    if (!preControl) return;\n    if (isGroupContainer(preControl._Type_)) {\n      // 前移的时候如果前面是分组\n      var preGroupContainerControls = dataContext.findControlByCondition(function (control) {\n        return control.GroupParentId === preControl.GroupParentId;\n      });\n      if (preGroupContainerControls !== null && preGroupContainerControls !== void 0 && preGroupContainerControls.length) {\n        var _preGroupContainerCon;\n        dataContext.insertControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_22__.createInsertAction)({\n          targetId: (_preGroupContainerCon = preGroupContainerControls[0]) === null || _preGroupContainerCon === void 0 ? void 0 : _preGroupContainerCon.Id,\n          values: controls,\n          isPre: true\n        }));\n      }\n    } else {\n      // 前移的时候，前面是普通字段\n      dataContext.insertControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_22__.createInsertAction)({\n        targetId: preControl.Id,\n        values: controls,\n        isPre: true\n      }));\n    }\n    return;\n  }\n  if (direction === 'back' && Number(GroupIndex) === controls.length - 1) {\n    var nextControl = dataContext.getNextSibling(Id).control;\n    if (!nextControl) return;\n    if (isGroupContainer(nextControl._Type_)) {\n      // 后移的时候如果后面是分组\n      var nextGroupContainerControls = dataContext.findControlByCondition(function (control) {\n        return control.GroupParentId === nextControl.GroupParentId;\n      });\n      if (nextGroupContainerControls !== null && nextGroupContainerControls !== void 0 && nextGroupContainerControls.length) {\n        var _nextGroupContainerCo;\n        dataContext.insertControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_22__.createInsertAction)({\n          targetId: (_nextGroupContainerCo = nextGroupContainerControls[nextGroupContainerControls.length - 1]) === null || _nextGroupContainerCo === void 0 ? void 0 : _nextGroupContainerCo.Id,\n          values: controls,\n          isPre: false\n        }));\n      }\n    } else {\n      // 前移的时候，前面是普通字段\n      dataContext.insertControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_22__.createInsertAction)({\n        targetId: nextControl.Id,\n        values: controls,\n        isPre: false\n      }));\n    }\n    return;\n  }\n\n  // 交换的组件\n  var swapControl = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_19___default()(controls).call(controls, function (control) {\n    return Number(control.GroupIndex) === Number(GroupIndex) + moveDirectionStep;\n  });\n  if (!swapControl) return;\n  var newMoveControl = _objectSpread(_objectSpread({}, moveControl), {}, {\n    GroupIndex: swapControl.GroupIndex\n  });\n  dataContext.insertControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_22__.createInsertAction)({\n    targetId: swapControl.Id,\n    values: [newMoveControl],\n    isPre: direction === 'forward'\n  })).then(function (actions) {\n    var updateActions = [[swapControl.Id, {\n      GroupIndex: GroupIndex\n    }]];\n    dataContext.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_22__.createUpdateAction)(updateActions));\n  });\n};\nvar prefixNameMap = {\n  NoCodeTextField: '文本',\n  NoCodeTextAreaField: '文本',\n  NoCodeCreateDateField: '日期',\n  NoCodeModifyDateField: '日期',\n  NoCodeBillNoField: '文本'\n};\nvar getFieldNamePrefix = function getFieldNamePrefix(field, refPrefixMap, metaApi, refNameMap) {\n  var _metaApi$getControlMe;\n  var _Type_ = field._Type_,\n    Multi = field.Multi,\n    SelectItemType = field.SelectItemType,\n    Name = field.Name,\n    Key = field.Key,\n    BillEntityIdEx = field.BillEntityIdEx;\n  if ((0,_control__WEBPACK_IMPORTED_MODULE_25__.isRefBill)(_Type_)) {\n    var _context11, _context12;\n    var refBillKey = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_19___default()(_context11 = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_11___default()(refPrefixMap)).call(_context11, function (refkey) {\n      return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default()(Key).call(Key, refkey);\n    });\n    if (refBillKey) {\n      return refPrefixMap[refBillKey] || '';\n    }\n    var entityId = BillEntityIdEx || metaApi.getControlPropertyDefaultValue(_Type_, 'BillEntityIdEx');\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(_context12 = \"[\".concat(refNameMap[entityId] || '', \"]\")).call(_context12, Multi == 1 ? '[多条]' : '[单条]');\n  }\n  if ((0,_control__WEBPACK_IMPORTED_MODULE_25__.isRefBillTable)(_Type_)) {\n    var _context13;\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(_context13 = \"[\".concat(Name || '-', \"]\")).call(_context13, Multi == 1 ? '[多条]' : '[单条]');\n  }\n  if ((0,_control__WEBPACK_IMPORTED_MODULE_25__.isSelectField)(_Type_)) {\n    return \"[\\u9009\\u9879]\".concat(isMultiSelect(SelectItemType) ? '[多选]' : '[单选]');\n  }\n  if (_Type_ === 'NoCodeCreatorField' || _Type_ === 'NoCodeModifierField') {\n    return '[人员][单条]';\n  }\n  var metaName = prefixNameMap[_Type_] || ((_metaApi$getControlMe = metaApi.getControlMeta(_Type_)) === null || _metaApi$getControlMe === void 0 ? void 0 : _metaApi$getControlMe.Name);\n  return \"[\".concat(metaName, \"]\");\n};\nvar deepGetRefBillCaption = function deepGetRefBillCaption(listFilterConfig) {\n  var map = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _iterator3 = _createForOfIteratorHelper(listFilterConfig),\n    _step3;\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var _step3$value = _step3.value,\n        titlePrefix = _step3$value.titlePrefix,\n        fieldName = _step3$value.key,\n        children = _step3$value.children,\n        type = _step3$value.type;\n      if (children) {\n        deepGetRefBillCaption(children, map);\n      }\n      if ((0,_control__WEBPACK_IMPORTED_MODULE_25__.isRefBill)(type)) {\n        var key = fieldName.split('.').pop();\n        map[key] = titlePrefix || '';\n      }\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n  return map;\n};\nvar scrollControlIntoView = function scrollControlIntoView(id) {\n  var _context14;\n  var control = document.querySelector(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_16___default()(_context14 = \"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_29__.dataControlId, \"=\\\"\")).call(_context14, id, \"\\\"]\"));\n  if (control) {\n    if (control.scrollIntoViewIfNeeded) {\n      control.scrollIntoViewIfNeeded();\n    } else {\n      control.scrollIntoView({\n        block: 'nearest'\n      });\n    }\n  }\n};\nvar fixGroupChildrenParentId = function fixGroupChildrenParentId(controls, rootId) {\n  var _context15;\n  var groupIds = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_17___default()(_context15 = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_12___default()(controls).call(controls, function (item) {\n    return isGroupContainer(item === null || item === void 0 ? void 0 : item._Type_);\n  })).call(_context15, function (item) {\n    return item.Id;\n  });\n  if (groupIds.length) {\n    controls.forEach(function (item) {\n      if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_18___default()(groupIds).call(groupIds, item.ParentId) && item.EntityData) {\n        // 篡改entity里的ParentId\n        var newEntityData = _objectSpread(_objectSpread({}, item.EntityData), {}, {\n          ParentId: rootId\n        });\n        item.EntityData = newEntityData;\n      }\n    });\n  }\n  return controls;\n};\nvar generateLongId = function generateLongId() {\n  var _context16, _context17;\n  return _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_13___default()(_context16 = Math.random().toString()).call(_context16, -9) + _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_13___default()(_context17 = Math.random().toString()).call(_context17, -9); // 19位后端会超出\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDEyMzIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUtBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUZBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy91dGlscy9pbmRleC50cz9kMjU3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMDYtMTcgMTc6MjQ6MDdcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjQtMTEtMDcgMTU6MDQ6MzdcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5pbXBvcnQgeyBjbG9uZURlZXAsIGZsYXR0ZW5EZWVwLCBpc1VuZGVmaW5lZCwgdG9TdHJpbmcgfSBmcm9tICdsb2Rhc2gnXG5pbXBvcnQge1xuICBjcmVhdGVVVWlkLCBJQ29udHJvbEl0ZW0sIElDb250cm9sSXRlbVVwcGVyY2FzZUtleSwgY3JlYXRlVXBkYXRlQWN0aW9uLCBjcmVhdGVJbnNlcnRBY3Rpb24sIElDb250cm9sQWN0aW9uXG59IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7XG4gIElELCBJVEVNUywgUEFSRU5USUQsIEZJRUxEX0lELFxuICBNVUxUSV9TRUxFQ1QsIFRJTEVfU0VMRUNULFxuICBWQUxVRSwgTEFCRUwsIEJHQywgRU5UUllfSURcbn0gZnJvbSAnLi4vY29uc3RhbnRzL3Byb3BuYW1lcydcbmltcG9ydCB7IFRFWFRfU1RBVFVTX0VOVU0gfSBmcm9tICcuLi90eXBlJ1xuaW1wb3J0IHtcbiAgaXNEYXRlUmFuZ2UsIGZvcm1hdFJhbmdlT2JqVG9EYXRlVHlwZXMsIGlzRGF0ZSwgaXNFbnRyeUVudGl0eSwgaXNCaXpCdXR0b24sIGlzQXR0YWNobWVudEZpZWxkLFxuICBpc1JlZkJpbGwsIGlzTW9kaWZ5RGF0ZUZpZWxkLCBpc0NyZWF0ZURhdGVGaWVsZCwgaXNTeXNSZWZCaWxsLCBpc1NlbGVjdEZpZWxkLCBpc0ltYWdlRmllbGQsIGlzUmVmQmlsbFRhYmxlXG59IGZyb20gJy4vY29udHJvbCdcbmltcG9ydCBwcm9kdWNlIGZyb20gJ2ltbWVyJ1xuaW1wb3J0IFJlc2l6ZU9ic2VydmVyIGZyb20gJ3Jlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbCdcbmltcG9ydCB7IFNZU19DQVRFR09SWV9QUkVGSVgsIE5PQ09ERV9HUk9VUF9DT05UQUlORVJfQVAsIEVYQ0xVREVfQ09NUEFSRV9GSUVMRF9MSVNUIH0gZnJvbSAnLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHsgZGF0YUNvbnRyb2xJZCB9IGZyb20gJy4uL2NvbnN0YW50cy9kYXRhQXR0cmlidXRlJ1xuXG5jb25zdCBleGNsdWRlQ29weVByb3BzOiBzdHJpbmdbXSA9IFsnRmllbGROYW1lJywgJ1RhYmxlTmFtZScsICdLZXknXVxuXG5leHBvcnQgY29uc3QgZ2V0RXZlbnREb20gPSAoZG9tOiBnbG9iYWxUaGlzLkhUTUxFbGVtZW50KSA9PiB7XG4gIHdoaWxlICghZG9tLmRhdGFzZXQuY29udHJvbElkICYmIGRvbS5pZCAhPT0gJ3VpLWRlc2lnbmVyLXJvb3QnKSB7XG4gICAgZG9tID0gZG9tLnBhcmVudE5vZGVcbiAgfVxuICByZXR1cm4gZG9tXG59XG5cbmV4cG9ydCBjb25zdCBjb252ZXJ0VG9BcnJheSA9IChwYXJhbTogYW55IHwgQXJyYXk8YW55PikgPT4ge1xuICBpZiAoIXBhcmFtKSByZXR1cm4gW11cbiAgaWYgKEFycmF5LmlzQXJyYXkocGFyYW0pKSByZXR1cm4gcGFyYW1cbiAgcmV0dXJuIFtwYXJhbV1cbn1cblxuLyoqXG4gKiBAYXV0aG9yIGppYW5oYW5nX2hlXG4gKiBAZGVzY3JpcHRpb24g5o6S6Zmk5aSN5Yi25o6n5Lu25p+Q5Lqb5bGe5oCn77yI5L6L5aaCZmllbGROYW1l77yM5ZCO56uv5Lya5qC55o2u6L+Z5Liq5qCh6aqM5ZSv5LiA5YC877yJXG4gKiBAcGFyYW0gY29udHJvbERhdGEg5o6n5Lu25L+h5oGvXG4gKiBAcGFyYW0gZXhjbHVkZVByb3BzIOmcgOimgeaOkumZpOeahOWxnuaAp1xuICogQHJldHVybnMg5o6S6Zmk5a+55bqU5bGe5oCn5ZCO55qE5o6n5Lu25L+h5oGvXG4gKi9cbmV4cG9ydCBjb25zdCBleGNsdWRlQ29weUNvbnRyb2xQcm9wcyA9IChjb250cm9sRGF0YTogSUNvbnRyb2xJdGVtLCBleGNsdWRlUHJvcHM6IHN0cmluZ1tdID0gZXhjbHVkZUNvcHlQcm9wcykgPT4ge1xuICAvLyDmjpLpmaTlpI3liLbmn5DkupvlsZ7mgKfvvIjkvovlpoJmaWVsZE5hbWXvvIzlkI7nq6/kvJrmoLnmja7ov5nkuKrmoKHpqozllK/kuIDlgLzvvIlcbiAgZXhjbHVkZVByb3BzPy5mb3JFYWNoKChrZXk6IHN0cmluZykgPT4ge1xuICAgIGlmIChjb250cm9sRGF0YVtrZXldKSB7XG4gICAgICBkZWxldGUgY29udHJvbERhdGFba2V5XVxuICAgIH1cbiAgICAvLyDlrp7kvZPmlbDmja7nmoTkuZ/opoHliKDpmaRcbiAgICBpZiAoY29udHJvbERhdGEuRW50aXR5RGF0YSAmJiBjb250cm9sRGF0YS5FbnRpdHlEYXRhW2tleV0pIHtcbiAgICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkoY29udHJvbERhdGEuRW50aXR5RGF0YSwga2V5KVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4gY29udHJvbERhdGFcbn1cblxuY29uc3QgY29weUNvbnRyb2wgPSAoY29udHJvbERhdGE6IElDb250cm9sSXRlbSwgcGFyZW50SWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCBuZXdDb250cm9sID0gY2xvbmVEZWVwKGNvbnRyb2xEYXRhKVxuICBjb25zdCB7IF9UeXBlXywgRW50aXR5RGF0YSB9ID0gbmV3Q29udHJvbFxuICBuZXdDb250cm9sW1BBUkVOVElEXSA9IHBhcmVudElkXG4gIGNvbnN0IGlkID0gY3JlYXRlVVVpZCgpXG4gIG5ld0NvbnRyb2xbSURdID0gaWRcbiAgLy8g5a+55bqU55qE5a6e5L2TaWTkuZ/opoHmlLnlj5hcbiAgaWYgKEVudGl0eURhdGEpIHtcbiAgICBuZXdDb250cm9sLkVudGl0eURhdGFbSURdID0gaWRcbiAgICBuZXdDb250cm9sLkVudGl0eURhdGFbUEFSRU5USURdID0gcGFyZW50SWRcbiAgICBuZXdDb250cm9sW0ZJRUxEX0lEXSAmJiAobmV3Q29udHJvbFtGSUVMRF9JRF0gPSBpZClcbiAgICBuZXdDb250cm9sW0VOVFJZX0lEXSAmJiAobmV3Q29udHJvbFtFTlRSWV9JRF0gPSBpZClcbiAgfVxuICBpZiAoaXNEYXRlUmFuZ2UoX1R5cGVfKSkge1xuICAgIC8vIOaXpeacn+iMg+WbtO+8jOWkjeWItueahOaXtuWAmemcgOimgea4hemZpOi/meS6m+WxnuaApyjlrp7kvZMrIHVpKVxuICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkobmV3Q29udHJvbCwgJ0VuZERhdGVGaWVsZEtleScpXG4gICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShuZXdDb250cm9sLCAnRW5kRGF0ZUZpZWxkTmFtZScpXG4gICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShuZXdDb250cm9sLCAnU3RhcnREYXRlRmllbGRLZXknKVxuICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkobmV3Q29udHJvbCwgJ1N0YXJ0RGF0ZUZpZWxkTmFtZScpXG4gICAgY29uc3QgbmV3RW50aXR5ID0gcHJvZHVjZShFbnRpdHlEYXRhLCAoZHJhZnQpID0+IHtcbiAgICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkoZHJhZnQsICdFbmREYXRlRmllbGRLZXknKVxuICAgICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShkcmFmdCwgJ0VuZERhdGVGaWVsZE5hbWUnKVxuICAgICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShkcmFmdCwgJ1N0YXJ0RGF0ZUZpZWxkS2V5JylcbiAgICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkoZHJhZnQsICdTdGFydERhdGVGaWVsZE5hbWUnKVxuICAgIH0pXG4gICAgUmVmbGVjdC5zZXQobmV3Q29udHJvbCwgJ0VudGl0eURhdGEnLCBuZXdFbnRpdHkpXG4gIH1cbiAgaWYgKGlzRW50cnlFbnRpdHkoX1R5cGVfKSkge1xuICAgIC8vIOWNleaNruS9k+WkjeWItueahOaXtuWAme+8jOWIoOmZpFRhYmxlTmFtZeWxnuaAp1xuICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkobmV3Q29udHJvbCwgJ1RhYmxlTmFtZScpXG4gICAgY29uc3QgbmV3RW50aXR5ID0gcHJvZHVjZShFbnRpdHlEYXRhLCAoZHJhZnQpID0+IHtcbiAgICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkoZHJhZnQsICdUYWJsZU5hbWUnKVxuICAgIH0pXG4gICAgUmVmbGVjdC5zZXQobmV3Q29udHJvbCwgJ0VudGl0eURhdGEnLCBuZXdFbnRpdHkpXG4gIH1cblxuICBpZihpc0dyb3VwQ29udGFpbmVyKF9UeXBlXykpIHtcbiAgICBpZihOdW1iZXIobmV3Q29udHJvbC5Hcm91cEluZGV4KSA+IDApIHtcbiAgICAgIG5ld0NvbnRyb2wuR3JvdXBJbmRleCA9IE51bWJlcihuZXdDb250cm9sLkdyb3VwSW5kZXgpICsgMVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdDb250cm9sLkdyb3VwUGFyZW50SWQgPSBjcmVhdGVVVWlkKClcbiAgICAgIG5ld0NvbnRyb2wuR3JvdXBJbmRleCA9IDBcbiAgICB9XG4gIH1cbiAgaWYgKG5ld0NvbnRyb2wuSW5oZXJpdCkge1xuICAgIG5ld0NvbnRyb2wuSW5oZXJpdCA9IGZhbHNlXG4gIH1cblxuICAvLyDmjpLpmaTlpI3liLbmn5DkupvlsZ7mgKfvvIjkvovlpoJmaWVsZE5hbWXvvIzlkI7nq6/kvJrmoLnmja7ov5nkuKrmoKHpqozllK/kuIDlgLzvvIlcbiAgcmV0dXJuIGV4Y2x1ZGVDb3B5Q29udHJvbFByb3BzKG5ld0NvbnRyb2wpXG59XG5cbi8vIOmAkuW9kuaLt+i0neaOp+S7tuWPiuWFtuaJgOacieWtkOaOp+S7tlxuZXhwb3J0IGNvbnN0IGNvcHlDb250cm9sUmVjdXJ2ZSA9ICh1aURhdGE6IGFueSwgY29udHJvbERhdGE6IElDb250cm9sSXRlbSwgcGFyZW50SWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCB7IElkOiBpdGVtSWQgfSA9IGNvbnRyb2xEYXRhXG4gIGNvbnN0IG5ld0NvbnRyb2wgPSBjb3B5Q29udHJvbChjb250cm9sRGF0YSwgcGFyZW50SWQpXG4gIGNvbnN0IGNoaWxkcmVucyA9IHVpRGF0YVtJVEVNU10uZmlsdGVyKChpdGVtOiBJQ29udHJvbEl0ZW0pID0+IHtcbiAgICByZXR1cm4gaXRlbVtQQVJFTlRJRF0gPT09IGl0ZW1JZFxuICB9KVxuICByZXR1cm4gW25ld0NvbnRyb2xdLmNvbmNhdChmbGF0dGVuRGVlcChjaGlsZHJlbnMubWFwKChpdGVtOiBJQ29udHJvbEl0ZW0pID0+IGNvcHlDb250cm9sUmVjdXJ2ZSh1aURhdGEsIGl0ZW0sIG5ld0NvbnRyb2xbSURdKSkpKVxufVxuXG4vLyDlj6ror7tcbmV4cG9ydCBjb25zdCBpc1JlYWRvbmx5ID0gKHN0YXR1czogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBzdGF0dXMgPT09IFRFWFRfU1RBVFVTX0VOVU0uUkVBRE9OTFlcbn1cblxuLy8g6ZqQ6JePXG5leHBvcnQgY29uc3QgaXNIaWRkZW4gPSAoc3RhdHVzOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHN0YXR1cyA9PT0gVEVYVF9TVEFUVVNfRU5VTS5ISURERU5cbn1cblxuLy8g56aB55SoXG5leHBvcnQgY29uc3QgaXNEaXNhYmxlZCA9IChzdGF0dXM6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gc3RhdHVzID09PSBURVhUX1NUQVRVU19FTlVNLkRJU0FCTEVEXG59XG5cbmV4cG9ydCBjb25zdCBoYXNTZXRGaWVsZFN0YXR1cyA9IChmaWVsZFN0YXR1c0tleTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBbJ2RlZmF1bHQnLCAnaGlkZGVuJywgJ2Rpc2FibGVkJywgJ3JlYWRvbmx5JywgJ211c3RJbnB1dCddLmluY2x1ZGVzKGZpZWxkU3RhdHVzS2V5KVxufVxuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDojrflj5blrZfmrrXmjqfku7blsZ7mgKdcbiAqIEBwYXJhbSBmaWVsZCDlrZfmrrXkv6Hmga9cbiAqIEByZXR1cm5zIOWxnuaAp1xuICovXG5leHBvcnQgY29uc3QgZ2V0RmllbGRQcm9wcyA9IChmaWVsZDogSUNvbnRyb2xJdGVtVXBwZXJjYXNlS2V5LCBvcHRpb25zOiBhbnkpID0+IHtcbiAgY29uc3QgeyBmaWVsZFN0YXR1c01hcCB9ID0gb3B0aW9uc1xuICBjb25zdCB7IEVtcHR5VGV4dCwgTm9Db2RlRGVmVmFsdWUsIFNob3dDbGVhckJ1dHRvbiwgU3RhdHVzLCBNYXhMZW5ndGgsIE1pbkxlbmd0aCwgX1R5cGVfLCBEYXRlUmFuZ2VFbXB0eVRleHQsIERhdGVSYW5nZURlZlZhbHVlLCBLZXkgfSA9IGZpZWxkXG5cbiAgY29uc3QgY29udHJvbFByb3BzOiBhbnkgPSB7XG4gICAgcmVhZE9ubHk6IHRydWUsXG4gICAgZGlzYWJsZWQ6IChpc0Rpc2FibGVkKFN0YXR1cykgJiYgIWhhc1NldEZpZWxkU3RhdHVzKGZpZWxkU3RhdHVzTWFwW0tleV0pKSB8fCBmaWVsZFN0YXR1c01hcFtLZXldID09PSAnZGlzYWJsZWQnXG4gIH1cblxuICAvLyDpu5jorqTlgLxcbiAgaWYgKCFpc1VuZGVmaW5lZChOb0NvZGVEZWZWYWx1ZSkgJiYgIWlzUmVmQmlsbChfVHlwZV8pKSB7XG4gICAgaWYgKGlzRGF0ZShfVHlwZV8pKSB7XG4gICAgICBjb250cm9sUHJvcHMudmFsdWUgPSBOb0NvZGVEZWZWYWx1ZSAmJiBEYXRlLnBhcnNlKE5vQ29kZURlZlZhbHVlKSA/IG5ldyBEYXRlKE5vQ29kZURlZlZhbHVlKSA6IHVuZGVmaW5lZFxuICAgIH0gZWxzZSB7XG4gICAgICBjb250cm9sUHJvcHMudmFsdWUgPSBOb0NvZGVEZWZWYWx1ZVxuICAgIH1cbiAgfVxuXG4gIGlmICghaXNVbmRlZmluZWQoRGF0ZVJhbmdlRGVmVmFsdWUpKSB7XG4gICAgY29udHJvbFByb3BzLnZhbHVlID0gZm9ybWF0UmFuZ2VPYmpUb0RhdGVUeXBlcyhEYXRlUmFuZ2VEZWZWYWx1ZSlcbiAgfVxuXG4gIC8vIOWNoOS9jeaPkOekulxuICBpZiAoIWlzVW5kZWZpbmVkKEVtcHR5VGV4dCkpIHtcbiAgICBjb250cm9sUHJvcHMucGxhY2Vob2xkZXIgPSBFbXB0eVRleHRcbiAgfVxuXG4gIC8vIOaXpeacn+iMg+WbtOWNoOS9jeaPkOekuu+8iOacieS4pOmDqOWIhu+8mnN0YXJ05ZKMZW5k77yJXG4gIGlmIChpc0RhdGVSYW5nZShfVHlwZV8pICYmIERhdGVSYW5nZUVtcHR5VGV4dCkge1xuICAgIGNvbnN0IHsgc3RhcnQ6IHN0YXJ0UGxhY2Vob2xkZXIgPSAnJywgZW5kOiBlbmRQbGFjZWhvbGRlciA9ICcnIH0gPSBEYXRlUmFuZ2VFbXB0eVRleHRcbiAgICBjb250cm9sUHJvcHMucGxhY2Vob2xkZXIgPSBbc3RhcnRQbGFjZWhvbGRlciwgZW5kUGxhY2Vob2xkZXJdXG4gIH1cblxuICAvLyDmuIXpmaTmjInpkq5cbiAgaWYgKCFpc1VuZGVmaW5lZChTaG93Q2xlYXJCdXR0b24pKSB7XG4gICAgY29udHJvbFByb3BzLmFsbG93Q2xlYXIgPSBTaG93Q2xlYXJCdXR0b25cbiAgfVxuXG4gIC8vIOacgOWkp+WAvFxuICBpZiAoIWlzVW5kZWZpbmVkKE1heExlbmd0aCkpIHtcbiAgICBjb250cm9sUHJvcHMubWF4TGVuZ3RoID0gTWF4TGVuZ3RoXG4gIH1cblxuICAvLyDmnIDlsI/lgLxcbiAgaWYgKCFpc1VuZGVmaW5lZChNaW5MZW5ndGgpKSB7XG4gICAgY29udHJvbFByb3BzLm1peExlbmd0aCA9IE1pbkxlbmd0aFxuICB9XG5cbiAgcmV0dXJuIGNvbnRyb2xQcm9wc1xufVxuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDojrflj5bpgInkuK3lgLzvvIjkuIvmi4nvvIzljZXpgInvvIzlpJrpgInvvIlcbiAqIEBwYXJhbSBmaWVsZCDlrZfmrrXkv6Hmga9cbiAqIEByZXR1cm5zIOmAieS4reWAvFxuICovXG5leHBvcnQgY29uc3QgZ2V0U2VsZWN0ZWRWYWx1ZSA9IChmaWVsZCkgPT4ge1xuICBjb25zdCB7IFNlbGVjdEl0ZW1UeXBlLCBDdXN0b21Db250ZW50LCBEZWZWYWx1ZSB9ID0gZmllbGRcblxuICBpZiAoIUFycmF5LmlzQXJyYXkoQ3VzdG9tQ29udGVudCkpIHJldHVybiAnJ1xuXG4gIGlmIChTZWxlY3RJdGVtVHlwZSA9PT0gJzAnKSB7XG4gICAgLy8g5Y2V6YCJXG4gICAgY29uc3QgY3VyU2VsZWN0ZWRPcHRpb24gPSBDdXN0b21Db250ZW50LmZpbmQoaXRlbSA9PiBpdGVtLlZhbHVlID09PSBEZWZWYWx1ZSlcblxuICAgIHJldHVybiBjdXJTZWxlY3RlZE9wdGlvbj8uTGFiZWwgfHwgJydcbiAgfSBlbHNlIGlmIChTZWxlY3RJdGVtVHlwZSA9PT0gJzEnKSB7XG4gICAgLy8g5aSa6YCJXG4gICAgY29uc3QgY3VyU2VsZWN0ZWRMYWJlbExpc3QgPSBbXVxuICAgIGNvbnN0IGN1clNlbGVjdGVkVmFsdWVMaXN0ID0gRGVmVmFsdWUuc3BsaXQoJywnKVxuICAgIEN1c3RvbUNvbnRlbnQuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGlmIChjdXJTZWxlY3RlZFZhbHVlTGlzdD8uaW5jbHVkZXMoaXRlbT8uVmFsdWUpKSB7XG4gICAgICAgIGN1clNlbGVjdGVkTGFiZWxMaXN0LnB1c2goaXRlbS5MYWJlbClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIGN1clNlbGVjdGVkTGFiZWxMaXN0LmpvaW4oJywnKVxuICB9XG5cbiAgcmV0dXJuICcnXG59XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOaYr+WQpuWkmumAiVxuICogQHBhcmFtIHR5cGUg5aSa6YCJ5YC877yIJzEn5Li65aSa6YCJ77yMJzAn5Li65Y2V6YCJ77yJXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgY29uc3QgaXNNdWx0aVNlbGVjdCA9ICh0eXBlOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHRvU3RyaW5nKHR5cGUpID09PSBNVUxUSV9TRUxFQ1Rcbn1cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g6I635Y+W6YCJ5oup57G75Z6LICdDaGVja2JveCcgfCAnUmFkaW8nIHwgJ1NlbGVjdCdcbiAqIEBwYXJhbSBmaWVsZCDmjqfku7blrZfmrrXkv6Hmga9cbiAqIEByZXR1cm5zICdDaGVja2JveCcgfCAnUmFkaW8nIHwgJ1NlbGVjdCdcbiAqL1xuZXhwb3J0IHR5cGUgU2VsZWN0RmllbGRDb250cm9sVHlwZSA9ICdDaGVja2JveCcgfCAnUmFkaW8nIHwgJ1NlbGVjdCdcbmV4cG9ydCBjb25zdCBnZXRTZWxlY3RGaWVsZENvbnRyb2xUeXBlID0gKGZpZWxkOiBhbnkpOiBTZWxlY3RGaWVsZENvbnRyb2xUeXBlID0+IHtcbiAgaWYgKCFmaWVsZCkgcmV0dXJuICdTZWxlY3QnXG5cbiAgY29uc3QgeyBEcm9wRG93bk9yVGlsZVBjLCBTZWxlY3RJdGVtVHlwZSB9ID0gZmllbGRcblxuICAvLyDorr7orqHlmajlkI7nq6/ov5Tlm57mnaXmlbDlrZfnsbvlnovnmoTvvIzlm6DmraTov5nph4zovazkuLrlrZfnrKbkuLLlho3liKTmlq1cbiAgaWYgKHRvU3RyaW5nKERyb3BEb3duT3JUaWxlUGMpID09PSBUSUxFX1NFTEVDVCkge1xuICAgIGlmIChpc011bHRpU2VsZWN0KFNlbGVjdEl0ZW1UeXBlKSkge1xuICAgICAgcmV0dXJuICdDaGVja2JveCdcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdSYWRpbydcbiAgICB9XG4gIH1cblxuICByZXR1cm4gJ1NlbGVjdCdcbn1cblxuaW50ZXJmYWNlIE9wdGlvblVwcGVySXRlbSB7XG4gIExhYmVsPzogc3RyaW5nIHwgbnVtYmVyLFxuICBWYWx1ZT86IHN0cmluZyB8IG51bWJlclxufVxuaW50ZXJmYWNlIE9wdGlvbkxvd2VySXRlbSB7XG4gIGxhYmVsPzogc3RyaW5nIHwgbnVtYmVyLFxuICB2YWx1ZT86IHN0cmluZyB8IG51bWJlclxufVxuLyoqXG4gKiBAZGVzY3JpcHRpb24g6L2s5o2i6YCJ6aG55YaF5a655Li65bCP5YaZ5bGe5oCnXG4gKiBAcGFyYW0gZmllbGQg5a2X5q615L+h5oGvXG4gKiBAcmV0dXJucyDpgInpobnlhoXlrrnvvIjlkITpobnlhoXlrrnlsZ7mgKfovazmjaLkuLrlsI/lhpnlvIDlpLTnmoTvvIlcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFRyYW5zZm9ybU9wdGlvbnMgPSAoZmllbGQ6IGFueSk6IE9wdGlvbkxvd2VySXRlbVtdID0+IHtcbiAgY29uc3QgeyBDdXN0b21Db250ZW50IH0gPSBmaWVsZFxuXG4gIGlmICghQ3VzdG9tQ29udGVudCkgcmV0dXJuIFtdXG5cbiAgY29uc3Qgb3B0aW9ucyA9IEFycmF5LmlzQXJyYXkoQ3VzdG9tQ29udGVudCkgPyBDdXN0b21Db250ZW50IDogKEN1c3RvbUNvbnRlbnQ/Lm9wcyB8fCBbXSlcbiAgcmV0dXJuIChvcHRpb25zPy5tYXAoKGl0ZW06IE9wdGlvblVwcGVySXRlbSkgPT4gKHtcbiAgICBsYWJlbDogaXRlbT8uW0xBQkVMXSxcbiAgICB2YWx1ZTogaXRlbT8uW1ZBTFVFXSxcbiAgICBjb2xvcjogaXRlbT8uW0JHQ11cbiAgfSkpIHx8IFtdKS5maWx0ZXIoaXRlbSA9PiBpdGVtLmxhYmVsKSB8fCBbXVxufVxuXG4vKipcbiAqIOiOt+WPluaYr+WQpuWxleekuuiDjOaZr1xuICogQHBhcmFtIGZpZWxkIOWtl+auteS/oeaBr1xuICogQHJldHVybnMgYm9vbGVhblxuICovXG5leHBvcnQgY29uc3QgZ2V0VHJhbnNmb3JtQmdjU3dpdGNoID0gKGZpZWxkOiBhbnkpOiBib29sZWFuID0+IHtcbiAgY29uc3QgeyBDdXN0b21Db250ZW50IH0gPSBmaWVsZFxuXG4gIGlmICghQ3VzdG9tQ29udGVudCkgcmV0dXJuIGZhbHNlXG5cbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoQ3VzdG9tQ29udGVudCkgPyBmYWxzZSA6IEN1c3RvbUNvbnRlbnQ/LmJnY1N3aXRjaFxufVxuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDmoLnmja7liIbpmpTnrKbovazmjaLlgLzkuLrmlbDnu4RcbiAqIEBwYXJhbSB2YWx1ZSDlgLxcbiAqIEBwYXJhbSBzZXBhcmF0b3Ig5YiG6ZqU56ym77yM6buY6K6kJywnXG4gKiBAcmV0dXJucyDpgInpobnlhoXlrrnvvIjlkITpobnlhoXlrrnlsZ7mgKfovazmjaLkuLrlsI/lhpnlvIDlpLTnmoTvvIlcbiAqL1xuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybVZhbHVlVG9BcnJheSA9ICh2YWx1ZTogc3RyaW5nLCBzZXBhcmF0b3I6IHN0cmluZyA9ICcsJyk6IHN0cmluZ1tdID0+IHtcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIFtdXG4gIHJldHVybiB2YWx1ZT8uc3BsaXQoc2VwYXJhdG9yIHx8ICcsJylcbn1cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24g6I635Y+W6L2s5o2i5ZCO55qE6buY6K6k5YC8XG4gKiBAcGFyYW0gZmllbGQg5a2X5q615L+h5oGvXG4gKiBAcmV0dXJucyDpu5jorqTlgLxcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFRyYW5zZm9ybURlZlZhbHVlID0gKGZpZWxkOiBhbnkpOiBzdHJpbmdbXSB8IHN0cmluZyA9PiB7XG4gIGNvbnN0IHsgU2VsZWN0SXRlbVR5cGUsIE5vQ29kZURlZlZhbHVlIH0gPSBmaWVsZFxuXG4gIGlmIChpc011bHRpU2VsZWN0KFNlbGVjdEl0ZW1UeXBlKSkge1xuICAgIC8vIOaaguaXtuazqOaOie+8jOm7mOiupOWAvOaUuemAoOS5i+WQju+8jOiyjOS8vOS4jemcgOimgeaYvuekuuWcqOeUu+W4g+S4ilxuICAgIHJldHVybiB0cmFuc2Zvcm1WYWx1ZVRvQXJyYXkoTm9Db2RlRGVmVmFsdWUsICcsJylcbiAgfVxuXG4gIHJldHVybiBOb0NvZGVEZWZWYWx1ZVxufVxuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiDmmK/lkKblnoLnm7TmqKHlvI9cbiAqIEBwYXJhbSB0eXBlICcwJyB8ICcxJ1xuICovXG5leHBvcnQgY29uc3QgaXNWZXJ0aWNhbCA9IChtb2RlPzogc3RyaW5nKSA9PiB7XG4gIGlmKG1vZGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlXG5cbiAgLy8gbW9kZeWQjuerr+i/lOWbnuadpeeahOaYr+aVsOWtlzDvvIzkvYbmmK/liY3nq6/nu5nlkI7nq6/kvKDov4fljrvnmoTml7blgJnljrvlrZfnrKbkuLIw77yM6L+Z6YeM6Z2i5YW85a65XG4gIHJldHVybiArbW9kZSA9PT0gMFxufVxuXG5leHBvcnQgY29uc3QgZ2V0TWV0YUdyb3VwUHJvcGVydGllc0J5S2V5cyA9IChwcm9wZXJ0eUdyb3VwczogYW55W10sIGtleXM6IHN0cmluZ1tdLCBjYWxsYmFjazogKG5vZGU6IGFueSkgPT4gYm9vbGVhbikgPT4ge1xuICBjb25zdCBwcm9wZXJ0aWVzID0gW11cbiAgZm9yIChjb25zdCBncm91cCBvZiBwcm9wZXJ0eUdyb3Vwcykge1xuICAgIGNvbnN0IHsgTm9kZXM6IG5vZGVzID0gW10sIEtleTogZ3JvdXBLZXkgfSA9IGdyb3VwXG4gICAgaWYgKGtleXMubGVuZ3RoID09PSAwIHx8IGtleXMuaW5jbHVkZXMoZ3JvdXBLZXkpKSB7XG4gICAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZXMpIHtcbiAgICAgICAgaWYgKG5vZGUuVmlzaWJsZSAhPT0gZmFsc2UgJiYgY2FsbGJhY2sobm9kZSkpIHtcbiAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2gobm9kZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvcGVydGllc1xufVxuXG5jb25zdCBnZXREZWZhdWx0U3lzU2V0dGluZyA9IChtZXRhOiBhbnkpID0+IHtcbiAgY29uc3QgeyBDYXRlZ29yaWVzID0gW10gfSA9IG1ldGFcbiAgY29uc3Qgc3lzdGVtQ2F0ZWdvcmllcyA9IENhdGVnb3JpZXMuZmlsdGVyKChjYXRlZ29yeTogYW55KSA9PiBjYXRlZ29yeT8uSWQ/LnN0YXJ0c1dpdGgoU1lTX0NBVEVHT1JZX1BSRUZJWCkpXG4gIHJldHVybiBzeXN0ZW1DYXRlZ29yaWVzLnJlZHVjZSgoc2V0dGluZzogYW55LCBjYXRlZ29yeTogYW55KSA9PiB7XG4gICAgY29uc3QgeyBJZCB9ID0gY2F0ZWdvcnlcbiAgICBzZXR0aW5nW0lkXSA9IGZhbHNlXG4gICAgcmV0dXJuIHNldHRpbmdcbiAgfSwge30pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRJbml0aWFsU3lzU2V0dGluZyA9IChkYXRhOiBhbnksIG1ldGE6IGFueSkgPT4ge1xuICBjb25zdCB7IGZvcm1tZXRhIH0gPSBkYXRhXG4gIGNvbnN0IHN5c1NldHRpbmdKc29uID0gZm9ybW1ldGE/Lkl0ZW1zPy5bMF0/LlN5c1NldHRpbmdcbiAgcmV0dXJuIHN5c1NldHRpbmdKc29uID8gSlNPTi5wYXJzZShzeXNTZXR0aW5nSnNvbikgOiBnZXREZWZhdWx0U3lzU2V0dGluZyhtZXRhKVxufVxuXG5leHBvcnQgY29uc3QgZ2V0SW5pdGlhbGJpbGxub1NldHRpbmcgPSAoZGF0YTogYW55KSA9PiB7XG4gIGNvbnN0IHsgZm9ybW1ldGEgfSA9IGRhdGFcbiAgY29uc3QgYmlsbG5vU2V0dGluZ0pzb24gPSBmb3JtbWV0YT8uSXRlbXM/LlswXT8uQmlsbE5vU2V0dGluZ1xuICByZXR1cm4gYmlsbG5vU2V0dGluZ0pzb24gPyBKU09OLnBhcnNlKGJpbGxub1NldHRpbmdKc29uKSA6IHt9XG59XG5cbmV4cG9ydCBjb25zdCBnZXREYXRhUHJvcGVydHlCeUtleSA9IChkYXRhOiBhbnksIGtleTogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBkYXRhPy5ba2V5XVxufVxuXG5leHBvcnQgY29uc3QgZGF0ZUZvcm1hdGUgPSAoZGF0ZTogRGF0ZSwgZm10OiBzdHJpbmcpID0+IHtcbiAgY29uc3QgbyA9IHtcbiAgICAnTSsnOiBkYXRlLmdldE1vbnRoKCkgKyAxLCAvLyDmnIjku71cbiAgICAnZCsnOiBkYXRlLmdldERhdGUoKSwgLy8g5pelXG4gICAgJ2grJzogZGF0ZS5nZXRIb3VycygpLCAvLyDlsI/ml7ZcbiAgICAnbSsnOiBkYXRlLmdldE1pbnV0ZXMoKSwgLy8g5YiGXG4gICAgJ3MrJzogZGF0ZS5nZXRTZWNvbmRzKCksIC8vIOenklxuICAgICdxKyc6IE1hdGguZmxvb3IoKGRhdGUuZ2V0TW9udGgoKSArIDMpIC8gMyksIC8vIOWto+W6plxuICAgIFM6IGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgLy8g5q+r56eSXG4gIH1cbiAgaWYgKC8oeSspLy50ZXN0KGZtdCkpIHsgZm10ID0gZm10LnJlcGxhY2UoUmVnRXhwLiQxLCAoZGF0ZS5nZXRGdWxsWWVhcigpICsgJycpLnN1YnN0cig0IC0gUmVnRXhwLiQxLmxlbmd0aCkpIH1cbiAgZm9yIChjb25zdCBrIGluIG8pIHsgaWYgKG5ldyBSZWdFeHAoJygnICsgayArICcpJykudGVzdChmbXQpKSBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsIChSZWdFeHAuJDEubGVuZ3RoID09PSAxKSA/IChvW2tdKSA6ICgoJzAwJyArIG9ba10pLnN1YnN0cigoJycgKyBvW2tdKS5sZW5ndGgpKSkgfVxuICByZXR1cm4gZm10XG59XG5cbmV4cG9ydCBjb25zdCBnZXRSYW5kb21OdW0gPSAobnVtOiBudW1iZXIpID0+IHtcbiAgY29uc3QgcmFuZG9tQXJyID0gW11cbiAgd2hpbGUgKHJhbmRvbUFyci5sZW5ndGggPCBudW0pIHtcbiAgICByYW5kb21BcnIucHVzaChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkpXG4gIH1cbiAgcmV0dXJuIHJhbmRvbUFyci5qb2luKCcnKVxufVxuXG4vKipcbiAqIOaYr+WIhue7hOWuueWZqFxuICogQHBhcmFtIHR5cGUg5o6n5Lu257G75Z6LXG4gKi9cbmV4cG9ydCBjb25zdCBpc0dyb3VwQ29udGFpbmVyID0gKHR5cGUpID0+IHtcbiAgcmV0dXJuIHR5cGUgPT09IE5PQ09ERV9HUk9VUF9DT05UQUlORVJfQVBcbn1cblxuLyoqXG4gKiDml6fnmoTliIbnu4TlrrnlmahcbiAqL1xuIGV4cG9ydCBjb25zdCBpc09sZEdyb3VwQ29udGFpbmVyQ29udHJvbCA9IChpdGVtOiBhbnkpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIGl0ZW0uX1R5cGVfID09PSBOT0NPREVfR1JPVVBfQ09OVEFJTkVSX0FQICYmICFpdGVtLkdyb3VwUGFyZW50SWQgJiYgIWl0ZW0uR3JvdXBJbmRleCAmJiAhaXRlbS5pc1RhYlxufVxuXG4vKipcbiAqIOaXp+eahOWIhue7hOWuueWZqFxuICovXG4gZXhwb3J0IGNvbnN0IGlzT2xkU3ViR3JvdXBDb250YWluZXJDb250cm9sID0gKGl0ZW06IGFueSk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gaXRlbS5fVHlwZV8gPT09IE5PQ09ERV9HUk9VUF9DT05UQUlORVJfQVAgJiYgIWl0ZW0uR3JvdXBQYXJlbnRJZCAmJiAhaXRlbS5Hcm91cEluZGV4ICYmIGl0ZW0uaXNUYWJcbn1cblxuLyoqXG4gKiAg5YiG5Ymy5Y2D5YiG5L2NXG4gKi9cbmV4cG9ydCBjb25zdCB0aG91c2FuZHNTZXBhcmF0b3JGb3JtYXQgPSAobnVtU3RyOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgYXJyID0gbnVtU3RyLnNwbGl0KCcuJylcbiAgY29uc3QgcmVnID0gL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2dcbiAgaWYgKGFyci5sZW5ndGggPT09IDIpIHtcbiAgICBjb25zdCBbdjEsIHYyXSA9IGFyclxuICAgIHJldHVybiBgJHt2MS5yZXBsYWNlKHJlZywgJywnKX0uJHt2Mn1gXG4gIH1cbiAgcmV0dXJuIGFyclswXS5yZXBsYWNlKHJlZywgJywnKVxufVxuXG5leHBvcnQgY29uc3QgS0RfREFUQV9DRU5URVIgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoPy5tYXRjaCgvKF58JnxcXD8pa2RjZGM9KFteJl0qKSgmfCQpL2kpPy5bMl0gLy8g5pWw5o2u5Lit5b+DXG5cbi8vIOe7mVVSTOaLvOS4iuaVsOaNruS4reW/g+WQjue8gFxuZXhwb3J0IGNvbnN0IGdldFVybFdpdGhEYXRhQ2VudGVyID0gKHVybDpzdHJpbmcpID0+IHtcbiAgaWYgKCF1cmwpIHJldHVybiAnJ1xuICBpZiAoIXVybC5pbmNsdWRlcygna2RjZGMnKSAmJiBLRF9EQVRBX0NFTlRFUikge1xuICAgIGNvbnN0IHN0ciA9IHVybC5pbmNsdWRlcygnPycpID8gJyYnIDogJz8nXG4gICAgcmV0dXJuIHVybCArIHN0ciArICdrZGNkYz0nICsgS0RfREFUQV9DRU5URVJcbiAgfVxuICByZXR1cm4gdXJsXG59XG5cbmV4cG9ydCBjb25zdCBnZXRGdWxsVXJsID0gKHBhdGg6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIHJldHVybiB3aW5kb3cuX19kb21haW51cmxfXyArIHBhdGhcbn1cblxuZXhwb3J0IGNvbnN0IGdldEZ1bGxJbWFnZVVybCA9IChwYXRoOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBpZiAoIXBhdGgpIHJldHVyblxuXG4gIHJldHVybiB3aW5kb3cuX19kb21haW51cmxfXyArIChwYXRoWzBdID09PSAnLycgPyBwYXRoLnNsaWNlKDEpIDogcGF0aClcbn1cblxuZXhwb3J0IGNvbnN0IGdldEJhY2tJbWFnZVVybCA9IChwcmVmaXg6IHN0cmluZywgcGF0aDogc3RyaW5nKSA9PiB7XG4gIGlmICghcGF0aCkgcmV0dXJuIHBhdGhcblxuICBpZiAocGF0aC5pbmRleE9mKCdiYWNrZ3JvdW5kJykgPiAtMSkge1xuICAgIHJldHVybiBnZXRGdWxsSW1hZ2VVcmwocGF0aClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcHJlZml4ICsgcGF0aFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRSZXNpemVPYnNlcnZlKGVsZW1lbnQsIGNhbGxiYWNrKSB7XG4gIGNvbnN0IGhhbmRsZVJlc2l6ZSA9IChlbnRyaWVzKSA9PiB7XG4gICAgY29uc3QgZW50cnkgPSBlbnRyaWVzWzBdXG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBlbnRyeS5jb250ZW50UmVjdFxuICAgIGNvbnN0IGhpZGUgPSB3aWR0aCA9PT0gMCAmJiBoZWlnaHQgPT09IDBcbiAgICBjb25zdCByZWN0ID0geyBoaWRlLCB3aWR0aCwgaGVpZ2h0IH1cbiAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZWN0KVxuICB9XG4gIGxldCB3YXRjaGVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGhhbmRsZVJlc2l6ZSlcbiAgd2F0Y2hlci5vYnNlcnZlKGVsZW1lbnQpXG4gIHJldHVybiB7XG4gICAgcmVtb3ZlUmVzaXplT2JzZXJ2ZTogZnVuY3Rpb24gKCkge1xuICAgICAgd2F0Y2hlci5kaXNjb25uZWN0KGVsZW1lbnQpXG4gICAgICB3YXRjaGVyID0gbnVsbFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgdHJhbmZvcm1DaGlsZHJlbiA9IChjaGlsZHJlbiwgZ2V0Q29udHJvbE5hbWUpID0+IHtcbiAgcmV0dXJuIGNoaWxkcmVuPy5tYXAoaXRlbSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtleTogaXRlbS5LZXksXG4gICAgICB0aXRsZTogYFske2dldENvbnRyb2xOYW1lKGl0ZW0uVHlwZSl9XSR7aXRlbS5OYW1lfWBcbiAgICB9XG4gIH0pXG59XG5leHBvcnQgY29uc3QgZ2V0RmllbGRUcmVlQnlNZXRhID0gKG1ldGEsIGdldENvbnRyb2xOYW1lKSA9PiB7XG4gIGNvbnN0IGV4Y2VwdEZpZWxkTGlzdCA9IFsnTm9Db2RlR3JvdXBDb250YWluZXJBcCddXG4gIGNvbnN0IHJvb3ROb2RlID0gbWV0YT8uZW50aXR5dHJlZVxuICByZXR1cm4gW3tcbiAgICBrZXk6IHJvb3ROb2RlLktleSxcbiAgICB0aXRsZTogcm9vdE5vZGUuTmFtZSxcbiAgICBjaGlsZHJlbjogdHJhbmZvcm1DaGlsZHJlbihyb290Tm9kZS5JdGVtcywgZ2V0Q29udHJvbE5hbWUpXG4gIH1dXG59XG5leHBvcnQgY29uc3QgaXNTdHJpbmcgPSAob2JqKSA9PiB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJ1xufVxuXG5leHBvcnQgY29uc3QgaXNKc29uID0gKHN0cjogYW55KSA9PiB7XG4gIGlmICh0eXBlb2Ygc3RyID09ICdzdHJpbmcnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBvYmogPSBKU09OLnBhcnNlKHN0cik7XG4gICAgICBpZiAodHlwZW9mIG9iaiA9PSAnb2JqZWN0JyAmJiBvYmopIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coJ2Vycm9y77yaJyArIHN0ciArICchISEnICsgZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXREZWZWYWx1ZSA9IChkZWZWYWx1ZSkgPT4ge1xuICBpZiAoZGVmVmFsdWUgJiYgaXNKc29uKGRlZlZhbHVlKSkge1xuICAgIGRlZlZhbHVlID0gSlNPTi5wYXJzZShkZWZWYWx1ZSlcbiAgICBpZiAoZGVmVmFsdWUudmFsdWVUeXBlID09PSAwKSB7XG4gICAgICByZXR1cm4gZGVmVmFsdWUudmFsdWUgfHwgJydcbiAgICB9XG4gICAgcmV0dXJuICcnXG4gIH1cbiAgcmV0dXJuIGRlZlZhbHVlXG59XG5cbmV4cG9ydCBjb25zdCBnZXREYXRlUmFuZ2VEZWZWYWx1ZSA9IChkZWZWYWx1ZT86IGFueSkgPT4ge1xuICBpZiAoIWlzVW5kZWZpbmVkKGRlZlZhbHVlKSkge1xuICAgIGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gZGVmVmFsdWVcbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnQ6IGdldERlZlZhbHVlKHN0YXJ0KSxcbiAgICAgIGVuZDogZ2V0RGVmVmFsdWUoZW5kKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgYW5hbHl6ZUpTT04gPSAodmFsdWUpID0+IHtcbiAgcmV0dXJuIGlzSnNvbih2YWx1ZSkgPyBKU09OLnBhcnNlKHZhbHVlKSA6IHt9XG59XG5cbmV4cG9ydCBjb25zdCB0cmFuZm9ybUZpZWxkRGVmVmFsdWUgPSAob3JnaW5GaWVsZCwgRGVmVmFsdWVLZXkgPSAnTm9Db2RlRGVmVmFsdWUnKSA9PiB7XG4gIGxldCBmaWVsZCA9IHsgLi4ub3JnaW5GaWVsZCB9XG4gIGlmIChmaWVsZFtEZWZWYWx1ZUtleV0pIHtcbiAgICBmaWVsZCA9IHtcbiAgICAgIC4uLmZpZWxkLFxuICAgICAgW0RlZlZhbHVlS2V5XTogRGVmVmFsdWVLZXkgPT09ICdEYXRlUmFuZ2VEZWZWYWx1ZScgPyBnZXREYXRlUmFuZ2VEZWZWYWx1ZShmaWVsZFtEZWZWYWx1ZUtleV0pIDogZ2V0RGVmVmFsdWUoZmllbGRbRGVmVmFsdWVLZXldKVxuICAgIH1cbiAgfVxuICBpZiAoZmllbGQuRW50aXR5RGF0YT8uW0RlZlZhbHVlS2V5XSkge1xuICAgIGZpZWxkID0ge1xuICAgICAgLi4uZmllbGQsXG4gICAgICBFbnRpdHlEYXRhOiB7XG4gICAgICAgIC4uLmZpZWxkLkVudGl0eURhdGEsXG4gICAgICAgIFtEZWZWYWx1ZUtleV06IERlZlZhbHVlS2V5ID09PSAnRGF0ZVJhbmdlRGVmVmFsdWUnID8gZ2V0RGF0ZVJhbmdlRGVmVmFsdWUoZmllbGRbRGVmVmFsdWVLZXldKSA6IGdldERlZlZhbHVlKGZpZWxkW0RlZlZhbHVlS2V5XSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZpZWxkXG59XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm1SZWZCaWxsTWV0YSA9IChyZWZCaWxsTWV0YSwgbWV0YUFwaSkgPT4ge1xuICBjb25zdCB7XG4gICAgUHJvcHNEaXNwbGF5LCBEYXRhUmFuZ2U6IGRhdGFSYW5nZSwgQmlsbEVudGl0eUlkRXgsIE11bHRpLFxuICAgIF9UeXBlXywgU3RhdHVzOiBzdGF0dXMsIE11c3RJbnB1dDogbXVzdElucHV0LCBFbXB0eVRleHQ6IHBsYWNlaG9sZGVyLFxuICAgIEtleToga2V5LCBOYW1lOiBuYW1lLCBEZWZhdWx0RGlzcGxheTogZGVmYXVsdERpc3BsYXksIElkOiBpZCwgRmllbGRUeXBlXG4gIH0gPSByZWZCaWxsTWV0YVxuICBjb25zdCBkaXNhYmxlZCA9IGZhbHNlXG4gIGNvbnN0IHJlYWRvbmx5ID0gZmFsc2VcbiAgY29uc3QgaGlkZGVuID0gZmFsc2VcbiAgY29uc3QgaXNNdWx0aSA9IHBhcnNlSW50KE11bHRpKSA9PT0gMVxuICBjb25zdCBlbnRpdHlJZCA9IGlzU3lzUmVmQmlsbChfVHlwZV8pID8gJ2Jvc191c2VyJyA6IChCaWxsRW50aXR5SWRFeCB8fCBtZXRhQXBpLmdldENvbnRyb2xQcm9wZXJ0eURlZmF1bHRWYWx1ZShGaWVsZFR5cGUsICdCaWxsRW50aXR5SWRFeCcpKVxuICBjb25zdCBkaXNwbGF5UHJvcCA9IFByb3BzRGlzcGxheSB8fCBtZXRhQXBpLmdldENvbnRyb2xQcm9wZXJ0eURlZmF1bHRWYWx1ZShGaWVsZFR5cGUsICdQcm9wc0Rpc3BsYXknKVxuICBjb25zdCBmaWVsZFR5cGUgPSAoaXNSZWZCaWxsKF9UeXBlXykgfHwgaXNSZWZCaWxsVGFibGUoX1R5cGVfKSkgPyAnTm9Db2RlTXVsUmVmQmlsbEZpZWxkJyA6IF9UeXBlX1xuICByZXR1cm4ge1xuICAgIGRpc3BsYXlQcm9wLCBkYXRhUmFuZ2UsIGlzTXVsdGksIGVudGl0eUlkLCB0eXBlOiBmaWVsZFR5cGUudG9Mb3dlckNhc2UoKSwgaWQsXG4gICAgYWxsb3dDbGVhcjogdHJ1ZSwgbXVzdElucHV0LCBrZXksIG5hbWUsIGRlZmF1bHREaXNwbGF5LCBzaG93U2VsZWN0ZWQ6IHRydWUsXG4gICAgZGlzYWJsZWQsIHJlYWRvbmx5LCBoaWRkZW5cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0RmllbGRDb21wYXJlVHlwZSA9ICh7XG4gIGNvbXBhcmVUeXBlc01hcCxcbiAgdHlwZSxcbiAgZW50aXR5SWRcbn06IGFueSkgPT4ge1xuICBsZXQgY29tcGFyZVR5cGVzOiBhbnkgPSBjb21wYXJlVHlwZXNNYXBbdHlwZV0gfHwgW11cbiAgaWYgKGVudGl0eUlkID09PSAnYm9zX3VzZXInKSB7XG4gICAgLy8g5Lq65ZGY55u05o6l5Y+W44CQ5Yib5bu65Lq644CR55qEXG4gICAgY29tcGFyZVR5cGVzID0gJ25vY29kZWNyZWF0b3JmaWVsZCdcbiAgfSBlbHNlIGlmIChlbnRpdHlJZCA9PT0gJ2Jvc19hZG1pbm9yZycpIHtcbiAgICBjb21wYXJlVHlwZXMgPSAnb3JnZmllbGQnXG4gIH1cbiAgaWYgKHR5cGVvZiBjb21wYXJlVHlwZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgLy8g57uT5p6c5aaC5p6c5piv5a2X56ym5LiyKOWmgnRleHTvvJpub2RldGV4dGZpZWxkKe+8jOWGjeS6jOasoei9rOS4gOS4i1xuICAgIGNvbXBhcmVUeXBlcyA9IGNvbXBhcmVUeXBlc01hcFtjb21wYXJlVHlwZXNdXG4gIH1cbiAgcmV0dXJuIGNvbXBhcmVUeXBlc1xufVxuXG5leHBvcnQgY29uc3QgZ2V0RmllbGREYXRhTGlzdCA9IChkYXRhQXBpLCBtZXRhQXBpLCBpc0NhblJhbmdlPXRydWUpID0+IHtcbiAgaWYgKCFkYXRhQXBpIHx8ICFtZXRhQXBpKSByZXR1cm4gW11cblxuICBjb25zdCBvcHRpb25zID0gZGF0YUFwaS5maW5kQ29udHJvbEJ5Q29uZGl0aW9uKChpdGVtOiBhbnkpID0+IHtcbiAgICBjb25zdCB7IF9UeXBlXzogY29udHJvbFR5cGUsIFBhcmVudElkLCBCaWxsRW50aXR5SWQsIEJpbGxFbnRpdHlJZEV4IH0gPSBpdGVtXG4gICAgY29uc3QgeyBfVHlwZV86IHBhcmVudENvbnRyb2xUeXBlIH0gPSBQYXJlbnRJZCA/IChkYXRhQXBpLmZpbmRDb250cm9sKFBhcmVudElkKSB8fCB7fSkgOiB7fVxuICAgIHJldHVybiAhaXNSZWZCaWxsVGFibGUocGFyZW50Q29udHJvbFR5cGUpICYmXG4gICAgICAhRVhDTFVERV9DT01QQVJFX0ZJRUxEX0xJU1QuaW5jbHVkZXMoY29udHJvbFR5cGUpICYmXG4gICAgICAhKChjb250cm9sVHlwZSA9PT0gJ05vQ29kZU11bFJlZkJpbGxGaWVsZCcgfHwgY29udHJvbFR5cGUgPT09ICdOb0NvZGVSZWZCaWxsRmllbGQnIHx8IGlzUmVmQmlsbFRhYmxlKGNvbnRyb2xUeXBlKSkgJiYgQmlsbEVudGl0eUlkRXggPT09IHVuZGVmaW5lZClcbiAgfSkucmVkdWNlKChhbGxPcHM6IGFueVtdLCBpdGVtOiBhbnkpID0+IHtcbiAgICBjb25zdCBvdGhlck9wdGlvbnM6IGFueVtdID0gW11cbiAgICBsZXQgeyBfVHlwZV86IGNvbnRyb2xUeXBlLCBLZXk6IGNvbnRyb2xLZXksIE5hbWU6IGNvbnRyb2xOYW1lLCBGb3JtYXRUeXBlOiBmb3JtYXRUeXBlLCBTZWxlY3RJdGVtVHlwZSwgTXVsdGkgfSA9IGl0ZW1cbiAgICBjb25zdCBmaWVsZFR5cGUgPSAoaXNSZWZCaWxsKGNvbnRyb2xUeXBlKSB8fCBpc1JlZkJpbGxUYWJsZShjb250cm9sVHlwZSkpID8gJ05vQ29kZU11bFJlZkJpbGxGaWVsZCcgOiBjb250cm9sVHlwZVxuICAgIGNvbnN0IGZpZWxkVHlwZUxvd2VyQ2FzZSA9IGZpZWxkVHlwZT8udG9Mb3dlckNhc2UoKVxuICAgIC8vIOWIm+W7uuaXpeacn+S/ruaUueaXpeacn+m7mOiupOaYvuekuuagvOW8j+aYryAnMCdcbiAgICBpZiAoKGlzQ3JlYXRlRGF0ZUZpZWxkKGNvbnRyb2xUeXBlKSB8fCBpc01vZGlmeURhdGVGaWVsZChjb250cm9sVHlwZSkpICYmICFmb3JtYXRUeXBlKSB7XG4gICAgICBmb3JtYXRUeXBlID0gJzAnXG4gICAgfVxuICAgIGlmIChpc0RhdGVSYW5nZShjb250cm9sVHlwZSkgJiYgaXNDYW5SYW5nZSkge1xuICAgICAgLy8g5pel5pyf6IyD5Zu06ZyA6KaB5ouG5YiG5oiQ4oCY5byA5aeL5pel5pyf4oCZ5ZKM4oCY57uT5p2f5pel5pyf4oCZ5Lik5Liq5a2X5q61XG4gICAgICBjb25zdCBvcHMgPSBbXG4gICAgICAgIHsgZmllbGRDYXB0aW9uOiBgJHtjb250cm9sTmFtZX0u5byA5aeLYCwgZmllbGROYW1lOiBgJHtjb250cm9sS2V5fV9zdGFydGRhdGVgLCBmb3JtYXRUeXBlLCB0eXBlOiAnbm9jb2RlZGF0ZWZpZWxkJyB9LFxuICAgICAgICB7IGZpZWxkQ2FwdGlvbjogYCR7Y29udHJvbE5hbWV9Lue7k+adn2AsIGZpZWxkTmFtZTogYCR7Y29udHJvbEtleX1fZW5kZGF0ZWAsIGZvcm1hdFR5cGUsIHR5cGU6ICdub2NvZGVkYXRlZmllbGQnIH1cbiAgICAgIF1cbiAgICAgIHJldHVybiBhbGxPcHMuY29uY2F0KG9wcylcbiAgICB9XG4gICAgbGV0IG90aGVyID0ge31cbiAgICBpZiAoaXNSZWZCaWxsKGNvbnRyb2xUeXBlKSB8fCBpc1N5c1JlZkJpbGwoY29udHJvbFR5cGUpIHx8IGlzUmVmQmlsbFRhYmxlKGNvbnRyb2xUeXBlKSkge1xuICAgICAgLy8g6YCC6YWN6YCJ6aG577yM5aaC5p6c5piv5paw5re75Yqg55qE5a2X5q6177yM6YCJ6aG555qEaXRlbXPlvpfoh6rlt7HmoLnmja7lhYPmlbDmja7mnoTpgKBcbiAgICAgIG90aGVyID0gdHJhbnNmb3JtUmVmQmlsbE1ldGEoaXRlbSwgbWV0YUFwaSlcbiAgICB9IGVsc2UgaWYgKGlzSW1hZ2VGaWVsZChjb250cm9sVHlwZSkpIHtcbiAgICAgIGNvbnN0IHBpY3R1cmVUeXBlID0gbWV0YUFwaS5nZXRDb250cm9sTWV0YUVkaXRvcihjb250cm9sVHlwZSwgJ0ltYWdlRmlsZVR5cGUnKS5FbnVtIC8vIOWbvueJh+exu+Wei+WIl+ihqFxuICAgICAgY29uc3QgcGljdHVyZURlZmF1bHRTaXplID0gbWV0YUFwaS5nZXRDb250cm9sUHJvcGVydHlEZWZhdWx0VmFsdWUoY29udHJvbFR5cGUsICdGaWxlTWF4U2l6ZScpIC8vIOm7mOiupOWbvueJh+Wkp+Wwj1xuICAgICAgY29uc3QgcGljdHVyZURlZmF1bHRUeXBlID0gbWV0YUFwaS5nZXRDb250cm9sUHJvcGVydHlEZWZhdWx0VmFsdWUoY29udHJvbFR5cGUsICdJbWFnZUZpbGVUeXBlJykgLy8g6buY6K6k5Zu+54mH57G75Z6LXG4gICAgICBjb25zdCB0eXBlID0gaXRlbT8uRW50aXR5RGF0YT8uSW1hZ2VGaWxlVHlwZSB8fCBwaWN0dXJlRGVmYXVsdFR5cGUgLy8g57G75Z6L77yM5LyY5YWI5L2/55So55So5oi36YCJ5oup55qE57G75Z6LXG4gICAgICBjb25zdCB0eXBlQXJyID0gdHlwZS5zcGxpdCgnLCcpLm1hcCgoaXRlbTogYW55KSA9PiBwaWN0dXJlVHlwZS5maWx0ZXIoKGk6IGFueSkgPT4gaS5JZCA9PT0gaXRlbSlbMF0uTmFtZSlcbiAgICAgIG90aGVyID0geyBVcGxvYWROdW06IGl0ZW0/LkVudGl0eURhdGE/LlVwbG9hZE51bSB8fCB7IG1heDogOSwgbWluOiAwIH0sIEZpbGVNYXhTaXplOiBpdGVtLkZpbGVNYXhTaXplIHx8IHBpY3R1cmVEZWZhdWx0U2l6ZSwgdHlwZUFycjogdHlwZUFyciB9XG4gICAgfSBlbHNlIGlmIChpc0F0dGFjaG1lbnRGaWVsZChjb250cm9sVHlwZSkpIHtcbiAgICAgIGNvbnN0IGF0dGFjaG1lbnREZWZhdWx0VHlwZSA9IG1ldGFBcGkuZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlKGNvbnRyb2xUeXBlLCAnQXR0YWNobWVudEZpbGVUeXBlJykgLy8g6buY6K6k5Zu+54mH57G75Z6LXG4gICAgICBjb25zdCBmaWxlTWF4U2l6ZURlZiA9IG1ldGFBcGkuZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlKGNvbnRyb2xUeXBlLCAnRmlsZU1heFNpemUnKSAvLyDpu5jorqTlm77niYflpKflsI9cbiAgICAgIGNvbnN0IGZpbGVUeXBlID0gaXRlbT8uRW50aXR5RGF0YT8uQXR0YWNobWVudEZpbGVUeXBlIHx8IGF0dGFjaG1lbnREZWZhdWx0VHlwZSAvLyDmlK/mjIHnmoTmlofku7bnsbvlnoss6ZyA6KaB5Yik56m6XG4gICAgICBvdGhlciA9IHsgVXBsb2FkTnVtOiBpdGVtPy5FbnRpdHlEYXRhPy5VcGxvYWROdW0gfHwgeyBtYXg6IDksIG1pbjogMCB9LCBtYXhTaXplOiBpdGVtLkZpbGVNYXhTaXplIHx8IGZpbGVNYXhTaXplRGVmLCBmaWxlVHlwZTogZmlsZVR5cGUgfVxuICAgIH1cblxuICAgIGNvbnN0IGl0ZW1zID0gaXRlbS5DdXN0b21Db250ZW50XG4gICAgICA/IGl0ZW0uQ3VzdG9tQ29udGVudC5vcHM/Lm1hcCgob3ApID0+IHtcbiAgICAgICAgY29uc3QgeyBMYWJlbCwgVmFsdWUsIEJnYyB9ID0gb3BcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiB7IHpoX0NOOiBMYWJlbCB9LFxuICAgICAgICAgIHZhbHVlOiBWYWx1ZSxcbiAgICAgICAgICBiZ2M6IEJnY1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgOiB1bmRlZmluZWRcbiAgICByZXR1cm4gYWxsT3BzLmNvbmNhdCh7IGZpZWxkQ2FwdGlvbjogY29udHJvbE5hbWUsIGZpZWxkTmFtZTogY29udHJvbEtleSwgdHlwZTogZmllbGRUeXBlTG93ZXJDYXNlLCBpc011bHRpOiAoU2VsZWN0SXRlbVR5cGUgPT09IDEgfHwgTXVsdGkgPT09IDEpLCBpdGVtcywgZm9ybWF0VHlwZSwgLi4ub3RoZXIgfSlcbiAgfSwgW10pXG4gIHJldHVybiBvcHRpb25zXG59XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm1GaWVsZFR5cGUgPSAodHlwZTogc3RyaW5nKSA9PiB7XG4gIHJldHVybiB0eXBlPy5zcGxpdCgnLScpWzBdXG59XG5cbmNvbnN0IGdldFJlZlNlbGZDaGlsZCA9IChkYXRhLCBwYXJlbnRLZXksIGxpbWl0RGVwdGgpID0+IHtcbiAgcmV0dXJuIChkYXRhIHx8IFtdKS5yZWR1Y2UoKHRyZWVEYXRhOiBhbnlbXSwgaXRlbTogYW55KSA9PiB7XG4gICAgY29uc3QgeyBpZCwgb3B0aW9uID0ge30gfSA9IGl0ZW1cbiAgICBjb25zdCB7IGNoaWxkcmVuLCAuLi5vdGhlck9wdGlvbiB9ID0gb3B0aW9uXG5cbiAgICBjb25zdCBmaWVsZE5hbWUgPSBgJHtwYXJlbnRLZXl9LiR7aWR9YFxuICAgIGNvbnN0IHB1cmVJZCA9IGZpZWxkTmFtZT8uaW5jbHVkZXMoJ2ZiYXNlZGF0YWlkJykgPyBpZC5zcGxpdCgnLmZiYXNlZGF0YWlkJylbMF0gOiBmaWVsZE5hbWVcbiAgICAvLyDmoLnmja7lkI7nq6/mi7zmjqXnmoQnLifliIblibLlh7rmlbDnu4TvvIzku6XmraTkuLrkvp3mja7liKTmlq3lsYLnuqdcbiAgICBjb25zdCBkZXB0aCA9IHB1cmVJZD8uc3BsaXQoJy4nKT8ubGVuZ3RoIHx8IDBcblxuICAgIGlmIChkZXB0aCA+IGxpbWl0RGVwdGgpIHJldHVybiB0cmVlRGF0YVxuXG4gICAgbGV0IG5ld09wdGlvbiA9IHsgLi4ub3RoZXJPcHRpb24gfVxuICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgbmV3T3B0aW9uLmNoaWxkcmVuID0gZ2V0UmVmU2VsZkNoaWxkKGNoaWxkcmVuLCBwYXJlbnRLZXksIGxpbWl0RGVwdGgpXG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IHsgLi4uaXRlbSwgaWQ6IGZpZWxkTmFtZSwgb3B0aW9uOiBuZXdPcHRpb24gfHwge30gfVxuICAgIHJldHVybiB0cmVlRGF0YS5jb25jYXQocmVzKVxuICB9LCBbXSlcbn1cblxuLyoqXG4gKiBAcGFyYW0gZGF0YVxuICogQHBhcmFtIGNvbXBhcmVUeXBlc01hcFxuICogQHBhcmFtIGRlZXAg5b2T5YmN5bGC57qnXG4gKiBAcGFyYW0gbGltaXREZXB0aCDpmZDliLblsYLnuqfvvIjpu5jorqTkuIDnuqfvvJrlhbPogZTooajljZUu5bGe5oCn77yJXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgY29uc3QgbGlzdEZpbHRlclBhcnNlciA9IChzZWxmVHJlZTogYW55W10sIGRhdGE6IGFueVtdLCBjb21wYXJlVHlwZXNNYXA6IGFueSwgbGltaXREZXB0aDogbnVtYmVyID0gMikgPT4ge1xuICByZXR1cm4gKGRhdGEgfHwgW10pLnJlZHVjZSgodHJlZURhdGE6IGFueVtdLCBpdGVtOiBhbnkpID0+IHtcbiAgICBjb25zdCB7IGNhcHRpb24sIHR5cGUsIGlkLCBvcHRpb24gPSB7fSwgdHlwZUNhcHRpb24gfSA9IGl0ZW1cblxuICAgIGNvbnN0IHB1cmVJZCA9IGlkPy5pbmNsdWRlcygnZmJhc2VkYXRhaWQnKSA/IGlkLnNwbGl0KCcuZmJhc2VkYXRhaWQnKVswXSA6IGlkXG4gICAgLy8g5qC55o2u5ZCO56uv5ou85o6l55qEJy4n5YiG5Ymy5Ye65pWw57uE77yM5Lul5q2k5Li65L6d5o2u5Yik5pat5bGC57qnXG4gICAgY29uc3QgZGVwdGggPSBwdXJlSWQ/LnNwbGl0KCcuJyk/Lmxlbmd0aCB8fCAwXG4gICAgaWYgKHR5cGUgIT09ICdncm91cCcgJiYgZGVwdGggPiBsaW1pdERlcHRoKSByZXR1cm4gdHJlZURhdGFcblxuICAgIGNvbnN0IHsgY2hpbGRyZW4sIHZhbHVlSXRlbXMsIGJpbGxFbnRpdHlJZCwgZGlzcGxheVByb3AsIGlzTXVsdGksIGNvbXBhcmVUeXBlczogcHJlc2V0Q29tcGFyZVR5cGVzLCByZWZTZWxmLCAuLi5vdGhlcnMgfSA9IG9wdGlvblxuICAgIGNvbnN0IGZpZWxkVHlwZSA9IHRyYW5zZm9ybUZpZWxkVHlwZSh0eXBlKS50b0xvd2VyQ2FzZSgpXG4gICAgY29uc3QgY29tcGFyZVR5cGVzID0gZ2V0RmllbGRDb21wYXJlVHlwZSh7XG4gICAgICBjb21wYXJlVHlwZXNNYXAsXG4gICAgICB0eXBlOiBmaWVsZFR5cGUsXG4gICAgICBlbnRpdHlJZDogYmlsbEVudGl0eUlkXG4gICAgfSlcbiAgICBjb25zdCBmaWVsZE5hbWUgPSBpZFxuICAgIGxldCByZXM6IGFueSA9IHtcbiAgICAgIHRpdGxlOiBjYXB0aW9uLCBrZXk6IGZpZWxkTmFtZSwgY29tcGFyZVR5cGVzLCB0eXBlLCB0aXRsZVByZWZpeDogdHlwZUNhcHRpb24sIHNlbGVjdGFibGU6IHR5cGUgIT09ICdncm91cCcsIC4uLm90aGVyc1xuICAgIH1cbiAgICBpZiAoaXNSZWZCaWxsKHR5cGUpIHx8IGlzU3lzUmVmQmlsbCh0eXBlKSB8fCBpc1JlZkJpbGxUYWJsZSh0eXBlKSkge1xuICAgICAgcmVzID0gT2JqZWN0LmFzc2lnbihyZXMsIHsgZGlzcGxheVByb3AsIGVudGl0eUlkOiBiaWxsRW50aXR5SWQsIGlzTXVsdGkgfSlcbiAgICB9IGVsc2UgaWYgKGlzU2VsZWN0RmllbGQodHlwZSkpIHtcbiAgICAgIHJlcyA9IE9iamVjdC5hc3NpZ24ocmVzLCB7IGlzTXVsdGkgfSlcbiAgICB9XG4gICAgaWYgKHZhbHVlSXRlbXMpIHtcbiAgICAgIHJlcy5pdGVtcyA9IHZhbHVlSXRlbXNcbiAgICB9XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICByZXMuY2hpbGRyZW4gPSBsaXN0RmlsdGVyUGFyc2VyKHNlbGZUcmVlLCBjaGlsZHJlbiwgY29tcGFyZVR5cGVzTWFwLCBsaW1pdERlcHRoKVxuICAgIH0gZWxzZSBpZiAocmVmU2VsZiA9PT0gdHJ1ZSkge1xuICAgICAgLy8g5YWz6IGU6KGo5Y2VLeOAi+WFs+iBlOiHqui6q++8jOWImeWPlnJvb3RUcmVl55Sf5oiQY2hpbGRyZW5cbiAgICAgIHJlcy5jaGlsZHJlbiA9IGxpc3RGaWx0ZXJQYXJzZXIoc2VsZlRyZWUsIGdldFJlZlNlbGZDaGlsZChzZWxmVHJlZSwgZmllbGROYW1lLCBsaW1pdERlcHRoKSwgY29tcGFyZVR5cGVzTWFwLCBsaW1pdERlcHRoKVxuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ2dyb3VwJyAmJiAhcmVzPy5jaGlsZHJlbj8ubGVuZ3RoKSB7XG4gICAgICAvLyDlpoLmnpzliIbnu4TkuIvmsqHmnInlrZfmrrXvvIzkuZ/kuI3ov5Tlm57liIbnu4ToioLngrlcbiAgICAgIHJldHVybiB0cmVlRGF0YVxuICAgIH1cbiAgICByZXR1cm4gdHJlZURhdGEuY29uY2F0KHJlcylcbiAgfSwgW10pLmZpbHRlcigoaXRlbTogYW55KSA9PiB7XG4gICAgY29uc3QgeyB0eXBlLCBlbnRpdHlJZCB9ID0gaXRlbVxuICAgIGlmIChpc1JlZkJpbGwodHlwZSkgfHwgaXNTeXNSZWZCaWxsKHR5cGUpKSB7XG4gICAgICByZXR1cm4gZW50aXR5SWQgIT09IG51bGxcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IHNldE5ld0RhdGFDb250cm9sSWQgPSAob2xkSWQ6IHN0cmluZywgbmV3SWQ6IHN0cmluZywgY2I/OiAoZG9tOiBFbGVtZW50KSA9PiB2b2lkKSA9PiB7XG4gIGNvbnN0IG9sZERvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFske2RhdGFDb250cm9sSWR9PVwiJHtvbGRJZH1cIl1gKVxuXG4gIGlmIChvbGREb20pIHtcbiAgICBvbGREb20uc2V0QXR0cmlidXRlKGRhdGFDb250cm9sSWQsIG5ld0lkKVxuICAgIGNiPy4ob2xkRG9tKVxuICB9XG59XG5cbi8qKlxuICog56e75Yqo5YiG57uE5a655ZmoXG4gKiBAcGFyYW0gZGF0YUNvbnRleHRcbiAqIEBwYXJhbSBjb250cm9sIOenu+WKqOeahOe7hOS7tlxuICogQHBhcmFtIGRpcmVjdGlvbiAnZm9yd2FyZCcg5ZCR5YmNICdiYWNrJyDlkJHlkI5cbiAqQGRlc2NyaXB0aW9uIOWIhue7hCDnp7vliqjpobbliLDlpLTnmoTpobXnrb7lsLHmlbTkvZPnp7vliqjvvIzmsqHpobbliLDlpLTnmoTlsLHlhoXpg6jnp7vliqggLSBieeeCjumRq1xuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGNvbnN0IG1vdmVHcm91cENvbnRhaW5lckNvbnRyb2wgPSAoZGF0YUNvbnRleHQsIG1vdmVDb250cm9sLCBkaXJlY3Rpb246ICdmb3J3YXJkJyB8ICdiYWNrJykgPT4ge1xuICBpZighbW92ZUNvbnRyb2wpIHJldHVyblxuXG4gIGNvbnN0IHsgR3JvdXBQYXJlbnRJZCwgR3JvdXBJbmRleCwgSWQgfSA9IG1vdmVDb250cm9sXG5cbiAgLy8g5ZCR5YmN56e75Yqo5Li6LTHvvIzlkJHlkI7np7vliqjkuLorMVxuICBjb25zdCBtb3ZlRGlyZWN0aW9uU3RlcCA9IGRpcmVjdGlvbiA9PT0gJ2ZvcndhcmQnID8gLTEgOiAxXG5cbiAgY29uc3QgY29udHJvbHMgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbEJ5Q29uZGl0aW9uKChjb250cm9sKSA9PiB7XG4gICAgcmV0dXJuIGNvbnRyb2wuR3JvdXBQYXJlbnRJZCA9PT0gR3JvdXBQYXJlbnRJZFxuICB9KVxuXG4gIGlmIChkaXJlY3Rpb24gPT09ICdmb3J3YXJkJyAmJiBOdW1iZXIoR3JvdXBJbmRleCkgPT09IDApIHtcbiAgICBjb25zdCBwcmVDb250cm9sID0gZGF0YUNvbnRleHQuZ2V0UHJldlNpYmxpbmcoSWQpLmNvbnRyb2xcblxuICAgIGlmKCFwcmVDb250cm9sKSByZXR1cm5cblxuICAgIGlmKGlzR3JvdXBDb250YWluZXIocHJlQ29udHJvbC5fVHlwZV8pKSB7XG4gICAgICAvLyDliY3np7vnmoTml7blgJnlpoLmnpzliY3pnaLmmK/liIbnu4RcbiAgICAgIGNvbnN0IHByZUdyb3VwQ29udGFpbmVyQ29udHJvbHMgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbEJ5Q29uZGl0aW9uKChjb250cm9sKSA9PiB7XG4gICAgICAgIHJldHVybiBjb250cm9sLkdyb3VwUGFyZW50SWQgPT09IHByZUNvbnRyb2wuR3JvdXBQYXJlbnRJZFxuICAgICAgfSlcblxuICAgICAgaWYocHJlR3JvdXBDb250YWluZXJDb250cm9scz8ubGVuZ3RoKSB7XG4gICAgICAgIGRhdGFDb250ZXh0Lmluc2VydENvbnRyb2woY3JlYXRlSW5zZXJ0QWN0aW9uKHtcbiAgICAgICAgICB0YXJnZXRJZDogcHJlR3JvdXBDb250YWluZXJDb250cm9sc1swXT8uSWQsXG4gICAgICAgICAgdmFsdWVzOiBjb250cm9scyxcbiAgICAgICAgICBpc1ByZTogdHJ1ZVxuICAgICAgICB9KSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8g5YmN56e755qE5pe25YCZ77yM5YmN6Z2i5piv5pmu6YCa5a2X5q61XG4gICAgICBkYXRhQ29udGV4dC5pbnNlcnRDb250cm9sKGNyZWF0ZUluc2VydEFjdGlvbih7XG4gICAgICAgIHRhcmdldElkOiBwcmVDb250cm9sLklkLFxuICAgICAgICB2YWx1ZXM6IGNvbnRyb2xzLFxuICAgICAgICBpc1ByZTogdHJ1ZVxuICAgICAgfSkpXG4gICAgfVxuICAgIHJldHVyblxuICB9XG5cbiAgaWYgKGRpcmVjdGlvbiA9PT0gJ2JhY2snICYmIE51bWJlcihHcm91cEluZGV4KSA9PT0gY29udHJvbHMubGVuZ3RoIC0gMSkge1xuICAgIGNvbnN0IG5leHRDb250cm9sID0gZGF0YUNvbnRleHQuZ2V0TmV4dFNpYmxpbmcoSWQpLmNvbnRyb2xcblxuICAgIGlmKCFuZXh0Q29udHJvbCkgcmV0dXJuXG5cbiAgICBpZihpc0dyb3VwQ29udGFpbmVyKG5leHRDb250cm9sLl9UeXBlXykpIHtcbiAgICAgIC8vIOWQjuenu+eahOaXtuWAmeWmguaenOWQjumdouaYr+WIhue7hFxuICAgICAgY29uc3QgbmV4dEdyb3VwQ29udGFpbmVyQ29udHJvbHMgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbEJ5Q29uZGl0aW9uKChjb250cm9sKSA9PiB7XG4gICAgICAgIHJldHVybiBjb250cm9sLkdyb3VwUGFyZW50SWQgPT09IG5leHRDb250cm9sLkdyb3VwUGFyZW50SWRcbiAgICAgIH0pXG5cbiAgICAgIGlmKG5leHRHcm91cENvbnRhaW5lckNvbnRyb2xzPy5sZW5ndGgpIHtcbiAgICAgICAgZGF0YUNvbnRleHQuaW5zZXJ0Q29udHJvbChjcmVhdGVJbnNlcnRBY3Rpb24oe1xuICAgICAgICAgIHRhcmdldElkOiBuZXh0R3JvdXBDb250YWluZXJDb250cm9sc1tuZXh0R3JvdXBDb250YWluZXJDb250cm9scy5sZW5ndGggLSAxXT8uSWQsXG4gICAgICAgICAgdmFsdWVzOiBjb250cm9scyxcbiAgICAgICAgICBpc1ByZTogZmFsc2VcbiAgICAgICAgfSkpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOWJjeenu+eahOaXtuWAme+8jOWJjemdouaYr+aZrumAmuWtl+autVxuICAgICAgZGF0YUNvbnRleHQuaW5zZXJ0Q29udHJvbChjcmVhdGVJbnNlcnRBY3Rpb24oe1xuICAgICAgICB0YXJnZXRJZDogbmV4dENvbnRyb2wuSWQsXG4gICAgICAgIHZhbHVlczogY29udHJvbHMsXG4gICAgICAgIGlzUHJlOiBmYWxzZVxuICAgICAgfSkpXG4gICAgfVxuICAgIHJldHVyblxuICB9XG5cbiAgLy8g5Lqk5o2i55qE57uE5Lu2XG4gIGNvbnN0IHN3YXBDb250cm9sID0gY29udHJvbHMuZmluZChjb250cm9sID0+IE51bWJlcihjb250cm9sLkdyb3VwSW5kZXgpID09PSBOdW1iZXIoR3JvdXBJbmRleCkgKyBtb3ZlRGlyZWN0aW9uU3RlcClcblxuICBpZiAoIXN3YXBDb250cm9sKSByZXR1cm5cblxuICBjb25zdCBuZXdNb3ZlQ29udHJvbCA9IHsgLi4ubW92ZUNvbnRyb2wsIEdyb3VwSW5kZXg6IHN3YXBDb250cm9sLkdyb3VwSW5kZXggfVxuXG4gIGRhdGFDb250ZXh0Lmluc2VydENvbnRyb2woY3JlYXRlSW5zZXJ0QWN0aW9uKHtcbiAgICB0YXJnZXRJZDogc3dhcENvbnRyb2wuSWQsXG4gICAgdmFsdWVzOiBbbmV3TW92ZUNvbnRyb2xdLFxuICAgIGlzUHJlOiBkaXJlY3Rpb24gPT09ICdmb3J3YXJkJ1xuICB9KSkudGhlbigoYWN0aW9uczogSUNvbnRyb2xBY3Rpb24pID0+IHtcbiAgICBjb25zdCB1cGRhdGVBY3Rpb25zID0gW1tzd2FwQ29udHJvbC5JZCwgeyBHcm91cEluZGV4IH1dXVxuICAgIGRhdGFDb250ZXh0LmJhdGNoVXBkYXRlQ29udHJvbFByb3BlcnR5VmFsdWVzKGNyZWF0ZVVwZGF0ZUFjdGlvbih1cGRhdGVBY3Rpb25zKSlcbiAgfSlcbn1cblxuY29uc3QgcHJlZml4TmFtZU1hcCA9IHtcbiAgTm9Db2RlVGV4dEZpZWxkOiAn5paH5pysJyxcbiAgTm9Db2RlVGV4dEFyZWFGaWVsZDogJ+aWh+acrCcsXG4gIE5vQ29kZUNyZWF0ZURhdGVGaWVsZDogJ+aXpeacnycsXG4gIE5vQ29kZU1vZGlmeURhdGVGaWVsZDogJ+aXpeacnycsXG4gIE5vQ29kZUJpbGxOb0ZpZWxkOiAn5paH5pysJ1xufVxuXG5leHBvcnQgY29uc3QgZ2V0RmllbGROYW1lUHJlZml4ID0gKGZpZWxkOiBhbnksIHJlZlByZWZpeE1hcDogYW55LCBtZXRhQXBpOiBhbnksIHJlZk5hbWVNYXA6IGFueSkgPT4ge1xuICBjb25zdCB7IF9UeXBlXywgTXVsdGksIFNlbGVjdEl0ZW1UeXBlLCBOYW1lLCBLZXksIEJpbGxFbnRpdHlJZEV4IH0gPSBmaWVsZFxuICBpZiAoaXNSZWZCaWxsKF9UeXBlXykpIHtcbiAgICBjb25zdCByZWZCaWxsS2V5ID0gT2JqZWN0LmtleXMocmVmUHJlZml4TWFwKS5maW5kKHJlZmtleSA9PiBLZXkuaW5jbHVkZXMocmVma2V5KSlcbiAgICBpZiAocmVmQmlsbEtleSkge1xuICAgICAgcmV0dXJuIHJlZlByZWZpeE1hcFtyZWZCaWxsS2V5XSB8fCAnJ1xuICAgIH1cbiAgICBjb25zdCBlbnRpdHlJZCA9IEJpbGxFbnRpdHlJZEV4IHx8IG1ldGFBcGkuZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlKF9UeXBlXywgJ0JpbGxFbnRpdHlJZEV4JylcbiAgICByZXR1cm4gYFske3JlZk5hbWVNYXBbZW50aXR5SWRdIHx8ICcnfV0ke011bHRpID09IDEgPyAnW+WkmuadoV0nIDogJ1vljZXmnaFdJ31gXG4gIH1cbiAgaWYgKGlzUmVmQmlsbFRhYmxlKF9UeXBlXykpIHtcbiAgICByZXR1cm4gYFske05hbWUgfHwgJy0nfV0ke011bHRpID09IDEgPyAnW+WkmuadoV0nIDogJ1vljZXmnaFdJ31gXG4gIH1cbiAgaWYgKGlzU2VsZWN0RmllbGQoX1R5cGVfKSkge1xuICAgIHJldHVybiBgW+mAiemhuV0ke2lzTXVsdGlTZWxlY3QoU2VsZWN0SXRlbVR5cGUpID8gJ1vlpJrpgIldJyA6ICdb5Y2V6YCJXSd9YFxuICB9XG4gIGlmIChfVHlwZV8gPT09ICdOb0NvZGVDcmVhdG9yRmllbGQnIHx8IF9UeXBlXyA9PT0gJ05vQ29kZU1vZGlmaWVyRmllbGQnKSB7XG4gICAgcmV0dXJuICdb5Lq65ZGYXVvljZXmnaFdJ1xuICB9XG4gIGNvbnN0IG1ldGFOYW1lID0gcHJlZml4TmFtZU1hcFtfVHlwZV9dIHx8IG1ldGFBcGkuZ2V0Q29udHJvbE1ldGEoX1R5cGVfKT8uTmFtZVxuICByZXR1cm4gYFske21ldGFOYW1lfV1gXG59XG5cbmV4cG9ydCBjb25zdCBkZWVwR2V0UmVmQmlsbENhcHRpb24gPSAobGlzdEZpbHRlckNvbmZpZzogYW55W10sIG1hcCA9IHt9KSA9PiB7XG4gIGZvciAoY29uc3QgeyB0aXRsZVByZWZpeCwga2V5OiBmaWVsZE5hbWUsIGNoaWxkcmVuLCB0eXBlIH0gb2YgbGlzdEZpbHRlckNvbmZpZykge1xuICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgZGVlcEdldFJlZkJpbGxDYXB0aW9uKGNoaWxkcmVuLCBtYXApXG4gICAgfVxuICAgIGlmIChpc1JlZkJpbGwodHlwZSkpIHtcbiAgICAgIGNvbnN0IGtleSA9IGZpZWxkTmFtZS5zcGxpdCgnLicpLnBvcCgpXG4gICAgICBtYXBba2V5XSA9IHRpdGxlUHJlZml4IHx8ICcnXG4gICAgfVxuICB9XG4gIHJldHVybiBtYXBcbn1cblxuZXhwb3J0IGNvbnN0IHNjcm9sbENvbnRyb2xJbnRvVmlldyA9IChpZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGNvbnRyb2wgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbJHtkYXRhQ29udHJvbElkfT1cIiR7aWR9XCJdYClcbiAgaWYgKGNvbnRyb2wpIHtcbiAgICBpZiAoY29udHJvbC5zY3JvbGxJbnRvVmlld0lmTmVlZGVkKSB7XG4gICAgICBjb250cm9sLnNjcm9sbEludG9WaWV3SWZOZWVkZWQoKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb250cm9sLnNjcm9sbEludG9WaWV3KHsgYmxvY2s6ICduZWFyZXN0JyB9KVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZml4R3JvdXBDaGlsZHJlblBhcmVudElkID0gKGNvbnRyb2xzLCByb290SWQpID0+IHtcbiAgY29uc3QgZ3JvdXBJZHMgPSBjb250cm9scy5maWx0ZXIoaXRlbSA9PiBpc0dyb3VwQ29udGFpbmVyKGl0ZW0/Ll9UeXBlXykpLm1hcChpdGVtID0+IGl0ZW0uSWQpXG4gIGlmIChncm91cElkcy5sZW5ndGgpIHtcbiAgICBjb250cm9scy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgaWYgKGdyb3VwSWRzLmluY2x1ZGVzKGl0ZW0uUGFyZW50SWQpICYmIGl0ZW0uRW50aXR5RGF0YSkge1xuICAgICAgICAvLyDnr6HmlLllbnRpdHnph4znmoRQYXJlbnRJZFxuICAgICAgICBjb25zdCBuZXdFbnRpdHlEYXRhID0geyAuLi5pdGVtLkVudGl0eURhdGEsIFBhcmVudElkOiByb290SWQgfVxuICAgICAgICBpdGVtLkVudGl0eURhdGEgPSBuZXdFbnRpdHlEYXRhXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICByZXR1cm4gY29udHJvbHNcbn1cblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlTG9uZ0lkID0gKCkgPT4ge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygpLnNsaWNlKC05KSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKS5zbGljZSgtOSkgLy8gMTnkvY3lkI7nq6/kvJrotoXlh7pcbn1cblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///41232\n");

/***/ }),

/***/ 43268:
/*!**********************************!*\
  !*** ./src/utils/keyCodeUtil.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getKeyCode: function() { return /* binding */ getKeyCode; },\n/* harmony export */   isAltKey: function() { return /* binding */ isAltKey; },\n/* harmony export */   isCtrlKey: function() { return /* binding */ isCtrlKey; },\n/* harmony export */   isShiftKey: function() { return /* binding */ isShiftKey; }\n/* harmony export */ });\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_0__);\n\n\n// 混合事件\n\n// export const getCodeKey = (key: string | null | undefined) => {\n//   if (!key) return null\n//   key = key.toUpperCase().replace(/^\\s+|\\s+$/g, '')\n//   return KEYS[key] || null\n// }\n\nfunction getKeyCode(evt) {\n  var event = evt || window.event;\n  return event.keyCode || event.which;\n}\nfunction isCtrlKey(evt) {\n  var event = evt || window.event;\n  if (designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.OS === designer_base_Main__WEBPACK_IMPORTED_MODULE_0__.MAC) return event.metaKey;\n  return event.ctrlKey;\n}\nfunction isShiftKey(event) {\n  return event.shiftKey;\n}\nfunction isAltKey(event) {\n  return event.altKey;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDMyNjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ0E7O0FBRUE7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvdXRpbHMva2V5Q29kZVV0aWwudHM/M2E1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBPUywgTUFDIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuXG4vLyDmt7flkIjkuovku7ZcbnR5cGUgTWl4ZWRFdmVudCA9IEtleWJvYXJkRXZlbnQgfCBNb3VzZUV2ZW50IHwgUmVhY3QuTW91c2VFdmVudFxuXG4vLyBleHBvcnQgY29uc3QgZ2V0Q29kZUtleSA9IChrZXk6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQpID0+IHtcbi8vICAgaWYgKCFrZXkpIHJldHVybiBudWxsXG4vLyAgIGtleSA9IGtleS50b1VwcGVyQ2FzZSgpLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKVxuLy8gICByZXR1cm4gS0VZU1trZXldIHx8IG51bGxcbi8vIH1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEtleUNvZGUgKGV2dDogS2V5Ym9hcmRFdmVudCkge1xuICBjb25zdCBldmVudCA9IGV2dCB8fCB3aW5kb3cuZXZlbnRcbiAgcmV0dXJuIGV2ZW50LmtleUNvZGUgfHwgZXZlbnQud2hpY2hcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ3RybEtleSAoZXZ0OiBNaXhlZEV2ZW50KSB7XG4gIGNvbnN0IGV2ZW50ID0gZXZ0IHx8IHdpbmRvdy5ldmVudFxuICBpZiAoT1MgPT09IE1BQykgcmV0dXJuIGV2ZW50Lm1ldGFLZXlcbiAgcmV0dXJuIGV2ZW50LmN0cmxLZXlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2hpZnRLZXkgKGV2ZW50OiBNaXhlZEV2ZW50KSB7XG4gIHJldHVybiBldmVudC5zaGlmdEtleVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBbHRLZXkgKGV2ZW50OiBNaXhlZEV2ZW50KSB7XG4gIHJldHVybiBldmVudC5hbHRLZXlcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///43268\n");

/***/ }),

/***/ 8348:
/*!*************************************!*\
  !*** ./src/utils/parseUIControl.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _apControls_index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../apControls/index */ 74244);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./index */ 41232);\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_4___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(t, r)); }); } return e; }\n\n\n\n\nvar parseUIControl = function parseUIControl(field) {\n  var _metaApi$getControlMe, _context;\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    _ref$isPC = _ref.isPC,\n    isPC = _ref$isPC === void 0 ? true : _ref$isPC;\n  var ParentId = field.ParentId,\n    _Type_ = field._Type_,\n    Id = field.Id,\n    _isEntryField_ = field._isEntryField_;\n  var _React$useContext = kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().useContext(_context__WEBPACK_IMPORTED_MODULE_9__.DesignerContext),\n    getKdesignerApi = _React$useContext.getKdesignerApi;\n  var kdesignerApi = getKdesignerApi();\n  var metaApi = kdesignerApi.meta,\n    dataContext = kdesignerApi.data;\n  var childCount = dataContext.getSubControls(Id).length;\n  var _IsContainer = (_metaApi$getControlMe = metaApi.getControlMeta(_Type_)) === null || _metaApi$getControlMe === void 0 ? void 0 : _metaApi$getControlMe.IsContainer;\n  var controlDefaultData = metaApi.getDefaultData(_Type_);\n  // 这里控件属性会和默认值合并，全部通过field透传下去\n  var allProps = _objectSpread(_objectSpread({}, controlDefaultData), field);\n\n  /**\n   * 如果是容器，则key的标识拼接上子控件数量\n   * 否则，当子控件数量变化不一致时，react hooks渲染时序不一致，控制台有warning，违背了react hook渲染原则\n   * 切换多端显示的时候也会有hook时序不一致的效果，因此使用多端显示作为key后缀\n   */\n  var key = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_6___default()(_context = \"\".concat(_IsContainer ? \"\".concat(Id) : Id, \"-\")).call(_context, allProps.Visibility);\n  var commonProps = {\n    field: (0,_index__WEBPACK_IMPORTED_MODULE_10__.tranformFieldDefValue)(allProps),\n    key: key,\n    _IsContainer: _IsContainer\n  };\n  if (!ParentId) {\n    return kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_apControls_index__WEBPACK_IMPORTED_MODULE_8__[\"default\"].RootPanel, commonProps);\n  }\n  // 这里篡改下type，单据体字段映射为NoCodeEntryFieldAp\n  var type = isPC && _isEntryField_ ? 'NoCodeEntryFieldAp' : _Type_;\n  var ctrl = (0,_apControls_index__WEBPACK_IMPORTED_MODULE_8__.getControlByType)(type, isPC);\n  if (ctrl) {\n    return kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ctrl, commonProps);\n  }\n  return kd_libs_react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_apControls_index__WEBPACK_IMPORTED_MODULE_8__[\"default\"].UndefinedControl, commonProps);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (parseUIControl);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODM0OC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL3V0aWxzL3BhcnNlVUlDb250cm9sLnRzPzgwYzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IGNvbnRyb2xzLCB7IGdldENvbnRyb2xCeVR5cGUgfSBmcm9tICcuLi9hcENvbnRyb2xzL2luZGV4J1xuaW1wb3J0IHsgRGVzaWduZXJDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dCdcbmltcG9ydCB7IHRyYW5mb3JtRmllbGREZWZWYWx1ZSB9IGZyb20gJy4vaW5kZXgnXG5cbmNvbnN0IHBhcnNlVUlDb250cm9sID0gKGZpZWxkLCB7IGlzUEMgPSB0cnVlIH0gPSB7fSkgPT4ge1xuICBjb25zdCB7IFBhcmVudElkLCBfVHlwZV8sIElkLCBfaXNFbnRyeUZpZWxkXyB9ID0gZmllbGRcbiAgY29uc3QgeyBnZXRLZGVzaWduZXJBcGkgfSA9IFJlYWN0LnVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCBrZGVzaWduZXJBcGkgPSBnZXRLZGVzaWduZXJBcGkoKVxuICBjb25zdCB7IG1ldGE6IG1ldGFBcGksIGRhdGE6IGRhdGFDb250ZXh0IH0gPSBrZGVzaWduZXJBcGlcbiAgY29uc3QgY2hpbGRDb3VudCA9IGRhdGFDb250ZXh0LmdldFN1YkNvbnRyb2xzKElkKS5sZW5ndGhcbiAgY29uc3QgX0lzQ29udGFpbmVyID0gbWV0YUFwaS5nZXRDb250cm9sTWV0YShfVHlwZV8pPy5Jc0NvbnRhaW5lclxuICBjb25zdCBjb250cm9sRGVmYXVsdERhdGEgPSBtZXRhQXBpLmdldERlZmF1bHREYXRhKF9UeXBlXylcbiAgLy8g6L+Z6YeM5o6n5Lu25bGe5oCn5Lya5ZKM6buY6K6k5YC85ZCI5bm277yM5YWo6YOo6YCa6L+HZmllbGTpgI/kvKDkuIvljrtcbiAgY29uc3QgYWxsUHJvcHMgPSB7IC4uLmNvbnRyb2xEZWZhdWx0RGF0YSwgLi4uZmllbGQgfVxuXG4gIC8qKlxuICAgKiDlpoLmnpzmmK/lrrnlmajvvIzliJlrZXnnmoTmoIfor4bmi7zmjqXkuIrlrZDmjqfku7bmlbDph49cbiAgICog5ZCm5YiZ77yM5b2T5a2Q5o6n5Lu25pWw6YeP5Y+Y5YyW5LiN5LiA6Ie05pe277yMcmVhY3QgaG9va3PmuLLmn5Pml7bluo/kuI3kuIDoh7TvvIzmjqfliLblj7DmnIl3YXJuaW5n77yM6L+d6IOM5LqGcmVhY3QgaG9va+a4suafk+WOn+WImVxuICAgKiDliIfmjaLlpJrnq6/mmL7npLrnmoTml7blgJnkuZ/kvJrmnIlob29r5pe25bqP5LiN5LiA6Ie055qE5pWI5p6c77yM5Zug5q2k5L2/55So5aSa56uv5pi+56S65L2c5Li6a2V55ZCO57yAXG4gICAqL1xuICBjb25zdCBrZXkgPSBgJHtfSXNDb250YWluZXIgPyBgJHtJZH1gIDogSWR9LSR7YWxsUHJvcHMuVmlzaWJpbGl0eX1gXG4gIGNvbnN0IGNvbW1vblByb3BzID0geyBmaWVsZDogdHJhbmZvcm1GaWVsZERlZlZhbHVlKGFsbFByb3BzKSwga2V5LCBfSXNDb250YWluZXIgfVxuICBpZiAoIVBhcmVudElkKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoY29udHJvbHMuUm9vdFBhbmVsLCBjb21tb25Qcm9wcylcbiAgfVxuICAvLyDov5nph4znr6HmlLnkuIt0eXBl77yM5Y2V5o2u5L2T5a2X5q615pig5bCE5Li6Tm9Db2RlRW50cnlGaWVsZEFwXG4gIGNvbnN0IHR5cGUgPSBpc1BDICYmIF9pc0VudHJ5RmllbGRfID8gJ05vQ29kZUVudHJ5RmllbGRBcCcgOiBfVHlwZV9cbiAgY29uc3QgY3RybCA9IGdldENvbnRyb2xCeVR5cGUodHlwZSwgaXNQQylcbiAgaWYgKGN0cmwpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChjdHJsLCBjb21tb25Qcm9wcylcbiAgfVxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChjb250cm9scy5VbmRlZmluZWRDb250cm9sLCBjb21tb25Qcm9wcylcbn1cblxuZXhwb3J0IGRlZmF1bHQgcGFyc2VVSUNvbnRyb2xcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8348\n");

/***/ }),

/***/ 99888:
/*!*************************************!*\
  !*** ./src/utils/preHandleUtils.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addControlProperty: function() { return /* binding */ addControlProperty; },\n/* harmony export */   collectEntityChangeActions: function() { return /* binding */ collectEntityChangeActions; },\n/* harmony export */   getCurrentApType: function() { return /* binding */ getCurrentApType; },\n/* harmony export */   getEntityChange: function() { return /* binding */ getEntityChange; },\n/* harmony export */   getRemovePropActionByChangeType: function() { return /* binding */ getRemovePropActionByChangeType; },\n/* harmony export */   getUpdateActionByChangeType: function() { return /* binding */ getUpdateActionByChangeType; },\n/* harmony export */   unExistEntityControlType: function() { return /* binding */ unExistEntityControlType; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 73980);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _constants_index__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../constants/index */ 98092);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var kd_libs_immer__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! kd_libs/immer */ 59480);\n/* harmony import */ var kd_libs_immer__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(kd_libs_immer__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./control */ 3700);\n/* harmony import */ var _editors_CustomOptionEditor__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../editors/CustomOptionEditor */ 66900);\n/* harmony import */ var _editors_CustomOptionEditor_ColorPicker__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../editors/CustomOptionEditor/ColorPicker */ 54368);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./index */ 41232);\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_5___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_7___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_6___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-10-11 17:11:14\n * @LastEditTime: 2023-07-04 15:15:40\n * @Last Modified by: jianhang_he\n */\n\n\n\n\n\n\n\n\n\n\n\nvar RANDOM_COLOR_LIST = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_8___default()(_editors_CustomOptionEditor_ColorPicker__WEBPACK_IMPORTED_MODULE_18__.darkColorList).call(_editors_CustomOptionEditor_ColorPicker__WEBPACK_IMPORTED_MODULE_18__.darkColorList, 0, -1));\n\n/**\n * 不存在实体的控件类型\n */\nvar unExistEntityControlType = function unExistEntityControlType(type) {\n  return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(_constants_index__WEBPACK_IMPORTED_MODULE_12__.NOT_ENTITY_TYPE_LIST).call(_constants_index__WEBPACK_IMPORTED_MODULE_12__.NOT_ENTITY_TYPE_LIST, type);\n};\n\n/**\n * 控件属性变化时，获取EntityData属性变化内容\n * @param change form变化的内容\n * @param controlData 控件原属性\n * @param metaReader\n * @returns\n */\nvar getEntityChange = function getEntityChange(change, controlData, metaReader) {\n  var ctrlType = controlData._Type_,\n    _controlData$EntityDa = controlData.EntityData,\n    oldEntity = _controlData$EntityDa === void 0 ? {} : _controlData$EntityDa;\n  var deleteEntityProps = [];\n  var entityChanges = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(change).reduce(function (collectChanges, propName) {\n    var propMeta = metaReader.getControlMetaProperty(ctrlType, propName);\n    var propDefaultValue = metaReader.getControlPropertyDefaultValue(ctrlType, propName);\n    var propertyTag = propMeta.Tag;\n    if (propertyTag === _constants_index__WEBPACK_IMPORTED_MODULE_12__.PROP_TYPE_ENTITY || propertyTag === _constants_index__WEBPACK_IMPORTED_MODULE_12__.PROP_TYPE_ALL) {\n      collectChanges[propName] = change[propName];\n      if ((0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_15__.isEqual)(change[propName], propDefaultValue)) {\n        // 收集需要删除的属性（默认值和变更值相等，不需要发给后端，直接删除对应属性）\n        deleteEntityProps.push(propName);\n      }\n    }\n    return collectChanges;\n  }, {});\n  return (0,kd_libs_immer__WEBPACK_IMPORTED_MODULE_14__.produce)(oldEntity, function (draft) {\n    (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(draft, entityChanges);\n    deleteEntityProps.forEach(function (deleteKey) {\n      delete draft[deleteKey];\n    });\n  });\n};\nvar collectEntityChangeActions = function collectEntityChangeActions(id, change, controlData, _ref) {\n  var globalConfig = _ref.globalConfig,\n    dataContext = _ref.dataContext,\n    selectionContext = _ref.selectionContext,\n    action = _ref.action,\n    dataFactory = _ref.dataFactory,\n    modelFactory = _ref.modelFactory,\n    metaReader = _ref.metaReader;\n  if (!controlData) return false;\n  var ctrlType = controlData._Type_,\n    _controlData$EntityDa2 = controlData.EntityData,\n    oldEntity = _controlData$EntityDa2 === void 0 ? {} : _controlData$EntityDa2;\n\n  // 没有实体数据的控件类型不需要对实体做出改变\n  if (unExistEntityControlType(ctrlType)) return false;\n\n  /**\n     * 收集实体属性的更改，并同步更新EntityData里的属性\n     */\n  var deleteEntityProps = [];\n  var entityChanges = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(change).reduce(function (collectChanges, propName) {\n    var propMeta = metaReader.getControlMetaProperty(ctrlType, propName);\n    var propDefaultValue = metaReader.getControlPropertyDefaultValue(ctrlType, propName);\n    var propertyTag = propMeta.Tag;\n    if (propertyTag === _constants_index__WEBPACK_IMPORTED_MODULE_12__.PROP_TYPE_ENTITY || propertyTag === _constants_index__WEBPACK_IMPORTED_MODULE_12__.PROP_TYPE_ALL) {\n      collectChanges[propName] = change[propName];\n      if ((0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_15__.isEqual)(change[propName], propDefaultValue)) {\n        // 收集需要删除的属性（默认值和变更值相等，不需要发给后端，直接删除对应属性）\n        deleteEntityProps.push(propName);\n      }\n    }\n    return collectChanges;\n  }, {});\n  var newEntityData = (0,kd_libs_immer__WEBPACK_IMPORTED_MODULE_14__.produce)(oldEntity, function (draft) {\n    (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(draft, entityChanges);\n    deleteEntityProps.forEach(function (deleteKey) {\n      delete draft[deleteKey];\n    });\n  });\n  if (_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(entityChanges).length) {\n    return (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.createUpdateAction)([[id, {\n      EntityData: newEntityData\n    }]]);\n  }\n};\n\n// 根据切换类型获取更新action\nvar getUpdateActionByChangeType = function getUpdateActionByChangeType(changeType, changeApType, controlData, change, metaApi) {\n  var oldEntity = controlData.EntityData,\n    id = controlData.Id;\n\n  // 要更新的部分\n  var newEntityData = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(oldEntity).reduce(function (newEntity, propName) {\n    if (propName === _constants_propnames__WEBPACK_IMPORTED_MODULE_13__._TYPE_) {\n      newEntity[propName] = changeType;\n      return newEntity;\n    }\n    var propMeta = metaApi.getControlMetaProperty(changeType, propName);\n    var propertyTag = propMeta.Tag;\n    if (propertyTag === _constants_index__WEBPACK_IMPORTED_MODULE_12__.PROP_TYPE_ENTITY || propertyTag === _constants_index__WEBPACK_IMPORTED_MODULE_12__.PROP_TYPE_ALL || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(_constants_index__WEBPACK_IMPORTED_MODULE_12__.ENTITY_DATA_DEFAULT_PROP).call(_constants_index__WEBPACK_IMPORTED_MODULE_12__.ENTITY_DATA_DEFAULT_PROP, propName)) {\n      newEntity[propName] = oldEntity[propName];\n    }\n    return newEntity;\n  }, {});\n  var otherUpdateProps = {};\n  if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_16__.isSelectField)(changeType)) {\n    var _CustomContentDefault;\n    // 选项添加的时候，颜色开关自动开启，并自动赋予随机颜色\n    RANDOM_COLOR_LIST = (0,_editors_CustomOptionEditor__WEBPACK_IMPORTED_MODULE_17__.shuffle)(RANDOM_COLOR_LIST);\n    var CustomContentDefault = metaApi.getControlPropertyDefaultValue(changeType, 'CustomContent');\n    var withColorOps = CustomContentDefault === null || CustomContentDefault === void 0 || (_CustomContentDefault = CustomContentDefault.ops) === null || _CustomContentDefault === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default()(_CustomContentDefault).call(_CustomContentDefault, function (item, index) {\n      return _objectSpread(_objectSpread({}, item), {}, {\n        Bgc: RANDOM_COLOR_LIST[index]\n      });\n    });\n    var CustomContentValue = {\n      bgcSwitch: true,\n      ops: (0,_editors_CustomOptionEditor__WEBPACK_IMPORTED_MODULE_17__.addItemId)(withColorOps)\n    };\n    otherUpdateProps.CustomContent = CustomContentValue;\n    newEntityData.CustomContent = CustomContentValue;\n  }\n  if (change !== null && change !== void 0 && change.Name) {\n    newEntityData.Name = change === null || change === void 0 ? void 0 : change.Name;\n  }\n  return (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.createUpdateAction)([[id, _objectSpread({\n    ApType: changeApType,\n    _Type_: changeType,\n    FieldType: changeType,\n    EntityData: newEntityData\n  }, otherUpdateProps)]]);\n};\n\n// 排除需要移除的属性列表\nvar excludeNeedRemovePropNames = [_constants_propnames__WEBPACK_IMPORTED_MODULE_13__.APTYPE, _constants_propnames__WEBPACK_IMPORTED_MODULE_13__.ENTITYDATA, _constants_propnames__WEBPACK_IMPORTED_MODULE_13__.FIELD_ID, _constants_propnames__WEBPACK_IMPORTED_MODULE_13__.FieldType, _constants_propnames__WEBPACK_IMPORTED_MODULE_13__.ID, _constants_propnames__WEBPACK_IMPORTED_MODULE_13__.INDEX, _constants_propnames__WEBPACK_IMPORTED_MODULE_13__.FEATURES, _constants_propnames__WEBPACK_IMPORTED_MODULE_13__.FIELD_NAME, _constants_propnames__WEBPACK_IMPORTED_MODULE_13__.PARENTID];\n// 根据切换类型获取移除属性的action\nvar getRemovePropActionByChangeType = function getRemovePropActionByChangeType(changeType, controlData, metaApi) {\n  // 要删除的属性\n  var removePropNames = [];\n  _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(controlData).forEach(function (propName) {\n    var _Object$keys2;\n    if (_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(excludeNeedRemovePropNames).call(excludeNeedRemovePropNames, propName)) {\n      return;\n    }\n    var propMeta = metaApi.getControlMetaProperty(changeType, propName);\n    if (!propMeta || ((_Object$keys2 = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(propMeta)) === null || _Object$keys2 === void 0 ? void 0 : _Object$keys2.length) === 0) {\n      removePropNames.push(propName);\n    }\n  });\n  if (removePropNames.length > 0) {\n    return (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_11__.createRemovePropAction)([controlData === null || controlData === void 0 ? void 0 : controlData.Id, removePropNames]);\n  }\n};\n\n/**\n * 根据父类型，获取控件对应的实体类型\n * @param type 当前类型\n * @param parentType 父控件类型\n * @returns\n */\nvar getCurrentApType = function getCurrentApType(type, parentType) {\n  return typeof type === 'string' ? type : (type === null || type === void 0 ? void 0 : type[parentType]) || (type === null || type === void 0 ? void 0 : type.Default);\n};\n\n// 预处理数据\nvar addControlProperty = function addControlProperty(value, _ref2) {\n  var dataContext = _ref2.dataContext,\n    metaReader = _ref2.metaReader;\n  var ctrlRealType = value._Type_,\n    Id = value.Id,\n    ParentId = value.ParentId;\n  var rootId = dataContext.getRootId();\n  if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_16__.isBizButton)(ctrlRealType)) return value;\n  var _dataContext$findCont = dataContext.findControl(ParentId),\n    parentType = _dataContext$findCont._Type_,\n    parentStatus = _dataContext$findCont.Status;\n  var controlMeta = metaReader.getControlMeta(ctrlRealType);\n  var ApType = controlMeta.ApType,\n    BaseType = controlMeta.BaseType;\n  var _metaReader$getContro = metaReader.getControlMeta(parentType),\n    ParentBaseType = _metaReader$getContro.BaseType;\n  /**\n   * 添加ui控件时，如果有实体属性，则创建一个EntityData的实体对象\n   * EntityData用于onData时merge进入entitymeta中\n   */\n  if (ApType && !unExistEntityControlType(ctrlRealType)) {\n    var _entityData$CustomCon;\n    // 控件meta里如果存在ApType，则代表有实体，要为控件创建实体属性\n    var entityData = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(value).reduce(function (newEntity, propName) {\n      var propMeta = metaReader.getControlMetaProperty(ctrlRealType, propName);\n      var propertyTag = propMeta.Tag;\n      if (propertyTag === _constants_index__WEBPACK_IMPORTED_MODULE_12__.PROP_TYPE_ENTITY || propertyTag === _constants_index__WEBPACK_IMPORTED_MODULE_12__.PROP_TYPE_ALL || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_9___default()(_constants_index__WEBPACK_IMPORTED_MODULE_12__.ENTITY_DATA_DEFAULT_PROP).call(_constants_index__WEBPACK_IMPORTED_MODULE_12__.ENTITY_DATA_DEFAULT_PROP, propName)) {\n        newEntity[propName] = value[propName];\n      }\n      return newEntity;\n    }, {});\n    if ((0,_index__WEBPACK_IMPORTED_MODULE_19__.isGroupContainer)(parentType)) {\n      // 分组下的字段，ParentId都设置为根节点id（因为分组没有实体）\n      entityData.ParentId = rootId;\n    }\n    var FieldIdKey = \"\".concat(BaseType, \"Id\");\n    value[FieldIdKey] = Id;\n    value.FieldType = ctrlRealType;\n    //   \"ApType\": {\n    //     \"Entry\":\"NoCodeEntryFieldAp\",\n    //     \"Default\": \"NoCodeFieldAp\"\n    //   }\n    //   //格式二：\n    // \"ApType\": \"NoCodeFieldAp\",\n    value.ApType = getCurrentApType(ApType, ParentBaseType);\n    if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_16__.isSelectField)(ctrlRealType) && !(entityData !== null && entityData !== void 0 && (_entityData$CustomCon = entityData.CustomContent) !== null && _entityData$CustomCon !== void 0 && (_entityData$CustomCon = _entityData$CustomCon.ops) !== null && _entityData$CustomCon !== void 0 && _entityData$CustomCon.length)) {\n      var _context;\n      // 选项添加的时候，颜色开关自动开启，并自动赋予随机颜色\n      RANDOM_COLOR_LIST = (0,_editors_CustomOptionEditor__WEBPACK_IMPORTED_MODULE_17__.shuffle)(RANDOM_COLOR_LIST);\n      var CustomContentDefault = metaReader.getControlPropertyDefaultValue(ctrlRealType, 'CustomContent');\n      var withColorOps = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_10___default()(_context = CustomContentDefault.ops).call(_context, function (item, index) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          Bgc: RANDOM_COLOR_LIST[index]\n        });\n      });\n      var CustomContentValue = {\n        bgcSwitch: true,\n        ops: (0,_editors_CustomOptionEditor__WEBPACK_IMPORTED_MODULE_17__.addItemId)(withColorOps)\n      };\n      // CustomContent为实体属性，entityData里需要merge进去\n      value.CustomContent = CustomContentValue;\n      (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(entityData, {\n        CustomContent: CustomContentValue\n      });\n    }\n    value.EntityData = entityData;\n  }\n  if ((0,_utils_control__WEBPACK_IMPORTED_MODULE_16__.isEntryEntity)(parentType) || (0,_utils_control__WEBPACK_IMPORTED_MODULE_16__.isRefBillTable)(parentType)) {\n    value._isEntryField_ = true;\n  }\n\n  // 与父节点状态保持一致\n  if ((0,_index__WEBPACK_IMPORTED_MODULE_19__.isGroupContainer)(parentType) && parentStatus) {\n    value.Status = parentStatus;\n  }\n  return value;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTk4ODguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBUUE7QUFOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBR0E7QUFEQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy91dGlscy9wcmVIYW5kbGVVdGlscy50cz9kMTIwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMTAtMTEgMTc6MTE6MTRcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMDctMDQgMTU6MTU6NDBcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG5cbmltcG9ydCB7IGNyZWF0ZVVwZGF0ZUFjdGlvbiwgY3JlYXRlUmVtb3ZlUHJvcEFjdGlvbiB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IFBST1BfVFlQRV9BTEwsIFBST1BfVFlQRV9FTlRJVFksIEVOVElUWV9EQVRBX0RFRkFVTFRfUFJPUCwgTk9UX0VOVElUWV9UWVBFX0xJU1QgfSBmcm9tICcuLi9jb25zdGFudHMvaW5kZXgnXG5pbXBvcnQgeyBBUFRZUEUsIF9UWVBFXywgRmllbGRUeXBlLCBGSUVMRF9JRCwgSUQsIEZJRUxEX05BTUUsIFBBUkVOVElELCBFTlRJVFlEQVRBLCBJTkRFWCwgRkVBVFVSRVMgfSBmcm9tICcuLi9jb25zdGFudHMvcHJvcG5hbWVzJ1xuaW1wb3J0IHsgcHJvZHVjZSB9IGZyb20gJ2ltbWVyJ1xuaW1wb3J0IHsgaXNFcXVhbCB9IGZyb20gJ2xvZGFzaCdcbmltcG9ydCB7IGlzU2VsZWN0RmllbGQsIGlzRW50cnlFbnRpdHksIGlzUmVmQmlsbFRhYmxlIH0gZnJvbSAnLi4vdXRpbHMvY29udHJvbCdcbmltcG9ydCB7IHNodWZmbGUsIGFkZEl0ZW1JZCB9IGZyb20gJy4uL2VkaXRvcnMvQ3VzdG9tT3B0aW9uRWRpdG9yJ1xuaW1wb3J0IHsgZGFya0NvbG9yTGlzdCB9IGZyb20gJy4uL2VkaXRvcnMvQ3VzdG9tT3B0aW9uRWRpdG9yL0NvbG9yUGlja2VyJ1xuaW1wb3J0IHsgaXNCaXpCdXR0b24gfSBmcm9tICcuL2NvbnRyb2wnXG5pbXBvcnQgeyBpc0dyb3VwQ29udGFpbmVyIH0gZnJvbSAnLi9pbmRleCdcblxubGV0IFJBTkRPTV9DT0xPUl9MSVNUID0gWy4uLmRhcmtDb2xvckxpc3Quc2xpY2UoMCwgLTEpXVxuXG4vKipcbiAqIOS4jeWtmOWcqOWunuS9k+eahOaOp+S7tuexu+Wei1xuICovXG5leHBvcnQgY29uc3QgdW5FeGlzdEVudGl0eUNvbnRyb2xUeXBlID0gKHR5cGU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gTk9UX0VOVElUWV9UWVBFX0xJU1QuaW5jbHVkZXModHlwZSlcbn1cblxuLyoqXG4gKiDmjqfku7blsZ7mgKflj5jljJbml7bvvIzojrflj5ZFbnRpdHlEYXRh5bGe5oCn5Y+Y5YyW5YaF5a65XG4gKiBAcGFyYW0gY2hhbmdlIGZvcm3lj5jljJbnmoTlhoXlrrlcbiAqIEBwYXJhbSBjb250cm9sRGF0YSDmjqfku7bljp/lsZ7mgKdcbiAqIEBwYXJhbSBtZXRhUmVhZGVyXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgY29uc3QgZ2V0RW50aXR5Q2hhbmdlOiBhbnkgPSAoY2hhbmdlOiBhbnksIGNvbnRyb2xEYXRhOmFueSwgbWV0YVJlYWRlcjphbnkpID0+IHtcbiAgY29uc3QgeyBfVHlwZV86IGN0cmxUeXBlLCBFbnRpdHlEYXRhOiBvbGRFbnRpdHkgPSB7fSB9ID0gY29udHJvbERhdGFcbiAgY29uc3QgZGVsZXRlRW50aXR5UHJvcHM6c3RyaW5nW10gPSBbXVxuICBjb25zdCBlbnRpdHlDaGFuZ2VzID0gT2JqZWN0LmtleXMoY2hhbmdlKS5yZWR1Y2UoKGNvbGxlY3RDaGFuZ2VzLCBwcm9wTmFtZSkgPT4ge1xuICAgIGNvbnN0IHByb3BNZXRhID0gbWV0YVJlYWRlci5nZXRDb250cm9sTWV0YVByb3BlcnR5KGN0cmxUeXBlLCBwcm9wTmFtZSlcbiAgICBjb25zdCBwcm9wRGVmYXVsdFZhbHVlID0gbWV0YVJlYWRlci5nZXRDb250cm9sUHJvcGVydHlEZWZhdWx0VmFsdWUoY3RybFR5cGUsIHByb3BOYW1lKVxuICAgIGNvbnN0IHsgVGFnOiBwcm9wZXJ0eVRhZyB9ID0gcHJvcE1ldGFcbiAgICBpZiAocHJvcGVydHlUYWcgPT09IFBST1BfVFlQRV9FTlRJVFkgfHwgcHJvcGVydHlUYWcgPT09IFBST1BfVFlQRV9BTEwpIHtcbiAgICAgIGNvbGxlY3RDaGFuZ2VzW3Byb3BOYW1lXSA9IGNoYW5nZVtwcm9wTmFtZV1cbiAgICAgIGlmIChpc0VxdWFsKGNoYW5nZVtwcm9wTmFtZV0sIHByb3BEZWZhdWx0VmFsdWUpKSB7XG4gICAgICAgIC8vIOaUtumbhumcgOimgeWIoOmZpOeahOWxnuaAp++8iOm7mOiupOWAvOWSjOWPmOabtOWAvOebuOetie+8jOS4jemcgOimgeWPkee7meWQjuerr++8jOebtOaOpeWIoOmZpOWvueW6lOWxnuaAp++8iVxuICAgICAgICBkZWxldGVFbnRpdHlQcm9wcy5wdXNoKHByb3BOYW1lKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29sbGVjdENoYW5nZXNcbiAgfSwge30pXG4gIHJldHVybiBwcm9kdWNlKG9sZEVudGl0eSwgKGRyYWZ0OiBhbnkpID0+IHtcbiAgICBPYmplY3QuYXNzaWduKGRyYWZ0LCBlbnRpdHlDaGFuZ2VzKVxuICAgIGRlbGV0ZUVudGl0eVByb3BzLmZvckVhY2goKGRlbGV0ZUtleTogc3RyaW5nKSA9PiB7XG4gICAgICBkZWxldGUgZHJhZnRbZGVsZXRlS2V5XVxuICAgIH0pXG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCBjb2xsZWN0RW50aXR5Q2hhbmdlQWN0aW9ucyA9IChpZCwgY2hhbmdlLCBjb250cm9sRGF0YSwge1xuICBnbG9iYWxDb25maWcsXG4gIGRhdGFDb250ZXh0LFxuICBzZWxlY3Rpb25Db250ZXh0LFxuICBhY3Rpb24sXG4gIGRhdGFGYWN0b3J5LFxuICBtb2RlbEZhY3RvcnksXG4gIG1ldGFSZWFkZXJcbn0pID0+IHtcbiAgaWYgKCFjb250cm9sRGF0YSkgcmV0dXJuIGZhbHNlXG4gIGNvbnN0IHsgX1R5cGVfOiBjdHJsVHlwZSwgRW50aXR5RGF0YTogb2xkRW50aXR5ID0ge30gfSA9IGNvbnRyb2xEYXRhXG5cbiAgLy8g5rKh5pyJ5a6e5L2T5pWw5o2u55qE5o6n5Lu257G75Z6L5LiN6ZyA6KaB5a+55a6e5L2T5YGa5Ye65pS55Y+YXG4gIGlmICh1bkV4aXN0RW50aXR5Q29udHJvbFR5cGUoY3RybFR5cGUpKSByZXR1cm4gZmFsc2VcblxuICAvKipcbiAgICAgKiDmlLbpm4blrp7kvZPlsZ7mgKfnmoTmm7TmlLnvvIzlubblkIzmraXmm7TmlrBFbnRpdHlEYXRh6YeM55qE5bGe5oCnXG4gICAgICovXG4gIGNvbnN0IGRlbGV0ZUVudGl0eVByb3BzOiBzdHJpbmdbXSA9IFtdXG4gIGNvbnN0IGVudGl0eUNoYW5nZXMgPSBPYmplY3Qua2V5cyhjaGFuZ2UpLnJlZHVjZSgoY29sbGVjdENoYW5nZXMsIHByb3BOYW1lKSA9PiB7XG4gICAgY29uc3QgcHJvcE1ldGEgPSBtZXRhUmVhZGVyLmdldENvbnRyb2xNZXRhUHJvcGVydHkoY3RybFR5cGUsIHByb3BOYW1lKVxuICAgIGNvbnN0IHByb3BEZWZhdWx0VmFsdWUgPSBtZXRhUmVhZGVyLmdldENvbnRyb2xQcm9wZXJ0eURlZmF1bHRWYWx1ZShjdHJsVHlwZSwgcHJvcE5hbWUpXG4gICAgY29uc3QgeyBUYWc6IHByb3BlcnR5VGFnIH0gPSBwcm9wTWV0YVxuICAgIGlmIChwcm9wZXJ0eVRhZyA9PT0gUFJPUF9UWVBFX0VOVElUWSB8fCBwcm9wZXJ0eVRhZyA9PT0gUFJPUF9UWVBFX0FMTCkge1xuICAgICAgY29sbGVjdENoYW5nZXNbcHJvcE5hbWVdID0gY2hhbmdlW3Byb3BOYW1lXVxuICAgICAgaWYgKGlzRXF1YWwoY2hhbmdlW3Byb3BOYW1lXSwgcHJvcERlZmF1bHRWYWx1ZSkpIHtcbiAgICAgICAgLy8g5pS26ZuG6ZyA6KaB5Yig6Zmk55qE5bGe5oCn77yI6buY6K6k5YC85ZKM5Y+Y5pu05YC855u4562J77yM5LiN6ZyA6KaB5Y+R57uZ5ZCO56uv77yM55u05o6l5Yig6Zmk5a+55bqU5bGe5oCn77yJXG4gICAgICAgIGRlbGV0ZUVudGl0eVByb3BzLnB1c2gocHJvcE5hbWUpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb2xsZWN0Q2hhbmdlc1xuICB9LCB7fSlcbiAgY29uc3QgbmV3RW50aXR5RGF0YSA9IHByb2R1Y2Uob2xkRW50aXR5LCAoZHJhZnQ6IGFueSkgPT4ge1xuICAgIE9iamVjdC5hc3NpZ24oZHJhZnQsIGVudGl0eUNoYW5nZXMpXG4gICAgZGVsZXRlRW50aXR5UHJvcHMuZm9yRWFjaCgoZGVsZXRlS2V5OiBzdHJpbmcpID0+IHtcbiAgICAgIGRlbGV0ZSBkcmFmdFtkZWxldGVLZXldXG4gICAgfSlcbiAgfSlcbiAgaWYgKE9iamVjdC5rZXlzKGVudGl0eUNoYW5nZXMpLmxlbmd0aCkge1xuICAgIHJldHVybiBjcmVhdGVVcGRhdGVBY3Rpb24oW1tpZCwgeyBFbnRpdHlEYXRhOiBuZXdFbnRpdHlEYXRhIH1dXSlcbiAgfVxufVxuXG4vLyDmoLnmja7liIfmjaLnsbvlnovojrflj5bmm7TmlrBhY3Rpb25cbmV4cG9ydCBjb25zdCBnZXRVcGRhdGVBY3Rpb25CeUNoYW5nZVR5cGUgPSAoY2hhbmdlVHlwZSwgY2hhbmdlQXBUeXBlLCBjb250cm9sRGF0YSwgY2hhbmdlLCBtZXRhQXBpKSA9PiB7XG4gIGNvbnN0IHsgRW50aXR5RGF0YTogb2xkRW50aXR5LCBJZDogaWQgfSA9IGNvbnRyb2xEYXRhXG5cbiAgLy8g6KaB5pu05paw55qE6YOo5YiGXG4gIGNvbnN0IG5ld0VudGl0eURhdGEgPSBPYmplY3Qua2V5cyhvbGRFbnRpdHkpLnJlZHVjZSgobmV3RW50aXR5LCBwcm9wTmFtZSkgPT4ge1xuICAgIGlmIChwcm9wTmFtZSA9PT0gX1RZUEVfKSB7XG4gICAgICBuZXdFbnRpdHlbcHJvcE5hbWVdID0gY2hhbmdlVHlwZVxuICAgICAgcmV0dXJuIG5ld0VudGl0eVxuICAgIH1cbiAgICBjb25zdCBwcm9wTWV0YSA9IG1ldGFBcGkuZ2V0Q29udHJvbE1ldGFQcm9wZXJ0eShjaGFuZ2VUeXBlLCBwcm9wTmFtZSlcbiAgICBjb25zdCB7IFRhZzogcHJvcGVydHlUYWcgfSA9IHByb3BNZXRhXG4gICAgaWYgKHByb3BlcnR5VGFnID09PSBQUk9QX1RZUEVfRU5USVRZIHx8IHByb3BlcnR5VGFnID09PSBQUk9QX1RZUEVfQUxMIHx8IEVOVElUWV9EQVRBX0RFRkFVTFRfUFJPUC5pbmNsdWRlcyhwcm9wTmFtZSkpIHtcbiAgICAgIG5ld0VudGl0eVtwcm9wTmFtZV0gPSBvbGRFbnRpdHlbcHJvcE5hbWVdXG4gICAgfVxuICAgIHJldHVybiBuZXdFbnRpdHlcbiAgfSwge30pXG5cbiAgY29uc3Qgb3RoZXJVcGRhdGVQcm9wcyA9IHt9XG5cbiAgaWYgKGlzU2VsZWN0RmllbGQoY2hhbmdlVHlwZSkpIHtcbiAgICAvLyDpgInpobnmt7vliqDnmoTml7blgJnvvIzpopzoibLlvIDlhbPoh6rliqjlvIDlkK/vvIzlubboh6rliqjotYvkuojpmo/mnLrpopzoibJcbiAgICBSQU5ET01fQ09MT1JfTElTVCA9IHNodWZmbGUoUkFORE9NX0NPTE9SX0xJU1QpXG4gICAgY29uc3QgQ3VzdG9tQ29udGVudERlZmF1bHQgPSBtZXRhQXBpLmdldENvbnRyb2xQcm9wZXJ0eURlZmF1bHRWYWx1ZShjaGFuZ2VUeXBlLCAnQ3VzdG9tQ29udGVudCcpXG4gICAgY29uc3Qgd2l0aENvbG9yT3BzID0gQ3VzdG9tQ29udGVudERlZmF1bHQ/Lm9wcz8ubWFwKChpdGVtOiBhbnksIGluZGV4OiBudW1iZXIpID0+ICh7IC4uLml0ZW0sIEJnYzogUkFORE9NX0NPTE9SX0xJU1RbaW5kZXhdIH0pKVxuICAgIGNvbnN0IEN1c3RvbUNvbnRlbnRWYWx1ZSA9IHtcbiAgICAgIGJnY1N3aXRjaDogdHJ1ZSxcbiAgICAgIG9wczogYWRkSXRlbUlkKHdpdGhDb2xvck9wcylcbiAgICB9XG4gICAgb3RoZXJVcGRhdGVQcm9wcy5DdXN0b21Db250ZW50ID0gQ3VzdG9tQ29udGVudFZhbHVlXG4gICAgbmV3RW50aXR5RGF0YS5DdXN0b21Db250ZW50ID0gQ3VzdG9tQ29udGVudFZhbHVlXG4gIH1cblxuICBpZiAoY2hhbmdlPy5OYW1lKSB7XG4gICAgbmV3RW50aXR5RGF0YS5OYW1lID0gY2hhbmdlPy5OYW1lXG4gIH1cblxuICByZXR1cm4gY3JlYXRlVXBkYXRlQWN0aW9uKFtbaWQsIHtcbiAgICBBcFR5cGU6IGNoYW5nZUFwVHlwZSxcbiAgICBfVHlwZV86IGNoYW5nZVR5cGUsXG4gICAgRmllbGRUeXBlOiBjaGFuZ2VUeXBlLFxuICAgIEVudGl0eURhdGE6IG5ld0VudGl0eURhdGEsXG4gICAgLi4ub3RoZXJVcGRhdGVQcm9wc1xuICB9XV0pXG59XG5cbi8vIOaOkumZpOmcgOimgeenu+mZpOeahOWxnuaAp+WIl+ihqFxuY29uc3QgZXhjbHVkZU5lZWRSZW1vdmVQcm9wTmFtZXMgPSBbQVBUWVBFLCBFTlRJVFlEQVRBLCBGSUVMRF9JRCwgRmllbGRUeXBlLCBJRCwgSU5ERVgsIEZFQVRVUkVTLCBGSUVMRF9OQU1FLCBQQVJFTlRJRF1cbi8vIOagueaNruWIh+aNouexu+Wei+iOt+WPluenu+mZpOWxnuaAp+eahGFjdGlvblxuZXhwb3J0IGNvbnN0IGdldFJlbW92ZVByb3BBY3Rpb25CeUNoYW5nZVR5cGUgPSAoY2hhbmdlVHlwZSwgY29udHJvbERhdGEsIG1ldGFBcGkpID0+IHtcbiAgLy8g6KaB5Yig6Zmk55qE5bGe5oCnXG4gIGNvbnN0IHJlbW92ZVByb3BOYW1lcyA9IFtdXG4gIE9iamVjdC5rZXlzKGNvbnRyb2xEYXRhKS5mb3JFYWNoKChwcm9wTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKGV4Y2x1ZGVOZWVkUmVtb3ZlUHJvcE5hbWVzLmluY2x1ZGVzKHByb3BOYW1lKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgcHJvcE1ldGEgPSBtZXRhQXBpLmdldENvbnRyb2xNZXRhUHJvcGVydHkoY2hhbmdlVHlwZSwgcHJvcE5hbWUpXG4gICAgaWYgKCFwcm9wTWV0YSB8fCBPYmplY3Qua2V5cyhwcm9wTWV0YSk/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmVtb3ZlUHJvcE5hbWVzLnB1c2gocHJvcE5hbWUpXG4gICAgfVxuICB9KVxuICBpZiAocmVtb3ZlUHJvcE5hbWVzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gY3JlYXRlUmVtb3ZlUHJvcEFjdGlvbihbY29udHJvbERhdGE/LklkLCByZW1vdmVQcm9wTmFtZXNdKVxuICB9XG59XG5cbi8qKlxuICog5qC55o2u54i257G75Z6L77yM6I635Y+W5o6n5Lu25a+55bqU55qE5a6e5L2T57G75Z6LXG4gKiBAcGFyYW0gdHlwZSDlvZPliY3nsbvlnotcbiAqIEBwYXJhbSBwYXJlbnRUeXBlIOeItuaOp+S7tuexu+Wei1xuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEN1cnJlbnRBcFR5cGUgPSAodHlwZSwgcGFyZW50VHlwZSkgPT4ge1xuICByZXR1cm4gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZSA6ICh0eXBlPy5bcGFyZW50VHlwZV0gfHwgdHlwZT8uRGVmYXVsdClcbn1cblxuLy8g6aKE5aSE55CG5pWw5o2uXG5leHBvcnQgY29uc3QgYWRkQ29udHJvbFByb3BlcnR5ID0gKHZhbHVlOiBhbnksIHtcbiAgZGF0YUNvbnRleHQsXG4gIG1ldGFSZWFkZXJcbn06IGFueSkgPT4ge1xuICBjb25zdCB7IF9UeXBlXzogY3RybFJlYWxUeXBlLCBJZCwgUGFyZW50SWQgfSA9IHZhbHVlXG4gIGNvbnN0IHJvb3RJZCA9IGRhdGFDb250ZXh0LmdldFJvb3RJZCgpXG5cbiAgaWYgKGlzQml6QnV0dG9uKGN0cmxSZWFsVHlwZSkpIHJldHVybiB2YWx1ZVxuXG4gIGNvbnN0IHsgX1R5cGVfOiBwYXJlbnRUeXBlLCBTdGF0dXM6IHBhcmVudFN0YXR1cyB9ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woUGFyZW50SWQpXG4gIGNvbnN0IGNvbnRyb2xNZXRhID0gbWV0YVJlYWRlci5nZXRDb250cm9sTWV0YShjdHJsUmVhbFR5cGUpXG4gIGNvbnN0IHsgQXBUeXBlLCBCYXNlVHlwZSB9ID0gY29udHJvbE1ldGFcbiAgY29uc3QgeyBCYXNlVHlwZTogUGFyZW50QmFzZVR5cGUgfSA9IG1ldGFSZWFkZXIuZ2V0Q29udHJvbE1ldGEocGFyZW50VHlwZSlcbiAgLyoqXG4gICAqIOa3u+WKoHVp5o6n5Lu25pe277yM5aaC5p6c5pyJ5a6e5L2T5bGe5oCn77yM5YiZ5Yib5bu65LiA5LiqRW50aXR5RGF0YeeahOWunuS9k+WvueixoVxuICAgKiBFbnRpdHlEYXRh55So5LqOb25EYXRh5pe2bWVyZ2Xov5vlhaVlbnRpdHltZXRh5LitXG4gICAqL1xuICBpZiAoQXBUeXBlICYmICF1bkV4aXN0RW50aXR5Q29udHJvbFR5cGUoY3RybFJlYWxUeXBlKSkge1xuICAgIC8vIOaOp+S7tm1ldGHph4zlpoLmnpzlrZjlnKhBcFR5cGXvvIzliJnku6PooajmnInlrp7kvZPvvIzopoHkuLrmjqfku7bliJvlu7rlrp7kvZPlsZ7mgKdcbiAgICBjb25zdCBlbnRpdHlEYXRhID0gT2JqZWN0LmtleXModmFsdWUpLnJlZHVjZSgobmV3RW50aXR5OiBhbnksIHByb3BOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IHByb3BNZXRhID0gbWV0YVJlYWRlci5nZXRDb250cm9sTWV0YVByb3BlcnR5KGN0cmxSZWFsVHlwZSwgcHJvcE5hbWUpXG4gICAgICBjb25zdCB7IFRhZzogcHJvcGVydHlUYWcgfSA9IHByb3BNZXRhXG4gICAgICBpZiAocHJvcGVydHlUYWcgPT09IFBST1BfVFlQRV9FTlRJVFkgfHwgcHJvcGVydHlUYWcgPT09IFBST1BfVFlQRV9BTEwgfHwgRU5USVRZX0RBVEFfREVGQVVMVF9QUk9QLmluY2x1ZGVzKHByb3BOYW1lKSkge1xuICAgICAgICBuZXdFbnRpdHlbcHJvcE5hbWVdID0gdmFsdWVbcHJvcE5hbWVdXG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3RW50aXR5XG4gICAgfSwge30pXG4gICAgaWYgKGlzR3JvdXBDb250YWluZXIocGFyZW50VHlwZSkpIHtcbiAgICAgIC8vIOWIhue7hOS4i+eahOWtl+aute+8jFBhcmVudElk6YO96K6+572u5Li65qC56IqC54K5aWTvvIjlm6DkuLrliIbnu4TmsqHmnInlrp7kvZPvvIlcbiAgICAgIGVudGl0eURhdGEuUGFyZW50SWQgPSByb290SWRcbiAgICB9XG4gICAgY29uc3QgRmllbGRJZEtleSA9IGAke0Jhc2VUeXBlfUlkYFxuICAgIHZhbHVlW0ZpZWxkSWRLZXldID0gSWRcbiAgICB2YWx1ZS5GaWVsZFR5cGUgPSBjdHJsUmVhbFR5cGVcbiAgICAvLyAgIFwiQXBUeXBlXCI6IHtcbiAgICAvLyAgICAgXCJFbnRyeVwiOlwiTm9Db2RlRW50cnlGaWVsZEFwXCIsXG4gICAgLy8gICAgIFwiRGVmYXVsdFwiOiBcIk5vQ29kZUZpZWxkQXBcIlxuICAgIC8vICAgfVxuICAgIC8vICAgLy/moLzlvI/kuozvvJpcbiAgICAvLyBcIkFwVHlwZVwiOiBcIk5vQ29kZUZpZWxkQXBcIixcbiAgICB2YWx1ZS5BcFR5cGUgPSBnZXRDdXJyZW50QXBUeXBlKEFwVHlwZSwgUGFyZW50QmFzZVR5cGUpXG5cbiAgICBpZiAoaXNTZWxlY3RGaWVsZChjdHJsUmVhbFR5cGUpICYmICFlbnRpdHlEYXRhPy5DdXN0b21Db250ZW50Py5vcHM/Lmxlbmd0aCkge1xuICAgICAgLy8g6YCJ6aG55re75Yqg55qE5pe25YCZ77yM6aKc6Imy5byA5YWz6Ieq5Yqo5byA5ZCv77yM5bm26Ieq5Yqo6LWL5LqI6ZqP5py66aKc6ImyXG4gICAgICBSQU5ET01fQ09MT1JfTElTVCA9IHNodWZmbGUoUkFORE9NX0NPTE9SX0xJU1QpXG4gICAgICBjb25zdCBDdXN0b21Db250ZW50RGVmYXVsdCA9IG1ldGFSZWFkZXIuZ2V0Q29udHJvbFByb3BlcnR5RGVmYXVsdFZhbHVlKGN0cmxSZWFsVHlwZSwgJ0N1c3RvbUNvbnRlbnQnKVxuICAgICAgY29uc3Qgd2l0aENvbG9yT3BzID0gQ3VzdG9tQ29udGVudERlZmF1bHQub3BzLm1hcCgoaXRlbTogYW55LCBpbmRleDogbnVtYmVyKSA9PiAoeyAuLi5pdGVtLCBCZ2M6IFJBTkRPTV9DT0xPUl9MSVNUW2luZGV4XSB9KSlcbiAgICAgIGNvbnN0IEN1c3RvbUNvbnRlbnRWYWx1ZSA9IHtcbiAgICAgICAgYmdjU3dpdGNoOiB0cnVlLFxuICAgICAgICBvcHM6IGFkZEl0ZW1JZCh3aXRoQ29sb3JPcHMpXG4gICAgICB9XG4gICAgICAvLyBDdXN0b21Db250ZW505Li65a6e5L2T5bGe5oCn77yMZW50aXR5RGF0YemHjOmcgOimgW1lcmdl6L+b5Y67XG4gICAgICB2YWx1ZS5DdXN0b21Db250ZW50ID0gQ3VzdG9tQ29udGVudFZhbHVlXG4gICAgICBPYmplY3QuYXNzaWduKGVudGl0eURhdGEsIHsgQ3VzdG9tQ29udGVudDogQ3VzdG9tQ29udGVudFZhbHVlIH0pXG4gICAgfVxuICAgIHZhbHVlLkVudGl0eURhdGEgPSBlbnRpdHlEYXRhXG4gIH1cblxuICBpZiAoaXNFbnRyeUVudGl0eShwYXJlbnRUeXBlKSB8fCBpc1JlZkJpbGxUYWJsZShwYXJlbnRUeXBlKSkge1xuICAgIHZhbHVlLl9pc0VudHJ5RmllbGRfID0gdHJ1ZVxuICB9XG5cbiAgLy8g5LiO54i26IqC54K554q25oCB5L+d5oyB5LiA6Ie0XG4gIGlmIChpc0dyb3VwQ29udGFpbmVyKHBhcmVudFR5cGUpICYmIHBhcmVudFN0YXR1cykge1xuICAgIHZhbHVlLlN0YXR1cyA9IHBhcmVudFN0YXR1c1xuICB9XG4gIHJldHVybiB2YWx1ZVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///99888\n");

/***/ }),

/***/ 82048:
/*!*****************************************!*\
  !*** ./src/utils/refBillEditorUtils.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FIELD_MAPPER: function() { return /* binding */ FIELD_MAPPER; },\n/* harmony export */   createTableControl: function() { return /* binding */ createTableControl; },\n/* harmony export */   deleteRefControl: function() { return /* binding */ deleteRefControl; },\n/* harmony export */   formatTableControl: function() { return /* binding */ formatTableControl; },\n/* harmony export */   getCtrlPropsDisplay: function() { return /* binding */ getCtrlPropsDisplay; },\n/* harmony export */   getFormCtrlMetas: function() { return /* binding */ getFormCtrlMetas; },\n/* harmony export */   getRetaindProps: function() { return /* binding */ getRetaindProps; },\n/* harmony export */   getUpdateStatusAction: function() { return /* binding */ getUpdateStatusAction; },\n/* harmony export */   isAppInnerForm: function() { return /* binding */ isAppInnerForm; },\n/* harmony export */   isHiddenRefField: function() { return /* binding */ isHiddenRefField; },\n/* harmony export */   isRefSysControl: function() { return /* binding */ isRefSysControl; },\n/* harmony export */   sortEntityWithSelected: function() { return /* binding */ sortEntityWithSelected; },\n/* harmony export */   transformControlRefProps: function() { return /* binding */ transformControlRefProps; },\n/* harmony export */   transformEntityData: function() { return /* binding */ transformEntityData; },\n/* harmony export */   transformToTree: function() { return /* binding */ transformToTree; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set */ 99308);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_reflect_has__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/reflect/has */ 22796);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_reflect_has__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_reflect_has__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/values */ 72400);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ 28429);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 1900);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 61260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/entries */ 82581);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! . */ 41232);\n/* harmony import */ var _control__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./control */ 3700);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../constants */ 98092);\n/* harmony import */ var _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../reducer/reduceConstants */ 10788);\n/* harmony import */ var _preHandleUtils__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./preHandleUtils */ 99888);\n\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_8___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar FIELD_MAPPER = {\n  nocodetextfield: 'NoCodeTextField',\n  nocodetextareafield: 'NoCodeTextAreaField',\n  nocodedecimalfield: 'NoCodeDecimalField',\n  nocodemulrefbillfield: 'NoCodeMulRefBillField',\n  nocodedatefield: 'NoCodeDateField',\n  nocodedaterangefield: 'NoCodeDateRangeField',\n  nocodeimageuploadfield: 'NoCodeImageUploadField',\n  nocodeattachmentuploadfield: 'NoCodeAttachmentUploadField',\n  nocodecreatedatefield: 'NoCodeCreateDateField',\n  nocodecreatorfield: 'NoCodeCreatorField',\n  nocodemodifydatefield: 'NoCodeModifyDateField',\n  nocodemodifierfield: 'NoCodeModifierField',\n  nocodebillnofield: 'NoCodeBillNoField'\n};\n\n/**\n * 是否为应用内表单\n * @param info 控件信息\n * @param innerList 应用内表单ID列表\n * @returns Boolean\n */\nvar isAppInnerForm = function isAppInnerForm(_ref, innerList) {\n  var _context;\n  var SourceForm = _ref.SourceForm,\n    BillEntityIdEx = _ref.BillEntityIdEx;\n  // const { SourceForm, BillEntityIdEx } = info || {}\n  var inner = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_9___default())(innerList);\n  if (SourceForm === '1') return true;\n  if (!BillEntityIdEx || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(_context = ['bos_user', 'bos_adminorg']).call(_context, BillEntityIdEx)) return false;\n  // const controls = metaApi.getMeta().Controls.filter((ctrl:any) => ctrl.CategoryId === 'CategoryBizContent')\n  // return controls.some((form:any) => {\n  //   return form.Id.includes(BillEntityIdEx)\n  // })\n  return inner.has(BillEntityIdEx);\n};\nvar transformToTree = function transformToTree(options) {\n  var prop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var isInner = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var innerForm = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  if (!options) return options;\n  var data = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(options).call(options, function (item) {\n    var _ref2 = item || {},\n      label = _ref2.label,\n      value = _ref2.value,\n      children = _ref2.children,\n      icon = _ref2.icon,\n      customParams = _ref2.customParams;\n    var itemData = _objectSpread({\n      key: value,\n      title: label\n    }, prop);\n    if (icon) {\n      itemData.icon = icon;\n    }\n    if (children) {\n      if (children.length) {\n        itemData.children = transformToTree(children, {}, customParams === null || customParams === void 0 ? void 0 : customParams.currentApp, innerForm)[0];\n      }\n      // 还有种children为[]空数组的情况，这种情况需要异步请求数据\n      itemData.checkable = false;\n      itemData.selectable = false;\n    } else {\n      // isLeaf代表不需要请求异步数据\n      itemData.isLeaf = true;\n    }\n    if (isInner) innerForm.push(value);\n    return itemData;\n  });\n  return [data, innerForm];\n};\n\n/**\n * 补齐关联表单及表格之间的关联属性\n * RefTableId RefTableKey RefBillId RefBillKey\n * @param sourceControl 源控件\n * @param refControl 关联控件\n * @returns [newSourceControl, newRefControl]\n */\nvar transformControlRefProps = function transformControlRefProps(sourceControl, refControl) {\n  var _ref3 = sourceControl || {},\n    copyId = _ref3.Id,\n    copyKey = _ref3.Key,\n    RefTableId = _ref3.RefTableId,\n    controlType = _ref3._Type_;\n  var _ref4 = refControl || {},\n    refId = _ref4.Id,\n    refKey = _ref4.Key;\n  // 修正关联的ID和KEY\n  if ((0,_control__WEBPACK_IMPORTED_MODULE_22__.isRefBill)(controlType) && RefTableId) {\n    sourceControl.RefTableId = refId;\n    sourceControl.RefTableKey = refKey;\n    sourceControl.EntityData.RefTableId = refId;\n    sourceControl.EntityData.RefTableKey = refKey;\n    refControl.RefBillId = copyId;\n    refControl.RefBillKey = copyKey;\n    refControl.EntityData.RefBillId = copyId;\n    refControl.EntityData.RefBillKey = copyKey;\n  }\n  if ((0,_control__WEBPACK_IMPORTED_MODULE_22__.isRefBillTable)(controlType)) {\n    sourceControl.RefBillId = refId;\n    sourceControl.RefBillKey = refKey;\n    sourceControl.EntityData.RefBillId = refId;\n    sourceControl.EntityData.RefBillKey = refKey;\n    refControl.RefTableId = copyId;\n    refControl.RefTableKey = copyKey;\n    refControl.EntityData.RefTableId = copyId;\n    refControl.EntityData.RefTableKey = copyKey;\n  }\n};\n\n// 判断是否是隐藏的关联表单或表格控件\nvar isHiddenRefField = function isHiddenRefField(field) {\n  var type = (field === null || field === void 0 ? void 0 : field.FieldType) || field._Type_;\n  return (0,_control__WEBPACK_IMPORTED_MODULE_22__.isRefBillTable)(type) && field.ShowType === '1' || (0,_control__WEBPACK_IMPORTED_MODULE_22__.isRefBill)(type) && field.ShowType === '2';\n};\n\n// 系统字段\nvar isRefSysControl = function isRefSysControl(type) {\n  var _context2;\n  return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(_context2 = ['NoCodeCreatorField', 'NoCodeCreateDateField', 'NoCodeModifierField', 'NoCodeModifyDateField', 'NoCodeBillNoField']).call(_context2, type);\n};\n// 可显示字段不支持图片、附件、富文本、图文展示、关联表单表格、分组容器\n// 12.25根据需求调整，图片附件需要支持在显示内容里可选\nvar isSpecialCtrl = function isSpecialCtrl(type, inner) {\n  var typeList = ['NoCodeRefBillTable', 'NoCodeRichTextField', 'NoCodeGroupContainerAp', 'NoCodeGraphicDisplayField'];\n  // 内部表格时可以添加图片附件\n  // typeList = !inner ? typeList.concat(['NoCodeImageUploadField', 'NoCodeAttachmentUploadField']) : typeList\n  return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(typeList).call(typeList, type);\n};\n\n/**\n * 对列表进行排序\n * @param list 选项中显示内容列表\n * @param selected 已选KEY\n * @returns\n */\nvar sortEntityWithSelected = function sortEntityWithSelected(list, selected) {\n  var mapper = {};\n  var selectStr = typeof selected === 'string' ? selected : (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(selected).join();\n  var hasDateRange = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(selectStr).call(selectStr, '_startdate');\n  var newStr = hasDateRange ? selectStr.replace('_startdate', '').replace('_enddate', '') : selectStr;\n  // const keys = hasDateRange ? new Set(newStr.split(',')) : new Set(selected)\n  var keys = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_9___default())(newStr.split(','));\n  var newList = [];\n  list.forEach(function (item) {\n    // 将数组转成映射对象, 同时将其余KEY添加到keys里用于遍历\n    keys.add(item.Key);\n    mapper[item.Key] = item;\n  });\n  keys.forEach(function (key) {\n    if (mapper !== null && mapper !== void 0 && mapper[key]) {\n      newList.push(mapper[key]);\n    }\n  });\n  return newList;\n};\n\n/**\n * 合并entitymeta和formmeta属性\n * @param target\n * @param source\n */\nvar mergeDiffProp = function mergeDiffProp(target, source) {\n  _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_8___default()(source).forEach(function (propName) {\n    if (!_babel_runtime_corejs3_core_js_stable_reflect_has__WEBPACK_IMPORTED_MODULE_12___default()(target, propName)) {\n      (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(target, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({}, propName, source[propName]));\n    }\n  });\n};\n\n/**\n * 合并formmeta和entitymeta信息\n * @param formItem 表单信息\n * @param entityItem 实体信息\n */\nvar transformCtrlMeta = function transformCtrlMeta(formItem, entityItem) {\n  formItem.EntityData = entityItem;\n  formItem.ApType = (0,_control__WEBPACK_IMPORTED_MODULE_22__.isSysControl)(entityItem._Type_) ? 'NoCodeSystemAp' : formItem._Type_;\n  formItem._Type_ = entityItem._Type_;\n  formItem.FieldType = entityItem._Type_;\n  mergeDiffProp(formItem, entityItem);\n  return formItem;\n};\n\n/**\n * 将表格的信息转成设计器内的控件信息\n * @param formInfo\n * @returns\n */\nvar getFormCtrlMetas = function getFormCtrlMetas(formInfo) {\n  var _data$formmeta, _data$entitymeta;\n  var _formInfo = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(formInfo, 2),\n    formId = _formInfo[0],\n    data = _formInfo[1];\n  var formList = data === null || data === void 0 || (_data$formmeta = data.formmeta) === null || _data$formmeta === void 0 || (_data$formmeta = _data$formmeta.Items) === null || _data$formmeta === void 0 ? void 0 : _data$formmeta.reduce(function (result, item) {\n    return _objectSpread(_objectSpread({}, result), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({}, item.Id, item));\n  }, {});\n  return data === null || data === void 0 || (_data$entitymeta = data.entitymeta) === null || _data$entitymeta === void 0 || (_data$entitymeta = _data$entitymeta.Items) === null || _data$entitymeta === void 0 ? void 0 : _data$entitymeta.reduce(function (result, item) {\n    var _context3;\n    // 添加form id保证唯一性\n    return _objectSpread(_objectSpread({}, result), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({}, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default()(_context3 = \"\".concat(item.Key, \"_\")).call(_context3, formId), transformCtrlMeta((formList === null || formList === void 0 ? void 0 : formList[item.Id]) || {}, item)));\n  }, {});\n};\n\n/**\n * 检测当前日期是否可显示\n * @param key 日期范围的key属性\n * @param display 显示属性的key值集合\n * @returns boolean\n */\nvar checkDataRangeShow = function checkDataRangeShow(key, display) {\n  return (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(display).some(function (k) {\n    return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(k).call(k, key);\n  });\n};\n\n/**\n * 将表单设计器数据里的entitymeta和formmeta数据合并成控件数据\n * 对数据进行格式化, 并添加是否可见/编辑态的属性\n * 默认都不可见\n * @param info store内关联表单源表数据\n * @param field 父节点信息\n * @returns\n */\nvar transformEntityData = function transformEntityData(info, field) {\n  var _datas$entitymeta, _datas$formmeta, _context4, _datas$formmeta2;\n  var _ref5 = field || {},\n    Id = _ref5.Id,\n    SourceForm = _ref5.SourceForm,\n    PropsDisplay = _ref5.PropsDisplay,\n    inner2Outer = _ref5.inner2Outer,\n    BillEntityIdEx = _ref5.BillEntityIdEx;\n  var datas = (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__.cloneDeep)(info);\n  var selected = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_9___default())(PropsDisplay ? PropsDisplay.split(',') : []);\n  var form = BillEntityIdEx || \"\".concat(Id, \"_table\");\n  var entities = (datas === null || datas === void 0 || (_datas$entitymeta = datas.entitymeta) === null || _datas$entitymeta === void 0 ? void 0 : _datas$entitymeta.Items) || [];\n  var formdatas = (datas === null || datas === void 0 || (_datas$formmeta = datas.formmeta) === null || _datas$formmeta === void 0 ? void 0 : _datas$formmeta.Items) || [];\n  var formes = {};\n  var list = [];\n  var isCosmic = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(_context4 = ['bos_user', 'bos_adminorg']).call(_context4, form); // 是否是苍穹表单\n  var groupIds = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_9___default())(); // 只取容器下的控件\n  // const newSelect = new Set(selected)\n  datas === null || datas === void 0 || (_datas$formmeta2 = datas.formmeta) === null || _datas$formmeta2 === void 0 || (_datas$formmeta2 = _datas$formmeta2.Items) === null || _datas$formmeta2 === void 0 || _datas$formmeta2.forEach(function (item) {\n    formes[item.Id] = item;\n  });\n  if (entities.length) {\n    // 先把容器ID过滤出来\n    // 两个FOR循环不可整合，数据为扁平化的数据，防止子控件的顺序在容器之前\n    formdatas.forEach(function (item) {\n      if ((0,___WEBPACK_IMPORTED_MODULE_21__.isGroupContainer)(item._Type_) || (0,_control__WEBPACK_IMPORTED_MODULE_22__.isBillForm)(item._Type_)) groupIds.add(item.Id);\n    });\n    entities.forEach(function (item) {\n      // const formItem = formes?.[item.Id] || {}\n      // formItem.EntityData = item\n      // formItem.ApType = isSysControl(item._Type_) ? 'NoCodeSystemAp' : formItem._Type_\n      // formItem._Type_ = item._Type_\n      // formItem.FieldType = item._Type_\n      // formItem._isEntryField_ = true\n      // mergeDiffProp(formItem, item)\n      var formItem = transformCtrlMeta((formes === null || formes === void 0 ? void 0 : formes[item.Id]) || {}, item);\n      formItem._isEntryField_ = true;\n      // 有父节点,不是容器组件,不是关联表单表格\n      // 系统字段无父节点\n      if (SourceForm === '1') {\n        // 内部转外部时，系统字段需要展示出来\n        var showSysControl = inner2Outer || !isRefSysControl(item._Type_);\n        if (showSysControl && !isSpecialCtrl(item._Type_, true) && !(0,___WEBPACK_IMPORTED_MODULE_21__.isGroupContainer)(item._Type_) && !(0,_control__WEBPACK_IMPORTED_MODULE_22__.isBillForm)(item._Type_)) {\n          formItem.isShow = inner2Outer ? selected.has(item.Key) : true;\n          list.push(formItem);\n        }\n      } else {\n        if (isCosmic || (isRefSysControl(item._Type_) || groupIds.has(formItem === null || formItem === void 0 ? void 0 : formItem.ParentId)) && !isSpecialCtrl(formItem._Type_, false)) {\n          // 日期范围字段是由两个日期字段合成\n          var show = selected.has(item.Key);\n          if ((0,_control__WEBPACK_IMPORTED_MODULE_22__.isDateRange)(item._Type_)) {\n            show = checkDataRangeShow(item.Key, selected);\n          }\n          formItem.isShow = show;\n          // formItem.isEdit = false\n          list.push(formItem);\n        }\n      }\n    });\n  }\n  return list;\n  // return [list, [...selected]]\n};\n/**\n * 删除控件\n * @param ids 要删除的ID\n * @param dispatchBillData 更新store数据\n * @param dataContext data上下文\n * @param hideField 隐藏控件\n * @param setHideField 更新隐藏控件\n * @param callback 回调\n * @returns\n */\nvar deleteRefControl = function deleteRefControl(ids, billPropsData, dispatchBillData, dataContext, hideField, setHideField, callback) {\n  var otherAction = [];\n  var preHandleResults = ids.reduce(function (prev, id) {\n    var _context6;\n    var _ref6 = dataContext.findControl(id) || {},\n      ParentId = _ref6.ParentId,\n      fieldKey = _ref6.Key,\n      RefTableId = _ref6.RefTableId,\n      RefBillId = _ref6.RefBillId,\n      ctrlType = _ref6._Type_;\n    var _ref7 = dataContext.findControl(ParentId) || {},\n      parentType = _ref7._Type_,\n      SourceForm = _ref7.SourceForm,\n      BillEntityIdEx = _ref7.BillEntityIdEx,\n      PropsDisplay = _ref7.PropsDisplay;\n    if ((0,_control__WEBPACK_IMPORTED_MODULE_22__.isRefBillTable)(parentType)) {\n      var _context5;\n      var form = SourceForm === '1' && !BillEntityIdEx ? \"\".concat(ParentId, \"_table\") : BillEntityIdEx;\n      var fieldId = id.replace(\"_\".concat(ParentId), '');\n      if (SourceForm === '1' || !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(_context5 = billPropsData[form].ids).call(_context5, fieldId)) {\n        // 内部表格时，直接更新\n        dispatchBillData({\n          key: _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_24__.DEL_CONTROL,\n          payload: {\n            form: form,\n            id: fieldId\n          }\n        });\n      }\n      var selected = new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_9___default())(PropsDisplay ? PropsDisplay.split(',') : []);\n      // 后台保存之后会转小写\n      var newKey = fieldKey.toLowerCase().replace(\"_\".concat(ParentId.toLowerCase()), '');\n      // 日期组件是两个控件\n      if ((0,_control__WEBPACK_IMPORTED_MODULE_22__.isDateRange)(ctrlType)) {\n        selected.delete(\"\".concat(newKey, \"_startdate\"));\n        selected.delete(\"\".concat(newKey, \"_enddate\"));\n      } else {\n        selected.delete(newKey);\n      }\n      var newSelete = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(selected).join();\n      otherAction = [[ParentId, {\n        PropsDisplay: newSelete\n      }]];\n    }\n    // 关联表单表格模式，关联表单及关联的表格两个一起删除\n    // 使用新方案，更新隐藏控件缓存\n    // if (RefBillId || RefTableId) {\n    //   prev.push(RefBillId || RefTableId)\n    // }\n\n    if (RefBillId) {\n      delete hideField[RefBillId];\n    }\n    if (RefTableId) {\n      _babel_runtime_corejs3_core_js_stable_object_values__WEBPACK_IMPORTED_MODULE_14___default()(hideField).forEach(function (item) {\n        if (item.Id === RefTableId || item.ParentId === RefTableId) delete hideField[item.Id];\n      });\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default()(_context6 = []).call(_context6, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(prev), [id]);\n  }, []);\n\n  // 更新缓存\n  setHideField(hideField);\n  // 同步执行\n  _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_15___default().all([dataContext.deleteControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_20__.createDeleteAction)(preHandleResults)), dataContext.batchUpdateControlPropertyValues((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_20__.createUpdateAction)(otherAction))]).then(function () {\n    callback === null || callback === void 0 || callback();\n  }).catch(function (err) {\n    return console.error(err);\n  });\n};\n\n/**\n * 创建表格控件\n * @param value 控件值\n * @param ParentId\n * @param retained 需要保留的属性数据\n */\nvar createTableControl = function createTableControl(value, ParentId) {\n  var _context7, _context8;\n  var retained = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [{}, {}];\n  var fieldId = value.Id,\n    fieldKey = value.Key,\n    fieldType = value._Type_,\n    fieldEntity = value.EntityData;\n  var newValue = (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_19__.cloneDeep)(value);\n  var pid = ParentId.toLowerCase();\n  var newFieldKey = fieldKey.toLowerCase();\n  var Key = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(newFieldKey).call(newFieldKey, pid) ? newFieldKey : _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default()(_context7 = \"\".concat(newFieldKey, \"_\")).call(_context7, pid);\n  var Id = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(fieldId).call(fieldId, ParentId) ? fieldId : _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default()(_context8 = \"\".concat(fieldId, \"_\")).call(_context8, ParentId);\n  // 这些属性值不同步\n  var deleteKey = ['isShow', 'UploadDefValue', 'PictureDefValue', 'NoCodeDefValue', 'FieldRequired', 'Status', 'Visibility'];\n  deleteKey.forEach(function (item) {\n    delete newValue[item];\n    delete fieldEntity[item];\n  });\n  if ((0,_control__WEBPACK_IMPORTED_MODULE_22__.isDateRange)(fieldType)) {\n    newValue.StartDateFieldKey = \"\".concat(Key, \"_startdate\");\n    newValue.EndDateFieldKey = \"\".concat(Key, \"_enddate\");\n    newValue.EntityData.StartDateFieldKey = \"\".concat(Key, \"_startdate\");\n    newValue.EntityData.EndDateFieldKey = \"\".concat(Key, \"_enddate\");\n  }\n  // deleteKey 里的属性都属性form\n  return _objectSpread(_objectSpread(_objectSpread({}, newValue), {}, {\n    Id: Id,\n    Key: Key,\n    ParentId: ParentId,\n    FieldId: Id\n  }, retained[0]), {}, {\n    EntityData: _objectSpread(_objectSpread({}, fieldEntity), {}, {\n      Id: Id,\n      Key: Key,\n      ParentId: ParentId\n    }, retained[1]),\n    _isEntryField_: true\n  });\n};\n\n/**\n * 添加控件时更新显示属性\n * @param display 当前显示异性\n * @param key 添加的新KEY\n * @param prevKey 上一个节点的KEY\n * @returns string\n */\nvar getCtrlPropsDisplay = function getCtrlPropsDisplay(display, key, prevKey) {\n  var newDisplay = display ? display.split(',') : [];\n  var newKey = Array.isArray(key) ? key : [key];\n  if (prevKey) {\n    var _newDisplay, _context9;\n    var index = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_16___default()(newDisplay).call(newDisplay, function (k) {\n      return k === prevKey;\n    });\n    index > -1 ? _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_17___default()(_newDisplay = newDisplay).apply(_newDisplay, _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default()(_context9 = [index + 1, 0]).call(_context9, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(newKey))) : newDisplay = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default()(newDisplay).call(newDisplay, newKey);\n  } else {\n    newDisplay = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default()(newDisplay).call(newDisplay, newKey);\n  }\n  return newDisplay.join();\n};\n\n/**\n * 更新控件状态时\n * 如果在表格或分组容器里时，如果status > 当今修改的状态，则需要同时更新表格或分组容器的状态\n * 如果更新表格或分组容器状态，需要同时更新子控件状态\n * @param action 更新指令\n * @param dataContext 上下文\n */\nvar getUpdateStatusAction = function getUpdateStatusAction(action, hideFields, dataContext, metaReader) {\n  var _action = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(action, 2),\n    id = _action[0],\n    change = _action[1];\n  var subs = dataContext.getAllSubControls(id);\n  var parents = dataContext.getAllParentControls(id);\n\n  // 子组件状态更新\n  var subActions = subs.reduce(function (result, item) {\n    var ctrlId = item.Id,\n      ctrlType = item._Type_;\n    if (id !== item.Id) {\n      var _context10;\n      // 系统字段不支持状态修改\n      // 产品要求，系统状态可改\n      // if (isSysControl(ctrlType)) {\n      //   return result\n      // } else {\n      var _actions = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default()(_context10 = []).call(_context10, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(result), [[ctrlId, change]]);\n      var newEntityAction = (0,_preHandleUtils__WEBPACK_IMPORTED_MODULE_25__.collectEntityChangeActions)(ctrlId, change, item, {\n        metaReader: metaReader\n      });\n      // !isGroupContainer(ctrlType) && actions.push([ctrlId, { EntityData: { ...EntityData, ...change } }])\n      newEntityAction && _actions.push(newEntityAction);\n      return _actions;\n      // }\n    }\n    // 更新隐藏控件\n    if (item !== null && item !== void 0 && item.RefBillId || item !== null && item !== void 0 && item.RefTableId) {\n      var _id = (item === null || item === void 0 ? void 0 : item.RefBillId) || (item === null || item === void 0 ? void 0 : item.RefTableId);\n      var hideItem = hideFields[_id];\n      var newEntity = (0,_preHandleUtils__WEBPACK_IMPORTED_MODULE_25__.getEntityChange)(change, hideItem, metaReader);\n      hideFields[_id] = _objectSpread(_objectSpread(_objectSpread({}, hideItem), change), {}, {\n        EntityData: newEntity\n      });\n      if (item !== null && item !== void 0 && item.RefTableId) {\n        _babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_18___default()(hideFields).forEach(function (entry) {\n          var _entry = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(entry, 2),\n            ctrlId = _entry[0],\n            ctrl = _entry[1];\n          if (ctrl.ParentId === (item === null || item === void 0 ? void 0 : item.RefTableId)) {\n            var entity = (0,_preHandleUtils__WEBPACK_IMPORTED_MODULE_25__.getEntityChange)(change, hideItem, metaReader);\n            hideFields[ctrlId] = _objectSpread(_objectSpread(_objectSpread({}, ctrl), change), {}, {\n              EntityData: entity\n            });\n          }\n        });\n      }\n    }\n    return result;\n  }, []);\n  // 父容器状态更新，分组控件只有1和4两种状态,分组控件无实体\n  var parentActions = parents.reduce(function (result, item) {\n    var ctrlId = item.Id,\n      ctrlType = item._Type_,\n      ctrlStatus = item.Status;\n    if (((0,___WEBPACK_IMPORTED_MODULE_21__.isGroupContainer)(ctrlType) || (0,_control__WEBPACK_IMPORTED_MODULE_22__.isRefBillTable)(ctrlType)) && Number(ctrlStatus) > Number(change.Status)) {\n      var _context11;\n      // const newChange = isGroupContainer(ctrlType) ? [[ctrlId, { Status: '1' }]] : [[ctrlId, change], [ctrlId, { EntityData: { ...EntityData, ...change } }]]\n      // status属性不需要更新到实体内\n      var newChang = (0,___WEBPACK_IMPORTED_MODULE_21__.isGroupContainer)(ctrlType) ? {\n        Status: '1'\n      } : change;\n      var _actions2 = [[ctrlId, newChang]];\n      var newEntityAction = (0,_preHandleUtils__WEBPACK_IMPORTED_MODULE_25__.collectEntityChangeActions)(ctrlId, change, item, {\n        metaReader: metaReader\n      });\n      !(0,___WEBPACK_IMPORTED_MODULE_21__.isGroupContainer)(ctrlType) && newEntityAction && _actions2.push(newEntityAction);\n      var hideItem = hideFields[item === null || item === void 0 ? void 0 : item.RefBillId];\n      if (hideItem) {\n        var newEntity = (0,_preHandleUtils__WEBPACK_IMPORTED_MODULE_25__.getEntityChange)(change, hideItem, metaReader);\n        hideFields[item === null || item === void 0 ? void 0 : item.RefBillId] = _objectSpread(_objectSpread(_objectSpread({}, hideItem), change), {}, {\n          EntityData: newEntity\n        });\n      }\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default()(_context11 = []).call(_context11, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(result), _actions2);\n    }\n    return result;\n  }, []);\n  // console.log('getUpdateStatusAction', subActions, parentActions)\n  var actions = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default()(subActions).call(subActions, parentActions);\n  return actions.length && (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_20__.createUpdateAction)(actions);\n};\n\n/**\n * 获取默认值、是否必录、控件状态的数据\n * FieldRequired Status NoCodeDefValue 三个属性不可以被覆盖\n * @param oldField\n * @param metaReader\n */\nvar getRetaindProps = function getRetaindProps(field, oldField, metaReader) {\n  if (!oldField) return;\n  var defaultVal = metaReader.getDefaultData(field._Type_);\n  var retaind = [{}, {}];\n  _constants__WEBPACK_IMPORTED_MODULE_23__.CONTROL_RETAIND_PROPS.forEach(function (propsName) {\n    var propsInfo = metaReader.getControlMetaProperty(field._Type_, propsName);\n    var propertyTag = propsInfo.Tag;\n    var isEntity = propertyTag === _constants__WEBPACK_IMPORTED_MODULE_23__.PROP_TYPE_ENTITY || propertyTag === _constants__WEBPACK_IMPORTED_MODULE_23__.PROP_TYPE_ALL;\n    var defVal = oldField[propsName] || defaultVal[propsName];\n    console.log('getRetaindProps', propsInfo);\n    if (isEntity) {\n      !!defVal && (retaind[1][propsName] = defVal);\n      !!defVal && (retaind[0][propsName] = defVal);\n    } else {\n      !!defVal && (retaind[0][propsName] = defVal);\n    }\n  });\n  return retaind;\n};\n\n/**\n * 生成表格控件数据\n * 需要保留默认值、是否必录、控件状态数据\n * @param list 当前列表\n * @param oldCtrls 当前表格子控件\n * @param pid 父节点ID\n * @param metaReader meta渲染, 当前用于获取默认值\n */\nvar formatTableControl = function formatTableControl(list, oldCtrls, pid, metaReader) {\n  var oldCtrlObj = oldCtrls.reduce(function (result, item) {\n    return _objectSpread(_objectSpread({}, result), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({}, item.Id, item));\n  }, {});\n  var selected = [];\n  var ctrls = list.reduce(function (result, item) {\n    var info = _objectSpread({}, item);\n    if (item.isShow) {\n      var _context12, _context13;\n      selected.push(info.Key);\n      delete info.isShow;\n      var old = oldCtrlObj[_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default()(_context12 = \"\".concat(info.Id, \"_\")).call(_context12, pid)];\n      // FieldRequired Status NoCodeDefValue 三个属性不可以被覆盖\n      // 需要保留的属性, 只添加有值的属性\n      var retaind = getRetaindProps(item, old, metaReader);\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_13___default()(_context13 = []).call(_context13, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(result), [createTableControl(info, pid, retaind)]);\n    } else {\n      return result;\n    }\n  }, []);\n  return [ctrls, selected];\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODIwNDguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy91dGlscy9yZWZCaWxsRWRpdG9yVXRpbHMudHM/NGRlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjbG9uZURlZXAsIGlzRXF1YWwgfSBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgeyBjcmVhdGVVcGRhdGVBY3Rpb24sIGNyZWF0ZURlbGV0ZUFjdGlvbiB9IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IGlzR3JvdXBDb250YWluZXIgfSBmcm9tICcuJ1xuaW1wb3J0IHsgaXNBdHRhY2htZW50RmllbGQsIGlzQmlsbEZvcm0sIGlzRGF0ZVJhbmdlLCBpc0ltYWdlRmllbGQsIGlzUmVmQmlsbCwgaXNSZWZCaWxsVGFibGUsIGlzU3lzQ29udHJvbCB9IGZyb20gJy4vY29udHJvbCdcbmltcG9ydCB7IE5PQ09ERV9NVUxfUkVGX0JJTExfRklFTEQsIFBST1BfVFlQRV9BTEwsIFBST1BfVFlQRV9FTlRJVFksIENPTlRST0xfUkVUQUlORF9QUk9QUyB9IGZyb20gJy4uL2NvbnN0YW50cydcbmltcG9ydCB7IERFTF9DT05UUk9MIH0gZnJvbSAnLi4vcmVkdWNlci9yZWR1Y2VDb25zdGFudHMnXG5pbXBvcnQgeyBjb2xsZWN0RW50aXR5Q2hhbmdlQWN0aW9ucywgZ2V0RW50aXR5Q2hhbmdlIH0gZnJvbSAnLi9wcmVIYW5kbGVVdGlscydcblxuZXhwb3J0IGNvbnN0IEZJRUxEX01BUFBFUiA9IHtcbiAgbm9jb2RldGV4dGZpZWxkOiAnTm9Db2RlVGV4dEZpZWxkJyxcbiAgbm9jb2RldGV4dGFyZWFmaWVsZDogJ05vQ29kZVRleHRBcmVhRmllbGQnLFxuICBub2NvZGVkZWNpbWFsZmllbGQ6ICdOb0NvZGVEZWNpbWFsRmllbGQnLFxuICBub2NvZGVtdWxyZWZiaWxsZmllbGQ6ICdOb0NvZGVNdWxSZWZCaWxsRmllbGQnLFxuICBub2NvZGVkYXRlZmllbGQ6ICdOb0NvZGVEYXRlRmllbGQnLFxuICBub2NvZGVkYXRlcmFuZ2VmaWVsZDogJ05vQ29kZURhdGVSYW5nZUZpZWxkJyxcbiAgbm9jb2RlaW1hZ2V1cGxvYWRmaWVsZDogJ05vQ29kZUltYWdlVXBsb2FkRmllbGQnLFxuICBub2NvZGVhdHRhY2htZW50dXBsb2FkZmllbGQ6ICdOb0NvZGVBdHRhY2htZW50VXBsb2FkRmllbGQnLFxuICBub2NvZGVjcmVhdGVkYXRlZmllbGQ6ICdOb0NvZGVDcmVhdGVEYXRlRmllbGQnLFxuICBub2NvZGVjcmVhdG9yZmllbGQ6ICdOb0NvZGVDcmVhdG9yRmllbGQnLFxuICBub2NvZGVtb2RpZnlkYXRlZmllbGQ6ICdOb0NvZGVNb2RpZnlEYXRlRmllbGQnLFxuICBub2NvZGVtb2RpZmllcmZpZWxkOiAnTm9Db2RlTW9kaWZpZXJGaWVsZCcsXG4gIG5vY29kZWJpbGxub2ZpZWxkOiAnTm9Db2RlQmlsbE5vRmllbGQnXG59XG5cbi8qKlxuICog5piv5ZCm5Li65bqU55So5YaF6KGo5Y2VXG4gKiBAcGFyYW0gaW5mbyDmjqfku7bkv6Hmga9cbiAqIEBwYXJhbSBpbm5lckxpc3Qg5bqU55So5YaF6KGo5Y2VSUTliJfooahcbiAqIEByZXR1cm5zIEJvb2xlYW5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzQXBwSW5uZXJGb3JtID0gKHsgU291cmNlRm9ybSwgQmlsbEVudGl0eUlkRXggfTphbnksIGlubmVyTGlzdDpzdHJpbmcpID0+IHtcbiAgLy8gY29uc3QgeyBTb3VyY2VGb3JtLCBCaWxsRW50aXR5SWRFeCB9ID0gaW5mbyB8fCB7fVxuICBjb25zdCBpbm5lciA9IG5ldyBTZXQoaW5uZXJMaXN0KVxuICBpZiAoU291cmNlRm9ybSA9PT0gJzEnKSByZXR1cm4gdHJ1ZVxuICBpZiAoIUJpbGxFbnRpdHlJZEV4IHx8IFsnYm9zX3VzZXInLCAnYm9zX2FkbWlub3JnJ10uaW5jbHVkZXMoQmlsbEVudGl0eUlkRXgpKSByZXR1cm4gZmFsc2VcbiAgLy8gY29uc3QgY29udHJvbHMgPSBtZXRhQXBpLmdldE1ldGEoKS5Db250cm9scy5maWx0ZXIoKGN0cmw6YW55KSA9PiBjdHJsLkNhdGVnb3J5SWQgPT09ICdDYXRlZ29yeUJpekNvbnRlbnQnKVxuICAvLyByZXR1cm4gY29udHJvbHMuc29tZSgoZm9ybTphbnkpID0+IHtcbiAgLy8gICByZXR1cm4gZm9ybS5JZC5pbmNsdWRlcyhCaWxsRW50aXR5SWRFeClcbiAgLy8gfSlcbiAgcmV0dXJuIGlubmVyLmhhcyhCaWxsRW50aXR5SWRFeClcbn1cblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybVRvVHJlZSA9IChvcHRpb25zOmFueVtdLCBwcm9wOmFueSA9IHt9LCBpc0lubmVyOmJvb2xlYW4gPSBmYWxzZSwgaW5uZXJGb3JtOnN0cmluZ1tdID0gW10pID0+IHtcbiAgaWYgKCFvcHRpb25zKSByZXR1cm4gb3B0aW9uc1xuICBjb25zdCBkYXRhID0gb3B0aW9ucy5tYXAoaXRlbSA9PiB7XG4gICAgY29uc3QgeyBsYWJlbCwgdmFsdWUsIGNoaWxkcmVuLCBpY29uLCBjdXN0b21QYXJhbXMgfSA9IGl0ZW0gfHwge31cbiAgICBjb25zdCBpdGVtRGF0YTogYW55ID0ge1xuICAgICAga2V5OiB2YWx1ZSxcbiAgICAgIHRpdGxlOiBsYWJlbCxcbiAgICAgIC4uLnByb3BcbiAgICB9XG4gICAgaWYgKGljb24pIHtcbiAgICAgIGl0ZW1EYXRhLmljb24gPSBpY29uXG4gICAgfVxuICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICBpdGVtRGF0YS5jaGlsZHJlbiA9IHRyYW5zZm9ybVRvVHJlZShjaGlsZHJlbiwge30sIGN1c3RvbVBhcmFtcz8uY3VycmVudEFwcCwgaW5uZXJGb3JtKVswXVxuICAgICAgfVxuICAgICAgLy8g6L+Y5pyJ56eNY2hpbGRyZW7kuLpbXeepuuaVsOe7hOeahOaDheWGte+8jOi/meenjeaDheWGtemcgOimgeW8guatpeivt+axguaVsOaNrlxuICAgICAgaXRlbURhdGEuY2hlY2thYmxlID0gZmFsc2VcbiAgICAgIGl0ZW1EYXRhLnNlbGVjdGFibGUgPSBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpc0xlYWbku6PooajkuI3pnIDopoHor7fmsYLlvILmraXmlbDmja5cbiAgICAgIGl0ZW1EYXRhLmlzTGVhZiA9IHRydWVcbiAgICB9XG4gICAgaWYgKGlzSW5uZXIpIGlubmVyRm9ybS5wdXNoKHZhbHVlKVxuICAgIHJldHVybiBpdGVtRGF0YVxuICB9KVxuICByZXR1cm4gW2RhdGEsIGlubmVyRm9ybV1cbn1cblxuLyoqXG4gKiDooaXpvZDlhbPogZTooajljZXlj4rooajmoLzkuYvpl7TnmoTlhbPogZTlsZ7mgKdcbiAqIFJlZlRhYmxlSWQgUmVmVGFibGVLZXkgUmVmQmlsbElkIFJlZkJpbGxLZXlcbiAqIEBwYXJhbSBzb3VyY2VDb250cm9sIOa6kOaOp+S7tlxuICogQHBhcmFtIHJlZkNvbnRyb2wg5YWz6IGU5o6n5Lu2XG4gKiBAcmV0dXJucyBbbmV3U291cmNlQ29udHJvbCwgbmV3UmVmQ29udHJvbF1cbiAqL1xuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybUNvbnRyb2xSZWZQcm9wcyA9IChzb3VyY2VDb250cm9sOmFueSwgcmVmQ29udHJvbDphbnkpID0+IHtcbiAgY29uc3QgeyBJZDogY29weUlkLCBLZXk6IGNvcHlLZXksIFJlZlRhYmxlSWQsIF9UeXBlXzogY29udHJvbFR5cGUgfSA9IHNvdXJjZUNvbnRyb2wgfHwge31cbiAgY29uc3QgeyBJZDogcmVmSWQsIEtleTogcmVmS2V5IH0gPSByZWZDb250cm9sIHx8IHt9XG4gIC8vIOS/ruato+WFs+iBlOeahElE5ZKMS0VZXG4gIGlmIChpc1JlZkJpbGwoY29udHJvbFR5cGUpICYmIFJlZlRhYmxlSWQpIHtcbiAgICBzb3VyY2VDb250cm9sLlJlZlRhYmxlSWQgPSByZWZJZFxuICAgIHNvdXJjZUNvbnRyb2wuUmVmVGFibGVLZXkgPSByZWZLZXlcbiAgICBzb3VyY2VDb250cm9sLkVudGl0eURhdGEuUmVmVGFibGVJZCA9IHJlZklkXG4gICAgc291cmNlQ29udHJvbC5FbnRpdHlEYXRhLlJlZlRhYmxlS2V5ID0gcmVmS2V5XG4gICAgcmVmQ29udHJvbC5SZWZCaWxsSWQgPSBjb3B5SWRcbiAgICByZWZDb250cm9sLlJlZkJpbGxLZXkgPSBjb3B5S2V5XG4gICAgcmVmQ29udHJvbC5FbnRpdHlEYXRhLlJlZkJpbGxJZCA9IGNvcHlJZFxuICAgIHJlZkNvbnRyb2wuRW50aXR5RGF0YS5SZWZCaWxsS2V5ID0gY29weUtleVxuICB9XG4gIGlmIChpc1JlZkJpbGxUYWJsZShjb250cm9sVHlwZSkpIHtcbiAgICBzb3VyY2VDb250cm9sLlJlZkJpbGxJZCA9IHJlZklkXG4gICAgc291cmNlQ29udHJvbC5SZWZCaWxsS2V5ID0gcmVmS2V5XG4gICAgc291cmNlQ29udHJvbC5FbnRpdHlEYXRhLlJlZkJpbGxJZCA9IHJlZklkXG4gICAgc291cmNlQ29udHJvbC5FbnRpdHlEYXRhLlJlZkJpbGxLZXkgPSByZWZLZXlcbiAgICByZWZDb250cm9sLlJlZlRhYmxlSWQgPSBjb3B5SWRcbiAgICByZWZDb250cm9sLlJlZlRhYmxlS2V5ID0gY29weUtleVxuICAgIHJlZkNvbnRyb2wuRW50aXR5RGF0YS5SZWZUYWJsZUlkID0gY29weUlkXG4gICAgcmVmQ29udHJvbC5FbnRpdHlEYXRhLlJlZlRhYmxlS2V5ID0gY29weUtleVxuICB9XG59XG5cbi8vIOWIpOaWreaYr+WQpuaYr+makOiXj+eahOWFs+iBlOihqOWNleaIluihqOagvOaOp+S7tlxuZXhwb3J0IGNvbnN0IGlzSGlkZGVuUmVmRmllbGQgPSAoZmllbGQ6YW55KSA9PiB7XG4gIGNvbnN0IHR5cGUgPSBmaWVsZD8uRmllbGRUeXBlIHx8IGZpZWxkLl9UeXBlX1xuICByZXR1cm4gKGlzUmVmQmlsbFRhYmxlKHR5cGUpICYmIGZpZWxkLlNob3dUeXBlID09PSAnMScpIHx8IChpc1JlZkJpbGwodHlwZSkgJiYgZmllbGQuU2hvd1R5cGUgPT09ICcyJylcbn1cblxuLy8g57O757uf5a2X5q61XG5leHBvcnQgY29uc3QgaXNSZWZTeXNDb250cm9sID0gKHR5cGU6IHN0cmluZykgPT4ge1xuICByZXR1cm4gWydOb0NvZGVDcmVhdG9yRmllbGQnLCAnTm9Db2RlQ3JlYXRlRGF0ZUZpZWxkJywgJ05vQ29kZU1vZGlmaWVyRmllbGQnLCAnTm9Db2RlTW9kaWZ5RGF0ZUZpZWxkJywgJ05vQ29kZUJpbGxOb0ZpZWxkJ10uaW5jbHVkZXModHlwZSlcbn1cbi8vIOWPr+aYvuekuuWtl+auteS4jeaUr+aMgeWbvueJh+OAgemZhOS7tuOAgeWvjOaWh+acrOOAgeWbvuaWh+WxleekuuOAgeWFs+iBlOihqOWNleihqOagvOOAgeWIhue7hOWuueWZqFxuLy8gMTIuMjXmoLnmja7pnIDmsYLosIPmlbTvvIzlm77niYfpmYTku7bpnIDopoHmlK/mjIHlnKjmmL7npLrlhoXlrrnph4zlj6/pgIlcbmNvbnN0IGlzU3BlY2lhbEN0cmwgPSAodHlwZTogc3RyaW5nLCBpbm5lcjpib29sZWFuKSA9PiB7XG4gIGNvbnN0IHR5cGVMaXN0ID0gWydOb0NvZGVSZWZCaWxsVGFibGUnLCAnTm9Db2RlUmljaFRleHRGaWVsZCcsICdOb0NvZGVHcm91cENvbnRhaW5lckFwJywgJ05vQ29kZUdyYXBoaWNEaXNwbGF5RmllbGQnXVxuICAvLyDlhoXpg6jooajmoLzml7blj6/ku6Xmt7vliqDlm77niYfpmYTku7ZcbiAgLy8gdHlwZUxpc3QgPSAhaW5uZXIgPyB0eXBlTGlzdC5jb25jYXQoWydOb0NvZGVJbWFnZVVwbG9hZEZpZWxkJywgJ05vQ29kZUF0dGFjaG1lbnRVcGxvYWRGaWVsZCddKSA6IHR5cGVMaXN0XG4gIHJldHVybiB0eXBlTGlzdC5pbmNsdWRlcyh0eXBlKVxufVxuXG4vKipcbiAqIOWvueWIl+ihqOi/m+ihjOaOkuW6j1xuICogQHBhcmFtIGxpc3Qg6YCJ6aG55Lit5pi+56S65YaF5a655YiX6KGoXG4gKiBAcGFyYW0gc2VsZWN0ZWQg5bey6YCJS0VZXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgY29uc3Qgc29ydEVudGl0eVdpdGhTZWxlY3RlZCA9IChsaXN0OmFueVtdLCBzZWxlY3RlZDpTZXQ8c3RyaW5nPikgPT4ge1xuICBjb25zdCBtYXBwZXIgPSB7fVxuICBjb25zdCBzZWxlY3RTdHIgPSB0eXBlb2Ygc2VsZWN0ZWQgPT09ICdzdHJpbmcnID8gc2VsZWN0ZWQgOiBbLi4uc2VsZWN0ZWRdLmpvaW4oKVxuICBjb25zdCBoYXNEYXRlUmFuZ2UgPSBzZWxlY3RTdHIuaW5jbHVkZXMoJ19zdGFydGRhdGUnKVxuICBjb25zdCBuZXdTdHIgPSBoYXNEYXRlUmFuZ2UgPyBzZWxlY3RTdHIucmVwbGFjZSgnX3N0YXJ0ZGF0ZScsICcnKS5yZXBsYWNlKCdfZW5kZGF0ZScsICcnKSA6IHNlbGVjdFN0clxuICAvLyBjb25zdCBrZXlzID0gaGFzRGF0ZVJhbmdlID8gbmV3IFNldChuZXdTdHIuc3BsaXQoJywnKSkgOiBuZXcgU2V0KHNlbGVjdGVkKVxuICBjb25zdCBrZXlzID0gbmV3IFNldChuZXdTdHIuc3BsaXQoJywnKSlcbiAgY29uc3QgbmV3TGlzdDphbnlbXSA9IFtdXG4gIGxpc3QuZm9yRWFjaCgoaXRlbTphbnkpID0+IHsgLy8g5bCG5pWw57uE6L2s5oiQ5pig5bCE5a+56LGhLCDlkIzml7blsIblhbbkvZlLRVnmt7vliqDliLBrZXlz6YeM55So5LqO6YGN5Y6GXG4gICAga2V5cy5hZGQoaXRlbS5LZXkpXG4gICAgbWFwcGVyW2l0ZW0uS2V5XSA9IGl0ZW1cbiAgfSlcbiAga2V5cy5mb3JFYWNoKChrZXk6c3RyaW5nKSA9PiB7XG4gICAgaWYgKG1hcHBlcj8uW2tleV0pIHtcbiAgICAgIG5ld0xpc3QucHVzaChtYXBwZXJba2V5XSlcbiAgICB9XG4gIH0pXG4gIHJldHVybiBuZXdMaXN0XG59XG5cbi8qKlxuICog5ZCI5bm2ZW50aXR5bWV0YeWSjGZvcm1tZXRh5bGe5oCnXG4gKiBAcGFyYW0gdGFyZ2V0XG4gKiBAcGFyYW0gc291cmNlXG4gKi9cbmNvbnN0IG1lcmdlRGlmZlByb3AgPSAodGFyZ2V0OiBhbnksIHNvdXJjZTogYW55KSA9PiB7XG4gIE9iamVjdC5rZXlzKHNvdXJjZSkuZm9yRWFjaCgocHJvcE5hbWU6IHN0cmluZykgPT4ge1xuICAgIGlmICghUmVmbGVjdC5oYXModGFyZ2V0LCBwcm9wTmFtZSkpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24odGFyZ2V0LCB7IFtwcm9wTmFtZV06IHNvdXJjZVtwcm9wTmFtZV0gfSlcbiAgICB9XG4gIH0pXG59XG5cbi8qKlxuICog5ZCI5bm2Zm9ybW1ldGHlkoxlbnRpdHltZXRh5L+h5oGvXG4gKiBAcGFyYW0gZm9ybUl0ZW0g6KGo5Y2V5L+h5oGvXG4gKiBAcGFyYW0gZW50aXR5SXRlbSDlrp7kvZPkv6Hmga9cbiAqL1xuY29uc3QgdHJhbnNmb3JtQ3RybE1ldGEgPSAoZm9ybUl0ZW06YW55LCBlbnRpdHlJdGVtOmFueSkgPT4ge1xuICBmb3JtSXRlbS5FbnRpdHlEYXRhID0gZW50aXR5SXRlbVxuICBmb3JtSXRlbS5BcFR5cGUgPSBpc1N5c0NvbnRyb2woZW50aXR5SXRlbS5fVHlwZV8pID8gJ05vQ29kZVN5c3RlbUFwJyA6IGZvcm1JdGVtLl9UeXBlX1xuICBmb3JtSXRlbS5fVHlwZV8gPSBlbnRpdHlJdGVtLl9UeXBlX1xuICBmb3JtSXRlbS5GaWVsZFR5cGUgPSBlbnRpdHlJdGVtLl9UeXBlX1xuICBtZXJnZURpZmZQcm9wKGZvcm1JdGVtLCBlbnRpdHlJdGVtKVxuICByZXR1cm4gZm9ybUl0ZW1cbn1cblxuLyoqXG4gKiDlsIbooajmoLznmoTkv6Hmga/ovazmiJDorr7orqHlmajlhoXnmoTmjqfku7bkv6Hmga9cbiAqIEBwYXJhbSBmb3JtSW5mb1xuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEZvcm1DdHJsTWV0YXMgPSAoZm9ybUluZm86W3N0cmluZywgYW55XSkgPT4ge1xuICBjb25zdCBbZm9ybUlkLCBkYXRhXSA9IGZvcm1JbmZvXG4gIGNvbnN0IGZvcm1MaXN0ID0gZGF0YT8uZm9ybW1ldGE/Lkl0ZW1zPy5yZWR1Y2UoKHJlc3VsdDphbnksIGl0ZW06YW55KSA9PiAoeyAuLi5yZXN1bHQsIFtpdGVtLklkXTogaXRlbSB9KSwge30pXG4gIHJldHVybiBkYXRhPy5lbnRpdHltZXRhPy5JdGVtcz8ucmVkdWNlKChyZXN1bHQ6YW55LCBpdGVtOmFueSkgPT4ge1xuICAgIC8vIOa3u+WKoGZvcm0gaWTkv53or4HllK/kuIDmgKdcbiAgICByZXR1cm4geyAuLi5yZXN1bHQsIFtgJHtpdGVtLktleX1fJHtmb3JtSWR9YF06IHRyYW5zZm9ybUN0cmxNZXRhKGZvcm1MaXN0Py5baXRlbS5JZF0gfHwge30sIGl0ZW0pIH1cbiAgfSwge30pXG59XG5cbi8qKlxuICog5qOA5rWL5b2T5YmN5pel5pyf5piv5ZCm5Y+v5pi+56S6XG4gKiBAcGFyYW0ga2V5IOaXpeacn+iMg+WbtOeahGtleeWxnuaAp1xuICogQHBhcmFtIGRpc3BsYXkg5pi+56S65bGe5oCn55qEa2V55YC86ZuG5ZCIXG4gKiBAcmV0dXJucyBib29sZWFuXG4gKi9cbmNvbnN0IGNoZWNrRGF0YVJhbmdlU2hvdyA9IChrZXk6c3RyaW5nLCBkaXNwbGF5OlNldDxzdHJpbmc+KTpib29sZWFuID0+IHtcbiAgcmV0dXJuIFsuLi5kaXNwbGF5XS5zb21lKGsgPT4gay5pbmNsdWRlcyhrZXkpKVxufVxuXG4vKipcbiAqIOWwhuihqOWNleiuvuiuoeWZqOaVsOaNrumHjOeahGVudGl0eW1ldGHlkoxmb3JtbWV0YeaVsOaNruWQiOW5tuaIkOaOp+S7tuaVsOaNrlxuICog5a+55pWw5o2u6L+b6KGM5qC85byP5YyWLCDlubbmt7vliqDmmK/lkKblj6/op4Ev57yW6L6R5oCB55qE5bGe5oCnXG4gKiDpu5jorqTpg73kuI3lj6/op4FcbiAqIEBwYXJhbSBpbmZvIHN0b3Jl5YaF5YWz6IGU6KGo5Y2V5rqQ6KGo5pWw5o2uXG4gKiBAcGFyYW0gZmllbGQg54i26IqC54K55L+h5oGvXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtRW50aXR5RGF0YSA9IChpbmZvOmFueSwgZmllbGQ6YW55KSA9PiB7XG4gIGNvbnN0IHsgSWQsIFNvdXJjZUZvcm0sIFByb3BzRGlzcGxheSwgaW5uZXIyT3V0ZXIsIEJpbGxFbnRpdHlJZEV4IH0gPSBmaWVsZCB8fCB7fVxuICBjb25zdCBkYXRhcyA9IGNsb25lRGVlcChpbmZvKVxuICBjb25zdCBzZWxlY3RlZDpTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoUHJvcHNEaXNwbGF5ID8gUHJvcHNEaXNwbGF5LnNwbGl0KCcsJykgOiBbXSlcbiAgY29uc3QgZm9ybSA9IEJpbGxFbnRpdHlJZEV4IHx8IGAke0lkfV90YWJsZWBcbiAgY29uc3QgZW50aXRpZXMgPSBkYXRhcz8uZW50aXR5bWV0YT8uSXRlbXMgfHwgW11cbiAgY29uc3QgZm9ybWRhdGFzID0gZGF0YXM/LmZvcm1tZXRhPy5JdGVtcyB8fCBbXVxuICBjb25zdCBmb3JtZXMgPSB7fVxuICBjb25zdCBsaXN0OmFueVtdID0gW11cbiAgY29uc3QgaXNDb3NtaWMgPSBbJ2Jvc191c2VyJywgJ2Jvc19hZG1pbm9yZyddLmluY2x1ZGVzKGZvcm0pIC8vIOaYr+WQpuaYr+iLjeepueihqOWNlVxuICBjb25zdCBncm91cElkcyA9IG5ldyBTZXQoKSAvLyDlj6rlj5blrrnlmajkuIvnmoTmjqfku7ZcbiAgLy8gY29uc3QgbmV3U2VsZWN0ID0gbmV3IFNldChzZWxlY3RlZClcbiAgZGF0YXM/LmZvcm1tZXRhPy5JdGVtcz8uZm9yRWFjaCgoaXRlbTphbnkpID0+IHsgZm9ybWVzW2l0ZW0uSWRdID0gaXRlbSB9KVxuICBpZiAoZW50aXRpZXMubGVuZ3RoKSB7XG4gICAgLy8g5YWI5oqK5a655ZmoSUTov4fmu6Tlh7rmnaVcbiAgICAvLyDkuKTkuKpGT1Llvqrnjq/kuI3lj6/mlbTlkIjvvIzmlbDmja7kuLrmiYHlubPljJbnmoTmlbDmja7vvIzpmLLmraLlrZDmjqfku7bnmoTpobrluo/lnKjlrrnlmajkuYvliY1cbiAgICBmb3JtZGF0YXMuZm9yRWFjaCgoaXRlbTphbnkpID0+IHtcbiAgICAgIGlmIChpc0dyb3VwQ29udGFpbmVyKGl0ZW0uX1R5cGVfKSB8fCBpc0JpbGxGb3JtKGl0ZW0uX1R5cGVfKSkgZ3JvdXBJZHMuYWRkKGl0ZW0uSWQpXG4gICAgfSlcbiAgICBlbnRpdGllcy5mb3JFYWNoKChpdGVtOmFueSkgPT4ge1xuICAgICAgLy8gY29uc3QgZm9ybUl0ZW0gPSBmb3JtZXM/LltpdGVtLklkXSB8fCB7fVxuICAgICAgLy8gZm9ybUl0ZW0uRW50aXR5RGF0YSA9IGl0ZW1cbiAgICAgIC8vIGZvcm1JdGVtLkFwVHlwZSA9IGlzU3lzQ29udHJvbChpdGVtLl9UeXBlXykgPyAnTm9Db2RlU3lzdGVtQXAnIDogZm9ybUl0ZW0uX1R5cGVfXG4gICAgICAvLyBmb3JtSXRlbS5fVHlwZV8gPSBpdGVtLl9UeXBlX1xuICAgICAgLy8gZm9ybUl0ZW0uRmllbGRUeXBlID0gaXRlbS5fVHlwZV9cbiAgICAgIC8vIGZvcm1JdGVtLl9pc0VudHJ5RmllbGRfID0gdHJ1ZVxuICAgICAgLy8gbWVyZ2VEaWZmUHJvcChmb3JtSXRlbSwgaXRlbSlcbiAgICAgIGNvbnN0IGZvcm1JdGVtID0gdHJhbnNmb3JtQ3RybE1ldGEoZm9ybWVzPy5baXRlbS5JZF0gfHwge30sIGl0ZW0pXG4gICAgICBmb3JtSXRlbS5faXNFbnRyeUZpZWxkXyA9IHRydWVcbiAgICAgIC8vIOacieeItuiKgueCuSzkuI3mmK/lrrnlmajnu4Tku7Ys5LiN5piv5YWz6IGU6KGo5Y2V6KGo5qC8XG4gICAgICAvLyDns7vnu5/lrZfmrrXml6DniLboioLngrlcbiAgICAgIGlmIChTb3VyY2VGb3JtID09PSAnMScpIHtcbiAgICAgICAgLy8g5YaF6YOo6L2s5aSW6YOo5pe277yM57O757uf5a2X5q616ZyA6KaB5bGV56S65Ye65p2lXG4gICAgICAgIGNvbnN0IHNob3dTeXNDb250cm9sID0gaW5uZXIyT3V0ZXIgfHwgIWlzUmVmU3lzQ29udHJvbChpdGVtLl9UeXBlXylcbiAgICAgICAgaWYgKHNob3dTeXNDb250cm9sICYmICFpc1NwZWNpYWxDdHJsKGl0ZW0uX1R5cGVfLCB0cnVlKSAmJiAhaXNHcm91cENvbnRhaW5lcihpdGVtLl9UeXBlXykgJiYgIWlzQmlsbEZvcm0oaXRlbS5fVHlwZV8pKSB7XG4gICAgICAgICAgZm9ybUl0ZW0uaXNTaG93ID0gaW5uZXIyT3V0ZXIgPyBzZWxlY3RlZC5oYXMoaXRlbS5LZXkpIDogdHJ1ZVxuICAgICAgICAgIGxpc3QucHVzaChmb3JtSXRlbSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzQ29zbWljIHx8ICgoaXNSZWZTeXNDb250cm9sKGl0ZW0uX1R5cGVfKSB8fCBncm91cElkcy5oYXMoZm9ybUl0ZW0/LlBhcmVudElkKSkgJiYgIWlzU3BlY2lhbEN0cmwoZm9ybUl0ZW0uX1R5cGVfLCBmYWxzZSkpKSB7XG4gICAgICAgICAgLy8g5pel5pyf6IyD5Zu05a2X5q615piv55Sx5Lik5Liq5pel5pyf5a2X5q615ZCI5oiQXG4gICAgICAgICAgbGV0IHNob3cgPSBzZWxlY3RlZC5oYXMoaXRlbS5LZXkpXG4gICAgICAgICAgaWYgKGlzRGF0ZVJhbmdlKGl0ZW0uX1R5cGVfKSkge1xuICAgICAgICAgICAgc2hvdyA9IGNoZWNrRGF0YVJhbmdlU2hvdyhpdGVtLktleSwgc2VsZWN0ZWQpXG4gICAgICAgICAgfVxuICAgICAgICAgIGZvcm1JdGVtLmlzU2hvdyA9IHNob3dcbiAgICAgICAgICAvLyBmb3JtSXRlbS5pc0VkaXQgPSBmYWxzZVxuICAgICAgICAgIGxpc3QucHVzaChmb3JtSXRlbSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgcmV0dXJuIGxpc3RcbiAgLy8gcmV0dXJuIFtsaXN0LCBbLi4uc2VsZWN0ZWRdXVxufVxuLyoqXG4gKiDliKDpmaTmjqfku7ZcbiAqIEBwYXJhbSBpZHMg6KaB5Yig6Zmk55qESURcbiAqIEBwYXJhbSBkaXNwYXRjaEJpbGxEYXRhIOabtOaWsHN0b3Jl5pWw5o2uXG4gKiBAcGFyYW0gZGF0YUNvbnRleHQgZGF0YeS4iuS4i+aWh1xuICogQHBhcmFtIGhpZGVGaWVsZCDpmpDol4/mjqfku7ZcbiAqIEBwYXJhbSBzZXRIaWRlRmllbGQg5pu05paw6ZqQ6JeP5o6n5Lu2XG4gKiBAcGFyYW0gY2FsbGJhY2sg5Zue6LCDXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgY29uc3QgZGVsZXRlUmVmQ29udHJvbCA9IChpZHM6c3RyaW5nW10sIGJpbGxQcm9wc0RhdGE6YW55LCBkaXNwYXRjaEJpbGxEYXRhOiAob2JqOmFueSkgPT4gdm9pZCwgZGF0YUNvbnRleHQ6IGFueSwgaGlkZUZpZWxkOmFueSwgc2V0SGlkZUZpZWxkOihpbmZvOmFueSk9PnZvaWQsIGNhbGxiYWNrPzogKCk9PnZvaWQpID0+IHtcbiAgbGV0IG90aGVyQWN0aW9uOmFueVtdID0gW11cbiAgY29uc3QgcHJlSGFuZGxlUmVzdWx0cyA9IGlkcy5yZWR1Y2UoKHByZXY6c3RyaW5nW10sIGlkOnN0cmluZykgPT4ge1xuICAgIGNvbnN0IHsgUGFyZW50SWQsIEtleTogZmllbGRLZXksIFJlZlRhYmxlSWQsIFJlZkJpbGxJZCwgX1R5cGVfOiBjdHJsVHlwZSB9ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woaWQpIHx8IHt9XG4gICAgY29uc3QgeyBfVHlwZV86IHBhcmVudFR5cGUsIFNvdXJjZUZvcm0sIEJpbGxFbnRpdHlJZEV4LCBQcm9wc0Rpc3BsYXkgfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKFBhcmVudElkKSB8fCB7fVxuICAgIGlmIChpc1JlZkJpbGxUYWJsZShwYXJlbnRUeXBlKSkge1xuICAgICAgY29uc3QgZm9ybSA9IFNvdXJjZUZvcm0gPT09ICcxJyAmJiAhQmlsbEVudGl0eUlkRXggPyBgJHtQYXJlbnRJZH1fdGFibGVgIDogQmlsbEVudGl0eUlkRXhcbiAgICAgIGNvbnN0IGZpZWxkSWQgPSBpZC5yZXBsYWNlKGBfJHtQYXJlbnRJZH1gLCAnJylcbiAgICAgIGlmIChTb3VyY2VGb3JtID09PSAnMScgfHwgIWJpbGxQcm9wc0RhdGFbZm9ybV0uaWRzLmluY2x1ZGVzKGZpZWxkSWQpKSB7IC8vIOWGhemDqOihqOagvOaXtu+8jOebtOaOpeabtOaWsFxuICAgICAgICBkaXNwYXRjaEJpbGxEYXRhKHsga2V5OiBERUxfQ09OVFJPTCwgcGF5bG9hZDogeyBmb3JtLCBpZDogZmllbGRJZCB9IH0pXG4gICAgICB9XG4gICAgICBjb25zdCBzZWxlY3RlZCA9IG5ldyBTZXQoUHJvcHNEaXNwbGF5ID8gUHJvcHNEaXNwbGF5LnNwbGl0KCcsJykgOiBbXSlcbiAgICAgIC8vIOWQjuWPsOS/neWtmOS5i+WQjuS8mui9rOWwj+WGmVxuICAgICAgY29uc3QgbmV3S2V5ID0gZmllbGRLZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKGBfJHtQYXJlbnRJZC50b0xvd2VyQ2FzZSgpfWAsICcnKVxuICAgICAgLy8g5pel5pyf57uE5Lu25piv5Lik5Liq5o6n5Lu2XG4gICAgICBpZiAoaXNEYXRlUmFuZ2UoY3RybFR5cGUpKSB7XG4gICAgICAgIHNlbGVjdGVkLmRlbGV0ZShgJHtuZXdLZXl9X3N0YXJ0ZGF0ZWApXG4gICAgICAgIHNlbGVjdGVkLmRlbGV0ZShgJHtuZXdLZXl9X2VuZGRhdGVgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZWN0ZWQuZGVsZXRlKG5ld0tleSlcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld1NlbGV0ZSA9IFsuLi5zZWxlY3RlZF0uam9pbigpXG4gICAgICBvdGhlckFjdGlvbiA9IFtbUGFyZW50SWQsIHsgUHJvcHNEaXNwbGF5OiBuZXdTZWxldGUgfV1dXG4gICAgfVxuICAgIC8vIOWFs+iBlOihqOWNleihqOagvOaooeW8j++8jOWFs+iBlOihqOWNleWPiuWFs+iBlOeahOihqOagvOS4pOS4quS4gOi1t+WIoOmZpFxuICAgIC8vIOS9v+eUqOaWsOaWueahiO+8jOabtOaWsOmakOiXj+aOp+S7tue8k+WtmFxuICAgIC8vIGlmIChSZWZCaWxsSWQgfHwgUmVmVGFibGVJZCkge1xuICAgIC8vICAgcHJldi5wdXNoKFJlZkJpbGxJZCB8fCBSZWZUYWJsZUlkKVxuICAgIC8vIH1cblxuICAgIGlmIChSZWZCaWxsSWQpIHtcbiAgICAgIGRlbGV0ZSBoaWRlRmllbGRbUmVmQmlsbElkXVxuICAgIH1cbiAgICBpZiAoUmVmVGFibGVJZCkge1xuICAgICAgT2JqZWN0LnZhbHVlcyhoaWRlRmllbGQpLmZvckVhY2goKGl0ZW06YW55KSA9PiB7XG4gICAgICAgIGlmIChpdGVtLklkID09PSBSZWZUYWJsZUlkIHx8IGl0ZW0uUGFyZW50SWQgPT09IFJlZlRhYmxlSWQpIGRlbGV0ZSBoaWRlRmllbGRbaXRlbS5JZF1cbiAgICAgIH0pXG4gICAgfVxuICAgIHJldHVybiBbLi4ucHJldiwgaWRdXG4gIH0sIFtdKVxuXG4gIC8vIOabtOaWsOe8k+WtmFxuICBzZXRIaWRlRmllbGQoaGlkZUZpZWxkKVxuICAvLyDlkIzmraXmiafooYxcbiAgUHJvbWlzZS5hbGwoW1xuICAgIGRhdGFDb250ZXh0LmRlbGV0ZUNvbnRyb2woY3JlYXRlRGVsZXRlQWN0aW9uKHByZUhhbmRsZVJlc3VsdHMpKSxcbiAgICBkYXRhQ29udGV4dC5iYXRjaFVwZGF0ZUNvbnRyb2xQcm9wZXJ0eVZhbHVlcyhjcmVhdGVVcGRhdGVBY3Rpb24ob3RoZXJBY3Rpb24pKVxuICBdKS50aGVuKCgpID0+IHtcbiAgICBjYWxsYmFjaz8uKClcbiAgfSkuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKVxufVxuXG4vKipcbiAqIOWIm+W7uuihqOagvOaOp+S7tlxuICogQHBhcmFtIHZhbHVlIOaOp+S7tuWAvFxuICogQHBhcmFtIFBhcmVudElkXG4gKiBAcGFyYW0gcmV0YWluZWQg6ZyA6KaB5L+d55WZ55qE5bGe5oCn5pWw5o2uXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVUYWJsZUNvbnRyb2wgPSAodmFsdWU6YW55LCBQYXJlbnRJZDpzdHJpbmcsIHJldGFpbmVkOmFueVtdID0gW3t9LCB7fV0pID0+IHtcbiAgY29uc3QgeyBJZDogZmllbGRJZCwgS2V5OiBmaWVsZEtleSwgX1R5cGVfOiBmaWVsZFR5cGUsIEVudGl0eURhdGE6IGZpZWxkRW50aXR5IH0gPSB2YWx1ZVxuICBjb25zdCBuZXdWYWx1ZSA9IGNsb25lRGVlcCh2YWx1ZSlcbiAgY29uc3QgcGlkID0gUGFyZW50SWQudG9Mb3dlckNhc2UoKVxuICBjb25zdCBuZXdGaWVsZEtleSA9IGZpZWxkS2V5LnRvTG93ZXJDYXNlKClcbiAgY29uc3QgS2V5ID0gKG5ld0ZpZWxkS2V5LmluY2x1ZGVzKHBpZCkgPyBuZXdGaWVsZEtleSA6IGAke25ld0ZpZWxkS2V5fV8ke3BpZH1gKVxuICBjb25zdCBJZCA9IGZpZWxkSWQuaW5jbHVkZXMoUGFyZW50SWQpID8gZmllbGRJZCA6IGAke2ZpZWxkSWR9XyR7UGFyZW50SWR9YFxuICAvLyDov5nkupvlsZ7mgKflgLzkuI3lkIzmraVcbiAgY29uc3QgZGVsZXRlS2V5ID0gWydpc1Nob3cnLCAnVXBsb2FkRGVmVmFsdWUnLCAnUGljdHVyZURlZlZhbHVlJywgJ05vQ29kZURlZlZhbHVlJywgJ0ZpZWxkUmVxdWlyZWQnLCAnU3RhdHVzJywgJ1Zpc2liaWxpdHknXVxuICBkZWxldGVLZXkuZm9yRWFjaCgoaXRlbTpzdHJpbmcpID0+IHtcbiAgICBkZWxldGUgbmV3VmFsdWVbaXRlbV1cbiAgICBkZWxldGUgZmllbGRFbnRpdHlbaXRlbV1cbiAgfSlcbiAgaWYgKGlzRGF0ZVJhbmdlKGZpZWxkVHlwZSkpIHtcbiAgICBuZXdWYWx1ZS5TdGFydERhdGVGaWVsZEtleSA9IGAke0tleX1fc3RhcnRkYXRlYFxuICAgIG5ld1ZhbHVlLkVuZERhdGVGaWVsZEtleSA9IGAke0tleX1fZW5kZGF0ZWBcbiAgICBuZXdWYWx1ZS5FbnRpdHlEYXRhLlN0YXJ0RGF0ZUZpZWxkS2V5ID0gYCR7S2V5fV9zdGFydGRhdGVgXG4gICAgbmV3VmFsdWUuRW50aXR5RGF0YS5FbmREYXRlRmllbGRLZXkgPSBgJHtLZXl9X2VuZGRhdGVgXG4gIH1cbiAgLy8gZGVsZXRlS2V5IOmHjOeahOWxnuaAp+mDveWxnuaAp2Zvcm1cbiAgcmV0dXJuIHsgLi4ubmV3VmFsdWUsIElkLCBLZXksIFBhcmVudElkLCBGaWVsZElkOiBJZCwgLi4ucmV0YWluZWRbMF0sIEVudGl0eURhdGE6IHsgLi4uZmllbGRFbnRpdHksIElkLCBLZXksIFBhcmVudElkLC4uLnJldGFpbmVkWzFdIH0sIF9pc0VudHJ5RmllbGRfOiB0cnVlIH1cbn1cblxuLyoqXG4gKiDmt7vliqDmjqfku7bml7bmm7TmlrDmmL7npLrlsZ7mgKdcbiAqIEBwYXJhbSBkaXNwbGF5IOW9k+WJjeaYvuekuuW8guaAp1xuICogQHBhcmFtIGtleSDmt7vliqDnmoTmlrBLRVlcbiAqIEBwYXJhbSBwcmV2S2V5IOS4iuS4gOS4quiKgueCueeahEtFWVxuICogQHJldHVybnMgc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDdHJsUHJvcHNEaXNwbGF5ID0gKGRpc3BsYXk6c3RyaW5nLCBrZXk6c3RyaW5nfHN0cmluZ1tdLCBwcmV2S2V5PzpzdHJpbmcpID0+IHtcbiAgbGV0IG5ld0Rpc3BsYXkgPSBkaXNwbGF5ID8gZGlzcGxheS5zcGxpdCgnLCcpIDogW11cbiAgY29uc3QgbmV3S2V5ID0gQXJyYXkuaXNBcnJheShrZXkpID8ga2V5IDogW2tleV1cbiAgaWYgKHByZXZLZXkpIHtcbiAgICBjb25zdCBpbmRleCA9IG5ld0Rpc3BsYXkuZmluZEluZGV4KChrOnN0cmluZykgPT4gayA9PT0gcHJldktleSlcbiAgICBpbmRleCA+IC0xID8gbmV3RGlzcGxheS5zcGxpY2UoKGluZGV4ICsgMSksIDAsIC4uLm5ld0tleSkgOiAobmV3RGlzcGxheSA9IG5ld0Rpc3BsYXkuY29uY2F0KG5ld0tleSkpXG4gIH0gZWxzZSB7XG4gICAgbmV3RGlzcGxheSA9IG5ld0Rpc3BsYXkuY29uY2F0KG5ld0tleSlcbiAgfVxuICByZXR1cm4gbmV3RGlzcGxheS5qb2luKClcbn1cblxuLyoqXG4gKiDmm7TmlrDmjqfku7bnirbmgIHml7ZcbiAqIOWmguaenOWcqOihqOagvOaIluWIhue7hOWuueWZqOmHjOaXtu+8jOWmguaenHN0YXR1cyA+IOW9k+S7iuS/ruaUueeahOeKtuaAge+8jOWImemcgOimgeWQjOaXtuabtOaWsOihqOagvOaIluWIhue7hOWuueWZqOeahOeKtuaAgVxuICog5aaC5p6c5pu05paw6KGo5qC85oiW5YiG57uE5a655Zmo54q25oCB77yM6ZyA6KaB5ZCM5pe25pu05paw5a2Q5o6n5Lu254q25oCBXG4gKiBAcGFyYW0gYWN0aW9uIOabtOaWsOaMh+S7pFxuICogQHBhcmFtIGRhdGFDb250ZXh0IOS4iuS4i+aWh1xuICovXG5leHBvcnQgY29uc3QgZ2V0VXBkYXRlU3RhdHVzQWN0aW9uID0gKGFjdGlvbjphbnksIGhpZGVGaWVsZHM6YW55LCBkYXRhQ29udGV4dDphbnksIG1ldGFSZWFkZXI6YW55KSA9PiB7XG4gIGNvbnN0IFtpZCwgY2hhbmdlXSA9IGFjdGlvblxuICBjb25zdCBzdWJzOmFueVtdID0gZGF0YUNvbnRleHQuZ2V0QWxsU3ViQ29udHJvbHMoaWQpXG4gIGNvbnN0IHBhcmVudHM6YW55W10gPSBkYXRhQ29udGV4dC5nZXRBbGxQYXJlbnRDb250cm9scyhpZClcblxuICAvLyDlrZDnu4Tku7bnirbmgIHmm7TmlrBcbiAgY29uc3Qgc3ViQWN0aW9uczphbnlbXSA9IHN1YnMucmVkdWNlKChyZXN1bHQsIGl0ZW0pID0+IHtcbiAgICBjb25zdCB7IElkOiBjdHJsSWQsIF9UeXBlXzogY3RybFR5cGUgfSA9IGl0ZW1cbiAgICBpZiAoaWQgIT09IGl0ZW0uSWQpIHtcbiAgICAgIC8vIOezu+e7n+Wtl+auteS4jeaUr+aMgeeKtuaAgeS/ruaUuVxuICAgICAgLy8g5Lqn5ZOB6KaB5rGC77yM57O757uf54q25oCB5Y+v5pS5XG4gICAgICAvLyBpZiAoaXNTeXNDb250cm9sKGN0cmxUeXBlKSkge1xuICAgICAgLy8gICByZXR1cm4gcmVzdWx0XG4gICAgICAvLyB9IGVsc2Uge1xuICAgICAgICBjb25zdCBhY3Rpb25zID0gWy4uLnJlc3VsdCwgW2N0cmxJZCwgY2hhbmdlXV1cbiAgICAgICAgY29uc3QgbmV3RW50aXR5QWN0aW9uID0gY29sbGVjdEVudGl0eUNoYW5nZUFjdGlvbnMoY3RybElkLCBjaGFuZ2UsIGl0ZW0sIHttZXRhUmVhZGVyfSlcbiAgICAgICAgLy8gIWlzR3JvdXBDb250YWluZXIoY3RybFR5cGUpICYmIGFjdGlvbnMucHVzaChbY3RybElkLCB7IEVudGl0eURhdGE6IHsgLi4uRW50aXR5RGF0YSwgLi4uY2hhbmdlIH0gfV0pXG4gICAgICAgIG5ld0VudGl0eUFjdGlvbiAmJiBhY3Rpb25zLnB1c2gobmV3RW50aXR5QWN0aW9uKVxuICAgICAgICByZXR1cm4gYWN0aW9uc1xuICAgICAgLy8gfVxuICAgIH1cbiAgICAvLyDmm7TmlrDpmpDol4/mjqfku7ZcbiAgICBpZihpdGVtPy5SZWZCaWxsSWQgfHwgaXRlbT8uUmVmVGFibGVJZCl7XG4gICAgICBjb25zdCBpZCA9IGl0ZW0/LlJlZkJpbGxJZCB8fCBpdGVtPy5SZWZUYWJsZUlkXG4gICAgICBjb25zdCBoaWRlSXRlbSA9IGhpZGVGaWVsZHNbaWRdXG4gICAgICBjb25zdCBuZXdFbnRpdHkgPSBnZXRFbnRpdHlDaGFuZ2UoY2hhbmdlLCBoaWRlSXRlbSwgbWV0YVJlYWRlcilcbiAgICAgIGhpZGVGaWVsZHNbaWRdID0gey4uLmhpZGVJdGVtLCAuLi5jaGFuZ2UsIEVudGl0eURhdGE6IG5ld0VudGl0eX1cbiAgICAgIGlmIChpdGVtPy5SZWZUYWJsZUlkKXtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoaGlkZUZpZWxkcykuZm9yRWFjaCgoZW50cnk6YW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgW2N0cmxJZCwgY3RybF0gPSBlbnRyeVxuICAgICAgICAgIGlmIChjdHJsLlBhcmVudElkID09PSBpdGVtPy5SZWZUYWJsZUlkKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHkgPSBnZXRFbnRpdHlDaGFuZ2UoY2hhbmdlLCBoaWRlSXRlbSwgbWV0YVJlYWRlcilcbiAgICAgICAgICAgIGhpZGVGaWVsZHNbY3RybElkXSA9IHsuLi5jdHJsLCAuLi5jaGFuZ2UsIEVudGl0eURhdGE6ZW50aXR5fVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9LCBbXSlcbiAgLy8g54i25a655Zmo54q25oCB5pu05paw77yM5YiG57uE5o6n5Lu25Y+q5pyJMeWSjDTkuKTnp43nirbmgIEs5YiG57uE5o6n5Lu25peg5a6e5L2TXG4gIGNvbnN0IHBhcmVudEFjdGlvbnM6YW55W10gPSBwYXJlbnRzLnJlZHVjZSgocmVzdWx0LCBpdGVtKSA9PiB7XG4gICAgY29uc3QgeyBJZDogY3RybElkLCBfVHlwZV86IGN0cmxUeXBlLCBTdGF0dXM6IGN0cmxTdGF0dXMgfSA9IGl0ZW1cbiAgICBpZiAoKGlzR3JvdXBDb250YWluZXIoY3RybFR5cGUpIHx8IGlzUmVmQmlsbFRhYmxlKGN0cmxUeXBlKSkgJiYgTnVtYmVyKGN0cmxTdGF0dXMpID4gTnVtYmVyKGNoYW5nZS5TdGF0dXMpKSB7XG4gICAgICAvLyBjb25zdCBuZXdDaGFuZ2UgPSBpc0dyb3VwQ29udGFpbmVyKGN0cmxUeXBlKSA/IFtbY3RybElkLCB7IFN0YXR1czogJzEnIH1dXSA6IFtbY3RybElkLCBjaGFuZ2VdLCBbY3RybElkLCB7IEVudGl0eURhdGE6IHsgLi4uRW50aXR5RGF0YSwgLi4uY2hhbmdlIH0gfV1dXG4gICAgICAvLyBzdGF0dXPlsZ7mgKfkuI3pnIDopoHmm7TmlrDliLDlrp7kvZPlhoVcbiAgICAgIGNvbnN0IG5ld0NoYW5nID0gaXNHcm91cENvbnRhaW5lcihjdHJsVHlwZSkgPyB7IFN0YXR1czogJzEnIH0gOiBjaGFuZ2VcbiAgICAgIGNvbnN0IGFjdGlvbnMgPSAgW1tjdHJsSWQsIG5ld0NoYW5nXV1cbiAgICAgIGNvbnN0IG5ld0VudGl0eUFjdGlvbiA9IGNvbGxlY3RFbnRpdHlDaGFuZ2VBY3Rpb25zKGN0cmxJZCwgY2hhbmdlLCBpdGVtLCB7bWV0YVJlYWRlcn0pXG4gICAgICAhaXNHcm91cENvbnRhaW5lcihjdHJsVHlwZSkgJiYgbmV3RW50aXR5QWN0aW9uICYmIGFjdGlvbnMucHVzaChuZXdFbnRpdHlBY3Rpb24pXG5cbiAgICAgIGNvbnN0IGhpZGVJdGVtID0gaGlkZUZpZWxkc1tpdGVtPy5SZWZCaWxsSWRdXG4gICAgICBpZiAoaGlkZUl0ZW0pe1xuICAgICAgICBjb25zdCBuZXdFbnRpdHkgPSBnZXRFbnRpdHlDaGFuZ2UoY2hhbmdlLCBoaWRlSXRlbSwgbWV0YVJlYWRlcilcbiAgICAgICAgaGlkZUZpZWxkc1tpdGVtPy5SZWZCaWxsSWRdID0gey4uLmhpZGVJdGVtLCAuLi5jaGFuZ2UsIEVudGl0eURhdGE6IG5ld0VudGl0eX1cbiAgICAgIH1cbiAgICAgIHJldHVybiBbLi4ucmVzdWx0LCAuLi5hY3Rpb25zXVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH0sIFtdKVxuICAvLyBjb25zb2xlLmxvZygnZ2V0VXBkYXRlU3RhdHVzQWN0aW9uJywgc3ViQWN0aW9ucywgcGFyZW50QWN0aW9ucylcbiAgY29uc3QgYWN0aW9ucyA9IHN1YkFjdGlvbnMuY29uY2F0KHBhcmVudEFjdGlvbnMpXG4gIHJldHVybiBhY3Rpb25zLmxlbmd0aCAmJiBjcmVhdGVVcGRhdGVBY3Rpb24oYWN0aW9ucylcbn1cblxuLyoqXG4gKiDojrflj5bpu5jorqTlgLzjgIHmmK/lkKblv4XlvZXjgIHmjqfku7bnirbmgIHnmoTmlbDmja5cbiAqIEZpZWxkUmVxdWlyZWQgU3RhdHVzIE5vQ29kZURlZlZhbHVlIOS4ieS4quWxnuaAp+S4jeWPr+S7peiiq+imhuebllxuICogQHBhcmFtIG9sZEZpZWxkXG4gKiBAcGFyYW0gbWV0YVJlYWRlclxuICovXG5leHBvcnQgY29uc3QgZ2V0UmV0YWluZFByb3BzID0gKGZpZWxkOmFueSwgb2xkRmllbGQ/OmFueSwgbWV0YVJlYWRlcj86YW55KSA9PiB7XG4gIGlmICghb2xkRmllbGQpIHJldHVyblxuICBjb25zdCBkZWZhdWx0VmFsID0gbWV0YVJlYWRlci5nZXREZWZhdWx0RGF0YShmaWVsZC5fVHlwZV8pXG4gIGNvbnN0IHJldGFpbmQ6YW55ID0gW3t9LCB7fV1cbiAgQ09OVFJPTF9SRVRBSU5EX1BST1BTLmZvckVhY2goKHByb3BzTmFtZTpzdHJpbmcpID0+e1xuICAgIGNvbnN0IHByb3BzSW5mbyA9IG1ldGFSZWFkZXIuZ2V0Q29udHJvbE1ldGFQcm9wZXJ0eShmaWVsZC5fVHlwZV8sIHByb3BzTmFtZSlcbiAgICBjb25zdCB7IFRhZzogcHJvcGVydHlUYWcgfSA9IHByb3BzSW5mb1xuICAgIGNvbnN0IGlzRW50aXR5ID0gcHJvcGVydHlUYWcgPT09IFBST1BfVFlQRV9FTlRJVFkgfHwgcHJvcGVydHlUYWcgPT09IFBST1BfVFlQRV9BTExcbiAgICBjb25zdCBkZWZWYWwgPSBvbGRGaWVsZFtwcm9wc05hbWVdIHx8IGRlZmF1bHRWYWxbcHJvcHNOYW1lXVxuICAgIGNvbnNvbGUubG9nKCdnZXRSZXRhaW5kUHJvcHMnLCBwcm9wc0luZm8pXG4gICAgaWYgKGlzRW50aXR5KSB7XG4gICAgICAhIWRlZlZhbCAmJiAocmV0YWluZFsxXVtwcm9wc05hbWVdID0gZGVmVmFsKVxuICAgICAgISFkZWZWYWwgJiYgKHJldGFpbmRbMF1bcHJvcHNOYW1lXSA9IGRlZlZhbClcbiAgICB9IGVsc2Uge1xuICAgICAgISFkZWZWYWwgJiYgKHJldGFpbmRbMF1bcHJvcHNOYW1lXSA9IGRlZlZhbClcbiAgICB9XG4gIH0pXG4gIHJldHVybiByZXRhaW5kXG59XG5cbi8qKlxuICog55Sf5oiQ6KGo5qC85o6n5Lu25pWw5o2uXG4gKiDpnIDopoHkv53nlZnpu5jorqTlgLzjgIHmmK/lkKblv4XlvZXjgIHmjqfku7bnirbmgIHmlbDmja5cbiAqIEBwYXJhbSBsaXN0IOW9k+WJjeWIl+ihqFxuICogQHBhcmFtIG9sZEN0cmxzIOW9k+WJjeihqOagvOWtkOaOp+S7tlxuICogQHBhcmFtIHBpZCDniLboioLngrlJRFxuICogQHBhcmFtIG1ldGFSZWFkZXIgbWV0Yea4suafkywg5b2T5YmN55So5LqO6I635Y+W6buY6K6k5YC8XG4gKi9cbmV4cG9ydCBjb25zdCBmb3JtYXRUYWJsZUNvbnRyb2wgPSAobGlzdDogYW55W10sIG9sZEN0cmxzOiBhbnlbXSwgcGlkOnN0cmluZywgbWV0YVJlYWRlcjphbnkpID0+IHtcbiAgY29uc3Qgb2xkQ3RybE9iaiA9IG9sZEN0cmxzLnJlZHVjZSgocmVzdWx0OmFueSwgaXRlbTphbnkpID0+IHtcbiAgICByZXR1cm4geyAuLi5yZXN1bHQsIFtpdGVtLklkXTogaXRlbSB9XG4gIH0sIHt9KVxuICBjb25zdCBzZWxlY3RlZDpzdHJpbmdbXSA9IFtdXG4gIGNvbnN0IGN0cmxzID0gbGlzdC5yZWR1Y2UoKHJlc3VsdDphbnlbXSwgaXRlbTphbnkpID0+IHtcbiAgICBjb25zdCBpbmZvID0geyAuLi5pdGVtIH1cbiAgICBpZiAoaXRlbS5pc1Nob3cpIHtcbiAgICAgIHNlbGVjdGVkLnB1c2goaW5mby5LZXkpXG4gICAgICBkZWxldGUgaW5mby5pc1Nob3dcbiAgICAgIGNvbnN0IG9sZCA9IG9sZEN0cmxPYmpbYCR7aW5mby5JZH1fJHtwaWR9YF1cbiAgICAgIC8vIEZpZWxkUmVxdWlyZWQgU3RhdHVzIE5vQ29kZURlZlZhbHVlIOS4ieS4quWxnuaAp+S4jeWPr+S7peiiq+imhuebllxuICAgICAgLy8g6ZyA6KaB5L+d55WZ55qE5bGe5oCnLCDlj6rmt7vliqDmnInlgLznmoTlsZ7mgKdcbiAgICAgIGNvbnN0IHJldGFpbmQ6YW55ID0gZ2V0UmV0YWluZFByb3BzKGl0ZW0sIG9sZCwgbWV0YVJlYWRlcilcbiAgICAgIHJldHVybiBbLi4ucmVzdWx0LCBjcmVhdGVUYWJsZUNvbnRyb2woaW5mbywgcGlkLCByZXRhaW5kKV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cbiAgfSwgW10pXG4gIHJldHVybiBbY3RybHMsIHNlbGVjdGVkXVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///82048\n");

/***/ }),

/***/ 54739:
/*!***********************************!*\
  !*** ./src/utils/setDragImage.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _controlIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./controlIcon */ 84995);\n\n\nvar dragImage = null; // 拖拽时显示的图片对象\n\n// 生成拖拽时跟随鼠标的图片\nfunction getDragImage(type, name) {\n  var _context;\n  clearDragImage();\n  dragImage = document.createElement('div');\n  var icon = (0,_controlIcon__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(type);\n  var dragHtml = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context = \"\\n    <i class=\\\"designericon designericon-\".concat(icon, \"\\\" style=\\\"font-size:20px;vertical-align: -3px\\\"></i>\\n    \")).call(_context, name, \"\\n  \");\n  dragImage.innerHTML = dragHtml;\n  dragImage.style.cssText = 'position:absolute;top:-9999px;left:-9999px;opacity:1!important;width: 124px;height: 32px;line-height: 32px;padding: 0 8px;background: #fff;box-shadow: \\'0px 4px 12px 0px rgba(40,50,70,0.2)\\';border-radius: 4px;box-sizing: border-box;';\n  document.body.appendChild(dragImage);\n  return dragImage;\n}\n// 清除图片信息\nfunction clearDragImage() {\n  if (dragImage) {\n    document.body.removeChild(dragImage);\n  }\n  dragImage = null;\n}\nvar setDragImage = function setDragImage(event, type, name) {\n  if (event.dataTransfer && event.dataTransfer.setDragImage) {\n    event.dataTransfer.dropEffect = 'move';\n    // event.dataTransfer.setData('text/plain', getDragImage(type, name))\n    event.dataTransfer.setDragImage(getDragImage(type, name), -20, -24);\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (setDragImage);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTQ3MzkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy91dGlscy9zZXREcmFnSW1hZ2UudHM/ZDY3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZ2V0Q29udHJvbEljb25NYXAgZnJvbSAnLi9jb250cm9sSWNvbidcclxuXHJcbmxldCBkcmFnSW1hZ2U6IG51bGwgfCBIVE1MRGl2RWxlbWVudCA9IG51bGwgLy8g5ouW5ou95pe25pi+56S655qE5Zu+54mH5a+56LGhXHJcblxyXG4vLyDnlJ/miJDmi5bmi73ml7bot5/pmo/pvKDmoIfnmoTlm77niYdcclxuZnVuY3Rpb24gZ2V0RHJhZ0ltYWdlICh0eXBlOiBzdHJpbmcsIG5hbWU6IHN0cmluZykge1xyXG4gIGNsZWFyRHJhZ0ltYWdlKClcclxuICBkcmFnSW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gIGNvbnN0IGljb24gPSBnZXRDb250cm9sSWNvbk1hcCh0eXBlKVxyXG4gIGNvbnN0IGRyYWdIdG1sID0gYFxyXG4gICAgPGkgY2xhc3M9XCJkZXNpZ25lcmljb24gZGVzaWduZXJpY29uLSR7aWNvbn1cIiBzdHlsZT1cImZvbnQtc2l6ZToyMHB4O3ZlcnRpY2FsLWFsaWduOiAtM3B4XCI+PC9pPlxyXG4gICAgJHtuYW1lfVxyXG4gIGBcclxuICBkcmFnSW1hZ2UuaW5uZXJIVE1MID0gZHJhZ0h0bWxcclxuICBkcmFnSW1hZ2Uuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTk5OTlweDtsZWZ0Oi05OTk5cHg7b3BhY2l0eToxIWltcG9ydGFudDt3aWR0aDogMTI0cHg7aGVpZ2h0OiAzMnB4O2xpbmUtaGVpZ2h0OiAzMnB4O3BhZGRpbmc6IDAgOHB4O2JhY2tncm91bmQ6ICNmZmY7Ym94LXNoYWRvdzogXFwnMHB4IDRweCAxMnB4IDBweCByZ2JhKDQwLDUwLDcwLDAuMilcXCc7Ym9yZGVyLXJhZGl1czogNHB4O2JveC1zaXppbmc6IGJvcmRlci1ib3g7J1xyXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZHJhZ0ltYWdlKVxyXG4gIHJldHVybiBkcmFnSW1hZ2VcclxufVxyXG4vLyDmuIXpmaTlm77niYfkv6Hmga9cclxuZnVuY3Rpb24gY2xlYXJEcmFnSW1hZ2UgKCkge1xyXG4gIGlmIChkcmFnSW1hZ2UpIHtcclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZHJhZ0ltYWdlKVxyXG4gIH1cclxuICBkcmFnSW1hZ2UgPSBudWxsXHJcbn1cclxuXHJcbmNvbnN0IHNldERyYWdJbWFnZSA9IChldmVudDogZ2xvYmFsVGhpcy5EcmFnRXZlbnQsIHR5cGU6IHN0cmluZywgbmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgaWYgKGV2ZW50LmRhdGFUcmFuc2ZlciAmJiBldmVudC5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKSB7XHJcbiAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJ1xyXG4gICAgLy8gZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBnZXREcmFnSW1hZ2UodHlwZSwgbmFtZSkpXHJcbiAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKGdldERyYWdJbWFnZSh0eXBlLCBuYW1lKSwgLTIwLCAtMjQpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzZXREcmFnSW1hZ2VcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///54739\n");

/***/ }),

/***/ 31340:
/*!********************************!*\
  !*** ./src/utils/treeUtils.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildTree: function() { return /* binding */ buildTree; },\n/* harmony export */   deepGetTreeNodeValue: function() { return /* binding */ deepGetTreeNodeValue; },\n/* harmony export */   deepGetTreeNodeValueByCb: function() { return /* binding */ deepGetTreeNodeValueByCb; },\n/* harmony export */   toRefBillChildNodes: function() { return /* binding */ toRefBillChildNodes; },\n/* harmony export */   transformListConfigToRefBillFieldTree: function() { return /* binding */ transformListConfigToRefBillFieldTree; },\n/* harmony export */   transformListConfigToVariableTree: function() { return /* binding */ transformListConfigToVariableTree; },\n/* harmony export */   translateDataToTree: function() { return /* binding */ translateDataToTree; },\n/* harmony export */   translateDataToVariableTree: function() { return /* binding */ translateDataToVariableTree; },\n/* harmony export */   translateFieldData: function() { return /* binding */ translateFieldData; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 73980);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/from */ 13440);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/symbol */ 59992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js/get-iterator-method */ 60600);\n/* harmony import */ var _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 61260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! . */ 41232);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var _control__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./control */ 3700);\n\n\n\n\n\n\n\n\n\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof (_babel_runtime_corejs3_core_js_stable_symbol__WEBPACK_IMPORTED_MODULE_6___default()) !== \"undefined\" && _babel_runtime_corejs3_core_js_get_iterator_method__WEBPACK_IMPORTED_MODULE_7___default()(o) || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { var _context9; if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_4___default()(_context9 = Object.prototype.toString.call(o)).call(_context9, 8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_5___default()(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_11___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\nfunction translateDataToTree(data, isShowKey, options) {\n  // console.time('开始计算耗时-将平铺数据转换为树形结构')\n  var initTreeData = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(data[_constants_propnames__WEBPACK_IMPORTED_MODULE_16__.ITEMS]);\n  var treeData = [];\n  var searchData = [];\n  var rootNode = {};\n  var childrens = [];\n  initTreeData.forEach(function (itemData, index) {\n    var _context3;\n    var Id = itemData.Id,\n      Name = itemData.Name,\n      ParentId = itemData.ParentId,\n      Key = itemData.Key,\n      Status = itemData.Status,\n      _Root_ = itemData._Root_;\n    var node = {\n      key: Id,\n      title: Name || Key || Id,\n      parentId: ParentId,\n      Hidden: Status === '4',\n      disabled: _Root_\n    };\n    if (options !== null && options !== void 0 && options.prefix) {\n      var _context, _context2;\n      node = _objectSpread(_objectSpread({}, node), {}, {\n        key: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context = \"\".concat(options.prefix)).call(_context, Id),\n        parentId: ParentId ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context2 = \"\".concat(options.prefix)).call(_context2, ParentId) : ParentId\n      });\n    }\n    if (isShowKey) node.title = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context3 = \"\".concat(Name, \"\\uFF08\")).call(_context3, Key, \"\\uFF09\");\n    if (options && index > 0) {\n      _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_11___default()(options).forEach(function (key) {\n        node[key] = itemData[_constants_propnames__WEBPACK_IMPORTED_MODULE_16__._TYPE_];\n      });\n    }\n    treeData.push(node);\n    // 如果关联表单的showtype与当前UI不一至，则为隐藏控件\n    if ((0,_control__WEBPACK_IMPORTED_MODULE_17__.isRefBillTable)(itemData[_constants_propnames__WEBPACK_IMPORTED_MODULE_16__._TYPE_]) && itemData.ShowType === '1' || (0,_control__WEBPACK_IMPORTED_MODULE_17__.isRefBill)(itemData[_constants_propnames__WEBPACK_IMPORTED_MODULE_16__._TYPE_]) && itemData !== null && itemData !== void 0 && itemData.RefTableId && (itemData === null || itemData === void 0 ? void 0 : itemData.ShowType) === '2') node.Hidden = true;\n    if (!node.parentId) rootNode = _objectSpread({}, node);else childrens.push(node);\n  });\n  function translator(parent, childrens, level) {\n    var tempChildren = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(childrens);\n    var idx = 0;\n    if (!parent.parentId) {\n      searchData.push(_objectSpread(_objectSpread({}, parent), {}, {\n        level: level\n      }));\n    }\n    // delete parent.parentId\n    childrens.forEach(function (children, index) {\n      if ((children === null || children === void 0 ? void 0 : children.parentId) === parent.key) {\n        var _context4;\n        var _level = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context4 = \"\".concat(level, \"_\")).call(_context4, idx++);\n        if (parent.Hidden) children.Hidden = true;\n        searchData.push(_objectSpread(_objectSpread({}, children), {}, {\n          level: _level\n        }));\n        _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_12___default()(tempChildren).call(tempChildren, index, 1, undefined);\n        // delete children.parentId\n        parent.children ? parent.children.push(children) : parent.children = [children];\n        translator(children, tempChildren, _level);\n      }\n    });\n  }\n  translator(rootNode, childrens, '0');\n  // console.timeEnd('开始计算耗时-将平铺数据转换为树形结构')\n  // 返回最终结果\n  rootNode.searchData = searchData;\n  return [rootNode];\n}\n\n// 将表单元数据转为变量树\nvar translateDataToVariableTree = function translateDataToVariableTree(dataItems, metaApi) {\n  var needFormatKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var splitRefBill = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var initTreeData = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(dataItems);\n  var treeData = [];\n  var rootNode = {};\n  var items = [];\n  initTreeData.forEach(function (itemData, index) {\n    var _context5;\n    var Id = itemData.Id,\n      Name = itemData.Name,\n      ParentId = itemData.ParentId,\n      Key = itemData.Key,\n      _Type_ = itemData._Type_,\n      Multi = itemData.Multi,\n      SelectItemType = itemData.SelectItemType;\n    var controlName = metaApi.getControlMeta(_Type_).Name;\n    var title = !ParentId ? \"\".concat(Name || Key || Id) : _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context5 = \"[\".concat(controlName, \"]\")).call(_context5, Name || Key || Id);\n    // '${' + `model.${Key}` + '}'\n    var newKey = needFormatKey ? '${' + \"model.\".concat(Key) + '}' : Key;\n    var node = {\n      key: newKey,\n      title: title,\n      parentId: ParentId,\n      id: Id,\n      type: _Type_\n    };\n    node.isLeaf = true;\n    if ((0,___WEBPACK_IMPORTED_MODULE_15__.isGroupContainer)(_Type_)) {\n      // 分组不能选\n      node.selectable = false;\n      node.isLeaf = null;\n    }\n    if ((0,_control__WEBPACK_IMPORTED_MODULE_17__.isSelectField)(_Type_)) {\n      node.title += \"\\uFF08\".concat(SelectItemType == 1 ? '多选' : '单选', \"\\uFF09\");\n    }\n    if ((0,_control__WEBPACK_IMPORTED_MODULE_17__.isRefBill)(_Type_)) {\n      // 拆分关联表单成多个子字段\n      var defaultBillEntityIdEx = metaApi.getControlPropertyDefaultValue(_Type_, 'BillEntityIdEx');\n      var _BillEntityId$BillEnt = _objectSpread({\n          BillEntityId: defaultBillEntityIdEx,\n          BillEntityIdEx: defaultBillEntityIdEx\n        }, itemData),\n        BillEntityId = _BillEntityId$BillEnt.BillEntityId,\n        BillEntityIdEx = _BillEntityId$BillEnt.BillEntityIdEx;\n      // const fieldKeys = PropsDisplay?.split(',')\n      // const childNodes = []\n      // fieldKeys?.forEach(fieldKey => {\n      //   const target = refBillProps?.find(prop => {\n      //     return prop.PropKey === fieldKey\n      //   })\n      //   const { PropCap } = target || {}\n      //   const title = `[${controlName}]${Name || Key || Id}.${PropCap}`\n      //   childNodes.push({\n      //     key: `${Id}.${fieldKey}`, title, parentId: Id, id: `${Id}.${fieldKey}`\n      //   })\n      //   // treeData.push({\n      //   //   key: Key, title, parentId: ParentId, id: Id\n      //   // })\n      // })\n      node.title += \"\\uFF08\".concat(Multi === '1' ? '多条' : '单条', \"\\uFF09\");\n      node.children = [];\n      node.isAsyncNode = true;\n      //node.selectable = false\n      node.isLeaf = null;\n      node.BillEntityId = BillEntityId;\n      node.BillEntityIdEx = BillEntityIdEx;\n    }\n    var newKey_start = needFormatKey ? '${' + \"model.\".concat(Key, \"_startdate\") + '}' : \"\".concat(Key, \"_startdate\");\n    var newKey_end = needFormatKey ? '${' + \"model.\".concat(Key, \"_enddate\") + '}' : \"\".concat(Key, \"_enddate\");\n    if ((0,_control__WEBPACK_IMPORTED_MODULE_17__.isDateRange)(_Type_)) {\n      treeData.push(_objectSpread(_objectSpread({}, node), {}, {\n        key: newKey_start,\n        title: title + '.开始'\n      }));\n      treeData.push(_objectSpread(_objectSpread({}, node), {}, {\n        key: newKey_end,\n        title: title + '.结束'\n      }));\n    } else {\n      treeData.push(node);\n    }\n    if (!node.parentId) {\n      rootNode = _objectSpread(_objectSpread({}, node), {}, {\n        isLeaf: false\n      });\n    } else {\n      if ((0,_control__WEBPACK_IMPORTED_MODULE_17__.isDateRange)(_Type_)) {\n        items.push(_objectSpread(_objectSpread({}, node), {}, {\n          key: newKey_start,\n          title: title + '.开始'\n        }));\n        items.push(_objectSpread(_objectSpread({}, node), {}, {\n          key: newKey_end,\n          title: title + '.结束'\n        }));\n      } else {\n        items.push(node);\n      }\n    }\n  });\n  function translator(parent, data, level) {\n    var tempChildren = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(data);\n    var idx = 0;\n    // delete parent.parentId\n    data.forEach(function (children, index) {\n      if ((children === null || children === void 0 ? void 0 : children.parentId) === parent.id) {\n        var _context6;\n        var _level = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context6 = \"\".concat(level, \"_\")).call(_context6, idx++);\n        _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_12___default()(tempChildren).call(tempChildren, index, 1, undefined);\n        // delete children.parentId\n        parent.children ? parent.children.push(children) : parent.children = [children];\n        translator(children, tempChildren, _level);\n      }\n    });\n  }\n  translator(rootNode, items, '0');\n  return [rootNode];\n};\nvar formatKey = function formatKey(key) {\n  return '${' + \"model.\".concat(key) + '}';\n};\n\n// 将表单元数据转为变量树\nvar translateFieldData = function translateFieldData(_ref) {\n  var options = _ref.options,\n    _ref$currRefbillTable = _ref.currRefbillTableKey,\n    currRefbillTableKey = _ref$currRefbillTable === void 0 ? '' : _ref$currRefbillTable,\n    _ref$needFormatKey = _ref.needFormatKey,\n    needFormatKey = _ref$needFormatKey === void 0 ? false : _ref$needFormatKey;\n  if (!options) return options;\n  return options.reduce(function (newOptions, item) {\n    var key = item.key,\n      title = item.title,\n      typeCaption = item.titlePrefix,\n      children = item.children,\n      type = item.type,\n      entityId = item.entityId,\n      isMulti = item.isMulti;\n    var titlePrefix = currRefbillTableKey === key ? typeCaption.replace('[多条]', '[循环中：单条]') : typeCaption;\n    // const title = titlePrefix ? `${titlePrefix}${originTitle}` : originTitle\n    var node = {\n      key: needFormatKey ? formatKey(key) : key,\n      title: title,\n      titlePrefix: titlePrefix,\n      type: type,\n      isMulti: isMulti,\n      selectable: true\n    };\n    if (type === 'group') {\n      // 分组不能选\n      node.selectable = false;\n    }\n    if ((0,_control__WEBPACK_IMPORTED_MODULE_17__.isRefBill)(type)) {\n      node.BillEntityId = entityId;\n      node.BillEntityIdEx = entityId;\n    }\n    if (children) {\n      node.children = translateFieldData({\n        options: children,\n        needFormatKey: needFormatKey\n      });\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(newOptions).call(newOptions, node);\n  }, []);\n};\nvar toRefBillChildNodes = function toRefBillChildNodes(options, rellBillNode) {\n  var _ref2 = rellBillNode || {},\n    Name = _ref2.Name,\n    Key = _ref2.Key,\n    ParentId = _ref2.ParentId,\n    controlType = _ref2.controlType;\n  return options === null || options === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_13___default()(options).call(options, function (item) {\n    var _context7, _context8;\n    var PropCap = item.PropCap,\n      PropKey = item.PropKey,\n      isMulti = item.isMulti,\n      items = item.items,\n      type = item.type;\n    // const title = `[${controlType}]${Name}.${PropCap}`\n    var title = PropCap;\n    return {\n      key: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context7 = \"\".concat(Key, \".\")).call(_context7, PropKey),\n      title: title,\n      parentId: ParentId,\n      id: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(_context8 = \"\".concat(Key, \".\")).call(_context8, PropKey),\n      isLeaf: true\n    };\n  });\n};\n\n// function getTreeItem (data: Array<object>, ids: Array<string>, flattenTrees: unknown[], { isShowKey, isListMeta }) {\n//   const tempArr: Array<object> = []\n//   data.forEach((item: any) => {\n//     const tempItem = {\n//       key: item.Id,\n//       title: item.Name,\n//       type: item.Type,\n//       createType: item.CreateType\n//     }\n//     flattenTrees.push({ ...tempItem })\n//     if (isShowKey) {\n//       tempItem.title = `${item.Name}（${item.Id}）`\n//     }\n//     if (item.Items) {\n//       tempItem.children = getTreeItem(item.Items, ids, flattenTrees, { isShowKey, isListMeta })\n//     }\n//     ids.push(item.Id)\n//     tempArr.push(tempItem)\n//   })\n//   return tempArr\n// }\n\nvar transformListConfigToVariableTree = function transformListConfigToVariableTree(_ref3) {\n  var metaApi = _ref3.metaApi,\n    options = _ref3.options;\n  if (!options) return options;\n  return options.reduce(function (treeData, item) {\n    var _pureId$split;\n    var key = item.key,\n      title = item.title,\n      children = item.children,\n      type = item.type,\n      entityId = item.entityId,\n      isMulti = item.isMulti,\n      titlePrefix = item.titlePrefix;\n    var pureId = key !== null && key !== void 0 && _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_14___default()(key).call(key, 'fbasedataid') ? key.split('.fbasedataid')[0] : key;\n    // 根据后端拼接的'.'分割出数组，以此为依据判断层级\n    var depth = (pureId === null || pureId === void 0 || (_pureId$split = pureId.split('.')) === null || _pureId$split === void 0 ? void 0 : _pureId$split.length) || 0;\n    // 变量树不支持属性穿透（但是分组会存在拼接key的情况：xxx.xxx）\n    if (!(0,___WEBPACK_IMPORTED_MODULE_15__.isGroupContainer)(type) && depth > 1) return treeData;\n    var newKey = '${' + \"model.\".concat(key) + '}';\n    var node = {\n      key: newKey,\n      title: title,\n      titlePrefix: titlePrefix,\n      type: type,\n      isMulti: isMulti\n    };\n    if ((0,___WEBPACK_IMPORTED_MODULE_15__.isGroupContainer)(type) || (0,_control__WEBPACK_IMPORTED_MODULE_17__.isEntryEntity)(type)) {\n      // 分组不能选\n      node.selectable = false;\n      node.isLeaf = null;\n    }\n    // if (isSelectField(type)) {\n    //   node.title += `（${isMulti ? '多选' : '单选'}）`\n    // }\n    if (entityId) {\n      // node.title += `（${isMulti ? '多条' : '单条'}）`\n      node.entityId = entityId;\n    }\n    if (children) {\n      node.children = transformListConfigToVariableTree({\n        options: children,\n        metaApi: metaApi\n      });\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(treeData).call(treeData, node);\n  }, []);\n};\nvar transformListConfigToRefBillFieldTree = function transformListConfigToRefBillFieldTree(_ref4) {\n  var options = _ref4.options;\n  if (!options) return options;\n  return options.reduce(function (treeData, item) {\n    var key = item.key,\n      title = item.title,\n      titlePrefix = item.titlePrefix,\n      children = item.children,\n      type = item.type,\n      isMulti = item.isMulti,\n      sourceForm = item.sourceForm;\n    var node = {\n      key: key,\n      title: title,\n      titlePrefix: titlePrefix\n    };\n    if (children && !isMulti) {\n      node.children = transformListConfigToRefBillFieldTree({\n        options: children\n      });\n    }\n    // 内部表格\n    if (sourceForm === '1') return treeData;\n    if (key.split('.').length > 1 && sourceForm !== undefined) return treeData;\n    if (!((0,_control__WEBPACK_IMPORTED_MODULE_17__.isRefBill)(type) || (0,_control__WEBPACK_IMPORTED_MODULE_17__.isSysRefBill)(type) || (0,_control__WEBPACK_IMPORTED_MODULE_17__.isRefBillTable)(type))) {\n      var _node$children;\n      node.selectable = false;\n      if (node !== null && node !== void 0 && (_node$children = node.children) !== null && _node$children !== void 0 && _node$children.length) {\n        return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(treeData).call(treeData, node);\n      }\n      return treeData;\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(treeData).call(treeData, node);\n  }, []);\n};\nvar deepGetTreeNodeValue = function deepGetTreeNodeValue(treeData) {\n  var nodeProp = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key';\n  return treeData.reduce(function (allData, treeNode) {\n    var collectData = [];\n    if (treeNode[nodeProp]) {\n      collectData.push(treeNode[nodeProp]);\n    }\n    if (treeNode.children) {\n      collectData.push.apply(collectData, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(deepGetTreeNodeValue(treeNode.children, nodeProp)));\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(allData).call(allData, collectData);\n  }, []);\n};\n\n// 根据传入的callback，递归获取符合条件的树节点数据（可以是树节点本身，也可以是树节点属性，取决于callback return回来的值）\nvar deepGetTreeNodeValueByCb = function deepGetTreeNodeValueByCb(treeData, callback) {\n  return treeData.reduce(function (allData, treeNode) {\n    var collectData = [];\n    if (callback && callback(treeNode)) {\n      collectData.push(callback(treeNode));\n    }\n    if (treeNode.children) {\n      collectData.push.apply(collectData, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(deepGetTreeNodeValueByCb(treeNode.children, callback)));\n    }\n    return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_10___default()(allData).call(allData, collectData);\n  }, []);\n};\nvar buildTree = function buildTree(arr) {\n  var tree = [];\n  var map = {};\n  var _iterator = _createForOfIteratorHelper(arr),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _node = _step.value;\n      map[_node.Id] = _objectSpread(_objectSpread({}, _node), {}, {\n        children: []\n      });\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  var _iterator2 = _createForOfIteratorHelper(arr),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _node2 = _step2.value;\n      if (!_node2.ParentId) {\n        tree.push(map[_node2.Id]);\n      } else {\n        map[_node2.ParentId] && map[_node2.ParentId].children.push(map[_node2.Id]);\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n  return tree;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzEzNDAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFJQTtBQUhBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUdBO0FBREE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy91dGlscy90cmVlVXRpbHMudHM/ZTAxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0dyb3VwQ29udGFpbmVyIH0gZnJvbSAnLidcbmltcG9ydCB7IElURU1TLCBfVFlQRV8gfSBmcm9tICcuLi9jb25zdGFudHMvcHJvcG5hbWVzJ1xuaW1wb3J0IHsgaXNBdHRhY2htZW50RmllbGQsIGlzRGF0ZVJhbmdlLCBpc0VudHJ5RW50aXR5LCBpc0ltYWdlRmllbGQsIGlzUmVmQmlsbCwgaXNSZWZCaWxsVGFibGUsIGlzU2VsZWN0RmllbGQsIGlzU3lzUmVmQmlsbCB9IGZyb20gJy4vY29udHJvbCdcblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZURhdGFUb1RyZWUoZGF0YTogYW55LCBpc1Nob3dLZXk6IGJvb2xlYW4sIG9wdGlvbnM/OiBhbnkpIHtcbiAgLy8gY29uc29sZS50aW1lKCflvIDlp4vorqHnrpfogJfml7Yt5bCG5bmz6ZO65pWw5o2u6L2s5o2i5Li65qCR5b2i57uT5p6EJylcbiAgY29uc3QgaW5pdFRyZWVEYXRhID0gWy4uLihkYXRhW0lURU1TXSldXG4gIGNvbnN0IHRyZWVEYXRhOiBhbnkgPSBbXVxuICBjb25zdCBzZWFyY2hEYXRhOiBhbnkgPSBbXVxuICBsZXQgcm9vdE5vZGUgPSB7fVxuICBjb25zdCBjaGlsZHJlbnM6IGFueSA9IFtdXG4gIGluaXRUcmVlRGF0YS5mb3JFYWNoKChpdGVtRGF0YSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCB7IElkLCBOYW1lLCBQYXJlbnRJZCwgS2V5LCBTdGF0dXMsIF9Sb290XyB9ID0gaXRlbURhdGFcbiAgICBsZXQgbm9kZSA9IHsga2V5OiBJZCwgdGl0bGU6IE5hbWUgfHwgS2V5IHx8IElkLCBwYXJlbnRJZDogUGFyZW50SWQsIEhpZGRlbjogU3RhdHVzID09PSAnNCcsIGRpc2FibGVkOiBfUm9vdF8gfVxuICAgIGlmIChvcHRpb25zPy5wcmVmaXgpIHtcbiAgICAgIG5vZGUgPSB7IC4uLm5vZGUsIGtleTogYCR7b3B0aW9ucy5wcmVmaXh9JHtJZH1gLCBwYXJlbnRJZDogUGFyZW50SWQgPyBgJHtvcHRpb25zLnByZWZpeH0ke1BhcmVudElkfWAgOiBQYXJlbnRJZCB9XG4gICAgfVxuICAgIGlmIChpc1Nob3dLZXkpIG5vZGUudGl0bGUgPSBgJHtOYW1lfe+8iCR7S2V5fe+8iWBcbiAgICBpZiAob3B0aW9ucyAmJiBpbmRleCA+IDApIHtcbiAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goKGtleTogc3RyaW5nKSA9PiB7XG4gICAgICAgIG5vZGVba2V5XSA9IGl0ZW1EYXRhW19UWVBFX11cbiAgICAgIH0pXG4gICAgfVxuICAgIHRyZWVEYXRhLnB1c2gobm9kZSlcbiAgICAvLyDlpoLmnpzlhbPogZTooajljZXnmoRzaG93dHlwZeS4juW9k+WJjVVJ5LiN5LiA6Iez77yM5YiZ5Li66ZqQ6JeP5o6n5Lu2XG4gICAgaWYgKFxuICAgICAgKGlzUmVmQmlsbFRhYmxlKGl0ZW1EYXRhW19UWVBFX10pICYmIGl0ZW1EYXRhLlNob3dUeXBlID09PSAnMScpXG4gICAgICB8fCAoaXNSZWZCaWxsKGl0ZW1EYXRhW19UWVBFX10pICYmIGl0ZW1EYXRhPy5SZWZUYWJsZUlkICYmIGl0ZW1EYXRhPy5TaG93VHlwZSA9PT0gJzInKVxuICAgICkgbm9kZS5IaWRkZW4gPSB0cnVlXG4gICAgaWYgKCFub2RlLnBhcmVudElkKSByb290Tm9kZSA9IHsgLi4ubm9kZSB9XG4gICAgZWxzZSBjaGlsZHJlbnMucHVzaChub2RlKVxuICB9KVxuICBmdW5jdGlvbiB0cmFuc2xhdG9yKHBhcmVudDogYW55LCBjaGlsZHJlbnM6IGFueSwgbGV2ZWw6IHN0cmluZykge1xuICAgIGNvbnN0IHRlbXBDaGlsZHJlbiA9IFsuLi5jaGlsZHJlbnNdXG4gICAgbGV0IGlkeDogbnVtYmVyID0gMFxuICAgIGlmICghcGFyZW50LnBhcmVudElkKSB7XG4gICAgICBzZWFyY2hEYXRhLnB1c2goeyAuLi5wYXJlbnQsIGxldmVsIH0pXG4gICAgfVxuICAgIC8vIGRlbGV0ZSBwYXJlbnQucGFyZW50SWRcbiAgICBjaGlsZHJlbnMuZm9yRWFjaCgoY2hpbGRyZW46IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgaWYgKGNoaWxkcmVuPy5wYXJlbnRJZCA9PT0gcGFyZW50LmtleSkge1xuICAgICAgICBjb25zdCBfbGV2ZWw6IHN0cmluZyA9IGAke2xldmVsfV8ke2lkeCsrfWBcbiAgICAgICAgaWYgKHBhcmVudC5IaWRkZW4pIGNoaWxkcmVuLkhpZGRlbiA9IHRydWVcbiAgICAgICAgc2VhcmNoRGF0YS5wdXNoKHsgLi4uY2hpbGRyZW4sIGxldmVsOiBfbGV2ZWwgfSlcbiAgICAgICAgdGVtcENoaWxkcmVuLnNwbGljZShpbmRleCwgMSwgdW5kZWZpbmVkKVxuICAgICAgICAvLyBkZWxldGUgY2hpbGRyZW4ucGFyZW50SWRcbiAgICAgICAgcGFyZW50LmNoaWxkcmVuID8gcGFyZW50LmNoaWxkcmVuLnB1c2goY2hpbGRyZW4pIDogcGFyZW50LmNoaWxkcmVuID0gW2NoaWxkcmVuXVxuICAgICAgICB0cmFuc2xhdG9yKGNoaWxkcmVuLCB0ZW1wQ2hpbGRyZW4sIF9sZXZlbClcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIHRyYW5zbGF0b3Iocm9vdE5vZGUsIGNoaWxkcmVucywgJzAnKVxuICAvLyBjb25zb2xlLnRpbWVFbmQoJ+W8gOWni+iuoeeul+iAl+aXti3lsIblubPpk7rmlbDmja7ovazmjaLkuLrmoJHlvaLnu5PmnoQnKVxuICAvLyDov5Tlm57mnIDnu4jnu5PmnpxcbiAgcm9vdE5vZGUuc2VhcmNoRGF0YSA9IHNlYXJjaERhdGFcbiAgcmV0dXJuIFtyb290Tm9kZV1cbn1cblxuLy8g5bCG6KGo5Y2V5YWD5pWw5o2u6L2s5Li65Y+Y6YeP5qCRXG5leHBvcnQgY29uc3QgdHJhbnNsYXRlRGF0YVRvVmFyaWFibGVUcmVlID0gKGRhdGFJdGVtczogYW55W10sIG1ldGFBcGk6IGFueSwgbmVlZEZvcm1hdEtleTogYm9vbGVhbiA9IHRydWUsIHNwbGl0UmVmQmlsbDogYm9vbGVhbiA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IGluaXRUcmVlRGF0YSA9IFsuLi5kYXRhSXRlbXNdXG4gIGNvbnN0IHRyZWVEYXRhOiBhbnkgPSBbXVxuICBsZXQgcm9vdE5vZGUgPSB7fVxuICBjb25zdCBpdGVtczogYW55ID0gW11cbiAgaW5pdFRyZWVEYXRhLmZvckVhY2goKGl0ZW1EYXRhLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHsgSWQsIE5hbWUsIFBhcmVudElkLCBLZXksIF9UeXBlXywgTXVsdGksIFNlbGVjdEl0ZW1UeXBlIH0gPSBpdGVtRGF0YVxuICAgIGNvbnN0IGNvbnRyb2xOYW1lID0gbWV0YUFwaS5nZXRDb250cm9sTWV0YShfVHlwZV8pLk5hbWVcbiAgICBjb25zdCB0aXRsZSA9ICFQYXJlbnRJZCA/IGAke05hbWUgfHwgS2V5IHx8IElkfWAgOiBgWyR7Y29udHJvbE5hbWV9XSR7TmFtZSB8fCBLZXkgfHwgSWR9YFxuICAgIC8vICckeycgKyBgbW9kZWwuJHtLZXl9YCArICd9J1xuICAgIGNvbnN0IG5ld0tleSA9IG5lZWRGb3JtYXRLZXkgPyAnJHsnICsgYG1vZGVsLiR7S2V5fWAgKyAnfScgOiBLZXlcbiAgICBjb25zdCBub2RlID0geyBrZXk6IG5ld0tleSwgdGl0bGUsIHBhcmVudElkOiBQYXJlbnRJZCwgaWQ6IElkLCB0eXBlOiBfVHlwZV8gfVxuICAgIG5vZGUuaXNMZWFmID0gdHJ1ZVxuICAgIGlmIChpc0dyb3VwQ29udGFpbmVyKF9UeXBlXykpIHtcbiAgICAgIC8vIOWIhue7hOS4jeiDvemAiVxuICAgICAgbm9kZS5zZWxlY3RhYmxlID0gZmFsc2VcbiAgICAgIG5vZGUuaXNMZWFmID0gbnVsbFxuICAgIH1cbiAgICBpZiAoaXNTZWxlY3RGaWVsZChfVHlwZV8pKSB7XG4gICAgICBub2RlLnRpdGxlICs9IGDvvIgke1NlbGVjdEl0ZW1UeXBlID09IDEgPyAn5aSa6YCJJyA6ICfljZXpgIknfe+8iWBcbiAgICB9XG4gICAgaWYgKGlzUmVmQmlsbChfVHlwZV8pKSB7IC8vIOaLhuWIhuWFs+iBlOihqOWNleaIkOWkmuS4quWtkOWtl+autVxuICAgICAgY29uc3QgZGVmYXVsdEJpbGxFbnRpdHlJZEV4ID0gbWV0YUFwaS5nZXRDb250cm9sUHJvcGVydHlEZWZhdWx0VmFsdWUoX1R5cGVfLCAnQmlsbEVudGl0eUlkRXgnKVxuXG4gICAgICBjb25zdCB7IEJpbGxFbnRpdHlJZCwgQmlsbEVudGl0eUlkRXggfSA9IHsgQmlsbEVudGl0eUlkOiBkZWZhdWx0QmlsbEVudGl0eUlkRXgsIEJpbGxFbnRpdHlJZEV4OiBkZWZhdWx0QmlsbEVudGl0eUlkRXgsIC4uLml0ZW1EYXRhIH1cbiAgICAgIC8vIGNvbnN0IGZpZWxkS2V5cyA9IFByb3BzRGlzcGxheT8uc3BsaXQoJywnKVxuICAgICAgLy8gY29uc3QgY2hpbGROb2RlcyA9IFtdXG4gICAgICAvLyBmaWVsZEtleXM/LmZvckVhY2goZmllbGRLZXkgPT4ge1xuICAgICAgLy8gICBjb25zdCB0YXJnZXQgPSByZWZCaWxsUHJvcHM/LmZpbmQocHJvcCA9PiB7XG4gICAgICAvLyAgICAgcmV0dXJuIHByb3AuUHJvcEtleSA9PT0gZmllbGRLZXlcbiAgICAgIC8vICAgfSlcbiAgICAgIC8vICAgY29uc3QgeyBQcm9wQ2FwIH0gPSB0YXJnZXQgfHwge31cbiAgICAgIC8vICAgY29uc3QgdGl0bGUgPSBgWyR7Y29udHJvbE5hbWV9XSR7TmFtZSB8fCBLZXkgfHwgSWR9LiR7UHJvcENhcH1gXG4gICAgICAvLyAgIGNoaWxkTm9kZXMucHVzaCh7XG4gICAgICAvLyAgICAga2V5OiBgJHtJZH0uJHtmaWVsZEtleX1gLCB0aXRsZSwgcGFyZW50SWQ6IElkLCBpZDogYCR7SWR9LiR7ZmllbGRLZXl9YFxuICAgICAgLy8gICB9KVxuICAgICAgLy8gICAvLyB0cmVlRGF0YS5wdXNoKHtcbiAgICAgIC8vICAgLy8gICBrZXk6IEtleSwgdGl0bGUsIHBhcmVudElkOiBQYXJlbnRJZCwgaWQ6IElkXG4gICAgICAvLyAgIC8vIH0pXG4gICAgICAvLyB9KVxuICAgICAgbm9kZS50aXRsZSArPSBg77yIJHtNdWx0aSA9PT0gJzEnID8gJ+WkmuadoScgOiAn5Y2V5p2hJ33vvIlgXG4gICAgICBub2RlLmNoaWxkcmVuID0gW11cbiAgICAgIG5vZGUuaXNBc3luY05vZGUgPSB0cnVlXG4gICAgICAvL25vZGUuc2VsZWN0YWJsZSA9IGZhbHNlXG4gICAgICBub2RlLmlzTGVhZiA9IG51bGxcbiAgICAgIG5vZGUuQmlsbEVudGl0eUlkID0gQmlsbEVudGl0eUlkXG4gICAgICBub2RlLkJpbGxFbnRpdHlJZEV4ID0gQmlsbEVudGl0eUlkRXhcbiAgICB9XG4gICAgY29uc3QgbmV3S2V5X3N0YXJ0ID0gbmVlZEZvcm1hdEtleSA/ICckeycgKyBgbW9kZWwuJHtLZXl9X3N0YXJ0ZGF0ZWAgKyAnfScgOiBgJHtLZXl9X3N0YXJ0ZGF0ZWBcbiAgICBjb25zdCBuZXdLZXlfZW5kID0gbmVlZEZvcm1hdEtleSA/ICckeycgKyBgbW9kZWwuJHtLZXl9X2VuZGRhdGVgICsgJ30nIDogYCR7S2V5fV9lbmRkYXRlYFxuICAgIGlmIChpc0RhdGVSYW5nZShfVHlwZV8pKSB7XG4gICAgICB0cmVlRGF0YS5wdXNoKHsgLi4ubm9kZSwga2V5OiBuZXdLZXlfc3RhcnQsIHRpdGxlOiB0aXRsZSArICcu5byA5aeLJyB9KVxuICAgICAgdHJlZURhdGEucHVzaCh7IC4uLm5vZGUsIGtleTogbmV3S2V5X2VuZCwgdGl0bGU6IHRpdGxlICsgJy7nu5PmnZ8nIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRyZWVEYXRhLnB1c2gobm9kZSlcbiAgICB9XG4gICAgaWYgKCFub2RlLnBhcmVudElkKSB7XG4gICAgICByb290Tm9kZSA9IHsgLi4ubm9kZSwgaXNMZWFmOiBmYWxzZSB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKGlzRGF0ZVJhbmdlKF9UeXBlXykpIHtcbiAgICAgICAgaXRlbXMucHVzaCh7IC4uLm5vZGUsIGtleTogbmV3S2V5X3N0YXJ0LCB0aXRsZTogdGl0bGUgKyAnLuW8gOWniycgfSlcbiAgICAgICAgaXRlbXMucHVzaCh7IC4uLm5vZGUsIGtleTogbmV3S2V5X2VuZCwgdGl0bGU6IHRpdGxlICsgJy7nu5PmnZ8nIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtcy5wdXNoKG5vZGUpXG4gICAgICB9XG4gICAgfVxuICB9KVxuICBmdW5jdGlvbiB0cmFuc2xhdG9yKHBhcmVudDogYW55LCBkYXRhOiBhbnlbXSwgbGV2ZWw6IHN0cmluZykge1xuICAgIGNvbnN0IHRlbXBDaGlsZHJlbiA9IFsuLi5kYXRhXVxuICAgIGxldCBpZHg6IG51bWJlciA9IDBcbiAgICAvLyBkZWxldGUgcGFyZW50LnBhcmVudElkXG4gICAgZGF0YS5mb3JFYWNoKChjaGlsZHJlbjogYW55LCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICBpZiAoY2hpbGRyZW4/LnBhcmVudElkID09PSBwYXJlbnQuaWQpIHtcbiAgICAgICAgY29uc3QgX2xldmVsOiBzdHJpbmcgPSBgJHtsZXZlbH1fJHtpZHgrK31gXG4gICAgICAgIHRlbXBDaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEsIHVuZGVmaW5lZClcbiAgICAgICAgLy8gZGVsZXRlIGNoaWxkcmVuLnBhcmVudElkXG4gICAgICAgIHBhcmVudC5jaGlsZHJlbiA/IHBhcmVudC5jaGlsZHJlbi5wdXNoKGNoaWxkcmVuKSA6IHBhcmVudC5jaGlsZHJlbiA9IFtjaGlsZHJlbl1cbiAgICAgICAgdHJhbnNsYXRvcihjaGlsZHJlbiwgdGVtcENoaWxkcmVuLCBfbGV2ZWwpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICB0cmFuc2xhdG9yKHJvb3ROb2RlLCBpdGVtcywgJzAnKVxuICByZXR1cm4gW3Jvb3ROb2RlXVxufVxuXG5jb25zdCBmb3JtYXRLZXkgPSAoa2V5OiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuICckeycgKyBgbW9kZWwuJHtrZXl9YCArICd9J1xufVxuXG4vLyDlsIbooajljZXlhYPmlbDmja7ovazkuLrlj5jph4/moJFcbmV4cG9ydCBjb25zdCB0cmFuc2xhdGVGaWVsZERhdGEgPSAoe1xuICBvcHRpb25zLFxuICBjdXJyUmVmYmlsbFRhYmxlS2V5ID0gJycsXG4gIG5lZWRGb3JtYXRLZXkgPSBmYWxzZVxufTogYW55KSA9PiB7XG4gIGlmICghb3B0aW9ucykgcmV0dXJuIG9wdGlvbnNcbiAgcmV0dXJuIG9wdGlvbnMucmVkdWNlKChuZXdPcHRpb25zOiBhbnlbXSwgaXRlbTogYW55KSA9PiB7XG4gICAgY29uc3QgeyBrZXksIHRpdGxlLCB0aXRsZVByZWZpeDogdHlwZUNhcHRpb24sIGNoaWxkcmVuLCB0eXBlLCBlbnRpdHlJZCwgaXNNdWx0aSB9ID0gaXRlbVxuICAgIGNvbnN0IHRpdGxlUHJlZml4ID0gY3VyclJlZmJpbGxUYWJsZUtleSA9PT0ga2V5ID8gdHlwZUNhcHRpb24ucmVwbGFjZSgnW+WkmuadoV0nLCAnW+W+queOr+S4re+8muWNleadoV0nKSA6IHR5cGVDYXB0aW9uXG4gICAgLy8gY29uc3QgdGl0bGUgPSB0aXRsZVByZWZpeCA/IGAke3RpdGxlUHJlZml4fSR7b3JpZ2luVGl0bGV9YCA6IG9yaWdpblRpdGxlXG4gICAgY29uc3Qgbm9kZTogYW55ID0ge1xuICAgICAga2V5OiBuZWVkRm9ybWF0S2V5ID8gZm9ybWF0S2V5KGtleSkgOiBrZXksXG4gICAgICB0aXRsZSxcbiAgICAgIHRpdGxlUHJlZml4LFxuICAgICAgdHlwZSxcbiAgICAgIGlzTXVsdGksXG4gICAgICBzZWxlY3RhYmxlOiB0cnVlXG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnZ3JvdXAnKSB7XG4gICAgICAvLyDliIbnu4TkuI3og73pgIlcbiAgICAgIG5vZGUuc2VsZWN0YWJsZSA9IGZhbHNlXG4gICAgfVxuICAgIGlmIChpc1JlZkJpbGwodHlwZSkpIHtcbiAgICAgIG5vZGUuQmlsbEVudGl0eUlkID0gZW50aXR5SWRcbiAgICAgIG5vZGUuQmlsbEVudGl0eUlkRXggPSBlbnRpdHlJZFxuICAgIH1cbiAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgIG5vZGUuY2hpbGRyZW4gPSB0cmFuc2xhdGVGaWVsZERhdGEoeyBvcHRpb25zOiBjaGlsZHJlbiwgbmVlZEZvcm1hdEtleSB9KVxuICAgIH1cbiAgICByZXR1cm4gbmV3T3B0aW9ucy5jb25jYXQobm9kZSlcbiAgfSwgW10pXG59XG5cbmV4cG9ydCBjb25zdCB0b1JlZkJpbGxDaGlsZE5vZGVzID0gKG9wdGlvbnMsIHJlbGxCaWxsTm9kZSkgPT4ge1xuICBjb25zdCB7IE5hbWUsIEtleSwgUGFyZW50SWQsIGNvbnRyb2xUeXBlIH0gPSByZWxsQmlsbE5vZGUgfHwge31cbiAgcmV0dXJuIG9wdGlvbnM/Lm1hcChpdGVtID0+IHtcbiAgICBjb25zdCB7IFByb3BDYXAsIFByb3BLZXksIGlzTXVsdGksIGl0ZW1zLCB0eXBlIH0gPSBpdGVtXG4gICAgLy8gY29uc3QgdGl0bGUgPSBgWyR7Y29udHJvbFR5cGV9XSR7TmFtZX0uJHtQcm9wQ2FwfWBcbiAgICBjb25zdCB0aXRsZSA9IFByb3BDYXBcbiAgICByZXR1cm4ge1xuICAgICAga2V5OiBgJHtLZXl9LiR7UHJvcEtleX1gLCB0aXRsZSwgcGFyZW50SWQ6IFBhcmVudElkLCBpZDogYCR7S2V5fS4ke1Byb3BLZXl9YCwgaXNMZWFmOiB0cnVlXG4gICAgfVxuICB9KVxufVxuXG4vLyBmdW5jdGlvbiBnZXRUcmVlSXRlbSAoZGF0YTogQXJyYXk8b2JqZWN0PiwgaWRzOiBBcnJheTxzdHJpbmc+LCBmbGF0dGVuVHJlZXM6IHVua25vd25bXSwgeyBpc1Nob3dLZXksIGlzTGlzdE1ldGEgfSkge1xuLy8gICBjb25zdCB0ZW1wQXJyOiBBcnJheTxvYmplY3Q+ID0gW11cbi8vICAgZGF0YS5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcbi8vICAgICBjb25zdCB0ZW1wSXRlbSA9IHtcbi8vICAgICAgIGtleTogaXRlbS5JZCxcbi8vICAgICAgIHRpdGxlOiBpdGVtLk5hbWUsXG4vLyAgICAgICB0eXBlOiBpdGVtLlR5cGUsXG4vLyAgICAgICBjcmVhdGVUeXBlOiBpdGVtLkNyZWF0ZVR5cGVcbi8vICAgICB9XG4vLyAgICAgZmxhdHRlblRyZWVzLnB1c2goeyAuLi50ZW1wSXRlbSB9KVxuLy8gICAgIGlmIChpc1Nob3dLZXkpIHtcbi8vICAgICAgIHRlbXBJdGVtLnRpdGxlID0gYCR7aXRlbS5OYW1lfe+8iCR7aXRlbS5JZH3vvIlgXG4vLyAgICAgfVxuLy8gICAgIGlmIChpdGVtLkl0ZW1zKSB7XG4vLyAgICAgICB0ZW1wSXRlbS5jaGlsZHJlbiA9IGdldFRyZWVJdGVtKGl0ZW0uSXRlbXMsIGlkcywgZmxhdHRlblRyZWVzLCB7IGlzU2hvd0tleSwgaXNMaXN0TWV0YSB9KVxuLy8gICAgIH1cbi8vICAgICBpZHMucHVzaChpdGVtLklkKVxuLy8gICAgIHRlbXBBcnIucHVzaCh0ZW1wSXRlbSlcbi8vICAgfSlcbi8vICAgcmV0dXJuIHRlbXBBcnJcbi8vIH1cblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybUxpc3RDb25maWdUb1ZhcmlhYmxlVHJlZSA9ICh7XG4gIG1ldGFBcGksXG4gIG9wdGlvbnNcbn06IGFueSkgPT4ge1xuICBpZiAoIW9wdGlvbnMpIHJldHVybiBvcHRpb25zXG4gIHJldHVybiBvcHRpb25zLnJlZHVjZSgodHJlZURhdGE6IGFueVtdLCBpdGVtOiBhbnkpID0+IHtcbiAgICBjb25zdCB7IGtleSwgdGl0bGUsIGNoaWxkcmVuLCB0eXBlLCBlbnRpdHlJZCwgaXNNdWx0aSwgdGl0bGVQcmVmaXggfSA9IGl0ZW1cbiAgICBjb25zdCBwdXJlSWQgPSBrZXk/LmluY2x1ZGVzKCdmYmFzZWRhdGFpZCcpID8ga2V5LnNwbGl0KCcuZmJhc2VkYXRhaWQnKVswXSA6IGtleVxuICAgIC8vIOagueaNruWQjuerr+aLvOaOpeeahCcuJ+WIhuWJsuWHuuaVsOe7hO+8jOS7peatpOS4uuS+neaNruWIpOaWreWxgue6p1xuICAgIGNvbnN0IGRlcHRoID0gcHVyZUlkPy5zcGxpdCgnLicpPy5sZW5ndGggfHwgMFxuICAgIC8vIOWPmOmHj+agkeS4jeaUr+aMgeWxnuaAp+epv+mAj++8iOS9huaYr+WIhue7hOS8muWtmOWcqOaLvOaOpWtleeeahOaDheWGte+8mnh4eC54eHjvvIlcbiAgICBpZiAoIWlzR3JvdXBDb250YWluZXIodHlwZSkgJiYgZGVwdGggPiAxKSByZXR1cm4gdHJlZURhdGFcblxuICAgIGNvbnN0IG5ld0tleSA9ICckeycgKyBgbW9kZWwuJHtrZXl9YCArICd9J1xuICAgIGNvbnN0IG5vZGU6IGFueSA9IHtcbiAgICAgIGtleTogbmV3S2V5LFxuICAgICAgdGl0bGUsXG4gICAgICB0aXRsZVByZWZpeCxcbiAgICAgIHR5cGUsXG4gICAgICBpc011bHRpXG4gICAgfVxuICAgIGlmIChpc0dyb3VwQ29udGFpbmVyKHR5cGUpIHx8IGlzRW50cnlFbnRpdHkodHlwZSkpIHtcbiAgICAgIC8vIOWIhue7hOS4jeiDvemAiVxuICAgICAgbm9kZS5zZWxlY3RhYmxlID0gZmFsc2VcbiAgICAgIG5vZGUuaXNMZWFmID0gbnVsbFxuICAgIH1cbiAgICAvLyBpZiAoaXNTZWxlY3RGaWVsZCh0eXBlKSkge1xuICAgIC8vICAgbm9kZS50aXRsZSArPSBg77yIJHtpc011bHRpID8gJ+WkmumAiScgOiAn5Y2V6YCJJ33vvIlgXG4gICAgLy8gfVxuICAgIGlmIChlbnRpdHlJZCkge1xuICAgICAgLy8gbm9kZS50aXRsZSArPSBg77yIJHtpc011bHRpID8gJ+WkmuadoScgOiAn5Y2V5p2hJ33vvIlgXG4gICAgICBub2RlLmVudGl0eUlkID0gZW50aXR5SWRcbiAgICB9XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICBub2RlLmNoaWxkcmVuID0gdHJhbnNmb3JtTGlzdENvbmZpZ1RvVmFyaWFibGVUcmVlKHsgb3B0aW9uczogY2hpbGRyZW4sIG1ldGFBcGkgfSlcbiAgICB9XG4gICAgcmV0dXJuIHRyZWVEYXRhLmNvbmNhdChub2RlKVxuICB9LCBbXSlcbn1cblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybUxpc3RDb25maWdUb1JlZkJpbGxGaWVsZFRyZWUgPSAoe1xuICBvcHRpb25zXG59OiBhbnkpID0+IHtcbiAgaWYgKCFvcHRpb25zKSByZXR1cm4gb3B0aW9uc1xuICByZXR1cm4gb3B0aW9ucy5yZWR1Y2UoKHRyZWVEYXRhOiBhbnlbXSwgaXRlbTogYW55KSA9PiB7XG4gICAgY29uc3QgeyBrZXksIHRpdGxlLCB0aXRsZVByZWZpeCwgY2hpbGRyZW4sIHR5cGUsIGlzTXVsdGksIHNvdXJjZUZvcm0gfSA9IGl0ZW1cbiAgICBjb25zdCBub2RlOiBhbnkgPSB7XG4gICAgICBrZXksXG4gICAgICB0aXRsZSxcbiAgICAgIHRpdGxlUHJlZml4XG4gICAgfVxuICAgIGlmIChjaGlsZHJlbiAmJiAhaXNNdWx0aSkge1xuICAgICAgbm9kZS5jaGlsZHJlbiA9IHRyYW5zZm9ybUxpc3RDb25maWdUb1JlZkJpbGxGaWVsZFRyZWUoeyBvcHRpb25zOiBjaGlsZHJlbiB9KVxuICAgIH1cbiAgICAvLyDlhoXpg6jooajmoLxcbiAgICBpZiAoc291cmNlRm9ybSA9PT0gJzEnKSByZXR1cm4gdHJlZURhdGFcbiAgICBpZiAoa2V5LnNwbGl0KCcuJykubGVuZ3RoID4gMSAmJiBzb3VyY2VGb3JtICE9PSB1bmRlZmluZWQpIHJldHVybiB0cmVlRGF0YVxuICAgIGlmICghKGlzUmVmQmlsbCh0eXBlKSB8fCBpc1N5c1JlZkJpbGwodHlwZSkgfHwgaXNSZWZCaWxsVGFibGUodHlwZSkpKSB7XG4gICAgICBub2RlLnNlbGVjdGFibGUgPSBmYWxzZVxuICAgICAgaWYgKG5vZGU/LmNoaWxkcmVuPy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRyZWVEYXRhLmNvbmNhdChub2RlKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRyZWVEYXRhXG4gICAgfVxuICAgIHJldHVybiB0cmVlRGF0YS5jb25jYXQobm9kZSlcbiAgfSwgW10pXG59XG5cbmV4cG9ydCBjb25zdCBkZWVwR2V0VHJlZU5vZGVWYWx1ZSA9ICh0cmVlRGF0YTogYW55W10sIG5vZGVQcm9wOiBzdHJpbmcgPSAna2V5Jyk6IGFueVtdID0+IHtcbiAgcmV0dXJuIHRyZWVEYXRhLnJlZHVjZSgoYWxsRGF0YSwgdHJlZU5vZGUpID0+IHtcbiAgICBjb25zdCBjb2xsZWN0RGF0YSA9IFtdXG4gICAgaWYgKHRyZWVOb2RlW25vZGVQcm9wXSkge1xuICAgICAgY29sbGVjdERhdGEucHVzaCh0cmVlTm9kZVtub2RlUHJvcF0pXG4gICAgfVxuICAgIGlmICh0cmVlTm9kZS5jaGlsZHJlbikge1xuICAgICAgY29sbGVjdERhdGEucHVzaCguLi5kZWVwR2V0VHJlZU5vZGVWYWx1ZSh0cmVlTm9kZS5jaGlsZHJlbiwgbm9kZVByb3ApKVxuICAgIH1cbiAgICByZXR1cm4gYWxsRGF0YS5jb25jYXQoY29sbGVjdERhdGEpXG4gIH0sIFtdKVxufVxuXG4vLyDmoLnmja7kvKDlhaXnmoRjYWxsYmFja++8jOmAkuW9kuiOt+WPluespuWQiOadoeS7tueahOagkeiKgueCueaVsOaNru+8iOWPr+S7peaYr+agkeiKgueCueacrOi6q++8jOS5n+WPr+S7peaYr+agkeiKgueCueWxnuaAp++8jOWPluWGs+S6jmNhbGxiYWNrIHJldHVybuWbnuadpeeahOWAvO+8iVxuZXhwb3J0IGNvbnN0IGRlZXBHZXRUcmVlTm9kZVZhbHVlQnlDYiA9ICh0cmVlRGF0YTogYW55W10sIGNhbGxiYWNrOiAobm9kZTogYW55KSA9PiBhbnkpOiBhbnlbXSA9PiB7XG4gIHJldHVybiB0cmVlRGF0YS5yZWR1Y2UoKGFsbERhdGEsIHRyZWVOb2RlKSA9PiB7XG4gICAgY29uc3QgY29sbGVjdERhdGEgPSBbXVxuICAgIGlmIChjYWxsYmFjayAmJiBjYWxsYmFjayh0cmVlTm9kZSkpIHtcbiAgICAgIGNvbGxlY3REYXRhLnB1c2goY2FsbGJhY2sodHJlZU5vZGUpKVxuICAgIH1cbiAgICBpZiAodHJlZU5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIGNvbGxlY3REYXRhLnB1c2goLi4uZGVlcEdldFRyZWVOb2RlVmFsdWVCeUNiKHRyZWVOb2RlLmNoaWxkcmVuLCBjYWxsYmFjaykpXG4gICAgfVxuICAgIHJldHVybiBhbGxEYXRhLmNvbmNhdChjb2xsZWN0RGF0YSlcbiAgfSwgW10pXG59XG5cbmV4cG9ydCBjb25zdCBidWlsZFRyZWUgPSAoYXJyOiBhbnlbXSkgPT4ge1xuICBjb25zdCB0cmVlID0gW11cbiAgY29uc3QgbWFwID0ge31cbiAgZm9yIChjb25zdCBub2RlIG9mIGFycikge1xuICAgIG1hcFtub2RlLklkXSA9IHsgLi4ubm9kZSwgY2hpbGRyZW46IFtdIH1cbiAgfVxuICBmb3IgKGNvbnN0IG5vZGUgb2YgYXJyKSB7XG4gICAgaWYgKCFub2RlLlBhcmVudElkKSB7XG4gICAgICB0cmVlLnB1c2gobWFwW25vZGUuSWRdKVxuICAgIH0gZWxzZSB7XG4gICAgICBtYXBbbm9kZS5QYXJlbnRJZF0gJiYgbWFwW25vZGUuUGFyZW50SWRdLmNoaWxkcmVuLnB1c2gobWFwW25vZGUuSWRdKVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJlZVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///31340\n");

/***/ }),

/***/ 34496:
/*!**********************************!*\
  !*** ./src/utils/useDebounce.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ useDebounce; }\n/* harmony export */ });\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n * 防抖hook\n * @param {*} fn 传入的函数\n * @param {*} delay 延时时间\n * @param {*} dep 依赖数组\n * @returns\n */\nfunction useDebounce(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 300;\n  var _useRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n      fn: fn,\n      timer: null\n    }),\n    current = _useRef.current;\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    current.fn = fn;\n  }, [fn]);\n  return (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (current.timer) {\n      clearTimeout(current.timer);\n    }\n    current.timer = setTimeout(function () {\n      current.fn.apply(current, args);\n    }, delay);\n  }, [fn]);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQ0OTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL3V0aWxzL3VzZURlYm91bmNlLnRzPzAyZmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG4vKipcbiAqIOmYsuaKlmhvb2tcbiAqIEBwYXJhbSB7Kn0gZm4g5Lyg5YWl55qE5Ye95pWwXG4gKiBAcGFyYW0geyp9IGRlbGF5IOW7tuaXtuaXtumXtFxuICogQHBhcmFtIHsqfSBkZXAg5L6d6LWW5pWw57uEXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VEZWJvdW5jZSAoZm46IEZ1bmN0aW9uLCBkZWxheT86IG51bWJlciA9IDMwMCkge1xuICBjb25zdCB7IGN1cnJlbnQgfSA9IHVzZVJlZih7IGZuLCB0aW1lcjogbnVsbCB9KVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY3VycmVudC5mbiA9IGZuXG4gIH0sIFtmbl0pXG5cbiAgcmV0dXJuIHVzZUNhbGxiYWNrKCguLi5hcmdzKSA9PiB7XG4gICAgaWYgKGN1cnJlbnQudGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dChjdXJyZW50LnRpbWVyKVxuICAgIH1cbiAgICBjdXJyZW50LnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjdXJyZW50LmZuKC4uLmFyZ3MpXG4gICAgfSwgZGVsYXkpXG4gIH0sIFtmbl0pXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///34496\n");

/***/ }),

/***/ 25996:
/*!********************************!*\
  !*** ./src/views/MainView.tsx ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _utils_parseUIControl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/parseUIControl */ 8348);\n/* harmony import */ var _utils_controlSelectionCallBack__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/controlSelectionCallBack */ 51823);\n/* harmony import */ var _constants_dataAttribute__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../constants/dataAttribute */ 64536);\n/* harmony import */ var _hooks_useClick__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../hooks/useClick */ 49116);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _hooks_useKeyboardEvent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../hooks/useKeyboardEvent */ 87060);\n/* harmony import */ var _hooks_useInitSelect__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../hooks/useInitSelect */ 83560);\n/* harmony import */ var _NavToolBarView__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./NavToolBarView */ 31208);\n/* harmony import */ var _components_FloatOperationBar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/FloatOperationBar */ 70944);\n/* harmony import */ var _components_FloatPermissionSetting__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../components/FloatPermissionSetting */ 98444);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _components_BreadCrumb__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../components/BreadCrumb */ 25012);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../constants */ 98092);\n/* harmony import */ var _components_ControlError__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../components/ControlError */ 65392);\n/* harmony import */ var _components_BizButtonPanel__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../components/BizButtonPanel */ 66188);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar MainView = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.memo)(function (props) {\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_context__WEBPACK_IMPORTED_MODULE_8__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    prefixCls = _useContext.prefixCls,\n    isPC = _useContext.isPC,\n    fieldStatusSettingMode = _useContext.fieldStatusSettingMode,\n    floatMenu = _useContext.floatMenu;\n  var _useReducer = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useReducer)(function (n) {\n      return n + 1;\n    }, 0),\n    _useReducer2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useReducer, 2),\n    forceUpdate = _useReducer2[1];\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data;\n  var selectionContext = kdesignerApi.selection;\n  var rootId = dataContext.getRootId();\n  var field = dataContext.findControl(rootId);\n  var control = (0,_utils_parseUIControl__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(field);\n  var mainViewNodeRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n  var onClick = (0,_hooks_useClick__WEBPACK_IMPORTED_MODULE_7__[\"default\"])();\n  var resetControlSelection = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function () {\n    // 重置控件选中状态（场景：当data发生变化，或者主视图切换pc、移动视图时，parseUIControl会导致控件重新渲染。此时data-selection属性会丢失，需要重新设置下）\n    var selectIds = selectionContext.getSelection();\n    selectIds.forEach(function (controlId) {\n      var _context;\n      return (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(document.querySelectorAll(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default()(_context = \"[\".concat(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_6__.dataControlId, \"=\\\"\")).call(_context, controlId, \"\\\"]\"))).forEach(function (node) {\n        var hasSelected = node.getAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_6__.dataSelection);\n        if (!hasSelected) {\n          node.setAttribute(_constants_dataAttribute__WEBPACK_IMPORTED_MODULE_6__.dataSelection, 'true');\n        }\n      });\n    });\n  }, []);\n  var dataChangeListenerCallback = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (_ref) {\n    var type = _ref.type,\n      value = _ref.value;\n    forceUpdate();\n    setTimeout(function () {\n      resetControlSelection();\n    }, 100);\n    // if (type === 'Move') {\n    // }\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\n    var removeSelectionListener = selectionContext.addSelectChangeListener(_utils_controlSelectionCallBack__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    var removeDataChangeListener = dataContext.addDataChangeListener(dataChangeListenerCallback);\n    return function () {\n      removeSelectionListener();\n      removeDataChangeListener();\n    };\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(function () {\n    // const selectIds = selectionContext.getSelection()\n    // selectionContext.setSelect([])\n    // setTimeout(() => {\n    //   selectionContext.setSelect(selectIds)\n    // }, 0)\n    resetControlSelection();\n  }, [isPC]);\n\n  // 监听键盘事件\n  (0,_hooks_useKeyboardEvent__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(mainViewNodeRef);\n  // 初始化选中根节点\n  (0,_hooks_useInitSelect__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(field, kdesignerApi);\n  var kuiConfig = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\n    return {\n      prefixCls: 'kd'\n    };\n  }, []);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_NavToolBarView__WEBPACK_IMPORTED_MODULE_11__[\"default\"], null), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__.ConfigProvider, {\n    value: kuiConfig\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-main-view-container\"),\n    ref: mainViewNodeRef,\n    id: _constants__WEBPACK_IMPORTED_MODULE_16__.MAINVIEW_ROOT_ID,\n    tabIndex: -1\n  }, kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().cloneElement(control, {\n    onClick: onClick\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_components_BizButtonPanel__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n    field: field\n  })), !fieldStatusSettingMode && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_components_BreadCrumb__WEBPACK_IMPORTED_MODULE_15__[\"default\"], null)), fieldStatusSettingMode ? /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_components_FloatPermissionSetting__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    floatMenu: floatMenu\n  }) : /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_components_FloatOperationBar__WEBPACK_IMPORTED_MODULE_12__[\"default\"], null), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_components_ControlError__WEBPACK_IMPORTED_MODULE_17__[\"default\"], null));\n});\nMainView.tabKey = 'MainView';\nMainView.tabName = '主视图';\nMainView.displayName = 'MainView';\n/* harmony default export */ __webpack_exports__[\"default\"] = (MainView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU5OTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFBQTtBQU1BO0FBQUE7QUFRQTtBQUVBO0FBQ0E7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL3ZpZXdzL01haW5WaWV3LnRzeD9kMzg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge1xuICBGdW5jdGlvbkNvbXBvbmVudEVsZW1lbnQsIG1lbW8sIHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsXG4gIHVzZU1lbW8sIHVzZVN0YXRlLCB1c2VSZWYsIHVzZVJlZHVjZXIsIHVzZUxheW91dEVmZmVjdFxufSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IElLRGVzaWduZXJQcm9wcywgSVNlbGVjdGlvbiwgSURhdGFBcGksIERhdGFDaGFuZ2VFdmVudCwgR2xvYmFsQ29uZmlnQ29udGV4dCwgQ09OVFJPTF9EUkFHX0RBVEEsIGNyZWF0ZVN3YXBBY3Rpb24gfSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgcGFyc2VVSUNvbnRyb2wgZnJvbSAnLi4vdXRpbHMvcGFyc2VVSUNvbnRyb2wnXG5pbXBvcnQgc2VsZWN0aW9uQ2hhbmdlQ2FsbEJhY2sgZnJvbSAnLi4vdXRpbHMvY29udHJvbFNlbGVjdGlvbkNhbGxCYWNrJ1xuaW1wb3J0IHsgSVRFTVMsIElEIH0gZnJvbSAnLi4vY29uc3RhbnRzL3Byb3BuYW1lcydcbmltcG9ydCB7IGRhdGFDb250cm9sSWQsIGRhdGFTZWxlY3Rpb24sIGRhdGFEaXJlY3Rpb24sIGRhdGFJc0RyYWdnaW5nLCBkYXRhRHJhZ0lkIH0gZnJvbSAnLi4vY29uc3RhbnRzL2RhdGFBdHRyaWJ1dGUnXG5pbXBvcnQgdXNlQ2xpY2sgZnJvbSAnLi4vaG9va3MvdXNlQ2xpY2snXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0J1xuaW1wb3J0IHVzZUtleWJvYXJkRXZlbnQgZnJvbSAnLi4vaG9va3MvdXNlS2V5Ym9hcmRFdmVudCdcbmltcG9ydCB1c2VJbml0U2VsZWN0IGZyb20gJy4uL2hvb2tzL3VzZUluaXRTZWxlY3QnXG5pbXBvcnQgTmF2VG9vbEJhclBvcnRhbCBmcm9tICcuL05hdlRvb2xCYXJWaWV3J1xuaW1wb3J0IEZsb2F0T3BlcmF0aW9uQmFyIGZyb20gJy4uL2NvbXBvbmVudHMvRmxvYXRPcGVyYXRpb25CYXInXG5pbXBvcnQgRmxvYXRQZXJtaXNzaW9uU2V0dGluZyBmcm9tICcuLi9jb21wb25lbnRzL0Zsb2F0UGVybWlzc2lvblNldHRpbmcnXG5pbXBvcnQgeyBDb25maWdQcm92aWRlciBhcyBLVUlDb25maWdQcm92aWRlciB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcbmltcG9ydCBCcmVhZENydW1iIGZyb20gJy4uL2NvbXBvbmVudHMvQnJlYWRDcnVtYidcbmltcG9ydCB7IE1BSU5WSUVXX1JPT1RfSUQgfSBmcm9tICcuLi9jb25zdGFudHMnXG5pbXBvcnQgQ29udHJvbEVycm9yIGZyb20gJy4uL2NvbXBvbmVudHMvQ29udHJvbEVycm9yJ1xuaW1wb3J0IEJpekJ1dHRvblBhbmVsIGZyb20gJy4uL2NvbXBvbmVudHMvQml6QnV0dG9uUGFuZWwnXG5cbmNvbnN0IE1haW5WaWV3ID0gbWVtbygocHJvcHM6IFBpY2s8SUtEZXNpZ25lclByb3BzLCAnZGF0YSc+KTogRnVuY3Rpb25Db21wb25lbnRFbGVtZW50PGFueT4gPT4ge1xuICBjb25zdCB7IGdldEtkZXNpZ25lckFwaSwgcHJlZml4Q2xzLCBpc1BDLCBmaWVsZFN0YXR1c1NldHRpbmdNb2RlLCBmbG9hdE1lbnUgfSA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICBjb25zdCBbLCBmb3JjZVVwZGF0ZV0gPSB1c2VSZWR1Y2VyKG4gPT4gbiArIDEsIDApXG4gIGNvbnN0IGtkZXNpZ25lckFwaSA9IHVzZU1lbW8oKCkgPT4gZ2V0S2Rlc2lnbmVyQXBpKCksIFtdKVxuICBjb25zdCBkYXRhQ29udGV4dDogSURhdGFBcGkgPSBrZGVzaWduZXJBcGkuZGF0YVxuICBjb25zdCBzZWxlY3Rpb25Db250ZXh0OiBJU2VsZWN0aW9uID0ga2Rlc2lnbmVyQXBpLnNlbGVjdGlvblxuXG4gIGNvbnN0IHJvb3RJZCA9IGRhdGFDb250ZXh0LmdldFJvb3RJZCgpXG4gIGNvbnN0IGZpZWxkID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2wocm9vdElkKVxuICBjb25zdCBjb250cm9sID0gcGFyc2VVSUNvbnRyb2woZmllbGQpXG5cbiAgY29uc3QgbWFpblZpZXdOb2RlUmVmID0gdXNlUmVmPGdsb2JhbFRoaXMuSFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKVxuICBjb25zdCBvbkNsaWNrID0gdXNlQ2xpY2soKVxuXG4gIGNvbnN0IHJlc2V0Q29udHJvbFNlbGVjdGlvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAvLyDph43nva7mjqfku7bpgInkuK3nirbmgIHvvIjlnLrmma/vvJrlvZNkYXRh5Y+R55Sf5Y+Y5YyW77yM5oiW6ICF5Li76KeG5Zu+5YiH5o2icGPjgIHnp7vliqjop4blm77ml7bvvIxwYXJzZVVJQ29udHJvbOS8muWvvOiHtOaOp+S7tumHjeaWsOa4suafk+OAguatpOaXtmRhdGEtc2VsZWN0aW9u5bGe5oCn5Lya5Lii5aSx77yM6ZyA6KaB6YeN5paw6K6+572u5LiL77yJXG4gICAgY29uc3Qgc2VsZWN0SWRzID0gc2VsZWN0aW9uQ29udGV4dC5nZXRTZWxlY3Rpb24oKVxuICAgIHNlbGVjdElkcy5mb3JFYWNoKChjb250cm9sSWQ6IHN0cmluZykgPT4gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske2RhdGFDb250cm9sSWR9PVwiJHtjb250cm9sSWR9XCJdYCldLmZvckVhY2goXG4gICAgICBub2RlID0+IHtcbiAgICAgICAgY29uc3QgaGFzU2VsZWN0ZWQgPSBub2RlLmdldEF0dHJpYnV0ZShkYXRhU2VsZWN0aW9uKVxuICAgICAgICBpZiAoIWhhc1NlbGVjdGVkKSB7XG4gICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoZGF0YVNlbGVjdGlvbiwgJ3RydWUnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKSlcbiAgfSwgW10pXG5cbiAgY29uc3QgZGF0YUNoYW5nZUxpc3RlbmVyQ2FsbGJhY2sgPSB1c2VDYWxsYmFjaygoeyB0eXBlLCB2YWx1ZSB9OiBEYXRhQ2hhbmdlRXZlbnQpID0+IHtcbiAgICBmb3JjZVVwZGF0ZSgpXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICByZXNldENvbnRyb2xTZWxlY3Rpb24oKVxuICAgIH0sIDEwMClcbiAgICAvLyBpZiAodHlwZSA9PT0gJ01vdmUnKSB7XG4gICAgLy8gfVxuICB9LCBbXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHJlbW92ZVNlbGVjdGlvbkxpc3RlbmVyID0gc2VsZWN0aW9uQ29udGV4dC5hZGRTZWxlY3RDaGFuZ2VMaXN0ZW5lcihzZWxlY3Rpb25DaGFuZ2VDYWxsQmFjaylcbiAgICBjb25zdCByZW1vdmVEYXRhQ2hhbmdlTGlzdGVuZXIgPSBkYXRhQ29udGV4dC5hZGREYXRhQ2hhbmdlTGlzdGVuZXIoZGF0YUNoYW5nZUxpc3RlbmVyQ2FsbGJhY2spXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJlbW92ZVNlbGVjdGlvbkxpc3RlbmVyKClcbiAgICAgIHJlbW92ZURhdGFDaGFuZ2VMaXN0ZW5lcigpXG4gICAgfVxuICB9LCBbXSlcblxuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIC8vIGNvbnN0IHNlbGVjdElkcyA9IHNlbGVjdGlvbkNvbnRleHQuZ2V0U2VsZWN0aW9uKClcbiAgICAvLyBzZWxlY3Rpb25Db250ZXh0LnNldFNlbGVjdChbXSlcbiAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAvLyAgIHNlbGVjdGlvbkNvbnRleHQuc2V0U2VsZWN0KHNlbGVjdElkcylcbiAgICAvLyB9LCAwKVxuICAgIHJlc2V0Q29udHJvbFNlbGVjdGlvbigpXG4gIH0sIFtpc1BDXSlcblxuICAvLyDnm5HlkKzplK7nm5jkuovku7ZcbiAgdXNlS2V5Ym9hcmRFdmVudChtYWluVmlld05vZGVSZWYpXG4gIC8vIOWIneWni+WMlumAieS4reagueiKgueCuVxuICB1c2VJbml0U2VsZWN0KGZpZWxkLCBrZGVzaWduZXJBcGkpXG5cbiAgY29uc3Qga3VpQ29uZmlnID0gdXNlTWVtbygoKSA9PiAoe1xuICAgIHByZWZpeENsczogJ2tkJ1xuICB9KSwgW10pXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxOYXZUb29sQmFyUG9ydGFsIC8+XG4gICAgICA8S1VJQ29uZmlnUHJvdmlkZXIgdmFsdWU9e2t1aUNvbmZpZ30+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LW1haW4tdmlldy1jb250YWluZXJgfSByZWY9e21haW5WaWV3Tm9kZVJlZn0gaWQ9e01BSU5WSUVXX1JPT1RfSUR9IHRhYkluZGV4PXstMX0+XG4gICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LXBjLXZpZXdgfT4gKi99XG4gICAgICAgICAge1JlYWN0LmNsb25lRWxlbWVudChjb250cm9sLCB7IG9uQ2xpY2sgfSl9XG4gICAgICAgICAgey8qIDwvZGl2PiAqL31cbiAgICAgICAgICA8Qml6QnV0dG9uUGFuZWwgZmllbGQ9e2ZpZWxkfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgeyFmaWVsZFN0YXR1c1NldHRpbmdNb2RlICYmIDxCcmVhZENydW1iIC8+fVxuICAgICAgPC9LVUlDb25maWdQcm92aWRlcj5cbiAgICAgIHtmaWVsZFN0YXR1c1NldHRpbmdNb2RlXG4gICAgICAgID8gKFxuICAgICAgICAgIDxGbG9hdFBlcm1pc3Npb25TZXR0aW5nIGZsb2F0TWVudT17ZmxvYXRNZW51fSAvPlxuICAgICAgICAgIClcbiAgICAgICAgOiAoXG4gICAgICAgICAgPEZsb2F0T3BlcmF0aW9uQmFyIC8+XG4gICAgICAgICAgKX1cbiAgICAgIDxDb250cm9sRXJyb3IgLz5cbiAgICA8Lz5cbiAgKVxufSlcblxuTWFpblZpZXcudGFiS2V5ID0gJ01haW5WaWV3J1xuTWFpblZpZXcudGFiTmFtZSA9ICfkuLvop4blm74nXG5cbk1haW5WaWV3LmRpc3BsYXlOYW1lID0gJ01haW5WaWV3J1xuZXhwb3J0IGRlZmF1bHQgTWFpblZpZXdcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///25996\n");

/***/ }),

/***/ 31208:
/*!**************************************!*\
  !*** ./src/views/NavToolBarView.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_NavToolBar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/NavToolBar */ 76632);\n/* harmony import */ var _components_NavDeviceToggle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/NavDeviceToggle */ 42756);\n/* harmony import */ var _components_ColumnSwitch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/ColumnSwitch */ 17648);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../context */ 90115);\n\n\n\n\n\n\nvar NavToolBarPortal = function NavToolBarPortal() {\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context__WEBPACK_IMPORTED_MODULE_5__.DesignerContext),\n    getDesignerPrefixCls = _useContext.getPrefixCls,\n    prefixCls = _useContext.prefixCls;\n  var designerPrefixCls = getDesignerPrefixCls && getDesignerPrefixCls(prefixCls);\n  var toolbarClassName = \"\".concat(designerPrefixCls, \"-top-view-main\");\n  var content = /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: toolbarClassName\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_NavToolBar__WEBPACK_IMPORTED_MODULE_2__[\"default\"], null), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_ColumnSwitch__WEBPACK_IMPORTED_MODULE_4__[\"default\"], null), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_NavDeviceToggle__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null));\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_0___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_1__.ViewHeader, {\n    content: content,\n    portalId: toolbarClassName\n  });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (NavToolBarPortal);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzEyMDguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBTUE7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL3ZpZXdzL05hdlRvb2xCYXJWaWV3LnRzeD8wNjIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBWaWV3SGVhZGVyIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IE5hdlRvb2xCYXIgZnJvbSAnLi4vY29tcG9uZW50cy9OYXZUb29sQmFyJ1xuaW1wb3J0IE5hdkRldmljZVRvZ2dsZSBmcm9tICcuLi9jb21wb25lbnRzL05hdkRldmljZVRvZ2dsZSdcbmltcG9ydCBDb2x1bW5Td2l0Y2ggZnJvbSAnLi4vY29tcG9uZW50cy9Db2x1bW5Td2l0Y2gnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0J1xuXG5jb25zdCBOYXZUb29sQmFyUG9ydGFsID0gKCkgPT4ge1xuICBjb25zdCB7IGdldFByZWZpeENsczogZ2V0RGVzaWduZXJQcmVmaXhDbHMsIHByZWZpeENscyB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG5cbiAgY29uc3QgZGVzaWduZXJQcmVmaXhDbHMgPSBnZXREZXNpZ25lclByZWZpeENscyAmJiBnZXREZXNpZ25lclByZWZpeENscyhwcmVmaXhDbHMpXG4gIGNvbnN0IHRvb2xiYXJDbGFzc05hbWUgPSBgJHtkZXNpZ25lclByZWZpeENsc30tdG9wLXZpZXctbWFpbmBcbiAgY29uc3QgY29udGVudCA9IChcbiAgICA8ZGl2IGNsYXNzTmFtZT17dG9vbGJhckNsYXNzTmFtZX0+XG4gICAgICA8TmF2VG9vbEJhciAvPlxuICAgICAgPENvbHVtblN3aXRjaCAvPlxuICAgICAgPE5hdkRldmljZVRvZ2dsZSAvPlxuICAgIDwvZGl2PlxuICApXG4gIHJldHVybiAoXG4gICAgPFZpZXdIZWFkZXJcbiAgICAgIGNvbnRlbnQ9e2NvbnRlbnR9XG4gICAgICBwb3J0YWxJZD17dG9vbGJhckNsYXNzTmFtZX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IE5hdlRvb2xCYXJQb3J0YWxcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///31208\n");

/***/ }),

/***/ 48156:
/*!*******************************!*\
  !*** ./src/views/Outline.tsx ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/toConsumableArray */ 30260);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ 760);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/array/from */ 13440);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set */ 99308);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find-index */ 1900);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/splice */ 61260);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/trim */ 25288);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/sort */ 24244);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/slice */ 73980);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _hooks_useDragTreeNode__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../hooks/useDragTreeNode */ 87864);\n/* harmony import */ var _utils_treeUtils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../utils/treeUtils */ 31340);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _constants_propnames__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../constants/propnames */ 94096);\n/* harmony import */ var _hooks_useKeyboardEvent__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../hooks/useKeyboardEvent */ 87060);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! kd_libs/lodash */ 60644);\n/* harmony import */ var kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var _utils_controlIcon__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../utils/controlIcon */ 84995);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar searchCacher = {};\nvar idPrefix = 'id';\nvar dragControlId = '';\n\n// const noop = () => void 0\nvar Outline = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.memo)((0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.forwardRef)(function (props, forwardedRef) {\n  var initData = props.data;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useContext)(_context__WEBPACK_IMPORTED_MODULE_18__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    prefixCls = _useContext.prefixCls,\n    getPrefixCls = _useContext.getPrefixCls;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var dataContext = kdesignerApi.data;\n  var selectionContext = kdesignerApi.selection;\n  // const { showMessage } = useContext(GlobalConfigContext)\n  // const designerContext = useContext(DesignerContext)\n  // 默认选中根节点\n  var rootId = dataContext.getRootId();\n  // 大纲树默认全部收起\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)(true),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    isFold = _useState2[0],\n    setIsFold = _useState2[1];\n  // 大纲树默认隐藏标识\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)(false),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 2),\n    isShowKey = _useState4[0],\n    setIsShowKey = _useState4[1];\n  // 选中的节点\n  var _useState5 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)([rootId]),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState5, 2),\n    selectedKeys = _useState6[0],\n    setSelectedKeys = _useState6[1];\n  // 大纲树的高度\n  var _useState7 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)(600),\n    _useState8 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState7, 2),\n    treeHeight = _useState8[0],\n    setTreeHeight = _useState8[1];\n  // 输入框的值\n  var _useState9 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)(undefined),\n    _useState10 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState9, 2),\n    inputValue = _useState10[0],\n    setInputValue = _useState10[1];\n  // 大纲树实例\n  var outlineTreeRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null);\n  // 输入框实例\n  var inputRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null);\n  // data的变化\n  var _useState11 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)(initData),\n    _useState12 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState11, 2),\n    data = _useState12[0],\n    setData = _useState12[1];\n  var treeRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null);\n  // 大纲键盘事件\n  (0,_hooks_useKeyboardEvent__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(outlineTreeRef, true);\n  // 拖拽事件\n  var _useDragTreeNode = (0,_hooks_useDragTreeNode__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(),\n    onDragStart = _useDragTreeNode.onDragStart,\n    onDragEnter = _useDragTreeNode.onDragEnter,\n    onDragOver = _useDragTreeNode.onDragOver,\n    onDragLeave = _useDragTreeNode.onDragLeave,\n    onDrop = _useDragTreeNode.onDrop,\n    onDragEnd = _useDragTreeNode.onDragEnd;\n  var outlinePrefixCls = getPrefixCls && getPrefixCls(prefixCls, 'outline');\n  var _useState13 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useState)([]),\n    _useState14 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState13, 2),\n    expandNodeKeys = _useState14[0],\n    setExpandNodeKeys = _useState14[1];\n  var onExpand = function onExpand(keys, _ref) {\n    var _context;\n    var expanded = _ref.expanded,\n      node = _ref.node;\n    var key = node.key;\n    var allKeys = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(keys).call(keys, Boolean);\n    allKeys = expanded ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context = [key]).call(_context, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(allKeys)) : _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(allKeys).call(allKeys, function (item) {\n      return item !== key;\n    });\n    allKeys = _babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_4___default()(new (_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_5___default())(allKeys));\n    setExpandNodeKeys(allKeys);\n  };\n  // 搜索图标\n  var searchIcon = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    var className = \"\".concat(outlinePrefixCls, \"-search-prefix-icon\");\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n      prefix: \"designericon\",\n      type: \"sousuo\",\n      className: className\n    });\n  }, [outlinePrefixCls]);\n  // selection 变动的回调\n  var selectionChangeCallBack = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (selection) {\n    var value = selection.value;\n    var tempValue = value.reduce(function (prev, curr) {\n      var _context2, _context3;\n      return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context2 = []).call(_context2, (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(prev), [_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context3 = \"\".concat(idPrefix)).call(_context3, curr)]);\n    }, []);\n    setSelectedKeys(tempValue);\n    var expandedKeysBySelection = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(expandNodeKeys);\n    value.forEach(function (id) {\n      var _context5;\n      var controlId = id;\n      while (controlId !== rootId && controlId !== '') {\n        var _context4;\n        var tempControlId = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context4 = \"\".concat(idPrefix)).call(_context4, controlId);\n        !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(expandedKeysBySelection).call(expandedKeysBySelection, tempControlId) && expandedKeysBySelection.unshift(tempControlId);\n        controlId = dataContext.getParentControlId(controlId);\n      }\n      var tempRootId = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context5 = \"\".concat(idPrefix)).call(_context5, rootId);\n      !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(expandedKeysBySelection).call(expandedKeysBySelection, tempRootId) && expandedKeysBySelection.unshift(tempRootId);\n    });\n    setExpandNodeKeys(expandedKeysBySelection);\n  }, [rootId, expandNodeKeys]);\n  // data 变动的回调\n  var dataChangeListenerCallback = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (dataChangeEvent) {\n    var value = dataChangeEvent.value;\n    setData(value);\n  }, []);\n  // 将selection与大纲联动\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    var removeSelectionListener = selectionContext.addSelectChangeListener(selectionChangeCallBack);\n    var removeDataChangeListener = dataContext.addDataChangeListener(dataChangeListenerCallback);\n    return function () {\n      removeSelectionListener();\n      removeDataChangeListener();\n    };\n  }, [selectionChangeCallBack]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    var handleCalcTreeHeight = (0,kd_libs_lodash__WEBPACK_IMPORTED_MODULE_21__.debounce)(function () {\n      var height = document.body.clientHeight - 30 - 80 - 20;\n      setTreeHeight(height);\n      if (treeRef.current) {\n        treeRef.current.style.height = \"\".concat(height, \"px\");\n      }\n    }, 100);\n    window.addEventListener('resize', handleCalcTreeHeight);\n    return function () {\n      searchCacher = {};\n      window.removeEventListener('resize', handleCalcTreeHeight);\n    };\n  }, []);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    var height = document.body.clientHeight - 30 - 80 - 20;\n    setTreeHeight(height);\n    if (treeRef.current) {\n      treeRef.current.style.height = \"\".concat(height, \"px\");\n    }\n  }, [treeRef]);\n  var setDragToExpand = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (controlId) {\n    var _context6;\n    if (dragControlId === controlId) return;\n    var tempExpandNodeKeys = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(expandNodeKeys);\n    var parentId = dataContext.getParentControlId(controlId);\n    var tempControlId = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context6 = \"\".concat(idPrefix)).call(_context6, controlId);\n    !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(tempExpandNodeKeys).call(tempExpandNodeKeys, tempControlId) && tempExpandNodeKeys.push(tempControlId);\n    while (controlId && parentId && parentId !== rootId) {\n      var _context7;\n      parentId = dataContext.getParentControlId(parentId);\n      var tempParentId = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context7 = \"\".concat(idPrefix)).call(_context7, parentId);\n      if (!_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(tempExpandNodeKeys).call(tempExpandNodeKeys, tempParentId)) {\n        tempExpandNodeKeys.push(tempParentId);\n      }\n    }\n    dragControlId = controlId;\n    setExpandNodeKeys(tempExpandNodeKeys);\n  }, [expandNodeKeys]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.eventBus.on(\"drag-control_\".concat(rootId), setDragToExpand);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_14__.eventBus.off(\"drag-control_\".concat(rootId), setDragToExpand);\n    };\n  }, [setDragToExpand]);\n  // 全部展开与全部收起\n  var toggleAllFold = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    var value = !isFold;\n    setIsFold(value);\n    if (value) {\n      // 全部收起\n      setExpandNodeKeys([]);\n      treeRef.current && (treeRef.current.scrollTop = 0);\n    } else {\n      var _context8;\n      // 全部展开\n      var ids = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default()(_context8 = data[_constants_propnames__WEBPACK_IMPORTED_MODULE_19__.ITEMS]).call(_context8, function (item) {\n        var _context9;\n        return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_3___default()(_context9 = \"\".concat(idPrefix)).call(_context9, item[_constants_propnames__WEBPACK_IMPORTED_MODULE_19__.ID]);\n      });\n      setExpandNodeKeys(ids);\n    }\n  }, [isFold, data, treeRef.current]);\n  // 显示标识与隐藏标识\n  var toggleShowKey = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    var value = !isShowKey;\n    setIsShowKey(value);\n  }, [isShowKey]);\n  // 点击节点触发的回调（选中操作）\n  var onSelect = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (nodeKeys) {\n    var tempNodeKeys = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default()(nodeKeys).call(nodeKeys, function (key) {\n      return key.substr(2);\n    });\n    selectionContext.setSelect(tempNodeKeys);\n    var nodeKey = nodeKeys[0];\n    var index = _babel_runtime_corejs3_core_js_stable_instance_find_index__WEBPACK_IMPORTED_MODULE_8___default()(expandNodeKeys).call(expandNodeKeys, function (item) {\n      return nodeKey === item;\n    });\n    var tempExpandNodeKeys = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(expandNodeKeys);\n    if (index >= 0) {\n      _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_9___default()(tempExpandNodeKeys).call(tempExpandNodeKeys, index, 1);\n    } else {\n      tempExpandNodeKeys.push(nodeKey);\n    }\n    setExpandNodeKeys(tempExpandNodeKeys);\n  }, [expandNodeKeys]);\n  // 树控件的数据\n  var treeData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {\n    return (0,_utils_treeUtils__WEBPACK_IMPORTED_MODULE_17__.translateDataToTree)(data, isShowKey, {\n      prefix: idPrefix\n    });\n  }, [data, isShowKey]);\n  // 监听输入值的变化\n  var onChange = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (event) {\n    var _treeData$, _context10, _context11, _context12, _context13;\n    var dataItems = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((treeData === null || treeData === void 0 || (_treeData$ = treeData[0]) === null || _treeData$ === void 0 ? void 0 : _treeData$.searchData) || []);\n    var value = _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_10___default()(_context10 = event.target.value).call(_context10);\n    var result = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default()(_context11 = _babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_11___default()(_context12 = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_7___default()(_context13 = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(dataItems).call(dataItems, function (item) {\n      var _item$key, _context14, _context15;\n      return ((_item$key = item.key) === null || _item$key === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(_context14 = _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_12___default()(_item$key).call(_item$key, 2)).call(_context14, value)) || _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(_context15 = item.title).call(_context15, value);\n    })).call(_context13, function (item) {\n      var _item$key2;\n      return {\n        id: (_item$key2 = item.key) === null || _item$key2 === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_12___default()(_item$key2).call(_item$key2, 2),\n        level: item.level\n      };\n    })).call(_context12, function (item) {\n      return item.level;\n    })).call(_context11, function (item) {\n      return item.id;\n    });\n    searchCacher[value] = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(result);\n    setInputValue(value);\n  }, [treeData]);\n  // 获取下一个查询结果的下标\n  var getNextSelection = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    if (!inputValue || !searchCacher[inputValue]) return null;\n    var searchResult = searchCacher[inputValue];\n    var length = searchResult.length;\n    if (length <= 0) return  false || rootId;\n    var activedSelectId = selectionContext.getActiveSelectedId();\n    if (!_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_6___default()(searchResult).call(searchResult, activedSelectId)) {\n      return searchResult[0];\n    }\n    var index = searchResult.indexOf(activedSelectId);\n    if (index === length - 1) {\n      index = 0;\n    } else index++;\n    return searchResult[index];\n  }, [inputValue]);\n  // 监听回车键\n  var onPressEnter = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    inputRef.current && inputRef.current.focus();\n    var nextSelection = getNextSelection();\n    var control = dataContext.findControl(nextSelection);\n    nextSelection && selectionContext.setSelect([control ? nextSelection : rootId]);\n  }, [inputRef, getNextSelection]);\n  var toggleExpandNode = function toggleExpandNode(event, controlId) {\n    event.stopPropagation();\n    event.preventDefault();\n    var tempExpandNodeKeys = (0,_babel_runtime_corejs3_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(expandNodeKeys);\n    var currIndex = tempExpandNodeKeys.indexOf(controlId);\n    if (currIndex >= 0) {\n      _babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_9___default()(tempExpandNodeKeys).call(tempExpandNodeKeys, currIndex, 1);\n    } else {\n      tempExpandNodeKeys.push(controlId);\n    }\n    setExpandNodeKeys(tempExpandNodeKeys);\n  };\n  // 渲染展開收起的圖標\n  var switcherIcon = [function (iconProps) {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n      prefix: \"designericon\",\n      type: \"shouqi3\",\n      onClick: function onClick(event) {\n        return toggleExpandNode(event, iconProps.nodeKey);\n      }\n    });\n  }, function (iconProps) {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n      prefix: \"designericon\",\n      type: \"zhankai3\",\n      onClick: function onClick(event) {\n        return toggleExpandNode(event, iconProps.nodeKey);\n      }\n    });\n  }];\n  // 渲染树节点图标\n  var renderNodeIcon = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      nodeKey = _ref2.nodeKey;\n    if (!nodeKey) return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n      prefix: \"designericon\",\n      type: \"Flexmianban\"\n    });\n    var _ref3 = dataContext.findControl(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_12___default()(nodeKey).call(nodeKey, 2)) || {},\n      controlType = _ref3[_constants_propnames__WEBPACK_IMPORTED_MODULE_19__._TYPE_];\n    var iconType = (0,_utils_controlIcon__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(controlType, 'Flexmianban');\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n      prefix: \"designericon\",\n      type: iconType\n    });\n  }, []);\n  var setTreeNodeClassName = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (_ref4) {\n    var Hidden = _ref4.Hidden;\n    if (Hidden) return 'kdesigner-form-designer-outline-tree-node-disabled';\n    return '';\n  }, []);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: \"\".concat(outlinePrefixCls, \"-wrap\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    className: \"\".concat(outlinePrefixCls, \"-search\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Input, {\n    size: \"small\",\n    prefix: searchIcon,\n    placeholder: \"\\u641C\\u7D22\\u5927\\u7EB2\",\n    borderType: \"bordered\",\n    className: \"\".concat(outlinePrefixCls, \"-search-input\"),\n    onChange: onChange,\n    onPressEnter: onPressEnter,\n    value: inputValue,\n    ref: inputRef,\n    allowClear: true\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n    prefix: \"designericon\",\n    className: \"\".concat(outlinePrefixCls, \"-search-icon\"),\n    onClick: toggleAllFold,\n    type: isFold ? 'shouqiquanbu' : 'zhankaiquanbu',\n    title: isFold ? '全部展开' : '全部收起'\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Icon, {\n    prefix: \"designericon\",\n    className: \"\".concat(outlinePrefixCls, \"-search-icon\"),\n    onClick: toggleShowKey,\n    type: isShowKey ? 'zhanshi' : 'yincang',\n    title: isShowKey ? '隐藏标识' : '显示标识'\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(\"div\", {\n    ref: outlineTreeRef,\n    className: \"\".concat(outlinePrefixCls, \"-tree\"),\n    tabIndex: -1\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_13___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_15__.Tree, {\n    name: \"OutlineTree\",\n    treeData: treeData,\n    height: treeHeight,\n    width: 280,\n    onExpand: onExpand,\n    expandedKeys: expandNodeKeys,\n    className: outlinePrefixCls,\n    virtual: false,\n    draggable: true,\n    icon: renderNodeIcon,\n    showIcon: true,\n    selectedKeys: selectedKeys,\n    onSelect: onSelect,\n    onDragStart: onDragStart,\n    onDragEnter: onDragEnter,\n    onDragOver: onDragOver,\n    onDragLeave: onDragLeave,\n    onDrop: onDrop,\n    onDragEnd: onDragEnd,\n    ref: treeRef,\n    setTreeNodeClassName: setTreeNodeClassName,\n    switcherIcon: switcherIcon\n  })));\n}));\nOutline.tabKey = 'Outline';\nOutline.tabName = '大纲';\nOutline.displayName = 'Outline';\n/* harmony default export */ __webpack_exports__[\"default\"] = (Outline);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDgxNTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vY29kZS1kZXNpZ25lci8uL3NyYy92aWV3cy9PdXRsaW5lLnRzeD80ZWRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBGdW5jdGlvbkNvbXBvbmVudEVsZW1lbnQsIHVzZVN0YXRlLCBtZW1vLCBmb3J3YXJkUmVmLCB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7XG4gIENvbmZpZ0NvbnRleHQsIElEYXRhQXBpLCBJU2VsZWN0aW9uLCBJQ29udHJvbEl0ZW1VcHBlcmNhc2VLZXksXG4gIERhdGFDaGFuZ2VFdmVudCwgZXZlbnRCdXMsIElLRGVzaWduZXJQcm9wc1xufSBmcm9tICdkZXNpZ25lcl9iYXNlL01haW4nXG5pbXBvcnQgeyBUcmVlLCBJbnB1dCwgSWNvbiB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcbmltcG9ydCB1c2VEcmFnVHJlZU5vZGUgZnJvbSAnLi4vaG9va3MvdXNlRHJhZ1RyZWVOb2RlJ1xuaW1wb3J0IHsgdHJhbnNsYXRlRGF0YVRvVHJlZSB9IGZyb20gJy4uL3V0aWxzL3RyZWVVdGlscydcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQnXG5pbXBvcnQgeyBJVEVNUywgSUQsIEtFWSwgTkFNRSwgX1RZUEVfLCBGaWVsZFR5cGUgfSBmcm9tICcuLi9jb25zdGFudHMvcHJvcG5hbWVzJ1xuaW1wb3J0IHVzZUtleWJvYXJkRXZlbnQgZnJvbSAnLi4vaG9va3MvdXNlS2V5Ym9hcmRFdmVudCdcbmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IGdldENvbnRyb2xJY29uTWFwIGZyb20gJy4uL3V0aWxzL2NvbnRyb2xJY29uJ1xuXG5sZXQgc2VhcmNoQ2FjaGVyID0ge31cbmNvbnN0IGlkUHJlZml4ID0gJ2lkJ1xuXG5sZXQgZHJhZ0NvbnRyb2xJZDogc3RyaW5nID0gJydcblxuLy8gY29uc3Qgbm9vcCA9ICgpID0+IHZvaWQgMFxuY29uc3QgT3V0bGluZSA9IG1lbW8oZm9yd2FyZFJlZigocHJvcHM6IFBpY2s8SUtEZXNpZ25lclByb3BzLCAnZGF0YSc+LCBmb3J3YXJkZWRSZWYpOiBGdW5jdGlvbkNvbXBvbmVudEVsZW1lbnQ8YW55PiA9PiB7XG4gIGNvbnN0IHsgZGF0YTogaW5pdERhdGEgfSA9IHByb3BzXG4gIGNvbnN0IHsgZ2V0S2Rlc2lnbmVyQXBpLCBwcmVmaXhDbHMsIGdldFByZWZpeENscyB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IGtkZXNpZ25lckFwaSA9IHVzZU1lbW8oKCkgPT4gZ2V0S2Rlc2lnbmVyQXBpKCksIFtdKVxuICBjb25zdCBkYXRhQ29udGV4dDogSURhdGFBcGkgPSBrZGVzaWduZXJBcGkuZGF0YVxuICBjb25zdCBzZWxlY3Rpb25Db250ZXh0OiBJU2VsZWN0aW9uID0ga2Rlc2lnbmVyQXBpLnNlbGVjdGlvblxuICAvLyBjb25zdCB7IHNob3dNZXNzYWdlIH0gPSB1c2VDb250ZXh0KEdsb2JhbENvbmZpZ0NvbnRleHQpXG4gIC8vIGNvbnN0IGRlc2lnbmVyQ29udGV4dCA9IHVzZUNvbnRleHQoRGVzaWduZXJDb250ZXh0KVxuICAvLyDpu5jorqTpgInkuK3moLnoioLngrlcbiAgY29uc3Qgcm9vdElkID0gZGF0YUNvbnRleHQuZ2V0Um9vdElkKClcbiAgLy8g5aSn57qy5qCR6buY6K6k5YWo6YOo5pS26LW3XG4gIGNvbnN0IFtpc0ZvbGQsIHNldElzRm9sZF0gPSB1c2VTdGF0ZSh0cnVlKVxuICAvLyDlpKfnurLmoJHpu5jorqTpmpDol4/moIfor4ZcbiAgY29uc3QgW2lzU2hvd0tleSwgc2V0SXNTaG93S2V5XSA9IHVzZVN0YXRlKGZhbHNlKVxuICAvLyDpgInkuK3nmoToioLngrlcbiAgY29uc3QgW3NlbGVjdGVkS2V5cywgc2V0U2VsZWN0ZWRLZXlzXSA9IHVzZVN0YXRlKFtyb290SWRdKVxuICAvLyDlpKfnurLmoJHnmoTpq5jluqZcbiAgY29uc3QgW3RyZWVIZWlnaHQsIHNldFRyZWVIZWlnaHRdID0gdXNlU3RhdGUoNjAwKVxuICAvLyDovpPlhaXmoYbnmoTlgLxcbiAgY29uc3QgW2lucHV0VmFsdWUsIHNldElucHV0VmFsdWVdID0gdXNlU3RhdGUodW5kZWZpbmVkKVxuICAvLyDlpKfnurLmoJHlrp7kvotcbiAgY29uc3Qgb3V0bGluZVRyZWVSZWYgPSB1c2VSZWYobnVsbClcbiAgLy8g6L6T5YWl5qGG5a6e5L6LXG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmKG51bGwpXG4gIC8vIGRhdGHnmoTlj5jljJZcbiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGUoaW5pdERhdGEpXG4gIGNvbnN0IHRyZWVSZWYgPSB1c2VSZWYobnVsbClcbiAgLy8g5aSn57qy6ZSu55uY5LqL5Lu2XG4gIHVzZUtleWJvYXJkRXZlbnQob3V0bGluZVRyZWVSZWYsIHRydWUpXG4gIC8vIOaLluaLveS6i+S7tlxuICBjb25zdCB7IG9uRHJhZ1N0YXJ0LCBvbkRyYWdFbnRlciwgb25EcmFnT3Zlciwgb25EcmFnTGVhdmUsIG9uRHJvcCwgb25EcmFnRW5kIH0gPSB1c2VEcmFnVHJlZU5vZGUoKVxuICBjb25zdCBvdXRsaW5lUHJlZml4Q2xzID0gZ2V0UHJlZml4Q2xzICYmIGdldFByZWZpeENscyhwcmVmaXhDbHMsICdvdXRsaW5lJylcbiAgY29uc3QgW2V4cGFuZE5vZGVLZXlzLCBzZXRFeHBhbmROb2RlS2V5c10gPSB1c2VTdGF0ZShbXSlcbiAgY29uc3Qgb25FeHBhbmQgPSAoa2V5czogc3RyaW5nW10sIHsgZXhwYW5kZWQsIG5vZGUgfSkgPT4ge1xuICAgIGNvbnN0IHsga2V5IH0gPSBub2RlXG4gICAgbGV0IGFsbEtleXM6IHN0cmluZ1tdID0ga2V5cy5maWx0ZXIoQm9vbGVhbilcbiAgICBhbGxLZXlzID0gZXhwYW5kZWQgPyBba2V5LCAuLi5hbGxLZXlzXSA6IGFsbEtleXMuZmlsdGVyKChpdGVtOiBzdHJpbmcpID0+IGl0ZW0gIT09IGtleSlcbiAgICBhbGxLZXlzID0gQXJyYXkuZnJvbShuZXcgU2V0KGFsbEtleXMpKVxuICAgIHNldEV4cGFuZE5vZGVLZXlzKGFsbEtleXMpXG4gIH1cbiAgLy8g5pCc57Si5Zu+5qCHXG4gIGNvbnN0IHNlYXJjaEljb24gPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBjbGFzc05hbWUgPSBgJHtvdXRsaW5lUHJlZml4Q2xzfS1zZWFyY2gtcHJlZml4LWljb25gXG4gICAgcmV0dXJuIChcbiAgICAgIDxJY29uIHByZWZpeD0nZGVzaWduZXJpY29uJyB0eXBlPSdzb3VzdW8nIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSAvPlxuICAgIClcbiAgfSwgW291dGxpbmVQcmVmaXhDbHNdKVxuICAvLyBzZWxlY3Rpb24g5Y+Y5Yqo55qE5Zue6LCDXG4gIGNvbnN0IHNlbGVjdGlvbkNoYW5nZUNhbGxCYWNrID0gdXNlQ2FsbGJhY2soKHNlbGVjdGlvbjogSVNlbGVjdGlvbikgPT4ge1xuICAgIGNvbnN0IHsgdmFsdWUgfSA9IHNlbGVjdGlvblxuICAgIGNvbnN0IHRlbXBWYWx1ZSA9IHZhbHVlLnJlZHVjZSgocHJldjogc3RyaW5nLCBjdXJyOiBzdHJpbmcpID0+IFsuLi5wcmV2LCBgJHtpZFByZWZpeH0ke2N1cnJ9YF0sIFtdKVxuICAgIHNldFNlbGVjdGVkS2V5cyh0ZW1wVmFsdWUpXG4gICAgY29uc3QgZXhwYW5kZWRLZXlzQnlTZWxlY3Rpb246IHN0cmluZ1tdID0gWy4uLmV4cGFuZE5vZGVLZXlzXVxuICAgIHZhbHVlLmZvckVhY2goKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgIGxldCBjb250cm9sSWQ6IHN0cmluZyA9IGlkXG4gICAgICB3aGlsZSAoY29udHJvbElkICE9PSByb290SWQgJiYgY29udHJvbElkICE9PSAnJykge1xuICAgICAgICBjb25zdCB0ZW1wQ29udHJvbElkID0gYCR7aWRQcmVmaXh9JHtjb250cm9sSWR9YFxuICAgICAgICAhZXhwYW5kZWRLZXlzQnlTZWxlY3Rpb24uaW5jbHVkZXModGVtcENvbnRyb2xJZCkgJiYgZXhwYW5kZWRLZXlzQnlTZWxlY3Rpb24udW5zaGlmdCh0ZW1wQ29udHJvbElkKVxuICAgICAgICBjb250cm9sSWQgPSBkYXRhQ29udGV4dC5nZXRQYXJlbnRDb250cm9sSWQoY29udHJvbElkKVxuICAgICAgfVxuICAgICAgY29uc3QgdGVtcFJvb3RJZCA9IGAke2lkUHJlZml4fSR7cm9vdElkfWBcbiAgICAgICFleHBhbmRlZEtleXNCeVNlbGVjdGlvbi5pbmNsdWRlcyh0ZW1wUm9vdElkKSAmJiBleHBhbmRlZEtleXNCeVNlbGVjdGlvbi51bnNoaWZ0KHRlbXBSb290SWQpXG4gICAgfSlcbiAgICBzZXRFeHBhbmROb2RlS2V5cyhleHBhbmRlZEtleXNCeVNlbGVjdGlvbilcbiAgfSwgW3Jvb3RJZCwgZXhwYW5kTm9kZUtleXNdKVxuICAvLyBkYXRhIOWPmOWKqOeahOWbnuiwg1xuICBjb25zdCBkYXRhQ2hhbmdlTGlzdGVuZXJDYWxsYmFjayA9IHVzZUNhbGxiYWNrKChkYXRhQ2hhbmdlRXZlbnQ6IERhdGFDaGFuZ2VFdmVudCkgPT4ge1xuICAgIGNvbnN0IHsgdmFsdWUgfSA9IGRhdGFDaGFuZ2VFdmVudFxuICAgIHNldERhdGEodmFsdWUpXG4gIH0sIFtdKVxuICAvLyDlsIZzZWxlY3Rpb27kuI7lpKfnurLogZTliqhcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCByZW1vdmVTZWxlY3Rpb25MaXN0ZW5lciA9IHNlbGVjdGlvbkNvbnRleHQuYWRkU2VsZWN0Q2hhbmdlTGlzdGVuZXIoc2VsZWN0aW9uQ2hhbmdlQ2FsbEJhY2spXG4gICAgY29uc3QgcmVtb3ZlRGF0YUNoYW5nZUxpc3RlbmVyID0gZGF0YUNvbnRleHQuYWRkRGF0YUNoYW5nZUxpc3RlbmVyKGRhdGFDaGFuZ2VMaXN0ZW5lckNhbGxiYWNrKVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZW1vdmVTZWxlY3Rpb25MaXN0ZW5lcigpXG4gICAgICByZW1vdmVEYXRhQ2hhbmdlTGlzdGVuZXIoKVxuICAgIH1cbiAgfSwgW3NlbGVjdGlvbkNoYW5nZUNhbGxCYWNrXSlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDYWxjVHJlZUhlaWdodCA9IGRlYm91bmNlKCgpID0+IHtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0IC0gMzAgLSA4MCAtIDIwXG4gICAgICBzZXRUcmVlSGVpZ2h0KGhlaWdodClcbiAgICAgIGlmICh0cmVlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdHJlZVJlZi5jdXJyZW50LnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGBcbiAgICAgIH1cbiAgICB9LCAxMDApXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZUNhbGNUcmVlSGVpZ2h0KVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzZWFyY2hDYWNoZXIgPSB7fVxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZUNhbGNUcmVlSGVpZ2h0KVxuICAgIH1cbiAgfSwgW10pXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgLSAzMCAtIDgwIC0gMjBcbiAgICBzZXRUcmVlSGVpZ2h0KGhlaWdodClcbiAgICBpZiAodHJlZVJlZi5jdXJyZW50KSB7XG4gICAgICB0cmVlUmVmLmN1cnJlbnQuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YFxuICAgIH1cbiAgfSwgW3RyZWVSZWZdKVxuICBjb25zdCBzZXREcmFnVG9FeHBhbmQgPSB1c2VDYWxsYmFjaygoY29udHJvbElkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoZHJhZ0NvbnRyb2xJZCA9PT0gY29udHJvbElkKSByZXR1cm5cbiAgICBjb25zdCB0ZW1wRXhwYW5kTm9kZUtleXMgPSBbLi4uZXhwYW5kTm9kZUtleXNdXG4gICAgbGV0IHBhcmVudElkOiBzdHJpbmcgPSBkYXRhQ29udGV4dC5nZXRQYXJlbnRDb250cm9sSWQoY29udHJvbElkKVxuICAgIGNvbnN0IHRlbXBDb250cm9sSWQgPSBgJHtpZFByZWZpeH0ke2NvbnRyb2xJZH1gXG4gICAgIXRlbXBFeHBhbmROb2RlS2V5cy5pbmNsdWRlcyh0ZW1wQ29udHJvbElkKSAmJiB0ZW1wRXhwYW5kTm9kZUtleXMucHVzaCh0ZW1wQ29udHJvbElkKVxuICAgIHdoaWxlIChjb250cm9sSWQgJiYgcGFyZW50SWQgJiYgcGFyZW50SWQgIT09IHJvb3RJZCkge1xuICAgICAgcGFyZW50SWQgPSBkYXRhQ29udGV4dC5nZXRQYXJlbnRDb250cm9sSWQocGFyZW50SWQpXG4gICAgICBjb25zdCB0ZW1wUGFyZW50SWQgPSBgJHtpZFByZWZpeH0ke3BhcmVudElkfWBcbiAgICAgIGlmICghdGVtcEV4cGFuZE5vZGVLZXlzLmluY2x1ZGVzKHRlbXBQYXJlbnRJZCkpIHtcbiAgICAgICAgdGVtcEV4cGFuZE5vZGVLZXlzLnB1c2godGVtcFBhcmVudElkKVxuICAgICAgfVxuICAgIH1cbiAgICBkcmFnQ29udHJvbElkID0gY29udHJvbElkXG4gICAgc2V0RXhwYW5kTm9kZUtleXModGVtcEV4cGFuZE5vZGVLZXlzKVxuICB9LCBbZXhwYW5kTm9kZUtleXNdKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGV2ZW50QnVzLm9uKGBkcmFnLWNvbnRyb2xfJHtyb290SWR9YCwgc2V0RHJhZ1RvRXhwYW5kKVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBldmVudEJ1cy5vZmYoYGRyYWctY29udHJvbF8ke3Jvb3RJZH1gLCBzZXREcmFnVG9FeHBhbmQpXG4gICAgfVxuICB9LCBbc2V0RHJhZ1RvRXhwYW5kXSlcbiAgLy8g5YWo6YOo5bGV5byA5LiO5YWo6YOo5pS26LW3XG4gIGNvbnN0IHRvZ2dsZUFsbEZvbGQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSAhaXNGb2xkXG4gICAgc2V0SXNGb2xkKHZhbHVlKVxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgLy8g5YWo6YOo5pS26LW3XG4gICAgICBzZXRFeHBhbmROb2RlS2V5cyhbXSlcbiAgICAgIHRyZWVSZWYuY3VycmVudCAmJiAodHJlZVJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IDApXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOWFqOmDqOWxleW8gFxuICAgICAgY29uc3QgaWRzID0gZGF0YVtJVEVNU10ubWFwKChpdGVtOiBJQ29udHJvbEl0ZW1VcHBlcmNhc2VLZXkpID0+IGAke2lkUHJlZml4fSR7aXRlbVtJRF19YClcbiAgICAgIHNldEV4cGFuZE5vZGVLZXlzKGlkcylcbiAgICB9XG4gIH0sIFtpc0ZvbGQsIGRhdGEsIHRyZWVSZWYuY3VycmVudF0pXG4gIC8vIOaYvuekuuagh+ivhuS4jumakOiXj+agh+ivhlxuICBjb25zdCB0b2dnbGVTaG93S2V5ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gIWlzU2hvd0tleVxuICAgIHNldElzU2hvd0tleSh2YWx1ZSlcbiAgfSwgW2lzU2hvd0tleV0pXG4gIC8vIOeCueWHu+iKgueCueinpuWPkeeahOWbnuiwg++8iOmAieS4reaTjeS9nO+8iVxuICBjb25zdCBvblNlbGVjdCA9IHVzZUNhbGxiYWNrKChub2RlS2V5cykgPT4ge1xuICAgIGNvbnN0IHRlbXBOb2RlS2V5cyA9IG5vZGVLZXlzLm1hcCgoa2V5OiBzdHJpbmcpID0+IGtleS5zdWJzdHIoMikpXG4gICAgc2VsZWN0aW9uQ29udGV4dC5zZXRTZWxlY3QodGVtcE5vZGVLZXlzKVxuICAgIGNvbnN0IG5vZGVLZXk6IHN0cmluZyA9IG5vZGVLZXlzWzBdXG4gICAgY29uc3QgaW5kZXggPSBleHBhbmROb2RlS2V5cy5maW5kSW5kZXgoKGl0ZW06IHN0cmluZykgPT4gbm9kZUtleSA9PT0gaXRlbSlcbiAgICBjb25zdCB0ZW1wRXhwYW5kTm9kZUtleXM6IHN0cmluZ1tdID0gWy4uLmV4cGFuZE5vZGVLZXlzXVxuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICB0ZW1wRXhwYW5kTm9kZUtleXMuc3BsaWNlKGluZGV4LCAxKVxuICAgIH0gZWxzZSB7XG4gICAgICB0ZW1wRXhwYW5kTm9kZUtleXMucHVzaChub2RlS2V5KVxuICAgIH1cbiAgICBzZXRFeHBhbmROb2RlS2V5cyh0ZW1wRXhwYW5kTm9kZUtleXMpXG4gIH0sIFtleHBhbmROb2RlS2V5c10pXG4gIC8vIOagkeaOp+S7tueahOaVsOaNrlxuICBjb25zdCB0cmVlRGF0YSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB0cmFuc2xhdGVEYXRhVG9UcmVlKGRhdGEsIGlzU2hvd0tleSwgeyBwcmVmaXg6IGlkUHJlZml4IH0pXG4gIH0sIFtkYXRhLCBpc1Nob3dLZXldKVxuICAvLyDnm5HlkKzovpPlhaXlgLznmoTlj5jljJZcbiAgY29uc3Qgb25DaGFuZ2UgPSB1c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICBjb25zdCBkYXRhSXRlbXMgPSBbLi4uKHRyZWVEYXRhPy5bMF0/LnNlYXJjaERhdGEgfHwgW10pXVxuICAgIGNvbnN0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlLnRyaW0oKVxuICAgIGNvbnN0IHJlc3VsdCA9IGRhdGFJdGVtc1xuICAgICAgLmZpbHRlcihpdGVtID0+IChpdGVtLmtleT8uc2xpY2UoMikuaW5jbHVkZXModmFsdWUpIHx8IGl0ZW0udGl0bGUuaW5jbHVkZXModmFsdWUpKSlcbiAgICAgIC5tYXAoaXRlbSA9PiAoeyBpZDogaXRlbS5rZXk/LnNsaWNlKDIpLCBsZXZlbDogaXRlbS5sZXZlbCB9KSlcbiAgICAgIC5zb3J0KChpdGVtOiBhbnkpID0+IGl0ZW0ubGV2ZWwpXG4gICAgICAubWFwKChpdGVtOiBhbnkpID0+IGl0ZW0uaWQpXG5cbiAgICBzZWFyY2hDYWNoZXJbdmFsdWVdID0gWy4uLnJlc3VsdF1cbiAgICBzZXRJbnB1dFZhbHVlKHZhbHVlKVxuICB9LCBbdHJlZURhdGFdKVxuICAvLyDojrflj5bkuIvkuIDkuKrmn6Xor6Lnu5PmnpznmoTkuIvmoIdcbiAgY29uc3QgZ2V0TmV4dFNlbGVjdGlvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIWlucHV0VmFsdWUgfHwgIXNlYXJjaENhY2hlcltpbnB1dFZhbHVlXSkgcmV0dXJuIG51bGxcbiAgICBjb25zdCBzZWFyY2hSZXN1bHQ6IEFycmF5PHN0cmluZz4gPSBzZWFyY2hDYWNoZXJbaW5wdXRWYWx1ZV1cbiAgICBjb25zdCBsZW5ndGggPSBzZWFyY2hSZXN1bHQubGVuZ3RoXG4gICAgaWYgKGxlbmd0aCA8PSAwKSByZXR1cm4gbnVsbCB8fCByb290SWRcbiAgICBjb25zdCBhY3RpdmVkU2VsZWN0SWQgPSBzZWxlY3Rpb25Db250ZXh0LmdldEFjdGl2ZVNlbGVjdGVkSWQoKVxuICAgIGlmICghc2VhcmNoUmVzdWx0LmluY2x1ZGVzKGFjdGl2ZWRTZWxlY3RJZCkpIHtcbiAgICAgIHJldHVybiBzZWFyY2hSZXN1bHRbMF1cbiAgICB9XG4gICAgbGV0IGluZGV4ID0gc2VhcmNoUmVzdWx0LmluZGV4T2YoYWN0aXZlZFNlbGVjdElkKVxuICAgIGlmIChpbmRleCA9PT0gKGxlbmd0aCAtIDEpKSB7XG4gICAgICBpbmRleCA9IDBcbiAgICB9IGVsc2UgaW5kZXgrK1xuICAgIHJldHVybiBzZWFyY2hSZXN1bHRbaW5kZXhdXG4gIH0sIFtpbnB1dFZhbHVlXSlcbiAgLy8g55uR5ZCs5Zue6L2m6ZSuXG4gIGNvbnN0IG9uUHJlc3NFbnRlciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpbnB1dFJlZi5jdXJyZW50ICYmIGlucHV0UmVmLmN1cnJlbnQuZm9jdXMoKVxuICAgIGNvbnN0IG5leHRTZWxlY3Rpb24gPSBnZXROZXh0U2VsZWN0aW9uKClcbiAgICBjb25zdCBjb250cm9sOiBJQ29udHJvbEl0ZW1VcHBlcmNhc2VLZXkgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChuZXh0U2VsZWN0aW9uKVxuICAgIG5leHRTZWxlY3Rpb24gJiYgc2VsZWN0aW9uQ29udGV4dC5zZXRTZWxlY3QoW2NvbnRyb2wgPyBuZXh0U2VsZWN0aW9uIDogcm9vdElkXSlcbiAgfSwgW2lucHV0UmVmLCBnZXROZXh0U2VsZWN0aW9uXSlcbiAgY29uc3QgdG9nZ2xlRXhwYW5kTm9kZSA9IChldmVudDogUmVhY3QuTW91c2VFdmVudDxIVE1MRWxlbWVudCwgTW91c2VFdmVudD4sIGNvbnRyb2xJZDogc3RyaW5nKSA9PiB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBjb25zdCB0ZW1wRXhwYW5kTm9kZUtleXM6IHN0cmluZ1tdID0gWy4uLmV4cGFuZE5vZGVLZXlzXVxuICAgIGNvbnN0IGN1cnJJbmRleDogbnVtYmVyID0gdGVtcEV4cGFuZE5vZGVLZXlzLmluZGV4T2YoY29udHJvbElkKVxuICAgIGlmIChjdXJySW5kZXggPj0gMCkge1xuICAgICAgdGVtcEV4cGFuZE5vZGVLZXlzLnNwbGljZShjdXJySW5kZXgsIDEpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRlbXBFeHBhbmROb2RlS2V5cy5wdXNoKGNvbnRyb2xJZClcbiAgICB9XG4gICAgc2V0RXhwYW5kTm9kZUtleXModGVtcEV4cGFuZE5vZGVLZXlzKVxuICB9XG4gIC8vIOa4suafk+WxlemWi+aUtui1t+eahOWcluaomVxuICBjb25zdCBzd2l0Y2hlckljb24gPSBbXG4gICAgKGljb25Qcm9wcykgPT4gPEljb24gcHJlZml4PSdkZXNpZ25lcmljb24nIHR5cGU9J3Nob3VxaTMnIG9uQ2xpY2s9e2V2ZW50ID0+IHRvZ2dsZUV4cGFuZE5vZGUoZXZlbnQsIGljb25Qcm9wcy5ub2RlS2V5KX0gLz4sXG4gICAgKGljb25Qcm9wcykgPT4gPEljb24gcHJlZml4PSdkZXNpZ25lcmljb24nIHR5cGU9J3poYW5rYWkzJyBvbkNsaWNrPXtldmVudCA9PiB0b2dnbGVFeHBhbmROb2RlKGV2ZW50LCBpY29uUHJvcHMubm9kZUtleSl9IC8+XG4gIF1cbiAgLy8g5riy5p+T5qCR6IqC54K55Zu+5qCHXG4gIGNvbnN0IHJlbmRlck5vZGVJY29uID0gdXNlQ2FsbGJhY2soKHsgbm9kZUtleSB9ID0ge30pID0+IHtcbiAgICBpZiAoIW5vZGVLZXkpIHJldHVybiA8SWNvbiBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nRmxleG1pYW5iYW4nIC8+XG4gICAgY29uc3QgeyBbX1RZUEVfXTogY29udHJvbFR5cGUgfSA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sKG5vZGVLZXkuc2xpY2UoMikpIHx8IHt9XG4gICAgY29uc3QgaWNvblR5cGUgPSBnZXRDb250cm9sSWNvbk1hcChjb250cm9sVHlwZSwgJ0ZsZXhtaWFuYmFuJylcbiAgICByZXR1cm4gPEljb24gcHJlZml4PSdkZXNpZ25lcmljb24nIHR5cGU9e2ljb25UeXBlfSAvPlxuICB9LCBbXSlcbiAgY29uc3Qgc2V0VHJlZU5vZGVDbGFzc05hbWUgPSB1c2VDYWxsYmFjaygoeyBIaWRkZW4gfSkgPT4ge1xuICAgIGlmIChIaWRkZW4pIHJldHVybiAna2Rlc2lnbmVyLWZvcm0tZGVzaWduZXItb3V0bGluZS10cmVlLW5vZGUtZGlzYWJsZWQnXG4gICAgcmV0dXJuICcnXG4gIH0sIFtdKVxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtvdXRsaW5lUHJlZml4Q2xzfS13cmFwYH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7b3V0bGluZVByZWZpeENsc30tc2VhcmNoYH0+XG4gICAgICAgIDxJbnB1dFxuICAgICAgICAgIHNpemU9J3NtYWxsJ1xuICAgICAgICAgIHByZWZpeD17c2VhcmNoSWNvbn1cbiAgICAgICAgICBwbGFjZWhvbGRlcj0n5pCc57Si5aSn57qyJ1xuICAgICAgICAgIGJvcmRlclR5cGU9J2JvcmRlcmVkJ1xuICAgICAgICAgIGNsYXNzTmFtZT17YCR7b3V0bGluZVByZWZpeENsc30tc2VhcmNoLWlucHV0YH1cbiAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgICAgb25QcmVzc0VudGVyPXtvblByZXNzRW50ZXJ9XG4gICAgICAgICAgdmFsdWU9e2lucHV0VmFsdWV9XG4gICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICBhbGxvd0NsZWFyXG4gICAgICAgIC8+XG4gICAgICAgIDxJY29uXG4gICAgICAgICAgcHJlZml4PSdkZXNpZ25lcmljb24nXG4gICAgICAgICAgY2xhc3NOYW1lPXtgJHtvdXRsaW5lUHJlZml4Q2xzfS1zZWFyY2gtaWNvbmB9XG4gICAgICAgICAgb25DbGljaz17dG9nZ2xlQWxsRm9sZH1cbiAgICAgICAgICB0eXBlPXtpc0ZvbGQgPyAnc2hvdXFpcXVhbmJ1JyA6ICd6aGFua2FpcXVhbmJ1J31cbiAgICAgICAgICB0aXRsZT17aXNGb2xkID8gJ+WFqOmDqOWxleW8gCcgOiAn5YWo6YOo5pS26LW3J31cbiAgICAgICAgLz5cbiAgICAgICAgPEljb25cbiAgICAgICAgICBwcmVmaXg9J2Rlc2lnbmVyaWNvbidcbiAgICAgICAgICBjbGFzc05hbWU9e2Ake291dGxpbmVQcmVmaXhDbHN9LXNlYXJjaC1pY29uYH1cbiAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVTaG93S2V5fVxuICAgICAgICAgIHR5cGU9e2lzU2hvd0tleSA/ICd6aGFuc2hpJyA6ICd5aW5jYW5nJ31cbiAgICAgICAgICB0aXRsZT17aXNTaG93S2V5ID8gJ+makOiXj+agh+ivhicgOiAn5pi+56S65qCH6K+GJ31cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgey8qKiDov5nkuIDlsYLnmoRkaXbkuLvopoHmmK/nlKjmnaXmjILovb3kuovku7bnmoTjgILkuLrkuobop6PlhrPljp/lhYhyZWblnKjmnIDlpJblsYLnmoTml7blgJnmkJzntKLmoYbnmoTlpI3liLbnspjotLTkuZ/kvJrlvbHlk43liLDmjqfku7bnmoTlpI3liLbnspjotLQgKiovfVxuICAgICAgPGRpdiByZWY9e291dGxpbmVUcmVlUmVmfSBjbGFzc05hbWU9e2Ake291dGxpbmVQcmVmaXhDbHN9LXRyZWVgfSB0YWJJbmRleD17LTF9PlxuICAgICAgICA8VHJlZVxuICAgICAgICAgIG5hbWU9J091dGxpbmVUcmVlJ1xuICAgICAgICAgIHRyZWVEYXRhPXt0cmVlRGF0YX1cbiAgICAgICAgICBoZWlnaHQ9e3RyZWVIZWlnaHR9XG4gICAgICAgICAgd2lkdGg9ezI4MH1cbiAgICAgICAgICBvbkV4cGFuZD17b25FeHBhbmR9XG4gICAgICAgICAgZXhwYW5kZWRLZXlzPXtleHBhbmROb2RlS2V5c31cbiAgICAgICAgICBjbGFzc05hbWU9e291dGxpbmVQcmVmaXhDbHN9XG4gICAgICAgICAgdmlydHVhbD17ZmFsc2V9XG4gICAgICAgICAgZHJhZ2dhYmxlXG4gICAgICAgICAgaWNvbj17cmVuZGVyTm9kZUljb259XG4gICAgICAgICAgc2hvd0ljb25cbiAgICAgICAgICBzZWxlY3RlZEtleXM9e3NlbGVjdGVkS2V5c31cbiAgICAgICAgICBvblNlbGVjdD17b25TZWxlY3R9XG4gICAgICAgICAgb25EcmFnU3RhcnQ9e29uRHJhZ1N0YXJ0fVxuICAgICAgICAgIG9uRHJhZ0VudGVyPXtvbkRyYWdFbnRlcn1cbiAgICAgICAgICBvbkRyYWdPdmVyPXtvbkRyYWdPdmVyfVxuICAgICAgICAgIG9uRHJhZ0xlYXZlPXtvbkRyYWdMZWF2ZX1cbiAgICAgICAgICBvbkRyb3A9e29uRHJvcH1cbiAgICAgICAgICBvbkRyYWdFbmQ9e29uRHJhZ0VuZH1cbiAgICAgICAgICByZWY9e3RyZWVSZWZ9XG4gICAgICAgICAgc2V0VHJlZU5vZGVDbGFzc05hbWU9e3NldFRyZWVOb2RlQ2xhc3NOYW1lfVxuICAgICAgICAgIHN3aXRjaGVySWNvbj17c3dpdGNoZXJJY29ufVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn0pKVxuXG5PdXRsaW5lLnRhYktleSA9ICdPdXRsaW5lJ1xuT3V0bGluZS50YWJOYW1lID0gJ+Wkp+e6sidcbk91dGxpbmUuZGlzcGxheU5hbWUgPSAnT3V0bGluZSdcbmV4cG9ydCBkZWZhdWx0IE91dGxpbmVcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///48156\n");

/***/ }),

/***/ 37796:
/*!************************************!*\
  !*** ./src/views/PropertyView.tsx ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NoCodePropertyView: function() { return /* binding */ NoCodePropertyView; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/extends */ 2664);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _constants_index__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../constants/index */ 98092);\n/* harmony import */ var kd_libs_immer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! kd_libs/immer */ 59480);\n/* harmony import */ var kd_libs_immer__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(kd_libs_immer__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _components_SwitchField__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/SwitchField */ 82796);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! nocode_component/WebUI */ 82416);\n/* harmony import */ var nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _utils_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/control */ 3700);\n/* harmony import */ var _utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/refBillEditorUtils */ 82048);\n/* harmony import */ var _assets_images_props_locked_png__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../assets/images/props-locked.png */ 31684);\n/* harmony import */ var _constants_actionName__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../constants/actionName */ 82964);\n/* harmony import */ var _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../reducer/reduceConstants */ 10788);\n\n\n\n\n\n/*\n * @Description:\n * @Author: jianhang_he\n * @Date: 2022-10-28 09:19:20\n * @LastEditTime: 2023-12-11 11:20:46\n * @Last Modified by: jianhang_he\n */\n/**\n * 属性视图\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n// 过滤属性组的key列表\nvar filterPropertyGroupKeyList = [_constants_index__WEBPACK_IMPORTED_MODULE_7__.PROPERTY_GROUP_HIDE_KEY];\nvar NoCodePropertyView = function NoCodePropertyView(props) {\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_5__.useContext)(_context__WEBPACK_IMPORTED_MODULE_10__.DesignerContext),\n    getKdesignerApi = _useContext.getKdesignerApi,\n    prefixCls = _useContext.prefixCls,\n    billPropsData = _useContext.billPropsData,\n    dispatchBillData = _useContext.dispatchBillData,\n    invokeAction = _useContext.invokeAction;\n  var kdesignerApi = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(function () {\n    return getKdesignerApi();\n  }, []);\n  var selectionContext = kdesignerApi.selection,\n    dataContext = kdesignerApi.data;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_5__.useState)(null),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    selectField = _useState2[0],\n    setSelectField = _useState2[1];\n  var rootId = dataContext.getRootId();\n  var filterPropertyHandler = function filterPropertyHandler(groups) {\n    return (0,kd_libs_immer__WEBPACK_IMPORTED_MODULE_8__.produce)(groups, function (draft) {\n      // 过滤业务逻辑分组的属性\n      return _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(draft).call(draft, function (group) {\n        return !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_3___default()(filterPropertyGroupKeyList).call(filterPropertyGroupKeyList, group.Key);\n      });\n    });\n  };\n\n  // 选中监听\n  var selectionChangeCallBack = function selectionChangeCallBack() {\n    var selection = selectionContext.getSelection();\n    if ((selection === null || selection === void 0 ? void 0 : selection.length) === 1) {\n      var control = dataContext.findControl(selection[0]);\n      var _ref = dataContext.getParentControl(selection[0]) || {},\n        parentType = _ref._Type_,\n        BillEntityIdEx = _ref.BillEntityIdEx;\n      // 选中表格子控件时，判断是否加载过关联表单的控件内容，如果没有，则请求数据\n      // 主要是防止添加/删除表格子控件时，无数据更新\n      if (BillEntityIdEx && (0,_utils_control__WEBPACK_IMPORTED_MODULE_12__.isRefBillTable)(parentType) && !(billPropsData !== null && billPropsData !== void 0 && billPropsData[BillEntityIdEx])) {\n        invokeAction('getDesignerMetadata', [BillEntityIdEx]);\n      }\n      setSelectField(control);\n    } else {\n      setSelectField({});\n    }\n  };\n  // 当前选中的控件ID\n  var _useActivedSelectedId = (0,designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.useActivedSelectedId)({\n      dataContext: dataContext,\n      selectionContext: selectionContext\n    }),\n    activedSelectId = _useActivedSelectedId.activedSelectId;\n  // 父节点信息\n  var parentField = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(function () {\n    return dataContext.getParentControl(activedSelectId);\n  }, [activedSelectId]);\n\n  /**\n   * 请求表单控件数据的回调\n   */\n  var updateBillData = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_5__.useCallback)(function (info) {\n    var _context;\n    if (!(info !== null && info !== void 0 && info.data)) return;\n    var data = (info === null || info === void 0 ? void 0 : info.data) || {};\n    var ids = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(_context = data.entitymeta.Items).call(_context, function (item) {\n      return item.Id;\n    });\n    // 更新上下文全局缓存\n    dispatchBillData({\n      key: _reducer_reduceConstants__WEBPACK_IMPORTED_MODULE_16__.UPDATE_FORM_DATA,\n      payload: {\n        form: info.billEntityIdEx || data.id,\n        info: {\n          data: data,\n          ids: ids\n        }\n      }\n    });\n  }, []);\n\n  /**\n   * 初始化注册侦听\n   */\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(function () {\n    designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.eventBus.on(_constants_actionName__WEBPACK_IMPORTED_MODULE_15__.SET_FORM_AND_ENTITY_META_DATA, updateBillData);\n    return function () {\n      designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.eventBus.off(_constants_actionName__WEBPACK_IMPORTED_MODULE_15__.SET_FORM_AND_ENTITY_META_DATA, updateBillData);\n    };\n  }, [updateBillData]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(function () {\n    // selectionChangeCallBack 函数内的上下文会变化\n    var removeSelectionListener = selectionContext.addSelectChangeListener(selectionChangeCallBack);\n    return function () {\n      removeSelectionListener();\n    };\n  }, [selectionChangeCallBack]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(function () {\n    selectionChangeCallBack();\n  }, []);\n\n  // 如果关联表单表格关联的是应用外表单，则无法编辑属性\n  // 应用内表单表格的关联表单切换成表格之后，属性无法编辑\n  if (parentField !== null && parentField !== void 0 && parentField.BillEntityIdEx && (0,_utils_control__WEBPACK_IMPORTED_MODULE_12__.isRefBillTable)(parentField === null || parentField === void 0 ? void 0 : parentField._Type_)) {\n    if (!(0,_utils_refBillEditorUtils__WEBPACK_IMPORTED_MODULE_13__.isAppInnerForm)(parentField, (billPropsData === null || billPropsData === void 0 ? void 0 : billPropsData.innerForm) || [])) {\n      return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_11__.EmptyData, {\n        src: _assets_images_props_locked_png__WEBPACK_IMPORTED_MODULE_14__[\"default\"],\n        desc: \"\\u65E0\\u6CD5\\u7F16\\u8F91\\u5E94\\u7528\\u5916\\u8868\\u5355\\u5185\\u5BB9\\u7684\\u5C5E\\u6027\"\n      });\n    }\n    if ((parentField === null || parentField === void 0 ? void 0 : parentField.BillEntityIdEx) === dataContext.getRootId()) {\n      return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_11__.EmptyData, {\n        src: _assets_images_props_locked_png__WEBPACK_IMPORTED_MODULE_14__[\"default\"],\n        desc: \"\\u8868\\u683C\\u4E3A\\u5F53\\u524D\\u8868\\u5355\\u65F6\\u65E0\\u6CD5\\u7F16\\u8F91\\u5185\\u5BB9\\u5C5E\\u6027\"\n      });\n    }\n    if (selectField.RefTableId || selectField.RefBillId) {\n      return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(nocode_component_WebUI__WEBPACK_IMPORTED_MODULE_11__.EmptyData, {\n        src: _assets_images_props_locked_png__WEBPACK_IMPORTED_MODULE_14__[\"default\"],\n        desc: \"\\u65E0\\u6CD5\\u7F16\\u8F91\\u5C5E\\u6027\\uFF0C\\u8BF7\\u4E8E\\u539F\\u5355\\u7F16\\u8F91\"\n      });\n    }\n  }\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().Fragment), null, (selectField === null || selectField === void 0 ? void 0 : selectField.Id) && rootId !== selectField.Id && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_components_SwitchField__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    field: selectField,\n    className: \"\".concat(prefixCls, \"_property_switchfield\")\n  }), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_5___default().createElement(designer_base_Main__WEBPACK_IMPORTED_MODULE_6__.PropertyView, (0,_babel_runtime_corejs3_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n    filterPropertyHandler: filterPropertyHandler\n  })));\n};\nNoCodePropertyView.tabKey = 'property';\nNoCodePropertyView.tabName = '属性';\n/* harmony default export */ __webpack_exports__[\"default\"] = (NoCodePropertyView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzc3OTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2NvZGUtZGVzaWduZXIvLi9zcmMvdmlld3MvUHJvcGVydHlWaWV3LnRzeD9kYWQ0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBARGVzY3JpcHRpb246XG4gKiBAQXV0aG9yOiBqaWFuaGFuZ19oZVxuICogQERhdGU6IDIwMjItMTAtMjggMDk6MTk6MjBcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjMtMTItMTEgMTE6MjA6NDZcbiAqIEBMYXN0IE1vZGlmaWVkIGJ5OiBqaWFuaGFuZ19oZVxuICovXG4vKipcbiAqIOWxnuaAp+inhuWbvlxuICovXG5pbXBvcnQgUmVhY3QsIHsgRkMsIHVzZUNvbnRleHQsIHVzZU1lbW8sIHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7XG4gIFByb3BlcnR5VmlldywgSVByb3BlcnR5Vmlld1Byb3AsXG4gIElDb250cm9sUHJvcGVydHlHcm91cCxcbiAgdXNlQWN0aXZlZFNlbGVjdGVkSWQsIGV2ZW50QnVzXG59IGZyb20gJ2Rlc2lnbmVyX2Jhc2UvTWFpbidcbmltcG9ydCB7IFBST1BFUlRZX0dST1VQX0hJREVfS0VZIH0gZnJvbSAnLi4vY29uc3RhbnRzL2luZGV4J1xuaW1wb3J0IHsgcHJvZHVjZSB9IGZyb20gJ2ltbWVyJ1xuaW1wb3J0IFN3aXRjaEZpZWxkIGZyb20gJy4uL2NvbXBvbmVudHMvU3dpdGNoRmllbGQnXG5pbXBvcnQgeyBEZXNpZ25lckNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0J1xuaW1wb3J0IHsgRW1wdHlEYXRhIH0gZnJvbSAnbm9jb2RlX2NvbXBvbmVudC9XZWJVSSdcbmltcG9ydCB7IGlzUmVmQmlsbFRhYmxlIH0gZnJvbSAnLi4vdXRpbHMvY29udHJvbCdcbmltcG9ydCB7IGlzQXBwSW5uZXJGb3JtIH0gZnJvbSAnLi4vdXRpbHMvcmVmQmlsbEVkaXRvclV0aWxzJ1xuaW1wb3J0IHByb3BzTG9ja2VkIGZyb20gJy4uLy4uL2Fzc2V0cy9pbWFnZXMvcHJvcHMtbG9ja2VkLnBuZydcbmltcG9ydCB7IFNFVF9GT1JNX0FORF9FTlRJVFlfTUVUQV9EQVRBIH0gZnJvbSAnLi4vY29uc3RhbnRzL2FjdGlvbk5hbWUnXG5pbXBvcnQgeyBVUERBVEVfRk9STV9EQVRBIH0gZnJvbSAnLi4vcmVkdWNlci9yZWR1Y2VDb25zdGFudHMnXG5cbi8vIOi/h+a7pOWxnuaAp+e7hOeahGtleeWIl+ihqFxuY29uc3QgZmlsdGVyUHJvcGVydHlHcm91cEtleUxpc3QgPSBbUFJPUEVSVFlfR1JPVVBfSElERV9LRVldXG5cbmV4cG9ydCBjb25zdCBOb0NvZGVQcm9wZXJ0eVZpZXc6RkM8SVByb3BlcnR5Vmlld1Byb3A+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgZ2V0S2Rlc2lnbmVyQXBpLCBwcmVmaXhDbHMsIGJpbGxQcm9wc0RhdGEsIGRpc3BhdGNoQmlsbERhdGEsIGludm9rZUFjdGlvbiB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IGtkZXNpZ25lckFwaSA9IHVzZU1lbW8oKCkgPT4gZ2V0S2Rlc2lnbmVyQXBpKCksIFtdKVxuICBjb25zdCB7IHNlbGVjdGlvbjogc2VsZWN0aW9uQ29udGV4dCwgZGF0YTogZGF0YUNvbnRleHQgfSA9IGtkZXNpZ25lckFwaVxuICBjb25zdCBbc2VsZWN0RmllbGQsIHNldFNlbGVjdEZpZWxkXSA9IHVzZVN0YXRlPGFueT4obnVsbClcbiAgY29uc3Qgcm9vdElkID0gZGF0YUNvbnRleHQuZ2V0Um9vdElkKClcblxuICBjb25zdCBmaWx0ZXJQcm9wZXJ0eUhhbmRsZXIgPSAoZ3JvdXBzOiBJQ29udHJvbFByb3BlcnR5R3JvdXBbXSk6IElDb250cm9sUHJvcGVydHlHcm91cFtdID0+IHByb2R1Y2UoZ3JvdXBzLCAoZHJhZnQpID0+IHtcbiAgICAvLyDov4fmu6TkuJrliqHpgLvovpHliIbnu4TnmoTlsZ7mgKdcbiAgICByZXR1cm4gZHJhZnQuZmlsdGVyKGdyb3VwID0+ICFmaWx0ZXJQcm9wZXJ0eUdyb3VwS2V5TGlzdC5pbmNsdWRlcyhncm91cC5LZXkpKVxuICB9KVxuXG4gIC8vIOmAieS4reebkeWQrFxuICBjb25zdCBzZWxlY3Rpb25DaGFuZ2VDYWxsQmFjayA9ICgpID0+IHtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBzZWxlY3Rpb25Db250ZXh0LmdldFNlbGVjdGlvbigpXG5cbiAgICBpZiAoc2VsZWN0aW9uPy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNvbnN0IGNvbnRyb2wgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbChzZWxlY3Rpb25bMF0pXG4gICAgICBjb25zdCB7IF9UeXBlXzogcGFyZW50VHlwZSwgQmlsbEVudGl0eUlkRXggfSA9IGRhdGFDb250ZXh0LmdldFBhcmVudENvbnRyb2woc2VsZWN0aW9uWzBdKSB8fCB7fVxuICAgICAgLy8g6YCJ5Lit6KGo5qC85a2Q5o6n5Lu25pe277yM5Yik5pat5piv5ZCm5Yqg6L296L+H5YWz6IGU6KGo5Y2V55qE5o6n5Lu25YaF5a6577yM5aaC5p6c5rKh5pyJ77yM5YiZ6K+35rGC5pWw5o2uXG4gICAgICAvLyDkuLvopoHmmK/pmLLmraLmt7vliqAv5Yig6Zmk6KGo5qC85a2Q5o6n5Lu25pe277yM5peg5pWw5o2u5pu05pawXG4gICAgICBpZiAoQmlsbEVudGl0eUlkRXggJiYgaXNSZWZCaWxsVGFibGUocGFyZW50VHlwZSkgJiYgIWJpbGxQcm9wc0RhdGE/LltCaWxsRW50aXR5SWRFeF0pIHtcbiAgICAgICAgaW52b2tlQWN0aW9uKCdnZXREZXNpZ25lck1ldGFkYXRhJywgW0JpbGxFbnRpdHlJZEV4XSlcbiAgICAgIH1cbiAgICAgIHNldFNlbGVjdEZpZWxkKGNvbnRyb2wpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFNlbGVjdEZpZWxkKHt9KVxuICAgIH1cbiAgfVxuICAvLyDlvZPliY3pgInkuK3nmoTmjqfku7ZJRFxuICBjb25zdCB7IGFjdGl2ZWRTZWxlY3RJZCB9ID0gdXNlQWN0aXZlZFNlbGVjdGVkSWQoeyBkYXRhQ29udGV4dCwgc2VsZWN0aW9uQ29udGV4dCB9KVxuICAvLyDniLboioLngrnkv6Hmga9cbiAgY29uc3QgcGFyZW50RmllbGQgPSB1c2VNZW1vKCgpID0+IGRhdGFDb250ZXh0LmdldFBhcmVudENvbnRyb2woYWN0aXZlZFNlbGVjdElkKSwgW2FjdGl2ZWRTZWxlY3RJZF0pXG5cbiAgLyoqXG4gICAqIOivt+axguihqOWNleaOp+S7tuaVsOaNrueahOWbnuiwg1xuICAgKi9cbiAgY29uc3QgdXBkYXRlQmlsbERhdGEgPSB1c2VDYWxsYmFjaygoaW5mbzphbnkpID0+IHtcbiAgICBpZiAoIWluZm8/LmRhdGEpIHJldHVyblxuICAgIGNvbnN0IGRhdGEgPSBpbmZvPy5kYXRhIHx8IHt9XG4gICAgY29uc3QgaWRzID0gZGF0YS5lbnRpdHltZXRhLkl0ZW1zLm1hcCgoaXRlbTphbnkpID0+IGl0ZW0uSWQpXG4gICAgLy8g5pu05paw5LiK5LiL5paH5YWo5bGA57yT5a2YXG4gICAgZGlzcGF0Y2hCaWxsRGF0YSh7IGtleTogVVBEQVRFX0ZPUk1fREFUQSwgcGF5bG9hZDogeyBmb3JtOiBpbmZvLmJpbGxFbnRpdHlJZEV4IHx8IGRhdGEuaWQsIGluZm86IHsgZGF0YSwgaWRzIH0gfSB9KVxuICB9LCBbXSlcblxuICAvKipcbiAgICog5Yid5aeL5YyW5rOo5YaM5L6m5ZCsXG4gICAqL1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGV2ZW50QnVzLm9uKFNFVF9GT1JNX0FORF9FTlRJVFlfTUVUQV9EQVRBLCB1cGRhdGVCaWxsRGF0YSlcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZXZlbnRCdXMub2ZmKFNFVF9GT1JNX0FORF9FTlRJVFlfTUVUQV9EQVRBLCB1cGRhdGVCaWxsRGF0YSlcbiAgICB9XG4gIH0sIFt1cGRhdGVCaWxsRGF0YV0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHsgLy8gc2VsZWN0aW9uQ2hhbmdlQ2FsbEJhY2sg5Ye95pWw5YaF55qE5LiK5LiL5paH5Lya5Y+Y5YyWXG4gICAgY29uc3QgcmVtb3ZlU2VsZWN0aW9uTGlzdGVuZXIgPSBzZWxlY3Rpb25Db250ZXh0LmFkZFNlbGVjdENoYW5nZUxpc3RlbmVyKHNlbGVjdGlvbkNoYW5nZUNhbGxCYWNrKVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZW1vdmVTZWxlY3Rpb25MaXN0ZW5lcigpXG4gICAgfVxuICB9LCBbc2VsZWN0aW9uQ2hhbmdlQ2FsbEJhY2tdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2VsZWN0aW9uQ2hhbmdlQ2FsbEJhY2soKVxuICB9LCBbXSlcblxuICAvLyDlpoLmnpzlhbPogZTooajljZXooajmoLzlhbPogZTnmoTmmK/lupTnlKjlpJbooajljZXvvIzliJnml6Dms5XnvJbovpHlsZ7mgKdcbiAgLy8g5bqU55So5YaF6KGo5Y2V6KGo5qC855qE5YWz6IGU6KGo5Y2V5YiH5o2i5oiQ6KGo5qC85LmL5ZCO77yM5bGe5oCn5peg5rOV57yW6L6RXG4gIGlmIChwYXJlbnRGaWVsZD8uQmlsbEVudGl0eUlkRXggJiYgaXNSZWZCaWxsVGFibGUocGFyZW50RmllbGQ/Ll9UeXBlXykpIHtcbiAgICBpZiAoIWlzQXBwSW5uZXJGb3JtKHBhcmVudEZpZWxkLCAoYmlsbFByb3BzRGF0YT8uaW5uZXJGb3JtIHx8IFtdKSkpIHtcbiAgICAgIHJldHVybiA8RW1wdHlEYXRhIHNyYz17cHJvcHNMb2NrZWR9IGRlc2M9J+aXoOazlee8lui+keW6lOeUqOWkluihqOWNleWGheWuueeahOWxnuaApycgLz5cbiAgICB9XG4gICAgaWYgKHBhcmVudEZpZWxkPy5CaWxsRW50aXR5SWRFeCA9PT0gZGF0YUNvbnRleHQuZ2V0Um9vdElkKCkpIHtcbiAgICAgIHJldHVybiA8RW1wdHlEYXRhIHNyYz17cHJvcHNMb2NrZWR9IGRlc2M9J+ihqOagvOS4uuW9k+WJjeihqOWNleaXtuaXoOazlee8lui+keWGheWuueWxnuaApycgLz5cbiAgICB9XG4gICAgaWYgKHNlbGVjdEZpZWxkLlJlZlRhYmxlSWQgfHwgc2VsZWN0RmllbGQuUmVmQmlsbElkKSB7XG4gICAgICByZXR1cm4gPEVtcHR5RGF0YSBzcmM9e3Byb3BzTG9ja2VkfSBkZXNjPSfml6Dms5XnvJbovpHlsZ7mgKfvvIzor7fkuo7ljp/ljZXnvJbovpEnIC8+XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgeyhzZWxlY3RGaWVsZD8uSWQgJiYgcm9vdElkICE9PSBzZWxlY3RGaWVsZC5JZCkgJiYgPFN3aXRjaEZpZWxkIGZpZWxkPXtzZWxlY3RGaWVsZH0gY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9X3Byb3BlcnR5X3N3aXRjaGZpZWxkYH0gLz59XG4gICAgICA8UHJvcGVydHlWaWV3IHsuLi5wcm9wc30gZmlsdGVyUHJvcGVydHlIYW5kbGVyPXtmaWx0ZXJQcm9wZXJ0eUhhbmRsZXJ9IC8+XG4gICAgPC8+XG4gIClcbn1cblxuTm9Db2RlUHJvcGVydHlWaWV3LnRhYktleSA9ICdwcm9wZXJ0eSdcbk5vQ29kZVByb3BlcnR5Vmlldy50YWJOYW1lID0gJ+WxnuaApydcbmV4cG9ydCBkZWZhdWx0IE5vQ29kZVByb3BlcnR5Vmlld1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///37796\n");

/***/ }),

/***/ 3364:
/*!****************************************!*\
  !*** ./src/views/SystemCategories.tsx ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ 13939);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols */ 34716);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ 4884);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors */ 3464);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/slicedToArray */ 95992);\n/* harmony import */ var _babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/typeof */ 58496);\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ 30112);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ 70696);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/starts-with */ 11908);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ 23992);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ 50524);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! kd_libs/react */ 65984);\n/* harmony import */ var kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(kd_libs_react__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! designer_base/Main */ 18040);\n/* harmony import */ var designer_base_Main__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(designer_base_Main__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../constants */ 98092);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! kd_libs/kdesign1 */ 63548);\n/* harmony import */ var kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../context */ 90115);\n/* harmony import */ var _components_BillNoSettingModal__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../components/BillNoSettingModal */ 7696);\n\n\n\n\n\n\n\nfunction ownKeys(e, r) { var t = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_0___default()(e); if ((_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default())) { var o = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default()(e); r && (o = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(o).call(o, function (r) { return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, r, t[r]); }) : (_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()) ? Object.defineProperties(e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\nvar BILL_NO_GROUP_KEY = 'System_CategoryBillNo';\nvar RECORD_INFO_GROUP_KEY = 'System_CategoryRecordInfo';\nvar SYS_BILL_NO_CONTROLS = ['NoCodeBillNoField'];\nvar SYS_RECORD_INFO_CONTROLS = ['NoCodeCreateDateField', 'NoCodeCreatorField', 'NoCodeModifyDateField', 'NoCodeModifierField'];\nvar getSystemCategories = function getSystemCategories() {\n  var meta = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _meta$Controls = meta.Controls,\n    Controls = _meta$Controls === void 0 ? [] : _meta$Controls,\n    _meta$Categories = meta.Categories,\n    Categories = _meta$Categories === void 0 ? [] : _meta$Categories;\n  var systemCategories = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(Categories).call(Categories, function (category) {\n    var _category$Id;\n    return category === null || category === void 0 || (_category$Id = category.Id) === null || _category$Id === void 0 ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_8___default()(_category$Id).call(_category$Id, _constants__WEBPACK_IMPORTED_MODULE_13__.SYS_CATEGORY_PREFIX);\n  });\n  return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(systemCategories).call(systemCategories, function (category) {\n    var controls = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_7___default()(Controls).call(Controls, function (control) {\n      return (control === null || control === void 0 ? void 0 : control.CategoryId) === (category === null || category === void 0 ? void 0 : category.Id);\n    });\n    return _objectSpread(_objectSpread({}, category), {}, {\n      Controls: controls\n    });\n  });\n};\n\n// 控件\nvar ControlItem = function ControlItem(_ref) {\n  var prefixCls = _ref.prefixCls,\n    data = _ref.data;\n  var _useContext = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.DataFactoryContext),\n    createControlData = _useContext.dataFactory;\n  var _useContext2 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.GlobalConfigContext),\n    env = _useContext2.env,\n    keywordMapping = _useContext2.keywordMapping;\n  var _useContext3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useContext)(_context__WEBPACK_IMPORTED_MODULE_15__.DesignerContext),\n    getKdesignerApi = _useContext3.getKdesignerApi,\n    showMessage = _useContext3.showMessage;\n  var _getKdesignerApi = getKdesignerApi(),\n    dataContext = _getKdesignerApi.data,\n    selectionContext = _getKdesignerApi.selection,\n    metaApi = _getKdesignerApi.meta;\n  var name = data.Name,\n    type = data.Id;\n  var _useContext4 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useContext)(designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.GlobalConfigContext),\n    getOutlineItemIcon = _useContext4.getOutlineItemIcon;\n  var icon = getOutlineItemIcon(type);\n  var handleClick = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useCallback)(function () {\n    var _metaApi$getControlMe, _parent;\n    var rootId = dataContext.getRootId();\n    var activedSelectId = selectionContext.getActiveSelectedId();\n    var parent = dataContext.findControl(activedSelectId);\n    parent = dataContext.getContainerControl(parent);\n    var ret = metaApi.canAdd(type, parent[keywordMapping.type]);\n    var isAcceptChild = ret === true || (0,_babel_runtime_corejs3_helpers_typeof__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(ret) === 'object' && ret.success;\n    if (!isAcceptChild) {\n      (ret === null || ret === void 0 ? void 0 : ret.message) && showMessage(ret.message);\n      return false;\n    }\n    var parentIsContainer = (_metaApi$getControlMe = metaApi.getControlMeta((_parent = parent) === null || _parent === void 0 ? void 0 : _parent[keywordMapping.type])) === null || _metaApi$getControlMe === void 0 ? void 0 : _metaApi$getControlMe.IsContainer;\n    var newControl = createControlData({\n      type: type,\n      parentId: parentIsContainer ? parent[keywordMapping.id] : rootId\n    });\n    var index = parent[keywordMapping.id] === activedSelectId ? -1 : dataContext.findControlIndex(activedSelectId) + 1; // 如果选中的不是容器，即加在后面\n    dataContext.addControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createAddAction)(newControl, {\n      index: index\n    })).then(function (actions) {\n      if (actions !== null && actions !== void 0 && actions.length) {\n        var realControl = actions[0].value;\n        selectionContext.setSelect(Array.isArray(realControl) ? [realControl[0][keywordMapping.id]] : [realControl[keywordMapping.id]]);\n      }\n    });\n  }, [type]);\n  var onDragStart = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useCallback)(function (e) {\n    var dragData = {\n      type: 'control',\n      data: data\n    };\n    env[designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.CONTROL_DRAG_DATA] = dragData;\n  }, [data]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-control-item\"),\n    draggable: true,\n    onDragStart: onDragStart,\n    onClick: handleClick\n  }, icon, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-control-name\")\n  }, name));\n};\n\n// 控件分组\nvar CategroyGroup = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.forwardRef)(function (_ref2, ref) {\n  var data = _ref2.data,\n    prefixCls = _ref2.prefixCls,\n    titleSuffix = _ref2.titleSuffix,\n    _ref2$showSwitch = _ref2.showSwitch,\n    showSwitch = _ref2$showSwitch === void 0 ? true : _ref2$showSwitch,\n    onSwitchChange = _ref2.onSwitchChange;\n  var _useContext5 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useContext)(_context__WEBPACK_IMPORTED_MODULE_15__.DesignerContext),\n    setSystemSetting = _useContext5.setSystemSetting,\n    getSystemSetting = _useContext5.getSystemSetting,\n    getKdesignerApi = _useContext5.getKdesignerApi;\n  var kdesignerApi = getKdesignerApi();\n  var dataContext = kdesignerApi.data;\n  var name = data.Name,\n    controls = data.Controls,\n    Id = data.Id;\n  var _useState = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useState)(function () {\n      var _sysSetting$Id;\n      var sysSetting = getSystemSetting();\n      return (sysSetting === null || sysSetting === void 0 ? void 0 : sysSetting[Id]) || (sysSetting === null || sysSetting === void 0 || (_sysSetting$Id = sysSetting[Id]) === null || _sysSetting$Id === void 0 ? void 0 : _sysSetting$Id.value) || false;\n    }),\n    _useState2 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState, 2),\n    showControls = _useState2[0],\n    setShowControls = _useState2[1];\n  var handleSwitchChange = function handleSwitchChange() {\n    var newVal = !showControls;\n    var result = onSwitchChange(Id, newVal);\n    if (result === false) return;\n    var sysSetting = getSystemSetting();\n    var newSysSetting = _objectSpread(_objectSpread({}, sysSetting), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, Id, newVal));\n    setShowControls(newVal);\n    setSystemSetting(newSysSetting);\n  };\n  var setIsOpen = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useCallback)(function (newVal) {\n    var sysSetting = getSystemSetting();\n    var newSysSetting = _objectSpread(_objectSpread({}, sysSetting), {}, (0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, Id, newVal));\n    setShowControls(newVal);\n    setSystemSetting(newSysSetting);\n  }, [showControls, setShowControls, setSystemSetting]);\n  (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useImperativeHandle)(ref, function () {\n    return {\n      isOpen: showControls,\n      setIsOpen: setIsOpen\n    };\n  }, [showControls, setIsOpen]);\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-category-group\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-category-group-title\")\n  }, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(\"div\", {\n    className: \"group-name\"\n  }, name, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(\"div\", {\n    className: \"group-title-suffix\"\n  }, titleSuffix)), showSwitch && /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__.Switch, {\n    checked: showControls,\n    onClick: function onClick() {\n      return handleSwitchChange();\n    }\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-category-list\")\n  }, showControls && _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(controls).call(controls, function (control) {\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(ControlItem, {\n      key: control.Id,\n      prefixCls: prefixCls,\n      data: control\n    });\n  })));\n});\nvar SystemCategories = function SystemCategories(_ref3) {\n  var meta = _ref3.meta;\n  var _useContext6 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useContext)(_context__WEBPACK_IMPORTED_MODULE_15__.DesignerContext),\n    prefixCls = _useContext6.prefixCls,\n    getKdesignerApi = _useContext6.getKdesignerApi;\n  var kdesignerApi = getKdesignerApi();\n  var dataContext = kdesignerApi.data,\n    selectionContext = kdesignerApi.selection;\n  var _useState3 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useState)(function () {\n      return getSystemCategories(meta || []);\n    }),\n    _useState4 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState3, 2),\n    categories = _useState4[0],\n    setCategories = _useState4[1];\n  var _useState5 = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useState)(false),\n    _useState6 = (0,_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState5, 2),\n    modalVisible = _useState6[0],\n    setModalVisible = _useState6[1];\n  var billNoSettingRef = (0,kd_libs_react__WEBPACK_IMPORTED_MODULE_11__.useRef)(null);\n  var showBillnoSetting = function showBillnoSetting() {\n    setModalVisible(true);\n  };\n  var handleSwitchChange = function handleSwitchChange(groupId, val) {\n    if (groupId === BILL_NO_GROUP_KEY && val && modalVisible === false) {\n      setModalVisible(true);\n      return false;\n    }\n    if (groupId === BILL_NO_GROUP_KEY && !val) {\n      var _context;\n      var deleteIds = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(_context = dataContext.findControlByCondition(function (item) {\n        return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(SYS_BILL_NO_CONTROLS).call(SYS_BILL_NO_CONTROLS, item._Type_);\n      })).call(_context, function (item) {\n        return item.Id;\n      });\n      if (deleteIds.length) {\n        dataContext.deleteControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createDeleteAction)(deleteIds), false);\n      }\n    }\n    if (groupId === RECORD_INFO_GROUP_KEY && !val) {\n      var _context2;\n      var _deleteIds = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(_context2 = dataContext.findControlByCondition(function (item) {\n        return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_10___default()(SYS_RECORD_INFO_CONTROLS).call(SYS_RECORD_INFO_CONTROLS, item._Type_);\n      })).call(_context2, function (item) {\n        return item.Id;\n      });\n      if (_deleteIds.length) {\n        dataContext.deleteControl((0,designer_base_Main__WEBPACK_IMPORTED_MODULE_12__.createDeleteAction)(_deleteIds), false);\n      }\n    }\n  };\n  var handleBillNoSettingConfirm = function handleBillNoSettingConfirm() {\n    var _billNoSettingRef$cur = billNoSettingRef.current,\n      isOpen = _billNoSettingRef$cur.isOpen,\n      setIsOpen = _billNoSettingRef$cur.setIsOpen;\n    if (isOpen === false) {\n      setIsOpen(true);\n    }\n  };\n  return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement((kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().Fragment), null, /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-system-categories\")\n  }, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(categories).call(categories, function (group) {\n    var Id = group.Id;\n    if (Id === BILL_NO_GROUP_KEY) {\n      return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(CategroyGroup, {\n        ref: billNoSettingRef,\n        prefixCls: prefixCls,\n        key: Id,\n        data: group,\n        onSwitchChange: handleSwitchChange,\n        titleSuffix: /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(kd_libs_kdesign1__WEBPACK_IMPORTED_MODULE_14__.Icon, {\n          prefix: \"designericon\",\n          type: \"shezhi\",\n          onClick: showBillnoSetting\n        })\n      });\n    }\n    return /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(CategroyGroup, {\n      prefixCls: prefixCls,\n      key: Id,\n      data: group,\n      showSwitch: false,\n      onSwitchChange: handleSwitchChange\n    });\n  })), /*#__PURE__*/kd_libs_react__WEBPACK_IMPORTED_MODULE_11___default().createElement(_components_BillNoSettingModal__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    className: \"\".concat(prefixCls, \"-billno-setting\"),\n    visible: modalVisible,\n    setVisible: setModalVisible,\n    onConfirm: handleBillNoSettingConfirm\n  }));\n};\nSystemCategories.tabKey = 'CategorySystem';\nSystemCategories.tabName = '系统功能';\nSystemCategories.displayName = 'CategorySystem';\n/* harmony default export */ __webpack_exports__[\"default\"] = (SystemCategories);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzM2NC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFlQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFHQTtBQURBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUdBOztBQUVBO0FBQ0E7QUFNQTtBQUpBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFIQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFNQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUVBO0FBQ0E7QUFFQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL3ZpZXdzL1N5c3RlbUNhdGVnb3JpZXMudHN4PzYwZTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IEZDLCB1c2VTdGF0ZSwgZm9yd2FyZFJlZiwgdXNlSW1wZXJhdGl2ZUhhbmRsZSwgdXNlQ29udGV4dCwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBJUHJvcGVydHlWaWV3UHJvcCwgR2xvYmFsQ29uZmlnQ29udGV4dCwgSU1ldGEsIERhdGFGYWN0b3J5Q29udGV4dCwgQ09OVFJPTF9EUkFHX0RBVEEsIGNyZWF0ZUFkZEFjdGlvbiwgY3JlYXRlRGVsZXRlQWN0aW9uIH0gZnJvbSAnZGVzaWduZXJfYmFzZS9NYWluJ1xuaW1wb3J0IHsgU1lTX0NBVEVHT1JZX1BSRUZJWCB9IGZyb20gJy4uL2NvbnN0YW50cydcbmltcG9ydCB7IFN3aXRjaCwgSWNvbiB9IGZyb20gJ0BrZGNsb3VkanMva2Rlc2lnbidcbmltcG9ydCB7IERlc2lnbmVyQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQnXG5pbXBvcnQgQmlsbE5vU2V0dGluZ01vZGFsIGZyb20gJy4uL2NvbXBvbmVudHMvQmlsbE5vU2V0dGluZ01vZGFsJ1xuXG5pbnRlcmZhY2UgQ29udHJvbEl0ZW1Qcm9wcyB7XG4gIGRhdGE6IGFueTtcbiAgcHJlZml4Q2xzOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBDYXRlZ3JveUdyb3VwUHJvcHMge1xuICBkYXRhOiBhbnk7XG4gIHByZWZpeENsczogc3RyaW5nO1xuICB0aXRsZVN1ZmZpeD86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgc2hvd1N3aXRjaD86IGJvb2xlYW47XG4gIG9uU3dpdGNoQ2hhbmdlOiAoZ3JvdXBJZDogc3RyaW5nLCBuZXdWYWw6IGJvb2xlYW4pID0+IGJvb2xlYW4gfCB2b2lkO1xufVxuXG5jb25zdCBCSUxMX05PX0dST1VQX0tFWSA9ICdTeXN0ZW1fQ2F0ZWdvcnlCaWxsTm8nXG5jb25zdCBSRUNPUkRfSU5GT19HUk9VUF9LRVkgPSAnU3lzdGVtX0NhdGVnb3J5UmVjb3JkSW5mbydcblxuY29uc3QgU1lTX0JJTExfTk9fQ09OVFJPTFMgPSBbJ05vQ29kZUJpbGxOb0ZpZWxkJ11cbmNvbnN0IFNZU19SRUNPUkRfSU5GT19DT05UUk9MUyA9IFsnTm9Db2RlQ3JlYXRlRGF0ZUZpZWxkJywgJ05vQ29kZUNyZWF0b3JGaWVsZCcsICdOb0NvZGVNb2RpZnlEYXRlRmllbGQnLCAnTm9Db2RlTW9kaWZpZXJGaWVsZCddXG5cbmNvbnN0IGdldFN5c3RlbUNhdGVnb3JpZXMgPSAobWV0YSA6IElNZXRhID0ge30pID0+IHtcbiAgY29uc3QgeyBDb250cm9scyA9IFtdLCBDYXRlZ29yaWVzID0gW10gfSA9IG1ldGFcbiAgY29uc3Qgc3lzdGVtQ2F0ZWdvcmllcyA9IENhdGVnb3JpZXMuZmlsdGVyKChjYXRlZ29yeTogYW55KSA9PiBjYXRlZ29yeT8uSWQ/LnN0YXJ0c1dpdGgoU1lTX0NBVEVHT1JZX1BSRUZJWCkpXG4gIHJldHVybiBzeXN0ZW1DYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnk6IGFueSkgPT4ge1xuICAgIGNvbnN0IGNvbnRyb2xzID0gQ29udHJvbHMuZmlsdGVyKChjb250cm9sOiBhbnkpID0+IGNvbnRyb2w/LkNhdGVnb3J5SWQgPT09IGNhdGVnb3J5Py5JZClcbiAgICByZXR1cm4ge1xuICAgICAgLi4uY2F0ZWdvcnksXG4gICAgICBDb250cm9sczogY29udHJvbHNcbiAgICB9XG4gIH0pXG59XG5cbi8vIOaOp+S7tlxuY29uc3QgQ29udHJvbEl0ZW06IEZDPENvbnRyb2xJdGVtUHJvcHM+ID0gKHtcbiAgcHJlZml4Q2xzLFxuICBkYXRhXG59KSA9PiB7XG4gIGNvbnN0IHsgZGF0YUZhY3Rvcnk6IGNyZWF0ZUNvbnRyb2xEYXRhIH0gPSB1c2VDb250ZXh0KERhdGFGYWN0b3J5Q29udGV4dClcbiAgY29uc3QgeyBlbnYsIGtleXdvcmRNYXBwaW5nIH0gPSB1c2VDb250ZXh0KEdsb2JhbENvbmZpZ0NvbnRleHQpXG4gIGNvbnN0IHsgZ2V0S2Rlc2lnbmVyQXBpLCBzaG93TWVzc2FnZSB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IHsgZGF0YTogZGF0YUNvbnRleHQsIHNlbGVjdGlvbjogc2VsZWN0aW9uQ29udGV4dCwgbWV0YTogbWV0YUFwaSB9ID0gZ2V0S2Rlc2lnbmVyQXBpKClcbiAgY29uc3QgeyBOYW1lOiBuYW1lLCBJZDogdHlwZSB9ID0gZGF0YVxuICBjb25zdCB7IGdldE91dGxpbmVJdGVtSWNvbiB9ID0gdXNlQ29udGV4dChHbG9iYWxDb25maWdDb250ZXh0KVxuXG4gIGNvbnN0IGljb246IFJlYWN0LlJlYWN0RWxlbWVudCA9IGdldE91dGxpbmVJdGVtSWNvbih0eXBlKVxuXG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IHJvb3RJZCA9IGRhdGFDb250ZXh0LmdldFJvb3RJZCgpXG4gICAgY29uc3QgYWN0aXZlZFNlbGVjdElkID0gc2VsZWN0aW9uQ29udGV4dC5nZXRBY3RpdmVTZWxlY3RlZElkKClcbiAgICBsZXQgcGFyZW50ID0gZGF0YUNvbnRleHQuZmluZENvbnRyb2woKGFjdGl2ZWRTZWxlY3RJZCBhcyBzdHJpbmcpKVxuICAgIHBhcmVudCA9IGRhdGFDb250ZXh0LmdldENvbnRhaW5lckNvbnRyb2wocGFyZW50KVxuICAgIGNvbnN0IHJldCA9IG1ldGFBcGkuY2FuQWRkKFxuICAgICAgdHlwZSxcbiAgICAgIHBhcmVudFtrZXl3b3JkTWFwcGluZy50eXBlXVxuICAgIClcbiAgICBjb25zdCBpc0FjY2VwdENoaWxkID0gcmV0ID09PSB0cnVlIHx8ICh0eXBlb2YgcmV0ID09PSAnb2JqZWN0JyAmJiByZXQuc3VjY2VzcylcbiAgICBpZiAoIWlzQWNjZXB0Q2hpbGQpIHtcbiAgICAgIHJldD8ubWVzc2FnZSAmJiBzaG93TWVzc2FnZShyZXQubWVzc2FnZSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBjb25zdCBwYXJlbnRJc0NvbnRhaW5lciA9IG1ldGFBcGkuZ2V0Q29udHJvbE1ldGEoXG4gICAgICBwYXJlbnQ/LltrZXl3b3JkTWFwcGluZy50eXBlXVxuICAgICk/LklzQ29udGFpbmVyXG4gICAgbGV0IG5ld0NvbnRyb2wgPSBjcmVhdGVDb250cm9sRGF0YSh7XG4gICAgICB0eXBlLFxuICAgICAgcGFyZW50SWQ6IHBhcmVudElzQ29udGFpbmVyID8gcGFyZW50W2tleXdvcmRNYXBwaW5nLmlkXSA6IHJvb3RJZFxuICAgIH0pXG4gICAgY29uc3QgaW5kZXggPSBwYXJlbnRba2V5d29yZE1hcHBpbmcuaWRdID09PSBhY3RpdmVkU2VsZWN0SWQgPyAtMSA6IGRhdGFDb250ZXh0LmZpbmRDb250cm9sSW5kZXgoYWN0aXZlZFNlbGVjdElkKSArIDEgLy8g5aaC5p6c6YCJ5Lit55qE5LiN5piv5a655Zmo77yM5Y2z5Yqg5Zyo5ZCO6Z2iXG4gICAgZGF0YUNvbnRleHQuYWRkQ29udHJvbChjcmVhdGVBZGRBY3Rpb24obmV3Q29udHJvbCwge2luZGV4fSkpLnRoZW4oKGFjdGlvbnMpID0+IHtcbiAgICAgIGlmIChhY3Rpb25zPy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhbENvbnRyb2wgPSBhY3Rpb25zWzBdLnZhbHVlXG4gICAgICAgIHNlbGVjdGlvbkNvbnRleHQuc2V0U2VsZWN0KEFycmF5LmlzQXJyYXkocmVhbENvbnRyb2wpID8gW3JlYWxDb250cm9sWzBdW2tleXdvcmRNYXBwaW5nLmlkXV0gOiBbcmVhbENvbnRyb2xba2V5d29yZE1hcHBpbmcuaWRdXSlcbiAgICAgIH1cbiAgICB9KVxuICB9LCBbdHlwZV0pXG5cbiAgY29uc3Qgb25EcmFnU3RhcnQgPSB1c2VDYWxsYmFjaygoZSkgPT4ge1xuICAgIGNvbnN0IGRyYWdEYXRhID0ge1xuICAgICAgdHlwZTogJ2NvbnRyb2wnLFxuICAgICAgZGF0YVxuICAgIH1cbiAgICBlbnZbQ09OVFJPTF9EUkFHX0RBVEFdID0gZHJhZ0RhdGFcbiAgfSwgW2RhdGFdKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2Ake3ByZWZpeENsc30tY29udHJvbC1pdGVtYH0gZHJhZ2dhYmxlIG9uRHJhZ1N0YXJ0PXtvbkRyYWdTdGFydH0gb25DbGljaz17aGFuZGxlQ2xpY2t9PlxuICAgICAge2ljb259XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1jb250cm9sLW5hbWVgfT57bmFtZX08L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG4vLyDmjqfku7bliIbnu4RcbmNvbnN0IENhdGVncm95R3JvdXA6IEZDPENhdGVncm95R3JvdXBQcm9wcz4gPSBmb3J3YXJkUmVmKCh7XG4gIGRhdGEsXG4gIHByZWZpeENscyxcbiAgdGl0bGVTdWZmaXgsXG4gIHNob3dTd2l0Y2ggPSB0cnVlLFxuICBvblN3aXRjaENoYW5nZVxufSwgcmVmKSA9PiB7XG4gIGNvbnN0IHsgc2V0U3lzdGVtU2V0dGluZywgZ2V0U3lzdGVtU2V0dGluZywgZ2V0S2Rlc2lnbmVyQXBpIH0gPSB1c2VDb250ZXh0KERlc2lnbmVyQ29udGV4dClcbiAgY29uc3Qga2Rlc2lnbmVyQXBpID0gZ2V0S2Rlc2lnbmVyQXBpKClcbiAgY29uc3QgeyBkYXRhOiBkYXRhQ29udGV4dCB9ID0ga2Rlc2lnbmVyQXBpXG4gIGNvbnN0IHsgTmFtZTogbmFtZSwgQ29udHJvbHM6IGNvbnRyb2xzLCBJZCB9ID0gZGF0YVxuICBjb25zdCBbc2hvd0NvbnRyb2xzLCBzZXRTaG93Q29udHJvbHNdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgIGNvbnN0IHN5c1NldHRpbmcgPSBnZXRTeXN0ZW1TZXR0aW5nKClcbiAgICByZXR1cm4gc3lzU2V0dGluZz8uW0lkXSB8fCBzeXNTZXR0aW5nPy5bSWRdPy52YWx1ZSB8fCBmYWxzZVxuICB9KVxuXG4gIGNvbnN0IGhhbmRsZVN3aXRjaENoYW5nZSA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdWYWwgPSAhc2hvd0NvbnRyb2xzXG4gICAgY29uc3QgcmVzdWx0ID0gb25Td2l0Y2hDaGFuZ2UoSWQsIG5ld1ZhbClcbiAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkgcmV0dXJuXG4gICAgY29uc3Qgc3lzU2V0dGluZyA9IGdldFN5c3RlbVNldHRpbmcoKVxuICAgIGNvbnN0IG5ld1N5c1NldHRpbmcgPSB7IC4uLnN5c1NldHRpbmcsIFtJZF06IG5ld1ZhbCB9XG4gICAgc2V0U2hvd0NvbnRyb2xzKG5ld1ZhbClcbiAgICBzZXRTeXN0ZW1TZXR0aW5nKG5ld1N5c1NldHRpbmcpXG4gIH1cblxuICBjb25zdCBzZXRJc09wZW4gPSB1c2VDYWxsYmFjaygobmV3VmFsKSA9PiB7XG4gICAgY29uc3Qgc3lzU2V0dGluZyA9IGdldFN5c3RlbVNldHRpbmcoKVxuICAgIGNvbnN0IG5ld1N5c1NldHRpbmcgPSB7IC4uLnN5c1NldHRpbmcsIFtJZF06IG5ld1ZhbCB9XG4gICAgc2V0U2hvd0NvbnRyb2xzKG5ld1ZhbClcbiAgICBzZXRTeXN0ZW1TZXR0aW5nKG5ld1N5c1NldHRpbmcpXG4gIH0sIFtzaG93Q29udHJvbHMsIHNldFNob3dDb250cm9scywgc2V0U3lzdGVtU2V0dGluZ10pXG5cbiAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNPcGVuOiBzaG93Q29udHJvbHMsXG4gICAgICBzZXRJc09wZW46IHNldElzT3BlblxuICAgIH1cbiAgfSwgW3Nob3dDb250cm9scywgc2V0SXNPcGVuXSlcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWNhdGVnb3J5LWdyb3VwYH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1jYXRlZ29yeS1ncm91cC10aXRsZWB9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZ3JvdXAtbmFtZSc+XG4gICAgICAgICAge25hbWV9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyb3VwLXRpdGxlLXN1ZmZpeCc+e3RpdGxlU3VmZml4fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3Nob3dTd2l0Y2ggJiYgKFxuICAgICAgICAgIDxTd2l0Y2hcbiAgICAgICAgICAgIGNoZWNrZWQ9e3Nob3dDb250cm9sc31cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVN3aXRjaENoYW5nZSgpfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtwcmVmaXhDbHN9LWNhdGVnb3J5LWxpc3RgfT5cbiAgICAgICAge1xuICAgICAgICAgIHNob3dDb250cm9scyAmJiBjb250cm9scy5tYXAoKGNvbnRyb2w6IGFueSkgPT4gKFxuICAgICAgICAgICAgPENvbnRyb2xJdGVtXG4gICAgICAgICAgICAgIGtleT17Y29udHJvbC5JZH1cbiAgICAgICAgICAgICAgcHJlZml4Q2xzPXtwcmVmaXhDbHN9XG4gICAgICAgICAgICAgIGRhdGE9e2NvbnRyb2x9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkpXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59KVxuXG5jb25zdCBTeXN0ZW1DYXRlZ29yaWVzOkZDPElQcm9wZXJ0eVZpZXdQcm9wPiA9ICh7XG4gIG1ldGFcbn0pID0+IHtcbiAgY29uc3QgeyBwcmVmaXhDbHMsIGdldEtkZXNpZ25lckFwaSB9ID0gdXNlQ29udGV4dChEZXNpZ25lckNvbnRleHQpXG4gIGNvbnN0IGtkZXNpZ25lckFwaSA9IGdldEtkZXNpZ25lckFwaSgpXG4gIGNvbnN0IHsgZGF0YTogZGF0YUNvbnRleHQsIHNlbGVjdGlvbjogc2VsZWN0aW9uQ29udGV4dCB9ID0ga2Rlc2lnbmVyQXBpXG4gIGNvbnN0IFtjYXRlZ29yaWVzLCBzZXRDYXRlZ29yaWVzXSA9IHVzZVN0YXRlKCgpID0+IGdldFN5c3RlbUNhdGVnb3JpZXMobWV0YSB8fCBbXSkpXG4gIGNvbnN0IFttb2RhbFZpc2libGUsIHNldE1vZGFsVmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgYmlsbE5vU2V0dGluZ1JlZiA9IHVzZVJlZihudWxsKVxuXG4gIGNvbnN0IHNob3dCaWxsbm9TZXR0aW5nID0gKCkgPT4ge1xuICAgIHNldE1vZGFsVmlzaWJsZSh0cnVlKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlU3dpdGNoQ2hhbmdlID0gKGdyb3VwSWQ6IHN0cmluZywgdmFsOiBib29sZWFuKTogYm9vbGVhbiB8IHZvaWQgPT4ge1xuICAgIGlmIChncm91cElkID09PSBCSUxMX05PX0dST1VQX0tFWSAmJiB2YWwgJiYgbW9kYWxWaXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgc2V0TW9kYWxWaXNpYmxlKHRydWUpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKGdyb3VwSWQgPT09IEJJTExfTk9fR1JPVVBfS0VZICYmICF2YWwpIHtcbiAgICAgIGNvbnN0IGRlbGV0ZUlkcyA9IGRhdGFDb250ZXh0LmZpbmRDb250cm9sQnlDb25kaXRpb24oaXRlbSA9PiBTWVNfQklMTF9OT19DT05UUk9MUy5pbmNsdWRlcyhpdGVtLl9UeXBlXykpLm1hcChpdGVtID0+IGl0ZW0uSWQpXG4gICAgICBpZiAoZGVsZXRlSWRzLmxlbmd0aCkge1xuICAgICAgICBkYXRhQ29udGV4dC5kZWxldGVDb250cm9sKGNyZWF0ZURlbGV0ZUFjdGlvbihkZWxldGVJZHMpLCBmYWxzZSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGdyb3VwSWQgPT09IFJFQ09SRF9JTkZPX0dST1VQX0tFWSAmJiAhdmFsKSB7XG4gICAgICBjb25zdCBkZWxldGVJZHMgPSBkYXRhQ29udGV4dC5maW5kQ29udHJvbEJ5Q29uZGl0aW9uKGl0ZW0gPT4gU1lTX1JFQ09SRF9JTkZPX0NPTlRST0xTLmluY2x1ZGVzKGl0ZW0uX1R5cGVfKSkubWFwKGl0ZW0gPT4gaXRlbS5JZClcbiAgICAgIGlmIChkZWxldGVJZHMubGVuZ3RoKSB7XG4gICAgICAgIGRhdGFDb250ZXh0LmRlbGV0ZUNvbnRyb2woY3JlYXRlRGVsZXRlQWN0aW9uKGRlbGV0ZUlkcyksIGZhbHNlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUJpbGxOb1NldHRpbmdDb25maXJtID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgaXNPcGVuLCBzZXRJc09wZW4gfSA9IGJpbGxOb1NldHRpbmdSZWYuY3VycmVudFxuICAgIGlmIChpc09wZW4gPT09IGZhbHNlKSB7XG4gICAgICBzZXRJc09wZW4odHJ1ZSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1zeXN0ZW0tY2F0ZWdvcmllc2B9PlxuICAgICAgICB7Y2F0ZWdvcmllcy5tYXAoZ3JvdXAgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgSWQgfSA9IGdyb3VwXG4gICAgICAgICAgaWYgKElkID09PSBCSUxMX05PX0dST1VQX0tFWSkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPENhdGVncm95R3JvdXBcbiAgICAgICAgICAgICAgICByZWY9e2JpbGxOb1NldHRpbmdSZWZ9XG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzPXtwcmVmaXhDbHN9XG4gICAgICAgICAgICAgICAga2V5PXtJZH1cbiAgICAgICAgICAgICAgICBkYXRhPXtncm91cH1cbiAgICAgICAgICAgICAgICBvblN3aXRjaENoYW5nZT17aGFuZGxlU3dpdGNoQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHRpdGxlU3VmZml4PXs8SWNvbiBwcmVmaXg9J2Rlc2lnbmVyaWNvbicgdHlwZT0nc2hlemhpJyBvbkNsaWNrPXtzaG93QmlsbG5vU2V0dGluZ30gLz59XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8Q2F0ZWdyb3lHcm91cFxuICAgICAgICAgICAgICBwcmVmaXhDbHM9e3ByZWZpeENsc31cbiAgICAgICAgICAgICAga2V5PXtJZH1cbiAgICAgICAgICAgICAgZGF0YT17Z3JvdXB9XG4gICAgICAgICAgICAgIHNob3dTd2l0Y2g9e2ZhbHNlfVxuICAgICAgICAgICAgICBvblN3aXRjaENoYW5nZT17aGFuZGxlU3dpdGNoQ2hhbmdlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApXG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgICA8QmlsbE5vU2V0dGluZ01vZGFsXG4gICAgICAgIGNsYXNzTmFtZT17YCR7cHJlZml4Q2xzfS1iaWxsbm8tc2V0dGluZ2B9XG4gICAgICAgIHZpc2libGU9e21vZGFsVmlzaWJsZX1cbiAgICAgICAgc2V0VmlzaWJsZT17c2V0TW9kYWxWaXNpYmxlfVxuICAgICAgICBvbkNvbmZpcm09e2hhbmRsZUJpbGxOb1NldHRpbmdDb25maXJtfVxuICAgICAgLz5cbiAgICA8Lz5cbiAgKVxufVxuXG5TeXN0ZW1DYXRlZ29yaWVzLnRhYktleSA9ICdDYXRlZ29yeVN5c3RlbSdcblN5c3RlbUNhdGVnb3JpZXMudGFiTmFtZSA9ICfns7vnu5/lip/og70nXG5cblN5c3RlbUNhdGVnb3JpZXMuZGlzcGxheU5hbWUgPSAnQ2F0ZWdvcnlTeXN0ZW0nXG5cbmV4cG9ydCBkZWZhdWx0IFN5c3RlbUNhdGVnb3JpZXNcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3364\n");

/***/ }),

/***/ 25240:
/*!******************************!*\
  !*** ./src/style/index.less ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUyNDAuanMiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vc3JjL3N0eWxlL2luZGV4Lmxlc3M/YWQwNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///25240\n");

/***/ }),

/***/ 16780:
/*!**********************************************!*\
  !*** ./assets/images/control-view-empty.png ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOAAAACACAMAAAAlB5WJAAAAjVBMVEUAAADh4uvY3+rZ3erb3enY3+rX3ufZ3e3X3OfZ3Ord3uTX3efY3urX4uvX3efW3OjZ4Onb4Ovj6fPj6fPX3ejn7/bk6PPi5/Tj6fTj6fPj6fTk6fXj6PTi6PTi6PTj5/Ti6fPj6fTk6PTj6fPh5fLj6fPj6vPi6PPk6fXL0NzX3Oji6PPi6PPK0NvX3ehGj5HoAAAALHRSTlMAGhcSJSwiCTIOBj4oDDlENUbD7UoreU7ixq6gh1vMPd3SkfFmgG2ZZvD3u03m2McAAAUISURBVHja7NgLjpswFAVQvxlCKoiSgMdg/oSQTKTe/a+vlaoKw5BOAFV6RpwdWLbv+4jNZrPZbDb/hYqjLLxoCUh9CbMoVmI91D2V+EKm91Uc0rnVeKq+OcJuRYJvJIWwlveo8YL64QkrFRov0jbeogoxQWhb3ng5JsqteqdOiclKiwI1lphBxsISEWaKhBUazNYI/rwUo2Sat8F557q7c9DmqcSolH/UpBhRRhUNVFGJEalgrsEX16aiUVVzte6VRhiS+YGeOuTSrqSJMZQp+ieVYYhxtXAk+nRM34o1+iTbiu+V6EsUvUAl6Cu5RmmOvsyll7gZ+nLBkkJfRC+L0MdztgjRU9AEBXpCwVAxcn+z75DhBOxpmDKaKINJ88uZB0yJSxO5CUwPwU0Ng1Y0mdIw1IKZAqaYZohZ/8Jk5AMu+oaJYMWBQSqaRUkYeDVsNxhymimH4SY4MSPmeqCZDleuMaNgaGi2hmu/doehotkqGO6CjxSdkhYoma5n5PMmdH5LKgUbatELNVU8P2GMjqRFJMvlTIROSoukLPdr2ViVX17rM8FFiE5Li7Qs5/oLOgEtEqBzEVxodM60yBkdLbiQ6OxokR3LQgiDS4u4MAguVn/AdT/R/fvbekPm3Tl+/KZXWibI//jjsspC/+YHf/1cY6u2Czqf62u298eToTemumsYl/b+yVTA0Dr2D7z7o99zuqLz+eFav7L44Q+EZrjHJ9uXTq4/1MDQxke714a/2rn73kZBOIDjPx5EFLWP197tMb3dXdOO7v2/vMOwNLhpCxQWR/xgNPOvfdPELRWoRSPU0TTvV+VRGu62W/qtv/itms/M/2VetmsR7av7HLOK84qhHGLJ5z320nC/XtMoL18KKtZnoiogCsZNcz5XB9/K7kfYRHh9VvD1B5xABCqqM7SdNNwtZsFfgJbZokdWQmg177WRpn8zGvgVdiFmvQSBYPKiyAFw1ov/7E7C42EnIWAxG4IhCMJ0CK2yfn+l6UkEnUaCZmImhDp16HtBCkmVXcNX0nQXciIQERcRuBWqLGyiTeXKG3FZHrtPe4o1GS8TlzUZ3ARTO9tI0ylJcxWGG+TU1j7OhNisuYrDDRCzRXcxpjSTuQUC3nLGkO14fokwKZ1yCxV4IwgxpOjzleufCMsKuBXwhhHSn49xGfwZPdy+MOTIwUS4FeIfiDHCSB3nqzZw//7WpT1vp0OnEGVWUEna34KU7oGOvBZnmX2nbiHL3LA6ciDyWl5n9rWFz6+r3QZaNHPFwAlxtpdedJ92lK1l3QZWzmgeN5A8SE/Hk/Ym5bmQ+ihdAgvnQR49Fynzg9mnC6kPBvYKHz88l5nzg+4zCinzGQSs1V7Ib+lIbxSgClWfWZgxL2At9+S51QM/yq6niiGPkUcP9Nys41lqZiFSGHI7Y7BVevLcbuVVfvKLIifhAqEEUKdevhvmrGRfIXYHXuJvebSTg4UIu5zBS/xNqzb9HzPDCsFE0ResxxnB7T3jCn7ibzu2HCg8R+lIQ/8dGKt6oBCRy75N4HBhYSLqUEPruw/jNVxobdyBg4W4dgBjNlC4xLk9GLWhQpJK4HBhaWl8y9QtC0f8+A9UOOrHY5DCcT8fp0KLwj0kY6AQQzL6CxeQjt7CChLyXjjiXS6CF64ySMuHwtUcUlMv0+5rC9PuawvT7msL0+5Thfv270Nqz88OvEjq7/tkMplMJl/uP6GQwUEv7e1KAAAAAElFTkSuQmCC\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY3ODAuanMiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vYXNzZXRzL2ltYWdlcy9jb250cm9sLXZpZXctZW1wdHkucG5nPzBiY2IiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQU9BQUFBQ0FDQU1BQUFBbEI1V0pBQUFBalZCTVZFVUFBQURoNHV2WTMrclozZXJiM2VuWTMrclgzdWZaM2UzWDNPZlozT3JkM3VUWDNlZlkzdXJYNHV2WDNlZlczT2paNE9uYjRPdmo2ZlBqNmZQWDNlam43L2JrNlBQaTUvVGo2ZlRqNmZQajZmVGs2ZlhqNlBUaTZQVGk2UFRqNS9UaTZmUGo2ZlRrNlBUajZmUGg1ZkxqNmZQajZ2UGk2UFBrNmZYTDBOelgzT2ppNlBQaTZQUEswTnZYM2VoR2o1SG9BQUFBTEhSU1RsTUFHaGNTSlN3aUNUSU9CajRvRERsRU5VYkQ3VW9yZVU3aXhxNmdoMXZNUGQzU2tmRm1nRzJaWnZEM3UwM20yTWNBQUFVSVNVUkJWSGphN05nTGpwc3dGQVZRdnhsQ0tvaVNnTWRnL29TUVRLVGUvYSt2bGFvS3c1Qk9BRlY2UnB3ZFdMYnYrNGpOWnJQWmJEYi9oWXFqTEx4b0NVaDlDYk1vVm1JOTFEMlYrRUttOTFVYzByblZlS3ErT2NKdVJZSnZKSVd3bHZlbzhZTDY0UWtyRlJvdjBqYmVvZ294UVdoYjNuZzVKc3F0ZXFkT2ljbEtpd0kxbHBoQnhzSVNFV2FLaEJVYXpOWUkvcndVbzJTYXQ4RjU1N3E3YzlEbXFjU29sSC9VcEJoUlJoVU5WRkdKRWFsZ3JzRVgxNmFpVVZWenRlNlZSaGlTK1lHZU91VFNycVNKTVpRcCtpZVZZWWh4dFhBaytuUk0zNG8xK2lUYml1K1Y2RXNVdlVBbDZDdTVSbW1PdnN5bGw3Z1orbkxCa2tKZlJDK0wwTWR6dGdqUlU5QUVCWHBDd1ZBeGNuK3o3NURoQk94cG1ES2FLSU5KODh1WkIweUpTeE81Q1V3UHdVME5nMVkwbWRJdzFJS1pBcWFZWm9oWi84Sms1QU11K29hSllNV0JRU3FhUlVrWWVEVnNOeGh5bWltSDRTWTRNU1BtZXFDWkRsZXVNYU5nYUdpMmhtdS9kb2Vob3RrcUdPNkNqeFNka2hZb21hNW41UE1tZEg1TEtnVWJhdEVMTlZVOFAyR01qcVJGSk12bFRJUk9Tb3VrTFBkcjJWaVZYMTdyTThGRmlFNUxpN1FzNS9vTE9nRXRFcUJ6RVZ4b2RNNjB5QmtkTGJpUTZPeG9rUjNMUWdpRFM0dTRNQWd1Vm4vQWRUL1IvZnZiZWtQbTNUbCsvS1pYV2liSS8vampzc3BDLytZSGYvMWNZNnUyQ3pxZjYydTI5OGVUb1RlbXVtc1lsL2IreVZUQTBEcjJEN3o3bzk5enVxTHorZUZhdjdMNDRRK0VacmpISjl1WFRxNC8xTURReGtlNzE0YS8ycm43M2taQk9JRGpQeDVFRkxXUDE5N3RNYjNkWGRPTzd2Mi92TU93TkxocEN4UVdSL3hnTlBPdmZkUEVMUldvUlNQVTBUVHZWK1ZSR3U2MlcvcXR2L2l0bXMvTS8yVmV0bXNSN2F2N0hMT0s4NHFoSEdMSjV6MzIwbkMvWHRNb0wxOEtLdFpub2lvZ0NzWk5jejVYQjkvSzdrZllSSGg5VnZEMUI1eEFCQ3FxTTdTZE5Od3Rac0ZmZ0piWm9rZFdRbWcxNzdXUnBuOHpHdmdWZGlGbXZRU0JZUEtpeUFGdzFvdi83RTdDNDJFbklXQXhHNEloQ01KMENLMnlmbitsNlVrRW5VYUNabUltaERwMTZIdEJDa21WWGNOWDBuUVhjaUlRRVJjUnVCV3FMR3lpVGVYS0czRlpIcnRQZTRvMUdTOFRselVaM0FSVE85dEkweWxKY3hXR0crVFUxajdPaE5pc3VZckREUkN6UlhjeHBqU1R1UVVDM25MR2tPMTRmb2t3S1oxeUN4VjRJd2d4cE9qemxldWZDTXNLdUJYd2hoSFNuNDl4R2Z3WlBkeStNT1RJd1VTNEZlSWZpREhDU0IzbnF6WncvLzdXcFQxdnAwT25FR1ZXVUVuYTM0S1U3b0dPdkJabm1YMm5iaUhMM0xBNmNpRHlXbDVuOXJXRno2K3IzUVphTkhQRndBbHh0cGRlZEo5MmxLMWwzUVpXem1nZU41QThTRS9Iay9ZbTVibVEraWhkQWd2blFSNDlGeW56ZzltbkM2a1BCdllLSHo4OGw1bnpnKzR6Q2luekdRU3MxVjdJYitsSWJ4U2dDbFdmV1pneEwyQXQ5K1M1MVFNL3lxNm5paUdQa1VjUDlOeXM0MWxxWmlGU0dISTdZN0JWZXZMY2J1VlZmdktMSWlmaEFxRUVVS2Rldmh2bXJHUmZJWFlIWHVKdmViU1RnNFVJdTV6QlMveE5xemI5SHpQRENzRkUwUmVzeHhuQjdUM2pDbjdpYnp1MkhDZzhSK2xJUS84ZEdLdDZvQkNSeTc1TjRIQmhZU0xxVUVQcnV3L2pOVnhvYmR5Qmc0VzRkZ0JqTmxDNHhMazlHTFdoUXBKSzRIQmhhV2w4eTlRdEMwZjgrQTlVT09ySFk1RENjVDhmcDBLTHdqMGtZNkFRUXpMNkN4ZVFqdDdDQ2hMeVhqamlYUzZDRjY0eVNNdUh3dFVjVWxNdjArNXJDOVB1YXd2VDdtc0wwKzVUaGZ2MjcwTnF6ODhPdkVqcTcvdGtNcGxNSmwvdVA2R1F3VUV2N2UxS0FBQUFBRWxGVGtTdVFtQ0NcIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16780\n");

/***/ }),

/***/ 59631:
/*!******************************************!*\
  !*** ./assets/images/designer-empty.png ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"images/34cd7b92da1639c0f67b4f2cb967347a.png\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTk2MzEuanMiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vYXNzZXRzL2ltYWdlcy9kZXNpZ25lci1lbXB0eS5wbmc/NjhiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzLzM0Y2Q3YjkyZGExNjM5YzBmNjdiNGYyY2I5NjczNDdhLnBuZ1wiOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///59631\n");

/***/ }),

/***/ 75928:
/*!*********************************!*\
  !*** ./assets/images/empty.png ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcAAAAEACAMAAAATE1b1AAACQ1BMVEUAAADb3eja4uzZ3ejY3efg5OfY3enW3una3unV4unY3+nb5O3X3enY3ejb3ufX3ejX4ebN2OTW2+fX3OfY3OnX2+jY3enX3ejX3OfX3enW3ObV3efX3ejV3OXW3ePY3unX3OfX3OZloPrY3efX3ejW3u8AHWDd5O80Rm76zMJCU3kSKWItP2s8TXTr1tQnOmmLl7ItQGktQGktcvQoOmf8z8XY3en20sobMGYjOGk9e/MuQGm01v//zsIsP2jj6vXx1M8mN2r9z8JDU3r40cjz1M8mO2knWLkscvYCHV8zd/b7zsQsP2l3nOzW3OjW3Oe11v8DHl/d4+4zd/UAHF4MJGD/wrVQfuO01v8AHF612P+DneYncPf/v7Iscfri6PNriOJGT3fpraN4jt5TY4UocPdseZiDtvx3luS01/+MlbEocPbi6POz1f/W3Ocnb/UsPmiFuP/K0Nv/zcAAHF7Y5PWq0P+XxP97rPy92fzV2uXe5O+hyf+y0/3O1OD/s6tlc5OOvv+Wwf2z0PkrRHgjMVP21M6ZufNXlv0wdPVda43Q1+JAUHjv2tr+yL0/gvjY3+ojZeD80MV8iaVYZ4omNlrk5vBnnvro4uc0Rm3+wrdtephSYYQpOmKss8vE0fEnbO7m5OvFzd4hXs9LW39Ni/e0vNSircXrtrb/ubCVhZrS3vRkkOzr4OO7xNWbpbyHrfR2ovRWfuaLo+KpmsvcssCSnbbdrKq5maF3bIliXYAXLGeuwu+Di9bLts52htdyg6mPG3iNAAAAbHRSTlMAEgsaJgYiGB0PKwQhLxYpDgkfLTQVOD89SEMzRTclOzoyW0FLH4b9d/SRTMmFUTT88d3Ss7CSjSkS/vzz256SbR/HnIBcQAnu47Oei4nz1cm/vZ6AaVby4NBpX1A5IdXJtbKhhHdsaDSrUjldQMwIAAAMu0lEQVR42uzZQY3EMAxAUV96KZEwKIxWGhyRCQyJQt5dqVpNh4Hd9yh8WYmTAAAAAAAAAAAAAAAAAAAAAACAb+t27NnMfmxrPMOyZVPbEg+wvLKt1xMKtp2/P1u0t2Zr/c/B1gP4hBE8srUjumu3P9zt0V02co75a5z5IbrLPsa8DAEres9/77wIWMeYH4aA1Zzz5joHBSxjzJshYDHzi4DFCFicgMUJWJxLTHHWiOos8tV5SqvOY3Z1vpMaiu6yuegum4vusrno7oddu3tRIgrjOP5U9mZFQZRuSQXbTXRRN90sdFFERdFVVEQv9ELQxdOe9MzCprRzUahDOZIXJl5UtlTrtkGv9LK9/WnNzKozo44Fe5DOrz74Mnouv5zjOeo4OEI3Do7QjYMjdOPgCB2DI3QMjtAxOELH4AgdgyN0DI7QMThCx+AIHYMjdAyO0DE4QsfgCB2DI3QMjtAxOELH4AgdgyN0DI7QMThCx6ievnj0Yu/PvXsIHGN6et9oOXuYoDGk3F3Dd4qQMaLarBG0m4Axnmpe3jeCzhIwhlOrSDlvhBwgXIzG7Wcbxj+zhjKYV04/OeNE+3L/f0ANlaTro2HM75KfjTbkwyAjaeSlyzYNY9Z57uxFjxAuBlKSC+rmzc/S9Wn+/y5UH9W8bMnv+jwjPfan2dmPXy4TMEbh7l48lQaXPtrS9+UKAWMMgelXZea6DPh0moAxhFol1I8bMgB6AmIELMm2Ei/Iy46DBI3118j7/XqTSugFFCFgoNUrbqvKtv2EjTUXmH6VGvs6b18gbKy3kvT7NUIDtvQcJ3Css5r05avhsqZ7lLCb4J+AgwPmslOZzFQ2p2Zcvar0VWockjdNs9k0TegVdMParSmOls20ZJWMq5eXHfW6fDdXeBwM6EIOuDo2utPBke5lOu6pHVcfsG5L+VYIYc29+/qSHS8LM6br+QmCtGatU88zaP75sirH1Qe03YaWaBmbm3szmU5/MM2ZQjp98tr5iwRmaTw10sYRcpmQnNpx9XsY+UEEFdPp9He336RwHD128hzBWB4fCYiegCFZtePqDxH2exFkpZ12D52HZ515ibKYrkiN/EnAqUzIlNLxiUUJ/QhRkQua34TrgWh5mC4Wi88mJ4XvKgFYkhwJ4wiZLurGJ27dWJTbdzio+sqNaJtvwwGtslUslq2y8I0tJd2tWZ/qNvSAEzcW6Xb6DneplWzTCgT0uAFFiPaL6NJkqsfQl9Bbiw/oF/Q9Fq4nkQHdvpdIbyu3pHoNfRNzQ0HAPgULCxNw4Aw8Q1qLpfoZ9jFiQknA3oKFMS/gtPCVy5YIGSOdxbf0NayDvOKAvQX58euymJ4WUZ44902kr3Vb+hvSV2mKA/oFww3fnRkYUOPTvN+vy3C+zFYbMLogvxRRHmh9EoyPRhnKz0nKA0YXjA6o8zZ0W8Ixmhj1OBcBPATqA0YXtCIDarwNXZUIQwnYr2A56iPQ3d5YpKXVCdSAfQo+GxRQXCcNLd+c9CSSCefmPTu8awf/xt8dsLfgw6gVdPrtt/cftPyHzMZkFICAPQXfiP5+mM26lIdIPyuT0AG7C74W/b23pWMfaWf55u0D8W/89QG7ChZEf4/af9PesGxFLL4uHluxcgPpIOZl2rF9h8e5aL/2rncABAwX/NXOff0qDcUBHP9RNsLFgTiuuPeece+9Emdi1GhM3P4UTN0rzjgTTdQY44xxvKlPPhn/Ng8t0IJtT738xB74fW5Dlz59Q8s55d6fRWe/dMOg0XbDsoGfXEsOl0AJBQLWFXxXdDZBNywb3WBIJtiPeVN5CZRQIaAoKJ1L001zB/2pOwmBlcx3REB7waKjdbppziAnuRAEVCpfKOQL+ToF41h1jd4UCWgruKDoZJZumjDIWRYCqXdB5v8FvHrO7m8C3nRy0XsqZoNeMcjFsEDeCmOFXEEsuVxlbag79v8CXjltc+Nks2oBX0gCDnGTgMDplZNDCeUCOk/FbF6sm6YOdhW8y2i8EwN+dw44VzctG+wuAgGT6pZDCeUCOk/F7Jmqm1aN8hCwgtHuTgx4q+hkyIAJlYHgAC8xCJKuET6ghHIB3zkOAwcMWKEbNg7wFIYAiWV8QAnlAp51HAYOHDi3MpIf6GlYHwiOTEcGxPfOAZfphhUDvWUgMLTODPj5toPJw4YN1g2Lh0kk4L/RQl3xcDgeD2lQFupXL9MvkxEvDVBCuYAPSk4ODx9ujgQnDJfIa/A/JMMRM5AZKhbXIGHsN8Zr94BPFpacHMjn5+iGgXmJCLScFk79WSb157FOCPi55GhmPr9KN0y15vMF+3Z1PwqtpaVTTUAJ1QJ+KTkrFCpD+dUFmb7QSr0SqZSSAUlZAaeXnB3P5cyh/LKcTHcvaJ1kNsUB7QGflpwdzuXMofzcnFQcWiaebRZKqBbwVcnZwe7ujeZUTLdUFlolkeWADQGvuwUcMcIcys8ZIReFlojGIjLZSFYsXsdQQrWAD0rOJmYyo8ypmIxcCFoiFmlCuwZ8XXK2UnQxhvKLM3IJaIVEhAP+XUBjKD8hIxeBPl3pSLZfKhJLhOAf6YpwQIeAz9wCikkL84FErp9c1r6T/icNk0OrIkMjYjHWgve2/d+b0C/6b6WR8B1QDJlW62WDUn9tqAbUojEi6Bf9TAyJvwmYMadiUp6yqaxYUg36ArEwB5QHXGgPmBXMgWC2J4ZGgZIW44DygC/twwhxExloPlCK9IxG/QZMx9IGsSGW+rUgVm7naucFlFA54KNS6Y094FTdMDXSI5TvQS1Not0Dfiw9v+MQcFmkZ9JAJs4Bq7xmYl7fufO8FlB84q4EnDvUTWxorEysHPfDQGVM3zF9/yAOisVaN5wTnM6jhMoBH9gDig6r9VWrywFjPaUBjd61MIm+CbH42xYvgrFdk2jrgK8aAk7VB8ZW6PqqWE+FgUZXgg76Qx/w3HkSXgGf3rljfYgRt4sRc9LpVWIgmO4xDUgk2iEgEa+AP+wB+5pGiWFE3x6LA4Vo2FMinBBL2CeUUDngW3vA6h1kzjLrjmJpPOZ2DihoIpL7jxVS/tPeAV9+tQWckiCh0XwH1Ad+B5YeXbtzp1QLGCYRAgKhcFPaO+B12zj+SVADxgmhhMIBn+Fz8oBdHFASgjDgdXxpCxinwQElIQgDPsVHz4MZsOsP8a64WBz2pZAO/UC+2YCvbQG7aNAEbE4wAvqYSrvRXMAfeN0WsD8NkoD9CaGEwgG/4Ssr4PgQDSCQDNXpH+ovFqd992MWlFA44Ft8qkTAv9YpAb/idA6ICgf8gN/eWAGTNIBAbw7oK+AlfPsXAXsne4vFbZsD/oeAiJ9tAXvTIAmYJIQS6gZ8ifihZAXUaAABrS0CXj0n11TAR4gPAxqw8QJtrk3WfuPaOmf//+iDmlNprxEvBzYgHZRQLaD1K9YPEPGlFbAPDZKAlFBC3YCvEPGRFTBKAwj04YB+LqFPEfEjB0SlAz6zAvbyIdorGhUvXvgSKglBF3C6sWcFpAEE+pi0PppYnLcFsbKOOzDPtV3AB9bDiLo74ngIjmgfQiijbMAvdX+3aQoER5QSyigW0Lrrva0LuAmCgwP6CvgZEadzQNUCvrY9DkT8EciAvTign4AfEPFbMANSQhnFAlpD94d1f/51CQQHB/QV8Akivg1kQFIooVpAa/YTha8cEFUN+BKFDxwQVQ34CIVrHFCVgCcbA35E4VSpaja0qXHoTdmAr7Gs/QPuR2+qBXxpPZA3dts+4FL0pmzA61g2o+0D9kMZtQIutH2jQpjZ9gH9vAVVClj3QB6XTq7uToZ2Fd2GXpQOuC3aAQEhuhTdqRbwsv0bFUujMLsDAgL0W7p/HP5jd6suNOO8LOA4K+DSfgCwpCMCtkKRxAXXfovAML9UNQmAA6ofcFN1dyYwtQKugbLxHFCtgMtLVdM4IKl1RQov/AdcDmU7OSCRWf844K7GgPOhbFJ1dwawpmwoUrjnGnALGOaVqtZC2RoOSORQkcL9q24BdzcEXAiGaRyQyL4iCddfm9ecg83jgMG6Cd7zvoJaAWc23BMXAmvOiSIJl8m0iEtAa1wIrEnbixQ+Od4Fj0HFmsapMw5IZu2/G0nsglrAGQ0PcBdWrqB8D2zevn9VcJcGNcvXnxG2TpsHpmlrzAPAmreWaDB41fEDjGnrGcMkqBprHhgLjMBekjfhggv2ObTdYLPjjGk2VK0/U03KSBJup5gVffzi5lWj3pbdYDfvTMX6P4+sBUZj7dGRFI4c6Y5Cg61nquaBaafY5ouoKiadqZlk3QKr5gMLuPk7xlbsqNaaVzu0ExhjjDHGGGOMMcYYY4wxxhhjjDHGGGN/7zcWyc9ypV5uJAAAAABJRU5ErkJggg==\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzU5MjguanMiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vYXNzZXRzL2ltYWdlcy9lbXB0eS5wbmc/NzQ5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBY0FBQUFFQUNBTUFBQUFURTFiMUFBQUNRMUJNVkVVQUFBRGIzZWphNHV6WjNlalkzZWZnNU9mWTNlblczdW5hM3VuVjR1blkzK25iNU8zWDNlblkzZWpiM3VmWDNlalg0ZWJOMk9UVzIrZlgzT2ZZM09uWDIralkzZW5YM2VqWDNPZlgzZW5XM09iVjNlZlgzZWpWM09YVzNlUFkzdW5YM09mWDNPWmxvUHJZM2VmWDNlalczdThBSFdEZDVPODBSbTc2ek1KQ1Uza1NLV0l0UDJzOFRYVHIxdFFuT21tTGw3SXRRR2t0UUdrdGN2UW9PbWY4ejhYWTNlbjIwc29iTUdZak9HazllL011UUdtMDF2Ly96c0lzUDJqajZ2WHgxTThtTjJyOXo4SkRVM3I0MGNqejFNOG1PMmtuV0xrc2N2WUNIVjh6ZC9iN3pzUXNQMmwzbk96VzNPalczT2UxMXY4REhsL2Q0KzR6ZC9VQUhGNE1KR0Qvd3JWUWZ1TzAxdjhBSEY2MTJQK0RuZVluY1BmL3Y3SXNjZnJpNlBOcmlPSkdUM2ZwcmFONGp0NVRZNFVvY1Bkc2VaaUR0dngzbHVTMDEvK01sYkVvY1BiaTZQT3oxZi9XM09jbmIvVXNQbWlGdVAvSzBOdi96Y0FBSEY3WTVQV3EwUCtYeFA5N3JQeTkyZnpWMnVYZTVPK2h5Zit5MC8zTzFPRC9zNnRsYzVPT3Z2K1d3ZjJ6MFBrclJIZ2pNVlAyMU02WnVmTlhsdjB3ZFBWZGE0M1ExK0pBVUhqdjJ0cit5TDAvZ3ZqWTMrb2paZUQ4ME1WOGlhVllaNG9tTmxyazV2Qm5udnJvNHVjMFJtMyt3cmR0ZXBoU1lZUXBPbUtzczh2RTBmRW5iTzdtNU92RnpkNGhYczlMVzM5TmkvZTB2TlNpcmNYcnRyYi91YkNWaFpyUzN2UmtrT3pyNE9PN3hOV2JwYnlIcmZSMm92UldmdWFMbytLcG1zdmNzc0NTbmJiZHJLcTVtYUYzYklsaVhZQVhMR2V1d3UrRGk5Ykx0czUyaHRkeWc2bVBHM2lOQUFBQWJIUlNUbE1BRWdzYUpnWWlHQjBQS3dRaEx4WXBEZ2tmTFRRVk9EODlTRU16UlRjbE96b3lXMEZMSDRiOWQvU1JUTW1GVVRUODhkM1NzN0NTalNrUy92enoyNTZTYlIvSG5JQmNRQW51NDdPZWk0bnoxY20vdlo2QWFWYnk0TkJwWDFBNUlkWEp0YktoaEhkc2FEU3JVamxkUU13SUFBQU11MGxFUVZSNDJ1elpRWTNFTUF4QVVWOTZLWkV3S0l4V0doeVJDUXlKUXQ1ZHFWcE5oNEhkOXloOFdZbVRBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQ0FiK3QyN05uTWZteHJQTU95WlZQYkVnK3d2TEt0MXhNS3RwMi9QMXUwdDJaci9jL0IxZ1A0aEJFOHNyVWp1bXUzUDl6dDBWMDJjbzc1YTV6NUlickxQc2E4REFFcmVzOS83N3dJV01lWUg0YUExWnp6NWpvSEJTeGp6SnNoWURIemk0REZDRmljZ01VSldKeExUSEhXaU9vczh0VjVTcXZPWTNaMXZwTWFpdTZ5dWVndW00dnVzcm5vN29kZHUzdFJJZ3JqT1A1VTltWkZRWlJ1U1FYYlRYUlJOOTBzZEZGRVJkRlZWRVF2OUVMUXhkT2U5TXpDcHJSelVhaERPWklYSmw1VXRsVHJ0a0d2OUxLOS9Xbk56S296bzQ0RmU1RE9yejc0TW5vdXY1empPZW80T0VJM0RvN1FqWU1qZE9QZ0NCMkRJM1FNanRBeE9FTEg0QWdkZ3lOMERJN1FNVGhDeCtBSUhZTWpkQXlPMERFNFFzZmdDQjJESTNRTWp0QXhPRUxINEFnZGd5TjBESTdRTVRoQ3g2aWV2bmowWXUvUHZYc0lIR042ZXQ5b09YdVlvREdrM0YzRGQ0cVFNYUxhckJHMG00QXhubXBlM2plQ3poSXdobE9yU0RsdmhCd2dYSXpHN1djYnhqK3poaktZVjA0L09lTkUrM0wvZjBBTmxhVHJvMkhNNzVLZmpUYmt3eUFqYWVTbHl6WU5ZOVo1N3V4Rmp4QXVCbEtTQytybXpjL1M5V24rL3k1VUg5VzhiTW52K2p3alBmYW4yZG1QWHk0VE1FYmg3bDQ4bFFhWFB0clM5K1VLQVdNTWdlbFhaZWE2RFBoMG1vQXhoRm9sMUk4Yk1nQjZBbUlFTE1tMkVpL0l5NDZEQkkzMTE4ajcvWHFUU3VnRkZDRmdvTlVyYnF2S3R2MkVqVFVYbUg2Vkd2czZiMThnYkt5M2t2VDdOVUlEdHZRY0ozQ3NzNXIwNWF2aHNxWjdsTENiNEorQWd3UG1zbE9aekZRMnAyWmN2YXIwVldvY2tqZE5zOWswVGVnVmRNUGFyU21PbHMyMFpKV01xNWVYSGZXNmZEZFhlQndNNkVJT3VEbzJ1dFBCa2U1bE91NnBIVmNmc0c1TCtWWUlZYzI5Ky9xU0hTOExNNmJyK1FtQ3RHYXRVODh6YVA3NXNpckgxUWUwM1lhV2FCbWJtM3N6bVU1L01NMlpRanA5OHRyNWl3Um1hVHcxMHNZUmNwbVFuTnB4OVhzWStVRUVGZFBwOUhlMzM2UndIRDEyOGh6QldCNGZDWWllZ0NGWnRlUHFEeEgyZXhGa3BaMTJENTJIWjUxNWliS1lya2lOL0VuQXFVeklsTkx4aVVVSi9RaFJrUXVhMzRUcmdXaDVtQzRXaTg4bUo0WHZLZ0ZZa2h3SjR3aVpMdXJHSjI3ZFdKVGJkemlvK3NxTmFKdHZ3d0d0c2xVc2xxMnk4STB0SmQydFdaL3FOdlNBRXpjVzZYYjZEbmVwbFd6VENnVDB1QUZGaVBhTDZOSmtxc2ZRbDlCYml3L29GL1E5RnE0bmtRSGR2cGRJYnl1M3BIb05mUk56UTBIQVBnVUxDeE53NEF3OFExcUxwZm9aOWpGaVFrbkEzb0tGTVMvZ3RQQ1Z5NVlJR1NPZHhiZjBOYXlEdk9LQXZRWDU4ZXV5bUo0V1VaNDQ5MDJrcjNWYitodlNWMm1LQS9vRnd3M2ZuUmtZVU9QVHZOK3Z5M0MrekZZYk1Mb2d2eFJSSG1oOUVveVBSaG5LejBuS0EwWVhqQTZvOHpaMFc4SXhtaGoxT0JjQlBBVHFBMFlYdENJRGFyd05YWlVJUXduWXIyQTU2aVBRM2Q1WXBLWFZDZFNBZlFvK0d4UlFYQ2NOTGQrYzlDU1NDZWZtUFR1OGF3Zi94dDhkc0xmZ3c2Z1ZkUHJ0dC9jZnRQeUh6TVprRklDQVBRWGZpUDUrbU0yNmxJZElQeXVUMEFHN0M3NFcvYjIzcFdNZmFXZjU1dTBEOFcvODlRRzdDaFpFZjQvYWY5UGVzR3hGTEw0dUhsdXhjZ1BwSU9abDJyRjloOGU1YUwvMnJuY0FCQXdYL05YT2ZmMHFEY1VCSFA5Uk5zTEZnVGl1dVBlZWNlKzlFbWRpMUdoTTNQNFVUTjByempnVFRkUVk0NHh4dktsUFBobi9OZzh0MElKdFQ3Mzh4Qjc0Zlc1RGx6NTlROHM1NWQ2ZlJXZS9kTU9nMFhiRHNvR2ZYRXNPbDBBSkJRTFdGWHhYZERaQk55d2IzV0JJSnRpUGVWTjVDWlJRSWFBb0tKMUwwMDF6Qi8ycE93bUJsY3gzUkVCN3dhS2pkYnBwemlBbnVSQUVWQ3BmS09RTCtUb0Y0MWgxamQ0VUNXZ3J1S0RvWkpadW1qRElXUllDcVhkQjV2OEZ2SHJPN204QzNuUnkwWHNxWm9OZU1jakZzRURlQ21PRlhFRXN1VnhsYmFnNzl2OENYamx0YytOa3Myb0JYMGdDRG5HVGdNRHBsWk5EQ2VVQ09rL0ZiRjZzbTZZT2RoVzh5Mmk4RXdOK2R3NDRWemN0Ryt3dUFnR1Q2cFpEQ2VVQ09rL0Y3Sm1xbTFhTjhoQ3dndEh1VGd4NHEraGt5SUFKbFlIZ0FDOHhDSkt1RVQ2Z2hISUIzemtPQXdjTVdLRWJOZzd3RklZQWlXVjhRQW5sQXA1MUhBWU9IRGkzTXBJZjZHbFlId2lPVEVjR3hQZk9BWmZwaGhVRHZXVWdNTFRPRFBqNXRvUEp3NFlOMWcyTGgwa2s0TC9SUWwzeGNEZ2VEMmxRRnVwWEw5TXZreEV2RFZCQ3VZQVBTazRPRHg5dWpnUW5ESmZJYS9BL0pNTVJNNUFaS2hiWElHSHNOOFpyOTRCUEZwYWNITWpuNStpR2dYbUpDTFNjRms3OVdTYjE1N0ZPQ1BpNTVHaG1QcjlLTjB5MTV2TUYrM1oxUHdxdHBhVlRUVUFKMVFKK0tUa3JGQ3BEK2RVRm1iN1FTcjBTcVpTU0FVbFpBYWVYbkIzUDVjeWgvTEtjVEhjdmFKMWtOc1VCN1FHZmxwd2R6dVhNb2Z6Y25GUWNXaWFlYlJaS3FCYndWY25ad2U3dWplWlVUTGRVRmxvbGtlV0FEUUd2dXdVY01jSWN5czhaSVJlRmxvakdJakxaU0ZZc1hzZFFRcldBRDByT0ptWXlvOHlwbUl4Y0NGb2lGbWxDdXdaOFhYSzJVblF4aHZLTE0zSUphSVZFaEFQK1hVQmpLRDhoSXhlQlBsM3BTTFpmS2hKTGhPQWY2WXB3UUllQXo5d0Npa2tMODRGRXJwOWMxcjZUL2ljTmswT3JJa01qWWpIV2d2ZTIvZCtiMEMvNmI2V1I4QjFRREpsVzYyV0RVbjl0cUFiVW9qRWk2QmY5VEF5SnZ3bVlNYWRpVXA2eXFheFlVZzM2QXJFd0I1UUhYR2dQbUJYTWdXQzJKNFpHZ1pJVzQ0RHlnQy90d3doeEV4bG9QbENLOUl4Ry9RWk14OUlHc1NHVytyVWdWbTduYXVjRmxGQTU0S05TNlkwOTRGVGRNRFhTSTVUdlFTMU5vdDBEZml3OXYrTVFjRm1rWjlKQUpzNEJxN3htWWw3ZnVmTzhGbEI4NHE0RW5EdlVUV3hvckV5c0hQZkRRR1ZNM3pGOS95QU9pc1ZhTjV3VG5NNmpoTW9CSDlnRGlnNnI5VldyeXdGalBhVUJqZDYxTUltK0NiSDQyeFl2Z3JGZGsyanJnSzhhQWs3VkI4Wlc2UHFxV0UrRmdVWlhnZzc2UXgvdzNIa1NYZ0dmM3JsamZZZ1J0NHNSYzlMcFZXSWdtTzR4RFVnazJpRWdFYStBUCt3Qis1cEdpV0ZFM3g2TEE0Vm8yRk1pbkJCTDJDZVVVRG5nVzN2QTZoMWt6akxyam1KcFBPWjJEaWhvSXBMN2p4VlMvdFBlQVY5K3RRV2NraUNoMFh3SDFBZCtCNVllWGJ0enAxUUxHQ1lSQWdLaGNGUGFPK0IxMnpqK1NWQUR4Z21oaE1JQm4rRno4b0JkSEZBU2dqRGdkWHhwQ3hpbndRRWxJUWdEUHNWSHo0TVpzT3NQOGE2NFdCejJwWkFPL1VDKzJZQ3ZiUUc3YU5BRWJFNHdBdnFZU3J2UlhNQWZlTjBXc0Q4TmtvRDlDYUdFd2dHLzRTc3I0UGdRRFNDUUROWHBIK292RnFkOTkyTVdsRkE0NEZ0OHFrVEF2OVlwQWIvaWRBNklDZ2Y4Z04vZVdBR1ROSUJBYnc3b0srQWxmUHNYQVhzbmU0dkZiWnNEL29lQWlKOXRBWHZUSUFtWUpJUVM2Z1o4aWZpaFpBWFVhQUFCclMwQ1hqMG4xMVRBUjRnUEF4cXc4UUp0cmszV2Z1UGFPbWYvLytpRG1sTnByeEV2QnpZZ0haUlFMYUQxSzlZUEVQR2xGYkFQRFpLQWxGQkMzWUN2RVBHUkZUQktBd2owNFlCK0xxRlBFZkVqQjBTbEF6NnpBdmJ5SWRvckdoVXZYdmdTS2dsQkYzQzZzV2NGcEFFRStwaTBQcHBZbkxjRnNiS09PekRQdFYzQUI5YkRpTG83NG5nSWptZ2ZRaWlqYk1BdmRYKzNhUW9FUjVRU3lpZ1cwTHJydmEwTHVBbUNnd1A2Q3ZnWkVhZHpRTlVDdnJZOURrVDhFY2lBdlRpZ240QWZFUEZiTUFOU1FobkZBbHBEOTRkMWYvNTFDUVFIQi9RVjhBa2l2ZzFrUUZJb29WcEFhL1lUaGE4Y0VGVU4rQktGRHh3UVZRMzRDSVZySEZDVmdDY2JBMzVFNFZTcGFqYTBxWEhvVGRtQXI3R3MvUVB1UjIrcUJYeHBQWkEzZHRzKzRGTDBwbXpBNjFnMm8rMEQ5a01adFFJdXRIMmpRcGpaOWdIOXZBVlZDbGozUUI2WFRxN3VUb1oyRmQyR1hwUU91QzNhQVFFaHVoVGRxUmJ3c3YwYkZVdWpNTHNEQWdMMFc3cC9IUDVqZDZzdU5PTzhMT0E0SytEU2ZnQ3dwQ01DdGtLUnhBWFhmb3ZBTUw5VU5RbUFBNm9mY0ZOMWR5WXd0UUt1Z2JMeEhGQ3RnTXRMVmRNNElLbDFSUW92L0FkY0RtVTdPU0NSV2Y4NDRLN0dnUE9oYkZKMWR3YXdwbXdvVXJqbkduQUxHT2FWcXRaQzJSb09TT1JRa2NMOXEyNEJkemNFWEFpR2FSeVF5TDRpQ2RkZm05ZWNnODNqZ01HNkNkN3p2b0phQVdjMjNCTVhBbXZPaVNJSmw4bTBpRXRBYTF3SXJFbmJpeFErT2Q0RmowSEZtc2FwTXc1SVp1Mi9HMG5zZ2xyQUdRMFBjQmRXcnFCOEQyemV2bjlWY0pjR05jdlhueEcyVHBzSHBtbHJ6QVBBbXJlV2FEQjQxZkVEakduckdjTWtxQnBySGhnTGpNQmVramZoZ2d2Mk9iVGRZTFBqakdrMlZLMC9VMDNLU0JKdXA1Z1ZmZnppNWxXajNwYmRZRGZ2VE1YNlA0K3NCVVpqN2RHUkZJNGM2WTVDZzYxbnF1YUJhYWZZNW91b0tpYWRxWmxrM1FLcjVnTUx1UGs3eGxic3FOYWFWenUwRXhoampESEdHR09NTWNZWVk0d3h4aGhqakRIR0dHTi83emNXeWM5eXBWNXVKQUFBQUFCSlJVNUVya0pnZ2c9PVwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///75928\n");

/***/ }),

/***/ 31684:
/*!****************************************!*\
  !*** ./assets/images/props-locked.png ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALgAAABoCAMAAAB108raAAAAb1BMVEUAAADX3unW2ebX3ujY3+nk6OnW3OjZ3urX3eXX3OjZ3unX3efX3ejX3ujZ3uvY3eje3u/X3OfX3ejX3unX3ejW3ejX3ejY3ujX3ejh5/Pf5e/X3OjX3enX3enY3ejW3OjY3eji6PPW3OfK0NvQ1uBUAKD9AAAAIXRSTlMADgcbKgQgFSQnGDQ8QxI4CzE/LkdJ+Evo+si0aH1e2o9Ktf8OAAADNElEQVR42u3a21KrMBSA4ZVAoJwpKm2BHqB9/2fcTG0qrUAOpu7FmE9mqOjFL7MIOAO8BN2c6uO2LLfH+rShsBDpoS67gbI+pIBfvufVA+U+B9xYs+1GbRsGiDlVN6lyAK1s283YZoDUoexmlQdA6dAJoSzPyoclsCkCQoKiqR8OI5wWZztcQgjckWb4E3RXKKuGi/b00l5hWxWbweIxu9w0gEp+LzuG8wv8Ftc9dH/v8kSXwB4QSUs+35Fw0SkxPXEdJE7nHuNiXn8NsPgyqAENWsosGQ2fFTz/WWykxpfwP28DWJz4EMgN1AmwqOVuLg26IT/eihKYVfB7FGDB1wsPZgV87QEs+FXHYBbh1zBg0d1I/x4WNlzAhttwSTbchkuy4TZckg234ZL+cHhS7VpDdlUCvyZpjXpNOaMk9AmFocpseAXGkSDe3MQrAtzObPgODHOKjweFA59aw8CosHj/JvbRhzP3fdQbwx2ex8mEjGIOp3EyKc7xhtOsmJFRtOHrYtYb1nAvFkAaTuKFhruZyAvDaegF67XrORRU5RkXZdFVFvHvPz9HxsOHTxhc4RJQ4kUcz372onASfTyJVNLZOhJ4TTh1J27Ussha7AXhpEhGxanMgzehDMI3MfPhYTLJma/2PfdqFbhixsOdiegi6YUwLRXkaoTvusv5fOl2rQRSzPJhiuO6psO7803XimVFERfxgyIeHKNT3YEiccrlfHdphWIBF0b5q2DVb8EV/zzYc1/H5c4314nDswdxFvfbfd8LYQRdKRPO9/mBcM4zkTWMcDxlEidc6ZRH2chdOrt+3aTwDfXUSU24wpRHQiNTThx1opDzk1ZgLcbgmb+McALPQked6VF5E3NY2peGKfsK12D64nQVeISPigbTy6GrxGPa4aZvQIGaFYVeqsH0LT9QLWcAQDSYfshaqfK0w8V4eGs0nCMP4TnJ++0/hHvqGOQaEITnQDWYDnfUpUsN94FpMB0ealhuuA7T4b4GHOHplZ/63/QH+43vsYWnGlCEEw02/CfhuQa9cMOoBhv+J8OZBhv+E6DBhtvwARtuw385fDEvTA4t7BXVJb8UjPU17H+K3WpesHGw6wAAAABJRU5ErkJggg==\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzE2ODQuanMiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vYXNzZXRzL2ltYWdlcy9wcm9wcy1sb2NrZWQucG5nP2RmNzIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUxnQUFBQm9DQU1BQUFCMTA4cmFBQUFBYjFCTVZFVUFBQURYM3VuVzJlYlgzdWpZMytuazZPblczT2paM3VyWDNlWFgzT2paM3VuWDNlZlgzZWpYM3VqWjN1dlkzZWplM3UvWDNPZlgzZWpYM3VuWDNlalczZWpYM2VqWTN1algzZWpoNS9QZjVlL1gzT2pYM2VuWDNlblkzZWpXM09qWTNlamk2UFBXM09mSzBOdlExdUJVQUtEOUFBQUFJWFJTVGxNQURnY2JLZ1FnRlNRbkdEUThReEk0Q3pFL0xrZEorRXZvK3NpMGFIMWUybzlLdGY4T0FBQURORWxFUVZSNDJ1M2EyMUtyTUJTQTRaVkFvSndwS20yQkhxQjkvMmZjVEcwcXJVQU9wdTdGbUU5bXFPakZMN01JT0FPOEJOMmM2dU8yTExmSCtyU2hzQkRwb1M2N2diSStwSUJmdnVmVkErVStCOXhZcysxR2JSc0dpRGxWTjZseUFLMXMyODNZWm9EVW9leG1sUWRBNmRBSm9TelB5b2Nsc0NrQ1FvS2lxUjhPSTV3V1p6dGNRZ2pja1diNEUzUlhLS3VHaS9iMDBsNWhXeFdid2VJeHU5dzBnRXArTHp1Rzh3djhGdGM5ZEgvdjhrU1h3QjRRU1VzKzM1RncwU2t4UFhFZEpFN25IdU5pWG44TnNQZ3lxQUVOV3Nvc0dRMmZGVHovV1d5a3hwZndQMjhEV0p6NEVNZ04xQW13cU9WdUxnMjZJVC9laWhLWVZmQjdGR0RCMXdzUFpnVjg3UUVzK0ZYSFlCYmgxekJnMGQxSS94NFdObHpBaHR0d1NUYmNoa3V5NFRaY2tnMjM0WkwrY0hoUzdWcERkbFVDdnlacGpYcE5PYU1rOUFtRm9jcHNlQVhHa1NEZTNNUXJBdHpPYlBnT0RIT0tqd2VGQTU5YXc4Q29zSGovSnZiUmh6UDNmZFFid3gyZXg4bUVqR0lPcDNFeUtjN3hodE9zbUpGUnRPSHJZdFliMW5BdkZrQWFUdUtGaHJ1WnlBdkRhZWdGNjdYck9SUlU1UmtYWmRGVkZ2SHZQejlIeHNPSFR4aGM0UkpRNGtVY3ozNzJvbkFTZlR5SlZOTFpPaEo0VFRoMUoyN1Vzc2hhN0FYaHBFaEd4YW5NZ3plaERNSTNNZlBoWVRMSm1hLzJQZmRxRmJoaXhzT2RpZWdpNllVd0xSWGthb1R2dXN2NWZPbDJyUVJTelBKaGl1TzZwc083ODAzWGltVkZFUmZ4Z3lJZUhLTlQzWUVpY2NybGZIZHBoV0lCRjBiNXEyRFZiOEVWL3p6WWMxL0g1YzQzMTRuRHN3ZHhGdmZiZmQ4TFlRUmRLUlBPOS9tQmNNNHprVFdNY0R4bEVpZGM2WlJIMmNoZE9ydCszYVR3RGZYVVNVMjR3cFJIUWlOVFRoeDFvcER6azFaZ0xjYmdtYitNY0FMUFFrZWQ2VkY1RTNOWTJwZUdLZnNLMTJENjRuUVZlSVNQaWdiVHk2R3J4R1BhNGFadlFJR2FGWVZlcXNIMExUOVFMV2NBUURTWWZzaGFxZkswdzhWNGVHczBuQ01QNFRuSisrMC9oSHZxR09RYUVJVG5RRFdZRG5mVXBVc045NEZwTUIwZWFsaHV1QTdUNGI0R0hPSHBsWi82My9RSCs0M3ZzWVduR2xDRUV3MDIvQ2ZodVFhOWNNT29CaHYrSjhPWkJoditFNkRCaHR2d0FSdHV3Mzg1ZkRFdlRBNHQ3QlhWSmI4VWpQVTE3SCtLM1dwZXNIR3c2d0FBQUFCSlJVNUVya0pnZ2c9PVwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///31684\n");

/***/ }),

/***/ 67160:
/*!****************************************!*\
  !*** ./assets/images/table-billed.png ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZgAAAEACAMAAAC50JBJAAAAb1BMVEUAAADi4uLo6Ojd3d3////y8vLi4uL////6+vrZ2dmZmZm1tbX4+PidnZ3Nzc2wsLDAwMCrq6u5ubnS0tLw8PDl5eW9vb2oqKilpaXExMTKysrt7e3r6+vz8/OioqKfn5/19fXi4uLU1NTe3t7o6OiHDuK7AAAAB3RSTlMA89DQC05Omgim0gAAB5ZJREFUeNrs2t1u2kAQhmGgSfvt5/W/E4PLUgf7/q+xkFZKjkqcTrSzZt6DiDlAmtGjYA7YXHvcbZ2lpO3ucfOnh52zVLV7eHXZOjcHj0/lHJIpjV19mJ3bXmV2bgorPzaxXcPkvl2eL86FOzg2qV2Dc983OzffxbFJ7Tpf/mW2LtzHsSntGpzbOOfv49iUdvWvMHdybGK7GozKDEZpBqM0g1GawSjNYJRmMEozGKUZjNIMRmkGozSDUZrBKO0mTH0ageb0tI5jkUy3YDruAeT06zgWyXQLxrEBjqxXciyS6RbMgQVwZrWSY5FMt2AyPgEVzys5Fsn0L5ixqqqclz97NlXlP3psyMpsxDXflOUsOMrDRNhGAGbiu04fPhYFWb29EBzFYSJsIwEzt+0zD21bsm/bacHHQ0ZOAI5k7QVHeZgI2wg9Yw4MQMlq2bHhxP0I1MyPkqM4TIRtpGDKHvA5z8uOxURWKMiz5CgOE2EbMZj8GZjJeeGxOJBtzkZyFIeJsI0MjO+6Fw5dVzDvurDsWF+T7EfBUR4mwjYyMAXfVS47FhnJ0guO8jARtpGBGer6F/u63nNf18WyYweyISvBUR4mwjZiz5iaM/BM94kHaoaKdIKjPEyEbYRgPHMP9Py58NhjzlOAr5nPgqM8TIRtZGCeWAKBp4XHjj35AmAm+yA4ysNE2EYEpuABmNgsPLYhh7/vZyY4ysNE2EYEpuEEDCyWHTu8fW0pyUFwlIeJsI0EzMs0AvPULTvWX3r3UnCUh/mibezHGGve1WBUZjBKMxilGYzSDEZpBqM0g1GawSjNYJRmMEozGKUZjNIMRmkGozSDUZrBKM1glGYwSjMYpV1hLJUZjNIuMD/+o8u7kymtXQ1GZQajNINRmsEozWCUZjBKMxilGYzSDEZpBvObXTPITRgIguCxTa9tMGCMAw6Q/P+PUSJFHMmoo9kBTd3q1qu6jTYoGSYoGSYoGSYoGSYoGSYoGSYoGSYoGSYoGSYoGSYofwiz3MaXeSyehsdh2onHl3ksnobHYQozjAG3MDMzjAGvMOeBGcaAU5h2JjlfMowBlzBr8vIJa5i2lNLgh0MpZ5NCR9nqpmKYqZuvMIfBjtzgm57cGFVH2OqnYph+AWAPg0KOAPYdh8aoOsJWN1XC3LGHad95bIA1u71VdYStblorDEZygx25MquOsNVL64XBG/nR8WBXHWGrk9YMgzXJqbGrjrDVR+uG2ZJcw646wlYfrRqmJw/kbFcdYauP1gxzIwtmcmVWHWGrk9YLs7/w2KIZ2J2sqiNs9dJaYZqBHAGcOk6tUXWErW5aKcyW7H/vHVuj6ghb3bROmJ4s93tHb1LoKFvd9F/CLMv1ZU7peBryl0xQMkxQMkxQMkxQMkxQMkxQvti7YxoAAAAGYf5dY4OjtUCyd8JMCTMlzJQwU8JMCTMlzJQwU8JMCTMlzJQwU8JMCTPlpmRLmClTtiTMlDBTwkwJMyXMlDBTwkwJMyXMlDBTwkwJMyXMlDBTwkwJMyXMlDBTwkwJM1V795acNhAFYRgHx6NpJBsbMBcjEJb2v8ZI5ILzwOghxaTPof8VnKkv8a1c7jGYYnlql34eG8yUhil3R/RVu8LJY4OZkjDNGr96LXw8NpgpCfMKvH2EJh6ArY/HBjOlYNreJQytgIOPxwYzpWDegGU4twGWLh4bzJSCCd3i8ie29y42WfLdmuX7mPII1C42WfLdmgVmDsx8bLJkuzULzA6o9j42WbLdmgNmDuDkZJMl160ZYOpX4LDyssmS6dYMMMsNMCvdbLLkuTUDzP4IbB1tsoRL//2af4FZVaiip02WPLfeHKY+AidXmyyZbs2wHLvwtcmS69bbwjwDs/p3hYtNlmy33hKmwddWLjZZst16S5jl3zAuNlny3apfxnB7q2AoEwxpgiFNMKQJhjTBkCYY0gRDmmBIEwxpgiFNMKQJhjTBkCYY0gRDmmBIEwxpgiFNMKRppoQ2wZCmD2WUCYY0wZAmGNIEQ5pgSBMMaYIhTTCkCYY0wZAmGNIEQ5pgSBMMaYIhTTCkCYY0wZAmGNIEQ9oYTPGh/ZjsjcM02wp91a508thgptH9mGpdaT8me+P7MfMiFO1a+zGZS8N0wCwMRWDj47HBTCmYuEYbhooKaFw8Nphp5JN/Ec5VgI9NFku3foVJbGL52GSxdOsoTLGosKl9bLJYujUNs10fgWreONlksXRrGuYdfevnxskmi6Vb0zCrz8XuBTisfGyyWLr1ApMaxTiULjZZLN2ahrn8S3CxyWLp1hRMffl6ee5ik8XSrddh3g8ow7lPYOtik8XSrddh5n+2A2ZA62KTxdKt12H2+Ilf7IBN6WKTxdKt12FCBLCZzY5A1fnYZLF0awImnF5wbl472WSxdGsCpq9exfajcPOj9GAm/ZYMaYIhTTCkCYY0wZAmGNIEQ5pgSBMMaYIhTTCkCYY0wZAmGNJ6mFYwhPUwD7G8m8cGK5U9zLfY3cdjLd3axenke4zNXTzW0K1NjE+T/r9M29zBYw3d2rRxOplMHh9i7Ervj7Vza9nF+PA4GWSmUVE1HVyGnkRD1PRpMPkBXitvH6PdbmgAAAAASUVORK5CYII=\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjcxNjAuanMiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vYXNzZXRzL2ltYWdlcy90YWJsZS1iaWxsZWQucG5nPzc3MmIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQVpnQUFBRUFDQU1BQUFDNTBKQkpBQUFBYjFCTVZFVUFBQURpNHVMbzZPamQzZDMvLy8veTh2TGk0dUwvLy8vNit2cloyZG1abVptMXRiWDQrUGlkblozTnpjMndzTERBd01DcnE2dTV1Ym5TMHRMdzhQRGw1ZVc5dmIyb3FLaWxwYVhFeE1US3lzcnQ3ZTNyNit2ejgvT2lvcUtmbjUvMTlmWGk0dUxVMU5UZTN0N282T2lIRHVLN0FBQUFCM1JTVGxNQTg5RFFDMDVPbWdpbTBnQUFCNVpKUkVGVWVOcnMydDF1MmtBUWhtR2dTZnZ0NS9XL0U0UExVZ2Y3L3EreGtGWktqa3FjVHJTelp0NkRpRGxBbXRHallBN1lYSHZjYloybHBPM3VjZk9uaDUyelZMVjdlSFhaT2pjSGowL2xISklwalYxOW1KM2JYbVYyYmdvclB6YXhYY1BrdmwyZUw4NkZPemcycVYyRGM5ODNPemZmeGJGSjdUcGYvbVcyTHR6SHNTbnRHcHpiT09mdjQ5aVVkdld2TUhkeWJHSzdHb3pLREVacEJxTTBnMUdhd1NqTllKUm1NRW96R0tVWmpOSU1SbWtHb3pTRFVackJLTzBtVEgwYWdlYjB0STVqa1V5M1lEcnVBZVQwNnpnV3lYUUx4ckVCanF4WGNpeVM2UmJNZ1FWd1pyV1NZNUZNdDJBeVBnRVZ6eXM1RnNuMEw1aXhxcXFjbHo5N05sWGxQM3BzeU1wc3hEWGZsT1VzT01yRFJOaEdBR2JpdTA0ZlBoWUZXYjI5RUJ6RllTSnNJd0V6dCswekQyMWJzbS9iYWNISFEwWk9BSTVrN1FWSGVaZ0kyd2c5WXc0TVFNbHEyYkhoeFAwSTFNeVBrcU00VElSdHBHREtIdkE1ejh1T3hVUldLTWl6NUNnT0UyRWJNWmo4R1pqSmVlR3hPSkJ0emtaeUZJZUpzSTBNak8rNkZ3NWRWekR2dXJEc1dGK1Q3RWZCVVI0bXdqWXlNQVhmVlM0N0ZobkowZ3VPOGpBUnRwR0JHZXI2Ri91NjNuTmYxOFd5WXdleUlTdkJVUjRtd2paaXo1aWFNL0JNOTRrSGFvYUtkSUtqUEV5RWJZUmdQSE1QOVB5NThOaGp6bE9BcjVuUGdxTThUSVJ0WkdDZVdBS0JwNFhIamozNUFtQW0reUE0eXNORTJFWUVwdUFCbU5nc1BMWWhoNy92WnlZNHlzTkUyRVlFcHVFRURDeVdIVHU4ZlcwcHlVRndsSWVKc0kwRXpNczBBdlBVTFR2V1gzcjNVbkNVaC9taWJlekhHR3ZlMVdCVVpqQktNeGlsR1l6U0RFWnBCcU0wZzFHYXdTak5ZSlJtTUVvekdLVVpqTklNUm1rR296U0RVWnJCS00xZ2xHWXdTak1ZcFYxaExKVVpqTkl1TUQvK284dTdreW10WFExR1pRYWpOSU5SbXNFb3pXQ1VaakJLTXhpbEdZelNERVpwQnZPYlhUUElUUmdJZ3VDeFRhOXRNR0NNQXc2US9QK1BVU0pGSE1tb285a0JUZDNxMXF1NmpUWW9HU1lvR1NZb0dTWW9HU1lvR1NZb0dTWW9HU1lvR1NZb0dTWW9HU1lvZndpejNNYVhlU3llaHNkaDJvbkhsM2tzbm9iSFlRb3pqQUczTURNempBR3ZNT2VCR2NhQVU1aDJKamxmTW93Qmx6QnI4dklKYTVpMmxOTGdoME1wWjVOQ1I5bnFwbUtZcVp1dk1JZkJqdHpnbTU3Y0dGVkgyT3FuWXBoK0FXQVBnMEtPQVBZZGg4YW9Pc0pXTjFYQzNMR0hhZDk1YklBMXU3MVZkWVN0YmxvckRFWnlneDI1TXF1T3NOVkw2NFhCRy9uUjhXQlhIV0dyazlZTWd6WEpxYkdyanJEVlIrdUcyWkpjdzY0NndsWWZyUnFtSncva2JGY2RZYXVQMWd4ekl3dG1jbVZXSFdHcms5WUxzNy93MktJWjJKMnNxaU5zOWRKYVlacUJIQUdjT2s2dFVYV0VyVzVhS2N5VzdIL3ZIVnVqNmdoYjNiUk9tSjRzOTN0SGIxTG9LRnZkOUYvQ0xNdjFaVTdwZUJyeWwweFFNa3hRTWt4UU1reFFNa3hRTWt4UXZ0aTdZeG9BQUFBR1lmNWRZNE9qdFVDeWQ4Sk1DVE1sekpRd1U4Sk1DVE1sekpRd1U4Sk1DVE1sekpRd1U4Sk1DVFBscG1STG1DbFR0aVRNbERCVHdrd0pNeVhNbERCVHdrd0pNeVhNbERCVHdrd0pNeVhNbERCVHdrd0pNeVhNbERCVHdrd0pNMVY3OTVhY05oQUZZUmdIeDZOcEpCc2JNQmNqRUpiMnY4Wkk1SUx6d09naHhhVFBvZjhWbktrdjhhMWM3akdZWW5scWwzNGVHOHlVaGlsM1IvUlZ1OExKWTRPWmtqRE5Hcjk2TFh3OE5wZ3BDZk1LdkgyRUpoNkFyWS9IQmpPbFlOcmVKUXl0Z0lPUHh3WXpwV0RlZ0dVNHR3R1dMaDRiekpTQ0NkM2k4aWUyOXk0MldmTGRtdVg3bVBJSTFDNDJXZkxkbWdWbURzeDhiTEprdXpVTHpBNm85ajQyV2JMZG1nTm1EdURrWkpNbDE2MFpZT3BYNExEeXNzbVM2ZFlNTU1zTk1DdmRiTExrdVRVRHpQNEliQjF0c29STC8vMmFmNEZaVmFpaXAwMldQTGZlSEtZK0FpZFhteXlaYnMyd0hMdnd0Y21TNjliYndqd0RzL3AzaFl0TmxteTMzaEttd2RkV0xqWlpzdDE2UzVqbDN6QXVObG55M2FwZnhuQjdxMkFvRXd4cGdpRk5NS1FKaGpUQmtDWVkwZ1JEbW1CSUV3eHBnaUZOTUtRSmhqVEJrQ1lZMGdSRG1tQklFd3hwZ2lGTk1LUnBwb1Eyd1pDbUQyV1VDWVkwd1pBbUdOSUVRNXBnU0JNTWFZSWhUVENrQ1lZMHdaQW1HTklFUTVwZ1NCTU1hWUloVFRDa0NZWTB3WkFtR05JRVE5b1lUUEdoL1pqc2pjTTAyd3A5MWE1MDh0aGdwdEg5bUdwZGFUOG1lK1A3TWZNaUZPMWErekdaUzhOMHdDd01SV0RqNDdIQlRDbVl1RVliaG9vS2FGdzhOcGhwNUpOL0VjNVZnSTlORmt1M2ZvVkpiR0w1MkdTeGRPc29UTEdvc0tsOWJMSll1alVOczEwZmdXcmVPTmxrc1hSckd1WWRmZXZueHNrbWk2VmIwekNyejhYdUJUaXNmR3l5V0xyMUFwTWF4VGlVTGpaWkxOMmFocm44UzNDeHlXTHAxaFJNZmZsNmVlNWlrOFhTcmRkaDNnOG93N2xQWU90aWs4WFNyZGRoNW4rMkEyWkE2MktUeGRLdDEySDIrSWxmN0lCTjZXS1R4ZEt0MTJGQ0JMQ1p6WTVBMWZuWVpMRjBhd0ltbkY1d2JsNDcyV1N4ZEdzQ3BxOWV4ZmFqY1BPajlHQW0vWllNYVlJaFRUQ2tDWVkwd1pBbUdOSUVRNXBnU0JNTWFZSWhUVENrQ1lZMHdaQW1HTko2bUZZd2hQVXdEN0c4bThjR0s1VTl6TGZZM2NkakxkM2F4ZW5rZTR6TlhUelcwSzFOakUrVC9yOU0yOXpCWXczZDJyUnhPcGxNSGg5aTdFcnZqN1Z6YTluRitQQTRHV1NtVVZFMUhWeUdua1JEMVBScE1Qa0JYaXR2SDZQZGJtZ0FBQUFBU1VWT1JLNUNZSUk9XCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///67160\n");

/***/ }),

/***/ 62268:
/*!***************************************!*\
  !*** ./assets/images/table-blank.png ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZgAAAEACAMAAAC50JBJAAAAZlBMVEUAAADf39/o6Oj////k5OTc3Nzd3d3y8vLi4uL////6+vrZ2dmZmZnz8/Ompqbo6Oifn5/4+PicnJz19fXU1NTCwsK4uLjj4+PGxsbb29upqamurq6ioqKxsbHu7u6+vr7Pz8/Kyso7+HZuAAAACXRSTlMA/tAL7dLNTk5icRcsAAAF4UlEQVR42uzdXW7iQBBFYWB+Mq6uxhhswDgEsv9NTpJ5yZM7zEjMreacFdTVJ9ESQmLx3tNqOSaSaFyunhZ/+rZKJNXq24fL95Ta3NlflZKFKcatXW5T+v4us0pjrnxssFvzmH68vS8p5QcYG+rWnNKvxSq1DzE21K1t+rlYpvwYYyPdmlNajKl7jLGRbu3eYFJ6kLHBbgVGMmBEA0Y0YEQDRjRgRANGNGBEA0Y0YEQDRjRgRANGtCLM6Xlntn9u6xhrYSrBvPjazDbe1THWwlSCGX1v1vqpkrEWphLM0a9mvV8qGWthKsGc/WA2eF/JWAvTHMxuGIatX4Zh7fth6GoYa2Gag1n6p56rGGthmoNp+/7ix74/+7rvxyrGWpgKb8zRs9nZh1rGWpgKMOeTWbf1vpaxFqYCzOZi1rq3tYy1MM3AdDkf/DXnq29fcq5jrIVpBubqnzrXMdbCNAPzOk0bP03T2tfTdK1jrIVp/o2ZvDW7eKpmrIVpFqbbbjuzk79UM9bCNAtz8LNZ9ud6xlqYZmGufjRb+r6esRamWZi9Lz+++K9nrIVpFuYw7sza8aWesRYmfowhGjCiASMaMKIBIxowogEjGjCiASMaMKIBIxowogEjGjCiASMaMKIBIxowogEjGjCivcOQZMCI9gbT/EMpNWGKdSswkgEjGjCiASMaMKIBIxowogEjGjCiASMaMKIBIxowogEjGjCiASMaMKIBIxowogEj2hdg8qGtZmwTpjJMd/J1NWObMJVh9g7M/SvDDA7M3SvDtJMDc+/KMN3R3Y8bYO5bGWZy3ywbYO5cGea0HXYNMPeuDHPNTQPMf6j8+APz5YABBphbAgYYYG4JGGCAuSVggAHmloABBphbuj9MzrtqxjZh4lcyogEjGjCiASMaMKIBIxowogEjGjCiASMaMKIBIxowogEjGjCiASMaMKIBIxowogEjGn9TIhswovFRJhkwogEjGjCiASMaMKIBIxowogEjGjCiASMaMKIBIxowogEjGjCiASMaMKIBIxowogEj2u/27m03bSiIwrBdkjTjvXw2NhAD8fu/ZB3c9nLvSJXcmWF917nw0q8AQkiTClPcpvzmZ6yYEQ/TLg1W3VI4GStmRMP0FX67FD7GihnRMBdgrKUPM3DyMVbMiIXJgVG+1MDsY6yYEQszAqU8VEDpYqyYEQsj9SCbD6B2MVbM2MIktA3/Y5L+R5gjMPoYK2Z8J8wCdLWPsWLGN8IcgW5yMlbMSIYpP4C59jJWzEiFuVXA2LoZK2YkwtQzcHI0VsyIh5kadMHTWDEjGqZcu0yuxooZ0TBXYPA1VsyIhfkExvKPwsVYMSMSpu/wF78rS9ovzA0M82/4YwyXz8owKjGMUgyjFMMoxTBKMYxSDKMUwyjFMEoxjFIMoxTDKMUwSjGMUgyjFMMoxTBKMYxSDKMUwyjFMyVqMYxSfClTiWGUYhilGEYphlGKYZRiGKUYRimGUYphlGIYpRhGKYZRimGUYhilGEYphlGKYZRiGKUYRimGUSoVpqh5P2Z36TD9qcGqWVonY8WM5P2Y7tLwfsy+0mE+gGMhRX7h/Zi0HcPUwHX7I6DyMVbMiIUJFc7ypWiA3sVYMSPx5l/IQ4fOx1gxYwuTkPNMyX6+H6YYGlSlj7FiRirM6TID3bF3MlbMSIW5Y1UtDJO0c5hpGE5XYObFpZ1tYRKmDnPrYqyYsYVJWYDBxVgxIx6mlE0O3F2MFTNiYe4zWnkYgJOLsWJGNAzwKQ8jcHYxVsyIham77RBWsQAV3/wTdgwjAUA1XhseKN1Z+njcFV+6e+lkrJiR+rhcTiG/FW7Gihn8lYxSDKMUwyjFMEoxjFIMoxTDKMUwSjGMUgyjFMMoxTBKMYxSDKPUGubMMAqtYfLQPs1YsaJdw/wI9XOMtfSsdXjLfp5D/xRjDT1rH8J7lv0Ief8EYw09a5+H1yzLDi8h1K33sXaeta1DeDlkq8NrIFVeD9nm/S2QGm/v2eoXDlT1L9hoSkAAAAAASUVORK5CYII=\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjIyNjguanMiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9jb2RlLWRlc2lnbmVyLy4vYXNzZXRzL2ltYWdlcy90YWJsZS1ibGFuay5wbmc/ZTgyZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBWmdBQUFFQUNBTUFBQUM1MEpCSkFBQUFabEJNVkVVQUFBRGYzOS9vNk9qLy8vL2s1T1RjM056ZDNkM3k4dkxpNHVMLy8vLzYrdnJaMmRtWm1abno4L09tcHFibzZPaWZuNS80K1BpY25KejE5ZlhVMU5UQ3dzSzR1TGpqNCtQR3hzYmIyOXVwcWFtdXJxNmlvcUt4c2JIdTd1Nit2cjdQejgvS3lzbzcrSFp1QUFBQUNYUlNUbE1BL3RBTDdkTE5UazVpY1Jjc0FBQUY0VWxFUVZSNDJ1emRYVzdpUUJCRllXQitNcTZ1eGhoc3dEZ0VzdjlOVHBKNXlaTTd6RWpNcmVhY0ZkVFZKOUVTUW1MeDN0TnFPU2FTYUZ5dW5oWi8rclpLSk5YcTI0Zkw5NVRhM05sZmxaS0ZLY2F0WFc1VCt2NHVzMHBqcm54c3NGdnptSDY4dlM4cDVRY1lHK3JXbk5LdnhTcTFEekUyMUsxdCtybFlwdndZWXlQZG1sTmFqS2w3akxHUmJ1M2VZRko2a0xIQmJnVkdNbUJFQTBZMFlFUURSalJnUkFOR05HQkVBMFkwWUVRRFJqUmdSQU5HdENMTTZYbG50bjl1NnhocllTckJ2UGphekRiZTFUSFd3bFNDR1gxdjF2cXBrckVXcGhMTTBhOW12VjhxR1d0aEtzR2MvV0EyZUYvSldBdlRITXh1R0lhdFg0Wmg3ZnRoNkdvWWEyR2FnMW42cDU2ckdHdGhtb05wKy83aXg3NC8rN3J2eHlyR1dwZ0tiOHpSczluWmgxckdXcGdLTU9lVFdiZjF2cGF4RnFZQ3pPWmkxcnEzdFl5MU1NM0FkRGtmL0RYbnEyOWZjcTVqcklWcEJ1YnFuenJYTWRiQ05BUHpPazBiUDAzVDJ0ZlRkSzFqcklWcC9vMlp2RFc3ZUtwbXJJVnBGcWJiYmp1ems3OVVNOWJDTkF0ejhMTlo5dWQ2eGxxWVptR3VmalJiK3I2ZXNSYW1XWmk5THorKytLOW5ySVZwRnVZdzdzemE4YVdlc1JZbWZvd2hHakNpQVNNYU1LSUJJeG93b2dFakdqQ2lBU01hTUtJQkl4b3dvZ0VqR2pDaUFTTWFNS0lCSXhvd29nRWpHakNpdmNPUVpNQ0k5Z2JUL0VNcE5XR0tkU3N3a2dFakdqQ2lBU01hTUtJQkl4b3dvZ0VqR2pDaUFTTWFNS0lCSXhvd29nRWpHakNpQVNNYU1LSUJJeG93b2dFajJoZGc4cUd0Wm13VHBqSk1kL0oxTldPYk1KVmg5ZzdNL1N2RERBN00zU3ZEdEpNRGMrL0tNTjNSM1k4YllPNWJHV1p5M3l3YllPNWNHZWEwSFhZTk1QZXVESFBOVFFQTWY2ajgrQVB6NVlBQkJwaGJBZ1lZWUc0SkdHQ0F1U1ZnZ0FIbWxvQUJCcGhidWo5TXpydHF4alpoNGxjeW9nRWpHakNpQVNNYU1LSUJJeG93b2dFakdqQ2lBU01hTUtJQkl4b3dvZ0VqR2pDaUFTTWFNS0lCSXhvd29nRWpHbjlUSWhzd292RlJKaGt3b2dFakdqQ2lBU01hTUtJQkl4b3dvZ0VqR2pDaUFTTWFNS0lCSXhvd29nRWpHakNpQVNNYU1LSUJJeG93b2dFajJ1LzI3bTAzYlNpSXdyQmRralRqdlh3Mk5oQUQ4ZnUvWkIzYzluTHZTSlhjbVdGOTE3bncwcThBUWtpVENsUGNwdnptWjZ5WUVRL1RMZzFXM1ZJNEdTdG1STVAwRlg2N0ZEN0dpaG5STUJkZ3JLVVBNM0R5TVZiTWlJWEpnVkcrMU1Ec1k2eVlFUXN6QXFVOFZFRHBZcXlZRVFzajlTQ2JENkIyTVZiTTJNSWt0QTMvWTVMK1I1Z2pNUG9ZSzJaOEo4d0NkTFdQc1dMR044SWNnVzV5TWxiTVNJWXBQNEM1OWpKV3pFaUZ1VlhBMkxvWksyWWt3dFF6Y0hJMFZzeUloNWthZE1IVFdERWpHcVpjdTB5dXhvb1owVEJYWVBBMVZzeUloZmtFeHZLUHdzVllNU01TcHUvd0Y3OHJTOW92ekEwTTgyLzRZd3lYejhvd0tqR01VZ3lqRk1Nb3hUQktNWXhTREtNVXd5akZNRW94akZJTW94VERLTVV3U2pHTVVneWpGTU1veFRCS01ZeFNES01Vd3lqRk15VnFNWXhTZkNsVGlXR1VZaGlsR0VZcGhsR0tZWlJpR0tVWVJpbUdVWXBobEdJWXBSaEdLWVpSaW1HVVloaWxHRVlwaGxHS1laUmlHS1VZUmltR1VTb1ZwcWg1UDJaMzZURDlxY0dxV1Zvblk4V001UDJZN3RMd2ZzeSswbUUrZ0dNaFJYN2gvWmkwSGNQVXdIWDdJNkR5TVZiTWlJVUpGYzd5cFdpQTNzVllNU1B4NWwvSVE0Zk94MWd4WXd1VGtQTk15WDYrSDZZWUdsU2xqN0ZpUmlyTTZUSUQzYkYzTWxiTVNJVzVZMVV0REpPMGM1aHBHRTVYWU9iRnBaMXRZUkttRG5QcllxeVlzWVZKV1lEQnhWZ3hJeDZtbEUwTzNGMk1GVE5pWWU0eldua1lnSk9Mc1dKR05BendLUThqY0hZeFZzeUloYW03N1JCV3NRQVYzL3dUZGd3akFVQTFYaHNlS04xWituamNGVis2ZStsa3JKaVIrcmhjVGlHL0ZXN0dpaG44bFl4U0RLTVV3eWpGTUVveGpGSU1veFRES01Vd1NqR01VZ3lqRk1Nb3hUQktNWXhTREtQVUd1Yk1NQXF0WWZMUVBzMVlzYUpkdy93STlYT010ZlNzZFhqTGZwNUQveFJqRFQxckg4SjdsdjBJZWY4RVl3MDlhNStIMXl6TERpOGgxSzMzc1hhZXRhMURlRGxrcThOcklGVmVEOW5tL1MyUUdtL3YyZW9YRGxUMUw5aG9Ta0FBQUFBQVNVVk9SSzVDWUlJPVwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///62268\n");

/***/ })

}]);